/*! For license information please see main.eaaf1e5a.js.LICENSE.txt */
!function(){var e={9451:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetUserProject=t.InitiateAdminAction=void 0;var n=r(58285),i=r(35479);t.InitiateAdminAction=new n.ApiEndpointCaller(i.PRESET_INITIATE_ADMIN_ACTION_OPTIONS),t.GetUserProject=new n.ApiEndpointCaller(i.PRESET_GET_USER_PROJECT_OPTIONS)},14864:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteBrand=t.UpsertBrand=void 0;var n=r(58285),i=r(87067);t.UpsertBrand=new n.ApiEndpointCaller(i.PRESET_UPSERT_BRAND_OPTIONS),t.DeleteBrand=new n.ApiEndpointCaller(i.PRESET_DELETE_BRAND_OPTIONS)},36799:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteApiKey=t.CreateApiKey=t.GetWorkspaceApiKeys=t.SetApiEnabled=void 0;var n=r(58285),i=r(48746);t.SetApiEnabled=new n.ApiEndpointCaller(i.PRESET_SET_API_ENABLED_OPTIONS),t.GetWorkspaceApiKeys=new n.ApiEndpointCaller(i.PRESET_GET_WORKSPACE_API_KEYS_OPTIONS),t.CreateApiKey=new n.ApiEndpointCaller(i.PRESET_CREATE_API_KEY_OPTIONS),t.DeleteApiKey=new n.ApiEndpointCaller(i.PRESET_DELETE_API_KEY_OPTIONS)},64698:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenerateImage=t.TextToImage=void 0;var n=r(58285),i=r(95341);t.TextToImage=new n.ApiEndpointCaller(i.PRESET_TEXT_TO_IMAGE_OPTIONS),t.GenerateImage=new n.ApiEndpointCaller(i.PRESET_GENERATE_IMAGE_OPTIONS)},32823:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SetExportVisibility=t.ViewExport=t.CreateUnfulfilledExport=void 0;var n=r(58285),i=r(90615);t.CreateUnfulfilledExport=new n.ApiEndpointCaller(i.PRESET_CREATE_UNFULFILLED_EXPORT_OPTIONS),t.ViewExport=new n.ApiEndpointCaller(i.PRESET_VIEW_EXPORT_OPTIONS),t.SetExportVisibility=new n.ApiEndpointCaller(i.PRESET_SET_EXPORT_VISIBILITY_OPTIONS)},62603:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkJobMetadataKey=t.InitiateJob=void 0;var n=r(58285),i=r(30168);t.InitiateJob=new n.ApiEndpointCaller(i.PRESET_INITIATE_JOB_OPTIONS),t.MarkJobMetadataKey=new n.ApiEndpointCaller(i.PRESET_MARK_JOB_METADATA_KEY_OPTIONS)},20792:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HydrateAssets=t.SearchLibrary=void 0;var n=r(58285),i=r(14406);t.SearchLibrary=new n.ApiEndpointCaller(i.PRESET_SEARCH_LIBRARY_OPTIONS),t.HydrateAssets=new n.ApiEndpointCaller(i.PRESET_HYDRATE_ASSETS_OPTIONS)},31665:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecuteLocalTesterCommand=void 0;var n=r(58285),i=r(50516);t.ExecuteLocalTesterCommand=new n.ApiEndpointCaller(i.PRESET_EXECUTE_LOCAL_TESTER_COMMAND_OPTIONS)},43221:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecuteManagerAction=void 0;var n=r(58285),i=r(37230);t.ExecuteManagerAction=new n.ApiEndpointCaller(i.PRESET_EXECUTE_MANAGER_ACTION_OPTIONS)},33820:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenerateTitle=t.WriteVideoScript=void 0;var n=r(58285),i=r(89803);t.WriteVideoScript=new n.ApiEndpointCaller(i.PRESET_WRITE_VIDEO_SCRIPT_OPTIONS),t.GenerateTitle=new n.ApiEndpointCaller(i.PRESET_GENERATE_TITLE_OPTIONS)},24471:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoidInvoice=t.RenewSubscription=t.GetPromotionCodeSummary=t.CreateCustomerPortalSession=t.ChangeSubscription=t.PurchaseSubscription=void 0;var n=r(58285),i=r(50826);t.PurchaseSubscription=new n.ApiEndpointCaller(i.PRESET_PURCHASE_SUBSCRIPTION_OPTIONS),t.ChangeSubscription=new n.ApiEndpointCaller(i.PRESET_CHANGE_SUBSCRIPTION_OPTIONS),t.CreateCustomerPortalSession=new n.ApiEndpointCaller(i.PRESET_CREATE_CUSTOMER_PORTAL_SESSION_OPTIONS),t.GetPromotionCodeSummary=new n.ApiEndpointCaller(i.PRESET_GET_PROMOTION_CODE_SUMMARY_OPTIONS),t.RenewSubscription=new n.ApiEndpointCaller(i.PRESET_RENEW_SUBSCRIPTION_OPTIONS),t.VoidInvoice=new n.ApiEndpointCaller(i.PRESET_VOID_INVOICE_OPTIONS)},1904:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteProjects=t.GenerateProject=void 0;var n=r(58285),i=r(23899);t.GenerateProject=new n.ApiEndpointCaller(i.PRESET_GENERATE_PROJECT_OPTIONS),t.DeleteProjects=new n.ApiEndpointCaller(i.PRESET_DELETE_PROJECTS_OPTIONS)},30361:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteWorkspaceStorageFiles=t.ConfirmWorkspaceStorageFilesUpload=t.HydrateWorkspaceStorageFiles=t.GetHydratedWorkspaceStorageFiles=void 0;var n=r(58285),i=r(51137);t.GetHydratedWorkspaceStorageFiles=new n.ApiEndpointCaller(i.PRESET_GET_HYDRATED_WORKSPACE_STORAGE_FILES_OPTIONS),t.HydrateWorkspaceStorageFiles=new n.ApiEndpointCaller(i.PRESET_HYDRATE_WORKSPACE_STORAGE_FILES_OPTIONS),t.ConfirmWorkspaceStorageFilesUpload=new n.ApiEndpointCaller(i.PRESET_CONFIRM_WORKSPACE_STORAGE_FILES_UPLOAD_OPTIONS),t.DeleteWorkspaceStorageFiles=new n.ApiEndpointCaller(i.PRESET_DELETE_WORKSPACE_STORAGE_FILES_OPTIONS)},7239:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenerateSubtitles=void 0;var n=r(58285),i=r(86667);t.GenerateSubtitles=new n.ApiEndpointCaller(i.PRESET_GENERATE_SUBTITLES_OPTIONS)},51813:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClaimFreeAccessCode=t.SetWorkspaceSegments=t.CompleteOnboardingTask=t.DeleteAccount=t.CreateWorkspace=void 0;var n=r(58285),i=r(78773);t.CreateWorkspace=new n.ApiEndpointCaller(i.PRESET_CREATE_WORKSPACE_OPTIONS),t.DeleteAccount=new n.ApiEndpointCaller(i.PRESET_ARCHIVE_WORKSPACE_OPTIONS),t.CompleteOnboardingTask=new n.ApiEndpointCaller(i.PRESET_COMPLETE_ONBOARDING_TASK_OPTIONS),t.SetWorkspaceSegments=new n.ApiEndpointCaller(i.PRESET_SET_WORKSPACE_SEGMENTS_OPTIONS),t.ClaimFreeAccessCode=new n.ApiEndpointCaller(i.PRESET_CLAIM_FREE_ACCESS_CODE_OPTIONS)},35479:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESET_GET_USER_PROJECT_OPTIONS=t.PRESET_INITIATE_ADMIN_ACTION_OPTIONS=void 0;var n=r(42217),i=r(27820),a=r(58503);t.PRESET_INITIATE_ADMIN_ACTION_OPTIONS={serverName:"backend",route:"/admin",relativePath:"/initiate-admin-action",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsInitiateAdminActionReqArgs,castAsResData:a.castAsInitiateAdminActionResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.ADMIN,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!0,allowTmpFiles:!0,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null},t.PRESET_GET_USER_PROJECT_OPTIONS={serverName:"backend",route:"/admin",relativePath:"/get-user-project",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsGetUserProjectReqArgs,castAsResData:a.castAsGetUserProjectResData,serverTimeoutSeconds:60,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.ADMIN,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!0,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null}},87067:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESET_DELETE_BRAND_OPTIONS=t.PRESET_UPSERT_BRAND_OPTIONS=void 0;var n=r(42217),i=r(27820),a=r(9054);t.PRESET_UPSERT_BRAND_OPTIONS={serverName:"backend",route:"/brand",relativePath:"/upsert-brand",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsUpsertBrandReqArgs,castAsResData:a.castAsUpsertBrandResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.PRO,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:"create a brand",upgradeToIncreaseMessage:"create more brands",endpointCallerCacheOptions:null},t.PRESET_DELETE_BRAND_OPTIONS={serverName:"backend",route:"/brand",relativePath:"/delete-brand",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsDeleteBrandReqArgs,castAsResData:a.castAsDeleteBrandResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null}},48746:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESET_DELETE_API_KEY_OPTIONS=t.PRESET_CREATE_API_KEY_OPTIONS=t.PRESET_GET_WORKSPACE_API_KEYS_OPTIONS=t.PRESET_SET_API_ENABLED_OPTIONS=void 0;var n=r(42217),i=r(27820),a=r(67757);t.PRESET_SET_API_ENABLED_OPTIONS={serverName:"backend",route:"/developer",relativePath:"/set-api-enabled",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsSetApiEnabledReqArgs,castAsResData:a.castAsSetApiEnabledResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.BUSINESS,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:"enable the VideoGen external API",upgradeToIncreaseMessage:"enable the VideoGen external API",endpointCallerCacheOptions:null},t.PRESET_GET_WORKSPACE_API_KEYS_OPTIONS={serverName:"backend",route:"/developer",relativePath:"/get-workspace-api-keys",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsGetWorkspaceApiKeysReqArgs,castAsResData:a.castAsGetWorkspaceApiKeysResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.BUSINESS,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:"get VideoGen API keys",upgradeToIncreaseMessage:"get VideoGen API keys",endpointCallerCacheOptions:null},t.PRESET_CREATE_API_KEY_OPTIONS={serverName:"backend",route:"/developer",relativePath:"/create-api-key",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsCreateApiKeyReqArgs,castAsResData:a.castAsCreateApiKeyResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.BUSINESS,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:"create a VideoGen API key",upgradeToIncreaseMessage:"create a VideoGen API key",endpointCallerCacheOptions:null},t.PRESET_DELETE_API_KEY_OPTIONS={serverName:"backend",route:"/developer",relativePath:"/delete-api-key",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsDeleteApiKeyReqArgs,castAsResData:a.castAsDeleteApiKeyResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null}},95341:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESET_GENERATE_IMAGE_OPTIONS=t.PRESET_TEXT_TO_IMAGE_OPTIONS=void 0;var n=r(42217),i=r(27820),a=r(49567);t.PRESET_TEXT_TO_IMAGE_OPTIONS={serverName:"backend",route:"/diffusion",relativePath:"/text-to-image",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsTextToImageReqArgs,castAsResData:a.castAsTextToImageResData,serverTimeoutSeconds:180,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:"generate AI Artist images",upgradeToIncreaseMessage:"generate more AI Artist images",endpointCallerCacheOptions:null},t.PRESET_GENERATE_IMAGE_OPTIONS={serverName:"backend",route:"/diffusion",relativePath:"/generate-image",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsGenerateImageReqArgs,castAsResData:a.castAsGenerateImageResData,serverTimeoutSeconds:60,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.PRO,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!0,upgradeToEnableMessage:"generate images",upgradeToIncreaseMessage:"generate more images",endpointCallerCacheOptions:null}},90615:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESET_SET_EXPORT_VISIBILITY_OPTIONS=t.PRESET_VIEW_EXPORT_OPTIONS=t.PRESET_CREATE_UNFULFILLED_EXPORT_OPTIONS=void 0;var n=r(58285),i=r(42217),a=r(27820),o=r(63670);t.PRESET_CREATE_UNFULFILLED_EXPORT_OPTIONS={serverName:"backend",route:"/export",relativePath:"/create-unfulfilled-export",httpMethod:i.HTTPMethod.POST,reqContentType:i.ReqContentType.JSON,resContentType:i.ResContentType.JSON,castAsReqArgs:o.castAsCreateUnfulfilledExportReqArgs,castAsResData:o.castAsCreateUnfulfilledExportResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:a.WorkspaceAuthLevel.STARTER,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:"download and share videos",upgradeToIncreaseMessage:"download and share more videos",endpointCallerCacheOptions:null},t.PRESET_VIEW_EXPORT_OPTIONS={serverName:"backend",route:"/export",relativePath:"/view-export",httpMethod:i.HTTPMethod.POST,reqContentType:i.ReqContentType.JSON,resContentType:i.ResContentType.JSON,castAsReqArgs:o.castAsViewExportReqArgs,castAsResData:o.castAsViewExportResData,serverTimeoutSeconds:30,requireUserRecord:!1,requireVerifiedEmail:!1,minimumWorkspaceAuthLevel:null,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:{maxCachedResults:1,maxCacheSeconds:300,isWorkspaceContextCacheMatch:n.isWorkspaceContextCacheMatchByWorkspaceId}},t.PRESET_SET_EXPORT_VISIBILITY_OPTIONS={serverName:"backend",route:"/export",relativePath:"/set-export-visibility",httpMethod:i.HTTPMethod.POST,reqContentType:i.ReqContentType.JSON,resContentType:i.ResContentType.JSON,castAsReqArgs:o.castAsSetExportVisibilityReqArgs,castAsResData:o.castAsSetExportVisibilityResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:a.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null}},30168:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESET_MARK_JOB_METADATA_KEY_OPTIONS=t.PRESET_INITIATE_JOB_OPTIONS=void 0;var n=r(42217),i=r(27820),a=r(7434);t.PRESET_INITIATE_JOB_OPTIONS={serverName:"backend",route:"/job",relativePath:"/initiate-job",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsInitiateJobReqArgs,castAsResData:a.castAsInitiateJobResData,serverTimeoutSeconds:120,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!0,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null},t.PRESET_MARK_JOB_METADATA_KEY_OPTIONS={serverName:"backend",route:"/job",relativePath:"/mark-job-metadata-key",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsMarkJobMetadataKeyReqArgs,castAsResData:a.castAsMarkJobMetadataKeyResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!0,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null}},14406:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESET_HYDRATE_ASSETS_OPTIONS=t.PRESET_SEARCH_LIBRARY_OPTIONS=void 0;var n=r(69806),i=r(58285),a=r(42217),o=r(27820),s=r(3566);t.PRESET_SEARCH_LIBRARY_OPTIONS={serverName:"backend",route:"/library",relativePath:"/search-library",httpMethod:a.HTTPMethod.POST,reqContentType:a.ReqContentType.JSON,resContentType:a.ResContentType.JSON,castAsReqArgs:s.castAsSearchLibraryReqArgs,castAsResData:s.castAsSearchLibraryResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:o.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:"search for videos",upgradeToIncreaseMessage:"search for more videos",endpointCallerCacheOptions:{maxCachedResults:10,maxCacheSeconds:n.SECONDS_PER_DAY,isWorkspaceContextCacheMatch:i.isWorkspaceContextCacheMatchByWorkspaceId}},t.PRESET_HYDRATE_ASSETS_OPTIONS={serverName:"backend",route:"/library",relativePath:"/hydrate-assets",httpMethod:a.HTTPMethod.POST,reqContentType:a.ReqContentType.JSON,resContentType:a.ResContentType.JSON,castAsReqArgs:s.castAsHydrateAssetsReqArgs,castAsResData:s.castAsHydrateAssetsResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:o.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null}},50516:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESET_EXECUTE_LOCAL_TESTER_COMMAND_OPTIONS=void 0;var n=r(42217),i=r(27820),a=r(17630);t.PRESET_EXECUTE_LOCAL_TESTER_COMMAND_OPTIONS={serverName:"backend",route:"/local-test",relativePath:"/execute-local-tester-command",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsExecuteLocalTesterCommandReqArgs,castAsResData:a.castAsExecuteLocalTesterCommandResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null}},37230:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESET_EXECUTE_MANAGER_ACTION_OPTIONS=void 0;var n=r(42217),i=r(27820),a=r(17660);t.PRESET_EXECUTE_MANAGER_ACTION_OPTIONS={serverName:"backend",route:"/manager",relativePath:"/execute-manager-action",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsExecuteManagerActionReqArgs,castAsResData:a.castAsExecuteManagerActionResData,serverTimeoutSeconds:60,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null}},89803:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESET_GENERATE_TITLE_OPTIONS=t.PRESET_WRITE_VIDEO_SCRIPT_OPTIONS=void 0;var n=r(34250),i=r(42217),a=r(27820),o=r(89661);t.PRESET_WRITE_VIDEO_SCRIPT_OPTIONS={serverName:"backend",route:"/nlp",relativePath:"/write-video-script",httpMethod:i.HTTPMethod.POST,reqContentType:i.ReqContentType.JSON,resContentType:i.ResContentType.JSON,castAsReqArgs:o.castAsWriteVideoScriptReqArgs,castAsResData:o.castAsWriteVideoScriptResData,serverTimeoutSeconds:180,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:a.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null,getDefaultErr:function(){return(0,n.newFatalError)("Failed to write video script.")}},t.PRESET_GENERATE_TITLE_OPTIONS={serverName:"backend",route:"/nlp",relativePath:"/generate-title",httpMethod:i.HTTPMethod.POST,reqContentType:i.ReqContentType.JSON,resContentType:i.ResContentType.JSON,castAsReqArgs:o.castAsGenerateTitleReqArgs,castAsResData:o.castAsGenerateTitleResData,serverTimeoutSeconds:60,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:a.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null,getDefaultErr:function(){return(0,n.newHiddenError)("Failed to generate title for script.")}}},50826:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESET_VOID_INVOICE_OPTIONS=t.PRESET_RENEW_SUBSCRIPTION_OPTIONS=t.PRESET_GET_PROMOTION_CODE_SUMMARY_OPTIONS=t.PRESET_CREATE_CUSTOMER_PORTAL_SESSION_OPTIONS=t.PRESET_CHANGE_SUBSCRIPTION_OPTIONS=t.PRESET_PURCHASE_SUBSCRIPTION_OPTIONS=void 0;var n=r(42217),i=r(27820),a=r(42272);t.PRESET_PURCHASE_SUBSCRIPTION_OPTIONS={serverName:"backend",route:"/payment",relativePath:"/purchase-subscription",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsPurchaseSubscriptionReqArgs,castAsResData:a.castAsPurchaseSubscriptionResData,serverTimeoutSeconds:60,requireUserRecord:!0,requireVerifiedEmail:!1,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null},t.PRESET_CHANGE_SUBSCRIPTION_OPTIONS={serverName:"backend",route:"/payment",relativePath:"/change-subscription",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsChangeSubscriptionReqArgs,castAsResData:a.castAsChangeSubscriptionResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!1,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.STARTER,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null},t.PRESET_CREATE_CUSTOMER_PORTAL_SESSION_OPTIONS={serverName:"backend",route:"/payment",relativePath:"/create-customer-portal-session",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsCreateCustomerPortalSessionReqArgs,castAsResData:a.castAsCreateCustomerPortalSessionResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!1,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null},t.PRESET_GET_PROMOTION_CODE_SUMMARY_OPTIONS={serverName:"backend",route:"/payment",relativePath:"/get-promotion-code-summary",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsGetPromotionCodeSummaryReqArgs,castAsResData:a.castAsGetPromotionCodeSummaryResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!1,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null},t.PRESET_RENEW_SUBSCRIPTION_OPTIONS={serverName:"backend",route:"/payment",relativePath:"/renew-subscription",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsRenewSubscriptionReqArgs,castAsResData:a.castAsRenewSubscriptionResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!1,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null},t.PRESET_VOID_INVOICE_OPTIONS={serverName:"backend",route:"/payment",relativePath:"/void-invoice",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsVoidInvoiceReqArgs,castAsResData:a.castAsVoidInvoiceResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!1,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null}},23899:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESET_DELETE_PROJECTS_OPTIONS=t.PRESET_GENERATE_PROJECT_OPTIONS=void 0;var n=r(58285),i=r(42217),a=r(27820),o=r(33420);t.PRESET_GENERATE_PROJECT_OPTIONS={serverName:"backend",route:"/project",relativePath:"/generate-project",httpMethod:i.HTTPMethod.POST,reqContentType:i.ReqContentType.JSON,resContentType:i.ResContentType.JSON,castAsReqArgs:o.castAsGenerateProjectReqArgs,castAsResData:o.castAsGenerateProjectResData,serverTimeoutSeconds:600,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:a.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!0,upgradeToEnableMessage:"generate a video",upgradeToIncreaseMessage:"generate more videos",endpointCallerCacheOptions:{maxCachedResults:1,maxCacheSeconds:300,isWorkspaceContextCacheMatch:n.isWorkspaceContextCacheMatchByWorkspaceId}},t.PRESET_DELETE_PROJECTS_OPTIONS={serverName:"backend",route:"/project",relativePath:"/delete-projects",httpMethod:i.HTTPMethod.POST,reqContentType:i.ReqContentType.JSON,resContentType:i.ResContentType.JSON,castAsReqArgs:o.castAsDeleteProjectsReqArgs,castAsResData:o.castAsDeleteProjectsResData,serverTimeoutSeconds:60,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:a.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null}},51137:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESET_DELETE_WORKSPACE_STORAGE_FILES_OPTIONS=t.PRESET_CONFIRM_WORKSPACE_STORAGE_FILES_UPLOAD_OPTIONS=t.PRESET_HYDRATE_WORKSPACE_STORAGE_FILES_OPTIONS=t.PRESET_GET_HYDRATED_WORKSPACE_STORAGE_FILES_OPTIONS=void 0;var n=r(58285),i=r(42217),a=r(27820),o=r(8832);t.PRESET_GET_HYDRATED_WORKSPACE_STORAGE_FILES_OPTIONS={serverName:"backend",route:"/storage",relativePath:"/get-hydrated-workspace-storage-files",httpMethod:i.HTTPMethod.POST,reqContentType:i.ReqContentType.JSON,resContentType:i.ResContentType.JSON,castAsReqArgs:o.castAsGetHydratedWorkspaceStorageFilesReqArgs,castAsResData:o.castAsGetHydratedWorkspaceStorageFilesResData,serverTimeoutSeconds:120,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:a.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:{maxCachedResults:1,maxCacheSeconds:300,isWorkspaceContextCacheMatch:n.isWorkspaceContextCacheMatchByWorkspaceId}},t.PRESET_HYDRATE_WORKSPACE_STORAGE_FILES_OPTIONS={serverName:"backend",route:"/storage",relativePath:"/hydrate-workspace-storage-files",httpMethod:i.HTTPMethod.POST,reqContentType:i.ReqContentType.JSON,resContentType:i.ResContentType.JSON,castAsReqArgs:o.castAsHydrateWorkspaceStorageFilesReqArgs,castAsResData:o.castAsHydrateWorkspaceStorageFilesResData,serverTimeoutSeconds:120,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:a.WorkspaceAuthLevel.PRO,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:"upload media to VideoGen",upgradeToIncreaseMessage:"upload more media to VideoGen",endpointCallerCacheOptions:{maxCachedResults:1,maxCacheSeconds:300,isWorkspaceContextCacheMatch:n.isWorkspaceContextCacheMatchByWorkspaceId}},t.PRESET_CONFIRM_WORKSPACE_STORAGE_FILES_UPLOAD_OPTIONS={serverName:"backend",route:"/storage",relativePath:"/confirm-workspace-storage-files-upload",httpMethod:i.HTTPMethod.POST,reqContentType:i.ReqContentType.JSON,resContentType:i.ResContentType.JSON,castAsReqArgs:o.castAsConfirmWorkspaceStorageFilesUploadReqArgs,castAsResData:o.castAsConfirmWorkspaceStorageFilesUploadResData,serverTimeoutSeconds:60,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:a.WorkspaceAuthLevel.PRO,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:"upload media to VideoGen",upgradeToIncreaseMessage:"upload more media to VideoGen",endpointCallerCacheOptions:null},t.PRESET_DELETE_WORKSPACE_STORAGE_FILES_OPTIONS={serverName:"backend",route:"/storage",relativePath:"/delete-workspace-storage-files",httpMethod:i.HTTPMethod.POST,reqContentType:i.ReqContentType.JSON,resContentType:i.ResContentType.JSON,castAsReqArgs:o.castAsDeleteWorkspaceStorageFilesReqArgs,castAsResData:o.castAsDeleteWorkspaceStorageFilesResData,serverTimeoutSeconds:60,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:a.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null}},86667:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESET_GENERATE_SUBTITLES_OPTIONS=void 0;var n=r(69806),i=r(58285),a=r(42217),o=r(27820),s=r(59850);t.PRESET_GENERATE_SUBTITLES_OPTIONS={serverName:"backend",route:"/subtitler",relativePath:"/generate-subtitles",httpMethod:a.HTTPMethod.POST,reqContentType:a.ReqContentType.JSON,resContentType:a.ResContentType.JSON,castAsReqArgs:s.castAsGenerateSubtitlesReqArgs,castAsResData:s.castAsGenerateSubtitlesResData,serverTimeoutSeconds:120,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:o.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:"add subtitles to videos",upgradeToIncreaseMessage:"add subtitles to more videos",endpointCallerCacheOptions:{maxCachedResults:3,maxCacheSeconds:n.SECONDS_PER_DAY,isWorkspaceContextCacheMatch:i.isWorkspaceContextCacheMatchByWorkspaceId}}},89168:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESET_SYNCHRONIZE_SPEECH_OPTIONS=void 0;var n=r(42217),i=r(69691);t.PRESET_SYNCHRONIZE_SPEECH_OPTIONS={serverName:"processor",route:"/synchronize",relativePath:"/synchronize-speech",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:i.castAsSynchronizeSpeechReqArgs,castAsResData:i.castAsSynchronizeSpeechResData,serverTimeoutSeconds:120,requireUserRecord:!1,requireVerifiedEmail:!1,minimumWorkspaceAuthLevel:null,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!0,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null}},85688:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESET_PROMPT_TO_SCRIPT_OPTIONS=t.PRESET_GET_FILE_OPTIONS=t.PRESET_SCRIPT_TO_VIDEO_OPTIONS=void 0;var n=r(42217),i=r(27820),a=r(6356);t.PRESET_SCRIPT_TO_VIDEO_OPTIONS={serverName:"external",route:"/v1",relativePath:"/script-to-video",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsScriptToVideoReqArgs,castAsResData:a.castAsScriptToVideoResData,serverTimeoutSeconds:180,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.BUSINESS,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!0,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null},t.PRESET_GET_FILE_OPTIONS={serverName:"external",route:"/v1",relativePath:"/get-file",httpMethod:n.HTTPMethod.GET,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsGetFileReqArgs,castAsResData:a.castAsGetFileResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.BUSINESS,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null},t.PRESET_PROMPT_TO_SCRIPT_OPTIONS={serverName:"external",route:"/v1",relativePath:"/prompt-to-script",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.JSON,resContentType:n.ResContentType.JSON,castAsReqArgs:a.castAsPromptToScriptReqArgs,castAsResData:a.castAsPromptToScriptResData,serverTimeoutSeconds:180,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:i.WorkspaceAuthLevel.BUSINESS,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null}},47841:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESET_STRIPE_WEBHOOK_OPTIONS=void 0;var n=r(42217),i=r(78308);t.PRESET_STRIPE_WEBHOOK_OPTIONS={serverName:"backend",route:"/webhook",relativePath:"/stripe-webhook",httpMethod:n.HTTPMethod.POST,reqContentType:n.ReqContentType.RAW,resContentType:n.ResContentType.JSON,castAsReqArgs:i.castAsStripeWebhookReqArgs,castAsResData:i.castAsStripeWebhookResData,serverTimeoutSeconds:180,requireUserRecord:!1,requireVerifiedEmail:!1,minimumWorkspaceAuthLevel:null,requireStripeSignature:!0,parseBodyAsBuffer:!0,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null}},78773:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRESET_CLAIM_FREE_ACCESS_CODE_OPTIONS=t.PRESET_SET_WORKSPACE_SEGMENTS_OPTIONS=t.PRESET_COMPLETE_ONBOARDING_TASK_OPTIONS=t.PRESET_ARCHIVE_WORKSPACE_OPTIONS=t.PRESET_CREATE_WORKSPACE_OPTIONS=void 0;var n=r(58285),i=r(42217),a=r(27820),o=r(25811);t.PRESET_CREATE_WORKSPACE_OPTIONS={serverName:"backend",route:"/workspace",relativePath:"/create-workspace",httpMethod:i.HTTPMethod.POST,reqContentType:i.ReqContentType.JSON,resContentType:i.ResContentType.JSON,castAsReqArgs:o.castAsCreateWorkspaceReqArgs,castAsResData:o.castAsCreateWorkspaceResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!1,minimumWorkspaceAuthLevel:null,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null},t.PRESET_ARCHIVE_WORKSPACE_OPTIONS={serverName:"backend",route:"/workspace",relativePath:"/delete-account",httpMethod:i.HTTPMethod.POST,reqContentType:i.ReqContentType.JSON,resContentType:i.ResContentType.JSON,castAsReqArgs:o.castAsDeleteAccountReqArgs,castAsResData:o.castAsDeleteAccountResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!1,minimumWorkspaceAuthLevel:a.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null},t.PRESET_COMPLETE_ONBOARDING_TASK_OPTIONS={serverName:"backend",route:"/workspace",relativePath:"/complete-onboarding-task",httpMethod:i.HTTPMethod.POST,reqContentType:i.ReqContentType.JSON,resContentType:i.ResContentType.JSON,castAsReqArgs:o.castAsCompleteOnboardingTaskReqArgs,castAsResData:o.castAsCompleteOnboardingTaskResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!1,minimumWorkspaceAuthLevel:a.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:{maxCachedResults:10,maxCacheSeconds:30,isWorkspaceContextCacheMatch:n.isWorkspaceContextCacheMatchByWorkspaceId}},t.PRESET_SET_WORKSPACE_SEGMENTS_OPTIONS={serverName:"backend",route:"/workspace",relativePath:"/set-workspace-segments",httpMethod:i.HTTPMethod.POST,reqContentType:i.ReqContentType.JSON,resContentType:i.ResContentType.JSON,castAsReqArgs:o.castAsSetWorkspaceSegmentsReqArgs,castAsResData:o.castAsSetWorkspaceSegmentsResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!1,minimumWorkspaceAuthLevel:a.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null},t.PRESET_CLAIM_FREE_ACCESS_CODE_OPTIONS={serverName:"backend",route:"/workspace",relativePath:"/claim-free-access-code",httpMethod:i.HTTPMethod.POST,reqContentType:i.ReqContentType.JSON,resContentType:i.ResContentType.JSON,castAsReqArgs:o.castAsClaimFreeAccessCodeReqArgs,castAsResData:o.castAsClaimFreeAccessCodeResData,serverTimeoutSeconds:30,requireUserRecord:!0,requireVerifiedEmail:!0,minimumWorkspaceAuthLevel:a.WorkspaceAuthLevel.FREE,requireStripeSignature:!1,parseBodyAsBuffer:!1,requireAdminSecret:!1,allowTmpFiles:!1,upgradeToEnableMessage:null,upgradeToIncreaseMessage:null,endpointCallerCacheOptions:null}},58503:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsGetUserProjectResData=t.castAsGetUserProjectReqArgs=t.castAsInitiateAdminActionResData=t.castAsInitiateAdminActionReqArgs=void 0;var n=r(34250),i=r(53176),a=r(2071),o=r(5447);t.castAsInitiateAdminActionReqArgs=function(e){var t=(0,n.newCastingError)("InitiateAdminActionReqArgs",e);if((0,o.isObject)(e)&&"adminActionInput"in e&&"executeLocally"in e&&(0,o.isBoolean)(e.executeLocally))try{return{adminActionInput:(0,i.castAsAdminActionInput)(e.adminActionInput),executeLocally:e.executeLocally}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsInitiateAdminActionResData=function(e){var t=(0,n.newCastingError)("InitiateAdminActionResData",e);if((0,o.isObject)(e)&&"adminActionId"in e&&(0,o.isString)(e.adminActionId))return{adminActionId:e.adminActionId};throw t};t.castAsGetUserProjectReqArgs=function(e){var t=(0,n.newCastingError)("GetUserProjectReqArgs",e);if((0,o.isObject)(e)&&"workspaceId"in e&&(0,o.isString)(e.workspaceId)&&"projectId"in e&&(0,o.isString)(e.projectId))try{return{workspaceId:e.workspaceId,projectId:e.projectId}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsGetUserProjectResData=function(e){var t=(0,n.newCastingError)("GetUserProjectResData",e);if((0,o.isObject)(e)&&"project"in e)try{return{project:(0,a.castAsProject)(e.project)}}catch(r){(0,n.updateCastingError)(t,r)}throw t}},9054:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsDeleteBrandResData=t.castAsDeleteBrandReqArgs=t.castAsUpsertBrandResData=t.castAsUpsertBrandReqArgs=void 0;var n=r(34250),i=r(34595),a=r(5447);t.castAsUpsertBrandReqArgs=function(e){var t=(0,n.newCastingError)("UpsertBrandReqArgs",e);if((0,a.isObject)(e)&&"newBrand"in e)try{return{newBrand:(0,i.castAsBrand)(e.newBrand)}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsUpsertBrandResData=function(e){var t=(0,n.newCastingError)("UpsertBrandResData",e);if((0,a.isObject)(e))return{};throw t};t.castAsDeleteBrandReqArgs=function(e){var t=(0,n.newCastingError)("DeleteBrandReqArgs",e);if((0,a.isObject)(e)&&"brandId"in e&&(0,a.isString)(e.brandId))return{brandId:e.brandId};throw t};t.castAsDeleteBrandResData=function(e){var t=(0,n.newCastingError)("DeleteBrandResData",e);if((0,a.isObject)(e))return{};throw t}},67757:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsDeleteApiKeyResData=t.castAsDeleteApiKeyReqArgs=t.castAsCreateApiKeyResData=t.castAsCreateApiKeyReqArgs=t.castAsGetWorkspaceApiKeysResData=t.castAsGetWorkspaceApiKeysReqArgs=t.castAsSetApiEnabledResData=t.castAsSetApiEnabledReqArgs=void 0;var n=r(34250),i=r(1312),a=r(5447),o=r(27820);t.castAsSetApiEnabledReqArgs=function(e){var t=(0,n.newCastingError)("SetApiEnabledReqArgs",e);if((0,a.isObject)(e)&&"newIsExternalApiEnabled"in e&&(0,a.isBoolean)(e.newIsExternalApiEnabled))return{newIsExternalApiEnabled:e.newIsExternalApiEnabled};throw t};t.castAsSetApiEnabledResData=function(e){var t=(0,n.newCastingError)("SetApiEnabledResData",e);if((0,a.isObject)(e)&&"newWorkspaceInfo"in e)try{return{newWorkspaceInfo:(0,o.castAsWorkspaceInfo)(e.newWorkspaceInfo)}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsGetWorkspaceApiKeysReqArgs=function(e){var t=(0,n.newCastingError)("GetWorkspaceApiKeysReqArgs",e);if((0,a.isObject)(e))return{};throw t};t.castAsGetWorkspaceApiKeysResData=function(e){var t=(0,n.newCastingError)("GetWorkspaceApiKeysResData",e);if((0,a.isObject)(e)&&"externalApiKeyInfos"in e)try{return{externalApiKeyInfos:(0,a.castAsTypedArray)(e.externalApiKeyInfos,i.castAsExternalApiKeyInfo)}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsCreateApiKeyReqArgs=function(e){var t=(0,n.newCastingError)("CreateApiKeyReqArgs",e);if((0,a.isObject)(e)&&"newExternalApiKeyNickname"in e&&(0,a.isString)(e.newExternalApiKeyNickname))return{newExternalApiKeyNickname:e.newExternalApiKeyNickname};throw t};t.castAsCreateApiKeyResData=function(e){var t=(0,n.newCastingError)("CreateApiKeyResData",e);if((0,a.isObject)(e)&&"_privateNewExternalApiKey"in e&&(0,a.isString)(e._privateNewExternalApiKey)&&"newExternalApiKeyInfo"in e)try{return{_privateNewExternalApiKey:e._privateNewExternalApiKey,newExternalApiKeyInfo:(0,i.castAsExternalApiKeyInfo)(e.newExternalApiKeyInfo)}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsDeleteApiKeyReqArgs=function(e){var t=(0,n.newCastingError)("DeleteApiKeyReqArgs",e);if((0,a.isObject)(e)&&"externalApiKeyId"in e&&(0,a.isString)(e.externalApiKeyId))return{externalApiKeyId:e.externalApiKeyId};throw t};t.castAsDeleteApiKeyResData=function(e){var t=(0,n.newCastingError)("DeleteApiKeyResData",e);if((0,a.isObject)(e))return{};throw t}},49567:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsGenerateImageResData=t.castAsGenerateImageReqArgs=t.castAsTextToImageResData=t.castAsTextToImageReqArgs=void 0;var n=r(34250),i=r(49709),a=r(90152),o=r(5447);t.castAsTextToImageReqArgs=function(e){var t=(0,n.newCastingError)("TextToImageReqArgs",e);if((0,o.isObject)(e)&&"text"in e&&(0,o.isString)(e.text)&&"dalleImageSize"in e)try{return{text:e.text,dalleImageSize:(0,i.castAsDalleImageSize)(e.dalleImageSize)}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsTextToImageResData=function(e){var t=(0,n.newCastingError)("TextToImageResData",e);if((0,o.isObject)(e)&&"imageBase64"in e&&(0,o.isString)(e.imageBase64))return{imageBase64:e.imageBase64};throw t};t.castAsGenerateImageReqArgs=function(e){var t=(0,n.newCastingError)("GenerateImageReqArgs",e);if((0,o.isObject)(e)&&"prompt"in e&&(0,o.isString)(e.prompt)&&"dalleImageSize"in e&&"storageScope"in e)try{return{prompt:e.prompt,dalleImageSize:(0,i.castAsDalleImageSize)(e.dalleImageSize),storageScope:(0,a.castAsWorkspaceStorageScope)(e.storageScope)}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsGenerateImageResData=function(e){var t=(0,n.newCastingError)("GenerateImageResData",e);if((0,o.isObject)(e)&&"hydratedStorageImageFile"in e)try{return{hydratedStorageImageFile:(0,a.castAsWorkspaceStorageImageFile)(e.hydratedStorageImageFile)}}catch(r){(0,n.updateCastingError)(t,r)}throw t}},63670:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsSetExportVisibilityResData=t.castAsSetExportVisibilityReqArgs=t.castAsViewExportResData=t.castAsViewExportReqArgs=t.castAsCreateUnfulfilledExportResData=t.castAsCreateUnfulfilledExportReqArgs=void 0;var n=r(34250),i=r(68769),a=r(5447);t.castAsCreateUnfulfilledExportReqArgs=function(e){var t=(0,n.newCastingError)("CreateUnfulfilledExportReqArgs",e);if((0,a.isObject)(e)&&"exportProjectId"in e&&(0,a.isString)(e.exportProjectId))return{exportProjectId:e.exportProjectId};throw t};t.castAsCreateUnfulfilledExportResData=function(e){var t=(0,n.newCastingError)("CreateUnfulfilledExportResData",e);if((0,a.isObject)(e)&&"newUnfulfilledExportInfo"in e)try{return{newUnfulfilledExportInfo:(0,i.castAsExportInfo)(e.newUnfulfilledExportInfo)}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsViewExportReqArgs=function(e){var t=(0,n.newCastingError)("ViewExportReqArgs",e);if((0,a.isObject)(e)&&"exportId"in e&&(0,a.isString)(e.exportId))return{exportId:e.exportId};throw t};t.castAsViewExportResData=function(e){var t=(0,n.newCastingError)("ViewExportResData",e);if((0,a.isObject)(e)&&"hydratedExportInfo"in e)try{return{hydratedExportInfo:(0,i.castAsExportInfo)(e.hydratedExportInfo)}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsSetExportVisibilityReqArgs=function(e){var t=(0,n.newCastingError)("SetExportVisibilityReqArgs",e);if((0,a.isObject)(e)&&"exportId"in e&&(0,a.isString)(e.exportId)&&"newVisibilityType"in e)try{return{exportId:e.exportId,newVisibilityType:(0,i.castAsExportVisibilityType)(e.newVisibilityType)}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsSetExportVisibilityResData=function(e){var t=(0,n.newCastingError)("SetExportVisibilityResData",e);if((0,a.isObject)(e)&&"newExportInfo"in e)try{return{newExportInfo:(0,i.castAsExportInfo)(e.newExportInfo)}}catch(r){(0,n.updateCastingError)(t,r)}throw t}},7434:function(e,t,r){"use strict";var n=r(42122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.castAsMarkJobMetadataKeyResData=t.castAsMarkJobMetadataKeyReqArgs=t.castAsInitiateJobResData=t.castAsInitiateJobReqArgs=void 0;var i=r(34250),a=r(24887),o=r(5447);t.castAsInitiateJobReqArgs=function(e){var t=(0,i.newCastingError)("InitiateJobReqArgs",e);if((0,o.isObject)(e)&&"initialJob"in e&&"jobInputNumBytes"in e&&(0,o.isNumber)(e.jobInputNumBytes))try{return n(n({initialJob:(0,a.castAsJob)(e.initialJob)},(0,o.getOmittableObjectOptionalEntry)(e,"transmittableJobInput",a.castAsJobInput)),{},{jobInputNumBytes:e.jobInputNumBytes})}catch(r){(0,i.updateCastingError)(t,r)}if((0,o.isObject)(e)&&"initialJob"in e&&!("transmittableJobInput"in e)&&"jobInputNumBytes"in e&&(0,o.isNumber)(e.jobInputNumBytes))try{return{initialJob:(0,a.castAsJob)(e.initialJob),jobInputNumBytes:e.jobInputNumBytes}}catch(r){(0,i.updateCastingError)(t,r)}throw t};t.castAsInitiateJobResData=function(e){var t=(0,i.newCastingError)("InitiateJobResData",e);if((0,o.isObject)(e)&&"jobInputSignedWriteUrl"in e&&(0,o.isOptionalString)(e.jobInputSignedWriteUrl))return n(n({},(0,o.getOmittableObjectOptionalEntry)(e,"unwrittenJobInputSignedWriteUrl",o.castAsString)),{},{jobInputSignedWriteUrl:e.jobInputSignedWriteUrl});throw t};t.castAsMarkJobMetadataKeyReqArgs=function(e){var t=(0,i.newCastingError)("MarkJobMetadataKeyReqArgs",e);if((0,o.isObject)(e)&&"jobIds"in e&&(0,o.isTypedArray)(e.jobIds,o.isString)&&"jobMetadataKeyToMark"in e)try{return{jobIds:e.jobIds,jobMetadataKeyToMark:(0,a.castAsMarkableJobMetadataKey)(e.jobMetadataKeyToMark)}}catch(r){(0,i.updateCastingError)(t,r)}if((0,o.isObject)(e)&&"jobId"in e&&(0,o.isString)(e.jobId)&&"jobMetadataKeyToMark"in e)try{return{jobIds:[e.jobId],jobMetadataKeyToMark:(0,a.castAsMarkableJobMetadataKey)(e.jobMetadataKeyToMark)}}catch(r){(0,i.updateCastingError)(t,r)}throw t};t.castAsMarkJobMetadataKeyResData=function(e){var t=(0,i.newCastingError)("MarkJobMetadataKeyResData",e);if((0,o.isObject)(e)&&"markedJobIds"in e&&(0,o.isTypedArray)(e.markedJobIds,o.isString)&&"isJobInRecentInitiatedJobs"in e&&(0,o.isBoolean)(e.isJobInRecentInitiatedJobs))return{markedJobIds:e.markedJobIds,isJobInRecentInitiatedJobs:e.isJobInRecentInitiatedJobs};throw t}},3566:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsHydrateAssetsResData=t.castAsHydrateAssetsReqArgs=t.castAsSearchLibraryResData=t.castAsSearchLibraryReqArgs=void 0;var n=r(34250),i=r(42172),a=r(6962),o=r(2071),s=r(90152),u=r(5447);t.castAsSearchLibraryReqArgs=function(e){var t=(0,n.newCastingError)("SearchLibraryReqArgs",e);if((0,u.isObject)(e)&&"query"in e&&(0,u.isString)(e.query)&&"aspectRatio"in e&&"libraryType"in e)try{return{query:e.query,aspectRatio:(0,u.castAsTypedOptional)(e.aspectRatio,o.castAsAspectRatio),libraryType:(0,a.castAsLibraryType)(e.libraryType)}}catch(r){(0,n.updateCastingError)(t,r)}if((0,u.isObject)(e)&&"query"in e&&(0,u.isString)(e.query)&&"aspectRatio"in e&&!("libraryType"in e))try{return{query:e.query,aspectRatio:(0,u.castAsTypedOptional)(e.aspectRatio,o.castAsAspectRatio),libraryType:a.LibraryType.CORE}}catch(r){(0,n.updateCastingError)(t,r)}if((0,u.isObject)(e)&&"query"in e&&(0,u.isString)(e.query)&&!("libraryType"in e))try{return{query:e.query,aspectRatio:null,libraryType:a.LibraryType.CORE}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsSearchLibraryResData=function(e){var t=(0,n.newCastingError)("SearchLibraryResData",e);if((0,u.isObject)(e)&&"stockVisualAssetLocators"in e&&"stockVisualAssetMetadataStore"in e)try{return{stockVisualAssetLocators:(0,u.castAsTypedArray)(e.stockVisualAssetLocators,i.castAsStockVisualAssetLocator),stockVisualAssetMetadataStore:(0,i.castAsStockVisualAssetMetadataStore)(e.stockVisualAssetMetadataStore)}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsHydrateAssetsReqArgs=function(e){var t=(0,n.newCastingError)("HydrateAssetsReqArgs",e);if((0,u.isObject)(e)&&"assetLocators"in e&&"requireAllLocatorsSucceed"in e&&(0,u.isBoolean)(e.requireAllLocatorsSucceed))try{return{assetLocators:(0,u.castAsTypedArray)(e.assetLocators,i.castAsAssetLocator),requireAllLocatorsSucceed:e.requireAllLocatorsSucceed}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsHydrateAssetsResData=function(e){var t=(0,n.newCastingError)("HydrateAssetsResData",e);if((0,u.isObject)(e)&&"hydratedStorageFiles"in e&&"stockVisualAssetMetadataStore"in e)try{return{hydratedStorageFiles:(0,u.castAsTypedArray)(e.hydratedStorageFiles,s.castAsWorkspaceStorageFile),stockVisualAssetMetadataStore:(0,i.castAsStockVisualAssetMetadataStore)(e.stockVisualAssetMetadataStore)}}catch(r){(0,n.updateCastingError)(t,r)}throw t}},17630:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsExecuteLocalTesterCommandResData=t.castAsExecuteLocalTesterCommandReqArgs=void 0;var n=r(34250),i=r(89439),a=r(5447);t.castAsExecuteLocalTesterCommandReqArgs=function(e){var t=(0,n.newCastingError)("ExecuteLocalTesterCommandReqArgs",e);if((0,a.isObject)(e)&&"localTesterCommand"in e&&(0,a.isObject)(e.localTesterCommand))return{localTesterCommand:(0,i.castAsLocalTesterCommand)(e.localTesterCommand)};throw t};t.castAsExecuteLocalTesterCommandResData=function(e){var t=(0,n.newCastingError)("ExecuteLocalTesterCommandResData",e);if((0,a.isObject)(e))return{};throw t}},17660:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsExecuteManagerActionResData=t.castAsExecuteManagerActionReqArgs=void 0;var n=r(34250),i=r(83531),a=r(5447);t.castAsExecuteManagerActionReqArgs=function(e){var t=(0,n.newCastingError)("ExecuteManagerActionReqArgs",e);if((0,a.isObject)(e)&&"managerActionInput"in e)return{managerActionInput:(0,i.castAsManagerActionInput)(e.managerActionInput)};throw t};t.castAsExecuteManagerActionResData=function(e){var t=(0,n.newCastingError)("ExecuteManagerActionResData",e);if((0,a.isObject)(e)&&"managerActionOutput"in e)return{managerActionOutput:(0,i.castAsManagerActionOutput)(e.managerActionOutput)};throw t}},89661:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsGenerateTitleResData=t.castAsGenerateTitleReqArgs=t.castAsWriteVideoScriptResData=t.castAsWriteVideoScriptReqArgs=void 0;var n=r(5447),i=r(75174),a=r(34250),o=r(34595),s=r(41068),u=r(3633),c=r(76951);t.castAsWriteVideoScriptReqArgs=function(e){var t=(0,a.newCastingError)("WriteVideoScriptReqArgs",e);if((0,n.isObject)(e)&&"prompt"in e&&(0,n.isString)(e.prompt)&&"outputLanguageCode"in e&&"template"in e&&"targetScriptWordCount"in e&&(0,n.isNumber)(e.targetScriptWordCount)&&"brand"in e&&"websiteUrls"in e&&(0,n.isTypedArray)(e.websiteUrls,n.isString))try{return{prompt:e.prompt,outputLanguageCode:(0,c.castAsDetectLanguageLanguageCode)(e.outputLanguageCode),template:(0,s.castAsTemplate)(e.template),targetScriptWordCount:e.targetScriptWordCount,brand:(0,n.castAsTypedOptional)(e.brand,o.castAsBrand),websiteUrls:e.websiteUrls}}catch(l){(0,a.updateCastingError)(t,l)}if((0,n.isObject)(e)&&"promptPreGenerator"in e&&(0,n.isObject)(e.promptPreGenerator)&&"brand"in e)try{var r=(0,i.castAsPromptPreGenerator)(e.promptPreGenerator);return{prompt:r.prompt,template:u.DEFAULT_BLANK_TEMPLATE,outputLanguageCode:"en",targetScriptWordCount:r.targetScriptWordCount,brand:(0,n.castAsTypedOptional)(e.brand,o.castAsBrand),websiteUrls:[]}}catch(l){(0,a.updateCastingError)(t,l)}throw t};t.castAsWriteVideoScriptResData=function(e){var t=(0,a.newCastingError)("WriteVideoScriptResData",e);if((0,n.isObject)(e)&&"script"in e&&(0,n.isString)(e.script))try{return{script:e.script}}catch(r){(0,a.updateCastingError)(t,r)}throw t};t.castAsGenerateTitleReqArgs=function(e){var t=(0,a.newCastingError)("GenerateTitleReqArgs",e);if((0,n.isObject)(e)&&"script"in e&&(0,n.isString)(e.script))return{script:e.script};throw t};t.castAsGenerateTitleResData=function(e){var t=(0,a.newCastingError)("GenerateTitleResData",e);if((0,n.isObject)(e)&&"title"in e&&(0,n.isString)(e.title))return{title:e.title};throw t}},42272:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsVoidInvoiceResData=t.castAsVoidInvoiceReqArgs=t.castAsRenewSubscriptionResData=t.castAsRenewSubscriptionReqArgs=t.castAsGetPromotionCodeSummaryResData=t.castAsGetPromotionCodeSummaryReqArgs=t.castAsCreateCustomerPortalSessionResData=t.castAsCreateCustomerPortalSessionReqArgs=t.castAsChangeSubscriptionResData=t.castAsChangeSubscriptionReqArgs=t.castAsPurchaseSubscriptionResData=t.castAsPurchaseSubscriptionReqArgs=void 0;var n=r(34250),i=r(5447),a=r(78436);t.castAsPurchaseSubscriptionReqArgs=function(e){var t=(0,n.newCastingError)("PurchaseSubscriptionReqArgs",e);if((0,i.isObject)(e)&&"checkoutSessionType"in e&&"stripeSubscriptionInput"in e&&"rewardfulId"in e&&(0,i.isOptionalString)(e.rewardfulId)&&"returnUrlPath"in e&&(0,i.isString)(e.returnUrlPath))try{return{checkoutSessionType:(0,a.castAsCheckoutSessionType)(e.checkoutSessionType),stripeSubscriptionInput:(0,a.castAsStripeSubscriptionInput)(e.stripeSubscriptionInput),rewardfulId:e.rewardfulId,returnUrlPath:e.returnUrlPath}}catch(r){(0,n.updateCastingError)(t,r)}if((0,i.isObject)(e)&&!("checkoutSessionType"in e)&&"stripeSubscriptionInput"in e&&"rewardfulId"in e&&(0,i.isOptionalString)(e.rewardfulId)&&"returnUrlPath"in e&&(0,i.isString)(e.returnUrlPath))try{return{checkoutSessionType:a.CheckoutSessionType.ELEMENTS,stripeSubscriptionInput:(0,a.castAsStripeSubscriptionInput)(e.stripeSubscriptionInput),rewardfulId:e.rewardfulId,returnUrlPath:e.returnUrlPath}}catch(r){(0,n.updateCastingError)(t,r)}if((0,i.isObject)(e)&&!("checkoutSessionType"in e)&&"stripeSubscriptionInput"in e&&"cancelUrlPath"in e&&(0,i.isString)(e.cancelUrlPath)&&"rewardfulId"in e&&(0,i.isOptionalString)(e.rewardfulId))try{return{checkoutSessionType:a.CheckoutSessionType.HOSTED,stripeSubscriptionInput:(0,a.castAsStripeSubscriptionInput)(e.stripeSubscriptionInput),returnUrlPath:e.cancelUrlPath,rewardfulId:e.rewardfulId}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsPurchaseSubscriptionResData=function(e){var t=(0,n.newCastingError)("PurchaseSubscriptionResData",e);if((0,i.isObject)(e)&&"checkoutUrl"in e&&(0,i.isOptionalString)(e.checkoutUrl)&&"_privateCheckoutSessionClientSecret"in e&&(0,i.isOptionalString)(e._privateCheckoutSessionClientSecret)&&"checkoutSessionSummary"in e)try{return{checkoutUrl:e.checkoutUrl,_privateCheckoutSessionClientSecret:e._privateCheckoutSessionClientSecret,checkoutSessionSummary:(0,a.castAsCheckoutSessionSummary)(e.checkoutSessionSummary)}}catch(o){(0,n.updateCastingError)(t,o)}if((0,i.isObject)(e)&&"checkoutUrl"in e&&(0,i.isOptionalString)(e.checkoutUrl)&&"_privateCheckoutSessionClientSecret"in e&&(0,i.isOptionalString)(e._privateCheckoutSessionClientSecret)){var r=function(){if(null!=e._privateCheckoutSessionClientSecret)return{type:a.CheckoutSessionType.ELEMENTS,_privateCheckoutSessionClientSecret:e._privateCheckoutSessionClientSecret};if(null!=e.checkoutUrl)return{type:a.CheckoutSessionType.HOSTED,checkoutSessionUrl:e.checkoutUrl};throw(0,n.newCastingError)("DEPRECATED_PurchaseSubscriptionResData",e)}();return{checkoutUrl:e.checkoutUrl,_privateCheckoutSessionClientSecret:e._privateCheckoutSessionClientSecret,checkoutSessionSummary:r}}if((0,i.isObject)(e)&&"checkoutUrl"in e&&(0,i.isString)(e.checkoutUrl))return{checkoutUrl:e.checkoutUrl,_privateCheckoutSessionClientSecret:null,checkoutSessionSummary:{type:a.CheckoutSessionType.HOSTED,checkoutSessionUrl:e.checkoutUrl}};throw t};t.castAsChangeSubscriptionReqArgs=function(e){var t=(0,n.newCastingError)("ChangeSubscriptionReqArgs",e);if((0,i.isObject)(e)&&"newStripeSubscriptionInput"in e)try{return{newStripeSubscriptionInput:(0,a.castAsStripeSubscriptionInput)(e.newStripeSubscriptionInput)}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsChangeSubscriptionResData=function(e){var t=(0,n.newCastingError)("ChangeSubscriptionResData",e);if((0,i.isObject)(e)&&"paymentIntentSummary"in e&&"_privatePaymentIntentClientSecret"in e&&(0,i.isOptionalString)(e._privatePaymentIntentClientSecret)&&"invoiceUrl"in e&&(0,i.isString)(e.invoiceUrl))return{paymentIntentSummary:(0,a.castAsStripePaymentIntentSummary)(e.paymentIntentSummary),_privatePaymentIntentClientSecret:e._privatePaymentIntentClientSecret,invoiceUrl:e.invoiceUrl};throw t};t.castAsCreateCustomerPortalSessionReqArgs=function(e){var t=(0,n.newCastingError)("CreateCustomerPortalSessionReqArgs",e);if((0,i.isObject)(e)&&"flowType"in e)try{return{flowType:(0,a.castAsPortalSessionFlowType)(e.flowType)}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsCreateCustomerPortalSessionResData=function(e){var t=(0,n.newCastingError)("CreateCustomerPortalSessionResData",e);if((0,i.isObject)(e)&&"portalSessionUrl"in e&&(0,i.isString)(e.portalSessionUrl))return{portalSessionUrl:e.portalSessionUrl};throw t};t.castAsGetPromotionCodeSummaryReqArgs=function(e){var t=(0,n.newCastingError)("GetPromotionCodeSummaryReqArgs",e);if((0,i.isObject)(e)&&"stripePromotionCode"in e&&(0,i.isString)(e.stripePromotionCode))return{stripePromotionCode:e.stripePromotionCode};throw t};t.castAsGetPromotionCodeSummaryResData=function(e){var t=(0,n.newCastingError)("GetPromotionCodeSummaryResData",e);if((0,i.isObject)(e)&&"stripePromotionCodeSummary"in e)try{return{stripePromotionCodeSummary:(0,a.castAsStripePromotionCodeSummary)(e.stripePromotionCodeSummary)}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsRenewSubscriptionReqArgs=function(e){var t=(0,n.newCastingError)("RenewSubscriptionReqArgs",e);if((0,i.isObject)(e))return{};throw t};t.castAsRenewSubscriptionResData=function(e){var t=(0,n.newCastingError)("RenewSubscriptionResData",e);if((0,i.isObject)(e))return{};throw t};t.castAsVoidInvoiceReqArgs=function(e){var t=(0,n.newCastingError)("VoidInvoiceReqArgs",e);if((0,i.isObject)(e)&&"stripeInvoiceId"in e&&(0,i.isString)(e.stripeInvoiceId))return{stripeInvoiceId:e.stripeInvoiceId};throw t};t.castAsVoidInvoiceResData=function(e){var t=(0,n.newCastingError)("VoidInvoiceResData",e);if((0,i.isObject)(e)&&"stripeInvoiceSummary"in e)try{return{stripeInvoiceSummary:(0,a.castAsStripeInvoiceSummary)(e.stripeInvoiceSummary)}}catch(r){(0,n.updateCastingError)(t,r)}throw t}},33420:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsDeleteProjectsResData=t.castAsDeleteProjectsReqArgs=t.castAsGenerateProjectResData=t.castAsGenerateProjectReqArgs=void 0;var n=r(34250),i=r(42172),a=r(20480),o=r(2071),s=r(90152),u=r(5447);t.castAsGenerateProjectReqArgs=function(e){var t=(0,n.newCastingError)("GenerateProjectReqArgs",e);if((0,u.isObject)(e)&&"project"in e)try{return{project:(0,o.castAsProject)(e.project)}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsGenerateProjectResData=function(e){var t=(0,n.newCastingError)("GenerateProjectResData",e);if((0,u.isObject)(e)&&"generatedBlock"in e&&"newHydratedStorageFiles"in e&&"newStockVisualAssetMetadataStore"in e)try{return{generatedBlock:(0,a.castAsBlock)(e.generatedBlock),newHydratedStorageFiles:(0,u.castAsTypedArray)(e.newHydratedStorageFiles,s.castAsWorkspaceStorageFile),newStockVisualAssetMetadataStore:(0,i.castAsStockVisualAssetMetadataStore)(e.newStockVisualAssetMetadataStore),appliedTimelineEdits:[]}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsDeleteProjectsReqArgs=function(e){var t=(0,n.newCastingError)("DeleteProjectsReqArgs",e);if((0,u.isObject)(e)&&"projectIds"in e&&(0,u.isTypedArray)(e.projectIds,u.isString))return{projectIds:e.projectIds};throw t};t.castAsDeleteProjectsResData=function(e){var t=(0,n.newCastingError)("DeleteProjectsResData",e);if((0,u.isObject)(e)&&"deletedProjectIds"in e&&(0,u.isTypedArray)(e.deletedProjectIds,u.isString))return{deletedProjectIds:e.deletedProjectIds};throw t}},8832:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsDeleteWorkspaceStorageFilesResData=t.castAsDeleteWorkspaceStorageFilesReqArgs=t.castAsConfirmWorkspaceStorageFilesUploadResData=t.castAsConfirmWorkspaceStorageFilesUploadReqArgs=t.castAsHydrateWorkspaceStorageFilesResData=t.castAsHydrateWorkspaceStorageFilesReqArgs=t.castAsGetHydratedWorkspaceStorageFilesResData=t.castAsGetHydratedWorkspaceStorageFilesReqArgs=void 0;var n=r(34250),i=r(5447),a=r(90152);t.castAsGetHydratedWorkspaceStorageFilesReqArgs=function(e){var t=(0,n.newCastingError)("GetHydratedWorkspaceStorageFilesReqArgs",e);if((0,i.isObject)(e)&&"unionSearchFilters"in e&&"includeSignedWriteUrls"in e&&(0,i.isBoolean)(e.includeSignedWriteUrls)&&"includeThumbnailSignedUrls"in e&&(0,i.isBoolean)(e.includeThumbnailSignedUrls))try{return{unionSearchFilters:(0,i.castAsTypedArray)(e.unionSearchFilters,a.castAsWorkspaceStorageFileSearchFilter),includeSignedWriteUrls:e.includeSignedWriteUrls,includeThumbnailSignedUrls:e.includeThumbnailSignedUrls}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsGetHydratedWorkspaceStorageFilesResData=function(e){var t=(0,n.newCastingError)("GetHydratedWorkspaceStorageFilesResData",e);if((0,i.isObject)(e)&&"hydratedStorageFiles"in e)try{return{hydratedStorageFiles:(0,i.castAsTypedArray)(e.hydratedStorageFiles,a.castAsWorkspaceStorageFile)}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsHydrateWorkspaceStorageFilesReqArgs=function(e){var t=(0,n.newCastingError)("HydrateWorkspaceStorageFilesReqArgs",e);if((0,i.isObject)(e)&&"storageFileHydrationRequests"in e&&"storageFiles"in e&&"includeSignedWriteUrls"in e&&(0,i.isBoolean)(e.includeSignedWriteUrls)&&"includeThumbnailSignedUrls"in e&&(0,i.isBoolean)(e.includeThumbnailSignedUrls))try{return{storageFileHydrationRequests:(0,i.castAsTypedArray)(e.storageFileHydrationRequests,a.castAsWorkspaceStorageFileHydrationRequest),storageFiles:(0,i.castAsTypedArray)(e.storageFiles,a.castAsWorkspaceStorageFile),includeSignedWriteUrls:e.includeSignedWriteUrls,includeThumbnailSignedUrls:e.includeThumbnailSignedUrls}}catch(o){(0,n.updateCastingError)(t,o)}if((0,i.isObject)(e)&&"storageFileHydrationRequests"in e)try{var r=(0,i.castAsTypedArray)(e.storageFileHydrationRequests,a.castAsWorkspaceStorageFileHydrationRequest);return{storageFileHydrationRequests:r,storageFiles:r.map((function(e){return e.storageFile})),includeSignedWriteUrls:r.some((function(e){return e.signedUrlTypes.includes(a.WorkspaceStorageFileSignedUrlType.WRITE)})),includeThumbnailSignedUrls:r.some((function(e){return e.signedUrlTypes.includes(a.WorkspaceStorageFileSignedUrlType.THUMBNAIL_READ)}))}}catch(o){(0,n.updateCastingError)(t,o)}throw t};t.castAsHydrateWorkspaceStorageFilesResData=function(e){var t=(0,n.newCastingError)("HydrateWorkspaceStorageFilesResData",e);if((0,i.isObject)(e)&&"hydratedStorageFiles"in e)try{return{hydratedStorageFiles:(0,i.castAsTypedArray)(e.hydratedStorageFiles,a.castAsWorkspaceStorageFile)}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsConfirmWorkspaceStorageFilesUploadReqArgs=function(e){var t=(0,n.newCastingError)("ConfirmWorkspaceStorageFilesUploadReqArgs",e);if((0,i.isObject)(e)&&"storageScope"in e&&"completedStorageFileIds"in e&&(0,i.isTypedArray)(e.completedStorageFileIds,i.isString))try{return{storageScope:(0,a.castAsWorkspaceStorageScope)(e.storageScope),completedStorageFileIds:e.completedStorageFileIds}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsConfirmWorkspaceStorageFilesUploadResData=function(e){var t=(0,n.newCastingError)("ConfirmWorkspaceStorageFilesUploadResData",e);if((0,i.isObject)(e)&&"uploadedStorageFiles"in e)try{return{uploadedStorageFiles:(0,i.castAsTypedArray)(e.uploadedStorageFiles,a.castAsWorkspaceStorageFile)}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsDeleteWorkspaceStorageFilesReqArgs=function(e){var t=(0,n.newCastingError)("DeleteWorkspaceStorageFilesReqArgs",e);if((0,i.isObject)(e)&&"storageScope"in e&&"storageFileIds"in e&&(0,i.isTypedArray)(e.storageFileIds,i.isString))try{return{storageScope:(0,a.castAsWorkspaceStorageScope)(e.storageScope),storageFileIds:e.storageFileIds}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsDeleteWorkspaceStorageFilesResData=function(e){var t=(0,n.newCastingError)("DeleteWorkspaceStorageFilesResData",e);if((0,i.isObject)(e)&&"deletedStorageFiles"in e&&"failedStorageFileIds"in e&&(0,i.isTypedArray)(e.failedStorageFileIds,i.isString))try{return{deletedStorageFiles:(0,i.castAsTypedArray)(e.deletedStorageFiles,a.castAsWorkspaceStorageFile),failedStorageFileIds:e.failedStorageFileIds}}catch(r){(0,n.updateCastingError)(t,r)}if((0,i.isObject)(e)&&"deletedStorageFiles"in e&&!("failedStorageFileIds"in e))try{return{deletedStorageFiles:(0,i.castAsTypedArray)(e.deletedStorageFiles,a.castAsWorkspaceStorageFile),failedStorageFileIds:[]}}catch(r){(0,n.updateCastingError)(t,r)}throw t}},59850:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsGenerateSubtitlesResData=t.castAsGenerateSubtitlesReqArgs=void 0;var n=r(34250),i=r(42172),a=r(11025),o=r(5447);t.castAsGenerateSubtitlesReqArgs=function(e){var t=(0,n.newCastingError)("GenerateSubtitlesReqArgs",e);if((0,o.isObject)(e)&&"visualAssetLocator"in e)try{return{visualAssetLocator:(0,i.castAsVisualAssetLocator)(e.visualAssetLocator)}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsGenerateSubtitlesResData=function(e){var t=(0,n.newCastingError)("GenerateSubtitlesResData",e);if((0,o.isObject)(e)&&"captionText"in e)try{return{captionText:(0,a.castAsCaptionText)(e.captionText)}}catch(r){(0,n.updateCastingError)(t,r)}throw t}},69691:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsSynchronizeSpeechResData=t.castAsSynchronizeSpeechReqArgs=void 0;var n=r(5447),i=r(34250),a=r(42172),o=r(37938);t.castAsSynchronizeSpeechReqArgs=function(e){var t=(0,i.newCastingError)("SynchronizeSpeechReqArgs",e);if((0,n.isObject)(e)&&"synchronizeAudioSource"in e&&"audioDuration"in e&&(0,n.isNumber)(e.audioDuration)&&"words"in e&&(0,n.isTypedArray)(e.words,n.isString))return{synchronizeAudioSource:(0,o.castAsSynchronizeAudioSource)(e.synchronizeAudioSource),audioDuration:e.audioDuration,words:e.words};throw t};t.castAsSynchronizeSpeechResData=function(e){var t=(0,i.newCastingError)("SynchronizeSpeechResData",e);if((0,n.isObject)(e)&&"wordEndTimes"in e&&(0,n.isTypedArray)(e.wordEndTimes,n.isNumber)&&"areWordTimingsExact"in e&&(0,n.isBoolean)(e.areWordTimingsExact))try{return{wordEndTimes:e.wordEndTimes,areWordTimingsExact:e.areWordTimingsExact}}catch(r){(0,i.updateCastingError)(t,r)}if((0,n.isObject)(e)&&"wordTimings"in e&&"areWordTimingsExact"in e&&(0,n.isBoolean)(e.areWordTimingsExact))try{return{wordEndTimes:(0,n.castAsTypedArray)(e.wordTimings,a.castAsDisplayTiming).map((function(e){return e.endTime})),areWordTimingsExact:e.areWordTimingsExact}}catch(r){(0,i.updateCastingError)(t,r)}throw t}},6356:function(e,t,r){"use strict";var n=r(42122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.castAsPromptToScriptResData=t.castAsPromptToScriptReqArgs=t.castAsGetFileResData=t.castAsGetFileReqArgs=t.castAsScriptToVideoResData=t.castAsScriptToVideoReqArgs=void 0;var i=r(34250),a=r(98468),o=r(80287),s=r(19841),u=r(2071),c=r(5447);t.castAsScriptToVideoReqArgs=function(e){var t=(0,i.newCastingError)("ScriptToVideoReqArgs",e);if((0,c.isObject)(e)&&"script"in e&&(0,c.isString)(e.script))return n(n(n(n(n(n(n(n(n(n(n(n(n(n(n(n(n(n(n({script:e.script},(0,c.getOmittableObjectOptionalEntry)(e,"voice",c.castAsString)),(0,c.getOmittableObjectOptionalEntry)(e,"voiceVolume",c.castAsNumber)),(0,c.getOmittableObjectOptionalEntry)(e,"musicUrl",c.castAsString)),(0,c.getOmittableObjectOptionalEntry)(e,"musicVolume",c.castAsNumber)),(0,c.getOmittableObjectOptionalEntry)(e,"captionFontName",c.castAsString)),(0,c.getOmittableObjectOptionalEntry)(e,"captionFontSize",c.castAsNumber)),(0,c.getOmittableObjectOptionalEntry)(e,"captionFontWeight",c.castAsNumber)),(0,c.getOmittableObjectOptionalEntry)(e,"captionTextColor",o.castAsRGBColor)),(0,c.getOmittableObjectOptionalEntry)(e,"captionTextJustification",a.castAsTextJustification)),(0,c.getOmittableObjectOptionalEntry)(e,"captionVerticalAlignment",a.castAsVerticalAlignment)),(0,c.getOmittableObjectOptionalEntry)(e,"captionStrokeColor",o.castAsRGBColor)),(0,c.getOmittableObjectOptionalEntry)(e,"captionStrokeWeight",c.castAsNumber)),(0,c.getOmittableObjectOptionalEntry)(e,"captionBackgroundStyleType",a.castAsTextBackgroundStyleType)),(0,c.getOmittableObjectOptionalEntry)(e,"captionBackgroundColor",o.castAsRGBColor)),(0,c.getOmittableObjectOptionalEntry)(e,"captionBackgroundBorderRadius",c.castAsNumber)),(0,c.getOmittableObjectOptionalEntry)(e,"captionBackgroundOpacity",c.castAsNumber)),(0,c.getOmittableObjectOptionalEntry)(e,"captionIsHidden",c.castAsBoolean)),(0,c.getOmittableObjectOptionalEntry)(e,"aspectRatio",u.castAsAspectRatio)),(0,c.getOmittableObjectOptionalEntry)(e,"minDimensionPixels",c.castAsNumber));throw t};t.castAsScriptToVideoResData=function(e){var t=(0,i.newCastingError)("ScriptToVideoResData",e);if((0,c.isObject)(e)&&"apiFileId"in e&&(0,c.isString)(e.apiFileId))return{apiFileId:e.apiFileId};throw t};t.castAsGetFileReqArgs=function(e){var t=(0,i.newCastingError)("GetFileReqArgs",e);if((0,c.isObject)(e)&&"apiFileId"in e&&(0,c.isString)(e.apiFileId))return{apiFileId:e.apiFileId};throw t};t.castAsGetFileResData=function(e){var t=(0,i.newCastingError)("GetFileResData",e);if((0,c.isObject)(e)&&"apiFileSignedUrl"in e&&(0,c.isOptionalString)(e.apiFileSignedUrl)&&"loadingState"in e&&"secondsAtLoadingState"in e&&(0,c.isNumber)(e.secondsAtLoadingState)&&"progressPercentage"in e&&(0,c.isNumber)(e.progressPercentage)&&"errorDisplayMessage"in e&&(0,c.isOptionalString)(e.errorDisplayMessage))return{apiFileSignedUrl:e.apiFileSignedUrl,loadingState:(0,s.castAsLoadingState)(e.loadingState),secondsAtLoadingState:e.secondsAtLoadingState,progressPercentage:e.progressPercentage,errorDisplayMessage:e.errorDisplayMessage};throw t};t.castAsPromptToScriptReqArgs=function(e){var t=(0,i.newCastingError)("PromptToScriptReqArgs",e);if((0,c.isObject)(e)&&"prompt"in e&&(0,c.isString)(e.prompt))return n(n(n(n(n({prompt:e.prompt},(0,c.getOmittableObjectOptionalEntry)(e,"templateName",c.castAsString)),(0,c.getOmittableObjectOptionalEntry)(e,"templateWritingStyle",c.castAsString)),(0,c.getOmittableObjectOptionalEntry)(e,"targetScriptWordCount",c.castAsNumber)),(0,c.getOmittableObjectOptionalEntry)(e,"outputLanguageCode",c.castAsString)),(0,c.getOmittableObjectOptionalEntry)(e,"websiteUrls",(function(e){return(0,c.castAsTypedArray)(e,c.castAsString)})));throw t};t.castAsPromptToScriptResData=function(e){var t=(0,i.newCastingError)("PromptToScriptResData",e);if((0,c.isObject)(e)&&"script"in e&&(0,c.isString)(e.script))return{script:e.script};throw t}},78308:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsStripeWebhookResData=t.castAsStripeWebhookReqArgs=void 0;var n=r(34250),i=r(91667),a=r(5447);t.castAsStripeWebhookReqArgs=function(e){var t=(0,n.newCastingError)("StripeWebhookReqArgs",e);try{return(0,i.castAsBuffer)(e)}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsStripeWebhookResData=function(e){var t=(0,n.newCastingError)("StripeWebhookResData",e);if((0,a.isObject)(e))return{};throw t}},25811:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsClaimFreeAccessCodeResData=t.castAsClaimFreeAccessCodeReqArgs=t.castAsSetWorkspaceSegmentsResData=t.castAsSetWorkspaceSegmentsReqArgs=t.castAsCompleteOnboardingTaskResData=t.castAsCompleteOnboardingTaskReqArgs=t.castAsDeleteAccountResData=t.castAsDeleteAccountReqArgs=t.castAsCreateWorkspaceResData=t.castAsCreateWorkspaceReqArgs=void 0;var n=r(34250),i=r(5447),a=r(27820);t.castAsCreateWorkspaceReqArgs=function(e){var t=(0,n.newCastingError)("CreateWorkspaceReqArgs",e);if((0,i.isObject)(e)&&"referralData"in e)return{referralData:(0,a.castAsWorkspaceReferralData)(e.referralData)};throw t};t.castAsCreateWorkspaceResData=function(e){var t=(0,n.newCastingError)("CreateWorkspaceResData",e);if((0,i.isObject)(e)&&"newWorkspaceInfo"in e)try{return{newWorkspaceInfo:(0,a.castAsWorkspaceInfo)(e.newWorkspaceInfo)}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsDeleteAccountReqArgs=function(e){var t=(0,n.newCastingError)("DeleteAccountReqArgs",e);if((0,i.isObject)(e))return{};throw t};t.castAsDeleteAccountResData=function(e){var t=(0,n.newCastingError)("DeleteAccountResData",e);if((0,i.isObject)(e))return{};throw t};t.castAsCompleteOnboardingTaskReqArgs=function(e){var t=(0,n.newCastingError)("CompleteOnboardingTaskReqArgs",e);if((0,i.isObject)(e)&&"task"in e)return{task:(0,a.castAsOnboardingTask)(e.task)};throw t};t.castAsCompleteOnboardingTaskResData=function(e){var t=(0,n.newCastingError)("CompleteOnboardingTaskResData",e);if((0,i.isObject)(e))return{};throw t};t.castAsSetWorkspaceSegmentsReqArgs=function(e){var t=(0,n.newCastingError)("SetWorkspaceSegmentsReqArgs",e);if((0,i.isObject)(e)&&"segments"in e)return{segments:(0,a.castAsWorkspaceSegments)(e.segments)};throw t};t.castAsSetWorkspaceSegmentsResData=function(e){var t=(0,n.newCastingError)("SetWorkspaceSegmentsResData",e);if((0,i.isObject)(e))return{};throw t};t.castAsClaimFreeAccessCodeReqArgs=function(e){var t=(0,n.newCastingError)("ClaimFreeAccessCodeReqArgs",e);if((0,i.isObject)(e)&&"freeAccessCodeId"in e&&(0,i.isString)(e.freeAccessCodeId))return{freeAccessCodeId:e.freeAccessCodeId};throw t};t.castAsClaimFreeAccessCodeResData=function(e){var t=(0,n.newCastingError)("ClaimFreeAccessCodeResData",e);if((0,i.isObject)(e))return{};throw t}},34171:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MIXPANEL_TOKEN=t.FACEBOOK_PIXEL_ID=t.GOOGLE_ANALYTICS_ID=void 0,t.GOOGLE_ANALYTICS_ID="G-LH6ELLTQ11",t.FACEBOOK_PIXEL_ID="379827395216232",t.MIXPANEL_TOKEN="f26163851fa71df8422f831932fd1491"},19461:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MIN_TRIM_PROPORTION_GAP=t.MIN_BACKGROUND_ASSET_DURATION=void 0,t.MIN_BACKGROUND_ASSET_DURATION=.25,t.MIN_TRIM_PROPORTION_GAP=.1},16318:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_NUM_BRANDS=void 0,t.MAX_NUM_BRANDS=1e3},30919:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BYTES_PER_GIGABYTE=t.BYTES_PER_MEGABYTE=t.BYTES_PER_KILOBYTE=void 0,t.BYTES_PER_KILOBYTE=1024,t.BYTES_PER_MEGABYTE=1024*t.BYTES_PER_KILOBYTE,t.BYTES_PER_GIGABYTE=1024*t.BYTES_PER_MEGABYTE},30755:function(e,t,r){"use strict";var n,i=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_BACKGROUND_STYLE_TYPE_NAME_MAP=t.TEXT_BACKGROUND_STYLE_TYPES=t.VERTICAL_ALIGNMENTS=t.TEXT_JUSTIFICATIONS=t.STROKE_WEIGHTS=t.CAPTION_PRESET_NAME_STYLE_MAP=t.CAPTION_PRESET_NAMES=t.FONT_SIZE_PREVIEW_TEXT_MAP=t.FONT_SIZE_NAME_MAP=t.FONT_SIZES=t.FONT_NAMES=t.TEXT_COLOR_NAME_RGB_MAP=t.TEXT_COLOR_NAMES=void 0;var a=r(98468);t.TEXT_COLOR_NAMES=["white","gray","black","brown","maroon","red","orange","yellow","lime","green","cyan","sky","blue","indigo","purple","magenta"],t.TEXT_COLOR_NAME_RGB_MAP={white:{red:255,green:255,blue:255},gray:{red:100,green:100,blue:100},black:{red:0,green:0,blue:0},brown:{red:145,green:75,blue:20},maroon:{red:175,green:0,blue:0},red:{red:255,green:0,blue:0},orange:{red:255,green:125,blue:0},yellow:{red:255,green:210,blue:25},lime:{red:175,green:255,blue:0},green:{red:0,green:230,blue:25},cyan:{red:0,green:240,blue:225},sky:{red:50,green:175,blue:255},blue:{red:50,green:100,blue:255},indigo:{red:75,green:0,blue:245},purple:{red:165,green:0,blue:215},magenta:{red:255,green:50,blue:255}},t.FONT_NAMES=["Inter","Verdana","PT Serif","Roboto Slab","Bungee","Anton","Abril Fatface","Koulen","Lobster","Luckiest Guy","Carter One","Russo One","Poiret One","Monoton","Comfortaa","Atma","Frijole","Rubik Moonrocks","Creepster","Silkscreen"],t.FONT_SIZES=[100,75,50,35],t.FONT_SIZE_NAME_MAP={135:"Massive",100:"Large",75:"Medium",50:"Small",35:"Tiny"},t.FONT_SIZE_PREVIEW_TEXT_MAP={135:"Captions",100:"Captions",75:"Medium captions",50:"These are small captions",35:"These are extremely tiny captions"},t.CAPTION_PRESET_NAMES=["Hidden","Classic TV Style","Simple 1","Simple 2","Instagramer","TikToker","YouTuber","Bold & Classy"],t.CAPTION_PRESET_NAME_STYLE_MAP={Hidden:{font:{fontSize:50,fontWeight:400,fontName:"Inter"},textColor:t.TEXT_COLOR_NAME_RGB_MAP.white,textJustification:a.TextJustification.CENTER,verticalAlignment:a.VerticalAlignment.BOTTOM,strokeColor:t.TEXT_COLOR_NAME_RGB_MAP.white,strokeWeight:1,backgroundStyle:null,isHidden:!0},"Simple 1":{font:{fontSize:75,fontWeight:700,fontName:"Verdana"},textColor:t.TEXT_COLOR_NAME_RGB_MAP.black,textJustification:a.TextJustification.CENTER,verticalAlignment:a.VerticalAlignment.BOTTOM,strokeColor:null,strokeWeight:0,backgroundStyle:{type:a.TextBackgroundStyleType.WRAPPED,backgroundColor:t.TEXT_COLOR_NAME_RGB_MAP.white,borderRadiusProportion:.25,opacityProportion:1},isHidden:!1},"Simple 2":{font:{fontSize:75,fontWeight:700,fontName:"Verdana"},textColor:t.TEXT_COLOR_NAME_RGB_MAP.white,textJustification:a.TextJustification.CENTER,verticalAlignment:a.VerticalAlignment.BOTTOM,strokeColor:null,strokeWeight:0,backgroundStyle:{type:a.TextBackgroundStyleType.WRAPPED,backgroundColor:t.TEXT_COLOR_NAME_RGB_MAP.black,borderRadiusProportion:.25,opacityProportion:1},isHidden:!1},"Classic TV Style":{font:{fontSize:50,fontWeight:400,fontName:"Verdana"},textColor:t.TEXT_COLOR_NAME_RGB_MAP.white,textJustification:a.TextJustification.CENTER,verticalAlignment:a.VerticalAlignment.BOTTOM,strokeColor:null,strokeWeight:0,backgroundStyle:{type:a.TextBackgroundStyleType.WRAPPED,backgroundColor:t.TEXT_COLOR_NAME_RGB_MAP.black,borderRadiusProportion:.25,opacityProportion:.5},isHidden:!1},Instagramer:{font:{fontSize:75,fontWeight:700,fontName:"Poiret One"},textColor:t.TEXT_COLOR_NAME_RGB_MAP.black,textJustification:a.TextJustification.CENTER,verticalAlignment:a.VerticalAlignment.TOP,strokeColor:null,strokeWeight:0,backgroundStyle:{type:a.TextBackgroundStyleType.WRAPPED,backgroundColor:t.TEXT_COLOR_NAME_RGB_MAP.white,borderRadiusProportion:0,opacityProportion:1},isHidden:!1},TikToker:{font:{fontSize:75,fontWeight:700,fontName:"Verdana"},textColor:t.TEXT_COLOR_NAME_RGB_MAP.white,textJustification:a.TextJustification.CENTER,verticalAlignment:a.VerticalAlignment.TOP,strokeColor:null,strokeWeight:0,backgroundStyle:{type:a.TextBackgroundStyleType.WRAPPED,backgroundColor:t.TEXT_COLOR_NAME_RGB_MAP.purple,borderRadiusProportion:.5,opacityProportion:1},isHidden:!1},YouTuber:{font:{fontSize:100,fontWeight:400,fontName:"Luckiest Guy"},textColor:t.TEXT_COLOR_NAME_RGB_MAP.yellow,textJustification:a.TextJustification.CENTER,verticalAlignment:a.VerticalAlignment.BOTTOM,strokeColor:t.TEXT_COLOR_NAME_RGB_MAP.black,strokeWeight:6,backgroundStyle:null,isHidden:!1},"Bold & Classy":{font:{fontSize:75,fontWeight:400,fontName:"Abril Fatface"},textColor:t.TEXT_COLOR_NAME_RGB_MAP.white,textJustification:a.TextJustification.LEFT,verticalAlignment:a.VerticalAlignment.BOTTOM,strokeColor:t.TEXT_COLOR_NAME_RGB_MAP.white,strokeWeight:0,backgroundStyle:{type:a.TextBackgroundStyleType.WRAPPED,backgroundColor:t.TEXT_COLOR_NAME_RGB_MAP.brown,borderRadiusProportion:0,opacityProportion:1},isHidden:!1}},t.STROKE_WEIGHTS=[0,.5,1,1.5,2,3,4,5,6,8],t.TEXT_JUSTIFICATIONS=[a.TextJustification.LEFT,a.TextJustification.CENTER,a.TextJustification.RIGHT],t.VERTICAL_ALIGNMENTS=[a.VerticalAlignment.TOP,a.VerticalAlignment.MIDDLE,a.VerticalAlignment.BOTTOM],t.TEXT_BACKGROUND_STYLE_TYPES=[a.TextBackgroundStyleType.RECT,a.TextBackgroundStyleType.WRAPPED],t.TEXT_BACKGROUND_STYLE_TYPE_NAME_MAP=(i(n={},a.TextBackgroundStyleType.RECT,"Rectangle"),i(n,a.TextBackgroundStyleType.WRAPPED,"Wrapped"),n)},85638:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_DISPLAYED_ERRORS=t.ERROR_DISPLAY_SECONDS=t.FIREBASE_CODE_DISPLAY_MESSAGE_MAP=t.DEFAULT_ERROR_MESSAGE=void 0,t.DEFAULT_ERROR_MESSAGE='Something went wrong. Please try again or visit the "Support" page for help.',t.FIREBASE_CODE_DISPLAY_MESSAGE_MAP={"auth/wrong-password":"The password is invalid or the user does not have a password.","auth/email-already-exists":"An account already exists with this email.","auth/invalid-password":"Invalid password. Password must be at least 6 characters.","auth/invalid-photo-url":"Invalid profile picture URL.","auth/phone-number-already-exists":"An account already exists with this phone number.","auth/session-cookie-expired":"Your login session has expired. Try logging in again.","auth/admin-restricted-operation":"This operation is restricted to admins only.","auth/code-expired":"This code has expired. Try resending the verification code.","auth/cors-unsupported":"This browser is not supported.","auth/credential-already-in-use":"This credential is already associated with a different account.","auth/requires-recent-login":"This action is sensitive and requires recent authentication. Try logging in again before retrying.","auth/email-change-needs-verification":"Multi-factor users must always have a verified email.","auth/email-already-in-use":"An account already exists with this email.","auth/invalid-verification-code":"Invalid verification code. Try resending the verification code.","auth/invalid-email":"Invalid email address.","auth/invalid-phone-number":"Invalid phone number","auth/account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Try signing in with Google instead.","auth/network-request-failed":"A network error has occurred.","auth/no-auth-event":"An internal error has occurred.","auth/popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","auth/popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","auth/provider-already-linked":"User can only be linked to one identity for the given provider.","auth/redirect-cancelled-by-user":"The redirect operation has been canceled by the user before finalizing.","auth/redirect-operation-pending":"A redirect sign-in operation is already pending.","auth/rejected-credential":"The request contains malformed or mismatching credentials.","auth/maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","auth/timeout":"The operation has timed out.","auth/user-token-expired":"Your login session has expired. Try logging in again.","auth/too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","auth/unsupported-first-factor":"This sign-in method is not supported.","auth/unverified-email":"Verify your email to perform this operation. Reload the page if you have already verified your email.","auth/user-not-found":"Account not found. This account may have been deleted.","auth/user-disabled":"This account has been disabled by an administrator.","auth/user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","auth/weak-password":"Password must be at least 6 characters.","auth/web-storage-unsupported":"Your browser does not support web storage. Try enabling 3rd party cookies and data."},t.ERROR_DISPLAY_SECONDS=7,t.MAX_DISPLAYED_ERRORS=3},13244:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXPORT_ID_LENGTH=t.EXPORT_URL_ACTIVE_DURATION_SECONDS=void 0;var n=r(69806);t.EXPORT_URL_ACTIVE_DURATION_SECONDS=3*n.SECONDS_PER_DAY,t.EXPORT_ID_LENGTH=6},69377:function(e,t,r){"use strict";var n,i=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.PRE_GENERATOR_TYPE_DEFAULT_PRE_GENERATOR_MAP=t.DEFAULT_TARGET_SCRIPT_WORD_COUNT=t.VERY_SLOW_SCENE_WORD_LENGTH_THRESHOLD=t.SLOW_SCENE_WORD_LENGTH_THRESHOLD=t.MEDIUM_SCENE_WORD_LENGTH_THRESHOLD=t.FAST_SCENE_WORD_LENGTH_THRESHOLD=t.DEFAULT_MUSIC_VOLUME=void 0;var a=r(75174);t.DEFAULT_MUSIC_VOLUME=.15,t.FAST_SCENE_WORD_LENGTH_THRESHOLD={min:5,max:15},t.MEDIUM_SCENE_WORD_LENGTH_THRESHOLD={min:10,max:20},t.SLOW_SCENE_WORD_LENGTH_THRESHOLD={min:15,max:30},t.VERY_SLOW_SCENE_WORD_LENGTH_THRESHOLD={min:20,max:40},t.DEFAULT_TARGET_SCRIPT_WORD_COUNT=50,t.PRE_GENERATOR_TYPE_DEFAULT_PRE_GENERATOR_MAP=(i(n={},a.PreGeneratorType.PROMPT,{type:a.PreGeneratorType.PROMPT,prompt:"",targetScriptWordCount:t.DEFAULT_TARGET_SCRIPT_WORD_COUNT}),i(n,a.PreGeneratorType.SCRIPT,{type:a.PreGeneratorType.SCRIPT,text:""}),i(n,a.PreGeneratorType.WEBSITE,{type:a.PreGeneratorType.WEBSITE,websiteUrl:"",targetScriptWordCount:t.DEFAULT_TARGET_SCRIPT_WORD_COUNT}),n)},31140:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GROUP_NUMBER_EXCLUSIVE_UPPER_BOUND=void 0,t.GROUP_NUMBER_EXCLUSIVE_UPPER_BOUND=360},59899:function(e,t,r){"use strict";var n,i,a,o,s,u,c,l,d=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.JOB_INPUT_MAX_NUM_BYTES=t.JOB_INPUT_MAX_NUM_BYTES_TRANSMITTABLE_ACROSS_API=t.MAX_NUM_RECENT_JOBS=t.MAX_AUTO_HANDLE_COMPLETION_DELAY_SECONDS=t.JOB_TYPE_MAX_NUM_JOB_ATTEMPTS_MAP=t.JOB_TYPE_RECENCY_MAX_SECONDS_MAP=t.JOB_TYPE_REQUIRES_EXTERNAL_API_MAP=t.JOB_TYPE_UPGRADE_MESSAGE_MAP=t.JOB_TYPE_DEFAULT_ERROR_DISPLAY_MESSAGE_MAP=t.JOB_TYPE_MIN_WORKSPACE_AUTH_LEVEL_MAP=t.JOB_INPUT_UPLOAD_TIMEOUT_SECONDS=t.JOB_INPUT_SIGNED_WRITE_URL_ACTIVE_MS=void 0;var f=r(24887),h=r(19841),p=r(27820),v=r(30919),g=r(69806);t.JOB_INPUT_SIGNED_WRITE_URL_ACTIVE_MS=5*g.MILLISECONDS_PER_MINUTE,t.JOB_INPUT_UPLOAD_TIMEOUT_SECONDS=15*g.SECONDS_PER_MINUTE,t.JOB_TYPE_MIN_WORKSPACE_AUTH_LEVEL_MAP=(d(n={},f.JobType.EXPORT,p.WorkspaceAuthLevel.STARTER),d(n,f.JobType.GENERATE,p.WorkspaceAuthLevel.BUSINESS),n),t.JOB_TYPE_DEFAULT_ERROR_DISPLAY_MESSAGE_MAP=(d(i={},f.JobType.EXPORT,"Failed to download video."),d(i,f.JobType.GENERATE,"Failed to generate video."),i),t.JOB_TYPE_UPGRADE_MESSAGE_MAP=(d(a={},f.JobType.EXPORT,"download and share your videos"),d(a,f.JobType.GENERATE,"generate videos using the VideoGen API"),a),t.JOB_TYPE_REQUIRES_EXTERNAL_API_MAP=(d(o={},f.JobType.EXPORT,!1),d(o,f.JobType.GENERATE,!0),o);var m=t.JOB_INPUT_UPLOAD_TIMEOUT_SECONDS+5*g.SECONDS_PER_MINUTE;t.JOB_TYPE_RECENCY_MAX_SECONDS_MAP=(d(c={},f.JobType.EXPORT,(d(s={},h.LoadingState.UNATTEMPTED,m),d(s,h.LoadingState.LOADING,3*g.SECONDS_PER_HOUR),d(s,h.LoadingState.FULFILLED,g.SECONDS_PER_DAY),d(s,h.LoadingState.REJECTED,3*g.SECONDS_PER_DAY),s)),d(c,f.JobType.GENERATE,(d(u={},h.LoadingState.UNATTEMPTED,m),d(u,h.LoadingState.LOADING,3*g.SECONDS_PER_HOUR),d(u,h.LoadingState.FULFILLED,g.SECONDS_PER_DAY),d(u,h.LoadingState.REJECTED,3*g.SECONDS_PER_DAY),u)),c),t.JOB_TYPE_MAX_NUM_JOB_ATTEMPTS_MAP=(d(l={},f.JobType.EXPORT,3),d(l,f.JobType.GENERATE,1),l),t.MAX_AUTO_HANDLE_COMPLETION_DELAY_SECONDS=60,t.MAX_NUM_RECENT_JOBS=2500,t.JOB_INPUT_MAX_NUM_BYTES_TRANSMITTABLE_ACROSS_API=31*v.BYTES_PER_MEGABYTE,t.JOB_INPUT_MAX_NUM_BYTES=200*v.BYTES_PER_MEGABYTE},91011:function(e,t,r){"use strict";var n,i=r(38416).default,a=r(27424).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SUBSCRIPTION_TYPE_DEFAULT_FREE_TRIAL_DAYS_MAP=t.ALL_STRIPE_CURRENCIES=t.STRIPE_CURRENCY_TIER_MAP=t.TEST_STRIPE_PRODUCT_SUMMARIES=t.LIVE_STRIPE_PRODUCT_SUMMARIES=void 0;var o=r(78436),s=r(5447);t.LIVE_STRIPE_PRODUCT_SUMMARIES=[{stripeProductId:"prod_ORGYEykT0XhtAK",subscriptionType:o.SubscriptionType.STARTER,stripePriceSummaries:[{stripePriceId:"price_1PsDVeCL8XHlgtohhfCcVWEp",stripeCurrency:"aud",unitAmount:1200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDVoCL8XHlgtohd0gXnCIZ",stripeCurrency:"aud",unitAmount:9600,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDZfCL8XHlgtoh9N2KfelE",stripeCurrency:"bdt",unitAmount:59900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDZqCL8XHlgtohhxZswWNo",stripeCurrency:"bdt",unitAmount:358800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PryMgCL8XHlgtohE2XIyS4M",stripeCurrency:"brl",unitAmount:3900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PryMyCL8XHlgtohlaAZOxOo",stripeCurrency:"brl",unitAmount:31200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDXuCL8XHlgtoh95n0saaP",stripeCurrency:"cad",unitAmount:1200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDY4CL8XHlgtohicQk3T92",stripeCurrency:"cad",unitAmount:9600,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDXZCL8XHlgtohlWk6WJvI",stripeCurrency:"chf",unitAmount:750,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDXkCL8XHlgtohuFU9VZcy",stripeCurrency:"chf",unitAmount:6e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Przo9CL8XHlgtohlyWIBfKD",stripeCurrency:"eur",unitAmount:750,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzoJCL8XHlgtohlwT2Ylog",stripeCurrency:"eur",unitAmount:6e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDVHCL8XHlgtohw9UPdniB",stripeCurrency:"gbp",unitAmount:600,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDVVCL8XHlgtohFyxIocgu",stripeCurrency:"gbp",unitAmount:4800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDYhCL8XHlgtohaEKZsyJa",stripeCurrency:"idr",unitAmount:99e5,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDYwCL8XHlgtohAkfCp2bC",stripeCurrency:"idr",unitAmount:792e5,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Prpx0CL8XHlgtohXcjO4zog",stripeCurrency:"inr",unitAmount:39900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrpyqCL8XHlgtohoTtTXm7w",stripeCurrency:"inr",unitAmount:238800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDWgCL8XHlgtohnGfEBHsy",stripeCurrency:"mxn",unitAmount:9900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDX3CL8XHlgtohGH4StRoG",stripeCurrency:"mxn",unitAmount:79200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDWGCL8XHlgtohaSID5UB8",stripeCurrency:"ngn",unitAmount:699900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDWWCL8XHlgtohGMCnA19W",stripeCurrency:"ngn",unitAmount:4198800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDYECL8XHlgtohAMBejBX9",stripeCurrency:"php",unitAmount:29900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDYVCL8XHlgtohL3A2hIbb",stripeCurrency:"php",unitAmount:238800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzWICL8XHlgtohjZuvRJOM",stripeCurrency:"pkr",unitAmount:99900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzWZCL8XHlgtohHfKvXsFt",stripeCurrency:"pkr",unitAmount:598800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1OQGO2CL8XHlgtohldyZcD5W",stripeCurrency:"usd",unitAmount:500,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1NeO17CL8XHlgtohNQadTBKl",stripeCurrency:"usd",unitAmount:900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!0},{stripePriceId:"price_1P4TOMCL8XHlgtohJmz3CoaI",stripeCurrency:"usd",unitAmount:1200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1O75HvCL8XHlgtohqFpfCFXJ",stripeCurrency:"usd",unitAmount:1500,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1OQGPECL8XHlgtohztavswJn",stripeCurrency:"usd",unitAmount:4800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1P4TSACL8XHlgtoh1ywmWejA",stripeCurrency:"usd",unitAmount:7200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1P4TYrCL8XHlgtohaZjLZq9x",stripeCurrency:"usd",unitAmount:9600,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1O7LPtCL8XHlgtoh2hWy7Oyu",stripeCurrency:"usd",unitAmount:12e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzHaCL8XHlgtohx8QzTgcU",stripeCurrency:"vnd",unitAmount:149e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzHnCL8XHlgtohySuIIZYA",stripeCurrency:"vnd",unitAmount:1188e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1}]},{stripeProductId:"prod_NfPU5NbXALy4lg",subscriptionType:o.SubscriptionType.PRO,stripePriceSummaries:[{stripePriceId:"price_1PsDbVCL8XHlgtohk7IdQl8c",stripeCurrency:"aud",unitAmount:3600,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDbmCL8XHlgtoh6evXE5rt",stripeCurrency:"aud",unitAmount:28800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDeoCL8XHlgtohLMdNE2rG",stripeCurrency:"bdt",unitAmount:149900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDf1CL8XHlgtohWM6xTEQQ",stripeCurrency:"bdt",unitAmount:898800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PryPvCL8XHlgtoh18ySezgB",stripeCurrency:"brl",unitAmount:9900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PryPlCL8XHlgtoh0Iqweps5",stripeCurrency:"brl",unitAmount:79200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDdBCL8XHlgtohkSdChd0H",stripeCurrency:"cad",unitAmount:3300,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDdLCL8XHlgtoh7MI4Bjm9",stripeCurrency:"cad",unitAmount:26400,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDcwCL8XHlgtoh0QC6neQ1",stripeCurrency:"chf",unitAmount:2100,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDd4CL8XHlgtohRTuzqvXf",stripeCurrency:"chf",unitAmount:16800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzofCL8XHlgtohfNzT5A8H",stripeCurrency:"eur",unitAmount:2100,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzooCL8XHlgtohTIkHrY71",stripeCurrency:"eur",unitAmount:16800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDayCL8XHlgtoh971WF9qR",stripeCurrency:"gbp",unitAmount:1800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDbHCL8XHlgtohysvQOxhT",stripeCurrency:"gbp",unitAmount:14400,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDe3CL8XHlgtoh7AX8XMTx",stripeCurrency:"idr",unitAmount:279e5,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDecCL8XHlgtohjMJKfoiF",stripeCurrency:"idr",unitAmount:2232e5,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Prq0ACL8XHlgtohJlxiiUUf",stripeCurrency:"inr",unitAmount:93900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrylXCL8XHlgtohaUX2t1fw",stripeCurrency:"inr",unitAmount:99900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Prq0XCL8XHlgtohIVbK1blR",stripeCurrency:"inr",unitAmount:562800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrylkCL8XHlgtohLtAvjWOQ",stripeCurrency:"inr",unitAmount:598800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDcQCL8XHlgtohOBBhgrhL",stripeCurrency:"mxn",unitAmount:33e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDceCL8XHlgtohGY9DSfm3",stripeCurrency:"mxn",unitAmount:264e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDbzCL8XHlgtohXt21W5R1",stripeCurrency:"ngn",unitAmount:1899900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDcGCL8XHlgtoh3oTUoiYT",stripeCurrency:"ngn",unitAmount:11398800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDdVCL8XHlgtohpnhBkkp6",stripeCurrency:"php",unitAmount:89900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDdlCL8XHlgtohVVi4pLiT",stripeCurrency:"php",unitAmount:718800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzWuCL8XHlgtohVrL8xzWL",stripeCurrency:"pkr",unitAmount:299900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzX4CL8XHlgtohDRaH0a9T",stripeCurrency:"pkr",unitAmount:1798800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1NPvJCCL8XHlgtohrHYujlcN",stripeCurrency:"usd",unitAmount:900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Mu4fvCL8XHlgtohzpEre5mI",stripeCurrency:"usd",unitAmount:1200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1NeA6DCL8XHlgtohFiAH1Ymu",stripeCurrency:"usd",unitAmount:1900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PnxTpCL8XHlgtohydATUfbo",stripeCurrency:"usd",unitAmount:2400,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!0},{stripePriceId:"price_1NdqzLCL8XHlgtohWt1TcIYd",stripeCurrency:"usd",unitAmount:2400,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1OQGRbCL8XHlgtohm1GlHnld",stripeCurrency:"usd",unitAmount:2900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1O75MICL8XHlgtohLdYw66w3",stripeCurrency:"usd",unitAmount:3e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pl1eLCL8XHlgtohnGfkZ4XA",stripeCurrency:"usd",unitAmount:4900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pl1ehCL8XHlgtohpnFz7JNR",stripeCurrency:"usd",unitAmount:9700,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pl1fICL8XHlgtohmjL6FYwk",stripeCurrency:"usd",unitAmount:12e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1O7LT8CL8XHlgtohcGIWgB31",stripeCurrency:"usd",unitAmount:18e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PnxYSCL8XHlgtohjoFS1kCP",stripeCurrency:"usd",unitAmount:19200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1OQGSVCL8XHlgtohy2rWMbFO",stripeCurrency:"usd",unitAmount:22800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pl1g2CL8XHlgtoh7YtcwEeT",stripeCurrency:"usd",unitAmount:3e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pl1gwCL8XHlgtohW8moepJ0",stripeCurrency:"usd",unitAmount:6e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzIHCL8XHlgtohWfZEbOt1",stripeCurrency:"vnd",unitAmount:449e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzIVCL8XHlgtoh6Iz1d5Ze",stripeCurrency:"vnd",unitAmount:3588e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1}]},{stripeProductId:"prod_PEjoLCmPh6yIbr",subscriptionType:o.SubscriptionType.SCALE,stripePriceSummaries:[{stripePriceId:"price_1PsDgjCL8XHlgtohYZYaH88w",stripeCurrency:"aud",unitAmount:14400,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDh1CL8XHlgtohRlKNbojA",stripeCurrency:"aud",unitAmount:115200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDjnCL8XHlgtohHEOCxvJU",stripeCurrency:"bdt",unitAmount:499900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDjyCL8XHlgtohbGEHSD7O",stripeCurrency:"bdt",unitAmount:2998800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Ps02yCL8XHlgtohNV2la9jD",stripeCurrency:"brl",unitAmount:39900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Ps03fCL8XHlgtohko8sZWOG",stripeCurrency:"brl",unitAmount:319200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDiTCL8XHlgtoh2R0VuSJ9",stripeCurrency:"cad",unitAmount:13200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDipCL8XHlgtohiCiqb6wq",stripeCurrency:"cad",unitAmount:105600,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDi8CL8XHlgtohH7huwCMb",stripeCurrency:"chf",unitAmount:9e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDiLCL8XHlgtohxrLLeVjJ",stripeCurrency:"chf",unitAmount:72e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzpDCL8XHlgtoh9kUuHl3t",stripeCurrency:"eur",unitAmount:9e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzpPCL8XHlgtohTwoq4aPm",stripeCurrency:"eur",unitAmount:72e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDg7CL8XHlgtohn39qPOmL",stripeCurrency:"gbp",unitAmount:7500,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDgVCL8XHlgtohe7ZRFTd0",stripeCurrency:"gbp",unitAmount:6e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDjOCL8XHlgtohBdbyMBXa",stripeCurrency:"idr",unitAmount:969e5,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDjaCL8XHlgtohDndjvzwb",stripeCurrency:"idr",unitAmount:7752e5,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Prq1TCL8XHlgtohSS5i9TUg",stripeCurrency:"inr",unitAmount:349900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Prq1sCL8XHlgtohzy3Wtk21",stripeCurrency:"inr",unitAmount:2098800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDhdCL8XHlgtohvggFdmNw",stripeCurrency:"mxn",unitAmount:126e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDhsCL8XHlgtohXBmRYXRP",stripeCurrency:"mxn",unitAmount:1008e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDhCCL8XHlgtohJS3po8dd",stripeCurrency:"ngn",unitAmount:7499900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDhOCL8XHlgtohn44qKgu3",stripeCurrency:"ngn",unitAmount:44998800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDj0CL8XHlgtohUe4fFQbB",stripeCurrency:"php",unitAmount:299900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDjBCL8XHlgtohBJ7fPsDu",stripeCurrency:"php",unitAmount:2398800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzXZCL8XHlgtohxjDjdxUB",stripeCurrency:"pkr",unitAmount:999900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzY7CL8XHlgtohj8FKCRF7",stripeCurrency:"pkr",unitAmount:5998800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pl1hbCL8XHlgtohrdSFHWDM",stripeCurrency:"usd",unitAmount:3900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PYKlCCL8XHlgtohXnNAzpuS",stripeCurrency:"usd",unitAmount:5900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1P6HbQCL8XHlgtohRFSbxIjZ",stripeCurrency:"usd",unitAmount:7900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1OQGLLCL8XHlgtohiBS6C6ky",stripeCurrency:"usd",unitAmount:9900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!0},{stripePriceId:"price_1Pl1hyCL8XHlgtoh5byXrAfE",stripeCurrency:"usd",unitAmount:19700,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pl1iJCL8XHlgtohJZmCYx8X",stripeCurrency:"usd",unitAmount:24e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PYKmVCL8XHlgtohrTKdK3T7",stripeCurrency:"usd",unitAmount:36e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1P6HezCL8XHlgtohhRYGPUPb",stripeCurrency:"usd",unitAmount:58800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pl1ipCL8XHlgtohhoKamqru",stripeCurrency:"usd",unitAmount:6e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pnxm4CL8XHlgtohnQ8YOTyH",stripeCurrency:"usd",unitAmount:79200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1OQGMACL8XHlgtohkTsSs6hC",stripeCurrency:"usd",unitAmount:82800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pl1kmCL8XHlgtoh8UaZmIvg",stripeCurrency:"usd",unitAmount:12e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzJ4CL8XHlgtohqVvLwVgN",stripeCurrency:"vnd",unitAmount:1799e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzJLCL8XHlgtohVillFLR9",stripeCurrency:"vnd",unitAmount:14388e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1}]},{stripeProductId:"prod_PwX0JN5E5y3MFG",subscriptionType:o.SubscriptionType.BUSINESS,stripePriceSummaries:[{stripePriceId:"price_1PsDljCL8XHlgtohD31sctvp",stripeCurrency:"aud",unitAmount:48e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDlrCL8XHlgtoh2eqvqi4S",stripeCurrency:"aud",unitAmount:384e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDr4CL8XHlgtohE1le6L3n",stripeCurrency:"bdt",unitAmount:3899900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDrECL8XHlgtoh7UwOkNMs",stripeCurrency:"bdt",unitAmount:23398800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pryu0CL8XHlgtoh4EH8h8AD",stripeCurrency:"brl",unitAmount:174900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PryuICL8XHlgtoh3PTfmSzs",stripeCurrency:"brl",unitAmount:1399200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDocCL8XHlgtohhyQbVqrH",stripeCurrency:"cad",unitAmount:45e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDooCL8XHlgtohhpOuWiuL",stripeCurrency:"cad",unitAmount:36e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDngCL8XHlgtohe0QeL36z",stripeCurrency:"chf",unitAmount:3e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDnrCL8XHlgtohDJP8ruoB",stripeCurrency:"chf",unitAmount:24e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrznZCL8XHlgtohuTcMetKG",stripeCurrency:"eur",unitAmount:3e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrznjCL8XHlgtohn0iY306Y",stripeCurrency:"eur",unitAmount:24e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDktCL8XHlgtoharIBsj1l",stripeCurrency:"gbp",unitAmount:25e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDl2CL8XHlgtohh4vln0sK",stripeCurrency:"gbp",unitAmount:199200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDqfCL8XHlgtohKp0ucSft",stripeCurrency:"idr",unitAmount:4899e5,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDquCL8XHlgtohFViXeJlR",stripeCurrency:"idr",unitAmount:39192e5,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Prq65CL8XHlgtohrZ5GWRGs",stripeCurrency:"inr",unitAmount:2749900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Prq6iCL8XHlgtohOxYsmKsx",stripeCurrency:"inr",unitAmount:16498800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDnBCL8XHlgtoh7844ENt0",stripeCurrency:"mxn",unitAmount:63e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDnPCL8XHlgtohrDZMCWn7",stripeCurrency:"mxn",unitAmount:504e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDm3CL8XHlgtohOmN917u7",stripeCurrency:"ngn",unitAmount:51999900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDp3CL8XHlgtohGBZ3CkTa",stripeCurrency:"php",unitAmount:1799900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDq5CL8XHlgtohNcouKKb0",stripeCurrency:"php",unitAmount:14398800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzVdCL8XHlgtohqUc2WUMJ",stripeCurrency:"pkr",unitAmount:8799900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzVwCL8XHlgtohIZSkZjIh",stripeCurrency:"pkr",unitAmount:52798800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PYKutCL8XHlgtohOI3XUE22",stripeCurrency:"usd",unitAmount:11900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1P6dwqCL8XHlgtohuC3qG5DU",stripeCurrency:"usd",unitAmount:17900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pl1lKCL8XHlgtoha5Qx45qv",stripeCurrency:"usd",unitAmount:29700,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pnxo6CL8XHlgtohjNfFElh2",stripeCurrency:"usd",unitAmount:33e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!0},{stripePriceId:"price_1Pl1lkCL8XHlgtohmqfFyvNX",stripeCurrency:"usd",unitAmount:49700,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PYKvSCL8XHlgtohXUWCpaMb",stripeCurrency:"usd",unitAmount:72e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pl1m0CL8XHlgtohvlFVE0bJ",stripeCurrency:"usd",unitAmount:99700,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1P6el8CL8XHlgtohkuixNM2i",stripeCurrency:"usd",unitAmount:142800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pl1oACL8XHlgtohr3Mhvkkw",stripeCurrency:"usd",unitAmount:18e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PnxoTCL8XHlgtoh412HnQrI",stripeCurrency:"usd",unitAmount:264e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pl1oWCL8XHlgtohrZuF4s0A",stripeCurrency:"usd",unitAmount:3e5,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pl1pXCL8XHlgtohOk4yHQ8h",stripeCurrency:"usd",unitAmount:6e5,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzJoCL8XHlgtohqGajHZpS",stripeCurrency:"vnd",unitAmount:8199e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzK8CL8XHlgtohG1nooMPq",stripeCurrency:"vnd",unitAmount:65592e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1}]}],t.TEST_STRIPE_PRODUCT_SUMMARIES=[{stripeProductId:"prod_OvxR4gskjh4h9d",subscriptionType:o.SubscriptionType.STARTER,stripePriceSummaries:[{stripePriceId:"price_1Ps2H7CL8XHlgtoh5EkTPEjO",stripeCurrency:"aud",unitAmount:1200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Ps2HiCL8XHlgtohPWg7yfID",stripeCurrency:"aud",unitAmount:9600,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDICCL8XHlgtohAhwSeQjh",stripeCurrency:"bdt",unitAmount:59900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDIUCL8XHlgtohuzn6YhjX",stripeCurrency:"bdt",unitAmount:358800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PryLnCL8XHlgtohJYSWvMHu",stripeCurrency:"brl",unitAmount:3900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PryMCCL8XHlgtohlzdqkLeX",stripeCurrency:"brl",unitAmount:31200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBfFCL8XHlgtohbMMD0nRN",stripeCurrency:"cad",unitAmount:1200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBfXCL8XHlgtohfvoeSIAA",stripeCurrency:"cad",unitAmount:9600,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBNLCL8XHlgtohIYELrpPN",stripeCurrency:"chf",unitAmount:750,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBPVCL8XHlgtohm1oV2zP5",stripeCurrency:"chf",unitAmount:6e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzcHCL8XHlgtohck7ZBwAe",stripeCurrency:"eur",unitAmount:750,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzcxCL8XHlgtohdJ28m6cr",stripeCurrency:"eur",unitAmount:6e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Ps145CL8XHlgtohmcrOvTgT",stripeCurrency:"gbp",unitAmount:600,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Ps14fCL8XHlgtohnSu7fG0T",stripeCurrency:"gbp",unitAmount:4800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsChKCL8XHlgtohMCrbFzFC",stripeCurrency:"idr",unitAmount:99e5,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsChWCL8XHlgtohUSH2N8lC",stripeCurrency:"idr",unitAmount:792e5,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrnXOCL8XHlgtohVTGKFhnC",stripeCurrency:"inr",unitAmount:39900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrnXkCL8XHlgtohJLsyK9DB",stripeCurrency:"inr",unitAmount:238800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBEwCL8XHlgtohdigPlUua",stripeCurrency:"mxn",unitAmount:9900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBHkCL8XHlgtohzgKOE12M",stripeCurrency:"mxn",unitAmount:79200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsAwvCL8XHlgtohrcR271ap",stripeCurrency:"ngn",unitAmount:699900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsAxfCL8XHlgtohO6sybDSK",stripeCurrency:"ngn",unitAmount:4198800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsCBPCL8XHlgtohUsoteP8y",stripeCurrency:"php",unitAmount:29900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsCExCL8XHlgtohPVOU30A9",stripeCurrency:"php",unitAmount:238800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzONCL8XHlgtohJFc3148F",stripeCurrency:"pkr",unitAmount:99900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzOgCL8XHlgtohwbppz9kA",stripeCurrency:"pkr",unitAmount:598800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1OQGb0CL8XHlgtohKN3j3nnN",stripeCurrency:"usd",unitAmount:500,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!0},{stripePriceId:"price_1O85W9CL8XHlgtohN0K3kSwQ",stripeCurrency:"usd",unitAmount:900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1P4TQNCL8XHlgtohb2CU3rm2",stripeCurrency:"usd",unitAmount:1200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1O85W9CL8XHlgtoheJ0aLOPV",stripeCurrency:"usd",unitAmount:1500,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1OQGbDCL8XHlgtoh6duLzBAB",stripeCurrency:"usd",unitAmount:4800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1P4TTICL8XHlgtohybzjeB90",stripeCurrency:"usd",unitAmount:7200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1P4TYECL8XHlgtohSWAReh1f",stripeCurrency:"usd",unitAmount:9600,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1O85W9CL8XHlgtohvYb7Jo6R",stripeCurrency:"usd",unitAmount:12e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Prz8uCL8XHlgtohIg2hLKYv",stripeCurrency:"vnd",unitAmount:149e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Prz9mCL8XHlgtohacx2Ge4B",stripeCurrency:"vnd",unitAmount:1188e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1}]},{stripeProductId:"prod_NfKGlBfA4H9I3W",subscriptionType:o.SubscriptionType.PRO,stripePriceSummaries:[{stripePriceId:"price_1Ps2I4CL8XHlgtohZzG2T3sD",stripeCurrency:"aud",unitAmount:3600,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Ps2IHCL8XHlgtoh9IpBvc9s",stripeCurrency:"aud",unitAmount:28800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDJ1CL8XHlgtohi8I91MNn",stripeCurrency:"bdt",unitAmount:149900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDJICL8XHlgtohg9CmTXSW",stripeCurrency:"bdt",unitAmount:898800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PryOHCL8XHlgtohh4qFwGIm",stripeCurrency:"brl",unitAmount:9900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PryOfCL8XHlgtoh3oxt2N3P",stripeCurrency:"brl",unitAmount:79200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBhACL8XHlgtohwjFdpnvo",stripeCurrency:"cad",unitAmount:3300,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBhOCL8XHlgtohQ7Bn6YST",stripeCurrency:"cad",unitAmount:26400,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBXzCL8XHlgtohyDs82BDR",stripeCurrency:"chf",unitAmount:2100,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBYECL8XHlgtohQQIuJwmV",stripeCurrency:"chf",unitAmount:16800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Prze0CL8XHlgtohNwretpm3",stripeCurrency:"eur",unitAmount:2100,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzeZCL8XHlgtohrWAFV6X0",stripeCurrency:"eur",unitAmount:16800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Ps292CL8XHlgtohEoAFiOha",stripeCurrency:"gbp",unitAmount:1800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Ps29SCL8XHlgtohR4AuHfzb",stripeCurrency:"gbp",unitAmount:14400,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsCj2CL8XHlgtohdC3X9VDw",stripeCurrency:"idr",unitAmount:279e5,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsCkOCL8XHlgtohBqaV1nhU",stripeCurrency:"idr",unitAmount:2232e5,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrchoCL8XHlgtohnTq6P7F0",stripeCurrency:"inr",unitAmount:93900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pryi7CL8XHlgtohJzS5OXWL",stripeCurrency:"inr",unitAmount:99900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrckoCL8XHlgtohuDum4Rtq",stripeCurrency:"inr",unitAmount:562800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PryiUCL8XHlgtohr0Wa3MUu",stripeCurrency:"inr",unitAmount:598800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBI0CL8XHlgtoh9kTVlZQ5",stripeCurrency:"mxn",unitAmount:33e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBINCL8XHlgtohKgy4JwiV",stripeCurrency:"mxn",unitAmount:264e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsAytCL8XHlgtohp0Wskuts",stripeCurrency:"ngn",unitAmount:1899900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsB0PCL8XHlgtohfFknPA08",stripeCurrency:"ngn",unitAmount:11398800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsCFjCL8XHlgtohWRWXkv5p",stripeCurrency:"php",unitAmount:89900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsCGJCL8XHlgtoh9kqei5L2",stripeCurrency:"php",unitAmount:718800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzOzCL8XHlgtohCpey3caC",stripeCurrency:"pkr",unitAmount:299900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzPLCL8XHlgtohjfzm7eyi",stripeCurrency:"pkr",unitAmount:1798800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1O85SQCL8XHlgtohZR08NmnL",stripeCurrency:"usd",unitAmount:900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1MtzcRCL8XHlgtohvVS5lBYn",stripeCurrency:"usd",unitAmount:1200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1O85T1CL8XHlgtoho9BhRoJ9",stripeCurrency:"usd",unitAmount:1900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PnxfuCL8XHlgtohuRuCEjkI",stripeCurrency:"usd",unitAmount:2400,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1OQGdqCL8XHlgtohzVIOxCUJ",stripeCurrency:"usd",unitAmount:2900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!0},{stripePriceId:"price_1O85TBCL8XHlgtohFwhxoMgf",stripeCurrency:"usd",unitAmount:3e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PkukjCL8XHlgtohAf6TP5mz",stripeCurrency:"usd",unitAmount:4900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PkxSFCL8XHlgtohj4c2NWJi",stripeCurrency:"usd",unitAmount:9700,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PkxlCCL8XHlgtohoYjAUtQl",stripeCurrency:"usd",unitAmount:12e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1O85UgCL8XHlgtohoh4gKkKh",stripeCurrency:"usd",unitAmount:18e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pnxg4CL8XHlgtohrvBFV9UZ",stripeCurrency:"usd",unitAmount:19200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1OQGeECL8XHlgtohrtodw7Sv",stripeCurrency:"usd",unitAmount:22800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PkxmPCL8XHlgtohimKTJMYt",stripeCurrency:"usd",unitAmount:3e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PkxmcCL8XHlgtohZKdskw5X",stripeCurrency:"usd",unitAmount:6e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzAyCL8XHlgtohEhXo7Qfd",stripeCurrency:"vnd",unitAmount:449e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzBWCL8XHlgtohTjkWPz5x",stripeCurrency:"vnd",unitAmount:3588e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1}]},{stripeProductId:"prod_PEk0vk0fq7y95Z",subscriptionType:o.SubscriptionType.SCALE,stripePriceSummaries:[{stripePriceId:"price_1Ps2ORCL8XHlgtohBc5yqLCE",stripeCurrency:"aud",unitAmount:14400,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Ps2OyCL8XHlgtohHcfLTsb3",stripeCurrency:"aud",unitAmount:115200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDKYCL8XHlgtohiCU9IKLq",stripeCurrency:"bdt",unitAmount:499900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDKvCL8XHlgtoh5R9mUaKC",stripeCurrency:"bdt",unitAmount:2998800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PryoECL8XHlgtohTz4dAdPG",stripeCurrency:"brl",unitAmount:39900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrypdCL8XHlgtohSWpuQOnG",stripeCurrency:"brl",unitAmount:319200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBkLCL8XHlgtohYyWItjwi",stripeCurrency:"cad",unitAmount:13200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBkbCL8XHlgtohktwN8LSW",stripeCurrency:"cad",unitAmount:105600,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBaQCL8XHlgtoh9SOQmhxw",stripeCurrency:"chf",unitAmount:9e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBaeCL8XHlgtohOUDy3MI5",stripeCurrency:"chf",unitAmount:72e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzkdCL8XHlgtoh4ONbD4wd",stripeCurrency:"eur",unitAmount:9e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzmQCL8XHlgtohFpd5mWw1",stripeCurrency:"eur",unitAmount:72e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Ps29vCL8XHlgtohG8mlUZ1d",stripeCurrency:"gbp",unitAmount:7500,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Ps2AGCL8XHlgtohMyixr4Ot",stripeCurrency:"gbp",unitAmount:6e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsClkCL8XHlgtohD49vHxSM",stripeCurrency:"idr",unitAmount:969e5,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsClzCL8XHlgtohEH0H0bub",stripeCurrency:"idr",unitAmount:7752e5,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Prdn9CL8XHlgtoh4vRSQ3g1",stripeCurrency:"inr",unitAmount:349900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrdnvCL8XHlgtohjZYZ11QG",stripeCurrency:"inr",unitAmount:2098800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBJxCL8XHlgtohoZRqpZo5",stripeCurrency:"mxn",unitAmount:126e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBKNCL8XHlgtohdzCiU9vy",stripeCurrency:"mxn",unitAmount:1008e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsB1LCL8XHlgtohWza5pJCy",stripeCurrency:"ngn",unitAmount:7499900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsB1dCL8XHlgtoh7t9Jgwgr",stripeCurrency:"ngn",unitAmount:44998800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsCIUCL8XHlgtohAA1KmM0D",stripeCurrency:"php",unitAmount:299900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsCIwCL8XHlgtohxAMmvJiK",stripeCurrency:"php",unitAmount:2398800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzRnCL8XHlgtoh7DTQeWkD",stripeCurrency:"pkr",unitAmount:999900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzT6CL8XHlgtohp7S0C4PB",stripeCurrency:"pkr",unitAmount:5998800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PkxapCL8XHlgtohVb9sJq4D",stripeCurrency:"usd",unitAmount:3900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PYKrgCL8XHlgtoh3wfZgH16",stripeCurrency:"usd",unitAmount:5900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1P6HtjCL8XHlgtohSA7AZjKN",stripeCurrency:"usd",unitAmount:7900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!0},{stripePriceId:"price_1OQGW5CL8XHlgtohsIkRW3OR",stripeCurrency:"usd",unitAmount:9900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PkxnbCL8XHlgtoh8wwF5xHY",stripeCurrency:"usd",unitAmount:19700,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PkxnyCL8XHlgtoh4kereeoY",stripeCurrency:"usd",unitAmount:24e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PYKqiCL8XHlgtohfw9sKbYm",stripeCurrency:"usd",unitAmount:36e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1P6HtwCL8XHlgtohqYBbh84D",stripeCurrency:"usd",unitAmount:58800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PkxoNCL8XHlgtoh9GqB7f2b",stripeCurrency:"usd",unitAmount:6e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PnxgzCL8XHlgtoh1ckVM2QJ",stripeCurrency:"usd",unitAmount:79200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1OQGXqCL8XHlgtohRkfeueOO",stripeCurrency:"usd",unitAmount:82800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PkxpQCL8XHlgtohKoxL68GH",stripeCurrency:"usd",unitAmount:12e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzCiCL8XHlgtohrjE9EsOX",stripeCurrency:"vnd",unitAmount:1799e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzDGCL8XHlgtoh3F66WiQQ",stripeCurrency:"vnd",unitAmount:14388e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1}]},{stripeProductId:"prod_PwY25XJOe1sb1l",subscriptionType:o.SubscriptionType.BUSINESS,stripePriceSummaries:[{stripePriceId:"price_1Ps2PXCL8XHlgtohBVPTb7Xf",stripeCurrency:"aud",unitAmount:48e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Ps2QLCL8XHlgtohAkfsRNTp",stripeCurrency:"aud",unitAmount:384e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDPWCL8XHlgtohhXtsOqTL",stripeCurrency:"bdt",unitAmount:3899900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsDPpCL8XHlgtohiS9YiUqA",stripeCurrency:"bdt",unitAmount:23398800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrysqCL8XHlgtohnzsL0ZK5",stripeCurrency:"brl",unitAmount:174900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrytZCL8XHlgtoh9Fneitd8",stripeCurrency:"brl",unitAmount:1399200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBloCL8XHlgtohdCRjKh0r",stripeCurrency:"cad",unitAmount:45e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBmACL8XHlgtohcsyahJGb",stripeCurrency:"cad",unitAmount:36e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBasCL8XHlgtohSYrjQQvY",stripeCurrency:"chf",unitAmount:3e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBb0CL8XHlgtohhTlRYUh2",stripeCurrency:"chf",unitAmount:24e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzmjCL8XHlgtoh5GrPw1vI",stripeCurrency:"eur",unitAmount:3e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Przn7CL8XHlgtohY1GTyoc8",stripeCurrency:"eur",unitAmount:24e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Ps2B2CL8XHlgtohYgedEFyP",stripeCurrency:"gbp",unitAmount:25e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Ps2EsCL8XHlgtohVpLrRFFz",stripeCurrency:"gbp",unitAmount:199200,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsCmnCL8XHlgtoh7FEwqPpJ",stripeCurrency:"idr",unitAmount:4899e5,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsCtcCL8XHlgtohOQuXqW0Y",stripeCurrency:"idr",unitAmount:39192e5,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrdqYCL8XHlgtohDkVFemp1",stripeCurrency:"inr",unitAmount:2749900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrdrICL8XHlgtohJibSOLtk",stripeCurrency:"inr",unitAmount:16498800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBLKCL8XHlgtohyXr6jvkW",stripeCurrency:"mxn",unitAmount:63e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsBLhCL8XHlgtohbbWduWNN",stripeCurrency:"mxn",unitAmount:504e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsB2gCL8XHlgtoh6xVsUV4x",stripeCurrency:"ngn",unitAmount:51999900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsCJiCL8XHlgtohE8LWyOfl",stripeCurrency:"php",unitAmount:1799900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PsCKfCL8XHlgtohsghFhR2X",stripeCurrency:"php",unitAmount:14398800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzUfCL8XHlgtohcsZ8wKsM",stripeCurrency:"pkr",unitAmount:8799900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzVFCL8XHlgtohadvCCgSG",stripeCurrency:"pkr",unitAmount:52798800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PYKypCL8XHlgtohCJ55A1yW",stripeCurrency:"usd",unitAmount:11900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1P6ewWCL8XHlgtohwUYWHgqJ",stripeCurrency:"usd",unitAmount:17900,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PkxqfCL8XHlgtohaLbtbzrw",stripeCurrency:"usd",unitAmount:29700,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pnxp3CL8XHlgtoh9H6oCBYP",stripeCurrency:"usd",unitAmount:33e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!0},{stripePriceId:"price_1PkxquCL8XHlgtoh5JsnfDEd",stripeCurrency:"usd",unitAmount:49700,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PYKzpCL8XHlgtohid1tVFta",stripeCurrency:"usd",unitAmount:72e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1Pkxr9CL8XHlgtohl6mUtdQr",stripeCurrency:"usd",unitAmount:99700,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1P6exDCL8XHlgtohW9eI7H6X",stripeCurrency:"usd",unitAmount:118800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1P73rnCL8XHlgtohK4FCcWTU",stripeCurrency:"usd",unitAmount:142800,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PkxsvCL8XHlgtohgnAiCSyY",stripeCurrency:"usd",unitAmount:18e4,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PnxpECL8XHlgtohPZ3c83rw",stripeCurrency:"usd",unitAmount:264e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PkxtZCL8XHlgtohhGKskQM4",stripeCurrency:"usd",unitAmount:3e5,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PkxtkCL8XHlgtohKy1LTfep",stripeCurrency:"usd",unitAmount:6e5,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzF0CL8XHlgtohIpej6X4v",stripeCurrency:"vnd",unitAmount:8199e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.MONTHLY,isDefaultPriceForProduct:!1},{stripePriceId:"price_1PrzGGCL8XHlgtoh3TSxlPqT",stripeCurrency:"vnd",unitAmount:65592e3,subscriptionPaymentFrequency:o.SubscriptionPaymentFrequency.YEARLY,isDefaultPriceForProduct:!1}]}],t.STRIPE_CURRENCY_TIER_MAP={usd:"1",inr:"3",brl:"2",vnd:"2",pkr:"3",eur:"1",gbp:"1",aud:"1",ngn:"3",mxn:"2",chf:"1",cad:"1",php:"2",idr:"2",bdt:"3"},t.ALL_STRIPE_CURRENCIES=(0,s.strictObjectToEntries)(t.STRIPE_CURRENCY_TIER_MAP).map((function(e){var t=a(e,2),r=t[0];t[1];return r})),t.SUBSCRIPTION_TYPE_DEFAULT_FREE_TRIAL_DAYS_MAP=(i(n={},o.SubscriptionType.STARTER,0),i(n,o.SubscriptionType.PRO,0),i(n,o.SubscriptionType.SCALE,0),i(n,o.SubscriptionType.BUSINESS,0),i(n,o.SubscriptionType.ENTERPRISE_TIER_1,0),i(n,o.SubscriptionType.ENTERPRISE_TIER_2,0),i(n,o.SubscriptionType.ENTERPRISE_TIER_3,0),i(n,o.SubscriptionType.ENTERPRISE_TIER_4,0),i(n,o.SubscriptionType.ENTERPRISE_TIER_5,0),i(n,o.SubscriptionType.ENTERPRISE_TIER_6,0),i(n,o.SubscriptionType.ENTERPRISE_TIER_7,0),i(n,o.SubscriptionType.ENTERPRISE_TIER_8,0),n)},74595:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SQUARE_ASPECT_RATIO=t.PORTRAIT_ASPECT_RATIO=t.LANDSCAPE_ASPECT_RATIO=t.DEFAULT_FRAME_RATE=t.MAX_PROJECT_EXPORT_JOBS=t.MAX_PROJECT_PRONUNCIATION_REPLACEMENTS=t.MAX_PROJECT_TIMELINE_EDITS=t.MAX_NUM_PROJECTS=void 0,t.MAX_NUM_PROJECTS=5e3,t.MAX_PROJECT_TIMELINE_EDITS=1e3,t.MAX_PROJECT_PRONUNCIATION_REPLACEMENTS=100,t.MAX_PROJECT_EXPORT_JOBS=250,t.DEFAULT_FRAME_RATE=30,t.LANDSCAPE_ASPECT_RATIO={width:16,height:9},t.PORTRAIT_ASPECT_RATIO={width:9,height:16},t.SQUARE_ASPECT_RATIO={width:1,height:1}},47321:function(e,t,r){"use strict";var n,i=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.RATE_LIMIT_PERIOD_NUM_SECONDS_MAP=t.SERVER_NAME_DEFAULT_PORT_MAP=void 0;var a=r(34586),o=r(69806);t.SERVER_NAME_DEFAULT_PORT_MAP={backend:4e3,processor:4001,external:4002},t.RATE_LIMIT_PERIOD_NUM_SECONDS_MAP=(i(n={},a.RateLimitPeriod.HOUR,o.SECONDS_PER_HOUR),i(n,a.RateLimitPeriod.DAY,o.SECONDS_PER_DAY),i(n,a.RateLimitPeriod.MONTH,o.SECONDS_PER_AVERAGE_MONTH),n)},37472:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_NUM_CONCURRENT_WEBSITE_SCANS=void 0,t.MAX_NUM_CONCURRENT_WEBSITE_SCANS=20},15685:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_PAUSE_SECONDS=void 0;var n=r(69806);t.MAX_PAUSE_SECONDS=n.SECONDS_PER_MINUTE},24681:function(e,t,r){"use strict";var n,i,a=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_CONCURRENT_GLOBAL_UPLOADS=t.PROJECT_WORKSPACE_STORAGE_LIMITS=t.MAX_THUMBNAIL_FILE_BYTES=t.STORAGE_SCOPE_TYPE_MAX_PRIMARY_FILE_BYTES_MAP=t.SUPPORTED_FILE_TYPE_DESCRIPTORS=t.SIGNED_URL_TYPE_ACTIVE_MS_MAP=t.STORAGE_UPLOAD_TIMEOUT_SECONDS=void 0;var o=r(90152),s=r(30919),u=r(69806);t.STORAGE_UPLOAD_TIMEOUT_SECONDS=12*u.SECONDS_PER_HOUR,t.SIGNED_URL_TYPE_ACTIVE_MS_MAP=(a(n={},o.WorkspaceStorageFileSignedUrlType.READ,u.MILLISECONDS_PER_DAY),a(n,o.WorkspaceStorageFileSignedUrlType.WRITE,5*u.MILLISECONDS_PER_MINUTE),a(n,o.WorkspaceStorageFileSignedUrlType.THUMBNAIL_READ,u.MILLISECONDS_PER_DAY),a(n,o.WorkspaceStorageFileSignedUrlType.THUMBNAIL_WRITE,5*u.MILLISECONDS_PER_MINUTE),n),t.SUPPORTED_FILE_TYPE_DESCRIPTORS=[{mimeType:"audio/aac",fileExtension:"aac"},{mimeType:"audio/mpeg",fileExtension:"mp3"},{mimeType:"audio/ogg",fileExtension:"oga"},{mimeType:"audio/wav",fileExtension:"wav"},{mimeType:"audio/webm",fileExtension:"weba"},{mimeType:"image/bmp",fileExtension:"bmp"},{mimeType:"image/gif",fileExtension:"gif"},{mimeType:"image/jpeg",fileExtension:"jpg"},{mimeType:"image/jpeg",fileExtension:"jpeg"},{mimeType:"image/png",fileExtension:"png"},{mimeType:"image/svg+xml",fileExtension:"svg"},{mimeType:"image/webp",fileExtension:"webp"},{mimeType:"video/mp4",fileExtension:"mp4"},{mimeType:"video/mpeg",fileExtension:"mpeg"},{mimeType:"video/ogg",fileExtension:"ogv"},{mimeType:"video/webm",fileExtension:"webm"}],t.STORAGE_SCOPE_TYPE_MAX_PRIMARY_FILE_BYTES_MAP=(a(i={},o.WorkspaceStorageScopeType.GLOBAL,s.BYTES_PER_GIGABYTE),a(i,o.WorkspaceStorageScopeType.PROJECT,100*s.BYTES_PER_MEGABYTE),a(i,o.WorkspaceStorageScopeType.EXPORTS,10*s.BYTES_PER_GIGABYTE),i),t.MAX_THUMBNAIL_FILE_BYTES=25*s.BYTES_PER_MEGABYTE,t.PROJECT_WORKSPACE_STORAGE_LIMITS={maxNumStoredUploads:1e3,maxStorageBytes:s.BYTES_PER_GIGABYTE},t.MAX_CONCURRENT_GLOBAL_UPLOADS=20},3633:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_BLANK_TEMPLATE=void 0;var n=r(27820),i=r(69377),a=r(74595);t.DEFAULT_BLANK_TEMPLATE={name:"Blank",writingStyle:null,requiresWebsite:!1,emoji:"\ud83d\uddd2",previewSrc:null,websiteLabel:null,useGetty:!1,useCartoon:!1,sceneWordLengthThreshold:i.FAST_SCENE_WORD_LENGTH_THRESHOLD,aspectRatio:a.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:n.WorkspaceAuthLevel.FREE}},69806:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MILLISECONDS_PER_AVERAGE_MONTH=t.MILLISECONDS_PER_YEAR=t.MILLISECONDS_PER_DAY=t.MILLISECONDS_PER_HOUR=t.MILLISECONDS_PER_MINUTE=t.MILLISECONDS_PER_SECOND=t.SECONDS_PER_AVERAGE_MONTH=t.SECONDS_PER_YEAR=t.SECONDS_PER_DAY=t.SECONDS_PER_HOUR=t.SECONDS_PER_MINUTE=void 0,t.SECONDS_PER_MINUTE=60,t.SECONDS_PER_HOUR=60*t.SECONDS_PER_MINUTE,t.SECONDS_PER_DAY=24*t.SECONDS_PER_HOUR,t.SECONDS_PER_YEAR=365*t.SECONDS_PER_DAY,t.SECONDS_PER_AVERAGE_MONTH=t.SECONDS_PER_YEAR/12,t.MILLISECONDS_PER_SECOND=1e3,t.MILLISECONDS_PER_MINUTE=t.MILLISECONDS_PER_SECOND*t.SECONDS_PER_MINUTE,t.MILLISECONDS_PER_HOUR=t.MILLISECONDS_PER_SECOND*t.SECONDS_PER_HOUR,t.MILLISECONDS_PER_DAY=t.MILLISECONDS_PER_SECOND*t.SECONDS_PER_DAY,t.MILLISECONDS_PER_YEAR=t.MILLISECONDS_PER_SECOND*t.SECONDS_PER_YEAR,t.MILLISECONDS_PER_AVERAGE_MONTH=t.MILLISECONDS_PER_SECOND*t.SECONDS_PER_AVERAGE_MONTH},66048:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DETECT_LANGUAGE_AENEAS_LANGUAGE_CODE_MAP=t.LANG_CHECK_DETECT_LANGUAGE_LANGUAGE_CODE_MAP=t.GOOGLE_TRANSLATE_DETECT_LANGUAGE_LANGUAGE_CODE_MAP=t.DETECT_LANGUAGE_GOOGLE_TRANSLATE_LANGUAGE_CODE_MAP=t.LANGUAGE_CODE_NAME_MAP=void 0,t.LANGUAGE_CODE_NAME_MAP={aa:"Afar",ab:"Abkhazian",af:"Afrikaans",ak:"Akan",am:"Amharic",ar:"Arabic",as:"Assamese",ay:"Aymara",az:"Azerbaijani",ba:"Bashkir",be:"Belarusian",bg:"Bulgarian",bh:"Bihari",bi:"Bislama",bn:"Bengali",bo:"Tibetan",br:"Breton",bs:"Bosnian",bug:"Buginese",ca:"Catalan",ceb:"Cebuano",chr:"Cherokee",co:"Corsican",crs:"Seselwa",cs:"Czech",cy:"Welsh",da:"Danish",de:"German",dv:"Dhivehi",dz:"Dzongkha",egy:"Egyptian",el:"Greek",en:"English",eo:"Esperanto",es:"Spanish",et:"Estonian",eu:"Basque",fa:"Persian",fi:"Finnish",fj:"Fijian",fo:"Faroese",fr:"French",fy:"Frisian",ga:"Irish",gd:"Scots Gaelic",gl:"Galician",gn:"Guarani",got:"Gothic",gu:"Gujarati",gv:"Manx",ha:"Hausa",haw:"Hawaiian",hi:"Hindi",hmn:"Hmong",hr:"Croatian",ht:"Haitian Creole",hu:"Hungarian",hy:"Armenian",ia:"Interlingua",id:"Indonesian",ie:"Interlingue",ig:"Igbo",ik:"Inupiak",is:"Icelandic",it:"Italian",iu:"Inuktitut",iw:"Hebrew",ja:"Japanese",jw:"Javanese",ka:"Georgian",kha:"Khasi",kk:"Kazakh",kl:"Greenlandic",km:"Khmer",kn:"Kannada",ko:"Korean",ks:"Kashmiri",ku:"Kurdish",ky:"Kyrgyz",la:"Latin",lb:"Luxembourgish",lg:"Ganda",lif:"Limbu",ln:"Lingala",lo:"Lao",lt:"Lithuanian",lv:"Latvian",mfe:"Mauritian Creole",mg:"Malagasy",mi:"Maori",mk:"Macedonian",ml:"Malayalam",mn:"Mongolian",mr:"Marathi",ms:"Malay",mt:"Maltese",my:"Burmese",na:"Nauru",ne:"Nepali",nl:"Dutch",no:"Norwegian",nr:"Ndebele",nso:"Pedi",ny:"Nyanja",oc:"Occitan",om:"Oromo",or:"Oriya",pa:"Punjabi",pl:"Polish",ps:"Pashto",pt:"Portuguese",qu:"Quechua",rm:"Rhaeto Romance",rn:"Rundi",ro:"Romanian",ru:"Russian",rw:"Kinyarwanda",sa:"Sanskrit",sco:"Scots",sd:"Sindhi",sg:"Sango",si:"Sinhalese",sk:"Slovak",sl:"Slovenian",sm:"Samoan",sn:"Shona",so:"Somali",sq:"Albanian",sr:"Serbian",ss:"Siswant",st:"Sesotho",su:"Sundanese",sv:"Swedish",sw:"Swahili",syr:"Syriac",ta:"Tamil",te:"Telugu",tg:"Tajik",th:"Thai",ti:"Tigrinya",tk:"Turkmen",tl:"Tagalog",tlh:"Klingon",tn:"Tswana",to:"Tonga",tr:"Turkish",ts:"Tsonga",tt:"Tatar",ug:"Uighur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",war:"Waray Philippines",wo:"Wolof",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",za:"Zhuang",zh:"Chinese Simplified","zh-Hant":"Chinese Traditional",zu:"Zulu",bm:"Bambara",bho:"Bhojpuri","zh-CN":"Chinese Simplified","zh-TW":"Chinese Traditional",doi:"Dogri",ee:"Ewe",fil:"Filipino",he:"Hebrew",ilo:"Ilocano",jv:"Javanese",gom:"Konkani",kri:"Krio",ckb:"Kurdish",mai:"Maithili","mni-Mtei":"Meiteilon",lus:"Mizo"},t.DETECT_LANGUAGE_GOOGLE_TRANSLATE_LANGUAGE_CODE_MAP={aa:"so",ab:"ka",af:"af",ak:"ak",am:"am",ar:"ar",as:"as",ay:"ay",az:"az",ba:"tt",be:"be",bg:"bg",bh:"bho",bi:"ht",bn:"bn",bo:"my",br:"cy",bs:"bs",bug:"id",ca:"ca",ceb:"ceb",chr:"en",co:"co",crs:"ht",cs:"cs",cy:"cy",da:"da",de:"de",dv:"dv",dz:"my",egy:"ar",el:"el",en:"en",eo:"eo",es:"es",et:"et",eu:"eu",fa:"fa",fi:"fi",fj:"sm",fo:"is",fr:"fr",fy:"fy",ga:"ga",gd:"gd",gl:"gl",gn:"gn",got:"de",gu:"gu",gv:"ga",ha:"ha",haw:"haw",hi:"hi",hmn:"hmn",hr:"hr",ht:"ht",hu:"hu",hy:"hy",ia:"it",id:"id",ie:"it",ig:"ig",ik:"en",is:"is",it:"it",iu:"en",iw:"iw",ja:"ja",jw:"jw",ka:"ka",kha:"as",kk:"kk",kl:"en",km:"km",kn:"kn",ko:"ko",ks:"hi",ku:"ku",ky:"ky",la:"la",lb:"lb",lg:"lg",lif:"ne",ln:"ln",lo:"lo",lt:"lt",lv:"lv",mfe:"ht",mg:"mg",mi:"mi",mk:"mk",ml:"ml",mn:"mn",mr:"mr",ms:"ms",mt:"mt",my:"my",na:"sm",ne:"ne",nl:"nl",no:"no",nr:"zu",nso:"nso",ny:"ny",oc:"ca",om:"om",or:"or",pa:"pa",pl:"pl",ps:"ps",pt:"pt",qu:"qu",rm:"it",rn:"rw",ro:"ro",ru:"ru",rw:"rw",sa:"sa",sco:"en",sd:"sd",sg:"ln",si:"si",sk:"sk",sl:"sl",sm:"sm",sn:"sn",so:"so",sq:"sq",sr:"sr",ss:"zu",st:"st",su:"su",sv:"sv",sw:"sw",syr:"ar",ta:"ta",te:"te",tg:"tg",th:"th",ti:"ti",tk:"tk",tl:"tl",tlh:"en",tn:"st",to:"sm",tr:"tr",ts:"ts",tt:"tt",ug:"ug",uk:"uk",ur:"ur",uz:"uz",ve:"zu",vi:"vi",vo:"en",war:"ceb",wo:"ee",xh:"xh",yi:"yi",yo:"yo",za:"vi",zh:"zh","zh-Hant":"zh-TW",zu:"zu"},t.GOOGLE_TRANSLATE_DETECT_LANGUAGE_LANGUAGE_CODE_MAP={af:"af",sq:"sq",am:"am",ar:"ar",hy:"hy",as:"as",ay:"ay",az:"az",bm:"ha",eu:"eu",be:"be",bn:"bn",bho:"bh",bs:"bs",bg:"bg",ca:"ca",ceb:"ceb",zh:"zh","zh-CN":"zh","zh-TW":"zh-Hant",co:"co",hr:"hr",cs:"cs",da:"da",dv:"dv",doi:"pa",nl:"nl",en:"en",eo:"eo",et:"et",ee:"yo",fil:"tl",fi:"fi",fr:"fr",fy:"fy",gl:"gl",ka:"ka",de:"de",el:"el",gn:"gn",gu:"gu",ht:"ht",ha:"ha",haw:"haw",he:"iw",iw:"iw",hi:"hi",hmn:"hmn",hu:"hu",is:"is",ig:"ig",ilo:"tl",id:"id",ga:"ga",it:"it",ja:"ja",jv:"id",jw:"jw",kn:"kn",kk:"kk",km:"km",rw:"rw",gom:"mr",ko:"ko",kri:"en",ku:"ku",ckb:"ku",ky:"ky",lo:"lo",la:"la",lv:"lv",ln:"ln",lt:"lt",lg:"lg",lb:"lb",mk:"mk",mai:"bh",mg:"mg",ms:"ms",ml:"ml",mt:"mt",mi:"mi",mr:"mr","mni-Mtei":"my",lus:"my",mn:"mn",my:"my",ne:"ne",no:"no",ny:"ny",or:"or",om:"om",ps:"ps",fa:"fa",pl:"pl",pt:"pt",pa:"pa",qu:"qu",ro:"ro",ru:"ru",sm:"sm",sa:"sa",gd:"gd",nso:"nso",sr:"sr",st:"st",sn:"sn",sd:"sd",si:"si",sk:"sk",sl:"sl",so:"so",es:"es",su:"su",sw:"sw",sv:"sv",tl:"tl",tg:"tg",ta:"ta",tt:"tt",te:"te",th:"th",ti:"ti",ts:"ts",tr:"tr",tk:"tk",ak:"ak",uk:"uk",ur:"ur",ug:"ug",uz:"uz",vi:"vi",cy:"cy",xh:"xh",yi:"yi",yo:"yo",zu:"zu"},t.LANG_CHECK_DETECT_LANGUAGE_LANGUAGE_CODE_MAP={af:"af",ar:"ar",bg:"bg",bn:"bn",br:"br",bs:"bs",ca:"ca",cs:"cs",da:"da",de:"de",el:"el",en:"en",eo:"eo",es:"es",et:"et",eu:"eu",fa:"fa",fi:"fi",fr:"fr",gl:"gl",he:"iw",hi:"hi",hr:"hr",hu:"hu",hy:"hy",id:"id",is:"is",it:"it",ja:"ja",ka:"ka",kk:"kk",ko:"ko",lt:"lt",lv:"lv",mk:"mk",ml:"ml",ms:"ms",nl:"nl",no:"no",pl:"pl",pt:"pt",ro:"ro",ru:"ru",si:"si",sk:"sk",sl:"sl",sq:"sq",sr:"sr",sv:"sv",ta:"ta",te:"te",th:"th",tl:"tl",tr:"tr",uk:"uk",vi:"vi",zh:"zh"},t.DETECT_LANGUAGE_AENEAS_LANGUAGE_CODE_MAP={aa:"amh",ab:"kat",af:"afr",ak:"swa",am:"amh",ar:"ara",as:"asm",ay:"spa",az:"aze",ba:"tat",be:"rus",bg:"bul",bh:"hin",bi:"eng",bn:"ben",bo:"zho",br:"fra",bs:"bos",bug:"ind",ca:"cat",ceb:"ind",chr:"eng",co:"ita",crs:"fra",cs:"ces",cy:"cym",da:"dan",de:"deu",dv:"sin",dz:"mya",egy:"ara",el:"ell",en:"eng",eo:"epo",es:"spa",et:"est",eu:"eus",fa:"fas",fi:"fin",fj:"msa",fo:"isl",fr:"fra",fy:"nld",ga:"gle",gd:"gla",gl:"glg",gn:"grn",got:"deu",gu:"guj",gv:"gle",ha:"swa",haw:"msa",hi:"hin",hmn:"mya",hr:"hrv",ht:"fra",hu:"hun",hy:"hye",ia:"ina",id:"ind",ie:"eng",ig:"swa",ik:"eng",is:"isl",it:"ita",iu:"eng",iw:"heb",ja:"jpn",jw:"ind",ka:"kat",kha:"asm",kk:"aze",kl:"kal",km:"tha",kn:"kan",ko:"kor",ks:"hin",ku:"kur",ky:"kir",la:"lat",lb:"deu",lg:"swa",lif:"nep",ln:"swa",lo:"tha",lt:"lit",lv:"lav",mfe:"fra",mg:"msa",mi:"msa",mk:"mkd",ml:"mal",mn:"rus",mr:"mar",ms:"msa",mt:"mlt",my:"mya",na:"msa",ne:"nep",nl:"nld",no:"nor",nr:"swa",nso:"tsn",ny:"swa",oc:"lfn",om:"swa",or:"ori",pa:"pan",pl:"pol",ps:"fas",pt:"por",qu:"spa",rm:"ita",rn:"swa",ro:"ron",ru:"rus",rw:"swa",sa:"hin",sco:"eng",sd:"urd",sg:"swa",si:"sin",sk:"slk",sl:"slv",sm:"msa",sn:"swa",so:"ara",sq:"sqi",sr:"srp",ss:"tsn",st:"tsn",su:"ind",sv:"swe",sw:"swa",syr:"ara",ta:"tam",te:"tel",tg:"fas",th:"tha",ti:"amh",tk:"aze",tl:"msa",tlh:"eng",tn:"tsn",to:"msa",tr:"tur",ts:"swa",tt:"tat",ug:"tur",uk:"ukr",ur:"urd",uz:"aze",ve:"swa",vi:"vie",vo:"eng",war:"msa",wo:"swa",xh:"tsn",yi:"deu",yo:"swa",za:"zho",zh:"cmn","zh-Hant":"yue",zu:"tsn"}},69403:function(e,t,r){"use strict";var n,i,a=r(861).default,o=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ELEVEN_LABS_DEPRECATED_ID_REPLACEMENT_MAP=t.ALL_DISPLAYABLE_VOICES=t.ELEVEN_LABS_DISPLAYABLE_VOICES=t.OPEN_AI_DISPLAYABLE_VOICES=t.GOOGLE_DISPLAYABLE_VOICES=t.DETECT_LANGUAGE_CODE_DISPLAYABLE_LANGUAGE_INFO_MAP=t.LANGUAGE_CODE_DISPLAYABLE_LANGUAGE_INFO_MAP=t.IDEAL_SEGMENT_NUM_CHARS=t.MAX_SEGMENT_NUM_CHARS=t.TTS_PROVIDER_NAME_DESCRIPTOR_MAP=t.TTS_PROVIDER_NAME_MIN_WORKSPACE_AUTH_LEVEL_MAP=void 0;var s=r(2421),u=r(27820);t.TTS_PROVIDER_NAME_MIN_WORKSPACE_AUTH_LEVEL_MAP=(o(n={},s.TtsProviderName.GOOGLE,u.WorkspaceAuthLevel.FREE),o(n,s.TtsProviderName.OPEN_AI,u.WorkspaceAuthLevel.FREE),o(n,s.TtsProviderName.ELEVEN_LABS,u.WorkspaceAuthLevel.FREE),n),t.TTS_PROVIDER_NAME_DESCRIPTOR_MAP=(o(i={},s.TtsProviderName.GOOGLE,"basic"),o(i,s.TtsProviderName.OPEN_AI,"standard"),o(i,s.TtsProviderName.ELEVEN_LABS,"lifelike"),i),t.MAX_SEGMENT_NUM_CHARS=4e3,t.IDEAL_SEGMENT_NUM_CHARS=1e3,t.LANGUAGE_CODE_DISPLAYABLE_LANGUAGE_INFO_MAP={ar:{flagEmoji:"\ud83c\uddf8\ud83c\udde6",detectLanguageCode:"ar",languageCode:"ar",languageName:"Arabic",countryCodes:["XA"]},bn:{flagEmoji:"\ud83c\uddee\ud83c\uddf3",detectLanguageCode:"bn",languageCode:"bn",languageName:"Bengali",countryCodes:["IN"]},cs:{flagEmoji:"\ud83c\udde8\ud83c\uddff",detectLanguageCode:"cs",languageCode:"cs",languageName:"Czech",countryCodes:["CZ"]},da:{flagEmoji:"\ud83c\udde9\ud83c\uddf0",detectLanguageCode:"da",languageCode:"da",languageName:"Danish",countryCodes:["DK"]},nl:{flagEmoji:"\ud83c\uddf3\ud83c\uddf1",detectLanguageCode:"nl",languageCode:"nl",languageName:"Dutch",countryCodes:["BE","NL"]},en:{flagEmoji:"\ud83c\uddfa\ud83c\uddf8",detectLanguageCode:"en",languageCode:"en",languageName:"English",countryCodes:["US","IN","GB","AU","CA","NG","ZA","IE","SG","SCT","JM","IT"]},tl:{flagEmoji:"\ud83c\uddf5\ud83c\udded",detectLanguageCode:"tl",languageCode:"fil",languageName:"Filipino",countryCodes:["PH"]},fi:{flagEmoji:"\ud83c\uddeb\ud83c\uddee",detectLanguageCode:"fi",languageCode:"fi",languageName:"Finnish",countryCodes:["FI"]},fr:{flagEmoji:"\ud83c\uddeb\ud83c\uddf7",detectLanguageCode:"fr",languageCode:"fr",languageName:"French",countryCodes:["CA","FR"]},de:{flagEmoji:"\ud83c\udde9\ud83c\uddea",detectLanguageCode:"de",languageCode:"de",languageName:"German",countryCodes:["DE"]},el:{flagEmoji:"\ud83c\uddec\ud83c\uddf7",detectLanguageCode:"el",languageCode:"el",languageName:"Greek",countryCodes:["GR"]},gu:{flagEmoji:"\ud83c\uddee\ud83c\uddf3",detectLanguageCode:"gu",languageCode:"gu",languageName:"Gujarati",countryCodes:["IN"]},hi:{flagEmoji:"\ud83c\uddee\ud83c\uddf3",detectLanguageCode:"hi",languageCode:"hi",languageName:"Hindi",countryCodes:["IN"]},hu:{flagEmoji:"\ud83c\udded\ud83c\uddfa",detectLanguageCode:"hu",languageCode:"hu",languageName:"Hungarian",countryCodes:["HU"]},id:{flagEmoji:"\ud83c\uddee\ud83c\udde9",detectLanguageCode:"id",languageCode:"id",languageName:"Indonesian",countryCodes:["ID"]},it:{flagEmoji:"\ud83c\uddee\ud83c\uddf9",detectLanguageCode:"it",languageCode:"it",languageName:"Italian",countryCodes:["IT"]},ja:{flagEmoji:"\ud83c\uddef\ud83c\uddf5",detectLanguageCode:"ja",languageCode:"ja",languageName:"Japanese",countryCodes:["JP"]},kn:{flagEmoji:"\ud83c\uddee\ud83c\uddf3",detectLanguageCode:"kn",languageCode:"kn",languageName:"Kannada",countryCodes:["IN"]},ko:{flagEmoji:"\ud83c\uddf0\ud83c\uddf7",detectLanguageCode:"ko",languageCode:"ko",languageName:"Korean",countryCodes:["KR"]},ms:{flagEmoji:"\ud83c\uddf2\ud83c\uddfe",detectLanguageCode:"ms",languageCode:"ms",languageName:"Malay",countryCodes:["MY"]},ml:{flagEmoji:"\ud83c\uddee\ud83c\uddf3",detectLanguageCode:"ml",languageCode:"ml",languageName:"Malayalam",countryCodes:["IN"]},zh:{flagEmoji:"\ud83c\udde8\ud83c\uddf3",detectLanguageCode:"zh",languageCode:"zh",languageName:"Mandarin Chinese",countryCodes:["CN","TW"]},mr:{flagEmoji:"\ud83c\uddee\ud83c\uddf3",detectLanguageCode:"mr",languageCode:"mr",languageName:"Marathi",countryCodes:["IN"]},no:{flagEmoji:"\ud83c\uddf3\ud83c\uddf4",detectLanguageCode:"no",languageCode:"no",languageName:"Norwegian",countryCodes:["NO"]},pl:{flagEmoji:"\ud83c\uddf5\ud83c\uddf1",detectLanguageCode:"pl",languageCode:"pl",languageName:"Polish",countryCodes:["PL"]},pt:{flagEmoji:"\ud83c\udde7\ud83c\uddf7",detectLanguageCode:"pt",languageCode:"pt",languageName:"Portuguese",countryCodes:["BR","PT"]},pa:{flagEmoji:"\ud83c\uddee\ud83c\uddf3",detectLanguageCode:"pa",languageCode:"pa",languageName:"Punjabi",countryCodes:["IN"]},hr:{flagEmoji:"\ud83c\udded\ud83c\uddf7",detectLanguageCode:"hr",languageCode:"hr",languageName:"Croatian",countryCodes:["HR"]},bg:{flagEmoji:"\ud83c\udde7\ud83c\uddec",detectLanguageCode:"bg",languageCode:"bg",languageName:"Bulgarian",countryCodes:["BG"]},ro:{flagEmoji:"\ud83c\uddf7\ud83c\uddf4",detectLanguageCode:"ro",languageCode:"ro",languageName:"Romanian",countryCodes:["RO"]},ru:{flagEmoji:"\ud83c\uddf7\ud83c\uddfa",detectLanguageCode:"ru",languageCode:"ru",languageName:"Russian",countryCodes:["RU"]},sk:{flagEmoji:"\ud83c\uddf8\ud83c\uddf0",detectLanguageCode:"sk",languageCode:"sk",languageName:"Slovak",countryCodes:["SK"]},es:{flagEmoji:"\ud83c\uddea\ud83c\uddf8",detectLanguageCode:"es",languageCode:"es",languageName:"Spanish",countryCodes:["ES","MX","US"]},sv:{flagEmoji:"\ud83c\uddf8\ud83c\uddea",detectLanguageCode:"sv",languageCode:"sv",languageName:"Swedish",countryCodes:["SE"]},ta:{flagEmoji:"\ud83c\uddee\ud83c\uddf3",detectLanguageCode:"ta",languageCode:"ta",languageName:"Tamil",countryCodes:["IN"]},tr:{flagEmoji:"\ud83c\uddf9\ud83c\uddf7",detectLanguageCode:"tr",languageCode:"tr",languageName:"Turkish",countryCodes:["TR"]},uk:{flagEmoji:"\ud83c\uddfa\ud83c\udde6",detectLanguageCode:"uk",languageCode:"uk",languageName:"Ukrainian",countryCodes:["UA"]},vi:{flagEmoji:"\ud83c\uddfb\ud83c\uddf3",detectLanguageCode:"vi",languageCode:"vi",languageName:"Vietnamese",countryCodes:["VN"]},th:{flagEmoji:"\ud83c\uddf9\ud83c\udded",detectLanguageCode:"th",languageCode:"th",languageName:"Thai",countryCodes:["TH"]}},t.DETECT_LANGUAGE_CODE_DISPLAYABLE_LANGUAGE_INFO_MAP={ar:{flagEmoji:"\ud83c\uddf8\ud83c\udde6",languageName:"Arabic"},bn:{flagEmoji:"\ud83c\uddee\ud83c\uddf3",languageName:"Bengali"},cs:{flagEmoji:"\ud83c\udde8\ud83c\uddff",languageName:"Czech"},da:{flagEmoji:"\ud83c\udde9\ud83c\uddf0",languageName:"Danish"},nl:{flagEmoji:"\ud83c\uddf3\ud83c\uddf1",languageName:"Dutch"},en:{flagEmoji:"\ud83c\uddfa\ud83c\uddf8",languageName:"English"},tl:{flagEmoji:"\ud83c\uddf5\ud83c\udded",languageName:"Filipino"},fi:{flagEmoji:"\ud83c\uddeb\ud83c\uddee",languageName:"Finnish"},fr:{flagEmoji:"\ud83c\uddeb\ud83c\uddf7",languageName:"French"},de:{flagEmoji:"\ud83c\udde9\ud83c\uddea",languageName:"German"},el:{flagEmoji:"\ud83c\uddec\ud83c\uddf7",languageName:"Greek"},gu:{flagEmoji:"\ud83c\uddee\ud83c\uddf3",languageName:"Gujarati"},hi:{flagEmoji:"\ud83c\uddee\ud83c\uddf3",languageName:"Hindi"},hu:{flagEmoji:"\ud83c\udded\ud83c\uddfa",languageName:"Hungarian"},id:{flagEmoji:"\ud83c\uddee\ud83c\udde9",languageName:"Indonesian"},it:{flagEmoji:"\ud83c\uddee\ud83c\uddf9",languageName:"Italian"},ja:{flagEmoji:"\ud83c\uddef\ud83c\uddf5",languageName:"Japanese"},kn:{flagEmoji:"\ud83c\uddee\ud83c\uddf3",languageName:"Kannada"},ko:{flagEmoji:"\ud83c\uddf0\ud83c\uddf7",languageName:"Korean"},ms:{flagEmoji:"\ud83c\uddf2\ud83c\uddfe",languageName:"Malay"},ml:{flagEmoji:"\ud83c\uddee\ud83c\uddf3",languageName:"Malayalam"},zh:{flagEmoji:"\ud83c\udde8\ud83c\uddf3",languageName:"Mandarin Chinese"},mr:{flagEmoji:"\ud83c\uddee\ud83c\uddf3",languageName:"Marathi"},no:{flagEmoji:"\ud83c\uddf3\ud83c\uddf4",languageName:"Norwegian"},pl:{flagEmoji:"\ud83c\uddf5\ud83c\uddf1",languageName:"Polish"},pt:{flagEmoji:"\ud83c\udde7\ud83c\uddf7",languageName:"Portuguese"},pa:{flagEmoji:"\ud83c\uddee\ud83c\uddf3",languageName:"Punjabi"},ro:{flagEmoji:"\ud83c\uddf7\ud83c\uddf4",languageName:"Romanian"},ru:{flagEmoji:"\ud83c\uddf7\ud83c\uddfa",languageName:"Russian"},sk:{flagEmoji:"\ud83c\uddf8\ud83c\uddf0",languageName:"Slovak"},es:{flagEmoji:"\ud83c\uddea\ud83c\uddf8",languageName:"Spanish"},sv:{flagEmoji:"\ud83c\uddf8\ud83c\uddea",languageName:"Swedish"},ta:{flagEmoji:"\ud83c\uddee\ud83c\uddf3",languageName:"Tamil"},tr:{flagEmoji:"\ud83c\uddf9\ud83c\uddf7",languageName:"Turkish"},uk:{flagEmoji:"\ud83c\uddfa\ud83c\udde6",languageName:"Ukrainian"},vi:{flagEmoji:"\ud83c\uddfb\ud83c\uddf3",languageName:"Vietnamese"},th:{flagEmoji:"\ud83c\uddf9\ud83c\udded",languageName:"Thai"}},t.GOOGLE_DISPLAYABLE_VOICES=[{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ar-XA",name:"ar-XA-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Aisha",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ar-XA",name:"ar-XA-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Ali",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ar-XA",name:"ar-XA-Wavenet-C"},displayGender:s.DisplayableGender.MALE,displayName:"Omar",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ar-XA",name:"ar-XA-Wavenet-D"},displayGender:s.DisplayableGender.FEMALE,displayName:"Fatima",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"bn-IN",name:"bn-IN-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Ayesha",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"bn-IN",name:"bn-IN-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Aryan",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"cs-CZ",name:"cs-CZ-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Alexandra",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"da-DK",name:"da-DK-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Clara",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"da-DK",name:"da-DK-Wavenet-C"},displayGender:s.DisplayableGender.MALE,displayName:"Mads",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"da-DK",name:"da-DK-Neural2-D"},displayGender:s.DisplayableGender.FEMALE,displayName:"Ida",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"da-DK",name:"da-DK-Wavenet-E"},displayGender:s.DisplayableGender.FEMALE,displayName:"Lea",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"nl-BE",name:"nl-BE-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Lisa",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"nl-BE",name:"nl-BE-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Pieter",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"nl-NL",name:"nl-NL-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Esmee",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"nl-NL",name:"nl-NL-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Niels",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"nl-NL",name:"nl-NL-Wavenet-C"},displayGender:s.DisplayableGender.MALE,displayName:"Tim",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"nl-NL",name:"nl-NL-Wavenet-D"},displayGender:s.DisplayableGender.FEMALE,displayName:"Sofie",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"nl-NL",name:"nl-NL-Wavenet-E"},displayGender:s.DisplayableGender.FEMALE,displayName:"Tessa",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-AU",name:"en-AU-Neural2-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Emily",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-AU",name:"en-AU-Neural2-B"},displayGender:s.DisplayableGender.MALE,displayName:"William",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-AU",name:"en-AU-Neural2-C"},displayGender:s.DisplayableGender.FEMALE,displayName:"Chloe",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-AU",name:"en-AU-Neural2-D"},displayGender:s.DisplayableGender.MALE,displayName:"James",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-IN",name:"en-IN-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Anjali",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-IN",name:"en-IN-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Ayush",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-IN",name:"en-IN-Wavenet-C"},displayGender:s.DisplayableGender.MALE,displayName:"Aarav",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-IN",name:"en-IN-Wavenet-D"},displayGender:s.DisplayableGender.FEMALE,displayName:"Anita",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-GB",name:"en-GB-Neural2-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Charlotte",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-GB",name:"en-GB-Neural2-B"},displayGender:s.DisplayableGender.MALE,displayName:"George",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-GB",name:"en-GB-Neural2-C"},displayGender:s.DisplayableGender.FEMALE,displayName:"Amelia",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-GB",name:"en-GB-Neural2-D"},displayGender:s.DisplayableGender.MALE,displayName:"Harry",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-GB",name:"en-GB-Neural2-F"},displayGender:s.DisplayableGender.FEMALE,displayName:"Olivia",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-US",name:"en-US-Neural2-A"},displayGender:s.DisplayableGender.MALE,displayName:"John",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-US",name:"en-US-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Michael",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-US",name:"en-US-Neural2-C"},displayGender:s.DisplayableGender.FEMALE,displayName:"Emma",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-US",name:"en-US-Neural2-D"},displayGender:s.DisplayableGender.MALE,displayName:"Noah",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-US",name:"en-US-Neural2-E"},displayGender:s.DisplayableGender.FEMALE,displayName:"Liv",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-US",name:"en-US-Neural2-F"},displayGender:s.DisplayableGender.FEMALE,displayName:"Ava",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-US",name:"en-US-Neural2-G"},displayGender:s.DisplayableGender.FEMALE,displayName:"Grace",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-US",name:"en-US-Neural2-H"},displayGender:s.DisplayableGender.FEMALE,displayName:"Sophia",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-US",name:"en-US-Neural2-I"},displayGender:s.DisplayableGender.MALE,displayName:"Ethan",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"en-US",name:"en-US-Neural2-J"},displayGender:s.DisplayableGender.MALE,displayName:"Liam",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"fil-PH",name:"fil-PH-Neural2-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Ashley",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"fil-PH",name:"fil-PH-Wavenet-B"},displayGender:s.DisplayableGender.FEMALE,displayName:"Maricel",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"fil-PH",name:"fil-PH-Wavenet-C"},displayGender:s.DisplayableGender.MALE,displayName:"Jorge",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"fil-PH",name:"fil-PH-Neural2-D"},displayGender:s.DisplayableGender.MALE,displayName:"Mark",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"fi-FI",name:"fi-FI-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Aino",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"fr-CA",name:"fr-CA-Neural2-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Audrey",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"fr-CA",name:"fr-CA-Neural2-B"},displayGender:s.DisplayableGender.MALE,displayName:"Louis",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"fr-CA",name:"fr-CA-Neural2-C"},displayGender:s.DisplayableGender.FEMALE,displayName:"Jade",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"fr-CA",name:"fr-CA-Neural2-D"},displayGender:s.DisplayableGender.MALE,displayName:"Julien",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"fr-FR",name:"fr-FR-Neural2-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Camille",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"fr-FR",name:"fr-FR-Neural2-B"},displayGender:s.DisplayableGender.MALE,displayName:"Pierre",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"fr-FR",name:"fr-FR-Neural2-C"},displayGender:s.DisplayableGender.FEMALE,displayName:"Amelie",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"fr-FR",name:"fr-FR-Neural2-D"},displayGender:s.DisplayableGender.MALE,displayName:"Nicolas",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"fr-FR",name:"fr-FR-Neural2-E"},displayGender:s.DisplayableGender.FEMALE,displayName:"Manon",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"de-DE",name:"de-DE-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Lena",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"de-DE",name:"de-DE-Neural2-B"},displayGender:s.DisplayableGender.MALE,displayName:"Felix",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"de-DE",name:"de-DE-Neural2-C"},displayGender:s.DisplayableGender.FEMALE,displayName:"Hannah",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"de-DE",name:"de-DE-Neural2-D"},displayGender:s.DisplayableGender.MALE,displayName:"Maximilian",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"de-DE",name:"de-DE-Wavenet-E"},displayGender:s.DisplayableGender.MALE,displayName:"Sebastian",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"de-DE",name:"de-DE-Neural2-F"},displayGender:s.DisplayableGender.FEMALE,displayName:"Sophie",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"el-GR",name:"el-GR-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Elena",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"gu-IN",name:"gu-IN-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Pooja",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"gu-IN",name:"gu-IN-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Raj",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"hi-IN",name:"hi-IN-Neural2-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Asha",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"hi-IN",name:"hi-IN-Neural2-B"},displayGender:s.DisplayableGender.MALE,displayName:"Rahul",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"hi-IN",name:"hi-IN-Neural2-C"},displayGender:s.DisplayableGender.MALE,displayName:"Vivek",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"hi-IN",name:"hi-IN-Neural2-D"},displayGender:s.DisplayableGender.FEMALE,displayName:"Priyanka",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"hu-HU",name:"hu-HU-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Anett",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"id-ID",name:"id-ID-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Sari",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"id-ID",name:"id-ID-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Agus",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"id-ID",name:"id-ID-Wavenet-C"},displayGender:s.DisplayableGender.MALE,displayName:"Andi",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"id-ID",name:"id-ID-Wavenet-D"},displayGender:s.DisplayableGender.FEMALE,displayName:"Ayu",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"it-IT",name:"it-IT-Neural2-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Laura",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"it-IT",name:"it-IT-Wavenet-B"},displayGender:s.DisplayableGender.FEMALE,displayName:"Simona",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"it-IT",name:"it-IT-Neural2-C"},displayGender:s.DisplayableGender.MALE,displayName:"Marco",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"it-IT",name:"it-IT-Wavenet-D"},displayGender:s.DisplayableGender.MALE,displayName:"Giuseppe",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ja-JP",name:"ja-JP-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Miyuki",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ja-JP",name:"ja-JP-Neural2-B"},displayGender:s.DisplayableGender.FEMALE,displayName:"Akari",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ja-JP",name:"ja-JP-Neural2-C"},displayGender:s.DisplayableGender.MALE,displayName:"Kenta",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ja-JP",name:"ja-JP-Neural2-D"},displayGender:s.DisplayableGender.MALE,displayName:"Yuta",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"kn-IN",name:"kn-IN-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Kavya",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"kn-IN",name:"kn-IN-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Vikram",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ko-KR",name:"ko-KR-Neural2-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Ji-eun",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ko-KR",name:"ko-KR-Neural2-B"},displayGender:s.DisplayableGender.FEMALE,displayName:"Yoo-jin",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ko-KR",name:"ko-KR-Neural2-C"},displayGender:s.DisplayableGender.MALE,displayName:"Min-ho",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ko-KR",name:"ko-KR-Wavenet-D"},displayGender:s.DisplayableGender.MALE,displayName:"Tae-hyun",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ms-MY",name:"ms-MY-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Nur",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ms-MY",name:"ms-MY-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Aziz",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ms-MY",name:"ms-MY-Wavenet-C"},displayGender:s.DisplayableGender.FEMALE,displayName:"Aisyah",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ms-MY",name:"ms-MY-Wavenet-D"},displayGender:s.DisplayableGender.MALE,displayName:"Amin",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ml-IN",name:"ml-IN-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Parvathy",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ml-IN",name:"ml-IN-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Ajay",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ml-IN",name:"ml-IN-Wavenet-C"},displayGender:s.DisplayableGender.FEMALE,displayName:"Amala",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ml-IN",name:"ml-IN-Wavenet-D"},displayGender:s.DisplayableGender.MALE,displayName:"Arjun",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"cmn-CN",name:"cmn-CN-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Jing",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"cmn-CN",name:"cmn-CN-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Wei",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"cmn-CN",name:"cmn-CN-Wavenet-C"},displayGender:s.DisplayableGender.MALE,displayName:"Chen",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"cmn-CN",name:"cmn-CN-Wavenet-D"},displayGender:s.DisplayableGender.FEMALE,displayName:"Yan",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"cmn-TW",name:"cmn-TW-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Mei",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"cmn-TW",name:"cmn-TW-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Hao",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"cmn-TW",name:"cmn-TW-Wavenet-C"},displayGender:s.DisplayableGender.MALE,displayName:"Cheng",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"mr-IN",name:"mr-IN-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Sarika",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"mr-IN",name:"mr-IN-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Vinay",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"mr-IN",name:"mr-IN-Wavenet-C"},displayGender:s.DisplayableGender.FEMALE,displayName:"Neha",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"nb-NO",name:"nb-NO-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Mina",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"nb-NO",name:"nb-NO-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Erik",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"nb-NO",name:"nb-NO-Wavenet-C"},displayGender:s.DisplayableGender.FEMALE,displayName:"Synne",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"nb-NO",name:"nb-NO-Wavenet-D"},displayGender:s.DisplayableGender.MALE,displayName:"Andreas",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"nb-NO",name:"nb-NO-Wavenet-E"},displayGender:s.DisplayableGender.FEMALE,displayName:"Ingrid",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"pl-PL",name:"pl-PL-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Angelika",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"pl-PL",name:"pl-PL-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Piotr",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"pl-PL",name:"pl-PL-Wavenet-C"},displayGender:s.DisplayableGender.MALE,displayName:"Marcin",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"pl-PL",name:"pl-PL-Wavenet-D"},displayGender:s.DisplayableGender.FEMALE,displayName:"Kasia",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"pl-PL",name:"pl-PL-Wavenet-E"},displayGender:s.DisplayableGender.FEMALE,displayName:"Agata",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"pt-BR",name:"pt-BR-Neural2-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Beatriz",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"pt-BR",name:"pt-BR-Neural2-B"},displayGender:s.DisplayableGender.MALE,displayName:"Lucas",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"pt-BR",name:"pt-BR-Neural2-C"},displayGender:s.DisplayableGender.FEMALE,displayName:"Carla",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"pt-PT",name:"pt-PT-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Marta",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"pt-PT",name:"pt-PT-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Ricardo",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"pt-PT",name:"pt-PT-Wavenet-C"},displayGender:s.DisplayableGender.MALE,displayName:"Luis",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"pt-PT",name:"pt-PT-Wavenet-D"},displayGender:s.DisplayableGender.FEMALE,displayName:"Simone",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"pa-IN",name:"pa-IN-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Aman",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"pa-IN",name:"pa-IN-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Aditya",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"pa-IN",name:"pa-IN-Wavenet-C"},displayGender:s.DisplayableGender.FEMALE,displayName:"Kiran",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"pa-IN",name:"pa-IN-Wavenet-D"},displayGender:s.DisplayableGender.MALE,displayName:"Jaspreet",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ro-RO",name:"ro-RO-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Marina",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ru-RU",name:"ru-RU-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Olga",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ru-RU",name:"ru-RU-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Alexander",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ru-RU",name:"ru-RU-Wavenet-C"},displayGender:s.DisplayableGender.FEMALE,displayName:"Irina",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ru-RU",name:"ru-RU-Wavenet-D"},displayGender:s.DisplayableGender.MALE,displayName:"Sergei",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ru-RU",name:"ru-RU-Wavenet-E"},displayGender:s.DisplayableGender.FEMALE,displayName:"Anna",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"sk-SK",name:"sk-SK-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Monika",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"es-ES",name:"es-ES-Neural2-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Carmen",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"es-ES",name:"es-ES-Neural2-B"},displayGender:s.DisplayableGender.MALE,displayName:"Carlos",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"es-ES",name:"es-ES-Neural2-C"},displayGender:s.DisplayableGender.FEMALE,displayName:"Maria",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"es-ES",name:"es-ES-Neural2-D"},displayGender:s.DisplayableGender.FEMALE,displayName:"Ana",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"es-ES",name:"es-ES-Neural2-E"},displayGender:s.DisplayableGender.FEMALE,displayName:"Isabel",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"es-ES",name:"es-ES-Neural2-F"},displayGender:s.DisplayableGender.MALE,displayName:"Antonio",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"es-US",name:"es-US-Neural2-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Sofia",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"es-US",name:"es-US-Neural2-B"},displayGender:s.DisplayableGender.MALE,displayName:"Juan",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"es-US",name:"es-US-Neural2-C"},displayGender:s.DisplayableGender.MALE,displayName:"Miguel",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"sv-SE",name:"sv-SE-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Nina",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"sv-SE",name:"sv-SE-Wavenet-B"},displayGender:s.DisplayableGender.FEMALE,displayName:"Sara",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"sv-SE",name:"sv-SE-Wavenet-C"},displayGender:s.DisplayableGender.MALE,displayName:"Ebbe",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"sv-SE",name:"sv-SE-Wavenet-D"},displayGender:s.DisplayableGender.FEMALE,displayName:"Hanna",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"sv-SE",name:"sv-SE-Wavenet-E"},displayGender:s.DisplayableGender.MALE,displayName:"Lars",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ta-IN",name:"ta-IN-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Meera",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ta-IN",name:"ta-IN-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Arun",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ta-IN",name:"ta-IN-Wavenet-C"},displayGender:s.DisplayableGender.FEMALE,displayName:"Priya",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"ta-IN",name:"ta-IN-Wavenet-D"},displayGender:s.DisplayableGender.MALE,displayName:"Karthik",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"tr-TR",name:"tr-TR-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Aylin",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"tr-TR",name:"tr-TR-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Emre",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"tr-TR",name:"tr-TR-Wavenet-C"},displayGender:s.DisplayableGender.FEMALE,displayName:"Esra",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"tr-TR",name:"tr-TR-Wavenet-D"},displayGender:s.DisplayableGender.FEMALE,displayName:"Zeynep",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"tr-TR",name:"tr-TR-Wavenet-E"},displayGender:s.DisplayableGender.MALE,displayName:"Mehmet",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"uk-UA",name:"uk-UA-Wavenet-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Anastasia",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"vi-VN",name:"vi-VN-Neural2-A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Linh",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"vi-VN",name:"vi-VN-Wavenet-B"},displayGender:s.DisplayableGender.MALE,displayName:"Minh",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"vi-VN",name:"vi-VN-Wavenet-C"},displayGender:s.DisplayableGender.FEMALE,displayName:"Mai",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"vi-VN",name:"vi-VN-Neural2-D"},displayGender:s.DisplayableGender.MALE,displayName:"Hai",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.GOOGLE,languageCode:"th-TH",name:"th-TH-Neural2-C"},displayGender:s.DisplayableGender.FEMALE,displayName:"Kanya",displayTags:[]}],t.OPEN_AI_DISPLAYABLE_VOICES=[{ttsVoice:{providerName:s.TtsProviderName.OPEN_AI,languageCode:"en-US",voiceId:"alloy"},displayGender:s.DisplayableGender.FEMALE,displayName:"Bella",displayTags:["educational"]},{ttsVoice:{providerName:s.TtsProviderName.OPEN_AI,languageCode:"en-US",voiceId:"echo"},displayGender:s.DisplayableGender.MALE,displayName:"Kyle",displayTags:["educational"]},{ttsVoice:{providerName:s.TtsProviderName.OPEN_AI,languageCode:"en-US",voiceId:"shimmer"},displayGender:s.DisplayableGender.FEMALE,displayName:"Caitlin",displayTags:["educational"]},{ttsVoice:{providerName:s.TtsProviderName.OPEN_AI,languageCode:"en-GB",voiceId:"fable"},displayGender:s.DisplayableGender.MALE,displayName:"Charlie",displayTags:["educational"]},{ttsVoice:{providerName:s.TtsProviderName.OPEN_AI,languageCode:"en-US",voiceId:"onyx"},displayGender:s.DisplayableGender.MALE,displayName:"David",displayTags:["educational"]},{ttsVoice:{providerName:s.TtsProviderName.OPEN_AI,languageCode:"en-US",voiceId:"nova"},displayGender:s.DisplayableGender.FEMALE,displayName:"Mia",displayTags:["educational"]}],t.ELEVEN_LABS_DISPLAYABLE_VOICES=[{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"XrExE9yKIg1WjnnlVkGX"},displayGender:s.DisplayableGender.FEMALE,displayName:"Matilda",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-IN",voiceId:"3gsg3cxXyFLcGIfNbM6C"},displayGender:s.DisplayableGender.MALE,displayName:"Raju",displayTags:["professional","conversational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-GB",voiceId:"ZQe5CZNOzWyzPSCn5a3c"},displayGender:s.DisplayableGender.MALE,displayName:"Winston",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-AU",voiceId:"HDA9tsk27wYi3uq0fPcK"},displayGender:s.DisplayableGender.MALE,displayName:"Stuart",displayTags:["upbeat","educational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"pNInz6obpgDQGcFmaJgB"},displayGender:s.DisplayableGender.MALE,displayName:"Adam",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-ZA",voiceId:"6g3xGh6ox1xCtAg7hvDJ"},displayGender:s.DisplayableGender.FEMALE,displayName:"Lulu",displayTags:["serious","characters animation"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-NG",voiceId:"3dgmviNYLUKJZfOvrm3A"},displayGender:s.DisplayableGender.FEMALE,displayName:"Nala",displayTags:["confident","characters_animation"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"g5CIjZEefAph4nQFvHAz"},displayGender:s.DisplayableGender.MALE,displayName:"Randall",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-SCT",voiceId:"IJpdpIDF9zP8GMGKf42c"},displayGender:s.DisplayableGender.MALE,displayName:"Raymond",displayTags:["soft","conversational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"21m00Tcm4TlvDq8ikWAM"},displayGender:s.DisplayableGender.FEMALE,displayName:"Rachel",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"t0jbNlBVZ17f02VDIeMI"},displayGender:s.DisplayableGender.MALE,displayName:"Harold",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-IN",voiceId:"iWq9tCtTw1SYmVpvsRjY"},displayGender:s.DisplayableGender.FEMALE,displayName:"Natasha",displayTags:["professional","conversational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"ErXwobaYiN019PkySvjV"},displayGender:s.DisplayableGender.MALE,displayName:"Antoni",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"VR6AewLTigWG4xSOukaG"},displayGender:s.DisplayableGender.MALE,displayName:"Arnold",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"EXAVITQu4vr4xnSDxMaL"},displayGender:s.DisplayableGender.FEMALE,displayName:"Annabelle",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"bIHbv24MWmeRgasZH58o"},displayGender:s.DisplayableGender.MALE,displayName:"Will",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"MF3mGyEYCl7XYWbV9V6O"},displayGender:s.DisplayableGender.FEMALE,displayName:"Elli",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"AZnzlk1XvdvUeBnXmlld"},displayGender:s.DisplayableGender.FEMALE,displayName:"Domi",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"TxGEqnHWrfWFTfGW9XjX"},displayGender:s.DisplayableGender.MALE,displayName:"Josh",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"yoZ06aMxZJJ28mfd3POQ"},displayGender:s.DisplayableGender.MALE,displayName:"Sam",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"TX3LPaxmHKxFdv7VOQHJ"},displayGender:s.DisplayableGender.MALE,displayName:"Simon",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"z9fAnlkpzviPz146aGWa"},displayGender:s.DisplayableGender.FEMALE,displayName:"Linda",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"pqHfZKP75CvOlQylNhV4"},displayGender:s.DisplayableGender.MALE,displayName:"Bill",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"N2lVS1w4EtoT3dr4eOWO"},displayGender:s.DisplayableGender.MALE,displayName:"Callum",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"jsCqWAovK2LkecY7zXl4"},displayGender:s.DisplayableGender.FEMALE,displayName:"Mackenzie",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"IKne3meq5aSn9XLyUdCD"},displayGender:s.DisplayableGender.MALE,displayName:"Oliver",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"2EiwWnXFnvU5JabPnv8n"},displayGender:s.DisplayableGender.MALE,displayName:"Clyde",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-GB",voiceId:"XB0fDUnXU5powFXDhCwa"},displayGender:s.DisplayableGender.FEMALE,displayName:"Elizabeth",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"onwK4e9ZLuTAKqWW03F9"},displayGender:s.DisplayableGender.MALE,displayName:"Daniel",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"CYw3kZ02Hs0563khs1Fj"},displayGender:s.DisplayableGender.MALE,displayName:"Dave",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"29vD33N1CtxCmqQRPOHJ"},displayGender:s.DisplayableGender.MALE,displayName:"Kevin",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"LcfcDJNUP1GQjkzn1xUU"},displayGender:s.DisplayableGender.FEMALE,displayName:"Abigail",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"ThT5KcBeYPX3keUQqHPh"},displayGender:s.DisplayableGender.FEMALE,displayName:"Dorothy",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"D38z5RcWu1voky8WS1ja"},displayGender:s.DisplayableGender.MALE,displayName:"Fin",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"bVMeCyTHy58xNoL34h3p"},displayGender:s.DisplayableGender.MALE,displayName:"Jeremy",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"JBFqnCBsd6RMkjVDRZzb"},displayGender:s.DisplayableGender.MALE,displayName:"Edward",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"jBpfuIE2acCO8z3wKNLl"},displayGender:s.DisplayableGender.FEMALE,displayName:"Piper",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-IT",voiceId:"zcAOhNBS3c14rBihAFp1"},displayGender:s.DisplayableGender.MALE,displayName:"Giovanni",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"nPczCjzI2devNBz1zQrb"},displayGender:s.DisplayableGender.MALE,displayName:"Brian",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"oWAxZDx7w5VEj9dCyTzz"},displayGender:s.DisplayableGender.FEMALE,displayName:"Patricia",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"5Q0t7uMcjvnagumLfvZi"},displayGender:s.DisplayableGender.MALE,displayName:"Paul",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-GB",voiceId:"Xb7hH8MSUJpSbSDYk0k2"},displayGender:s.DisplayableGender.FEMALE,displayName:"Alice",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"SOYHLrjzK2X1ezoPC6cr"},displayGender:s.DisplayableGender.MALE,displayName:"Marvin",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"iP95p4xoKVk53GoZ742B"},displayGender:s.DisplayableGender.MALE,displayName:"Chris",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"piTKgcLEGmPE4e6mEKli"},displayGender:s.DisplayableGender.FEMALE,displayName:"Fiona",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-GB",voiceId:"pFZP5JQG7iQjIQuC4Bku"},displayGender:s.DisplayableGender.FEMALE,displayName:"Vanessa",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"flq6f7yk4E4fJM5XTYuZ"},displayGender:s.DisplayableGender.MALE,displayName:"Derek",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"Zlb1dXrM653N07WRdFW3"},displayGender:s.DisplayableGender.MALE,displayName:"Joseph",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"zrHiDhphv9ZnVXBqCLjz"},displayGender:s.DisplayableGender.FEMALE,displayName:"Mimi",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"GBv7mTt0atIp3Br8iCZE"},displayGender:s.DisplayableGender.MALE,displayName:"Elliot",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"pMsXgVXv3BLzUgSXRplE"},displayGender:s.DisplayableGender.FEMALE,displayName:"Eleanor",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"ODq5zmih8GrVes37Dizd"},displayGender:s.DisplayableGender.MALE,displayName:"Patrick",displayTags:[]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"9F4C8ztpNUmXkdDDbz3J"},displayGender:s.DisplayableGender.MALE,displayName:"Dan",displayTags:["excited","social media"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-GB",voiceId:"GWQuDhETbAVmK5NKMI9u"},displayGender:s.DisplayableGender.MALE,displayName:"Oswald",displayTags:["confident","educational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"ar",voiceId:"tavIIPLplRB883FzWU0V"},displayGender:s.DisplayableGender.FEMALE,displayName:"Mona",displayTags:["pleasant","modern","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"ar",voiceId:"JjTirzdD7T3GMLkwdd3a"},displayGender:s.DisplayableGender.MALE,displayName:"Hassan",displayTags:["confident","modern","entertainment TV"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-IN",voiceId:"i43IkvDdcl0HXXIl6t0P"},displayGender:s.DisplayableGender.MALE,displayName:"Prakash",displayTags:["confident","educational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-IN",voiceId:"ftDdhfYtmfGP0tFlBYA1"},displayGender:s.DisplayableGender.FEMALE,displayName:"Alisha",displayTags:["gentle","conversational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-NG",voiceId:"VPVstwonBbtADVhabXP1"},displayGender:s.DisplayableGender.FEMALE,displayName:"Nairobi",displayTags:["confident","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-NG",voiceId:"e5MkVWkvfzcTJMxPexUn"},displayGender:s.DisplayableGender.MALE,displayName:"Simba",displayTags:["wise","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-NG",voiceId:"9Y7KflU2qbvnqCbqbSPa"},displayGender:s.DisplayableGender.MALE,displayName:"Ken",displayTags:["calm","social media"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"zh-CN",voiceId:"WuLq5z7nEcrhppO0ZQJw"},displayGender:s.DisplayableGender.MALE,displayName:"Rui",displayTags:["deep","standard","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"zh-TW",voiceId:"VGcvPRjFP4qKhICQHO7d"},displayGender:s.DisplayableGender.FEMALE,displayName:"Ling",displayTags:["calm","conversational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"bg-BG",voiceId:"kzrsjZhHCumKqmkJl486"},displayGender:s.DisplayableGender.MALE,displayName:"Julian",displayTags:["professional","standard","social media"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"hr-HR",voiceId:"adxhr4Ei7ASJ3Cz7fxwX"},displayGender:s.DisplayableGender.MALE,displayName:"Slobodan",displayTags:["calm","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"cs-CZ",voiceId:"12CHcREbuPdJY02VY7zT"},displayGender:s.DisplayableGender.FEMALE,displayName:"Hanka",displayTags:["neutral","standard","educational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"cs-CZ",voiceId:"nCmK9bolkZa2wzrAjnEe"},displayGender:s.DisplayableGender.MALE,displayName:"Ond\u0159ej",displayTags:["neutral","standard","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"da-DK",voiceId:"C43bq5qXRueL1cBQEOt3"},displayGender:s.DisplayableGender.MALE,displayName:"Thomas",displayTags:["pleasant","zealandic","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"da-DK",voiceId:"6SjhOkgKPuHxm8q0eIyp"},displayGender:s.DisplayableGender.MALE,displayName:"Christian",displayTags:["calm","standard","educational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"nl-NL",voiceId:"tRyB8BgRzpNUv3o2XWD4"},displayGender:s.DisplayableGender.MALE,displayName:"Walter",displayTags:["raspy","flemish","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"nl-NL",voiceId:"WN6cA027izfSQ21WEO2W"},displayGender:s.DisplayableGender.MALE,displayName:"Johan",displayTags:["pleasant","flemish","entertainment TV"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"fr-FR",voiceId:"4p5WXd3ZuWR9pPtRQuxC"},displayGender:s.DisplayableGender.MALE,displayName:"Jean",displayTags:["serious","standard","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"fr-FR",voiceId:"txtf1EDouKke753vN8SL"},displayGender:s.DisplayableGender.FEMALE,displayName:"Jeanne",displayTags:["calm","parisian","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"fr-FR",voiceId:"wyZnrAs18zdIj8UgFSV8"},displayGender:s.DisplayableGender.MALE,displayName:"Fran\xe7ois",displayTags:["deep","standard","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"fr-FR",voiceId:"hFgOzpmS0CMtL2to8sAl"},displayGender:s.DisplayableGender.FEMALE,displayName:"Florence",displayTags:["calm","standard","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"de-DE",voiceId:"eJHgBguIWw9PtA4GHbSP"},displayGender:s.DisplayableGender.MALE,displayName:"Clemens",displayTags:["professional","standard","advertisement"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"de-DE",voiceId:"Dt2jDzhoZC0pZw5bmy2S"},displayGender:s.DisplayableGender.FEMALE,displayName:"Emilia",displayTags:["soft","standard","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"de-DE",voiceId:"0hXkJOH6Cggw6YuRvaXL"},displayGender:s.DisplayableGender.MALE,displayName:"Zacharias",displayTags:["calm","standard","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"de-DE",voiceId:"67cBenwxpAxMOamZ0RaE"},displayGender:s.DisplayableGender.MALE,displayName:"Kurt",displayTags:["calm","standard","conversational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"de-DE",voiceId:"iJoeYUpAnk7y7qkEzmNU"},displayGender:s.DisplayableGender.FEMALE,displayName:"Petra",displayTags:["upbeat","standard","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"hi-IN",voiceId:"Sxk6njaoa7XLsAFT7WcN"},displayGender:s.DisplayableGender.MALE,displayName:"Amit",displayTags:["calm","standard","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"hi-IN",voiceId:"8FsOrsZSELg9otqX9nPu"},displayGender:s.DisplayableGender.FEMALE,displayName:"Reva",displayTags:["upbeat","standard","conversational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"hi-IN",voiceId:"mActWQg9kibLro6Z2ouY"},displayGender:s.DisplayableGender.FEMALE,displayName:"Riya",displayTags:["modulated","standard","conversational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"hi-IN",voiceId:"IMzcdjL6UK1gZxag6QAU"},displayGender:s.DisplayableGender.MALE,displayName:"Shrey",displayTags:["professional","standard","educational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"hu-HU",voiceId:"TumdjBNWanlT3ysvclWh"},displayGender:s.DisplayableGender.MALE,displayName:"Magyar",displayTags:["casual","standard","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"id-ID",voiceId:"WXmGNP5rvPWuO0RYTqfP"},displayGender:s.DisplayableGender.MALE,displayName:"Abyasa",displayTags:["casual","standard","conversational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"id-ID",voiceId:"RWiGLY9uXI70QL540WNd"},displayGender:s.DisplayableGender.MALE,displayName:"Putra",displayTags:["excited","standard","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"it-IT",voiceId:"t3hJ92dgZhDVtsff084B"},displayGender:s.DisplayableGender.MALE,displayName:"Dario",displayTags:["casual","standard","social media"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"it-IT",voiceId:"rgL0xVDlz05Kid06YUgx"},displayGender:s.DisplayableGender.MALE,displayName:"Luca",displayTags:["deep","standard","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"it-IT",voiceId:"3DPhHWXDY263XJ1d2EPN"},displayGender:s.DisplayableGender.FEMALE,displayName:"Francesca",displayTags:["gentle","standard","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"ja-JP",voiceId:"3JDquces8E8bkmvbh6Bc"},displayGender:s.DisplayableGender.MALE,displayName:"Otani",displayTags:["confident","standard","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"ja-JP",voiceId:"8EkOjt4xTPGMclNlh1pk"},displayGender:s.DisplayableGender.FEMALE,displayName:"Morioki",displayTags:["soft","standard","conversational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"ko-KR",voiceId:"s07IwTCOrCDCaETjUVjx"},displayGender:s.DisplayableGender.MALE,displayName:"Hyun",displayTags:["professional","seoul","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"ko-KR",voiceId:"uk7kXcoBjHAb8ioRtYNO"},displayGender:s.DisplayableGender.MALE,displayName:"Jin",displayTags:["upbeat","social media"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"no-NO",voiceId:"2dhHLsmg0MVma2t041qT"},displayGender:s.DisplayableGender.MALE,displayName:"Johannes",displayTags:["confident","standard","educational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"pl-PL",voiceId:"C1DBnkwmDIzoLOPlBvSg"},displayGender:s.DisplayableGender.MALE,displayName:"Ignacius",displayTags:["casual","mazovian","conversational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"pl-PL",voiceId:"Pid5DJleNF2sxsuF6YKD"},displayGender:s.DisplayableGender.FEMALE,displayName:"Aneta",displayTags:["confident","entertainment TV"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"pt-BR",voiceId:"WFSxKvz27RguNRD3Phoq"},displayGender:s.DisplayableGender.MALE,displayName:"Wesley",displayTags:["brazilian","characters animation"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"pt-BR",voiceId:"33B4UnXyTNbgLmdEDh5P"},displayGender:s.DisplayableGender.FEMALE,displayName:"Keren",displayTags:["excited","brazilian","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"pt-BR",voiceId:"hd5xzUNI8bF3Lvk3KkTO"},displayGender:s.DisplayableGender.FEMALE,displayName:"Juliana",displayTags:["anxious","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"pt",voiceId:"tS45q0QcrDHqHoaWdCDR"},displayGender:s.DisplayableGender.MALE,displayName:"Lax",displayTags:["casual","entertainment TV"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"pt-BR",voiceId:"UaeEQHfiDI8l58WWXiwS"},displayGender:s.DisplayableGender.MALE,displayName:"Leonardo",displayTags:["hyped","advertisement"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"pt-BR",voiceId:"n2aB5UDlpf5USMJH7Qst"},displayGender:s.DisplayableGender.MALE,displayName:"Gilson",displayTags:["confident","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"pt-BR",voiceId:"MZxV5lN3cv7hi1376O0m"},displayGender:s.DisplayableGender.FEMALE,displayName:"Raquel",displayTags:["formal","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"ro-RO",voiceId:"gbLy9ep70G3JW53cTzFC"},displayGender:s.DisplayableGender.FEMALE,displayName:"Corina",displayTags:["calm","standard","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"ro-RO",voiceId:"OlBp4oyr3FBAGEAtJOnU"},displayGender:s.DisplayableGender.MALE,displayName:"Jora",displayTags:["deep","standard","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"ro-RO",voiceId:"h3aQ5g69oxB0wpernpfx"},displayGender:s.DisplayableGender.MALE,displayName:"Ciprian",displayTags:["calm","standard","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"ru-RU",voiceId:"vQxSi2EuaRWwBw3nn6dK"},displayGender:s.DisplayableGender.MALE,displayName:"Marat",displayTags:["calm","moscow","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"ru-RU",voiceId:"gedzfqL7OGdPbwm0ynTP"},displayGender:s.DisplayableGender.FEMALE,displayName:"Nadia",displayTags:["crisp","educational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"es-ES",voiceId:"KHCvMklQZZo0O30ERnVn"},displayGender:s.DisplayableGender.FEMALE,displayName:"Sarah",displayTags:["wise","peninsular","educational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"es-ES",voiceId:"Vpv1YgvVd6CHIzOTiTt8"},displayGender:s.DisplayableGender.MALE,displayName:"Martin",displayTags:["deep","peninsular","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"es-MX",voiceId:"gbTn1bmCvNgk0QEAVyfM"},displayGender:s.DisplayableGender.MALE,displayName:"Enrique",displayTags:["gentle","mexican","educational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"es-ES",voiceId:"Nh2zY9kknu6z4pZy6FhD"},displayGender:s.DisplayableGender.MALE,displayName:"Diego",displayTags:["confident","peninsular","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"es-MX",voiceId:"2rigMbVWLdqtBSCahJFX"},displayGender:s.DisplayableGender.FEMALE,displayName:"Tatiana",displayTags:["calm","latin american","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"es-MX",voiceId:"2Lb1en5ujrODDIqmp7F3"},displayGender:s.DisplayableGender.FEMALE,displayName:"Jhenny",displayTags:["calm","latin american","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"sv-SE",voiceId:"aSLKtNoVBZlxQEMsnGL2"},displayGender:s.DisplayableGender.FEMALE,displayName:"Sanna",displayTags:["calm","stockholm","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"ta-IN",voiceId:"gCr8TeSJgJaeaIoV4RWH"},displayGender:s.DisplayableGender.FEMALE,displayName:"Kavitha",displayTags:["confident","standard","conversational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"tr-TR",voiceId:"gyxPK6bLXQAkBSCeAKvk"},displayGender:s.DisplayableGender.FEMALE,displayName:"Sultan",displayTags:["professional","istanbul","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"tr-TR",voiceId:"xsGHrtxT5AdDzYXTQT0d"},displayGender:s.DisplayableGender.FEMALE,displayName:"G\xf6n\xfcl",displayTags:["calm","istanbul","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"tr-TR",voiceId:"TASY7VCrU29rEMoYFTGG"},displayGender:s.DisplayableGender.FEMALE,displayName:"Hurrem",displayTags:["professional","istanbul","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"tr-TR",voiceId:"mBUB5zYuPwfVE6DTcEjf"},displayGender:s.DisplayableGender.FEMALE,displayName:"Burcu",displayTags:["professional","istanbul","advertisement"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"tr-TR",voiceId:"zCagxWNd7QOsCjiHDrGR"},displayGender:s.DisplayableGender.FEMALE,displayName:"Ipek",displayTags:["professional","standard","educational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"vi-VI",voiceId:"ueSxRO0nLF1bj93J2hVt"},displayGender:s.DisplayableGender.MALE,displayName:"Thuy",displayTags:["crisp","standard","conversational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-AU",voiceId:"uvxDZyxRISyWYoLZ1r0W"},displayGender:s.DisplayableGender.FEMALE,displayName:"Zara",displayTags:["pleasant","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-AU",voiceId:"DwI0NZuZgKu8SNwnpa1x"},displayGender:s.DisplayableGender.MALE,displayName:"Russo",displayTags:["serious","entertainment tv"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-AU",voiceId:"wdl81wKJWCxmGUORQ1Y0"},displayGender:s.DisplayableGender.FEMALE,displayName:"Kylie",displayTags:["upbeat","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-IE",voiceId:"LrLmdJKFulHhIm3zTngO"},displayGender:s.DisplayableGender.MALE,displayName:"Se\xe1n",displayTags:["confident","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-JM",voiceId:"ai7vnuwnZ3jvqdrhJ4wc"},displayGender:s.DisplayableGender.MALE,displayName:"Malik",displayTags:["intense","characters animation"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-ZA",voiceId:"WozPKHOoYlhBHhCjxxEU"},displayGender:s.DisplayableGender.MALE,displayName:"Roger",displayTags:["mature","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-ZA",voiceId:"ec0Fx65Vil8JBr4VRwe6"},displayGender:s.DisplayableGender.MALE,displayName:"Max",displayTags:["calm","conversational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-SG",voiceId:"owsLoyJNU4K7ctU6NF7F"},displayGender:s.DisplayableGender.MALE,displayName:"Mun",displayTags:["professional","educational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-SG",voiceId:"Gp9tE4wM5inXdXq8sCgP"},displayGender:s.DisplayableGender.MALE,displayName:"Xavier",displayTags:["gentle","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"aOcS60CY8CoaVaZfqqb5"},displayGender:s.DisplayableGender.MALE,displayName:"Cowboy",displayTags:["husky","US southern","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"YEkUdc7PezGaXaRslSHB"},displayGender:s.DisplayableGender.MALE,displayName:"Bubba",displayTags:["rough","US southern","characters animation"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"1Z7qQDyqapTm8qBfJx6e"},displayGender:s.DisplayableGender.FEMALE,displayName:"Yee",displayTags:["sassy","US southern","characters animation"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-CA",voiceId:"9XfYMbJVZqPHaQtYnTAO"},displayGender:s.DisplayableGender.MALE,displayName:"Cody",displayTags:["excited","educational"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-CA",voiceId:"liXYZRafib6dsV7EExjZ"},displayGender:s.DisplayableGender.MALE,displayName:"Lawrence",displayTags:["calm","narrative story"]},{ttsVoice:{providerName:s.TtsProviderName.ELEVEN_LABS,languageCode:"en-CA",voiceId:"ZeivtdfIqps0cxWlXKdq"},displayGender:s.DisplayableGender.FEMALE,displayName:"Cadence",displayTags:["cute","narrative story"]}],t.ALL_DISPLAYABLE_VOICES=[].concat(a(t.ELEVEN_LABS_DISPLAYABLE_VOICES),a(t.OPEN_AI_DISPLAYABLE_VOICES),a(t.GOOGLE_DISPLAYABLE_VOICES)),t.ELEVEN_LABS_DEPRECATED_ID_REPLACEMENT_MAP={X9cCz43ZWcP3aLBSfFC2:"vQxSi2EuaRWwBw3nn6dK"}},80706:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_ARRAY=void 0,t.EMPTY_ARRAY=[]},46044:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AI_CREDITS_PER_WEBSITE_SCAN=t.AI_CREDITS_PER_AI_PROMPT=t.AI_CREDITS_PER_IMAGE_GENERATION=t.AI_CREDITS_PER_TTS_CHAR=t.USAGE_CONSTANT_KEY_UPGRADE_MESSAGE_MAP=t.USAGE_CREDIT_KEY_VISIBILITY_MAP=t.USAGE_CREDIT_KEY_UPGRADE_MESSAGE_MAP=t.USAGE_CREDIT_KEY_PLURAL_NAME_MAP=t.USAGE_CREDIT_KEY_SINGULAR_NAME_MAP=void 0;var n=r(27820);t.USAGE_CREDIT_KEY_SINGULAR_NAME_MAP={aiCredits:"AI credit",storageUploads:"Media upload",gettyAssetDownloads:"iStock video"},t.USAGE_CREDIT_KEY_PLURAL_NAME_MAP={aiCredits:"AI credits",storageUploads:"Media uploads",gettyAssetDownloads:"iStock videos"},t.USAGE_CREDIT_KEY_UPGRADE_MESSAGE_MAP={aiCredits:"get more AI credits",storageUploads:"upload more assets",gettyAssetDownloads:"download more iStock videos"},t.USAGE_CREDIT_KEY_VISIBILITY_MAP={aiCredits:n.UsageCreditKeyVisibility.EXTERNAL,storageUploads:n.UsageCreditKeyVisibility.INTERNAL,gettyAssetDownloads:n.UsageCreditKeyVisibility.EXTERNAL},t.USAGE_CONSTANT_KEY_UPGRADE_MESSAGE_MAP={numCharsPerScript:"write longer video scripts",totalNumStoredUploads:"store more files",totalStorageBytes:"increase your storage limit"},t.AI_CREDITS_PER_TTS_CHAR=1,t.AI_CREDITS_PER_IMAGE_GENERATION=250,t.AI_CREDITS_PER_AI_PROMPT=100,t.AI_CREDITS_PER_WEBSITE_SCAN=1e3},50809:function(e,t,r){"use strict";var n=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.isAdminActionTypeDangerous=void 0;var i=r(53176);t.isAdminActionTypeDangerous=function(e){var t;return(n(t={},i.AdminActionType.CAST_FIRESTORE_COLLECTION,!1),n(t,i.AdminActionType.CAST_AND_UPDATE_FIRESTORE_COLLECTION,!0),n(t,i.AdminActionType.DELETE_ACCOUNT,!0),n(t,i.AdminActionType.REFILL_CREDITS_IN_ALL_FREE_WORKSPACE_INFOS,!0),n(t,i.AdminActionType.CREATE_FREE_ACCESS_CODE_BATCH,!0),n(t,i.AdminActionType.GET_SEND_GRID_FIELD_DEFINITIONS,!1),n(t,i.AdminActionType.GET_ALL_ADMIN_USERS,!1),n(t,i.AdminActionType.GET_ALL_SCRIPT_TEXTS,!1),n(t,i.AdminActionType.GENERATE_LIBRARY_INPUT_FILE_RANGE,!0),n(t,i.AdminActionType.UPSERT_LIBRARY_INPUT_FILE_RANGE,!0),n(t,i.AdminActionType.COMPILE_GETTY_ASSET_USAGES,!0),n(t,i.AdminActionType.UPDATE_GETTY_ASSETS,!0),t)[e]}},81832:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRectPositionForKeyFrame=t.backgroundKeyFramesToCurrentKeyFrame=t.getBackgroundKeyFramesForAnimationType=void 0;var n=r(68329),i=r(12539);t.getBackgroundKeyFramesForAnimationType=function(e){return[]};t.backgroundKeyFramesToCurrentKeyFrame=function(e){var t=e.backgroundKeyFrames,r=e.completionProportion;if(0===t.length)return{zoomFactor:1,xPercentage:0,yPercentage:0};if(1===t.length)return(0,n.arrGetFirst)(t);var a=(0,i.clip)({num:r*(t.length-1),min:0,max:t.length-1}),o=(0,n.arrGet)(t,Math.floor(a)),s=(0,n.arrGet)(t,Math.ceil(a)),u=a%1,c=1-u;return{zoomFactor:o.zoomFactor*c+s.zoomFactor*u,xPercentage:o.xPercentage*c+s.xPercentage*u,yPercentage:o.yPercentage*c+s.yPercentage*u}};t.getRectPositionForKeyFrame=function(e){var t=e.defaultRectPosition,r=e.keyFrame,n=Math.max(1,r.zoomFactor),a=(0,i.clip)({num:r.xPercentage/100,min:0,max:1}),o=(0,i.clip)({num:r.yPercentage/100,min:0,max:1}),s=t.width*n,u=t.height*n,c=s-t.width,l=u-t.height;return{x:t.x-c+c*a,y:t.y-l+l*o,width:s,height:u}}},58285:function(e,t,r){"use strict";var n=r(74704).default,i=r(56690).default,a=r(89728).default,o=r(38416).default,s=r(42122).default,u=r(17061).default,c=r(17156).default,l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isWorkspaceContextCacheMatchByWorkspaceId=t.ApiEndpointCaller=t.getApiUrlForEndpoint=t.getApiBasePath=t.apiPost=t.fetchWithTimeout=t.buildApiHeaders=t.serverTimeoutSecondsToClientTimeoutSeconds=t.isHttpStatusSuccessful=void 0;var d=l(r(37648)),f=l(r(27623)),h=r(42217),p=r(58526),v=r(80715),g=r(34250),m=r(84160),y=r(54897),b=r(71047),S=r(69806);t.isHttpStatusSuccessful=function(e){return e>=200&&e<300};t.serverTimeoutSecondsToClientTimeoutSeconds=function(e){return e+30};var E=function(){var e=c(u().mark((function e(r){var n,i,a,o,s,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.res,i=r.resContentType,a=r.castAsResData,o=r.throwSecretError,s=(0,t.isHttpStatusSuccessful)(n.status),e.next=4,c(u().mark((function e(){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=5;break}return e.next=3,n.json();case 3:return t=e.sent,e.abrupt("return",t);case 5:e.t0=i,e.next=e.t0===h.ResContentType.JSON?8:e.t0===h.ResContentType.TEXT?12:e.t0===h.ResContentType.STREAM?15:16;break;case 8:return e.next=10,n.json();case 10:return r=e.sent,e.abrupt("return",r);case 12:return e.next=14,n.text();case 14:return e.abrupt("return",e.sent);case 15:return e.abrupt("return",{});case 16:case"end":return e.stop()}}),e)})))();case 4:if(l=e.sent,!s){e.next=9;break}return e.abrupt("return",a(l));case 9:throw o?(0,g.convertUnknownErrorToSecretKnownError)(l):(0,g.convertUnknownErrorToPublicKnownError)(l);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.buildApiHeaders=function(e){var t=e.reqContentType,r=e.userIdToken,n=e.adminSecret,i={};return t===h.ReqContentType.JSON&&(i=s(s({},i),{},{"Content-Type":"application/json"})),null!=r&&(i=s(s({},i),{},{Authorization:"Bearer ".concat(r)})),null!=n&&(i=s(s({},i),{},{"Admin-Secret":n})),i};var x=function(){var e=c(u().mark((function e(t){var r,n,i,a,o,c,l,d,f,h,p;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,n=t.requestInit,i=t.resContentType,a=t.castAsResData,o=t.timeoutSeconds,c=t.throwSecretError,l=new AbortController,d=setTimeout((function(){l.abort()}),o*S.MILLISECONDS_PER_SECOND),e.prev=3,e.next=6,fetch(r,s(s({},n),{},{signal:l.signal}));case 6:return f=e.sent,clearTimeout(d),e.next=10,E({res:f,resContentType:i,castAsResData:a,throwSecretError:c});case 10:return h=e.sent,e.abrupt("return",{res:f,resData:h,isFromCache:!1});case 14:if(e.prev=14,e.t0=e.catch(3),!l.signal.aborted){e.next=18;break}throw(0,g.newFatalError)("Request timed out. Please check your internet connection and try again.",{rawData:{url:r,timeoutSeconds:o}});case 18:if("Failed to fetch"!==(p=(0,g.getUnknownErrorRawMessage)(e.t0))&&"Network request failed"!==p){e.next=21;break}throw(0,g.newFatalError)("Network request failed. Please check your Internet connection and try again.",{rawData:{rawMessage:p,secretKnownError:(0,g.convertUnknownErrorToSecretKnownError)(e.t0)}});case 21:throw e.t0;case 22:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}();t.fetchWithTimeout=x;var w=function(){var e=c(u().mark((function e(r){var n,i,a,o,s,c,l,d,f,p,m,b,S,E,x,w,k,_;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.reqArgs,i=r.env,a=r.workspaceContext,o=r.checkEmailVerified,s=r.allApiOptions,c=s.serverName,l=s.route,d=s.relativePath,f=s.resContentType,p=s.castAsReqArgs,m=s.castAsResData,b=s.minimumWorkspaceAuthLevel,S=s.requireVerifiedEmail,E=s.serverTimeoutSeconds,x=s.upgradeToIncreaseMessage,!S){e.next=5;break}return e.next=5,o();case 5:e.t0=a.type,e.next=e.t0===h.WorkspaceContextType.AUTHED?8:e.t0===h.WorkspaceContextType.UNAUTHED?11:14;break;case 8:return w=a.workspaceInfo,null!=b&&(0,y.checkWorkspaceInfoSatisfiesAuthLevel)({workspaceInfo:w,requiredWorkspaceAuthLevel:b,upgradeRequirement:{type:v.KnownErrorUpgradeRequirementType.API_MIDDLEWARE},upgradeToIncreaseMessage:x}),e.abrupt("break",14);case 11:if(null==b){e.next=13;break}throw(0,g.newFatalError)("User must be signed in to perform this action.");case 13:return e.abrupt("break",14);case 14:return k=(0,t.getApiUrlForEndpoint)({env:i,serverName:c,route:l,relativePath:d}),_=(0,t.serverTimeoutSecondsToClientTimeoutSeconds)(E),e.next=18,(0,t.fetchWithTimeout)({url:k,requestInit:{method:"post",body:JSON.stringify(p(n)),headers:(0,t.buildApiHeaders)(s)},resContentType:f,castAsResData:m,timeoutSeconds:_,throwSecretError:!1});case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.apiPost=w;t.getApiBasePath=function(e,t){switch(t){case"backend":var r;return(o(r={},p.Environment.PROD,"https://api.videogen.io"),o(r,p.Environment.DEV,"https://dev.api.videogen.io"),o(r,p.Environment.ANTON,"https://anton.api.videogen.io"),o(r,p.Environment.DAVID,"https://david.api.videogen.io"),o(r,p.Environment.LOCAL,"http://localhost:4000"),r)[e];case"processor":var n;return(o(n={},p.Environment.PROD,"https://processor-k3wxm2gyoq-uc.a.run.app"),o(n,p.Environment.DEV,"https://processor-dev-k3wxm2gyoq-uc.a.run.app"),o(n,p.Environment.ANTON,"https://processor-anton-k3wxm2gyoq-uc.a.run.app"),o(n,p.Environment.DAVID,"https://processor-david-k3wxm2gyoq-uc.a.run.app"),o(n,p.Environment.LOCAL,"http://localhost:4001"),n)[e];case"external":var i;return(o(i={},p.Environment.PROD,"https://external-k3wxm2gyoq-uc.a.run.app"),o(i,p.Environment.DEV,"https://external-dev-k3wxm2gyoq-uc.a.run.app"),o(i,p.Environment.ANTON,"https://external-anton-k3wxm2gyoq-uc.a.run.app"),o(i,p.Environment.DAVID,"https://external-david-k3wxm2gyoq-uc.a.run.app"),o(i,p.Environment.LOCAL,"http://localhost:4002"),i)[e];default:return(0,g.assertNever)(t)}};t.getApiUrlForEndpoint=function(e){var r=e.env,n=e.serverName,i=e.route,a=e.relativePath;return(0,m.joinPaths)((0,t.getApiBasePath)(r,n),i,a)};var k=function(){function e(t){i(this,e),o(this,"presetApiOptions",void 0),o(this,"cache",void 0),this.presetApiOptions=t,this.cache={cacheItems:[]}}return a(e,[{key:"constructAllApiOptions",value:function(e){var t=e.apiContext,r=e.runtimeApiOptions,n=t.userIdToken;return s(s({},this.presetApiOptions),{},{userIdToken:n},r)}},{key:"fetchResContainerFromEndpoint",value:function(){var e=c(u().mark((function e(r){var n,i,a,o,c,l,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.apiContext,i=r.reqArgs,a=r.allApiOptions,o=n.env,c=n.workspaceContext,l=n.checkEmailVerified,d=a.httpMethod,e.t0=d,e.next=e.t0===h.HTTPMethod.POST?6:9;break;case 6:return e.next=8,(0,t.apiPost)({reqArgs:i,env:o,workspaceContext:c,checkEmailVerified:l,allApiOptions:s(s({},a),{},{httpMethod:d})});case 8:return e.abrupt("return",e.sent);case 9:throw(0,g.newInternalError)("ApiEndpointCaller does not support ".concat(this.presetApiOptions.httpMethod," requests."));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchResContainerFromCache",value:function(e){var t=e.apiContext,r=e.reqArgs,i=e.allApiOptions,a=t.env,o=t.workspaceContext,s=i.endpointCallerCacheOptions;if(null!=s){var u=(0,b.getCurrentSecondsSinceEpoch)();this.cache.cacheItems=this.cache.cacheItems.filter((function(e){return e.cacheSecondsSinceEpoch+s.maxCacheSeconds>=u})),this.cache.cacheItems=this.cache.cacheItems.slice(0,s.maxCachedResults);var c,l=n(this.cache.cacheItems);try{for(l.s();!(c=l.n()).done;){var h=c.value;if((0,d.default)(i,h.allApiOptions)&&(0,d.default)(r,h.reqArgs)&&(0,d.default)(a,h.env)&&s.isWorkspaceContextCacheMatch({workspaceContext:o,cachedWorkspaceContext:h.workspaceContext}))return(0,f.default)({resData:h.resData,isFromCache:!0})}}catch(p){l.e(p)}finally{l.f()}}}},{key:"storeResContainerInCache",value:function(e){var t=e.resContainerFromEndpoint,r=e.apiContext,n=e.reqArgs,i=e.allApiOptions,a=i.endpointCallerCacheOptions;if(null==a||a.maxCachedResults<=0)this.cache.cacheItems=[];else{var o=r.env,s=r.workspaceContext,u=t.resData;this.cache.cacheItems.unshift((0,f.default)({env:o,workspaceContext:s,allApiOptions:i,reqArgs:n,resData:u,cacheSecondsSinceEpoch:(0,b.getCurrentSecondsSinceEpoch)()})),this.cache.cacheItems=this.cache.cacheItems.slice(0,a.maxCachedResults)}}},{key:"call",value:function(){var e=c(u().mark((function e(t,r,n){var i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.constructAllApiOptions({apiContext:t,runtimeApiOptions:n}),null==(a=this.fetchResContainerFromCache({apiContext:t,reqArgs:r,allApiOptions:i}))){e.next=4;break}return e.abrupt("return",a);case 4:return e.next=6,this.fetchResContainerFromEndpoint({apiContext:t,reqArgs:r,allApiOptions:i});case 6:return o=e.sent,this.storeResContainerInCache({resContainerFromEndpoint:o,apiContext:t,reqArgs:r,allApiOptions:i}),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()}]),e}();t.ApiEndpointCaller=k;t.isWorkspaceContextCacheMatchByWorkspaceId=function(e){var t=e.workspaceContext,r=e.cachedWorkspaceContext;return t.type===h.WorkspaceContextType.AUTHED&&r.type===h.WorkspaceContextType.AUTHED&&t.workspaceInfo.workspaceId===r.workspaceInfo.workspaceId}},61680:function(e,t,r){"use strict";var n=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getAppUrlForPath=t.getAppBasePath=void 0;var i=r(58526),a=r(84160);t.getAppBasePath=function(e){var t;return(n(t={},i.Environment.PROD,"https://app.videogen.io"),n(t,i.Environment.DEV,"https://dev.app.videogen.io"),n(t,i.Environment.ANTON,"https://anton.app.videogen.io"),n(t,i.Environment.DAVID,"https://david.app.videogen.io"),n(t,i.Environment.LOCAL,"http://localhost:3000"),t)[e]};t.getAppUrlForPath=function(e,r){return(0,a.joinPaths)((0,t.getAppBasePath)(e),r)}},68329:function(e,t,r){"use strict";var n=r(27424).default,i=r(74704).default,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.arrGetMinimizer=t.arrGetMaximizer=t.arrWithoutDuplicates=t.arrFilter=t.paginateArr=t.arrShuffle=t.selectRandomArrElement=t.arrSum=t.arrSet=t.arrGetLastOrOmit=t.arrGetLast=t.arrGetFirstOrOmit=t.arrGetFirst=t.arrGetOrOmit=t.arrGet=void 0;var o=a(r(97921)),s=r(34250);t.arrGet=function(e,t){if(t<0||t>=e.length)throw(0,s.newInternalError)("Index ".concat(t," is out of bounds for the given arr."),{rawData:{arr:e,index:t}});return e[t]};t.arrGetOrOmit=function(e,t){return null===e||void 0===e?void 0:e[t]};t.arrGetFirst=function(e){if(0===e.length)throw(0,s.newInternalError)("Cannot get first element of empty arr.");return e[0]};t.arrGetFirstOrOmit=function(e){return null===e||void 0===e?void 0:e[0]};t.arrGetLast=function(e){if(0===e.length)throw(0,s.newInternalError)("Cannot get last element of empty arr.");return e[e.length-1]};t.arrGetLastOrOmit=function(e){return null===e||void 0===e?void 0:e[e.length-1]};t.arrSet=function(e,t,r){if(t<0||t>=e.length)throw(0,s.newInternalError)("Index ".concat(t," is out of bounds for the given arr."),{rawData:{arr:e,index:t,newValue:r}});e[t]=r};t.arrSum=function(e){return e.reduce((function(e,t){return e+t}),0)};t.selectRandomArrElement=function(e){if(0===e.length)throw(0,s.newInternalError)("Cannot select a random element of an empty arr.");return e[Math.floor(Math.random()*e.length)]};t.arrShuffle=function(e){for(var t=e.length-1;t>0;t-=1){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e};t.paginateArr=function(e,t){for(var r=[],n=0;n<e.length;n+=t){var i=Math.min(n+t,e.length);r.push(e.slice(n,i))}return r};t.arrFilter=function(e,t){var r,n=[],a=[],o=i(e);try{for(o.s();!(r=o.n()).done;){var s=r.value;t(s)?n.push(s):a.push(s)}}catch(u){o.e(u)}finally{o.f()}return{trueElements:n,falseElements:a}};t.arrWithoutDuplicates=function(e,t){var r,n=[],a=new Set,s=i(e);try{for(s.s();!(r=s.n()).done;){var u=r.value,c=(null!==t&&void 0!==t?t:o.default)(u);a.has(c)||(n.push(u),a.add(c))}}catch(l){s.e(l)}finally{s.f()}return n};t.arrGetMaximizer=function(e,r){var a=r.getElementValue;if(0===e.length)throw(0,s.newInternalError)("Cannot get maximizer of empty arr.");var o,u=(0,t.arrGetFirst)(e),c=0,l=Number.NEGATIVE_INFINITY,d=i(e.entries());try{for(d.s();!(o=d.n()).done;){var f=n(o.value,2),h=f[0],p=f[1],v=a(p);v>l&&(u=p,c=h,l=v)}}catch(g){d.e(g)}finally{d.f()}return{maximizerElement:u,maximizerElementIndex:c,maxElementValue:l}};t.arrGetMinimizer=function(e,r){var n=r.getElementValue;if(0===e.length)throw(0,s.newInternalError)("Cannot get minimizer of empty arr.");var i=(0,t.arrGetMaximizer)(e,{getElementValue:function(e){return-n(e)}});return{minimizerElement:i.maximizerElement,minimizerElementIndex:i.maximizerElementIndex,minElementValue:i.maxElementValue}}},69319:function(e,t,r){"use strict";var n=r(861).default,i=r(42122).default,a=r(27424).default,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getFixedAssetTrim=t.mapAssetReferencesToHaveUniqueRefIds=t.getVisualAssetLocatorDefaultContainAndBlur=t.getVisualAssetLocatorKnownWidthHeightRatio=t.calculateWidthAndHeightPixels=t.deleteBackgroundAsset=t.splitBackgroundAsset=t.dragBackgroundAssetTime=t.scaleAssetReferencesToNewTotalDuration=t.expandForegroundVisualAssetReferences=t.expandBackgroundVisualAssetReferences=t.getAllAssetLocatorsInObject=t.addNewStockVisualAssetMetadataStoreToCurrent=t.getAssetLocatorUrl=t.displayTimingToAssetDuration=t.isDisplayTimingActive=t.isAssetHydrated=t.strToStockVisualAssetLocator=t.stockVisualAssetLocatorToStr=t.generateRandomRefId=t.getSrcProtocolData=t.base64SourceProtocolToDataUrl=t.dataUrlToBase64SourceProtocol=t.assetPositionToCSSStyle=t.assetPositionToOverlayScaleArgs=t.SPLASH_SCREEN_PATH=t.getAssetPath=t.ASSETS_BASE_PATH=void 0;var s=o(r(97921)),u=r(42172),c=r(90152),l=r(5447),d=r(68329),f=r(34250),h=r(12539),p=r(84160),v=r(92053),g=r(13492),m=r(6962),y=r(59284),b=r(69806),S=o(r(27623)),E=r(47491),x=r(19461);t.ASSETS_BASE_PATH="https://storage.googleapis.com/videogen-assets/";t.getAssetPath=function(e){return(0,p.joinPaths)(t.ASSETS_BASE_PATH,e)},t.SPLASH_SCREEN_PATH=(0,t.getAssetPath)("videogen-splash-1080p.mov");t.assetPositionToOverlayScaleArgs=function(e,t,r){var n=e.type,i=e.xPercent,a=e.yPercent,o=e.widthPercent,s=e.heightPercent,c=(0,h.percentageToProportion)(i),l=(0,h.percentageToProportion)(a),d=(0,h.percentageToProportion)(o),f=(0,h.percentageToProportion)(s);return{xOverlayArg:n===u.AssetPositionType.PERCENT_VALID_PADDING?"'trunc((W-w)*".concat(c,")'"):"'trunc(min(max(W*".concat(c,"-w/2,0),W-w))'"),yOverlayArg:n===u.AssetPositionType.PERCENT_VALID_PADDING?"'trunc((H-h)*".concat(l,")'"):"'trunc(min(max(H*".concat(l,"-h/2,0),H-h))'"),widthScaleArg:"'trunc(min(".concat(t,"*").concat(d,",").concat(r,"*").concat(f,"*iw/ih))'"),heightScaleArg:"'trunc(min(".concat(r,"*").concat(f,",").concat(t,"*").concat(d,"*ih/iw))'")}};t.assetPositionToCSSStyle=function(e){var t=e.xPercent,r=e.yPercent,n=e.widthPercent,i=e.heightPercent;return{position:"absolute",left:"".concat(t,"%"),top:"".concat(r,"%"),transform:"translateX(-".concat(t,"%) translateY(-").concat(r,"%)"),width:"".concat(n,"%"),height:"".concat(i,"%"),objectFit:"contain",objectPosition:"center"}};t.dataUrlToBase64SourceProtocol=function(e){var t="data:";if(!e.startsWith(t))throw(0,f.newInternalError)('Data url must start with "'.concat(t,'".'),{rawData:{dataUrl:e}});var r=e.slice(5).split(";base64,");if(2!==r.length)throw(0,f.newInternalError)("Data url is not in proper format to be converted to base 64.",{rawData:{dataUrl:e,segments:r}});return{type:u.SourceProtocolType.DATA_BASE_64,mimeType:(0,d.arrGet)(r,0),base64:(0,d.arrGet)(r,1)}};t.base64SourceProtocolToDataUrl=function(e){var t=e.mimeType,r=e.base64;return"data:".concat(t,";base64,").concat(r)};t.getSrcProtocolData=function(e){try{if(e.startsWith("http"))return{type:u.SourceProtocolType.HTTP,httpUrl:e};if(e.startsWith("blob:http"))return{type:u.SourceProtocolType.BLOB_HTTP,blobHttpUrl:e};if(null!=e.match(/^data:[a-z\-]+\/[a-z\-+]+;base64,[A-Za-z0-9+\/]+$/))try{return(0,t.dataUrlToBase64SourceProtocol)(e)}catch(r){}}catch(n){return void console.error(n)}};t.generateRandomRefId=function(){return(0,E.generateRandomAsciiStr)({length:7})};t.stockVisualAssetLocatorToStr=function(e){return(0,s.default)(e)};t.strToStockVisualAssetLocator=function(e){return(0,u.castAsStockVisualAssetLocator)(JSON.parse(e))};t.isAssetHydrated=function(e){var t=e.assetLocator,r=e.storageIdFileRecord,n=e.stockVisualAssetMetadataStore;switch(t.type){case u.AssetLocatorType.URL:return(0,p.isStrValidUrl)(t.url);case u.AssetLocatorType.CORE:var i=n.coreRecordIdMetadataRecord[t.recordId];return null!=i&&i.availablePrimarySizes.length>0;case u.AssetLocatorType.GETTY:return null!=n.gettyRecordIdMetadataRecord[t.recordId];case u.AssetLocatorType.STORAGE:var a=r[t.storageFileId];return(0,v.isStorageFileDisplayable)(null!==a&&void 0!==a?a:null,{expirationBufferMilliseconds:b.MILLISECONDS_PER_MINUTE});case u.AssetLocatorType.TMP_FILE:return!0;default:return(0,f.assertNever)(t)}};t.isDisplayTimingActive=function(e){var t=e.displayTiming,r=e.currentTime,n=e.projectDuration,i=t.startTime,a=t.endTime,o=1e-6;return r>=i&&(r<a||Math.abs(r-a)<o&&Math.abs(r-n)<o)};t.displayTimingToAssetDuration=function(e){var t=e.startTime,r=e.endTime;if(r<t)throw(0,f.newInternalError)("End time cannot be before start time.");return r-t};t.getAssetLocatorUrl=function(e,t){var r=t.useThumbnailIfAvailable,n=t.storageIdFileRecord,i=t.stockVisualAssetMetadataStore,a=t.minSize,o=t.idealSize;if(null!=e)switch(e.type){case u.AssetLocatorType.URL:return r&&e.thumbUrl?e.thumbUrl:e.url;case u.AssetLocatorType.STORAGE:var s,c,l=n[e.storageFileId];if(null==l)return;return r&&l.storageFileMetadata.hydratedUrlRecord.THUMBNAIL_READ?l.storageFileMetadata.hydratedUrlRecord.THUMBNAIL_READ.signedUrl:null!==(s=null===(c=l.storageFileMetadata.hydratedUrlRecord.READ)||void 0===c?void 0:c.signedUrl)&&void 0!==s?s:void 0;case u.AssetLocatorType.CORE:var d=i.coreRecordIdMetadataRecord[e.recordId];if(null==d)return;return(0,g.getBestCoreLibrarySourceUrl)({recordId:e.recordId,type:m.LibraryRecordType.VIDEO,subtype:r?m.LibraryRecordAssetSubtype.THUMBNAIL:m.LibraryRecordAssetSubtype.PRIMARY,availablePrimarySizes:d.availablePrimarySizes,availableThumbnailSizes:d.availableThumbnailSizes,minSize:a,idealSize:o});case u.AssetLocatorType.GETTY:var h=i.gettyRecordIdMetadataRecord[e.recordId];if(null==h)return;var p=(0,g.libraryRecordIdToSummary)(e.recordId).providerTypeUniqueId;return r?(0,y.gettyVideoSlugToUrl)({slug:h.thumbnailSlug,videoAssetId:p}):(0,y.gettyVideoSlugToUrl)({slug:h.primarySlug,videoAssetId:p});case u.AssetLocatorType.TMP_FILE:return;default:return(0,f.assertNever)(e)}};t.addNewStockVisualAssetMetadataStoreToCurrent=function(e){var t=e.currentStockVisualAssetMetadataStore,r=e.newStockVisualAssetMetadataStore;(0,l.strictObjectToEntries)(r).forEach((function(e){var r=a(e,2),n=r[0],o=r[1];switch(n){case"coreRecordIdMetadataRecord":case"gettyRecordIdMetadataRecord":t[n]=i(i({},t[n]),o);break;default:throw(0,f.assertNever)(n)}}))};t.getAllAssetLocatorsInObject=function(e){try{return[(0,u.castAsAssetLocator)(e)]}catch(s){}for(var r=[],i=0,a=Object.values(e);i<a.length;i++){var o=a[i];(0,l.isObject)(o)&&r.push.apply(r,n((0,t.getAllAssetLocatorsInObject)(o)))}return r};var w=function(e){var t=0;return e.map((function(e){var r={startTime:t,endTime:t+e.duration};return t+=e.duration,i(i({},e),{},{overallAssetTiming:r})}))};t.expandBackgroundVisualAssetReferences=function(e){return w(e)};t.expandForegroundVisualAssetReferences=function(e){return w(e)};t.scaleAssetReferencesToNewTotalDuration=function(e){var t=e.assetReferences,r=e.newTotalDuration;if(0===t.length)return[];var n=(0,d.arrSum)(t.map((function(e){return e.duration})));if(n===r)return t;if(n<=0)return t.map((function(e){return i(i({},e),{},{duration:r/t.length})}));var a=t.map((function(e){return i(i({},e),{},{duration:e.duration*r/n})})),o=[];return a.forEach((function(e,t){var r=(0,d.arrGetLastOrOmit)(o);null==r||r.duration>=x.MIN_BACKGROUND_ASSET_DURATION&&(t!==a.length-1||e.duration>=x.MIN_BACKGROUND_ASSET_DURATION)?o.push(e):r.duration+=e.duration})),o};t.dragBackgroundAssetTime=function(e){var t=e.backgroundVisualAssetReferences,r=e.backgroundRefId,n=e.dragType,i=e.timeShift;if(0===t.length)return[];var a=t.findIndex((function(e){return e.refId===r}));if(-1===a)return t;var o=(0,S.default)(t),s="start"===n?-1:1,u=(0,d.arrGetOrOmit)(o,a),c=(0,d.arrGetOrOmit)(o,a+s);if(null==u||null==c)return o;var l=c.duration+u.duration;return u.duration=(0,h.clip)({num:u.duration+i*s,min:x.MIN_BACKGROUND_ASSET_DURATION,max:l-x.MIN_BACKGROUND_ASSET_DURATION}),c.duration=l-u.duration,o};t.splitBackgroundAsset=function(e){var r=e.backgroundVisualAssetReferences,n=e.backgroundRefId;return r.flatMap((function(e){if(e.refId===n){var r=e.duration/2;if(r<x.MIN_BACKGROUND_ASSET_DURATION)throw(0,f.newWarningError)("Asset is too short to split.",{rawData:{newSplitDuration:r,MIN_BACKGROUND_ASSET_DURATION:x.MIN_BACKGROUND_ASSET_DURATION,backgroundVisualAssetReference:e}});return[i(i({},e),{},{duration:r}),i(i({},e),{},{refId:(0,t.generateRandomRefId)(),duration:r})]}return[e]}))};t.deleteBackgroundAsset=function(e){var t=e.backgroundVisualAssetReferences,r=e.backgroundRefId,n=t.findIndex((function(e){return e.refId===r}));if(-1===n)return t;var a=(0,d.arrGetOrOmit)(t,n);if(null==a)return t;if(t.length<=1)throw(0,f.newWarningError)("Cannot delete only asset.",{rawData:{backgroundVisualAssetReferences:t,currentBackgroundIndex:n}});var o=n===t.length-1?-1:1;return t.flatMap((function(e,t){return t===n?[]:t===n+o?[i(i({},e),{},{duration:e.duration+a.duration})]:[e]}))};t.calculateWidthAndHeightPixels=function(e){var t=e.minDimensionPixels,r=e.aspectRatio;return{widthPixels:Math.max(t,Math.ceil(t*r.width/r.height)),heightPixels:Math.max(t,Math.ceil(t*r.height/r.width))}};t.getVisualAssetLocatorKnownWidthHeightRatio=function(e){var t=e.visualAssetLocator,r=e.storageIdFileRecord,n=e.stockVisualAssetMetadataStore;try{switch(t.type){case u.AssetLocatorType.CORE:var i,a=(0,d.arrGetLastOrOmit)(null===(i=n.coreRecordIdMetadataRecord[t.recordId])||void 0===i?void 0:i.availablePrimarySizes);return null==a?null:a.width/a.height;case u.AssetLocatorType.GETTY:var o,s=(0,d.arrGetFirstOrOmit)(null===(o=n.gettyRecordIdMetadataRecord[t.recordId])||void 0===o?void 0:o.downloadSizes);return null==s?null:s.width/s.height;case u.AssetLocatorType.STORAGE:var l=r[t.storageFileId];return null==l||l.type===c.WorkspaceStorageFileType.AUDIO?null:l.size.width/l.size.height;case u.AssetLocatorType.TMP_FILE:return null;default:return(0,f.assertNever)(t)}}catch(h){return console.log(h),null}};t.getVisualAssetLocatorDefaultContainAndBlur=function(e){var r=e.visualAssetLocator,n=e.aspectRatio,i=e.storageIdFileRecord,a=e.stockVisualAssetMetadataStore;if(r.type===u.AssetLocatorType.STORAGE)return!0;var o=(0,t.getVisualAssetLocatorKnownWidthHeightRatio)({visualAssetLocator:r,storageIdFileRecord:i,stockVisualAssetMetadataStore:a});if(null==o||n.width<=0||n.height<=0)return!0;var s=n.width/n.height;return Math.max(s,o)/Math.min(s,o)>=1.08};t.mapAssetReferencesToHaveUniqueRefIds=function(e){var r=new Set;return e.map((function(e){if(r.has(e.refId)){var n=(0,t.generateRandomRefId)();return r.add(n),i(i({},e),{},{refId:n})}return r.add(e.refId),e}))};t.getFixedAssetTrim=function(e){var t=(0,h.clip)({num:e.startProportion,min:0,max:1-x.MIN_TRIM_PROPORTION_GAP}),r=(0,h.clip)({num:e.endProportion,min:x.MIN_TRIM_PROPORTION_GAP,max:1});if(r-t>=x.MIN_TRIM_PROPORTION_GAP)return{startProportion:t,endProportion:r};var n=(0,h.clip)({num:(t+r)/2-x.MIN_TRIM_PROPORTION_GAP/2,min:0,max:1-x.MIN_TRIM_PROPORTION_GAP});return{startProportion:n,endProportion:(0,h.clip)({num:n+x.MIN_TRIM_PROPORTION_GAP,min:x.MIN_TRIM_PROPORTION_GAP,max:1})}}},76733:function(e,t,r){"use strict";var n=r(27424).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkBrandTransformation=t.getDefaultBrand=void 0;var a=r(5447),o=i(r(37648)),s=r(34250),u=r(81714),c=i(r(27623)),l=r(30755),d=r(71047),f=r(2421);t.getDefaultBrand=function(e){e.brandId;var t=(0,d.getCurrentSecondsSinceEpoch)();return(0,c.default)({brandId:(0,u.generateUuid)(),name:"",customInstructions:"",writingStyle:"",captionStyle:l.CAPTION_PRESET_NAME_STYLE_MAP["Classic TV Style"],ttsVoice:{providerName:f.TtsProviderName.OPEN_AI,languageCode:"en-US",voiceId:"shimmer"},creationSse:t,lastEditSse:t})};t.checkBrandTransformation=function(e){var t=e.rootBrand,r=e.transformedBrand,i=e.copyTransformedToRoot;(0,a.strictObjectToEntries)(r).forEach((function(e){var r=n(e,2),a=r[0],u=r[1];switch(a){case"brandId":case"creationSse":if(!(0,o.default)(t[a],u))throw(0,s.newInternalError)("Brand transformation modified read-only property ".concat(a));break;case"name":case"customInstructions":case"writingStyle":case"captionStyle":case"ttsVoice":case"lastEditSse":i&&(t[a]=u);break;default:(0,s.assertNever)(a)}}))}},75677:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bytesToStr=t.gigabytesToBytes=t.bytesToGigabytes=t.megabytesToBytes=t.bytesToMegabytes=t.kilobytesToBytes=t.bytesToKilobytes=void 0;var n=r(30919),i=r(34250),a=r(12539);t.bytesToKilobytes=function(e){return e/n.BYTES_PER_KILOBYTE};t.kilobytesToBytes=function(e){return Math.floor(e*n.BYTES_PER_KILOBYTE)};t.bytesToMegabytes=function(e){return e/n.BYTES_PER_MEGABYTE};t.megabytesToBytes=function(e){return Math.floor(e*n.BYTES_PER_MEGABYTE)};t.bytesToGigabytes=function(e){return e/n.BYTES_PER_GIGABYTE};t.gigabytesToBytes=function(e){return Math.floor(e*n.BYTES_PER_GIGABYTE)};t.bytesToStr=function(e){var r=Math.floor(e);if(r<0)throw(0,i.newInternalError)("Bytes cannot be negative.",{rawData:{bytes:e}});var n=(0,t.bytesToKilobytes)(r);if(n<1)return"".concat((0,a.toFixedWithoutTrailingZeros)(r,0)," B");var o=(0,t.bytesToMegabytes)(r);if(o<1)return"".concat((0,a.toFixedWithoutTrailingZeros)(n,1)," KB");var s=(0,t.bytesToGigabytes)(r);return s<1?"".concat((0,a.toFixedWithoutTrailingZeros)(o,1)," MB"):"".concat((0,a.toFixedWithoutTrailingZeros)(s,1)," GB")}},45211:function(e,t,r){"use strict";var n=r(861).default,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.drawTextOnCanvas=t.getNumBlurPixels=t.fontSizeToIdealCharsPerChunk=t.textJustificationToStr=t.aspectRatioToWidthHeightRatio=void 0;var s=r(98468),u=r(5447),c=r(68329),l=r(77653),d=r(34250),f=r(12539),h=o(r(26692)),p=o(r(92078));t.aspectRatioToWidthHeightRatio=function(e){var t=e.width/e.height;if(!(0,u.isNumber)(t)||t<=0)throw(0,d.newFatalError)("Invalid aspect ratio.");return t};t.textJustificationToStr=function(e){switch(e){case s.TextJustification.LEFT:return"left";case s.TextJustification.CENTER:return"center";case s.TextJustification.RIGHT:return"right";default:return(0,d.assertNever)(e)}};t.fontSizeToIdealCharsPerChunk=function(e){var t=(e-50)/50;return(0,f.clip)({num:40-30*t,min:10,max:40})};t.getNumBlurPixels=function(e){var t=e.canvasWidth,r=e.canvasHeight;return Math.ceil(.015*Math.max(t,r))};t.drawTextOnCanvas=function(e){var r=e.fabricCanvas,i=e.text,a=e.captionStyle,o=e.isPreview,u=e.useNodeFabric?p:h;r.renderOnAddRemove=!1,r.clear();var d=r.getWidth(),f=r.getHeight();if(!a.isHidden){var v=o?Math.min(.8*d,3*f):Math.min(.8*d,f),g=o?Math.min(.8*d,4.5*f):Math.min(.8*d,1.5*f),m=.7*f,y=a.font,b=a.textColor,S=a.strokeColor,E=a.textJustification,x=a.backgroundStyle,w=a.strokeWeight,k=a.verticalAlignment,_=5*w,T=v/1080,A=new u.Textbox(i,{fontFamily:y.fontName,fontSize:y.fontSize*T,fontWeight:y.fontWeight,fill:(0,l.rgbColorToStr)(b),stroke:S?(0,l.rgbColorToStr)(S):void 0,textAlign:(0,t.textJustificationToStr)(E),strokeWidth:_*T,splitByGrapheme:!1,width:v,paintFirst:"stroke",strokeLineJoin:"round",strokeLineCap:"round",strokeDashArray:[1],objectCaching:!1}),C=A.getScaledWidth(),P=A.calcTextHeight(),I=A.textLines.length,O=Array.from({length:I},(function(e,t){return A.getLineWidth(t)})),R=Array.from({length:I},(function(e,t){return A.getHeightOfLine(t)})),N=(0,c.arrSum)(R),L=R.map((function(e){return e*P/N})),j=0===I?P:Math.min((0,c.arrGetFirst)(L),(0,c.arrGetLast)(L)),M=.25*j,D=.15*j,F=function(){switch(E){case s.TextJustification.LEFT:return(d-g)/2;case s.TextJustification.CENTER:return(d-C)/2;case s.TextJustification.RIGHT:return(d+g)/2-C}}(),U=function(){switch(k){case s.VerticalAlignment.TOP:return(f-m)/2;case s.VerticalAlignment.MIDDLE:return(f-P)/2;case s.VerticalAlignment.BOTTOM:return(f+m)/2-P}}();if(null!=x&&I>0){var B=(j+2*M)*x.borderRadiusProportion/2,G=O.map((function(e,t){return A._getLineLeftOffset(t)-D})),V=O.map((function(e,t){return(0,c.arrGet)(G,t)+e+_+2*D})),H=Math.min.apply(Math,n(G)),W=Math.max.apply(Math,n(V));switch(x.type){case s.TextBackgroundStyleType.RECT:var q=new u.Rect({left:F+H-M,top:U-M,fill:(0,l.rgbColorToStr)(x.backgroundColor),width:W-H+2*M,height:P+2*M,rx:B,ry:B,opacity:x.opacityProportion});r.add(q);break;case s.TextBackgroundStyleType.WRAPPED:var z=[],Y=(0,c.arrGetFirst)(G),X=(0,c.arrGetFirst)(V);z.push("M ".concat(Y,",").concat(B)),z.push("A ".concat(B,",").concat(B," 0 0,1 ").concat(Y+B,",0")),z.push("L ".concat(X+2*M-B," 0")),z.push("A ".concat(B,",").concat(B," 0 0,1 ").concat(X+2*M,",").concat(B));for(var K=0,J=0;J<I-1;J+=1){K+=(0,c.arrGet)(L,J);var Z=(0,c.arrGet)(V,J),Q=(0,c.arrGet)(V,J+1),$=Q-Z;if(0!==$){var ee=Math.min(Math.abs($)/2,B),te=$>0?0:2*M,re=$>0?ee:-ee;z.push("L ".concat(Z+2*M," ").concat(K+te-ee)),z.push("A ".concat(ee,",").concat(ee," 0 0,").concat($>0?0:1," ").concat(Z+2*M+re,",").concat(K+te)),2*ee<Math.abs($)&&z.push("L ".concat(Q+2*M-re," ").concat(K+te)),z.push("A ".concat(ee,",").concat(ee," 0 0,").concat($>0?1:0," ").concat(Q+2*M,",").concat(K+te+ee))}}var ne=(0,c.arrGetLast)(G),ie=(0,c.arrGetLast)(V);z.push("L ".concat(ie+2*M," ").concat(P+2*M-B)),z.push("A ".concat(B,",").concat(B," 0 0,1 ").concat(ie+2*M-B,",").concat(P+2*M)),z.push("L ".concat(ne+B," ").concat(P+2*M)),z.push("A ".concat(B,",").concat(B," 0 0,1 ").concat(ne,",").concat(P+2*M-B)),K=P;for(var ae=I-1;ae>0;ae-=1){K-=(0,c.arrGet)(L,ae);var oe=(0,c.arrGet)(G,ae),se=(0,c.arrGet)(G,ae-1),ue=se-oe;if(0!==ue){var ce=Math.min(Math.abs(ue)/2,B),le=ue>0?0:2*M,de=ue>0?ce:-ce;z.push("L ".concat(oe," ").concat(K+le+ce)),z.push("A ".concat(ce,",").concat(ce," 0 0,").concat(ue>0?1:0," ").concat(oe+de,",").concat(K+le)),2*ce<Math.abs(ue)&&z.push("L ".concat(se-de," ").concat(K+le)),z.push("A ".concat(ce,",").concat(ce," 0 0,").concat(ue>0?0:1," ").concat(se,",").concat(K+le-ce))}}z.push("Z");var fe=new u.Path(z.join(" "),{fill:(0,l.rgbColorToStr)(x.backgroundColor),opacity:x.opacityProportion,left:F+H-M,top:U-M});r.add(fe)}}A.left=F,A.top=U,r.add(A),r.renderAll()}}},81138:function(e,t,r){"use strict";var n=r(861).default;Object.defineProperty(t,"__esModule",{value:!0}),t.timingToCaptionTextIndexRange=t.wordTimingsIndexRangeToTiming=t.checkChunkIndexRanges=t.getChunkIndexRanges=t.getSceneSentenceIndexRanges=t.captionTextIndexRangeToSentenceIndexRanges=t.captionTextToScenes=t.captionTextIndexRangeToStr=t.captionTextIndexRangeToWords=t.checkCaptionTextIndexRange=t.textToCaptionText=t.generateSceneIndexRanges=void 0;var i=r(15685),a=r(75668),o=r(68329),s=r(34250),u=r(12539),c=r(41107);t.generateSceneIndexRanges=function(e){var t=e.sentenceIndexRanges,r=e.sceneWordLengthThreshold,n=[],i=r.min,a=r.max;if(i>a||a<=1)throw(0,s.newInternalError)("Invalid sceneWordLengthThreshold.",{rawData:{sceneWordLengthThreshold:r}});t.forEach((function(e,t){var r=e.endIndex-e.startIndex,s=(0,o.arrGetLastOrOmit)(n);if(null!=s){var u=s.endIndex-s.startIndex;if(u<i||u+r<=a)return void(s.endIndex=e.endIndex)}n.push({startIndex:e.startIndex,endIndex:e.endIndex})}));for(var u=0;u<n.length;u+=1){var c=(0,o.arrGet)(n,u),l=c.endIndex-c.startIndex,d=Math.ceil(l/a);if(d>1){for(var f=[],h=0;h<d;h+=1)f.push({startIndex:c.startIndex+Math.round(h/d*l),endIndex:c.startIndex+Math.round((h+1)/d*l)});n.splice.apply(n,[u,1].concat(f)),u+=d-1}}return n};t.textToCaptionText=function(e){var r=e.scriptElements,o=e.sceneWordLengthThreshold;if(0===r.length)throw(0,s.newWarningError)("Cannot generate captions for empty text.");var l=[],d=[],f=[],h=0;if(r.forEach((function(e){switch(e.tag){case a.ScriptTag.SPEECH:(0,c.textToSentences)(e.text).forEach((function(e){var t=(0,c.textToWords)(e);d.push({startIndex:l.length,endIndex:l.length+t.length}),f.push(h),h=0,l.push.apply(l,n(t))}));break;case a.ScriptTag.PAUSE:h+=e.time,h=(0,u.clip)({num:h,min:0,max:i.MAX_PAUSE_SECONDS});break;default:return(0,s.assertNever)(e)}})),f.push(h),0===l.length)throw(0,s.newWarningError)("Captions must include at least one word.");var p=(0,t.generateSceneIndexRanges)({sentenceIndexRanges:d,sceneWordLengthThreshold:o});return{words:l,sentenceIndexRanges:d,sentenceBreakDurations:f,sceneIndexRanges:p}};t.checkCaptionTextIndexRange=function(e){var t=e.captionText,r=e.indexRange,n=r.startIndex,i=r.endIndex;if(n>=i)throw(0,s.newInternalError)("End index must be greater than start index.");if(n<0)throw(0,s.newInternalError)("Start index cannot be less than 0.");if(i>t.words.length)throw(0,s.newInternalError)("End index cannot greater than or equal to numWords.")};t.captionTextIndexRangeToWords=function(e){var r=e.captionText,n=e.indexRange;(0,t.checkCaptionTextIndexRange)({captionText:r,indexRange:n});var i=n.startIndex,a=n.endIndex;return r.words.slice(i,a)};t.captionTextIndexRangeToStr=function(e){var r=e.captionText,n=e.indexRange;return(0,t.captionTextIndexRangeToWords)({captionText:r,indexRange:n}).join(" ")};t.captionTextToScenes=function(e){return e.sceneIndexRanges.map((function(r){return(0,t.captionTextIndexRangeToStr)({captionText:e,indexRange:r})}))};t.captionTextIndexRangeToSentenceIndexRanges=function(e){var t=e.captionText,r=e.indexRange,n=[];return t.sentenceIndexRanges.forEach((function(e){var t=Math.max(r.startIndex,e.startIndex),i=Math.min(r.endIndex,e.endIndex);i>t&&n.push({startIndex:t,endIndex:i})})),n};t.getSceneSentenceIndexRanges=function(e){for(var t=e.sceneIndexRanges,r=e.sentenceIndexRanges,n=[],i=0,a=0;i<t.length&&a<r.length;){var s=(0,o.arrGet)(t,i),u=(0,o.arrGet)(r,a),c=0===n.length?0:(0,o.arrGetLast)(n).endIndex,l=Math.min(s.endIndex,u.endIndex);n.push({startIndex:c,endIndex:l}),s.endIndex===l&&(i+=1),u.endIndex===l&&(a+=1)}return n};t.getChunkIndexRanges=function(e){var r=e.words,n=e.sceneIndexRanges,i=e.sentenceIndexRanges,a=e.idealCharsPerChunk;return(0,t.getSceneSentenceIndexRanges)({sceneIndexRanges:n,sentenceIndexRanges:i}).flatMap((function(e){var t=r.slice(e.startIndex,e.endIndex),n=t.map((function(e){return Math.min(e.length,a)})),i=(0,o.arrSum)(n),s=i/t.length,u=Math.ceil(i/a),c=i/u,l=c,d=[];return t.forEach((function(r,i){if((l-=(0,o.arrGet)(n,i))<s/2&&d.length<u-1||i===t.length-1){var a=0===d.length?e.startIndex:(0,o.arrGetLast)(d).endIndex,f=e.startIndex+i+1;d.push({startIndex:a,endIndex:f}),l+=c}})),d}))};t.checkChunkIndexRanges=function(e){var t=e.chunkIndexRanges,r=e.numWords;if(0===t.length){if(0===r)return;throw(0,s.newInternalError)("Caption text has words but not chunk index ranges.")}if(0!==(0,o.arrGetFirst)(t).startIndex)throw(0,s.newInternalError)("First chunk index range must have start index 0.");if((0,o.arrGetLast)(t).endIndex!==r)throw(0,s.newInternalError)("Last chunk index range must have end index numWords.");for(var n=0;n<t.length;n+=1){if(n+1<t.length&&(0,o.arrGet)(t,n).endIndex!==(0,o.arrGet)(t,n+1).startIndex)throw(0,s.newInternalError)("End index must equal to next start index.");if((0,o.arrGet)(t,n).startIndex>=(0,o.arrGet)(t,n).endIndex)throw(0,s.newInternalError)("End index must be greater than start index.")}};t.wordTimingsIndexRangeToTiming=function(e){var t=e.wordTimings,r=e.indexRange,n=r.startIndex,i=r.endIndex;return{startTime:(0,o.arrGet)(t,n).startTime,endTime:i>0?(0,o.arrGet)(t,i-1).endTime:0}};t.timingToCaptionTextIndexRange=function(e){var t,r=e.wordTimings,n=e.timing,i=null,a=r.length;return r.forEach((function(e,t){null==i&&e.endTime>n.startTime&&(i=t),e.startTime<n.endTime&&(a=t+1)})),{startIndex:null!==(t=i)&&void 0!==t?t:0,endIndex:a}}},77653:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexStrToRgbColor=t.rgbColorToHexStr=t.rgbColorToStr=t.clipRgbColor=void 0;var n=r(34250),i=r(12539),a=r(47491);t.clipRgbColor=function(e){var t=e.red,r=e.green,n=e.blue;return{red:Math.floor((0,i.clip)({num:t,min:0,max:255})),green:Math.floor((0,i.clip)({num:r,min:0,max:255})),blue:Math.floor((0,i.clip)({num:n,min:0,max:255}))}};t.rgbColorToStr=function(e,r){var n=(0,t.clipRgbColor)(e),i=n.red,a=n.green,o=n.blue;return null==r?"rgb(".concat(i,",").concat(a,",").concat(o,")"):"rgba(".concat(i,",").concat(a,",").concat(o,",").concat(r,")")};t.rgbColorToHexStr=function(e){var r=(0,t.clipRgbColor)(e),n=r.red,i=r.green,a=r.blue,o=n.toString(16).padStart(2,"0"),s=i.toString(16).padStart(2,"0"),u=a.toString(16).padStart(2,"0");return"".concat(o).concat(s).concat(u)};t.hexStrToRgbColor=function(e){if(e.startsWith("#")&&(e=e.substring(1)),3===e.length){var r,i,o,s=16*(null!==(r=(0,a.parseIntOrOmit)(e.substring(0,1).replace(/[^0-9a-f]/g,"0"),16))&&void 0!==r?r:0),u=16*(null!==(i=(0,a.parseIntOrOmit)(e.substring(1,2).replace(/[^0-9a-f]/g,"0"),16))&&void 0!==i?i:0),c=16*(null!==(o=(0,a.parseIntOrOmit)(e.substring(2,3).replace(/[^0-9a-f]/g,"0"),16))&&void 0!==o?o:0);return(0,t.clipRgbColor)({red:s,green:u,blue:c})}if(6===e.length){var l,d,f,h=null!==(l=(0,a.parseIntOrOmit)(e.substring(0,2).replace(/[^0-9a-f]/g,"0"),16))&&void 0!==l?l:0,p=null!==(d=(0,a.parseIntOrOmit)(e.substring(2,4).replace(/[^0-9a-f]/g,"0"),16))&&void 0!==d?d:0,v=null!==(f=(0,a.parseIntOrOmit)(e.substring(4,6).replace(/[^0-9a-f]/g,"0"),16))&&void 0!==f?f:0;return(0,t.clipRgbColor)({red:h,green:p,blue:v})}throw(0,n.newFatalError)("Invalid hex color: #".concat(e))}},39848:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default;Object.defineProperty(t,"__esModule",{value:!0}),t.isNewVersionAvailable=t.getContainerCommitInfo=t.getServiceLatestCommitInfo=void 0;var a=r(34572),o=r(58526),s=r(34250),u=r(84160),c=r(21559),l=r(47491),d=r(71047),f=function(){var e=i(n().mark((function e(t){var r,i,o,l,f,h;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.serviceType,i=t.remoteEnv,o=(0,c.getServiceName)({serviceType:r,remoteEnv:i}),l=(0,u.joinPaths)("https://storage.googleapis.com/videogen-latest-commits/","".concat(o,"-commit-info.json")),f=(0,u.addQueryParamsToUrl)(l,{time:(0,d.getCurrentMillisecondsSinceEpoch)()}),e.prev=4,e.next=7,fetch(f,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});case 7:return h=e.sent,e.t0=a.castAsCommitInfo,e.next=11,h.json();case 11:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 15:throw e.prev=15,e.t2=e.catch(4),(0,s.convertUnknownErrorToSecretKnownError)(e.t2,{defaultErr:(0,s.newHiddenError)("Failed to fetch latest commit info.",{rawData:{serviceType:r,serviceName:o,commitInfoPublicUrl:l,remoteEnv:i}}),forceHidden:!0});case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}();t.getServiceLatestCommitInfo=f;t.getContainerCommitInfo=function(e){var t=e.env,r=e.shortSha,n=e.branchName;if(!r)return null;var i="prod/";return{shortSha:r,prod:t===o.Environment.PROD&&null!==n&&void 0!==n&&n.startsWith(i)?(0,l.parseIntOrOmit)(n.slice(5)):void 0}};t.isNewVersionAvailable=function(e){var t,r,n=e.env,i=e.latestCommitInfo,a=e.containerCommitInfo;return i.shortSha!==a.shortSha&&(n!==o.Environment.PROD||(null!==(t=i.prod)&&void 0!==t?t:0)>(null!==(r=a.prod)&&void 0!==r?r:0))}},28873:function(e,t,r){"use strict";var n=r(56690).default,i=r(89728).default,a=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Comparator=void 0;var o=r(49020),s=r(68329),u=r(34250),c=function(){function e(t,r){var i;if(n(this,e),a(this,"orderedItems",void 0),a(this,"deprecatedItemsSet",void 0),new Set(t).size!==t.length)throw(0,u.newInternalError)("Comparator ordered items cannot contain duplicates.");this.orderedItems=t,this.deprecatedItemsSet=new Set(null!==(i=null===r||void 0===r?void 0:r.deprecatedItems)&&void 0!==i?i:[])}return i(e,[{key:"getOrderedItems",value:function(e){var t=this;return this.orderedItems.filter((function(r){return!(null===e||void 0===e||!e.includeDeprecatedItems)||!t.deprecatedItemsSet.has(r)}))}},{key:"compare",value:function(e,t){var r=this.orderedItems.indexOf(e),n=this.orderedItems.indexOf(t);return r>n?o.ComparatorResult.GREATER_THAN:r<n?o.ComparatorResult.LESS_THAN:o.ComparatorResult.EQUAL_TO}},{key:"isGreaterThan",value:function(e,t){return this.compare(e,t)===o.ComparatorResult.GREATER_THAN}},{key:"isGreaterThanOrEqualTo",value:function(e,t){var r=this.compare(e,t);return r===o.ComparatorResult.GREATER_THAN||r===o.ComparatorResult.EQUAL_TO}},{key:"isLessThan",value:function(e,t){return this.compare(e,t)===o.ComparatorResult.LESS_THAN}},{key:"isLessThanOrEqualTo",value:function(e,t){var r=this.compare(e,t);return r===o.ComparatorResult.LESS_THAN||r===o.ComparatorResult.EQUAL_TO}},{key:"getNextOrderedItem",value:function(e,t){var r=this.orderedItems.indexOf(e);if(-1===r)return null;for(var n=r+1;n<this.orderedItems.length;n+=1){var i=(0,s.arrGet)(this.orderedItems,n);if(null!==t&&void 0!==t&&t.includeDeprecatedItems||!this.deprecatedItemsSet.has(i))return i}return null}},{key:"getPreviousOrderedItem",value:function(e,t){var r=this.orderedItems.indexOf(e);if(-1===r)return null;for(var n=r-1;n>=0;n-=1){var i=(0,s.arrGet)(this.orderedItems,n);if(null!==t&&void 0!==t&&t.includeDeprecatedItems||!this.deprecatedItemsSet.has(i))return i}return null}},{key:"getAllHigherOrderedItems",value:function(e,t){var r=this,n=this.orderedItems.indexOf(e);return-1===n?[]:this.orderedItems.slice(n+1,this.orderedItems.length).filter((function(e){return!(null===t||void 0===t||!t.includeDeprecatedItems)||!r.deprecatedItemsSet.has(e)}))}},{key:"getAllLowerOrderedItems",value:function(e,t){var r=this,n=this.orderedItems.indexOf(e);return-1===n?[]:this.orderedItems.slice(0,n).filter((function(e){return!(null===t||void 0===t||!t.includeDeprecatedItems)||!r.deprecatedItemsSet.has(e)}))}},{key:"sortContainersInPlace",value:function(e,t,r){var n=this;return e.sort((function(e,i){var a=t(e),s=t(i),c=n.compare(a,s);switch(c){case o.ComparatorResult.LESS_THAN:return null!==r&&void 0!==r&&r.descending?1:-1;case o.ComparatorResult.EQUAL_TO:return 0;case o.ComparatorResult.GREATER_THAN:return null!==r&&void 0!==r&&r.descending?-1:1;default:return(0,u.assertNever)(c)}}))}},{key:"sortInPlace",value:function(e,t){return this.sortContainersInPlace(e,(function(e){return e}),t)}},{key:"getFirstNondeprecatedItemGreaterThanOrEqual",value:function(e){return this.deprecatedItemsSet.has(e)?this.getNextOrderedItem(e,{includeDeprecatedItems:!1}):e}}]),e}();t.Comparator=c},1717:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIsUsingTestStripe=t.getEnvironment=void 0;var n=r(58526),i=r(34250);t.getEnvironment=function(e){var t=e.nodeEnv,r=e.videogenEnv;switch(t){case"production":var a=(0,n.castAsEnvironment)(r);if(a===n.Environment.LOCAL)throw(0,i.newFatalError)("Cannot run local environment on production.",{rawData:{nodeEnv:t,videogenEnv:r}});return a;case"development":return n.Environment.LOCAL;default:throw(0,i.newFatalError)("Node env must be either production or development.",{rawData:{nodeEnv:t,videogenEnv:r}})}};t.getIsUsingTestStripe=function(e){var t=e.env,r=e.stripeMode;return t===n.Environment.LOCAL&&"local-test"===r}},55456:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aspectRatioToDalleImageSize=void 0;t.aspectRatioToDalleImageSize=function(e){var t=e.aspectRatio,r=t.width/t.height;return r<=3/4?"1024x1792":r>=4/3?"1792x1024":"1024x1024"}},34250:function(e,t,r){"use strict";var n=r(42122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.assertNever=t.updateCastingError=t.newPromotionCodeError=t.newPermissionsError=t.newCastingError=t.newHiddenError=t.newInternalError=t.newFatalError=t.newWarningError=t.convertUnknownErrorToPublicKnownError=t.convertUnknownErrorToSecretKnownError=t.getUnknownErrorRawMessage=void 0;var i=r(85638),a=r(80715),o=r(5447),s=r(81714),u=r(54897);t.getUnknownErrorRawMessage=function(e,t){var r;if((0,o.isObject)(e)){if("message"in e&&(0,o.isString)(e.message))return e.message;if("rawMessage"in e&&(0,o.isString)(e.rawMessage))return e.rawMessage}else if((0,o.isString)(e))return e;return null!==(r=null===t||void 0===t?void 0:t.rawMessage)&&void 0!==r?r:"An unknown error has occurred."};t.convertUnknownErrorToSecretKnownError=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var o,u,c=(0,a.castAsKnownError)(e);return null==r.defaultErr?n(n({},c),{},{isHidden:!!r.forceHidden||c.isHidden}):c.isInternal||c.displayMessage===i.DEFAULT_ERROR_MESSAGE?n(n({},c),{},{displayMessage:r.defaultErr.displayMessage,severity:r.defaultErr.severity,rawData:n(n({},null===(u=r.defaultErr)||void 0===u?void 0:u.rawData),c.rawData),isHidden:!!r.forceHidden||c.isHidden||r.defaultErr.isHidden,isInternal:!0}):n(n({},c),{},{rawData:n(n({},null===(o=r.defaultErr)||void 0===o?void 0:o.rawData),c.rawData),isHidden:!!r.forceHidden||c.isHidden})}catch(S){}var l=!!r.forceHidden;try{var d,f,h,p,v,g=(0,a.castAsFirebaseError)(e),m=null!==(d=null!==(f=i.FIREBASE_CODE_DISPLAY_MESSAGE_MAP[g.code])&&void 0!==f?f:null===(h=r.defaultErr)||void 0===h?void 0:h.displayMessage)&&void 0!==d?d:i.DEFAULT_ERROR_MESSAGE,y="".concat(g.code,": ").concat(g.message);return{errorId:(0,s.generateUuid)(),displayMessage:m,rawMessage:y,severity:a.KnownErrorSeverity.FATAL,action:null,rawData:null!==(p=null===(v=r.defaultErr)||void 0===v?void 0:v.rawData)&&void 0!==p?p:{},isHidden:l,isInternal:!1,sourceCommitInfo:null}}catch(E){}var b=(0,t.getUnknownErrorRawMessage)(e,r.defaultErr);return null!=r.defaultErr?n(n({},r.defaultErr),{},{rawMessage:b,isHidden:l}):{errorId:(0,s.generateUuid)(),displayMessage:i.DEFAULT_ERROR_MESSAGE,rawMessage:b,severity:a.KnownErrorSeverity.FATAL,action:null,rawData:{},isHidden:l,isInternal:!0,sourceCommitInfo:null}};t.convertUnknownErrorToPublicKnownError=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(0,t.convertUnknownErrorToSecretKnownError)(e,r);return n(n({},i),{},{rawMessage:"",rawData:{}})};var c=function(e){var t=e.severity,r=e.displayMessage,n=e.rawMessage,i=e.rawData,a=e.isHidden,o=e.isInternal;return{errorId:(0,s.generateUuid)(),displayMessage:r,rawMessage:null!==n&&void 0!==n?n:"",severity:t,action:null,rawData:null!==i&&void 0!==i?i:{},isHidden:a,isInternal:o,sourceCommitInfo:null}};t.newWarningError=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.rawMessage,n=t.rawData;return c({severity:a.KnownErrorSeverity.WARNING,displayMessage:e,rawMessage:r,rawData:n,isHidden:!1,isInternal:!1})};t.newFatalError=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.rawMessage,n=t.rawData;return c({severity:a.KnownErrorSeverity.FATAL,displayMessage:e,rawMessage:r,rawData:n,isHidden:!1,isInternal:!1})};t.newInternalError=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).rawData;return c({severity:a.KnownErrorSeverity.FATAL,displayMessage:i.DEFAULT_ERROR_MESSAGE,rawMessage:e,rawData:t,isHidden:!1,isInternal:!0})};t.newHiddenError=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).rawData;return c({severity:a.KnownErrorSeverity.WARNING,displayMessage:i.DEFAULT_ERROR_MESSAGE,rawMessage:e,rawData:t,isHidden:!0,isInternal:!0})};t.newCastingError=function(e,t){return{errorId:(0,s.generateUuid)(),displayMessage:i.DEFAULT_ERROR_MESSAGE,rawMessage:"@".concat(e),severity:a.KnownErrorSeverity.FATAL,action:null,rawData:{rawValue:t},isHidden:!1,isInternal:!1,sourceCommitInfo:null}};t.newPermissionsError=function(e){var t=e.workspaceInfo,r=e.requiredWorkspaceAuthLevel,n=e.upgradeRequirement,i=e.upgradeToIncreaseMessage,o=e.sourceCommitInfo,c=void 0===o?null:o,l=e.rawData,d=void 0===l?{}:l,f=(0,u.getWorkspaceAuthLevel)(t),h=(0,u.getFirstNondeprecatedWorkspaceAuthLevelToSatisfy)(r),p="Upgrade to ".concat(h.toLowerCase()," to ").concat(null!==i&&void 0!==i?i:"perform this action",".");return{errorId:(0,s.generateUuid)(),displayMessage:p,rawMessage:p,severity:a.KnownErrorSeverity.WARNING,action:{type:a.KnownErrorActionType.UPGRADE,upgradeRequirement:n,currentWorkspaceAuthLevel:f,requiredWorkspaceAuthLevel:r,upgradeToIncreaseMessage:i},rawData:d,isHidden:!1,isInternal:!1,sourceCommitInfo:c}};t.newPromotionCodeError=function(e,t){var r=t.invalidStripePromotionCode,n=t.sourceCommitInfo,i=void 0===n?null:n,o=t.rawMessage,u=t.rawData,c=void 0===u?{}:u;return{errorId:(0,s.generateUuid)(),displayMessage:e,rawMessage:null!==o&&void 0!==o?o:e,severity:a.KnownErrorSeverity.WARNING,action:{type:a.KnownErrorActionType.INVALID_PROMOTION_CODE,invalidStripePromotionCode:r},rawData:c,isHidden:!1,isInternal:!1,sourceCommitInfo:i}};t.updateCastingError=function(e,r){var n=(0,t.convertUnknownErrorToSecretKnownError)(r);e.rawMessage+=", ".concat(n.rawMessage)};t.assertNever=function(e){throw(0,t.newInternalError)("This case should be impossible to reach.",{rawData:{neverVal:e}})}},15109:function(e,t,r){"use strict";var n=r(27424).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkExportInfoTransformation=t.canWorkspaceViewExport=t.getDefaultExportInfo=t.checkIsStrValidExportId=t.generateExportId=void 0;var a=r(68769),o=r(5447),s=r(34250),u=r(47491),c=i(r(37648)),l=r(71047),d=r(13244);t.generateExportId=function(){return(0,u.generateRandomLowercaseAlphabeticId)({length:d.EXPORT_ID_LENGTH})};t.checkIsStrValidExportId=function(e){return new RegExp("^[a-z]{".concat(d.EXPORT_ID_LENGTH,"}$")).test(e)};t.getDefaultExportInfo=function(e){var r=e.exportWorkspaceId,n=e.exportProjectId;return{exportId:(0,t.generateExportId)(),creationSse:(0,l.getCurrentSecondsSinceEpoch)(),exportWorkspaceId:r,exportProjectId:n,visibilityType:a.ExportVisibilityType.PRIVATE,exportJob:null}};t.canWorkspaceViewExport=function(e){var t=e.workspaceInfo,r=e.exportInfo;switch(r.visibilityType){case a.ExportVisibilityType.PRIVATE:return null!=t&&t.workspaceId===r.exportWorkspaceId;case a.ExportVisibilityType.PUBLIC:return!0;default:throw(0,s.assertNever)(r.visibilityType)}};t.checkExportInfoTransformation=function(e){var t=e.rootExportInfo,r=e.transformedExportInfo,i=e.copyTransformedToRoot;(0,o.strictObjectToEntries)(r).forEach((function(e){var r=n(e,2),a=r[0],o=r[1];switch(a){case"exportId":case"creationSse":case"exportWorkspaceId":case"exportProjectId":if(!(0,c.default)(t[a],o))throw(0,s.newInternalError)("ExportInfo transformation modified read-only property ".concat(a));break;case"visibilityType":case"exportJob":i&&(t[a]=o);break;default:(0,s.assertNever)(a)}}))}},94823:function(e,t,r){"use strict";var n=r(42122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.browserExtensionGeneratorToGenerator=void 0;var i=r(61591),a=r(81714),o=r(20480),s=r(15888);t.browserExtensionGeneratorToGenerator=function(e){var t=e.browserExtensionGenerator,r=e.groupIdentifierNumberRecord,u=e.workspaceCreationSse;if(t.type===i.BrowserExtensionGeneratorType.SCRIPT_TEXT){var c=t.text,l=(0,s.getDefaultGenerator)({groupIdentifierNumberRecord:r,workspaceCreationSse:u});return n(n({},l),{},{block:{type:o.BlockType.TEXT_TO_VIDEO,blockId:(0,a.generateUuid)(),draftText:c,generatedScriptElements:null,backgroundVisualAssetReferences:null}})}}},35774:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getApiFileBasePath=void 0;var n=r(54897);t.getApiFileBasePath=function(e){var t=e.workspaceInfo,r=e.apiFileId;(0,n.checkCanWorkspaceUseExternalApi)(t);var i=t.workspaceId;return"".concat(i,"/").concat(r)}},2608:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default;Object.defineProperty(t,"__esModule",{value:!0}),t.extractUploadInfoFromWebVideoFile=t.extractUploadInfoFromWebImageFile=t.primarySizeToDefaultThumbnailSize=t.getVisualElementTrueSize=t.extractUploadInfoFromWebAudioFile=t.removeFileExtension=t.getFileExtension=void 0;var a=r(68329),o=r(34250),s=r(84160);t.getFileExtension=function(e){var t=(0,s.removeQueryParamsFromPath)(e).split(".");return(0,a.arrGetLast)(t)};t.removeFileExtension=function(e){var t=(0,s.removeQueryParamsFromPath)(e).split(".");return 0===t.length?"":1===t.length?(0,a.arrGetFirst)(t):t.slice(0,t.length-1).join(".")};var u=function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){var n=new Audio;n.addEventListener("loadedmetadata",(function(){e({duration:n.duration}),URL.revokeObjectURL(n.src)})),n.addEventListener("error",(function(){r((0,o.newFatalError)("Failed to determine audio duration.")),URL.revokeObjectURL(n.src)})),n.src=URL.createObjectURL(t),setTimeout((function(){r((0,o.newInternalError)("Audio file upload info extraction timed out.")),URL.revokeObjectURL(n.src)}),5e3)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.extractUploadInfoFromWebAudioFile=u;t.getVisualElementTrueSize=function(e){return e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:{width:e.videoWidth,height:e.videoHeight}};t.primarySizeToDefaultThumbnailSize=function(e){var t=e.width,r=e.height,n=t*r,i=Math.sqrt(4e4/n);return{width:Math.ceil(t*i),height:Math.ceil(r*i)}};var c=function(){var e=i(n().mark((function e(r){var i,a,s,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=document.createElement("canvas"),null!=(a=i.getContext("2d"))){e.next=4;break}throw(0,o.newInternalError)("Failed to get canvas 2d context.");case 4:if(!((s=(0,t.getVisualElementTrueSize)(r)).width<=0||s.height<=0)){e.next=7;break}throw(0,o.newInternalError)("Failed to get non-zero valid true size of video asset.");case 7:return u=(0,t.primarySizeToDefaultThumbnailSize)(s),i.width=u.width,i.height=u.height,a.drawImage(r,0,0,u.width,u.height),e.next=13,new Promise((function(e,t){i.toBlob((function(r){if(null==r)t((0,o.newInternalError)("Failed to get canvas blob."));else{var n=new File([r],"thumbnail.png",{type:"image/png"});e({thumbnailFile:n,thumbnailSize:u})}}),"image/png")}));case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=i(n().mark((function e(r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,a){var s=new Image;s.addEventListener("load",i(n().mark((function r(){var i,o,u,l;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c(s);case 3:i=r.sent,o=i.thumbnailFile,u=i.thumbnailSize,l=(0,t.getVisualElementTrueSize)(s),e({size:l,thumbnailFile:o,thumbnailSize:u}),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),a(r.t0);case 13:URL.revokeObjectURL(s.src);case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))),s.addEventListener("error",(function(){a((0,o.newFatalError)("Failed to determine image size.")),URL.revokeObjectURL(s.src)})),s.src=URL.createObjectURL(r),setTimeout((function(){a((0,o.newInternalError)("Image file upload info extraction timed out.")),URL.revokeObjectURL(s.src)}),1e4)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.extractUploadInfoFromWebImageFile=l;var d=function(){var e=i(n().mark((function e(r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,a){var s=document.createElement("video");s.addEventListener("error",(function(){a((0,o.newFatalError)("Failed to get video metadata.")),URL.revokeObjectURL(s.src)})),s.addEventListener("loadeddata",(function(){s.currentTime=0})),s.addEventListener("seeked",i(n().mark((function r(){var i,o,u,l;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c(s);case 3:i=r.sent,o=i.thumbnailFile,u=i.thumbnailSize,l=(0,t.getVisualElementTrueSize)(s),e({duration:s.duration,size:l,thumbnailFile:o,thumbnailSize:u}),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),a(r.t0);case 13:URL.revokeObjectURL(s.src);case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))),s.src=URL.createObjectURL(r),setTimeout((function(){a((0,o.newInternalError)("Video file upload info extraction timed out.")),URL.revokeObjectURL(s.src)}),2e4)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.extractUploadInfoFromWebVideoFile=d},68330:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFirestoreBaseCollectionMaxLimit=void 0;t.getFirestoreBaseCollectionMaxLimit=function(e){return{"free-access-codes":1e3,"server-users":1e6,workspaces:1e6,"workspace-getty-usages":1e4,exports:1e4,"external-api-keys":1e4}[e.baseCollectionName]}},99954:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateFreeAccessCodeInfo=t.getFreeAccessCodeTypeAbbreviation=void 0;var n=r(73503),i=r(47491);t.getFreeAccessCodeTypeAbbreviation=function(e){switch(e){case n.FreeAccessCodeType.FREE_YEAR_PRO:return"FYP";case n.FreeAccessCodeType.FREE_LIFETIME_PRO:return"FLP"}};t.generateFreeAccessCodeInfo=function(e){var r=e.freeAccessCodeType,n=e.freeAccessCodeSource,a=(0,i.generateRandomLowercaseAlphabeticId)({length:6}).toUpperCase(),o=(0,t.getFreeAccessCodeTypeAbbreviation)(r),s=(0,i.generateRandomLowercaseAlphabeticId)({length:6}).toUpperCase();return{type:r,freeAccessCodeId:"".concat(a,"-").concat(o,"-").concat(s),source:n,claim:null}}},15888:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getGeneratorErrorMessage=t.getGeneratorScriptErrorMessage=t.getDefaultGenerator=void 0;var i=n(r(27623)),a=r(69377),o=r(75174),s=r(2421),u=r(54897),c=r(81714),l=r(20480),d=r(30755),f=r(47491);t.getDefaultGenerator=function(e){e.groupIdentifierNumberRecord,e.workspaceCreationSse;return(0,i.default)({block:{type:l.BlockType.TEXT_TO_VIDEO,blockId:(0,c.generateUuid)(),draftText:"",generatedScriptElements:null,backgroundVisualAssetReferences:null},background:{config:{assetMode:o.AssetMode.AUTOMATIC,sceneWordLengthThreshold:a.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1}},music:null,voice:{ttsVoice:{providerName:s.TtsProviderName.OPEN_AI,languageCode:"en-US",voiceId:"shimmer"},volume:1,pronunciationReplacements:[]},captionStyle:d.CAPTION_PRESET_NAME_STYLE_MAP["Classic TV Style"],inputStorageFileLocators:[],lastProjectwideGenerationInput:null})};t.getGeneratorScriptErrorMessage=function(e,t){var r=t.workspaceInfo;if(!e)return"Script cannot be empty.";var n=(0,u.getWorkspaceAuthLevel)(r),i=(0,u.getWorkspaceAuthLevelUsageLimits)(n);return e.length>i.numCharsPerScript?"Your script is too long. The max length is ".concat((0,f.formatNumber)(i.numCharsPerScript),"."):null};t.getGeneratorErrorMessage=function(e,r){var n=r.workspaceInfo;return(0,t.getGeneratorScriptErrorMessage)(e.block.draftText,{workspaceInfo:n})}},59284:function(e,t,r){"use strict";var n=r(27424).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkWorkspaceGettyUsageInfoTransformation=t.getDefaultWorkspaceGettyUsageInfo=t.gettyVideoSlugToUrl=t.gettyVideoUrlToSlug=t.gettyAssetSubtypeToSource=void 0;var a=r(12594),o=r(5447),s=r(34250),u=r(84160),c=i(r(37648));t.gettyAssetSubtypeToSource=function(e){var t=e.gettyAsset,r=e.assetSubtype,n=t.assetType,i=t.assetId,o=t.primaryUrl,s=t.primaryFileExtension,u=t.thumbnailUrl,c=t.thumbnailFileExtension;switch(r){case a.GettyAssetSubtype.PRIMARY:return{assetType:n,assetId:i,assetSubtype:r,subtypeUrl:o,subtypeFileExtension:s};case a.GettyAssetSubtype.THUMBNAIL:return{assetType:n,assetId:i,assetSubtype:r,subtypeUrl:u,subtypeFileExtension:c}}};t.gettyVideoUrlToSlug=function(e){return e.url.replace(/^https:\/\/media.gettyimages.com\/id\/[0-9]+\/video\//,"")};t.gettyVideoSlugToUrl=function(e){var t=e.slug,r=e.videoAssetId;return(0,u.joinPaths)("https://media.gettyimages.com/id/".concat(r,"/video"),t)};t.getDefaultWorkspaceGettyUsageInfo=function(e){return{workspaceId:e,assetIdDownloadSseRecord:{}}};t.checkWorkspaceGettyUsageInfoTransformation=function(e){var t=e.rootWorkspaceGettyUsageInfo,r=e.transformedWorkspaceGettyUsageInfo,i=e.copyTransformedToRoot;(0,o.strictObjectToEntries)(r).forEach((function(e){var r=n(e,2),a=r[0],o=r[1];switch(a){case"workspaceId":if(!(0,c.default)(t[a],o))throw(0,s.newInternalError)("WorkspaceGettyUsageInfo transformation modified read-only property ".concat(a));break;case"assetIdDownloadSseRecord":i&&(t[a]=o);break;default:(0,s.assertNever)(a)}}))}},77911:function(e,t,r){"use strict";var n=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.generateRandomGroupIdentifierNumberRecord=t.generateRandomGroupNumber=void 0;var i=r(31140),a=r(98850);t.generateRandomGroupNumber=function(){return Math.floor(Math.random()*i.GROUP_NUMBER_EXCLUSIVE_UPPER_BOUND)};t.generateRandomGroupIdentifierNumberRecord=function(){var e;return n(e={},a.GroupIdentifier.KNN,(0,t.generateRandomGroupNumber)()),n(e,a.GroupIdentifier.MLP,(0,t.generateRandomGroupNumber)()),n(e,a.GroupIdentifier.SVM,(0,t.generateRandomGroupNumber)()),n(e,a.GroupIdentifier.RNN,(0,t.generateRandomGroupNumber)()),n(e,a.GroupIdentifier.CNN,(0,t.generateRandomGroupNumber)()),n(e,a.GroupIdentifier.LSTM,(0,t.generateRandomGroupNumber)()),n(e,a.GroupIdentifier.GAN,(0,t.generateRandomGroupNumber)()),n(e,a.GroupIdentifier.VAE,(0,t.generateRandomGroupNumber)()),n(e,a.GroupIdentifier.DQN,(0,t.generateRandomGroupNumber)()),n(e,a.GroupIdentifier.GPT,(0,t.generateRandomGroupNumber)()),e}},47547:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateComboHash=void 0;var r=function(e){for(var t=e.data,r=e.initialHash,n=e.maxHashIterations,i=e.getNextHash,a=Math.max(Math.ceil(t.length/n),1),o=r,s=0,u=0;s<t.length&&u<n;){s+=(o=i({hash:o,charCode:t.charCodeAt(s)}))%a+1,u+=1}return o};t.generateComboHash=function(e){var t=r({data:e,initialHash:1252805153,maxHashIterations:1e3,getNextHash:function(e){var t=e.hash;return t=(t<<13)-t+e.charCode,t>>>=0}}),n=r({data:e,initialHash:724810916,maxHashIterations:1e3,getNextHash:function(e){var t=e.hash;return t=(t<<17)-t+e.charCode+1,t>>>=0}});return"".concat(e.length,"-").concat(t,"-").concat(n)}},98434:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default;Object.defineProperty(t,"__esModule",{value:!0}),t.uploadJobInput=t.jobTypeToServiceType=t.getJobInputFilePath=t.getJobInputFileBasePath=t.getInitialJob=t.getInitialJobMetadata=t.isJobRecent=t.getJobLoadingInfoAndSummary=t.getJobLoadingInfo=t.getFulfilledJobResultOrOmit=void 0;var a=r(59899),o=r(42217),s=r(24887),u=r(19841),c=r(5447),l=r(58285),d=r(34250),f=r(81057),h=r(47491),p=r(71047);t.getFulfilledJobResultOrOmit=function(e){switch(e.type){case s.JobType.EXPORT:return null!=e.primaryHydratedExportUrl&&e.thumbnailHydratedExportUrl&&null!=e.exportFileDisplayName?{type:e.type,primaryHydratedExportUrl:e.primaryHydratedExportUrl,thumbnailHydratedExportUrl:e.thumbnailHydratedExportUrl,exportFileDisplayName:e.exportFileDisplayName}:void 0;case s.JobType.GENERATE:return null!=e.apiFileSignedUrl?{type:e.type,apiFileSignedUrl:e.apiFileSignedUrl}:void 0;default:return(0,d.assertNever)(e)}};t.getJobLoadingInfo=function(e){var r,n,i,o,s,c,l=(0,p.getCurrentSecondsSinceEpoch)(),d=l-(null!==(r=null!==(n=null===(i=e.metadata.latestAttemptProgress)||void 0===i?void 0:i.endSse)&&void 0!==n?n:null===(o=e.metadata.latestAttemptProgress)||void 0===o?void 0:o.startSse)&&void 0!==r?r:e.metadata.initiationSse),f=(0,t.getFulfilledJobResultOrOmit)(e);if(null!=f)return{loadingState:u.LoadingState.FULFILLED,secondsAtLoadingState:d,fulfilledJobResult:f};if(e.metadata.isJobInputMissing)return{loadingState:u.LoadingState.REJECTED,secondsAtLoadingState:d,errorDisplayMessage:"Failed to communicate with the server. Please check your Internet connection and try again."};if(e.metadata.isCompletionHandled)return{loadingState:u.LoadingState.REJECTED,secondsAtLoadingState:d,errorDisplayMessage:null!==(s=null===(c=e.metadata.latestAttemptProgress)||void 0===c?void 0:c.errorDisplayMessage)&&void 0!==s?s:a.JOB_TYPE_DEFAULT_ERROR_DISPLAY_MESSAGE_MAP[e.type]};var h=a.JOB_TYPE_MAX_NUM_JOB_ATTEMPTS_MAP[e.type];if(null!=e.metadata.latestAttemptProgress){var v;if(e.metadata.latestAttemptProgress.attemptIndex>=h||e.metadata.latestAttemptProgress.attemptIndex===h-1&&null!=e.metadata.latestAttemptProgress.endSse)return{loadingState:u.LoadingState.REJECTED,secondsAtLoadingState:d,errorDisplayMessage:null!==(v=e.metadata.latestAttemptProgress.errorDisplayMessage)&&void 0!==v?v:a.JOB_TYPE_DEFAULT_ERROR_DISPLAY_MESSAGE_MAP[e.type]};var g=l-e.metadata.latestAttemptProgress.startSse,m=a.JOB_TYPE_RECENCY_MAX_SECONDS_MAP[e.type][u.LoadingState.LOADING];return g<=m?{loadingState:u.LoadingState.LOADING,secondsAtLoadingState:g}:{loadingState:u.LoadingState.REJECTED,secondsAtLoadingState:g-m,errorDisplayMessage:a.JOB_TYPE_DEFAULT_ERROR_DISPLAY_MESSAGE_MAP[e.type]}}var y=l-e.metadata.initiationSse,b=a.JOB_TYPE_RECENCY_MAX_SECONDS_MAP[e.type][u.LoadingState.UNATTEMPTED];return y<=b?{loadingState:u.LoadingState.UNATTEMPTED,secondsAtLoadingState:y}:{loadingState:u.LoadingState.REJECTED,secondsAtLoadingState:y-b,errorDisplayMessage:a.JOB_TYPE_DEFAULT_ERROR_DISPLAY_MESSAGE_MAP[e.type]}};t.getJobLoadingInfoAndSummary=function(e){var r=(0,t.getJobLoadingInfo)(e),n=r.loadingState,i=r.secondsAtLoadingState,a=function(){switch(e.type){case s.JobType.EXPORT:return"".concat((0,f.minDimensionPixelsToStr)(e.minDimensionPixels)," export");case s.JobType.GENERATE:return"Video generation";default:return(0,d.assertNever)(e)}}(),o=(0,p.secondsToDurationStr)(i);return{jobLoadingInfo:r,jobLoadingSummary:function(){switch(n){case u.LoadingState.UNATTEMPTED:return"".concat(a," pending for ").concat(o,".");case u.LoadingState.LOADING:var t,r,i=null!==(t=null===(r=e.metadata.latestAttemptProgress)||void 0===r?void 0:r.attemptIndex)&&void 0!==t?t:0;return i>0?"".concat(a," unsuccessful in ").concat((0,h.numWithUnits)(i,"attempt"),". Retried ").concat(o," ago."):"".concat(a," executing for ").concat(o,".");case u.LoadingState.FULFILLED:return"".concat(a," finished ").concat(o," ago.");case u.LoadingState.REJECTED:return"".concat(a," failed ").concat(o," ago.")}}()}};t.isJobRecent=function(e){var r=(0,t.getJobLoadingInfo)(e),n=r.loadingState;return r.secondsAtLoadingState<=a.JOB_TYPE_RECENCY_MAX_SECONDS_MAP[e.type][n]};t.getInitialJobMetadata=function(e){return{jobId:e.jobId,initiationSse:e.initiationSse,latestAttemptProgress:null,isCompletionHandled:!1,isJobInputMissing:!1}};t.getInitialJob=function(e){var r=e.jobId,n=e.jobInput,i=e.initiationSse,a=(0,t.getInitialJobMetadata)({jobId:r,initiationSse:i});switch(n.type){case s.JobType.EXPORT:return{type:n.type,metadata:a,projectId:n.project.metadata.projectId,aspectRatio:n.project.metadata.aspectRatio,minDimensionPixels:n.minDimensionPixels,exportUrl:null,exportId:n.exportId,primaryHydratedExportUrl:null,thumbnailHydratedExportUrl:null,exportFileDisplayName:null};case s.JobType.GENERATE:return{type:n.type,metadata:a,apiFileId:n.apiFileId,apiFileSignedUrl:null};default:return(0,d.assertNever)(n)}};t.getJobInputFileBasePath=function(e){var t=e.workspaceId,r=e.jobId;return"".concat(t,"/").concat(r)};t.getJobInputFilePath=function(e){var r=e.workspaceId,n=e.jobId,i=(0,t.getJobInputFileBasePath)({workspaceId:r,jobId:n});return"".concat(i,".json")};t.jobTypeToServiceType=function(e){switch(e){case s.JobType.EXPORT:return"export";case s.JobType.GENERATE:return"generate";default:return(0,d.assertNever)(e)}};var v=function(){var e=i(n().mark((function e(t){var r,i,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.jobInputBuffer,i=t.jobInputSignedWriteUrl,s=r.length,e.next=4,(0,l.fetchWithTimeout)({url:i,requestInit:{method:"PUT",body:r,headers:{"Content-Type":"application/json","X-Upload-Content-Length":"".concat(s)}},resContentType:o.ResContentType.TEXT,castAsResData:c.castAsUnknown,timeoutSeconds:a.JOB_INPUT_UPLOAD_TIMEOUT_SECONDS,throwSecretError:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.uploadJobInput=v},13492:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.recordMetadatasToVisualAssetLocatorsAndMetadataStore=t.gettyRecordMetadataToVisualAssetMetadata=t.coreRecordMetadataToVisualAssetMetadata=t.isRecordMetadataBlocked=t.getLibraryRecordMetadataText=t.getRecordSourceForGettyRecord=t.getRecordSourceForPexelsRecord=t.fileIndexToLibraryInputFileId=t.getBestCoreLibrarySourceUrl=t.getAllAvailableCoreLibrarySourceAssetUrls=t.getCoreLibraryAvailableSizesForSubtype=t.getCoreLibraryRecordAssetUrl=t.getCoreLibraryRecordAssetFileName=t.getCoreLibraryRecordAssetFileExtension=t.getCoreLibraryRecordAssetBaseName=t.libraryRecordIdToRecordIdBase=t.libraryRecordIdToSummary=t.getLibraryRecordId=t.LIBRARY_CDN_BASE_PATH=void 0;var n=r(42172),i=r(6962),a=r(5447),o=r(68329),s=r(34250),u=r(84160);t.LIBRARY_CDN_BASE_PATH="https://library.videogen.io/";t.getLibraryRecordId=function(e){var t=e.providerName,r=e.type,n=e.providerTypeUniqueId,i=e.recordSource;return"".concat(t.toLowerCase(),"-").concat(r.toLowerCase(),"-").concat(n,"-").concat(i.toLowerCase())};t.libraryRecordIdToSummary=function(e){var t=e.split("-");return{providerName:(0,i.castAsLibraryProviderName)((0,o.arrGet)(t,0).toUpperCase()),type:(0,i.castAsLibraryRecordType)((0,o.arrGet)(t,1).toUpperCase()),providerTypeUniqueId:(0,a.castAsString)((0,o.arrGet)(t,2)),recordSource:(0,i.castAsLibraryRecordSource)((0,o.arrGet)(t,3).toUpperCase())}};t.libraryRecordIdToRecordIdBase=function(e){return e.split("-").slice(0,3).join("-")};t.getCoreLibraryRecordAssetBaseName=function(e){var r=e.recordId,n=e.subtype,i=e.size,a=i.width,o=i.height,s=(0,t.libraryRecordIdToRecordIdBase)(r);return"".concat(s,"-").concat(n.toLowerCase(),"-w").concat(a,"-h").concat(o)};t.getCoreLibraryRecordAssetFileExtension=function(e){var t=e.type;switch(e.subtype){case i.LibraryRecordAssetSubtype.PRIMARY:if(t===i.LibraryRecordType.VIDEO)return"mp4";break;case i.LibraryRecordAssetSubtype.THUMBNAIL:return"png"}};t.getCoreLibraryRecordAssetFileName=function(e){var r=e.recordId,n=e.type,i=e.subtype,a=e.size,o=(0,t.getCoreLibraryRecordAssetBaseName)({recordId:r,size:a,subtype:i}),s=(0,t.getCoreLibraryRecordAssetFileExtension)({type:n,subtype:i});return"".concat(o,".").concat(s)};t.getCoreLibraryRecordAssetUrl=function(e){var r=e.recordId,n=e.type,i=e.subtype,a=e.size,o=(0,t.getCoreLibraryRecordAssetFileName)({recordId:r,type:n,subtype:i,size:a});return(0,u.joinPaths)(t.LIBRARY_CDN_BASE_PATH,o)};t.getCoreLibraryAvailableSizesForSubtype=function(e){var t=e.subtype,r=e.availablePrimarySizes,n=e.availableThumbnailSizes;switch(t){case i.LibraryRecordAssetSubtype.PRIMARY:return r;case i.LibraryRecordAssetSubtype.THUMBNAIL:return n}};t.getAllAvailableCoreLibrarySourceAssetUrls=function(e){var r=e.recordId,n=e.type,i=e.subtype,a=e.availablePrimarySizes,o=e.availableThumbnailSizes;return(0,t.getCoreLibraryAvailableSizesForSubtype)({subtype:i,availablePrimarySizes:a,availableThumbnailSizes:o}).map((function(e){return(0,t.getCoreLibraryRecordAssetUrl)({recordId:r,type:n,subtype:i,size:e})}))};t.getBestCoreLibrarySourceUrl=function(e){var r=e.recordId,n=e.type,i=e.subtype,a=e.availablePrimarySizes,o=e.availableThumbnailSizes,u=e.minSize,c=e.idealSize,l=(0,t.getCoreLibraryAvailableSizesForSubtype)({subtype:i,availablePrimarySizes:a,availableThumbnailSizes:o});if(0===l.length)throw(0,s.newInternalError)("No available sizes exist for the given library source subtype.");var d=null;if(l.forEach((function(e){var t=Math.min(e.width,e.height);t>=u&&(null==d||Math.abs(t-c)<Math.abs(Math.min(d.width,d.height)-c))&&(d=e)})),null==d&&l.forEach((function(e){var t=Math.min(e.width,e.height);(null==d||t>=Math.min(d.width,d.height))&&(d=e)})),null==d)throw(0,s.newInternalError)("Failed to find valid version of asset.");return(0,t.getCoreLibraryRecordAssetUrl)({recordId:r,type:n,subtype:i,size:d})};t.fileIndexToLibraryInputFileId=function(e){return e.toString().padStart(12,"0")};t.getRecordSourceForPexelsRecord=function(e){var t=e.fileIndex,r=e.recordInputIndex,n=e.executionSecondsSinceEpoch;return n<1702252800?i.CoreLibraryRecordSource.PEXELS_BLIP_ALT_TEXT:n<1702857600?i.CoreLibraryRecordSource.PEXELS_GPT_4_VISION:n<1707609600?i.CoreLibraryRecordSource.PEXELS_VERTEX_AI_IMAGE_TEXT:t<800&&r<80?i.CoreLibraryRecordSource.PEXELS_GEMINI_VISION:i.CoreLibraryRecordSource.PEXELS_GEMINI_VISION_STATIC};t.getRecordSourceForGettyRecord=function(){return i.GettyLibraryRecordSource.GETTY_GEN_TEXT};t.getLibraryRecordMetadataText=function(e){switch(e.recordSource){case i.GettyLibraryRecordSource.GETTY_GEN_TEXT:if(null==e.genText)throw(0,s.newInternalError)("Record metadata does not have gen text.",{rawData:{recordMetadata:e}});return e.genText;case i.GettyLibraryRecordSource.GETTY_TITLE_CAPTION:return"".concat(e.title,"\n").concat(e.caption);default:if(null==e.text)throw(0,s.newInternalError)("Record metadata does not have text.",{rawData:{recordMetadata:e}});return e.text}};t.isRecordMetadataBlocked=function(e){switch(e.libraryType){case i.LibraryType.CORE:return!0===e.isBlocked;case i.LibraryType.GETTY:return!1;default:return(0,s.assertNever)(e)}};t.coreRecordMetadataToVisualAssetMetadata=function(e){return{availablePrimarySizes:e.availablePrimarySizes,availableThumbnailSizes:e.availableThumbnailSizes,attribution:{providerName:i.LibraryProviderName.PEXELS,creatorName:e.creatorName,creatorUrl:e.creatorUrl}}};t.gettyRecordMetadataToVisualAssetMetadata=function(e){return{primarySlug:e.primarySlug,thumbnailSlug:e.thumbnailSlug,downloadSizes:e.downloadSizes,attribution:{providerName:i.LibraryProviderName.GETTY,creatorName:e.artist,creatorUrl:null}}};t.recordMetadatasToVisualAssetLocatorsAndMetadataStore=function(e){var r={coreRecordIdMetadataRecord:(0,a.getEmptyPartialRecord)(),gettyRecordIdMetadataRecord:(0,a.getEmptyPartialRecord)()};return{stockVisualAssetLocators:e.map((function(e){switch(e.libraryType){case i.LibraryType.CORE:return r.coreRecordIdMetadataRecord[e.recordId]=(0,t.coreRecordMetadataToVisualAssetMetadata)(e),{type:n.AssetLocatorType.CORE,recordId:e.recordId};case i.LibraryType.GETTY:return r.gettyRecordIdMetadataRecord[e.recordId]=(0,t.gettyRecordMetadataToVisualAssetMetadata)(e),{type:n.AssetLocatorType.GETTY,recordId:e.recordId};default:throw(0,s.assertNever)(e)}})),stockVisualAssetMetadataStore:r}}},12539:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toFixedWithoutTrailingZeros=t.clip=t.proportionToPercentage=t.percentageToProportion=void 0;t.percentageToProportion=function(e){return Math.min(Math.max(e/100,0),1)};t.proportionToPercentage=function(e){return Math.min(Math.max(100*e,0),100)};t.clip=function(e){var t=e.num,r=e.min,n=e.max;return isNaN(t)?r:Math.max(Math.min(t,n),r)};t.toFixedWithoutTrailingZeros=function(e,t){var r=e.toFixed(t);return t>0?r.replace(/\.?0+$/,""):r}},84160:function(e,t,r){"use strict";var n=r(27424).default;Object.defineProperty(t,"__esModule",{value:!0}),t.isStrValidWebsiteUrl=t.isStrValidUrl=t.paramsRecordToUrlSearchParams=t.urlSearchParamsToParamsRecord=t.addQueryParamsToUrl=t.addQueryParamsToPath=t.removePathnameFromPath=t.removeQueryParamsFromPath=t.joinPaths=void 0;var i=r(5447),a=r(68329);t.joinPaths=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){var r=e;return r&&(r+="/"),r=(r+=t.length>0&&"/"===t.charAt(0)?t.slice(1):t).length>0&&"/"===r.charAt(r.length-1)?r.slice(0,r.length-1):r}),"")};t.removeQueryParamsFromPath=function(e){var t,r=e.split("?");return null!==(t=(0,a.arrGetFirstOrOmit)(r))&&void 0!==t?t:""};t.removePathnameFromPath=function(e){var t=e.indexOf("?");if(-1!==t)return e.slice(t,e.length)};t.addQueryParamsToPath=function(e,t){var r=Object.entries(t).flatMap((function(e){var t=n(e,2),r=t[0],i=t[1];return null==i?[]:["".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(i))]}));return 0===r.length?e:"".concat(e).concat(e.includes("?")?"&":"?").concat(r.join("&"))};t.addQueryParamsToUrl=function(e,r){return(0,t.addQueryParamsToPath)(e,r)};t.urlSearchParamsToParamsRecord=function(e){var t=(0,i.getEmptyPartialRecord)();return e.forEach((function(e,r){t[r]=e})),t};t.paramsRecordToUrlSearchParams=function(e){var t=new URLSearchParams;return Object.entries(e).forEach((function(e){var r=n(e,2),i=r[0],a=r[1];null!=a&&t.append(i,"".concat(a))})),t};t.isStrValidUrl=function(e){try{return new URL(e),!0}catch(t){return!1}};t.isStrValidWebsiteUrl=function(e){try{var t=new URL(e);if("http:"!==t.protocol&&"https:"!==t.protocol||""===t.hostname)return!1;return!!/\.[a-z]{2,}$/i.test(t.hostname)}catch(r){return!1}}},7152:function(e,t,r){"use strict";var n=r(38416).default,i=r(74704).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getMostRecentStripeInvoiceSummary=t.getManageSubscriptionUrl=t.isSubscriptionFreeTrialActive=t.isStripePromotionCodeSummaryValidForSubscriptionPurchase=t.getStripePromotionCodeSummaryDescription=t.stripePromotionCodeDurationToStr=t.stripePromotionCodeDiscountToStr=t.stripeAmountToStr=t.getDefaultSubscriptionPriceSummary=t.getDefaultSubscriptionPriceSummaryAndUnitAmountDiscrepancy=t.getDefaultPriceUnitAmount=t.getSubscriptionTypeProductSummary=t.stripeProductIdToProductSummary=t.stripePriceIdToProductSummary=t.stripePriceIdToPriceSummary=t.stripePriceIdToPriceSummaryAndProductSummary=t.getAllHigherSubscriptionTypes=t.subscriptionTypeComparator=void 0;var a=r(91011),o=r(78436),s=r(61680),u=r(68329),c=r(28873),l=r(34250),d=r(84160),f=r(47491),h=r(71047),p=function(e){return e.isUsingTestStripe?a.TEST_STRIPE_PRODUCT_SUMMARIES:a.LIVE_STRIPE_PRODUCT_SUMMARIES};t.subscriptionTypeComparator=new c.Comparator([o.SubscriptionType.STARTER,o.SubscriptionType.PRO,o.SubscriptionType.SCALE,o.SubscriptionType.BUSINESS,o.SubscriptionType.ENTERPRISE_TIER_1,o.SubscriptionType.ENTERPRISE_TIER_2,o.SubscriptionType.ENTERPRISE_TIER_3,o.SubscriptionType.ENTERPRISE_TIER_4,o.SubscriptionType.ENTERPRISE_TIER_5,o.SubscriptionType.ENTERPRISE_TIER_6,o.SubscriptionType.ENTERPRISE_TIER_7,o.SubscriptionType.ENTERPRISE_TIER_8],{deprecatedItems:[o.SubscriptionType.STARTER]});t.getAllHigherSubscriptionTypes=function(e,r){return null==e?t.subscriptionTypeComparator.getOrderedItems({includeDeprecatedItems:null===r||void 0===r?void 0:r.includeDeprecatedSubscriptionTypes}):t.subscriptionTypeComparator.getAllHigherOrderedItems(e,{includeDeprecatedItems:null===r||void 0===r?void 0:r.includeDeprecatedSubscriptionTypes})};t.stripePriceIdToPriceSummaryAndProductSummary=function(e){var t,r=e.isUsingTestStripe,n=e.stripePriceId,a=p({isUsingTestStripe:r}),o=i(a);try{for(o.s();!(t=o.n()).done;){var s,u=t.value,c=u.stripePriceSummaries,l=i(c);try{for(l.s();!(s=l.n()).done;){var d=s.value;if(d.stripePriceId===n)return{stripePriceSummary:d,stripeProductSummary:u}}}catch(f){l.e(f)}finally{l.f()}}}catch(f){o.e(f)}finally{o.f()}return null};t.stripePriceIdToPriceSummary=function(e){var r,n,i=e.isUsingTestStripe,a=e.stripePriceId;return null!==(r=null===(n=(0,t.stripePriceIdToPriceSummaryAndProductSummary)({isUsingTestStripe:i,stripePriceId:a}))||void 0===n?void 0:n.stripePriceSummary)&&void 0!==r?r:null};t.stripePriceIdToProductSummary=function(e){var r,n,i=e.isUsingTestStripe,a=e.stripePriceId;return null!==(r=null===(n=(0,t.stripePriceIdToPriceSummaryAndProductSummary)({isUsingTestStripe:i,stripePriceId:a}))||void 0===n?void 0:n.stripeProductSummary)&&void 0!==r?r:null};t.stripeProductIdToProductSummary=function(e){var t,r=e.isUsingTestStripe,n=e.stripeProductId,a=p({isUsingTestStripe:r}),o=i(a);try{for(o.s();!(t=o.n()).done;){var s=t.value;if(s.stripeProductId===n)return s}}catch(u){o.e(u)}finally{o.f()}return null};t.getSubscriptionTypeProductSummary=function(e){var t=e.isUsingTestStripe,r=e.subscriptionType,n=p({isUsingTestStripe:t}).find((function(e){return e.subscriptionType===r}));if(null==n)throw(0,l.newInternalError)("Failed to get product summary for subscription type.",{rawData:{isUsingTestStripe:t,subscriptionType:r,stripeProductSummary:n}});return n};t.getDefaultPriceUnitAmount=function(e){e.groupIdentifierNumberRecord,e.workspaceCreationSse;var t=e.subscriptionType,r=e.subscriptionPaymentFrequency,i=e.stripeCurrency;switch(t){case o.SubscriptionType.STARTER:var a;return(n(a={},o.SubscriptionPaymentFrequency.MONTHLY,{usd:900,inr:39900,brl:3900,vnd:149e3,pkr:99900,eur:750,gbp:600,aud:1200,ngn:699900,mxn:9900,chf:750,cad:1200,php:29900,idr:99e5,bdt:59900}),n(a,o.SubscriptionPaymentFrequency.YEARLY,{usd:7200,inr:238800,brl:31200,vnd:1188e3,pkr:598800,eur:6e3,gbp:4800,aud:9600,ngn:4198800,mxn:79200,chf:6e3,cad:9600,php:238800,idr:792e5,bdt:358800}),a)[r][i];case o.SubscriptionType.PRO:var s;return(n(s={},o.SubscriptionPaymentFrequency.MONTHLY,{usd:2400,inr:99900,brl:9900,vnd:449e3,pkr:299900,eur:2100,gbp:1800,aud:3600,ngn:1899900,mxn:33e3,chf:2100,cad:3300,php:89900,idr:279e5,bdt:149900}),n(s,o.SubscriptionPaymentFrequency.YEARLY,{usd:19200,inr:598800,brl:79200,vnd:3588e3,pkr:1798800,eur:16800,gbp:14400,aud:28800,ngn:11398800,mxn:264e3,chf:16800,cad:26400,php:718800,idr:2232e5,bdt:898800}),s)[r][i];case o.SubscriptionType.SCALE:var u;return(n(u={},o.SubscriptionPaymentFrequency.MONTHLY,{usd:9900,inr:349900,brl:39900,vnd:1799e3,pkr:999900,eur:9e3,gbp:7500,aud:14400,ngn:7499900,mxn:126e3,chf:9e3,cad:13200,php:299900,idr:969e5,bdt:499900}),n(u,o.SubscriptionPaymentFrequency.YEARLY,{usd:79200,inr:2098800,brl:319200,vnd:14388e3,pkr:5998800,eur:72e3,gbp:6e4,aud:115200,ngn:44998800,mxn:1008e3,chf:72e3,cad:105600,php:2398800,idr:7752e5,bdt:2998800}),u)[r][i];case o.SubscriptionType.BUSINESS:var c;return(n(c={},o.SubscriptionPaymentFrequency.MONTHLY,{usd:33e3,inr:2749900,brl:174900,vnd:8199e3,pkr:8799900,eur:3e4,gbp:25e3,aud:48e3,ngn:51999900,mxn:63e4,chf:3e4,cad:45e3,php:1799900,idr:4899e5,bdt:3899900}),n(c,o.SubscriptionPaymentFrequency.YEARLY,{usd:264e3,inr:16498800,brl:1399200,vnd:65592e3,pkr:52798800,eur:24e4,gbp:199200,aud:384e3,ngn:311998800,mxn:504e4,chf:24e4,cad:36e4,php:14398800,idr:39192e5,bdt:23398800}),c)[r][i];case o.SubscriptionType.ENTERPRISE_TIER_1:case o.SubscriptionType.ENTERPRISE_TIER_2:case o.SubscriptionType.ENTERPRISE_TIER_3:case o.SubscriptionType.ENTERPRISE_TIER_4:case o.SubscriptionType.ENTERPRISE_TIER_5:case o.SubscriptionType.ENTERPRISE_TIER_6:case o.SubscriptionType.ENTERPRISE_TIER_7:case o.SubscriptionType.ENTERPRISE_TIER_8:return null;default:return(0,l.assertNever)(t)}};t.getDefaultSubscriptionPriceSummaryAndUnitAmountDiscrepancy=function(e){var r=e.isUsingTestStripe,n=e.groupIdentifierNumberRecord,i=e.workspaceCreationSse,a=e.subscriptionType,s=e.subscriptionPaymentFrequency,c=e.stripeCurrency;if(t.subscriptionTypeComparator.isGreaterThanOrEqualTo(a,o.SubscriptionType.ENTERPRISE_TIER_1))return null;var l=(0,t.getSubscriptionTypeProductSummary)({isUsingTestStripe:r,subscriptionType:a}).stripePriceSummaries.filter((function(e){return e.subscriptionPaymentFrequency===s&&e.stripeCurrency===c}));if(0===l.length&&"usd"!==c)return(0,t.getDefaultSubscriptionPriceSummaryAndUnitAmountDiscrepancy)({isUsingTestStripe:r,groupIdentifierNumberRecord:n,workspaceCreationSse:i,subscriptionType:a,subscriptionPaymentFrequency:s,stripeCurrency:"usd"});var d=(0,t.getDefaultPriceUnitAmount)({groupIdentifierNumberRecord:n,workspaceCreationSse:i,subscriptionType:a,subscriptionPaymentFrequency:s,stripeCurrency:c});if(null==d)return null;var f=(0,u.arrGetMinimizer)(l,{getElementValue:function(e){return Math.abs(e.unitAmount-d)}});return{defaultPriceSummary:f.minimizerElement,unitAmountDiscrepancy:f.minElementValue}};t.getDefaultSubscriptionPriceSummary=function(e){var r,n,i=e.isUsingTestStripe,a=e.groupIdentifierNumberRecord,o=e.workspaceCreationSse,s=e.subscriptionType,u=e.subscriptionPaymentFrequency,c=e.stripeCurrency;return null!==(r=null===(n=(0,t.getDefaultSubscriptionPriceSummaryAndUnitAmountDiscrepancy)({isUsingTestStripe:i,groupIdentifierNumberRecord:a,workspaceCreationSse:o,subscriptionType:s,subscriptionPaymentFrequency:u,stripeCurrency:c}))||void 0===n?void 0:n.defaultPriceSummary)&&void 0!==r?r:null};t.stripeAmountToStr=function(e){var t=e.amount,r=e.currency,n=e.showZerosAfterDecimal,i=e.prependUsdForClarity,a=r.toUpperCase(),o=["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","UGX","VND","VUV","XAF","XOF","XPF"].includes(a);return(0,f.formatNumberInCurrency)({num:o?t:t/100,currency:a,showZerosAfterDecimal:n,prependUsdForClarity:i})};t.stripePromotionCodeDiscountToStr=function(e){switch(e.type){case o.StripePromotionCodeDiscountType.FIXED_AMOUNT:var r=(0,t.stripeAmountToStr)({amount:e.discountCents,currency:"usd"});return"".concat(r," off");case o.StripePromotionCodeDiscountType.PERCENTAGE:return"".concat(e.discountPercentage,"% off")}};t.stripePromotionCodeDurationToStr=function(e){switch(e.type){case o.StripePromotionCodeDurationType.ONCE:return"once";case o.StripePromotionCodeDurationType.REPEATING:return"for ".concat((0,f.numWithUnits)(e.durationMonths,"month"));case o.StripePromotionCodeDurationType.FOREVER:return"forever"}};t.getStripePromotionCodeSummaryDescription=function(e){var r=e.discount,n=e.applicableProductSummaries,i=e.duration,a=e.minimumPaymentCents,o=(0,t.stripePromotionCodeDiscountToStr)(r),s=(0,t.stripePromotionCodeDurationToStr)(i),u=n.map((function(e){return(0,f.capitalizeStr)(e.subscriptionType)})),c=(0,f.listToStr)(u,"or"),l=a>0?" (minimum payment ".concat((0,t.stripeAmountToStr)({amount:a,currency:"usd"}),")"):"";return"".concat(o," ").concat(s," on ").concat(c).concat(l)};t.isStripePromotionCodeSummaryValidForSubscriptionPurchase=function(e){var r=e.isUsingTestStripe,n=e.groupIdentifierNumberRecord,i=e.workspaceCreationSse,a=e.stripePromotionCodeSummary,s=e.subscriptionType,u=e.subscriptionPaymentFrequency,c=e.stripeCurrency;if("usd"!==c){if(a.discount.type===o.StripePromotionCodeDiscountType.FIXED_AMOUNT)return!1;if(a.minimumPaymentCents>0)return!1}if(!a.applicableProductSummaries.some((function(e){return e.subscriptionType===s})))return!1;var l=(0,t.getDefaultSubscriptionPriceSummary)({isUsingTestStripe:r,groupIdentifierNumberRecord:n,workspaceCreationSse:i,subscriptionType:s,subscriptionPaymentFrequency:u,stripeCurrency:c});return t.subscriptionTypeComparator.isGreaterThanOrEqualTo(s,o.SubscriptionType.ENTERPRISE_TIER_1)||null!=l&&l.unitAmount>=a.minimumPaymentCents};t.isSubscriptionFreeTrialActive=function(e){var t=(0,h.getCurrentSecondsSinceEpoch)();return null!=e.subscriptionTrialData&&t<=e.subscriptionTrialData.trialEndSecondsSinceEpoch};t.getManageSubscriptionUrl=function(e){var t=e.env,r=e.invoiceUrl;return null!==r&&void 0!==r?r:(0,s.getAppUrlForPath)(t,(0,d.addQueryParamsToUrl)("/manage-subscription",{flowType:o.PortalSessionFlowType.PAYMENT_METHOD_UPDATE}))};t.getMostRecentStripeInvoiceSummary=function(e){if(0===e.length)return null;var t=(0,u.arrGetFirst)(e);return e.forEach((function(e){var r,n;(null!==(r=e.creationSse)&&void 0!==r?r:0)>(null!==(n=t.creationSse)&&void 0!==n?n:0)&&(t=e)})),t}},81057:function(e,t,r){"use strict";var n=r(27424).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fixProjectInternalInfoInPlace=t.getAllUnhydratedProjectAssetLocators=t.getBlockDuration=t.checkProjectInternalInfoTransformation=t.fixProjectInPlace=t.getProjectWithoutMissingFiles=t.minDimensionPixelsToStr=t.getDefaultProjectInternalInfo=void 0;var a=r(2071),o=r(5447),s=r(68329),u=i(r(27623)),c=r(92053),l=r(74595),d=r(42172),f=i(r(37648)),h=r(63069),p=r(71047),v=r(69319),g=r(34250),m=r(2421),y=r(69403);t.getDefaultProjectInternalInfo=function(e){return{projectId:e.projectId,projectStorageSummary:{summaryMillisecondsSinceEpoch:(0,p.getCurrentMillisecondsSinceEpoch)(),numStoredUploads:0,storageBytes:0},projectActiveUploadSummaries:[],projectExportJobs:[]}};t.minDimensionPixelsToStr=function(e){return 2160===e?"4K":4320===e?"8K":"".concat(e,"p")};t.getProjectWithoutMissingFiles=function(e){var t,r=e.project,n=e.projectStorageIdFileRecord,i=(0,u.default)(r),a=i.generator;if((null===(t=a.music)||void 0===t||null===(t=t.musicAssetReference.locator)||void 0===t?void 0:t.type)===d.AssetLocatorType.STORAGE){var o,s,l=null!==(s=n[null===(o=a.music)||void 0===o?void 0:o.musicAssetReference.locator.storageFileId])&&void 0!==s?s:null;(0,c.isStorageFileFulfilled)(l)||(a.music=null)}return i};t.fixProjectInPlace=function(e){var t;(e.generator.voice.pronunciationReplacements.length>l.MAX_PROJECT_PRONUNCIATION_REPLACEMENTS&&(e.generator.voice.pronunciationReplacements=e.generator.voice.pronunciationReplacements.slice(0,l.MAX_PROJECT_PRONUNCIATION_REPLACEMENTS)),e.generator.voice.ttsVoice.providerName===m.TtsProviderName.ELEVEN_LABS)&&(e.generator.voice.ttsVoice.voiceId=null!==(t=y.ELEVEN_LABS_DEPRECATED_ID_REPLACEMENT_MAP[e.generator.voice.ttsVoice.voiceId])&&void 0!==t?t:e.generator.voice.ttsVoice.voiceId);return(0,a.castAsProject)(e)};t.checkProjectInternalInfoTransformation=function(e){var t=e.rootProjectInternalInfo,r=e.transformedProjectInternalInfo,i=e.copyTransformedToRoot;(0,o.strictObjectToEntries)(r).forEach((function(e){var r=n(e,2),a=r[0],o=r[1];switch(a){case"projectId":if(!(0,f.default)(t[a],o))throw(0,g.newInternalError)("ProjectInternalInfo transformation modified read-only property ".concat(a));break;case"projectStorageSummary":case"projectActiveUploadSummaries":case"projectExportJobs":i&&(t[a]=o);break;default:(0,g.assertNever)(a)}}))};t.getBlockDuration=function(e){var t=e.generatedScriptElements,r=e.backgroundVisualAssetReferences,n=null==t?0:(0,s.arrSum)(t.map((function(e){return(0,h.getGeneratedScriptElementDuration)(e)}))),i=null==r?0:(0,s.arrSum)(r.map((function(e){return e.duration})));return Math.max(n,i)};t.getAllUnhydratedProjectAssetLocators=function(e,t){var r=t.storageIdFileRecord,n=t.stockVisualAssetMetadataStore;return(0,v.getAllAssetLocatorsInObject)(e).filter((function(e){return!(0,v.isAssetHydrated)({assetLocator:e,storageIdFileRecord:r,stockVisualAssetMetadataStore:n})}))};t.fixProjectInternalInfoInPlace=function(e){return e.projectExportJobs=(0,s.arrWithoutDuplicates)(e.projectExportJobs.filter((function(t){return t.projectId===e.projectId})).sort((function(e,t){return t.metadata.initiationSse-e.metadata.initiationSse})).slice(0,l.MAX_PROJECT_EXPORT_JOBS),(function(e){return e.metadata.jobId})),e}},55342:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default;Object.defineProperty(t,"__esModule",{value:!0}),t.executeWithRetries=t.executeWithExponentialRetries=t.executeWithTimeout=t.sleep=t.promisifyAll=t.promisify=void 0;var a=r(69806),o=r(68329),s=r(34250),u=function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.promisify=u;var c=function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.promisifyAll=c;var l=function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t>0)){e.next=3;break}return e.next=3,new Promise((function(e){setTimeout((function(){e()}),t)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.sleep=l;var d=function(){var e=i(n().mark((function e(t,r,i){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){setTimeout((function(){n((0,s.convertUnknownErrorToSecretKnownError)(i,{defaultErr:(0,s.newFatalError)("Request timed out. Please check your internet connection and try again.",{rawData:{timeoutMs:r}})}))}),r),t().then(e).catch(n)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();t.executeWithTimeout=d;var f=function(){var e=i(n().mark((function e(r,u){var c,l,d,f,h,p,v,g,m,y,b,S,E,x;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=u.onError,l=u.maxNumAttempts,d=u.initialRetryDelayMs,f=u.exponentialFactor,h=u.getAttemptTimeoutMs,!(f<1)){e.next=3;break}throw(0,s.newInternalError)("Exponential factor for executeWithExponentialRetries cannot be less than 1.",{rawData:{exponentialFactor:f}});case 3:p=r.callback,v=r.haltableCallback,g=d,m=[],y=10,b=n().mark((function e(r){var o,u,d;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u=null!==(o=null===h||void 0===h?void 0:h({attemptIndex:r}))&&void 0!==o?o:a.MILLISECONDS_PER_HOUR,null==p){e.next=9;break}return e.next=5,(0,t.executeWithTimeout)(i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({attemptIndex:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),u);case 5:return e.t0=e.sent,e.abrupt("return",{v:e.t0});case 9:if(null==v){e.next=23;break}return e.next=12,(0,t.executeWithTimeout)(i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({attemptIndex:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),u);case 12:if(!(d=e.sent).isSuccessful){e.next=17;break}return e.abrupt("return",{v:d.output});case 17:try{null===c||void 0===c||c({err:d.knownError,attemptIndex:r})}catch(y){}if(m.push(d.knownError),!d.haltImmediately){e.next=21;break}return e.abrupt("return",0);case 21:e.next=24;break;case 23:return e.abrupt("return",{v:(0,s.assertNever)(p)});case 24:e.next=30;break;case 26:e.prev=26,e.t1=e.catch(0);try{null===c||void 0===c||c({err:e.t1,attemptIndex:r})}catch(b){}m.push((0,s.convertUnknownErrorToSecretKnownError)(e.t1));case 30:if(!(r<l-1)){e.next=34;break}return e.next=33,(0,t.sleep)(g);case 33:g*=f;case 34:case"end":return e.stop()}}),e,null,[[0,26]])})),E=0;case 9:if(!(E<Math.min(l,y))){e.next=19;break}return e.delegateYield(b(E),"t0",11);case 11:if(0!==(S=e.t0)){e.next=14;break}return e.abrupt("break",19);case 14:if(!S){e.next=16;break}return e.abrupt("return",S.v);case 16:E+=1,e.next=9;break;case 19:throw x=(0,o.arrGetLastOrOmit)(m),(0,s.convertUnknownErrorToSecretKnownError)(x,{defaultErr:(0,s.newInternalError)("Failed to execute callback with retries.",{rawData:{maxNumAttempts:l,initialRetryDelayMs:d,exponentialFactor:f,attemptErrs:m}})});case 21:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();t.executeWithExponentialRetries=f;var h=function(){var e=i(n().mark((function e(r,i){var a,o,s,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.onError,o=i.maxNumAttempts,s=i.retryDelayMs,u=i.getAttemptTimeoutMs,e.abrupt("return",(0,t.executeWithExponentialRetries)(r,{onError:a,maxNumAttempts:o,initialRetryDelayMs:s,exponentialFactor:1,getAttemptTimeoutMs:u}));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();t.executeWithRetries=h},24830:function(e,t,r){"use strict";var n=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.checkServerUserInfoTransformation=t.getMaxServerRateLimitRequestCounter=t.getDefaultServerUserInfo=t.getDefaultServerRateLimitRequestCounter=t.getDefaultRateLimitRequestCounter=t.getDefaultRequestCounter=void 0;var i=r(34586),a=r(34250),o=r(71047);t.getDefaultRequestCounter=function(){return{numRequests:0,lastResetSecondsSinceEpoch:(0,o.getCurrentSecondsSinceEpoch)()}};t.getDefaultRateLimitRequestCounter=function(){var e;return n(e={},i.RateLimitPeriod.HOUR,(0,t.getDefaultRequestCounter)()),n(e,i.RateLimitPeriod.DAY,(0,t.getDefaultRequestCounter)()),n(e,i.RateLimitPeriod.MONTH,(0,t.getDefaultRequestCounter)()),e};t.getDefaultServerRateLimitRequestCounter=function(){return{"/initiate-admin-action":(0,t.getDefaultRateLimitRequestCounter)(),"/get-user-project":(0,t.getDefaultRateLimitRequestCounter)(),"/upsert-brand":(0,t.getDefaultRateLimitRequestCounter)(),"/delete-brand":(0,t.getDefaultRateLimitRequestCounter)(),"/set-api-enabled":(0,t.getDefaultRateLimitRequestCounter)(),"/get-workspace-api-keys":(0,t.getDefaultRateLimitRequestCounter)(),"/create-api-key":(0,t.getDefaultRateLimitRequestCounter)(),"/delete-api-key":(0,t.getDefaultRateLimitRequestCounter)(),"/text-to-image":(0,t.getDefaultRateLimitRequestCounter)(),"/generate-image":(0,t.getDefaultRateLimitRequestCounter)(),"/create-unfulfilled-export":(0,t.getDefaultRateLimitRequestCounter)(),"/view-export":(0,t.getDefaultRateLimitRequestCounter)(),"/set-export-visibility":(0,t.getDefaultRateLimitRequestCounter)(),"/initiate-job":(0,t.getDefaultRateLimitRequestCounter)(),"/mark-job-metadata-key":(0,t.getDefaultRateLimitRequestCounter)(),"/search-library":(0,t.getDefaultRateLimitRequestCounter)(),"/hydrate-assets":(0,t.getDefaultRateLimitRequestCounter)(),"/execute-local-tester-command":(0,t.getDefaultRateLimitRequestCounter)(),"/execute-manager-action":(0,t.getDefaultRateLimitRequestCounter)(),"/write-video-script":(0,t.getDefaultRateLimitRequestCounter)(),"/generate-title":(0,t.getDefaultRateLimitRequestCounter)(),"/purchase-subscription":(0,t.getDefaultRateLimitRequestCounter)(),"/change-subscription":(0,t.getDefaultRateLimitRequestCounter)(),"/create-customer-portal-session":(0,t.getDefaultRateLimitRequestCounter)(),"/get-promotion-code-summary":(0,t.getDefaultRateLimitRequestCounter)(),"/renew-subscription":(0,t.getDefaultRateLimitRequestCounter)(),"/void-invoice":(0,t.getDefaultRateLimitRequestCounter)(),"/generate-project":(0,t.getDefaultRateLimitRequestCounter)(),"/delete-projects":(0,t.getDefaultRateLimitRequestCounter)(),"/get-hydrated-workspace-storage-files":(0,t.getDefaultRateLimitRequestCounter)(),"/hydrate-workspace-storage-files":(0,t.getDefaultRateLimitRequestCounter)(),"/confirm-workspace-storage-files-upload":(0,t.getDefaultRateLimitRequestCounter)(),"/delete-workspace-storage-files":(0,t.getDefaultRateLimitRequestCounter)(),"/generate-subtitles":(0,t.getDefaultRateLimitRequestCounter)(),"/stripe-webhook":(0,t.getDefaultRateLimitRequestCounter)(),"/create-workspace":(0,t.getDefaultRateLimitRequestCounter)(),"/delete-account":(0,t.getDefaultRateLimitRequestCounter)(),"/complete-onboarding-task":(0,t.getDefaultRateLimitRequestCounter)(),"/set-workspace-segments":(0,t.getDefaultRateLimitRequestCounter)(),"/claim-free-access-code":(0,t.getDefaultRateLimitRequestCounter)(),"/script-to-video":(0,t.getDefaultRateLimitRequestCounter)(),"/get-file":(0,t.getDefaultRateLimitRequestCounter)(),"/prompt-to-script":(0,t.getDefaultRateLimitRequestCounter)(),"/synchronize-speech":(0,t.getDefaultRateLimitRequestCounter)()}};t.getDefaultServerUserInfo=function(e){return{userId:e.userId,serverRateLimitRequestCounter:(0,t.getDefaultServerRateLimitRequestCounter)()}};var s=function(e){return{numRequests:e.maxNumRequests,lastResetSecondsSinceEpoch:(0,o.getCurrentSecondsSinceEpoch)()}},u=function(e){var t,r=e.maxNumRequestsPerHour,a=6*r,o=12*a;return n(t={},i.RateLimitPeriod.HOUR,s({maxNumRequests:r})),n(t,i.RateLimitPeriod.DAY,s({maxNumRequests:a})),n(t,i.RateLimitPeriod.MONTH,s({maxNumRequests:o})),t};t.getMaxServerRateLimitRequestCounter=function(){return{"/initiate-admin-action":u({maxNumRequestsPerHour:10}),"/get-user-project":u({maxNumRequestsPerHour:10}),"/upsert-brand":u({maxNumRequestsPerHour:200}),"/delete-brand":u({maxNumRequestsPerHour:100}),"/set-api-enabled":u({maxNumRequestsPerHour:5}),"/get-workspace-api-keys":u({maxNumRequestsPerHour:100}),"/create-api-key":u({maxNumRequestsPerHour:5}),"/delete-api-key":u({maxNumRequestsPerHour:10}),"/text-to-image":u({maxNumRequestsPerHour:50}),"/generate-image":u({maxNumRequestsPerHour:250}),"/create-unfulfilled-export":u({maxNumRequestsPerHour:25}),"/view-export":u({maxNumRequestsPerHour:500}),"/set-export-visibility":u({maxNumRequestsPerHour:100}),"/initiate-job":u({maxNumRequestsPerHour:25}),"/mark-job-metadata-key":u({maxNumRequestsPerHour:50}),"/search-library":u({maxNumRequestsPerHour:500}),"/hydrate-assets":u({maxNumRequestsPerHour:250}),"/execute-local-tester-command":u({maxNumRequestsPerHour:500}),"/execute-manager-action":u({maxNumRequestsPerHour:50}),"/write-video-script":u({maxNumRequestsPerHour:50}),"/generate-title":u({maxNumRequestsPerHour:50}),"/purchase-subscription":u({maxNumRequestsPerHour:50}),"/change-subscription":u({maxNumRequestsPerHour:50}),"/create-customer-portal-session":u({maxNumRequestsPerHour:50}),"/get-promotion-code-summary":u({maxNumRequestsPerHour:50}),"/renew-subscription":u({maxNumRequestsPerHour:50}),"/void-invoice":u({maxNumRequestsPerHour:50}),"/generate-project":u({maxNumRequestsPerHour:100}),"/delete-projects":u({maxNumRequestsPerHour:50}),"/get-hydrated-workspace-storage-files":u({maxNumRequestsPerHour:500}),"/hydrate-workspace-storage-files":u({maxNumRequestsPerHour:500}),"/confirm-workspace-storage-files-upload":u({maxNumRequestsPerHour:5e3}),"/delete-workspace-storage-files":u({maxNumRequestsPerHour:500}),"/generate-subtitles":u({maxNumRequestsPerHour:100}),"/stripe-webhook":u({maxNumRequestsPerHour:1e5}),"/create-workspace":u({maxNumRequestsPerHour:10}),"/delete-account":u({maxNumRequestsPerHour:25}),"/complete-onboarding-task":u({maxNumRequestsPerHour:50}),"/set-workspace-segments":u({maxNumRequestsPerHour:50}),"/claim-free-access-code":u({maxNumRequestsPerHour:10}),"/script-to-video":u({maxNumRequestsPerHour:500}),"/get-file":u({maxNumRequestsPerHour:2500}),"/prompt-to-script":u({maxNumRequestsPerHour:2500}),"/synchronize-speech":u({maxNumRequestsPerHour:5e4})}};t.checkServerUserInfoTransformation=function(e){var t=e.rootServerUserInfo,r=e.transformedServerUserInfo;if(t.userId!==r.userId)throw(0,a.newInternalError)("Server user info transformation modified read-only field userId.")}},63069:function(e,t,r){"use strict";var n=r(27424).default,i=r(861).default,a=r(38416).default,o=r(70215).default,s=r(42122).default,u=["text"],c=["text"],l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.expandedGeneratedScriptElementsToExpandedCaptions=t.expandedGeneratedScriptElementsToAudioAssetReferences=t.generationToVgmlStr=t.scriptElementToVgmlStr=t.expandBlockGeneratedScriptElements=t.getGeneratedScriptElementDuration=t.getGeneratedSpeechScriptElementRelativeTiming=t.subdivideScriptElement=t.parseScriptElements=t.endIndicesToIndexRanges=void 0;var d=l(r(37648)),f=r(15685),h=r(69403),p=r(75668),v=r(5447),g=r(68329),m=r(81138),y=r(34250),b=r(12539),S=r(47491),E=r(41107),x=r(71904),w=r(45211),k=r(69319);t.endIndicesToIndexRanges=function(e){return e.map((function(t,r){return{startIndex:0===r?0:(0,g.arrGet)(e,r-1),endIndex:t}}))};var _=function(e){var t=e.scriptElements,r=[];return t.forEach((function(e){switch(e.tag){case p.ScriptTag.SPEECH:return void e.text.split("\n").forEach((function(t){var n=t.trim();if(n){var i=(0,g.arrGetLastOrOmit)(r);if((null===i||void 0===i?void 0:i.tag)===p.ScriptTag.SPEECH){e.text;var a=o(e,u),l=(i.text,o(i,c));if((0,d.default)(a,l)&&i.text.length<h.IDEAL_SEGMENT_NUM_CHARS&&i.text.length+1+n.length<2*h.IDEAL_SEGMENT_NUM_CHARS)return void(i.text+="\n".concat(n))}r.push(s(s({},e),{},{text:n}))}}));case p.ScriptTag.PAUSE:var t=(0,g.arrGetLastOrOmit)(r);return(null===t||void 0===t?void 0:t.tag)===p.ScriptTag.PAUSE?void(t.time=(0,b.clip)({num:t.time+e.time,min:0,max:f.MAX_PAUSE_SECONDS})):void r.push(s(s({},e),{},{time:(0,b.clip)({num:e.time,min:0,max:f.MAX_PAUSE_SECONDS})}));default:return(0,y.assertNever)(e)}})),r.flatMap((function(e){return function(e){var t=e.uncappedScriptElement,r=e.idealSegmentNumChars,n=e.maxSegmentNumChars;switch(t.tag){case p.ScriptTag.SPEECH:return t.text.length<=n?[t]:(0,E.textToChunks)(t.text,{idealCharsPerChunk:r,maxCharsPerChunk:n}).map((function(e){return s(s({},t),{},{text:e})}));case p.ScriptTag.PAUSE:return[t];default:return(0,y.assertNever)(t)}}({uncappedScriptElement:e,idealSegmentNumChars:h.IDEAL_SEGMENT_NUM_CHARS,maxSegmentNumChars:h.MAX_SEGMENT_NUM_CHARS})}))},T=function(e){var t=e.scriptTag,r=e.text,n=e.defaultVoice,i=e.defaultVolume;switch(t){case p.ScriptTag.SPEECH:return{tag:t,text:null!==r&&void 0!==r?r:"",voice:null!==n&&void 0!==n?n:"",volume:(0,b.clip)({num:null!==i&&void 0!==i?i:1,min:0,max:1}),hidden:!1};case p.ScriptTag.PAUSE:return{tag:t,time:1};default:return(0,y.assertNever)(t)}};t.parseScriptElements=function(e){var t=e.scriptText,r=e.isVgmlEnabled,n=e.defaultTtsVoice,i=e.defaultVolume,o=null==n?void 0:(0,x.ttsVoiceToUniqueId)(n);if(r)try{for(var u=/<(\w+)(\s+[^>]*)?\/>|<(\w+)(\s+[^>]*)?>([\s\S]*?)<\/\3>/g,c=/(\w+)(=["'](.*?)["'])?/g,l=[],d=null,f=0;null!=(d=u.exec(t));){var h,m,y,b,E,w=(0,g.arrGetFirst)(d),k=null===(h=null!==(m=(0,g.arrGetOrOmit)(d,1))&&void 0!==m?m:(0,g.arrGetOrOmit)(d,3))||void 0===h?void 0:h.trim(),A=null===(y=null!==(b=(0,g.arrGetOrOmit)(d,2))&&void 0!==b?b:(0,g.arrGetOrOmit)(d,4))||void 0===y?void 0:y.trim(),C=null===(E=(0,g.arrGetOrOmit)(d,5))||void 0===E?void 0:E.trim();if(f<d.index&&l.push(T({scriptTag:p.ScriptTag.SPEECH,text:t.slice(f,d.index),defaultVoice:o,defaultVolume:i})),k){var P=(0,v.castOrDefault)(k.toUpperCase(),p.castAsScriptTag,p.ScriptTag.SPEECH),I=T({scriptTag:P,text:C,defaultVoice:o,defaultVolume:i});if(A)for(var O=null,R=function(){var e,t=null===(e=(0,g.arrGetOrOmit)(O,1))||void 0===e?void 0:e.toLowerCase();if(t&&t in I){var r=I[t],n=(0,g.arrGetOrOmit)(O,3),i=function(){if((0,v.isBoolean)(r))return"false"!==(null===n||void 0===n?void 0:n.toLowerCase());if((0,v.isNumber)(r)){if(null==n)return;return(0,S.parseFloatOrOmit)(n)}return(0,v.isString)(r)?n:void 0}();if(null!=i)try{I=(0,p.castAsScriptElement)(s(s({},I),{},a({},t,i)))}catch(o){console.error(o)}}};null!=(O=c.exec(A));)R();l.push(I)}f=d.index+w.length}return f<t.length&&l.push(T({scriptTag:p.ScriptTag.SPEECH,text:t.slice(f),defaultVoice:o,defaultVolume:i})),_({scriptElements:l})}catch(L){console.error(L)}var N=T({scriptTag:p.ScriptTag.SPEECH,text:t,defaultVoice:o,defaultVolume:i});return _({scriptElements:[N]})};t.subdivideScriptElement=function(e){var t=e.scriptElement,r=e.sceneWordLengthThreshold;switch(t.tag){case p.ScriptTag.SPEECH:var n=[],a=[];(0,E.textToSentences)(t.text).forEach((function(e){var t=(0,E.textToWords)(e);n.push.apply(n,i(t)),a.push(n.length)}));var o=a.map((function(e,t){return{startIndex:0===t?0:(0,g.arrGet)(a,t-1),endIndex:e}})),u=(0,m.generateSceneIndexRanges)({sceneWordLengthThreshold:r,sentenceIndexRanges:o}).map((function(e){return e.endIndex}));return s(s({},t),{},{words:n,sentenceEndIndices:a,sceneEndIndices:u});case p.ScriptTag.PAUSE:return t;default:return(0,y.assertNever)(t)}};t.getGeneratedSpeechScriptElementRelativeTiming=function(e){var t=e.generatedSpeechScriptElement,r=e.startWordIndex,n=e.endWordIndex,i=0===r?0:(0,g.arrGet)(t.wordEndTimes,r-1),a=0===n?0:(0,g.arrGet)(t.wordEndTimes,n-1);if(a<i)throw(0,y.newInternalError)("Word timing is invalid.",{rawData:{startTime:i,endTime:a}});return{startTime:i,endTime:a}};t.getGeneratedScriptElementDuration=function(e){switch(e.tag){case p.ScriptTag.SPEECH:return 0===e.wordEndTimes.length?0:(0,g.arrGetLast)(e.wordEndTimes);case p.ScriptTag.PAUSE:return e.time;default:throw(0,y.assertNever)(e)}};t.expandBlockGeneratedScriptElements=function(e){var r=0;return e.map((function(e){switch(e.tag){case p.ScriptTag.SPEECH:var n,i=null!==(n=(0,g.arrGetLastOrOmit)(e.wordEndTimes))&&void 0!==n?n:0,a=e.wordEndTimes.map((function(t,n){return{startTime:(0===n?0:(0,g.arrGet)(e.wordEndTimes,n-1))+r,endTime:t+r}})),o=e.sentenceEndIndices.map((function(n,i){var a=0===i?0:(0,g.arrGet)(e.sentenceEndIndices,i-1),o=(0,t.getGeneratedSpeechScriptElementRelativeTiming)({generatedSpeechScriptElement:e,startWordIndex:a,endWordIndex:n});return{startTime:o.startTime+r,endTime:o.endTime+r}})),u=e.sceneEndIndices.map((function(n,i){var a=0===i?0:(0,g.arrGet)(e.sceneEndIndices,i-1),o=(0,t.getGeneratedSpeechScriptElementRelativeTiming)({generatedSpeechScriptElement:e,startWordIndex:a,endWordIndex:n});return{startTime:o.startTime+r,endTime:o.endTime+r}})),c={startTime:r,endTime:r+i};return r+=i,s(s({},e),{},{duration:i,overallElementTiming:c,overallWordTimings:a,overallSentenceTimings:o,overallSceneTimings:u});case p.ScriptTag.PAUSE:var l=e.time,d={startTime:r,endTime:r+l};return r+=l,s(s({},e),{},{overallElementTiming:d});default:return(0,y.assertNever)(e)}}))};t.scriptElementToVgmlStr=function(e){var t=e.scriptElement,r=e.defaultVoice,i=e.defaultVolume,a=T({scriptTag:p.ScriptTag.SPEECH,text:"text"in t?t.text:void 0,defaultVoice:r,defaultVolume:i});try{if(t.tag===p.ScriptTag.SPEECH&&(0,d.default)((0,p.castAsScriptElement)(t),a))return t.text}catch(c){console.error(c)}var o,s=t.tag.toLowerCase(),u="<".concat(s);return Object.entries(t).forEach((function(e){var r=n(e,2),i=r[0],s=r[1];if("tag"!==i&&i in a)if("text"===i){if(!(0,v.isString)(s))throw(0,y.newInternalError)("Script element text must be a string.",{rawData:{scriptElement:t,value:s}});o=s}else{if((0,d.default)(s,a[i]))return;(0,v.isBoolean)(s)?s&&(u+=" ".concat(i)):((0,v.isNumber)(s)||(0,v.isString)(s)&&""!==s)&&(u+=" ".concat(i,'="').concat(s,'"'))}})),u+=null==o?" />":">".concat(o,"</").concat(s,">")};t.generationToVgmlStr=function(e){var r=e.scriptElements,n=e.generatedVoiceData;if(0===r.length)return"";var i=(0,x.ttsVoiceToUniqueId)(n.ttsVoice);return r.map((function(e){return(0,t.scriptElementToVgmlStr)({scriptElement:e,defaultVoice:i,defaultVolume:n.volume})})).join("\n")};t.expandedGeneratedScriptElementsToAudioAssetReferences=function(e){return e.map((function(e){switch(e.tag){case p.ScriptTag.SPEECH:return s(s({},e.audioAssetReference),{},{overallAssetTiming:e.overallElementTiming});case p.ScriptTag.PAUSE:return{refId:(0,k.generateRandomRefId)(),locator:null,duration:e.time,volume:0,overallAssetTiming:e.overallElementTiming};default:return(0,y.assertNever)(e)}}))};t.expandedGeneratedScriptElementsToExpandedCaptions=function(e){var r=e.expandedGeneratedScriptElements,n=e.captionStyle,i=n.font.fontSize,a=(0,w.fontSizeToIdealCharsPerChunk)(i);return r.flatMap((function(e){switch(e.tag){case p.ScriptTag.SPEECH:return(0,m.getChunkIndexRanges)({words:e.words,sceneIndexRanges:(0,t.endIndicesToIndexRanges)(e.sceneEndIndices),sentenceIndexRanges:(0,t.endIndicesToIndexRanges)(e.sentenceEndIndices),idealCharsPerChunk:a}).map((function(r){var i=e.words.slice(r.startIndex,r.endIndex).map((function(e){return e.replace(/(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8])/g,"")})).filter((function(e){return e})).join(" "),a=(0,t.getGeneratedSpeechScriptElementRelativeTiming)({generatedSpeechScriptElement:e,startWordIndex:r.startIndex,endWordIndex:r.endIndex}),o={startTime:e.overallElementTiming.startTime+a.startTime,endTime:e.overallElementTiming.startTime+a.endTime};return{captionText:i,captionStyle:n,duration:o.endTime-o.startTime,overallCaptionTiming:o}}));case p.ScriptTag.PAUSE:return[{captionText:"",captionStyle:s(s({},n),{},{isHidden:!0}),duration:e.time,overallCaptionTiming:e.overallElementTiming}];default:return(0,y.assertNever)(e)}}))}},21559:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getServiceName=void 0;var n=r(58526);t.getServiceName=function(e){var t=e.serviceType,r=e.remoteEnv;return r===n.Environment.PROD?t:"".concat(t,"-").concat(r.toLowerCase())}},55708:function(e,t,r){"use strict";var n=r(17061).default,i=r(17156).default,a=r(56690).default,o=r(89728).default,s=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.initializeSyncSingletons=t.initializeSingletons=t.Singleton=void 0;var u=r(38583),c=r(34250),l=function(){function e(t,r){a(this,e),s(this,"name",void 0),s(this,"value",void 0),s(this,"initializer",void 0),this.name=t,this.initializer=r}return o(e,[{key:"initializeSync",value:function(){if(null==this.value){if(!(0,u.isSingletonInitializerSync)(this.initializer))throw(0,c.newInternalError)("Cannot call initializeSync on async ".concat(this.name," singleton."));try{this.value=this.initializer()}catch(e){console.error(e)}}}},{key:"initialize",value:function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.initializer();case 5:this.value=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getValueSync",value:function(){if(null==this.value&&this.initializeSync(),null==this.value)throw(0,c.newInternalError)("getValueSync failed to get defined value for ".concat(this.name," singleton."));return this.value}},{key:"getValue",value:function(){var e=i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.value){e.next=3;break}return e.next=3,this.initialize();case 3:if(null!=this.value){e.next=5;break}throw(0,c.newInternalError)("getValue failed to get defined value for ".concat(this.name," singleton."));case 5:return e.abrupt("return",this.value);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();t.Singleton=l;var d=function(){var e=i(n().mark((function e(){var t,r,a,o=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,r=new Array(t),a=0;a<t;a++)r[a]=o[a];return e.next=3,Promise.allSettled(r.map(function(){var e=i(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.initialize();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.initializeSingletons=d;t.initializeSyncSingletons=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach((function(e){e.initializeSync()}))}},92053:function(e,t,r){"use strict";var n=r(17061).default,i=r(38416).default,a=r(17156).default,o=r(861).default,s=r(42122).default,u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.storageFilesToStorageIdFileRecord=t.getErrorForStorageScopeAllowsFileBytes=t.checkWorkspaceStorageScopeAllowsNewStorage=t.getWorkspaceScopeStorageLimits=t.isStorageFileDisplayable=t.isStorageFileFulfilled=t.storageFileToUploadLoadingState=t.storageFileToLocator=t.getStorageFileDuration=t.isHydratedUrlExpiring=t.constructStorageFileHydrationRequest=t.signedUrlTypeToStorageFileSubtype=t.storageFileToDisplayFileName=t.constructStorageFileDisplayFileName=t.storageFileSatisfiesSearchFilter=t.getStorageFileSubtypeSignedReadUrl=t.webFileToWorkspaceStorageFileWithThumbnail=t.storageFileTypeToSupportedMimeTypes=t.webFileToFileExtension=t.mimeTypeToFileExtension=t.fileExtensionToWorkspaceStorageFileType=t.fileExtensionToMimeType=t.webFileToWorkspaceStorageFileType=t.mimeTypeToWorkspaceStorageFileType=t.getStorageFileSubtypeBytes=t.getWorkspaceStorageFilePath=t.summarizeWorkspaceStorageFileSubtype=t.summarizeWorkspaceStorageFilePath=t.constructWorkspaceStorageFilePath=t.summarizeWorkspaceStorageFileBasePath=t.constructWorkspaceStorageFileBasePath=void 0;var c=u(r(37648)),l=r(24681),d=r(69806),f=r(19841),h=r(90152),p=r(5447),v=r(68329),g=r(34250),m=r(2608),y=r(47491),b=r(71047),S=r(81714),E=r(54897),x=r(75677);t.constructWorkspaceStorageFileBasePath=function(e){var t=e.workspaceId,r=e.storageScope,n=e.storageFileId;switch(r.type){case h.WorkspaceStorageScopeType.GLOBAL:return"".concat(t,"/").concat(n);case h.WorkspaceStorageScopeType.PROJECT:return"".concat(t,"-project/").concat(r.projectId,"/").concat(n);case h.WorkspaceStorageScopeType.EXPORTS:return"".concat(t,"-exports/").concat(n);default:return(0,g.assertNever)(r)}};t.summarizeWorkspaceStorageFileBasePath=function(e){var t=e.split("/"),r=(0,v.arrGetFirst)(t),n=r.split("-"),i=(0,v.arrGetFirst)(n);if(!(0,E.isStrValidWorkspaceId)(i))throw(0,g.newInternalError)("Workspace storage file path does not have workspace ID in expected format.",{rawData:{fileBasePath:e,firstSegment:r,workspaceId:i}});var a=(0,v.arrGetOrOmit)(n,1);switch(a){case void 0:var o=(0,v.arrGet)(t,1);return(0,S.checkStrIsUuid)(o,{strName:"storageFileId",rawData:{fileBasePath:e,firstSegment:r}}),{workspaceId:i,storageScope:{type:h.WorkspaceStorageScopeType.GLOBAL},storageFileId:o};case"project":var s=(0,v.arrGet)(t,1),u=(0,v.arrGet)(t,2);return(0,S.checkStrIsUuid)(u,{strName:"storageFileId",rawData:{fileBasePath:e,firstSegment:r}}),(0,S.checkStrIsUuid)(s,{strName:"storageFileId",rawData:{fileBasePath:e,firstSegment:r}}),{workspaceId:i,storageScope:{type:h.WorkspaceStorageScopeType.PROJECT,projectId:s},storageFileId:u};case"exports":var c=(0,v.arrGet)(t,1);return(0,S.checkStrIsUuid)(c,{strName:"storageFileId",rawData:{fileBasePath:e,firstSegment:r}}),{workspaceId:i,storageScope:{type:h.WorkspaceStorageScopeType.EXPORTS},storageFileId:c};default:throw(0,g.newInternalError)("Failed to parse storage scope type.",{rawData:{fileBasePath:e,storageScopeTypeStr:a}})}};t.constructWorkspaceStorageFilePath=function(e){var r=e.workspaceId,n=e.storageScope,i=e.storageFileId,a=e.storageFileSubtype,o=e.subtypeFileExtension,s=(0,t.constructWorkspaceStorageFileBasePath)({workspaceId:r,storageScope:n,storageFileId:i});switch(a){case h.WorkspaceStorageFileSubtype.PRIMARY:return"".concat(s,".").concat(o);case h.WorkspaceStorageFileSubtype.THUMBNAIL:return"".concat(s,"_thumbnail.").concat(o)}};t.summarizeWorkspaceStorageFilePath=function(e){var r=e.split("."),n=(0,v.arrGet)(r,0),i=(0,v.arrGet)(r,1),a=n.split("_"),o=(0,v.arrGet)(a,0),u=(0,v.arrGetOrOmit)(a,1),c=(0,t.summarizeWorkspaceStorageFileBasePath)(o),l=function(){switch(u){case void 0:return h.WorkspaceStorageFileSubtype.PRIMARY;case"thumbnail":return h.WorkspaceStorageFileSubtype.THUMBNAIL;default:throw(0,g.newInternalError)("Failed to parse storage file subtype.",{rawData:{filePath:e,storageFileSubtypeStr:u}})}}();return s(s({},c),{},{storageFileSubtype:l,subtypeFileExtension:i})};t.summarizeWorkspaceStorageFileSubtype=function(e){var t=e.workspaceId,r=e.storageFile,n=e.storageFileSubtype,i=r.storageFileId,a=r.storageFileMetadata;switch(n){case h.WorkspaceStorageFileSubtype.PRIMARY:var o=a.storageScope,s=a.fileBytes;return{workspaceId:t,storageScope:o,storageFileId:i,storageFileSubtype:n,subtypeFileExtension:a.fileExtension,fileBytes:s};case h.WorkspaceStorageFileSubtype.THUMBNAIL:var u=a.storageScope,c=a.thumbnailMetadata;if(null==c)return null;var l=c.fileBytes;return{workspaceId:t,storageScope:u,storageFileId:i,storageFileSubtype:n,subtypeFileExtension:c.fileExtension,fileBytes:l}}};t.getWorkspaceStorageFilePath=function(e){var r=e.workspaceId,n=e.storageFile,i=e.storageFileSubtype,a=(0,t.summarizeWorkspaceStorageFileSubtype)({workspaceId:r,storageFile:n,storageFileSubtype:i});return null==a?null:(0,t.constructWorkspaceStorageFilePath)(a)};t.getStorageFileSubtypeBytes=function(e){var t=e.storageFile,r=e.storageFileSubtype;switch(r){case h.WorkspaceStorageFileSubtype.PRIMARY:return t.storageFileMetadata.fileBytes;case h.WorkspaceStorageFileSubtype.THUMBNAIL:var n,i;return null!==(n=null===(i=t.storageFileMetadata.thumbnailMetadata)||void 0===i?void 0:i.fileBytes)&&void 0!==n?n:0;default:return(0,g.assertNever)(r)}};t.mimeTypeToWorkspaceStorageFileType=function(e){if(e.startsWith("image/"))return h.WorkspaceStorageFileType.IMAGE;if(e.startsWith("audio/"))return h.WorkspaceStorageFileType.AUDIO;if(e.startsWith("video/"))return h.WorkspaceStorageFileType.VIDEO;throw(0,g.newFatalError)("Received unsupported file type".concat(e?" ".concat(e):"","."))};t.webFileToWorkspaceStorageFileType=function(e){return(0,t.mimeTypeToWorkspaceStorageFileType)(e.type)};t.fileExtensionToMimeType=function(e){var t,r=null===(t=l.SUPPORTED_FILE_TYPE_DESCRIPTORS.find((function(t){return t.fileExtension===e})))||void 0===t?void 0:t.mimeType;if(null==r)throw(0,g.newFatalError)("File extension ".concat(e," is not supported."));return r};t.fileExtensionToWorkspaceStorageFileType=function(e){var r=(0,t.fileExtensionToMimeType)(e);return(0,t.mimeTypeToWorkspaceStorageFileType)(r)};t.mimeTypeToFileExtension=function(e){var t,r=null===(t=l.SUPPORTED_FILE_TYPE_DESCRIPTORS.find((function(t){return t.mimeType===e})))||void 0===t?void 0:t.fileExtension;if(null==r)throw(0,g.newFatalError)("File type ".concat(e," is not supported."));return r};t.webFileToFileExtension=function(e){return(0,t.mimeTypeToFileExtension)(e.type)};t.storageFileTypeToSupportedMimeTypes=function(e){var r=l.SUPPORTED_FILE_TYPE_DESCRIPTORS.map((function(e){return e.mimeType})).filter((function(r){return(0,t.mimeTypeToWorkspaceStorageFileType)(r)===e}));return o(new Set(r))};var w=function(){var e=a(n().mark((function e(r){var a,o,u,c,l,d,f,p,v,g,y,E,x,w,k,_,T,A,C,P,I,O,R,N,L;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=r.file,u=r.storageScope,c=r.sourceProjectId,l=(0,t.webFileToWorkspaceStorageFileType)(o),d=(0,m.removeFileExtension)(o.name),f=(0,t.webFileToFileExtension)(o),p=(0,S.generateUuid)(),v={storageScope:u,displayName:d,description:null,creationSecondsSinceEpoch:(0,b.getCurrentSecondsSinceEpoch)(),uploadConfirmationSecondsSinceEpoch:null,fileExtension:f,fileBytes:o.size,fileMimeType:o.type,hydratedUrlRecord:(a={},i(a,h.WorkspaceStorageFileSignedUrlType.READ,null),i(a,h.WorkspaceStorageFileSignedUrlType.WRITE,null),i(a,h.WorkspaceStorageFileSignedUrlType.THUMBNAIL_READ,null),i(a,h.WorkspaceStorageFileSignedUrlType.THUMBNAIL_WRITE,null),a),thumbnailMetadata:null,sourceProjectId:c,isDeleted:!1},e.t0=l,e.next=e.t0===h.WorkspaceStorageFileType.AUDIO?9:e.t0===h.WorkspaceStorageFileType.IMAGE?15:e.t0===h.WorkspaceStorageFileType.VIDEO?24:34;break;case 9:return e.next=11,(0,m.extractUploadInfoFromWebAudioFile)(o);case 11:return g=e.sent,y=g.duration,E={type:l,storageFileId:p,storageFileMetadata:v,duration:y},e.abrupt("return",{storageFile:E,thumbnailFile:null});case 15:return e.next=17,(0,m.extractUploadInfoFromWebImageFile)(o);case 17:return x=e.sent,w=x.size,k=x.thumbnailFile,_=x.thumbnailSize,T=s(s({},v),{},{thumbnailMetadata:{size:_,fileExtension:(0,t.webFileToFileExtension)(k),fileBytes:k.size,fileMimeType:k.type}}),A={type:l,storageFileId:p,storageFileMetadata:T,size:w},e.abrupt("return",{storageFile:A,thumbnailFile:k});case 24:return e.next=26,(0,m.extractUploadInfoFromWebVideoFile)(o);case 26:return C=e.sent,P=C.duration,I=C.size,O=C.thumbnailFile,R=C.thumbnailSize,N=s(s({},v),{},{thumbnailMetadata:{size:R,fileExtension:(0,t.webFileToFileExtension)(O),fileBytes:O.size,fileMimeType:O.type}}),L={type:l,storageFileId:p,storageFileMetadata:N,duration:P,size:I},e.abrupt("return",{storageFile:L,thumbnailFile:O});case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.webFileToWorkspaceStorageFileWithThumbnail=w;t.getStorageFileSubtypeSignedReadUrl=function(e){var t=e.storageFile;switch(e.storageFileSubtype){case h.WorkspaceStorageFileSubtype.PRIMARY:var r,n;return null!==(r=null===(n=t.storageFileMetadata.hydratedUrlRecord[h.WorkspaceStorageFileSignedUrlType.READ])||void 0===n?void 0:n.signedUrl)&&void 0!==r?r:null;case h.WorkspaceStorageFileSubtype.THUMBNAIL:var i,a;return null==t.storageFileMetadata.thumbnailMetadata?null:null!==(i=null===(a=t.storageFileMetadata.hydratedUrlRecord[h.WorkspaceStorageFileSignedUrlType.THUMBNAIL_READ])||void 0===a?void 0:a.signedUrl)&&void 0!==i?i:null}};t.storageFileSatisfiesSearchFilter=function(e){var t=e.storageFile,r=e.searchFilter;return!!(0,c.default)(r.storageScope,t.storageFileMetadata.storageScope)&&(!(null!=r.storageFileIds&&!r.storageFileIds.includes(t.storageFileId))&&!(null!=r.storageFileTypes&&!r.storageFileTypes.includes(t.type)))};t.constructStorageFileDisplayFileName=function(e){var t=e.displayName,r=e.subtypeFileExtension,n=e.storageFileSubtype,i=(0,y.sanitizeStrForFileName)(t),a=""===i?"Untitled":i;switch(n){case h.WorkspaceStorageFileSubtype.PRIMARY:return"".concat(a,".").concat(r);case h.WorkspaceStorageFileSubtype.THUMBNAIL:return"".concat(a,"_thumbnail.").concat(r)}};t.storageFileToDisplayFileName=function(e){var r=e.storageFile,n=e.storageFileSubtype,i=r.storageFileMetadata,a=i.displayName,o=i.fileExtension;switch(n){case h.WorkspaceStorageFileSubtype.PRIMARY:return(0,t.constructStorageFileDisplayFileName)({displayName:a,subtypeFileExtension:o,storageFileSubtype:n});case h.WorkspaceStorageFileSubtype.THUMBNAIL:var s=i.thumbnailMetadata;return null==s?null:(0,t.constructStorageFileDisplayFileName)({displayName:a,subtypeFileExtension:s.fileExtension,storageFileSubtype:n})}};t.signedUrlTypeToStorageFileSubtype=function(e){switch(e){case h.WorkspaceStorageFileSignedUrlType.READ:case h.WorkspaceStorageFileSignedUrlType.WRITE:return h.WorkspaceStorageFileSubtype.PRIMARY;case h.WorkspaceStorageFileSignedUrlType.THUMBNAIL_READ:case h.WorkspaceStorageFileSignedUrlType.THUMBNAIL_WRITE:return h.WorkspaceStorageFileSubtype.THUMBNAIL}};t.constructStorageFileHydrationRequest=function(e){var t=e.storageFile,r=e.includeSignedWriteUrls,n=e.includeThumbnailSignedUrls&&null!=t.storageFileMetadata.thumbnailMetadata,i=[h.WorkspaceStorageFileSignedUrlType.READ];return n&&i.push(h.WorkspaceStorageFileSignedUrlType.THUMBNAIL_READ),r&&(i.push(h.WorkspaceStorageFileSignedUrlType.WRITE),n&&i.push(h.WorkspaceStorageFileSignedUrlType.THUMBNAIL_WRITE)),{storageFile:t,signedUrlTypes:i}};t.isHydratedUrlExpiring=function(e){var t=e.hydratedUrl,r=e.expirationBufferMilliseconds;return null!=t&&t.expirationMillisecondsSinceEpoch<(0,b.getCurrentMillisecondsSinceEpoch)()+r};t.getStorageFileDuration=function(e){switch(e.type){case h.WorkspaceStorageFileType.AUDIO:case h.WorkspaceStorageFileType.VIDEO:return e.duration;case h.WorkspaceStorageFileType.IMAGE:return 0}};t.storageFileToLocator=function(e){return{storageScope:e.storageFileMetadata.storageScope,storageFileId:e.storageFileId}};t.storageFileToUploadLoadingState=function(e){if(null==e)return f.LoadingState.REJECTED;var t=e.storageFileMetadata,r=t.creationSecondsSinceEpoch,n=t.uploadConfirmationSecondsSinceEpoch;return t.isDeleted?f.LoadingState.REJECTED:null!=n?f.LoadingState.FULFILLED:r+l.SIGNED_URL_TYPE_ACTIVE_MS_MAP[h.WorkspaceStorageFileSignedUrlType.WRITE]/d.MILLISECONDS_PER_SECOND+l.STORAGE_UPLOAD_TIMEOUT_SECONDS>=(0,b.getCurrentSecondsSinceEpoch)()?f.LoadingState.LOADING:f.LoadingState.REJECTED};t.isStorageFileFulfilled=function(e){return(0,t.storageFileToUploadLoadingState)(e)===f.LoadingState.FULFILLED};t.isStorageFileDisplayable=function(e,r){var n=r.expirationBufferMilliseconds;return null!=e&&!e.storageFileMetadata.isDeleted&&(0,t.isStorageFileFulfilled)(e)&&!(0,t.isHydratedUrlExpiring)({hydratedUrl:e.storageFileMetadata.hydratedUrlRecord.READ,expirationBufferMilliseconds:n})};t.getWorkspaceScopeStorageLimits=function(e){var t=e.workspaceInfo;switch(e.storageScope.type){case h.WorkspaceStorageScopeType.GLOBAL:case h.WorkspaceStorageScopeType.EXPORTS:var r=(0,E.getWorkspaceAuthLevel)(t),n=(0,E.getWorkspaceAuthLevelUsageLimits)(r);return{maxNumStoredUploads:n.totalNumStoredUploads,maxStorageBytes:n.totalStorageBytes};case h.WorkspaceStorageScopeType.PROJECT:return s({},l.PROJECT_WORKSPACE_STORAGE_LIMITS)}};t.checkWorkspaceStorageScopeAllowsNewStorage=function(e){var t=e.workspaceInfo,r=e.storageScope,n=e.newScopeNumStoredUploads,i=e.newScopeStorageBytes,a=(0,E.getWorkspaceAuthLevel)(t);switch(r.type){case h.WorkspaceStorageScopeType.GLOBAL:case h.WorkspaceStorageScopeType.EXPORTS:var o=(r.type===h.WorkspaceStorageScopeType.GLOBAL?i:t.globalStorageSummary.storageBytes)+(r.type===h.WorkspaceStorageScopeType.EXPORTS?i:t.exportsStorageSummary.storageBytes);(0,E.checkWorkspaceAllowsNewUsageConstantValue)({workspaceInfo:t,usageConstantKey:"totalStorageBytes",newUsageConstantValue:o});var s=(r.type===h.WorkspaceStorageScopeType.GLOBAL?n:t.globalStorageSummary.numStoredUploads)+(r.type===h.WorkspaceStorageScopeType.EXPORTS?n:t.exportsStorageSummary.numStoredUploads);(0,E.checkWorkspaceAllowsNewUsageConstantValue)({workspaceInfo:t,usageConstantKey:"totalNumStoredUploads",newUsageConstantValue:s});break;case h.WorkspaceStorageScopeType.PROJECT:if(i>l.PROJECT_WORKSPACE_STORAGE_LIMITS.maxStorageBytes)throw(0,g.newWarningError)("Project cannot exceed ".concat((0,x.bytesToStr)(l.PROJECT_WORKSPACE_STORAGE_LIMITS.maxStorageBytes)," storage limit."),{rawData:{workspaceAuthLevel:a,newScopeNumStoredUploads:n,newScopeStorageBytes:i}});if(n>l.PROJECT_WORKSPACE_STORAGE_LIMITS.maxNumStoredUploads)throw(0,g.newWarningError)("Project cannot contain over ".concat(l.PROJECT_WORKSPACE_STORAGE_LIMITS.maxNumStoredUploads," files."),{rawData:{workspaceAuthLevel:a,newScopeNumStoredUploads:n,newScopeStorageBytes:i}})}};t.getErrorForStorageScopeAllowsFileBytes=function(e){var t=e.storageScope,r=e.primaryFileBytes,n=e.displayName,i=l.STORAGE_SCOPE_TYPE_MAX_PRIMARY_FILE_BYTES_MAP[t.type];if(r>i){var a=function(){switch(t.type){case h.WorkspaceStorageScopeType.GLOBAL:return"upload";case h.WorkspaceStorageScopeType.PROJECT:return"project";case h.WorkspaceStorageScopeType.EXPORTS:return"export";default:return(0,g.assertNever)(t)}}();return(0,g.newWarningError)('File "'.concat(n,'" exceeds ').concat((0,x.bytesToStr)(i)," max ").concat(a," file size."),{rawData:{primaryFileBytes:r,scopeMaxPrimaryFileBytes:i}})}return null};t.storageFilesToStorageIdFileRecord=function(e){var t=(0,p.getEmptyPartialRecord)();return e.forEach((function(e){t[e.storageFileId]=e})),t}},47491:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isStrValidEmail=t.parseBooleanStrOrFalse=t.parseBooleanStrOrThrow=t.parseFloatOrOmit=t.parseFloatOrThrow=t.parseIntOrOmit=t.parseIntOrThrow=t.truncateTextWithEllipsis=t.listToStr=t.sanitizeStrForFileName=t.formatNumberInCurrency=t.formatNumber=t.generateRandomAsciiStr=t.generateRandomLowercaseAlphabeticId=t.selectRandomChar=t.limitStrLength=t.numWithUnits=t.numOccurrencesInStr=t.capitalizeStr=void 0;var i=r(5447),a=r(34250),o=n(r(86495)),s={allWords:!0};t.capitalizeStr=function(e){return e?(arguments.length>1&&void 0!==arguments[1]?arguments[1]:s).allWords?e.split(/ |_/).map((function(e){return e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():e})).join(" "):e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():e};t.numOccurrencesInStr=function(e,t){return""===t?0:e.split(t).length-1};t.numWithUnits=function(e,r){return 1===e?"".concat((0,t.formatNumber)(e)," ").concat(r):"".concat((0,t.formatNumber)(e)," ").concat(r,"s")};t.limitStrLength=function(e,t){if(t<0)throw(0,a.newInternalError)("Max length cannot be negative.");return e.substring(0,t)};t.selectRandomChar=function(e){if(0===e.length)throw(0,a.newInternalError)("Cannot select a random char of an empty string.");return e.charAt(Math.floor(Math.random()*e.length))};t.generateRandomLowercaseAlphabeticId=function(e){for(var r=e.length,n=new o.default,i=0;i<10;i+=1){var s=Array.from({length:r},(function(){return(0,t.selectRandomChar)("abcdefghijklmnopqrstuvwxyz")})).join("");if(!n.isProfane(s))return s}throw(0,a.newInternalError)("Failed to generate lowercase alphabetic ID.",{rawData:{length:r,MAX_GENERATION_ATTEMPTS:10}})};t.generateRandomAsciiStr=function(e){for(var r=e.length,n=new o.default,i=0;i<10;i+=1){var s=Array.from({length:r},(function(){return(0,t.selectRandomChar)("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~")})).join("");if(!n.isProfane(s))return s}throw(0,a.newInternalError)("Failed to generate ASCII string.",{rawData:{length:r,MAX_GENERATION_ATTEMPTS:10}})};t.formatNumber=function(e,t){try{return e.toLocaleString(void 0,t)}catch(r){return"".concat(e)}};t.formatNumberInCurrency=function(e){var t=e.num,r=e.currency,n=e.showZerosAfterDecimal,i=e.prependUsdForClarity,a=function(){try{var e=t.toLocaleString(void 0,{style:"currency",currency:r.toUpperCase()});return"USD"===r.toUpperCase()&&i?"USD ".concat(e):e}catch(n){return"".concat(t.toFixed(2)," ").concat(r.toUpperCase())}}();return n?a:a.split(" ").map((function(e){return e.replace(/([,.]00)$/,"")})).join(" ")};t.sanitizeStrForFileName=function(e){return e.replace(/[^a-zA-Z0-9 _-]/g,"").replace(/ /g,"_")};t.listToStr=function(e,t){var r=e.map((function(e){return e.trim()})).filter((function(e){return e}));return r.length<=2?r.join(" ".concat(t," ")):"".concat(r.slice(0,-1).join(", "),", ").concat(t," ").concat(r[r.length-1])};t.truncateTextWithEllipsis=function(e,t){return e.length<=t?e:e.slice(0,t-3)+"..."};t.parseIntOrThrow=function(e,t){var r=parseInt(e,t);if((0,i.isNumber)(r))return r;throw(0,a.newInternalError)("String could not be parsed as int.",{rawData:{str:e,int:r}})};t.parseIntOrOmit=function(e,t){var r=parseInt(e,t);if((0,i.isNumber)(r))return r};t.parseFloatOrThrow=function(e){var t=parseFloat(e);if((0,i.isNumber)(t))return t;throw(0,a.newInternalError)("String could not be parsed as float.",{rawData:{str:e,float:t}})};t.parseFloatOrOmit=function(e){var t=parseFloat(e);if((0,i.isNumber)(t))return t};t.parseBooleanStrOrThrow=function(e){switch(e){case"true":return!0;case"false":return!1;default:throw(0,a.newInternalError)("String could not be parsed as boolean.",{rawData:{str:e}})}};t.parseBooleanStrOrFalse=function(e){return"true"===e};t.isStrValidEmail=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}},59447:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInterpolatedSynchronizedWordEndTimes=void 0;var n=r(68329);t.getInterpolatedSynchronizedWordEndTimes=function(e){var t=e.audioDuration,r=e.words;if(0===r.length)return[];var i=r.map((function(e){return e.endsWith(".")||e.endsWith("!")?e.length+7:e.endsWith(",")?e.length+4:e.length+1})),a=0,o=(0,n.arrSum)(i),s=i.map((function(e){return a+=e/o*t}));return(0,n.arrSet)(s,s.length-1,t),s}},74166:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTerminalArgsMap=void 0;var n=r(68329);t.parseTerminalArgsMap=function(){var e=process.argv,t=new Map;return e.forEach((function(e){if(e.startsWith("--")){var r=e.slice(2).split("=");2===r.length&&t.set((0,n.arrGet)(r,0),(0,n.arrGet)(r,1))}})),t}},41107:function(e,t,r){"use strict";var n=r(861).default;Object.defineProperty(t,"__esModule",{value:!0}),t.stretchChunkArrayToLength=t.textToChunks=t.textToWords=t.textToSentences=void 0;var i=r(61865),a=r(68329),o=r(34250);t.textToSentences=function(e){var t=[];return e.split("\n").forEach((function(e){(0,i.split)(e).forEach((function(e){if(e.type===i.Syntax.Sentence){var r=e.raw.trim();r&&t.push(r)}}))})),t};t.textToWords=function(e){return e.split(/\s+/).map((function(e){return e.trim()})).filter((function(e){return e}))};t.textToChunks=function(e,r){var n=r.idealCharsPerChunk,i=r.maxCharsPerChunk,o=(0,t.textToSentences)(e);if(e.length<2*n&&e.length<=i)return[e];var s=[];return o.forEach((function(e){if(e.length<=i){var r=(0,a.arrGetLastOrOmit)(s);null!=r&&r.length<n&&r.length+1+e.length<2*n&&r.length+1+e.length<=i?(0,a.arrSet)(s,s.length-1,"".concat(r," ").concat(e).trim()):s.push(e)}else{(0,t.textToWords)(e).flatMap((function(e){if(e.length<=i)return[e];var t=Math.ceil(e.length/i);return Array.from({length:t},(function(r,n){return e.substring(Math.floor(e.length*n/t),Math.floor(e.length*(n+1)/t))}))})).forEach((function(e,t){var r=(0,a.arrGetLastOrOmit)(s);0!==t&&null!=r&&r.length<n&&r.length+1+e.length<2*n&&r.length+1+e.length<=i?(0,a.arrSet)(s,s.length-1,"".concat(r," ").concat(e).trim()):s.push(e)})),s.push("")}})),s.map((function(e){return e.trim()})).filter((function(e){return e}))};t.stretchChunkArrayToLength=function(e){var t=e.chunks,r=e.targetLength;if(t.length===r)return n(t);if(0===r)return[];if(0===t.length)throw(0,o.newInternalError)("Cannot stretch empty chunk array to length.");if(r<0)throw(0,o.newInternalError)("Stretched chunk array target length cannot be negative.",{rawData:{targetLength:r}});var i=[];return t.forEach((function(e,n){for(var a=!1;0===i.length||(n+1)/t.length>=(i.length+.5)/r;)i.push(e.trim()),a=!0;a||(i[i.length-1]="".concat(i[i.length-1]," ").concat(e.trim()).trim())})),i}},71047:function(e,t,r){"use strict";var n=r(861).default;Object.defineProperty(t,"__esModule",{value:!0}),t.daysSinceEpochToSecondsSinceEpoch=t.secondsSinceEpochToDaysSinceTimezoneEpoch=t.getTimezoneName=t.secondsSinceEpochToRelativeDateStr=t.secondsToMinutesTimeStr=t.secondsToHoursTimeStr=t.secondsToDurationStr=t.secondsSinceEpochToFormat=t.secondsSinceEpochToTimeStr=t.secondsSinceEpochToDateStr=t.getCurrentSecondsSinceEpoch=t.getCurrentMillisecondsSinceEpoch=void 0;var i=r(44970),a=r(47491),o=r(68329);t.getCurrentMillisecondsSinceEpoch=function(){return Math.floor(i.DateTime.now().toMillis())};t.getCurrentSecondsSinceEpoch=function(){return Math.floor(i.DateTime.now().toSeconds())};t.secondsSinceEpochToDateStr=function(e){return i.DateTime.fromSeconds(e).toLocaleString(i.DateTime.DATE_MED)};t.secondsSinceEpochToTimeStr=function(e){return i.DateTime.fromSeconds(e).toLocaleString(i.DateTime.TIME_SIMPLE)};t.secondsSinceEpochToFormat=function(e,t){return i.DateTime.fromSeconds(e).toFormat(t)};t.secondsToDurationStr=function(e,t){var r,s,u,c=null!==(r=null===t||void 0===t?void 0:t.units)&&void 0!==r?r:["days","hours","minutes","seconds"],l=!0===(null===t||void 0===t?void 0:t.isShort),d=(s=i.Duration.fromObject({seconds:Math.max(e,0)})).shiftTo.apply(s,n(c)),f=d.seconds,h=d.minutes,p=d.hours,v=d.days;if(v>=1)return l?"".concat(Math.floor(v),"d"):(0,a.numWithUnits)(Math.floor(v),"day");if(p>=1)return l?"".concat(Math.floor(p),"h"):(0,a.numWithUnits)(Math.floor(p),"hour");if(h>=1)return l?"".concat(Math.floor(h),"m"):(0,a.numWithUnits)(Math.floor(h),"minute");if(f>=1)return l?"".concat(Math.floor(f),"s"):(0,a.numWithUnits)(Math.floor(f),"second");var g=null!==(u=(0,o.arrGetLastOrOmit)(c))&&void 0!==u?u:"seconds";return l?"0".concat(g.charAt(0)):"0 ".concat(g)};t.secondsToHoursTimeStr=function(e){var t=i.Duration.fromObject({seconds:Math.max(e,1)}).shiftTo("hours","minutes","seconds"),r=t.hours,n=t.minutes,a=t.seconds,o=String(n).padStart(2,"0"),s=String(a).padStart(2,"0");return"".concat(r,":").concat(o,":").concat(s)};t.secondsToMinutesTimeStr=function(e){var t=i.Duration.fromObject({seconds:Math.max(e,1)}).shiftTo("minutes","seconds"),r=t.minutes,n=t.seconds,a=String(n).padStart(2,"0");return"".concat(r,":").concat(a)};t.secondsSinceEpochToRelativeDateStr=function(e){var t=i.DateTime.now().diff(i.DateTime.fromSeconds(e),["minutes","hours","days","weeks","months","years"]),r=t.minutes,n=t.hours,o=t.days,s=t.weeks,u=t.months,c=t.years,l="";if(c>=1)l=(0,a.numWithUnits)(Math.floor(c),"year");else if(u>=1)l=(0,a.numWithUnits)(Math.floor(u),"month");else if(s>=1)l=(0,a.numWithUnits)(Math.floor(s),"week");else if(o>=1)l=(0,a.numWithUnits)(Math.floor(o),"day");else if(n>=1)l=(0,a.numWithUnits)(Math.floor(n),"hour");else{if(!(r>=1))return"just now";l=(0,a.numWithUnits)(Math.floor(r),"minute")}return"".concat(l," ago")};t.getTimezoneName=function(){var e;return null!==(e=i.DateTime.local().zoneName)&&void 0!==e?e:"UTC"};t.secondsSinceEpochToDaysSinceTimezoneEpoch=function(e){var t=e.secondsSinceEpoch,r=e.timezoneName,n=i.DateTime.fromSeconds(t).setZone(r).diff(i.DateTime.fromObject({year:1970,month:1,day:1},{zone:r}),"days").days;return Math.floor(n)};t.daysSinceEpochToSecondsSinceEpoch=function(e){return Math.floor(86400*e)}},71904:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.voiceDisplayNameOrUniqueIdToDisplayableVoice=t.ttsVoiceToUniqueId=t.isLanguageCodeSupportedByTtsVoice=t.ttsVoiceToAudioUrl=t.ttsVoiceToAudioFileName=void 0;var n=r(69403),i=r(2421),a=r(68329),o=r(69319),s=r(34250);t.ttsVoiceToAudioFileName=function(e,t){switch(e.providerName){case i.TtsProviderName.GOOGLE:return"tts-demos/".concat(e.name,".wav");case i.TtsProviderName.OPEN_AI:return"tts-demos/open-ai-".concat(e.voiceId,"-").concat(t,".mp3");case i.TtsProviderName.ELEVEN_LABS:return"tts-demos/eleven-labs-".concat(e.voiceId,"-").concat(t,".mp3");default:return(0,s.assertNever)(e)}};t.ttsVoiceToAudioUrl=function(e,r){return(0,o.getAssetPath)((0,t.ttsVoiceToAudioFileName)(e,r))};t.isLanguageCodeSupportedByTtsVoice=function(e){var t=e.languageCode,r=e.ttsVoice;switch(r.providerName){case i.TtsProviderName.GOOGLE:return(0,a.arrGetFirstOrOmit)(r.languageCode.split("-"))===t;case i.TtsProviderName.OPEN_AI:case i.TtsProviderName.ELEVEN_LABS:return!0;default:return(0,s.assertNever)(r)}};t.ttsVoiceToUniqueId=function(e){switch(e.providerName){case i.TtsProviderName.GOOGLE:return e.name;case i.TtsProviderName.OPEN_AI:case i.TtsProviderName.ELEVEN_LABS:return e.voiceId;default:return(0,s.assertNever)(e)}};var u=function(e){var r,n=e.voiceDisplayNameOrUniqueId;return null!==(r=e.displayableVoices.find((function(e){return e.displayName.trim().toLowerCase()===n.trim().toLowerCase()||(0,t.ttsVoiceToUniqueId)(e.ttsVoice)===n.trim()})))&&void 0!==r?r:null};t.voiceDisplayNameOrUniqueIdToDisplayableVoice=function(e){for(var t=0,r=[n.GOOGLE_DISPLAYABLE_VOICES,n.OPEN_AI_DISPLAYABLE_VOICES,n.ELEVEN_LABS_DISPLAYABLE_VOICES];t<r.length;t++){var i=u({voiceDisplayNameOrUniqueId:e,displayableVoices:r[t]});if(null!=i)return i}return null}},81714:function(e,t,r){"use strict";var n=r(42122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrIsUuid=t.isStrUuid=t.generateUuid=void 0;var i=r(52212),a=r(34250);t.generateUuid=function(){return(0,i.v4)()};t.isStrUuid=function(e){return(0,i.validate)(e)&&4===(0,i.version)(e)};t.checkStrIsUuid=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.strName,o=r.rawData;if(!(0,t.isStrUuid)(e))throw(0,a.newInternalError)("".concat(i," value must be a valid uuid."),{rawData:n(n({},o),{},{str:e,strName:i})})}},2513:function(e,t,r){"use strict";var n=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getWebsiteUrlForPath=t.getWebsiteBasePath=void 0;var i=r(58526),a=r(84160);t.getWebsiteBasePath=function(e){var t;return(n(t={},i.Environment.PROD,"https://videogen.io"),n(t,i.Environment.DEV,"https://videogen.io"),n(t,i.Environment.ANTON,"https://videogen.io"),n(t,i.Environment.DAVID,"https://videogen.io"),n(t,i.Environment.LOCAL,"http://localhost:8000"),t)[e]};t.getWebsiteUrlForPath=function(e,r){return(0,a.joinPaths)((0,t.getWebsiteBasePath)(e),r)}},54897:function(e,t,r){"use strict";var n=r(27424).default,i=r(38416).default,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getNumRequiredAiCreditsForAction=t.checkCanWorkspaceUseExternalApi=t.getWorkspaceRecentInitiatedProjectExportJobs=t.getWorkspaceRecentInitiatedJobs=t.checkWorkspaceInfoTransformation=t.isWorkspaceSegmentsSet=t.getWorkspaceEligibleFreeTrialDaysForNewSubscriptionType=t.getWorkspaceTotalCentsPaid=t.hasWorkspaceMadeSuccessfulPayment=t.getSubscriptionInternalMonthlyRefillDuration=t.fixWorkspaceInfoInPlace=t.fixRecentInitiatedIdJobRecord=t.fixUsageCreditsContainer=t.getNextCreditRefillSse=t.getWorkspaceTotalMaxUsageCredits=t.getWorkspaceTotalUsageCredits=t.getNewFreeUsageCreditsContainer=t.getFullUsageCreditsContainer=t.internalMonthlyRefillDurationToInitialMonthlyRefillsRemaining=t.getSubscriptionTypeMaxUsageCredits=t.getWorkspaceInsufficientCreditsMessage=t.requireNextHighestAuthLevel=t.checkWorkspaceInfoSatisfiesAuthLevel=t.workspaceInfoSatisfiesAuthLevel=t.checkWorkspaceAllowsNewUsageConstantValue=t.getAllHigherWorkspaceAuthLevels=t.getNextHighestWorkspaceAuthLevel=t.getFirstNondeprecatedWorkspaceAuthLevelToSatisfy=t.workspaceAuthLevelComparator=t.getWorkspaceAuthLevelUsageLimits=t.getOptionalWorkspaceAuthLevel=t.getWorkspaceAuthLevel=t.workspaceAuthLevelToSubscriptionType=t.subscriptionTypeToWorkspaceAuthLevel=t.getDefaultWorkspaceInfo=t.getDefaultOnboardingTaskCompletionTimeRecord=t.getNextEmailReminderOnboardingTask=t.getNextFrontendOnboardingTask=t.getNextOnboardingTask=t.getOnboardingTaskUI=t.DEFAULT_ONBOARDING_TASK_ORDER=t.getDefaultWorkspaceSegments=t.isStrValidWorkspaceId=void 0;var o=a(r(37648)),s=r(80715),u=r(78436),c=r(5447),l=r(27820),d=r(68329),f=r(34250),h=r(71047),p=r(46044),v=r(91011),g=r(69806),m=r(28873),y=r(59899),b=r(98434),S=r(24887),E=r(77911),x=r(7152),w=r(30919);t.isStrValidWorkspaceId=function(e){return/^[a-zA-Z0-9]{28}$/.test(e)};t.getDefaultWorkspaceSegments=function(){return{useCase:null,role:null}},t.DEFAULT_ONBOARDING_TASK_ORDER=[l.OnboardingTask.SIGN_UP,l.OnboardingTask.CREATE_PROJECT,l.OnboardingTask.EDIT_PROJECT,l.OnboardingTask.GENERATE,l.OnboardingTask.EXPORT];t.getOnboardingTaskUI=function(e){var t;return(i(t={},l.OnboardingTask.SIGN_UP,{hideFromFrontend:!1,hideFromEmailReminders:!0,description:"Sign up to VideoGen"}),i(t,l.OnboardingTask.CREATE_PROJECT,{hideFromFrontend:!1,hideFromEmailReminders:!1,description:"Create your first project"}),i(t,l.OnboardingTask.EDIT_PROJECT,{hideFromFrontend:!1,hideFromEmailReminders:!1,description:"Edit your project"}),i(t,l.OnboardingTask.GENERATE,{hideFromFrontend:!1,hideFromEmailReminders:!1,description:"Generate your first video"}),i(t,l.OnboardingTask.EXPORT,{hideFromFrontend:!0,hideFromEmailReminders:!1,description:"Download and share your video"}),t)[e]};t.getNextOnboardingTask=function(e){return t.DEFAULT_ONBOARDING_TASK_ORDER.find((function(t){return null==e[t]}))};t.getNextFrontendOnboardingTask=function(e){return t.DEFAULT_ONBOARDING_TASK_ORDER.find((function(r){return null===e[r]&&!(0,t.getOnboardingTaskUI)(r).hideFromFrontend}))};t.getNextEmailReminderOnboardingTask=function(e){return t.DEFAULT_ONBOARDING_TASK_ORDER.find((function(r){return null==e[r]&&!(0,t.getOnboardingTaskUI)(r).hideFromEmailReminders}))};t.getDefaultOnboardingTaskCompletionTimeRecord=function(){var e;return i(e={},l.OnboardingTask.SIGN_UP,(0,h.getCurrentSecondsSinceEpoch)()),i(e,l.OnboardingTask.CREATE_PROJECT,null),i(e,l.OnboardingTask.EDIT_PROJECT,null),i(e,l.OnboardingTask.GENERATE,null),i(e,l.OnboardingTask.EXPORT,null),e};t.getDefaultWorkspaceInfo=function(e,r){var n,i=(0,h.getCurrentSecondsSinceEpoch)(),a=(0,E.generateRandomGroupIdentifierNumberRecord)(),o=[];return{workspaceId:e,creationSecondsSinceEpoch:i,stripeCustomerSummary:null,stripeInvoiceSummaries:o,subscription:null,redeemedFreeAccessCodeId:null,permissions:{isAdmin:!1,isManager:!1,isLocalTester:!1},paidUsageCreditsContainer:(0,t.getNewFreeUsageCreditsContainer)({workspaceCreationSse:i,workspaceStripeInvoiceSummaries:o,groupIdentifierNumberRecord:a}),freeAccessUsageCreditsContainer:null,globalStorageSummary:{summaryMillisecondsSinceEpoch:(0,h.getCurrentMillisecondsSinceEpoch)(),numStoredUploads:0,storageBytes:0},globalActiveUploadSummaries:[],exportsStorageSummary:{summaryMillisecondsSinceEpoch:(0,h.getCurrentMillisecondsSinceEpoch)(),numStoredUploads:0,storageBytes:0},exportsActiveUploadSummaries:[],referralData:null!==(n=null===r||void 0===r?void 0:r.referralData)&&void 0!==n?n:{internalReferrerPath:null,externalReferrerUrl:null,source:null},onboardingTaskCompletionTimeRecord:(0,t.getDefaultOnboardingTaskCompletionTimeRecord)(),segments:(0,t.getDefaultWorkspaceSegments)(),archiveSecondsSinceEpoch:null,groupNumber:Math.floor(100*Math.random())+1,groupIdentifierNumberRecord:a,recentInitiatedIdJobRecord:{},lastStripeAbandonedCartSummary:null,isExternalApiEnabled:!1}};t.subscriptionTypeToWorkspaceAuthLevel=function(e){if(null==e)return l.WorkspaceAuthLevel.FREE;switch(e){case u.SubscriptionType.STARTER:return l.WorkspaceAuthLevel.STARTER;case u.SubscriptionType.PRO:return l.WorkspaceAuthLevel.PRO;case u.SubscriptionType.SCALE:return l.WorkspaceAuthLevel.SCALE;case u.SubscriptionType.BUSINESS:return l.WorkspaceAuthLevel.BUSINESS;case u.SubscriptionType.ENTERPRISE_TIER_1:return l.WorkspaceAuthLevel.ENTERPRISE_TIER_1;case u.SubscriptionType.ENTERPRISE_TIER_2:return l.WorkspaceAuthLevel.ENTERPRISE_TIER_2;case u.SubscriptionType.ENTERPRISE_TIER_3:return l.WorkspaceAuthLevel.ENTERPRISE_TIER_3;case u.SubscriptionType.ENTERPRISE_TIER_4:return l.WorkspaceAuthLevel.ENTERPRISE_TIER_4;case u.SubscriptionType.ENTERPRISE_TIER_5:return l.WorkspaceAuthLevel.ENTERPRISE_TIER_5;case u.SubscriptionType.ENTERPRISE_TIER_6:return l.WorkspaceAuthLevel.ENTERPRISE_TIER_6;case u.SubscriptionType.ENTERPRISE_TIER_7:return l.WorkspaceAuthLevel.ENTERPRISE_TIER_7;case u.SubscriptionType.ENTERPRISE_TIER_8:return l.WorkspaceAuthLevel.ENTERPRISE_TIER_8;default:return(0,f.assertNever)(e)}};t.workspaceAuthLevelToSubscriptionType=function(e){switch(e){case l.WorkspaceAuthLevel.FREE:return null;case l.WorkspaceAuthLevel.STARTER:return u.SubscriptionType.STARTER;case l.WorkspaceAuthLevel.PRO:return u.SubscriptionType.PRO;case l.WorkspaceAuthLevel.SCALE:return u.SubscriptionType.SCALE;case l.WorkspaceAuthLevel.BUSINESS:return u.SubscriptionType.BUSINESS;case l.WorkspaceAuthLevel.ENTERPRISE_TIER_1:return u.SubscriptionType.ENTERPRISE_TIER_1;case l.WorkspaceAuthLevel.ENTERPRISE_TIER_2:return u.SubscriptionType.ENTERPRISE_TIER_2;case l.WorkspaceAuthLevel.ENTERPRISE_TIER_3:return u.SubscriptionType.ENTERPRISE_TIER_3;case l.WorkspaceAuthLevel.ENTERPRISE_TIER_4:return u.SubscriptionType.ENTERPRISE_TIER_4;case l.WorkspaceAuthLevel.ENTERPRISE_TIER_5:return u.SubscriptionType.ENTERPRISE_TIER_5;case l.WorkspaceAuthLevel.ENTERPRISE_TIER_6:return u.SubscriptionType.ENTERPRISE_TIER_6;case l.WorkspaceAuthLevel.ENTERPRISE_TIER_7:return u.SubscriptionType.ENTERPRISE_TIER_7;case l.WorkspaceAuthLevel.ENTERPRISE_TIER_8:return u.SubscriptionType.ENTERPRISE_TIER_8;case l.WorkspaceAuthLevel.CUSTOM:case l.WorkspaceAuthLevel.ADMIN:case l.WorkspaceAuthLevel.SUPER_ADMIN:return null;default:return(0,f.assertNever)(e)}};t.getWorkspaceAuthLevel=function(e){var r,n,i=e.subscription,a=e.permissions,o=e.freeAccessUsageCreditsContainer;if(a.isAdmin)return l.WorkspaceAuthLevel.ADMIN;var s=(0,t.subscriptionTypeToWorkspaceAuthLevel)(null!==(r=null===i||void 0===i?void 0:i.subscriptionType)&&void 0!==r?r:null),u=(0,t.subscriptionTypeToWorkspaceAuthLevel)(null!==(n=null===o||void 0===o?void 0:o.creditsRefillSubscriptionType)&&void 0!==n?n:null);return t.workspaceAuthLevelComparator.isGreaterThan(s,u)?s:u};t.getOptionalWorkspaceAuthLevel=function(e){return null==e?null:(0,t.getWorkspaceAuthLevel)(e)};t.getWorkspaceAuthLevelUsageLimits=function(e){var t;return(i(t={},l.WorkspaceAuthLevel.FREE,{numCharsPerScript:3e3,totalNumStoredUploads:0,totalStorageBytes:0}),i(t,l.WorkspaceAuthLevel.STARTER,{numCharsPerScript:1e4,totalNumStoredUploads:500,totalStorageBytes:15*w.BYTES_PER_GIGABYTE}),i(t,l.WorkspaceAuthLevel.PRO,{numCharsPerScript:1e4,totalNumStoredUploads:1500,totalStorageBytes:50*w.BYTES_PER_GIGABYTE}),i(t,l.WorkspaceAuthLevel.SCALE,{numCharsPerScript:2e4,totalNumStoredUploads:5e3,totalStorageBytes:200*w.BYTES_PER_GIGABYTE}),i(t,l.WorkspaceAuthLevel.BUSINESS,{numCharsPerScript:3e4,totalNumStoredUploads:25e3,totalStorageBytes:1e3*w.BYTES_PER_GIGABYTE}),i(t,l.WorkspaceAuthLevel.ENTERPRISE_TIER_1,{numCharsPerScript:3e4,totalNumStoredUploads:1e5,totalStorageBytes:4e3*w.BYTES_PER_GIGABYTE}),i(t,l.WorkspaceAuthLevel.ENTERPRISE_TIER_2,{numCharsPerScript:3e4,totalNumStoredUploads:2e5,totalStorageBytes:8e3*w.BYTES_PER_GIGABYTE}),i(t,l.WorkspaceAuthLevel.ENTERPRISE_TIER_3,{numCharsPerScript:3e4,totalNumStoredUploads:3e5,totalStorageBytes:12e3*w.BYTES_PER_GIGABYTE}),i(t,l.WorkspaceAuthLevel.ENTERPRISE_TIER_4,{numCharsPerScript:3e4,totalNumStoredUploads:5e5,totalStorageBytes:2e4*w.BYTES_PER_GIGABYTE}),i(t,l.WorkspaceAuthLevel.ENTERPRISE_TIER_5,{numCharsPerScript:3e4,totalNumStoredUploads:1e6,totalStorageBytes:4e4*w.BYTES_PER_GIGABYTE}),i(t,l.WorkspaceAuthLevel.ENTERPRISE_TIER_6,{numCharsPerScript:3e4,totalNumStoredUploads:2e6,totalStorageBytes:8e4*w.BYTES_PER_GIGABYTE}),i(t,l.WorkspaceAuthLevel.ENTERPRISE_TIER_7,{numCharsPerScript:3e4,totalNumStoredUploads:375e4,totalStorageBytes:15e4*w.BYTES_PER_GIGABYTE}),i(t,l.WorkspaceAuthLevel.ENTERPRISE_TIER_8,{numCharsPerScript:3e4,totalNumStoredUploads:75e5,totalStorageBytes:3e5*w.BYTES_PER_GIGABYTE}),i(t,l.WorkspaceAuthLevel.CUSTOM,{numCharsPerScript:4e4,totalNumStoredUploads:15e6,totalStorageBytes:6e5*w.BYTES_PER_GIGABYTE}),i(t,l.WorkspaceAuthLevel.ADMIN,{numCharsPerScript:5e4,totalNumStoredUploads:1e5,totalStorageBytes:5e3*w.BYTES_PER_GIGABYTE}),i(t,l.WorkspaceAuthLevel.SUPER_ADMIN,{numCharsPerScript:Number.MAX_SAFE_INTEGER,totalNumStoredUploads:Number.MAX_SAFE_INTEGER,totalStorageBytes:Number.MAX_SAFE_INTEGER}),t)[e]},t.workspaceAuthLevelComparator=new m.Comparator([l.WorkspaceAuthLevel.FREE,l.WorkspaceAuthLevel.STARTER,l.WorkspaceAuthLevel.PRO,l.WorkspaceAuthLevel.SCALE,l.WorkspaceAuthLevel.BUSINESS,l.WorkspaceAuthLevel.ENTERPRISE_TIER_1,l.WorkspaceAuthLevel.ENTERPRISE_TIER_2,l.WorkspaceAuthLevel.ENTERPRISE_TIER_3,l.WorkspaceAuthLevel.ENTERPRISE_TIER_4,l.WorkspaceAuthLevel.ENTERPRISE_TIER_5,l.WorkspaceAuthLevel.ENTERPRISE_TIER_6,l.WorkspaceAuthLevel.ENTERPRISE_TIER_7,l.WorkspaceAuthLevel.ENTERPRISE_TIER_8,l.WorkspaceAuthLevel.CUSTOM,l.WorkspaceAuthLevel.ADMIN,l.WorkspaceAuthLevel.SUPER_ADMIN],{deprecatedItems:[l.WorkspaceAuthLevel.STARTER]});t.getFirstNondeprecatedWorkspaceAuthLevelToSatisfy=function(e){var r=t.workspaceAuthLevelComparator.getFirstNondeprecatedItemGreaterThanOrEqual(e);if(null==r)throw(0,f.newInternalError)("First non-deprecated workspace auth level to satisfy must be non-null.",{rawData:{workspaceAuthLevel:e}});return r};t.getNextHighestWorkspaceAuthLevel=function(e,r){var n;return null!==(n=t.workspaceAuthLevelComparator.getNextOrderedItem(e,{includeDeprecatedItems:null===r||void 0===r?void 0:r.includeDeprecatedAuthLevels}))&&void 0!==n?n:l.WorkspaceAuthLevel.SUPER_ADMIN};t.getAllHigherWorkspaceAuthLevels=function(e,r){return t.workspaceAuthLevelComparator.getAllHigherOrderedItems(e,{includeDeprecatedItems:null===r||void 0===r?void 0:r.includeDeprecatedAuthLevels})};t.checkWorkspaceAllowsNewUsageConstantValue=function(e){var r=e.workspaceInfo,n=e.usageConstantKey,i=e.newUsageConstantValue,a=(0,t.getWorkspaceAuthLevel)(r),o=(0,t.getWorkspaceAuthLevelUsageLimits)(a)[n];if(i>o)throw(0,t.getAllHigherWorkspaceAuthLevels)(a).forEach((function(e){var o=(0,t.getWorkspaceAuthLevelUsageLimits)(e)[n];if(i<=o)throw(0,t.checkWorkspaceInfoSatisfiesAuthLevel)({workspaceInfo:r,requiredWorkspaceAuthLevel:e,upgradeRequirement:{type:s.KnownErrorUpgradeRequirementType.USAGE_CONSTANTS,usageConstantKey:n},upgradeToIncreaseMessage:p.USAGE_CONSTANT_KEY_UPGRADE_MESSAGE_MAP[n]}),(0,f.newInternalError)("Failed to throw usage limits error for higher workspace auth level.",{rawData:{workspaceAuthLevel:a,usageConstantKey:n,newUsageConstantValue:i,higherWorkspaceAuthLevel:e,higherLimitValue:o}})})),(0,f.newInternalError)("Failed to throw usage limits error for any workspace auth level.",{rawData:{workspaceAuthLevel:a,usageConstantKey:n,newUsageConstantValue:i}})};t.workspaceInfoSatisfiesAuthLevel=function(e){var r=e.workspaceInfo,n=e.requiredWorkspaceAuthLevel,i=(0,t.getWorkspaceAuthLevel)(r);return t.workspaceAuthLevelComparator.isGreaterThanOrEqualTo(i,n)};t.checkWorkspaceInfoSatisfiesAuthLevel=function(e){var r=e.workspaceInfo,n=e.requiredWorkspaceAuthLevel,i=e.upgradeRequirement,a=e.upgradeToIncreaseMessage;if(!(0,t.workspaceInfoSatisfiesAuthLevel)({workspaceInfo:r,requiredWorkspaceAuthLevel:n}))throw(0,f.newPermissionsError)({workspaceInfo:r,requiredWorkspaceAuthLevel:n,upgradeRequirement:i,upgradeToIncreaseMessage:a})};t.requireNextHighestAuthLevel=function(e){var r=e.workspaceInfo,n=e.upgradeRequirement,i=e.upgradeToIncreaseMessage;throw(0,t.checkWorkspaceInfoSatisfiesAuthLevel)({workspaceInfo:r,requiredWorkspaceAuthLevel:(0,t.getNextHighestWorkspaceAuthLevel)((0,t.getWorkspaceAuthLevel)(r)),upgradeRequirement:n,upgradeToIncreaseMessage:i}),(0,f.newInternalError)("Failed to throw permissions error for next highest auth level.")};t.getWorkspaceInsufficientCreditsMessage=function(e){var t=e.workspaceAuthLevel,r=e.usageCreditKey,n=p.USAGE_CREDIT_KEY_SINGULAR_NAME_MAP[r],i="Your ".concat(t.toLowerCase()," workspace has insufficient ").concat(n," credits.");if(t===l.WorkspaceAuthLevel.FREE)i+=" Upgrade to pro to increase this limit.";return i};t.getSubscriptionTypeMaxUsageCredits=function(e){var t=e.subscriptionType,r=e.workspaceCreationSse;e.workspaceStripeInvoiceSummaries,e.groupIdentifierNumberRecord;if(null==t)return{aiCredits:3e3,storageUploads:300,gettyAssetDownloads:0};var n=r<=1713398400,i=r<=1723766400;switch(t){case u.SubscriptionType.STARTER:return{aiCredits:i?3e4:1e4,storageUploads:500,gettyAssetDownloads:0};case u.SubscriptionType.PRO:return{aiCredits:i?1e5:6e4,storageUploads:1e3,gettyAssetDownloads:0};case u.SubscriptionType.SCALE:return{aiCredits:n?5e5:3e5,storageUploads:3e3,gettyAssetDownloads:0};case u.SubscriptionType.BUSINESS:return{aiCredits:n?12e5:1e6,storageUploads:1e4,gettyAssetDownloads:50};case u.SubscriptionType.ENTERPRISE_TIER_1:return{aiCredits:4e6,storageUploads:4e4,gettyAssetDownloads:200};case u.SubscriptionType.ENTERPRISE_TIER_2:return{aiCredits:8e6,storageUploads:8e4,gettyAssetDownloads:400};case u.SubscriptionType.ENTERPRISE_TIER_3:return{aiCredits:12e6,storageUploads:12e4,gettyAssetDownloads:600};case u.SubscriptionType.ENTERPRISE_TIER_4:return{aiCredits:2e7,storageUploads:2e5,gettyAssetDownloads:1e3};case u.SubscriptionType.ENTERPRISE_TIER_5:return{aiCredits:4e7,storageUploads:4e5,gettyAssetDownloads:2e3};case u.SubscriptionType.ENTERPRISE_TIER_6:return{aiCredits:8e7,storageUploads:8e5,gettyAssetDownloads:4e3};case u.SubscriptionType.ENTERPRISE_TIER_7:return{aiCredits:15e7,storageUploads:15e5,gettyAssetDownloads:7500};case u.SubscriptionType.ENTERPRISE_TIER_8:return{aiCredits:3e8,storageUploads:3e6,gettyAssetDownloads:15e3};default:return(0,f.assertNever)(t)}};t.internalMonthlyRefillDurationToInitialMonthlyRefillsRemaining=function(e){switch(e){case l.InternalMonthlyRefillDuration.MONTH:return 0;case l.InternalMonthlyRefillDuration.YEAR:return 11;case l.InternalMonthlyRefillDuration.LIFETIME:return 1199}};t.getFullUsageCreditsContainer=function(e){var r=e.subscriptionType,n=e.workspaceCreationSse,i=e.workspaceStripeInvoiceSummaries,a=e.internalMonthlyRefillDuration,o=e.periodStartSecondsSinceEpoch,s=e.groupIdentifierNumberRecord;return{usageCredits:(0,t.getSubscriptionTypeMaxUsageCredits)({subscriptionType:r,workspaceCreationSse:n,workspaceStripeInvoiceSummaries:i,groupIdentifierNumberRecord:s}),creditsRefillSubscriptionType:r,numMonthlyRefillsRemaining:(0,t.internalMonthlyRefillDurationToInitialMonthlyRefillsRemaining)(a),lastMonthlyRefillSecondsSinceEpoch:o}};t.getNewFreeUsageCreditsContainer=function(e){var r=e.workspaceCreationSse,n=e.workspaceStripeInvoiceSummaries,i=e.groupIdentifierNumberRecord;return(0,t.getFullUsageCreditsContainer)({subscriptionType:null,workspaceCreationSse:r,workspaceStripeInvoiceSummaries:n,internalMonthlyRefillDuration:l.InternalMonthlyRefillDuration.LIFETIME,periodStartSecondsSinceEpoch:(0,h.getCurrentSecondsSinceEpoch)(),groupIdentifierNumberRecord:i})};t.getWorkspaceTotalUsageCredits=function(e){var t=e.paidUsageCreditsContainer,r=e.freeAccessUsageCreditsContainer,i={aiCredits:0,storageUploads:0,gettyAssetDownloads:0};return(0,c.strictObjectToEntries)(t.usageCredits).forEach((function(e){var t=n(e,2),r=t[0],a=t[1];i[r]+=a})),null!=r&&(0,c.strictObjectToEntries)(r.usageCredits).forEach((function(e){var t=n(e,2),r=t[0],a=t[1];i[r]+=a})),i};t.getWorkspaceTotalMaxUsageCredits=function(e){var r=e.creationSecondsSinceEpoch,i=e.paidUsageCreditsContainer,a=e.freeAccessUsageCreditsContainer,o=e.groupIdentifierNumberRecord,s=e.stripeInvoiceSummaries,u={aiCredits:0,storageUploads:0,gettyAssetDownloads:0},l=(0,t.getSubscriptionTypeMaxUsageCredits)({subscriptionType:i.creditsRefillSubscriptionType,workspaceCreationSse:r,workspaceStripeInvoiceSummaries:s,groupIdentifierNumberRecord:o});if((0,c.strictObjectToEntries)(l).forEach((function(e){var t=n(e,2),r=t[0],i=t[1];u[r]+=i})),null!=a){var d=(0,t.getSubscriptionTypeMaxUsageCredits)({subscriptionType:a.creditsRefillSubscriptionType,workspaceCreationSse:r,workspaceStripeInvoiceSummaries:s,groupIdentifierNumberRecord:o});(0,c.strictObjectToEntries)(d).forEach((function(e){var t=n(e,2),r=t[0],i=t[1];u[r]+=i}))}return u};t.getNextCreditRefillSse=function(e){var t=e.usageCreditsContainer,r=e.subscription;return t.numMonthlyRefillsRemaining>0?t.lastMonthlyRefillSecondsSinceEpoch+g.SECONDS_PER_AVERAGE_MONTH:null==r||"active"!==r.stripeSubscriptionStatus&&"trialing"!==r.stripeSubscriptionStatus||r.cancelingAtPeriodEnd?null:r.currentPeriodEndSse};t.fixUsageCreditsContainer=function(e){var r=e.usageCreditsContainer,i=e.isSubscriptionActive,a=e.workspaceCreationSse,o=e.workspaceStripeInvoiceSummaries,s=e.groupIdentifierNumberRecord,u=(0,t.getSubscriptionTypeMaxUsageCredits)({subscriptionType:r.creditsRefillSubscriptionType,workspaceCreationSse:a,workspaceStripeInvoiceSummaries:o,groupIdentifierNumberRecord:s}),d=!1;if(i||null==r.creditsRefillSubscriptionType){var p=(0,h.getCurrentSecondsSinceEpoch)()-r.lastMonthlyRefillSecondsSinceEpoch,v=Math.floor(p/g.SECONDS_PER_AVERAGE_MONTH);if(v>0){var m=Math.min(v,r.numMonthlyRefillsRemaining);m>0&&(r.usageCredits=u,r.numMonthlyRefillsRemaining-=m,r.lastMonthlyRefillSecondsSinceEpoch+=g.SECONDS_PER_AVERAGE_MONTH*m),m<v&&(d=!0)}}return(0,c.strictObjectToEntries)(r.usageCredits).forEach((function(e){var t=n(e,2),i=t[0],a=t[1];if(a<0)throw(0,f.newFatalError)("We detected an abnormality in your usage credits. Please contact support@videogen.io for help resolving this.");a>u[i]&&(r.usageCredits[i]=u[i])})),{fixedUsageCreditsContainer:(0,l.castAsUsageCreditsContainer)(r),isExpired:d}};t.fixRecentInitiatedIdJobRecord=function(e){Object.entries(e).forEach((function(t){var r=n(t,2),i=r[0],a=r[1];null!=a&&(a.metadata.jobId===i&&(0,b.isJobRecent)(a)||(e[i]=void 0))}));var t=Object.entries(e);t.length>y.MAX_NUM_RECENT_JOBS&&(t.sort((function(e,t){var r,i,a=n(e,2),o=(a[0],a[1]),s=n(t,2),u=(s[0],s[1]);return(null!==(r=null===u||void 0===u?void 0:u.metadata.initiationSse)&&void 0!==r?r:0)-(null!==(i=null===o||void 0===o?void 0:o.metadata.initiationSse)&&void 0!==i?i:0)})),t.slice(y.MAX_NUM_RECENT_JOBS).forEach((function(t){var r=n(t,2),i=r[0];r[1];e[i]=void 0})));return e};t.fixWorkspaceInfoInPlace=function(e){var r,n,i;(e.paidUsageCreditsContainer.creditsRefillSubscriptionType=null!==(r=null===(n=e.subscription)||void 0===n?void 0:n.subscriptionType)&&void 0!==r?r:null,(0,t.fixUsageCreditsContainer)({usageCreditsContainer:e.paidUsageCreditsContainer,isSubscriptionActive:"active"===(null===(i=e.subscription)||void 0===i?void 0:i.stripeSubscriptionStatus),workspaceCreationSse:e.creationSecondsSinceEpoch,workspaceStripeInvoiceSummaries:e.stripeInvoiceSummaries,groupIdentifierNumberRecord:e.groupIdentifierNumberRecord}),null!=e.freeAccessUsageCreditsContainer)&&((0,t.fixUsageCreditsContainer)({usageCreditsContainer:e.freeAccessUsageCreditsContainer,isSubscriptionActive:!0,workspaceCreationSse:e.creationSecondsSinceEpoch,workspaceStripeInvoiceSummaries:e.stripeInvoiceSummaries,groupIdentifierNumberRecord:e.groupIdentifierNumberRecord}).isExpired&&(e.freeAccessUsageCreditsContainer=null));return(0,t.fixRecentInitiatedIdJobRecord)(e.recentInitiatedIdJobRecord),(0,l.castAsWorkspaceInfo)(e)};t.getSubscriptionInternalMonthlyRefillDuration=function(e){var t=e.subscriptionPaymentFrequency;if(e.isFreeTrial)return l.InternalMonthlyRefillDuration.MONTH;switch(t){case u.SubscriptionPaymentFrequency.MONTHLY:return l.InternalMonthlyRefillDuration.MONTH;case u.SubscriptionPaymentFrequency.YEARLY:return l.InternalMonthlyRefillDuration.YEAR}};t.hasWorkspaceMadeSuccessfulPayment=function(e){return e.stripeInvoiceSummaries.some((function(e){return"paid"===e.stripeInvoiceStatus}))};t.getWorkspaceTotalCentsPaid=function(e){return(0,d.arrSum)(e.stripeInvoiceSummaries.map((function(e){return e.centsPaid})))};t.getWorkspaceEligibleFreeTrialDaysForNewSubscriptionType=function(e){var r=e.workspaceInfo,n=e.newSubscriptionType;return null==r.subscription||(0,x.isSubscriptionFreeTrialActive)(r.subscription)?(0,t.hasWorkspaceMadeSuccessfulPayment)(r)?0:v.SUBSCRIPTION_TYPE_DEFAULT_FREE_TRIAL_DAYS_MAP[n]:0};t.isWorkspaceSegmentsSet=function(e){return null!=e.segments.useCase};t.checkWorkspaceInfoTransformation=function(e){var t=e.rootWorkspaceInfo,r=e.transformedWorkspaceInfo,i=e.copyTransformedToRoot;(0,c.strictObjectToEntries)(r).forEach((function(e){var r=n(e,2),a=r[0],s=r[1];switch(a){case"workspaceId":case"creationSecondsSinceEpoch":case"permissions":if(!(0,o.default)(t[a],s))throw(0,f.newInternalError)("WorkspaceInfo transformation modified read-only property ".concat(a));break;case"stripeCustomerSummary":case"stripeInvoiceSummaries":case"subscription":case"redeemedFreeAccessCodeId":case"paidUsageCreditsContainer":case"freeAccessUsageCreditsContainer":case"globalStorageSummary":case"globalActiveUploadSummaries":case"exportsStorageSummary":case"exportsActiveUploadSummaries":case"referralData":case"onboardingTaskCompletionTimeRecord":case"segments":case"archiveSecondsSinceEpoch":case"groupNumber":case"groupIdentifierNumberRecord":case"recentInitiatedIdJobRecord":case"lastStripeAbandonedCartSummary":case"isExternalApiEnabled":i&&(t[a]=s);break;default:(0,f.assertNever)(a)}}))};t.getWorkspaceRecentInitiatedJobs=function(e){return(0,c.getArrayWithoutOmissions)(Object.values(e.recentInitiatedIdJobRecord)).sort((function(e,t){return t.metadata.initiationSse-e.metadata.initiationSse}))};t.getWorkspaceRecentInitiatedProjectExportJobs=function(e){var r=e.workspaceInfo,n=e.projectId;return(0,t.getWorkspaceRecentInitiatedJobs)(r).flatMap((function(e){return e.type===S.JobType.EXPORT&&e.projectId===n?[e]:[]}))};t.checkCanWorkspaceUseExternalApi=function(e){if((0,t.checkWorkspaceInfoSatisfiesAuthLevel)({workspaceInfo:e,requiredWorkspaceAuthLevel:l.WorkspaceAuthLevel.BUSINESS,upgradeRequirement:{type:s.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"use the VideoGen API"}),!e.isExternalApiEnabled)throw(0,f.newWarningError)("Your account does not have the VideoGen API enabled. Contact support@videogen.io for assistance.")};t.getNumRequiredAiCreditsForAction=function(e){(0,c.strictObjectToEntries)(e).forEach((function(t){var r=n(t,2),i=r[0];if(r[1]<0)throw(0,f.newInternalError)("".concat(i," cannot be negative."),{rawData:{requiredAiCreditsInput:e}})}));var t=e.numRequiredTtsChars,r=e.numRequiredImageGenerations,i=e.numRequiredAiPrompts,a=e.numRequiredWebsiteScans;return Math.ceil(p.AI_CREDITS_PER_TTS_CHAR*t+p.AI_CREDITS_PER_IMAGE_GENERATION*r+p.AI_CREDITS_PER_AI_PROMPT*i+p.AI_CREDITS_PER_WEBSITE_SCAN*a)}},59268:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ApiWebhookT=t.ApiV1T=t.ApiSynchronizeT=t.ApiSubtitlerT=t.ApiStorageT=t.ApiProjectT=t.ApiPaymentT=t.ApiManagerT=t.ApiNlpT=t.ApiLocalTestT=t.ApiLibraryT=t.ApiJobT=t.ApiExportT=t.ApiDiffusionT=t.ApiDeveloperT=t.ApiBrandT=t.ApiAdminT=t.ApiWorkspaceO=t.ApiWebhookO=t.ApiV1O=t.ApiSynchronizeO=t.ApiSubtitlerO=t.ApiStorageO=t.ApiProjectO=t.ApiPaymentO=t.ApiNlpO=t.ApiManagerO=t.ApiLocalTestO=t.ApiLibraryO=t.ApiJobO=t.ApiExportO=t.ApiDiffusionO=t.ApiDeveloperO=t.ApiBrandO=t.ApiAdminO=t.ApiWorkspaceE=t.ApiSubtitlerE=t.ApiStorageE=t.ApiProjectE=t.ApiPaymentE=t.ApiNlpE=t.ApiManagerE=t.ApiLocalTestE=t.ApiLibraryE=t.ApiJobE=t.ApiExportE=t.ApiDiffusionE=t.ApiDeveloperE=t.ApiBrandE=t.ApiAdminE=void 0,t.MathH=t.LibraryH=t.JobH=t.HashH=t.GroupH=t.GettyH=t.GeneratorH=t.FreeAccessH=t.FirestoreH=t.FileH=t.ExternalH=t.ExtensionH=t.ExportH=t.ErrorH=t.DiffusionH=t.ConfigH=t.ComparatorH=t.CommitH=t.ColorH=t.CaptionH=t.CanvasH=t.ByteH=t.BrandH=t.AssetH=t.ArrayH=t.AppH=t.ApiH=t.AnimationH=t.AdminH=t.WorkspaceC=t.TypeC=t.TtsC=t.TranslateC=t.TimeC=t.TemplateC=t.StorageC=t.ScrapingBeeC=t.RouterC=t.ProjectC=t.PaymentC=t.JobC=t.GroupC=t.GeneratorC=t.ErrorC=t.CaptionC=t.ByteC=t.BrandC=t.AssetC=t.AnalyticsC=t.ApiWorkspaceT=void 0,t.ProjectT=t.PaymentT=t.NlpT=t.MathT=t.ManagerT=t.LocalTestT=t.LoadingT=t.LibraryT=t.JobT=t.GroupT=t.GettyT=t.GeneratorT=t.FreeAccessT=t.FirestoreT=t.ExternalT=t.ExtensionT=t.ExportT=t.ErrorT=t.DiffusionT=t.ConfigT=t.ComparatorT=t.CommitT=t.ColorT=t.CartoonGeneratorT=t.CaptionT=t.CanvasT=t.BrandT=t.BlockT=t.AssetT=t.ApiT=t.AnimationT=t.AdminT=t.WorkspaceH=t.WebsiteH=t.UuidH=t.TtsH=t.TimeH=t.TextH=t.TerminalH=t.SynchronizeH=t.StringH=t.StorageH=t.SingletonH=t.ServiceH=t.ScriptH=t.RouterH=t.PromiseH=t.ProjectH=t.PaymentH=t.PathH=void 0,t.WorkspaceT=t.TypeT=t.TtsT=t.TranslateT=t.TemplateT=t.SynchronizeT=t.StorageT=t.ScriptT=t.ScrapingBeeT=t.ServiceT=t.RouterT=t.PromiseT=void 0;var o=a(r(9451));t.ApiAdminE=o;var s=a(r(14864));t.ApiBrandE=s;var u=a(r(36799));t.ApiDeveloperE=u;var c=a(r(64698));t.ApiDiffusionE=c;var l=a(r(32823));t.ApiExportE=l;var d=a(r(62603));t.ApiJobE=d;var f=a(r(20792));t.ApiLibraryE=f;var h=a(r(31665));t.ApiLocalTestE=h;var p=a(r(43221));t.ApiManagerE=p;var v=a(r(33820));t.ApiNlpE=v;var g=a(r(24471));t.ApiPaymentE=g;var m=a(r(1904));t.ApiProjectE=m;var y=a(r(30361));t.ApiStorageE=y;var b=a(r(7239));t.ApiSubtitlerE=b;var S=a(r(51813));t.ApiWorkspaceE=S;var E=a(r(35479));t.ApiAdminO=E;var x=a(r(87067));t.ApiBrandO=x;var w=a(r(48746));t.ApiDeveloperO=w;var k=a(r(95341));t.ApiDiffusionO=k;var _=a(r(90615));t.ApiExportO=_;var T=a(r(30168));t.ApiJobO=T;var A=a(r(14406));t.ApiLibraryO=A;var C=a(r(50516));t.ApiLocalTestO=C;var P=a(r(37230));t.ApiManagerO=P;var I=a(r(89803));t.ApiNlpO=I;var O=a(r(50826));t.ApiPaymentO=O;var R=a(r(23899));t.ApiProjectO=R;var N=a(r(51137));t.ApiStorageO=N;var L=a(r(86667));t.ApiSubtitlerO=L;var j=a(r(89168));t.ApiSynchronizeO=j;var M=a(r(85688));t.ApiV1O=M;var D=a(r(47841));t.ApiWebhookO=D;var F=a(r(78773));t.ApiWorkspaceO=F;var U=a(r(58503));t.ApiAdminT=U;var B=a(r(9054));t.ApiBrandT=B;var G=a(r(67757));t.ApiDeveloperT=G;var V=a(r(49567));t.ApiDiffusionT=V;var H=a(r(63670));t.ApiExportT=H;var W=a(r(7434));t.ApiJobT=W;var q=a(r(3566));t.ApiLibraryT=q;var z=a(r(17630));t.ApiLocalTestT=z;var Y=a(r(17660));t.ApiManagerT=Y;var X=a(r(89661));t.ApiNlpT=X;var K=a(r(42272));t.ApiPaymentT=K;var J=a(r(33420));t.ApiProjectT=J;var Z=a(r(8832));t.ApiStorageT=Z;var Q=a(r(59850));t.ApiSubtitlerT=Q;var $=a(r(69691));t.ApiSynchronizeT=$;var ee=a(r(6356));t.ApiV1T=ee;var te=a(r(78308));t.ApiWebhookT=te;var re=a(r(25811));t.ApiWorkspaceT=re;var ne=a(r(34171));t.AnalyticsC=ne;var ie=a(r(19461));t.AssetC=ie;var ae=a(r(16318));t.BrandC=ae;var oe=a(r(30919));t.ByteC=oe;var se=a(r(30755));t.CaptionC=se;var ue=a(r(85638));t.ErrorC=ue;var ce=a(r(69377));t.GeneratorC=ce;var le=a(r(31140));t.GroupC=le;var de=a(r(59899));t.JobC=de;var fe=a(r(91011));t.PaymentC=fe;var he=a(r(74595));t.ProjectC=he;var pe=a(r(47321));t.RouterC=pe;var ve=a(r(37472));t.ScrapingBeeC=ve;var ge=a(r(24681));t.StorageC=ge;var me=a(r(3633));t.TemplateC=me;var ye=a(r(69806));t.TimeC=ye;var be=a(r(66048));t.TranslateC=be;var Se=a(r(69403));t.TtsC=Se;var Ee=a(r(80706));t.TypeC=Ee;var xe=a(r(46044));t.WorkspaceC=xe;var we=a(r(50809));t.AdminH=we;var ke=a(r(81832));t.AnimationH=ke;var _e=a(r(58285));t.ApiH=_e;var Te=a(r(61680));t.AppH=Te;var Ae=a(r(68329));t.ArrayH=Ae;var Ce=a(r(69319));t.AssetH=Ce;var Pe=a(r(76733));t.BrandH=Pe;var Ie=a(r(75677));t.ByteH=Ie;var Oe=a(r(45211));t.CanvasH=Oe;var Re=a(r(81138));t.CaptionH=Re;var Ne=a(r(77653));t.ColorH=Ne;var Le=a(r(39848));t.CommitH=Le;var je=a(r(28873));t.ComparatorH=je;var Me=a(r(1717));t.ConfigH=Me;var De=a(r(55456));t.DiffusionH=De;var Fe=a(r(34250));t.ErrorH=Fe;var Ue=a(r(15109));t.ExportH=Ue;var Be=a(r(94823));t.ExtensionH=Be;var Ge=a(r(35774));t.ExternalH=Ge;var Ve=a(r(2608));t.FileH=Ve;var He=a(r(68330));t.FirestoreH=He;var We=a(r(99954));t.FreeAccessH=We;var qe=a(r(15888));t.GeneratorH=qe;var ze=a(r(59284));t.GettyH=ze;var Ye=a(r(77911));t.GroupH=Ye;var Xe=a(r(47547));t.HashH=Xe;var Ke=a(r(98434));t.JobH=Ke;var Je=a(r(13492));t.LibraryH=Je;var Ze=a(r(12539));t.MathH=Ze;var Qe=a(r(84160));t.PathH=Qe;var $e=a(r(7152));t.PaymentH=$e;var et=a(r(81057));t.ProjectH=et;var tt=a(r(55342));t.PromiseH=tt;var rt=a(r(24830));t.RouterH=rt;var nt=a(r(63069));t.ScriptH=nt;var it=a(r(21559));t.ServiceH=it;var at=a(r(55708));t.SingletonH=at;var ot=a(r(92053));t.StorageH=ot;var st=a(r(47491));t.StringH=st;var ut=a(r(59447));t.SynchronizeH=ut;var ct=a(r(74166));t.TerminalH=ct;var lt=a(r(41107));t.TextH=lt;var dt=a(r(71047));t.TimeH=dt;var ft=a(r(71904));t.TtsH=ft;var ht=a(r(81714));t.UuidH=ht;var pt=a(r(2513));t.WebsiteH=pt;var vt=a(r(54897));t.WorkspaceH=vt;var gt=a(r(53176));t.AdminT=gt;var mt=a(r(59108));t.AnimationT=mt;var yt=a(r(42217));t.ApiT=yt;var bt=a(r(42172));t.AssetT=bt;var St=a(r(20480));t.BlockT=St;var Et=a(r(34595));t.BrandT=Et;var xt=a(r(98468));t.CanvasT=xt;var wt=a(r(11025));t.CaptionT=wt;var kt=a(r(1438));t.CartoonGeneratorT=kt;var _t=a(r(80287));t.ColorT=_t;var Tt=a(r(34572));t.CommitT=Tt;var At=a(r(49020));t.ComparatorT=At;var Ct=a(r(58526));t.ConfigT=Ct;var Pt=a(r(49709));t.DiffusionT=Pt;var It=a(r(80715));t.ErrorT=It;var Ot=a(r(68769));t.ExportT=Ot;var Rt=a(r(61591));t.ExtensionT=Rt;var Nt=a(r(1312));t.ExternalT=Nt;var Lt=a(r(45914));t.FirestoreT=Lt;var jt=a(r(73503));t.FreeAccessT=jt;var Mt=a(r(75174));t.GeneratorT=Mt;var Dt=a(r(12594));t.GettyT=Dt;var Ft=a(r(98850));t.GroupT=Ft;var Ut=a(r(24887));t.JobT=Ut;var Bt=a(r(6962));t.LibraryT=Bt;var Gt=a(r(19841));t.LoadingT=Gt;var Vt=a(r(89439));t.LocalTestT=Vt;var Ht=a(r(83531));t.ManagerT=Ht;var Wt=a(r(8280));t.MathT=Wt;var qt=a(r(95683));t.NlpT=qt;var zt=a(r(78436));t.PaymentT=zt;var Yt=a(r(2071));t.ProjectT=Yt;var Xt=a(r(52085));t.PromiseT=Xt;var Kt=a(r(34586));t.RouterT=Kt;var Jt=a(r(75916));t.ScrapingBeeT=Jt;var Zt=a(r(75668));t.ScriptT=Zt;var Qt=a(r(89725));t.ServiceT=Qt;var $t=a(r(90152));t.StorageT=$t;var er=a(r(37938));t.SynchronizeT=er;var tr=a(r(41068));t.TemplateT=tr;var rr=a(r(76951));t.TranslateT=rr;var nr=a(r(2421));t.TtsT=nr;var ir=a(r(5447));t.TypeT=ir;var ar=a(r(27820));t.WorkspaceT=ar},53176:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsAdminActionInput=t.castAsUpdateGettyAssetsInput=t.castAsCompileGettyAssetUsagesInput=t.castAsUpsertLibraryInputFileRangeInput=t.castAsGenerateLibraryInputFileRangeInput=t.castAsGetAllScriptTextsInput=t.castAsGetAllAdminUsersInput=t.castAsGetSendGridFieldDefinitionsInput=t.castAsCreateFreeAccessCodeBatchInput=t.castAsRefillCreditsInAllFreeWorkspaceInfosInput=t.castAsDeleteAccountInput=t.castAsCastAndUpdateFirestoreCollectionInput=t.castAsCastFirestoreCollectionInput=t.castAsAdminActionArgs=t.castAsAdminActionFreeAccessCodeBatchArgs=t.castAsAdminActionLibraryInputFileRangeArgs=t.castAsAdminActionFirestoreCollectionArgs=t.castAsAdminActionAccountIdentificationArgs=t.castAsAdminActionQuantityArgs=t.castAsAdminActionNoneArgs=t.castAsAdminActionArgsType=t.AdminActionArgsType=t.castAsAdminActionType=t.AdminActionType=void 0;var n,i=r(34250),a=r(5447);!function(e){e.CAST_FIRESTORE_COLLECTION="CAST_FIRESTORE_COLLECTION",e.CAST_AND_UPDATE_FIRESTORE_COLLECTION="CAST_AND_UPDATE_FIRESTORE_COLLECTION",e.DELETE_ACCOUNT="DELETE_ACCOUNT",e.REFILL_CREDITS_IN_ALL_FREE_WORKSPACE_INFOS="REFILL_CREDITS_IN_ALL_FREE_WORKSPACE_INFOS",e.CREATE_FREE_ACCESS_CODE_BATCH="CREATE_FREE_ACCESS_CODE_BATCH",e.GET_SEND_GRID_FIELD_DEFINITIONS="GET_SEND_GRID_FIELD_DEFINITIONS",e.GET_ALL_ADMIN_USERS="GET_ALL_ADMIN_USERS",e.GET_ALL_SCRIPT_TEXTS="GET_ALL_SCRIPT_TEXTS",e.GENERATE_LIBRARY_INPUT_FILE_RANGE="GENERATE_LIBRARY_INPUT_FILE_RANGE",e.UPSERT_LIBRARY_INPUT_FILE_RANGE="UPSERT_LIBRARY_INPUT_FILE_RANGE",e.COMPILE_GETTY_ASSET_USAGES="COMPILE_GETTY_ASSET_USAGES",e.UPDATE_GETTY_ASSETS="UPDATE_GETTY_ASSETS"}(n||(t.AdminActionType=n={}));var o;t.castAsAdminActionType=function(e){var t=(0,i.newCastingError)("AdminActionType",e);if("CAST_FIRESTORE_COLLECTION"===e)return n.CAST_FIRESTORE_COLLECTION;if("CAST_AND_UPDATE_FIRESTORE_COLLECTION"===e)return n.CAST_AND_UPDATE_FIRESTORE_COLLECTION;if("DELETE_ACCOUNT"===e)return n.DELETE_ACCOUNT;if("REFILL_CREDITS_IN_ALL_FREE_WORKSPACE_INFOS"===e)return n.REFILL_CREDITS_IN_ALL_FREE_WORKSPACE_INFOS;if("CREATE_FREE_ACCESS_CODE_BATCH"===e)return n.CREATE_FREE_ACCESS_CODE_BATCH;if("REFILL_CREDITS_IN_ALL_FREE_WORKSPACE_INFOS"===e)return n.REFILL_CREDITS_IN_ALL_FREE_WORKSPACE_INFOS;if("CREATE_FREE_ACCESS_CODE_BATCH"===e)return n.CREATE_FREE_ACCESS_CODE_BATCH;if("GET_SEND_GRID_FIELD_DEFINITIONS"===e)return n.GET_SEND_GRID_FIELD_DEFINITIONS;if("GET_ALL_ADMIN_USERS"===e)return n.GET_ALL_ADMIN_USERS;if("GET_ALL_SCRIPT_TEXTS"===e)return n.GET_ALL_SCRIPT_TEXTS;if("GENERATE_LIBRARY_INPUT_FILE_RANGE"===e)return n.GENERATE_LIBRARY_INPUT_FILE_RANGE;if("UPSERT_LIBRARY_INPUT_FILE_RANGE"===e)return n.UPSERT_LIBRARY_INPUT_FILE_RANGE;if("COMPILE_GETTY_ASSET_USAGES"===e)return n.COMPILE_GETTY_ASSET_USAGES;if("UPDATE_GETTY_ASSETS"===e)return n.UPDATE_GETTY_ASSETS;throw t},function(e){e.NONE="NONE",e.QUANTITY="QUANTITY",e.ACCOUNT_IDENTIFICATION="ACCOUNT_IDENTIFICATION",e.FIRESTORE_COLLECTION="FIRESTORE_COLLECTION",e.LIBRARY_INPUT_FILE_RANGE="LIBRARY_INPUT_FILE_RANGE",e.FREE_ACCESS_CODE_BATCH="FREE_ACCESS_CODE_BATCH"}(o||(t.AdminActionArgsType=o={}));t.castAsAdminActionArgsType=function(e){var t=(0,i.newCastingError)("AdminActionArgsType",e);if("NONE"===e)return o.NONE;if("QUANTITY"===e)return o.QUANTITY;if("ACCOUNT_IDENTIFICATION"===e)return o.ACCOUNT_IDENTIFICATION;if("FIRESTORE_COLLECTION"===e)return o.FIRESTORE_COLLECTION;if("LIBRARY_INPUT_FILE_RANGE"===e)return o.LIBRARY_INPUT_FILE_RANGE;if("FREE_ACCESS_CODE_BATCH"===e)return o.FREE_ACCESS_CODE_BATCH;throw t};t.castAsAdminActionNoneArgs=function(e){var t=(0,i.newCastingError)("AdminActionNoneArgs",e);if((0,a.isObject)(e)&&"type"in e&&e.type===o.NONE)return{type:e.type};throw t};t.castAsAdminActionQuantityArgs=function(e){var t=(0,i.newCastingError)("AdminActionQuantityArgs",e);if((0,a.isObject)(e)&&"type"in e&&e.type===o.QUANTITY&&"quantity"in e&&(0,a.isNumber)(e.quantity))return{type:e.type,quantity:e.quantity};throw t};t.castAsAdminActionAccountIdentificationArgs=function(e){var t=(0,i.newCastingError)("AdminActionAccountIdentificationArgs",e);if((0,a.isObject)(e)&&"type"in e&&e.type===o.ACCOUNT_IDENTIFICATION&&"workspaceId"in e&&(0,a.isString)(e.workspaceId)&&"email"in e&&(0,a.isString)(e.email))return{type:e.type,workspaceId:e.workspaceId,email:e.email};throw t};t.castAsAdminActionFirestoreCollectionArgs=function(e){var t=(0,i.newCastingError)("AdminActionFirestoreCollectionArgs",e);if((0,a.isObject)(e)&&"type"in e&&e.type===o.FIRESTORE_COLLECTION&&"collectionName"in e&&(0,a.isString)(e.collectionName)&&"baseCollectionLimit"in e&&(0,a.isNumber)(e.baseCollectionLimit))return{type:e.type,collectionName:e.collectionName,baseCollectionLimit:e.baseCollectionLimit};throw t};t.castAsAdminActionLibraryInputFileRangeArgs=function(e){var t=(0,i.newCastingError)("AdminActionLibraryInputFileArgs",e);if((0,a.isObject)(e)&&"type"in e&&e.type===o.LIBRARY_INPUT_FILE_RANGE&&"startIndex"in e&&(0,a.isNumber)(e.startIndex)&&"endIndex"in e&&(0,a.isNumber)(e.endIndex))try{return{type:e.type,startIndex:e.startIndex,endIndex:e.endIndex}}catch(r){(0,i.updateCastingError)(t,r)}throw t};t.castAsAdminActionFreeAccessCodeBatchArgs=function(e){var t=(0,i.newCastingError)("AdminActionFreeAccessCodeBatchArgs",e);if((0,a.isObject)(e)&&"type"in e&&e.type===o.FREE_ACCESS_CODE_BATCH&&"numFreeAccessCodes"in e&&(0,a.isNumber)(e.numFreeAccessCodes)&&"freeAccessCodeType"in e&&(0,a.isString)(e.freeAccessCodeType)&&"freeAccessCodeSource"in e&&(0,a.isString)(e.freeAccessCodeSource))try{return{type:e.type,numFreeAccessCodes:e.numFreeAccessCodes,freeAccessCodeType:e.freeAccessCodeType,freeAccessCodeSource:e.freeAccessCodeSource}}catch(r){(0,i.updateCastingError)(t,r)}throw t};t.castAsAdminActionArgs=function(e){var r=(0,i.newCastingError)("AdminActionArgs",e);try{return(0,t.castAsAdminActionNoneArgs)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsAdminActionQuantityArgs)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsAdminActionAccountIdentificationArgs)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsAdminActionFirestoreCollectionArgs)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsAdminActionLibraryInputFileRangeArgs)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsAdminActionFreeAccessCodeBatchArgs)(e)}catch(n){(0,i.updateCastingError)(r,n)}throw r};t.castAsCastFirestoreCollectionInput=function(e){var r=(0,i.newCastingError)("CastFirestoreCollectionInput",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.CAST_FIRESTORE_COLLECTION&&"args"in e)try{return{type:e.type,args:(0,t.castAsAdminActionFirestoreCollectionArgs)(e.args)}}catch(o){(0,i.updateCastingError)(r,o)}throw r};t.castAsCastAndUpdateFirestoreCollectionInput=function(e){var r=(0,i.newCastingError)("CastAndUpdateFirestoreCollectionInput",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.CAST_AND_UPDATE_FIRESTORE_COLLECTION&&"args"in e)try{return{type:e.type,args:(0,t.castAsAdminActionFirestoreCollectionArgs)(e.args)}}catch(o){(0,i.updateCastingError)(r,o)}throw r};t.castAsDeleteAccountInput=function(e){var r=(0,i.newCastingError)("DeleteAccountInput",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.DELETE_ACCOUNT&&"args"in e)try{return{type:e.type,args:(0,t.castAsAdminActionAccountIdentificationArgs)(e.args)}}catch(o){(0,i.updateCastingError)(r,o)}throw r};t.castAsRefillCreditsInAllFreeWorkspaceInfosInput=function(e){var r=(0,i.newCastingError)("RefillCreditsInAllFreeWorkspaceInfosInput",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.REFILL_CREDITS_IN_ALL_FREE_WORKSPACE_INFOS&&"args"in e)try{return{type:e.type,args:(0,t.castAsAdminActionNoneArgs)(e.args)}}catch(o){(0,i.updateCastingError)(r,o)}throw r};t.castAsCreateFreeAccessCodeBatchInput=function(e){var r=(0,i.newCastingError)("CreateFreeAccessCodeBatchInput",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.CREATE_FREE_ACCESS_CODE_BATCH&&"args"in e)try{return{type:e.type,args:(0,t.castAsAdminActionFreeAccessCodeBatchArgs)(e.args)}}catch(o){(0,i.updateCastingError)(r,o)}throw r};t.castAsGetSendGridFieldDefinitionsInput=function(e){var r=(0,i.newCastingError)("GetSendGridFieldDefinitionsInput",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.GET_SEND_GRID_FIELD_DEFINITIONS&&"args"in e)try{return{type:e.type,args:(0,t.castAsAdminActionNoneArgs)(e.args)}}catch(o){(0,i.updateCastingError)(r,o)}throw r};t.castAsGetAllAdminUsersInput=function(e){var r=(0,i.newCastingError)("GetAllAdminUsersInput",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.GET_ALL_ADMIN_USERS&&"args"in e)try{return{type:e.type,args:(0,t.castAsAdminActionNoneArgs)(e.args)}}catch(o){(0,i.updateCastingError)(r,o)}throw r};t.castAsGetAllScriptTextsInput=function(e){var r=(0,i.newCastingError)("GetAllScriptTextsInput",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.GET_ALL_SCRIPT_TEXTS&&"args"in e)try{return{type:e.type,args:(0,t.castAsAdminActionNoneArgs)(e.args)}}catch(o){(0,i.updateCastingError)(r,o)}throw r};t.castAsGenerateLibraryInputFileRangeInput=function(e){var r=(0,i.newCastingError)("GenerateLibraryInputFileRangeInput",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.GENERATE_LIBRARY_INPUT_FILE_RANGE&&"args"in e)try{return{type:e.type,args:(0,t.castAsAdminActionLibraryInputFileRangeArgs)(e.args)}}catch(o){(0,i.updateCastingError)(r,o)}throw r};t.castAsUpsertLibraryInputFileRangeInput=function(e){var r=(0,i.newCastingError)("UpsertLibraryInputFileRangeInput",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.UPSERT_LIBRARY_INPUT_FILE_RANGE&&"args"in e)try{return{type:e.type,args:(0,t.castAsAdminActionLibraryInputFileRangeArgs)(e.args)}}catch(o){(0,i.updateCastingError)(r,o)}throw r};t.castAsCompileGettyAssetUsagesInput=function(e){var r=(0,i.newCastingError)("CompileGettyAssetUsagesInput",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.COMPILE_GETTY_ASSET_USAGES&&"args"in e)try{return{type:e.type,args:(0,t.castAsAdminActionNoneArgs)(e.args)}}catch(o){(0,i.updateCastingError)(r,o)}throw r};t.castAsUpdateGettyAssetsInput=function(e){var r=(0,i.newCastingError)("UpdateGettyAssetsInput",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.UPDATE_GETTY_ASSETS&&"args"in e)try{return{type:e.type,args:(0,t.castAsAdminActionNoneArgs)(e.args)}}catch(o){(0,i.updateCastingError)(r,o)}throw r};t.castAsAdminActionInput=function(e){var r=(0,i.newCastingError)("AdminActionInput",e);try{return(0,t.castAsCastFirestoreCollectionInput)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsCastAndUpdateFirestoreCollectionInput)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsDeleteAccountInput)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsRefillCreditsInAllFreeWorkspaceInfosInput)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsCreateFreeAccessCodeBatchInput)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsGetSendGridFieldDefinitionsInput)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsGetAllAdminUsersInput)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsGetAllScriptTextsInput)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsGenerateLibraryInputFileRangeInput)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsUpsertLibraryInputFileRangeInput)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsCompileGettyAssetUsagesInput)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsUpdateGettyAssetsInput)(e)}catch(n){(0,i.updateCastingError)(r,n)}throw r}},59108:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsAnimationType=t.AnimationType=t.castAsBackgroundKeyFrame=void 0;var n,i=r(34250),a=r(5447);t.castAsBackgroundKeyFrame=function(e){var t=(0,i.newCastingError)("BackgroundKeyFrame",e);if((0,a.isObject)(e)&&"zoomFactor"in e&&(0,a.isNumber)(e.zoomFactor)&&"xPercentage"in e&&(0,a.isNumber)(e.xPercentage)&&"yPercentage"in e&&(0,a.isNumber)(e.yPercentage))return{zoomFactor:e.zoomFactor,xPercentage:e.xPercentage,yPercentage:e.yPercentage};throw t},function(e){e.NONE="NONE",e.ZOOM_IN="ZOOM_IN",e.ZOOM_OUT="ZOOM_OUT"}(n||(t.AnimationType=n={}));t.castAsAnimationType=function(e){var t=(0,i.newCastingError)("AnimationType",e);if("NONE"===e)return n.NONE;if("ZOOM_IN"===e)return n.ZOOM_IN;if("ZOOM_OUT"===e)return n.ZOOM_OUT;throw t}},42217:function(e,t){"use strict";var r,n,i,a;Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceContextType=t.ResContentType=t.ReqContentType=t.HTTPMethod=void 0,function(e){e.GET="GET",e.POST="POST"}(r||(t.HTTPMethod=r={})),function(e){e.RAW="RAW",e.JSON="JSON"}(n||(t.ReqContentType=n={})),function(e){e.TEXT="TEXT",e.JSON="JSON",e.STREAM="STREAM"}(i||(t.ResContentType=i={})),function(e){e.AUTHED="AUTHED",e.UNAUTHED="UNAUTHED",e.UNKNOWN="UNKNOWN"}(a||(t.WorkspaceContextType=a={}))},42172:function(e,t,r){"use strict";var n=r(42122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.castAsSize=t.castAsDisplayTiming=t.castAsMusicAssetReference=t.castAsAudioAssetReference=t.castAsAssetLocator=t.castAsAudioAssetLocator=t.castAsUrlAudioAssetLocator=t.castAsForegroundVisualAssetReference=t.castAsBackgroundVisualAssetReference=t.castAsAssetTrim=t.castAsAssetPosition=t.castAsAssetPositionType=t.AssetPositionType=t.castAsStockVisualAssetMetadataStore=t.castAsGettyVisualAssetMetadata=t.castAsCoreVisualAssetMetadata=t.castAsVisualAssetLocator=t.castAsStockVisualAssetLocator=t.castAsGettyVisualAssetLocator=t.castAsCoreVisualAssetLocator=t.castAsTmpFileAssetLocator=t.castAsStorageAssetLocator=t.castAsAssetLocatorType=t.AssetLocatorType=t.castAsAssetSourceAttribution=t.castAsDataBase64SourceProtocolData=t.SourceProtocolType=void 0;var i,a=r(34250),o=r(8280),s=r(5447),u=r(12594),c=r(90152),l=r(6962),d=r(47491),f=r(59108);!function(e){e.HTTP="HTTP",e.BLOB_HTTP="BLOB_HTTP",e.DATA_BASE_64="DATA_BASE_64"}(i||(t.SourceProtocolType=i={}));t.castAsDataBase64SourceProtocolData=function(e){var t=(0,a.newCastingError)("DataBase64SourceProtocolData",e);if((0,s.isObject)(e)&&"type"in e&&e.type===i.DATA_BASE_64&&"mimeType"in e&&(0,s.isString)(e.mimeType)&&"base64"in e&&(0,s.isString)(e.base64))return{type:e.type,mimeType:e.mimeType,base64:e.base64};throw t};var h;t.castAsAssetSourceAttribution=function(e){var t=(0,a.newCastingError)("AssetSourceAttribution",e);if((0,s.isObject)(e)&&"providerName"in e&&"creatorName"in e&&(0,s.isOptionalString)(e.creatorName)&&"creatorUrl"in e&&(0,s.isOptionalString)(e.creatorUrl))try{return{providerName:(0,l.castAsLibraryProviderName)(e.providerName),creatorName:e.creatorName,creatorUrl:e.creatorUrl}}catch(r){(0,a.updateCastingError)(t,r)}throw t},function(e){e.URL="URL",e.CORE="CORE",e.GETTY="GETTY",e.STORAGE="STORAGE",e.TMP_FILE="TMP_FILE"}(h||(t.AssetLocatorType=h={}));t.castAsAssetLocatorType=function(e){var t=(0,a.newCastingError)("AssetLocatorType",e);if("LIBRARY"===e)return h.CORE;if("CORE"===e)return h.CORE;if("GETTY"===e)return h.GETTY;if("STORAGE"===e)return h.STORAGE;if("TMP_FILE"===e)return h.TMP_FILE;throw t};t.castAsStorageAssetLocator=function(e){var t=(0,a.newCastingError)("StorageAssetLocator",e);if((0,s.isObject)(e)&&"type"in e&&e.type===h.STORAGE)try{return n({type:e.type},(0,c.castAsWorkspaceStorageFileLocator)(e))}catch(r){(0,a.updateCastingError)(t,r)}if((0,s.isObject)(e)&&"type"in e&&e.type===h.STORAGE&&"storageFileId"in e&&(0,s.isString)(e.storageFileId)&&!("storageScope"in e))return{type:e.type,storageScope:{type:c.WorkspaceStorageScopeType.GLOBAL},storageFileId:e.storageFileId};throw t};t.castAsTmpFileAssetLocator=function(e){var t=(0,a.newCastingError)("TmpFileAssetLocator",e);if((0,s.isObject)(e)&&"type"in e&&e.type===h.TMP_FILE&&"tmpFilePath"in e&&(0,s.isString)(e.tmpFilePath))return{type:e.type,tmpFilePath:e.tmpFilePath};throw t};t.castAsCoreVisualAssetLocator=function(e){var t=(0,a.newCastingError)("CoreVisualAssetLocator",e);if((0,s.isObject)(e)&&"type"in e&&e.type===h.CORE&&"recordId"in e&&(0,s.isString)(e.recordId))try{return{type:e.type,recordId:e.recordId}}catch(r){(0,a.updateCastingError)(t,r)}throw t};t.castAsGettyVisualAssetLocator=function(e){var t=(0,a.newCastingError)("GettyVisualAssetLocator",e);if((0,s.isObject)(e)&&"type"in e&&e.type===h.GETTY&&"recordId"in e&&(0,s.isString)(e.recordId))return{type:e.type,recordId:e.recordId};if((0,s.isObject)(e)&&"type"in e&&e.type===h.GETTY&&"assetType"in e&&"assetId"in e&&(0,s.isString)(e.assetId))try{return{type:e.type,recordId:"getty-video-".concat(e.assetId,"-getty_title_caption")}}catch(r){(0,a.updateCastingError)(t,r)}throw t};t.castAsStockVisualAssetLocator=function(e){var r=(0,a.newCastingError)("StockVisualAssetLocator",e);try{return(0,t.castAsCoreVisualAssetLocator)(e)}catch(n){(0,a.updateCastingError)(r,n)}try{return(0,t.castAsGettyVisualAssetLocator)(e)}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsVisualAssetLocator=function(e){var r=(0,a.newCastingError)("VisualAssetLocator",e);try{return(0,t.castAsStockVisualAssetLocator)(e)}catch(n){(0,a.updateCastingError)(r,n)}try{return(0,t.castAsStorageAssetLocator)(e)}catch(n){(0,a.updateCastingError)(r,n)}try{return(0,t.castAsTmpFileAssetLocator)(e)}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsCoreVisualAssetMetadata=function(e){var r=(0,a.newCastingError)("CoreVisualAssetMetadata",e);if((0,s.isObject)(e)&&"availablePrimarySizes"in e&&"availableThumbnailSizes"in e&&"attribution"in e)try{return{availablePrimarySizes:(0,s.castAsTypedArray)(e.availablePrimarySizes,t.castAsSize),availableThumbnailSizes:(0,s.castAsTypedArray)(e.availableThumbnailSizes,t.castAsSize),attribution:(0,t.castAsAssetSourceAttribution)(e.attribution)}}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsGettyVisualAssetMetadata=function(e){var r=(0,a.newCastingError)("GettyVisualAssetMetadata",e);if((0,s.isObject)(e)&&"primarySlug"in e&&(0,s.isString)(e.primarySlug)&&"thumbnailSlug"in e&&(0,s.isString)(e.thumbnailSlug)&&"downloadSizes"in e&&"attribution"in e)try{return{primarySlug:e.primarySlug,thumbnailSlug:e.thumbnailSlug,downloadSizes:(0,s.castAsTypedArray)(e.downloadSizes,u.castAsGettyDownloadSize),attribution:(0,t.castAsAssetSourceAttribution)(e.attribution)}}catch(n){(0,a.updateCastingError)(r,n)}if((0,s.isObject)(e)&&"primarySlug"in e&&(0,s.isString)(e.primarySlug)&&"thumbnailSlug"in e&&(0,s.isString)(e.thumbnailSlug)&&!("downloadSizes"in e)&&"attribution"in e)try{return{primarySlug:e.primarySlug,thumbnailSlug:e.thumbnailSlug,downloadSizes:[{name:"hd15",width:1920,height:1080,bytes:1e7}],attribution:(0,t.castAsAssetSourceAttribution)(e.attribution)}}catch(n){(0,a.updateCastingError)(r,n)}throw r};var p;t.castAsStockVisualAssetMetadataStore=function(e){var r=(0,a.newCastingError)("StockVisualAssetMetadataStore",e);if((0,s.isObject)(e)&&"coreRecordIdMetadataRecord"in e&&"gettyRecordIdMetadataRecord"in e)try{return{coreRecordIdMetadataRecord:(0,s.castAsTypedPartialRecord)(e.coreRecordIdMetadataRecord,s.castAsString,t.castAsCoreVisualAssetMetadata),gettyRecordIdMetadataRecord:(0,s.castAsTypedPartialRecord)(e.gettyRecordIdMetadataRecord,s.castAsString,t.castAsGettyVisualAssetMetadata)}}catch(n){(0,a.updateCastingError)(r,n)}throw r},function(e){e.PERCENT_VALID_PADDING="PERCENT_VALID_PADDING"}(p||(t.AssetPositionType=p={}));t.castAsAssetPositionType=function(e){var t=(0,a.newCastingError)("AssetPositionType",e);if("PERCENT_VALID_PADDING"===e)return p.PERCENT_VALID_PADDING;throw t};t.castAsAssetPosition=function(e){var r=(0,a.newCastingError)("AssetPosition",e);if((0,s.isObject)(e)&&"type"in e&&"xPercent"in e&&"yPercent"in e&&"widthPercent"in e&&"heightPercent"in e)try{return{type:(0,t.castAsAssetPositionType)(e.type),xPercent:(0,o.castAsPercentage)(e.xPercent),yPercent:(0,o.castAsPercentage)(e.yPercent),widthPercent:(0,o.castAsPercentage)(e.widthPercent),heightPercent:(0,o.castAsPercentage)(e.heightPercent)}}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsAssetTrim=function(e){var t=(0,a.newCastingError)("AssetTrim",e);if((0,s.isObject)(e)&&"startProportion"in e&&(0,s.isNumber)(e.startProportion)&&"endProportion"in e&&(0,s.isNumber)(e.endProportion))return{startProportion:e.startProportion,endProportion:e.endProportion};throw t};t.castAsBackgroundVisualAssetReference=function(e){var r=(0,a.newCastingError)("BackgroundVisualAssetReference",e);if((0,s.isObject)(e)&&"refId"in e&&(0,s.isString)(e.refId)&&"locator"in e&&"duration"in e&&(0,s.isNumber)(e.duration)&&"containAndBlur"in e&&(0,s.isBoolean)(e.containAndBlur)&&"animationType"in e&&"trim"in e)try{return{refId:e.refId,locator:(0,t.castAsVisualAssetLocator)(e.locator),duration:e.duration,containAndBlur:e.containAndBlur,animationType:(0,f.castAsAnimationType)(e.animationType),trim:(0,s.castAsTypedOptional)(e.trim,t.castAsAssetTrim)}}catch(n){(0,a.updateCastingError)(r,n)}if((0,s.isObject)(e)&&"refId"in e&&(0,s.isString)(e.refId)&&"locator"in e&&"duration"in e&&(0,s.isNumber)(e.duration)&&"containAndBlur"in e&&(0,s.isBoolean)(e.containAndBlur)&&"keyFrames"in e&&!("animationType"in e)&&"trim"in e)try{return{refId:e.refId,locator:(0,t.castAsVisualAssetLocator)(e.locator),duration:e.duration,containAndBlur:e.containAndBlur,animationType:f.AnimationType.NONE,trim:(0,s.castAsTypedOptional)(e.trim,t.castAsAssetTrim)}}catch(n){(0,a.updateCastingError)(r,n)}if((0,s.isObject)(e)&&"refId"in e&&(0,s.isString)(e.refId)&&"locator"in e&&"duration"in e&&(0,s.isNumber)(e.duration)&&"containAndBlur"in e&&(0,s.isBoolean)(e.containAndBlur)&&"keyFrames"in e&&!("animationType"in e)&&!("trim"in e))try{return{refId:e.refId,locator:(0,t.castAsVisualAssetLocator)(e.locator),duration:e.duration,containAndBlur:e.containAndBlur,animationType:f.AnimationType.NONE,trim:null}}catch(n){(0,a.updateCastingError)(r,n)}if((0,s.isObject)(e)&&!("refId"in e)&&"locator"in e&&"duration"in e&&(0,s.isNumber)(e.duration)&&"containAndBlur"in e&&(0,s.isBoolean)(e.containAndBlur)&&!("keyFrames"in e)&&!("animationType"in e)&&!("trim"in e))try{return{refId:(0,d.generateRandomAsciiStr)({length:7}),locator:(0,t.castAsVisualAssetLocator)(e.locator),duration:e.duration,containAndBlur:e.containAndBlur,animationType:f.AnimationType.NONE,trim:null}}catch(n){(0,a.updateCastingError)(r,n)}if((0,s.isObject)(e)&&!("refId"in e)&&"locator"in e&&"duration"in e&&(0,s.isNumber)(e.duration)&&!("containAndBlur"in e)&&!("keyFrames"in e)&&!("animationType"in e)&&!("trim"in e))try{return{refId:(0,d.generateRandomAsciiStr)({length:7}),locator:(0,t.castAsVisualAssetLocator)(e.locator),duration:e.duration,containAndBlur:!1,animationType:f.AnimationType.NONE,trim:null}}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsForegroundVisualAssetReference=function(e){var r=(0,a.newCastingError)("ForegroundVisualAssetReference",e);if((0,s.isObject)(e)&&"refId"in e&&(0,s.isString)(e.refId)&&"locator"in e&&"duration"in e&&(0,s.isNumber)(e.duration)&&"position"in e)try{return{refId:e.refId,locator:(0,s.castAsTypedOptional)(e.locator,t.castAsVisualAssetLocator),duration:e.duration,position:(0,t.castAsAssetPosition)(e.position)}}catch(n){(0,a.updateCastingError)(r,n)}if((0,s.isObject)(e)&&!("refId"in e)&&"locator"in e&&"duration"in e&&(0,s.isNumber)(e.duration)&&"position"in e)try{return{refId:(0,d.generateRandomAsciiStr)({length:7}),locator:(0,s.castAsTypedOptional)(e.locator,t.castAsVisualAssetLocator),duration:e.duration,position:(0,t.castAsAssetPosition)(e.position)}}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsUrlAudioAssetLocator=function(e){var t=(0,a.newCastingError)("UrlAudioAssetLocator",e);if((0,s.isObject)(e)&&"type"in e&&e.type===h.URL&&"url"in e&&(0,s.isString)(e.url)&&"thumbUrl"in e&&(0,s.isOptionalString)(e.thumbUrl))return{type:e.type,url:e.url,thumbUrl:e.thumbUrl};throw t};t.castAsAudioAssetLocator=function(e){var r=(0,a.newCastingError)("AudioAssetLocator",e);try{return(0,t.castAsUrlAudioAssetLocator)(e)}catch(n){(0,a.updateCastingError)(r,n)}try{return(0,t.castAsStorageAssetLocator)(e)}catch(n){(0,a.updateCastingError)(r,n)}try{return(0,t.castAsTmpFileAssetLocator)(e)}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsAssetLocator=function(e){var r=(0,a.newCastingError)("AssetLocator",e);try{return(0,t.castAsVisualAssetLocator)(e)}catch(n){(0,a.updateCastingError)(r,n)}try{return(0,t.castAsAudioAssetLocator)(e)}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsAudioAssetReference=function(e){var r=(0,a.newCastingError)("AudioAssetReference",e);if((0,s.isObject)(e)&&"refId"in e&&(0,s.isString)(e.refId)&&"locator"in e&&"duration"in e&&(0,s.isNumber)(e.duration)&&"volume"in e&&(0,s.isNumber)(e.volume))try{return{refId:e.refId,locator:(0,s.castAsTypedOptional)(e.locator,t.castAsAudioAssetLocator),duration:e.duration,volume:e.volume}}catch(n){(0,a.updateCastingError)(r,n)}if((0,s.isObject)(e)&&!("refId"in e)&&"locator"in e&&"duration"in e&&(0,s.isNumber)(e.duration)&&"volume"in e&&(0,s.isNumber)(e.volume))try{return{refId:(0,d.generateRandomAsciiStr)({length:7}),locator:(0,s.castAsTypedOptional)(e.locator,t.castAsAudioAssetLocator),duration:e.duration,volume:e.volume}}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsMusicAssetReference=function(e){var r=(0,a.newCastingError)("MusicAssetReference",e);if((0,s.isObject)(e)&&"refId"in e&&(0,s.isString)(e.refId)&&"locator"in e&&"volume"in e&&(0,s.isNumber)(e.volume))try{return{refId:e.refId,locator:(0,s.castAsTypedOptional)(e.locator,t.castAsAudioAssetLocator),volume:e.volume}}catch(n){(0,a.updateCastingError)(r,n)}if((0,s.isObject)(e)&&"locator"in e&&"volume"in e&&(0,s.isNumber)(e.volume))try{return{refId:(0,d.generateRandomAsciiStr)({length:7}),locator:(0,s.castAsTypedOptional)(e.locator,t.castAsAudioAssetLocator),volume:e.volume}}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsDisplayTiming=function(e){var t=(0,a.newCastingError)("DisplayTiming",e);if((0,s.isObject)(e)&&"startTime"in e&&(0,s.isNumber)(e.startTime)&&"endTime"in e&&(0,s.isNumber)(e.endTime))return{startTime:e.startTime,endTime:e.endTime};throw t};t.castAsSize=function(e){var t=(0,a.newCastingError)("Size",e);if((0,s.isObject)(e)&&"width"in e&&(0,s.isNumber)(e.width)&&"height"in e&&(0,s.isNumber)(e.height))return{width:e.width,height:e.height};throw t}},20480:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsBlock=t.castAsTextToVideoBlock=t.castAsBlockType=t.BlockType=void 0;var n,i=r(34250),a=r(42172),o=r(75668),s=r(5447);!function(e){e.TEXT_TO_VIDEO="TEXT_TO_VIDEO"}(n||(t.BlockType=n={}));t.castAsBlockType=function(e){var t=(0,i.newCastingError)("BlockType",e);if("TEXT_TO_VIDEO"===e)return n.TEXT_TO_VIDEO;throw t};t.castAsTextToVideoBlock=function(e){var t=(0,i.newCastingError)("TextToVideoBlock",e);if((0,s.isObject)(e)&&"type"in e&&e.type===n.TEXT_TO_VIDEO&&"blockId"in e&&(0,s.isString)(e.blockId)&&"draftText"in e&&(0,s.isString)(e.draftText)&&"generatedScriptElements"in e&&"backgroundVisualAssetReferences"in e)try{return{type:e.type,blockId:e.blockId,draftText:e.draftText,generatedScriptElements:(0,s.castAsTypedOptional)(e.generatedScriptElements,(function(e){return(0,s.castAsTypedArray)(e,o.castAsGeneratedScriptElement)})),backgroundVisualAssetReferences:(0,s.castAsTypedOptional)(e.backgroundVisualAssetReferences,(function(e){return(0,s.castAsTypedArray)(e,a.castAsBackgroundVisualAssetReference)}))}}catch(r){(0,i.updateCastingError)(t,r)}throw t};t.castAsBlock=function(e){var r=(0,i.newCastingError)("Block",e);try{return(0,t.castAsTextToVideoBlock)(e)}catch(n){(0,i.updateCastingError)(r,n)}throw r}},34595:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsBrand=void 0;var n=r(34250),i=r(98468),a=r(2421),o=r(5447);t.castAsBrand=function(e){var t=(0,n.newCastingError)("Brand",e);if((0,o.isObject)(e)&&"brandId"in e&&(0,o.isString)(e.brandId)&&"name"in e&&(0,o.isString)(e.name)&&"customInstructions"in e&&(0,o.isString)(e.customInstructions)&&"writingStyle"in e&&(0,o.isString)(e.writingStyle)&&"captionStyle"in e&&"ttsVoice"in e&&"creationSse"in e&&(0,o.isNumber)(e.creationSse)&&"lastEditSse"in e&&(0,o.isNumber)(e.lastEditSse))try{return{brandId:e.brandId,name:e.name,customInstructions:e.customInstructions,writingStyle:e.writingStyle,captionStyle:(0,i.castAsCaptionStyleData)(e.captionStyle),ttsVoice:(0,a.castAsTtsVoice)(e.ttsVoice),creationSse:e.creationSse,lastEditSse:e.lastEditSse}}catch(r){(0,n.updateCastingError)(t,r)}throw t}},91667:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsBuffer=void 0;var n=r(68252),i=r(34250);t.castAsBuffer=function(e){var t=(0,i.newCastingError)("Buffer",e);if(n.Buffer.isBuffer(e))return e;throw t}},98468:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsCaptionStyleData=t.castAsVerticalAlignment=t.VerticalAlignment=t.castAsTextBackgroundStyle=t.castAsTextBackgroundStyleType=t.TextBackgroundStyleType=t.castAsFont=t.castAsFontWeight=t.castAsTextJustification=t.TextJustification=void 0;var n,i=r(34250),a=r(80287),o=r(8280),s=r(5447);!function(e){e.LEFT="LEFT",e.CENTER="CENTER",e.RIGHT="RIGHT"}(n||(t.TextJustification=n={}));t.castAsTextJustification=function(e){var t=(0,i.newCastingError)("TextJustification",e);if("LEFT"===e||"CENTER"===e||"RIGHT"===e)return e;throw t};t.castAsFontWeight=function(e){var t=(0,i.newCastingError)("FontWeight",e);if(100===e||200===e||300===e||400===e||500===e||600===e||700===e||800===e||900===e)return e;throw t};var u;t.castAsFont=function(e){var r=(0,i.newCastingError)("Font",e);if((0,s.isObject)(e)&&"fontSize"in e&&(0,s.isNumber)(e.fontSize)&&"fontWeight"in e&&"fontName"in e&&(0,s.isString)(e.fontName))try{return{fontSize:e.fontSize,fontWeight:(0,t.castAsFontWeight)(e.fontWeight),fontName:e.fontName}}catch(n){(0,i.updateCastingError)(r,n)}throw r},function(e){e.RECT="RECT",e.WRAPPED="WRAPPED"}(u||(t.TextBackgroundStyleType=u={}));t.castAsTextBackgroundStyleType=function(e){var t=(0,i.newCastingError)("TextBackgroundStyleType",e);if("RECT"===e)return u.RECT;if("WRAPPED"===e)return u.WRAPPED;throw t};var c;t.castAsTextBackgroundStyle=function(e){var r=(0,i.newCastingError)("TextBackgroundStyle",e);if((0,s.isObject)(e)&&"type"in e&&"backgroundColor"in e&&"borderRadiusProportion"in e&&"opacityProportion"in e)try{return{type:(0,t.castAsTextBackgroundStyleType)(e.type),backgroundColor:(0,a.castAsRGBColor)(e.backgroundColor),borderRadiusProportion:(0,o.castAsProportion)(e.borderRadiusProportion),opacityProportion:(0,o.castAsProportion)(e.opacityProportion)}}catch(n){(0,i.updateCastingError)(r,n)}throw r},function(e){e.TOP="TOP",e.MIDDLE="MIDDLE",e.BOTTOM="BOTTOM"}(c||(t.VerticalAlignment=c={}));t.castAsVerticalAlignment=function(e){var t=(0,i.newCastingError)("VerticalAlignment",e);if("TOP"===e||"MIDDLE"===e||"BOTTOM"===e)return e;throw t};t.castAsCaptionStyleData=function(e){var r=(0,i.newCastingError)("CaptionStyleData",e);if((0,s.isObject)(e)&&"font"in e&&"textColor"in e&&"textJustification"in e&&"verticalAlignment"in e&&"strokeColor"in e&&"strokeWeight"in e&&(0,s.isNumber)(e.strokeWeight)&&"backgroundStyle"in e&&"isHidden"in e&&(0,s.isBoolean)(e.isHidden))try{return{font:(0,t.castAsFont)(e.font),textColor:(0,a.castAsRGBColor)(e.textColor),textJustification:(0,t.castAsTextJustification)(e.textJustification),verticalAlignment:(0,t.castAsVerticalAlignment)(e.verticalAlignment),strokeColor:(0,s.castAsTypedOptional)(e.strokeColor,a.castAsRGBColor),strokeWeight:e.strokeWeight,backgroundStyle:(0,s.castAsTypedOptional)(e.backgroundStyle,t.castAsTextBackgroundStyle),isHidden:e.isHidden}}catch(n){(0,i.updateCastingError)(r,n)}throw r}},11025:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsCaptionText=t.castAsIndexRange=void 0;var n=r(34250),i=r(5447);t.castAsIndexRange=function(e){var t=(0,n.newCastingError)("IndexRange",e);if((0,i.isObject)(e)&&"startIndex"in e&&"endIndex"in e)try{return{startIndex:(0,i.castAsInteger)(e.startIndex),endIndex:(0,i.castAsInteger)(e.endIndex)}}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsCaptionText=function(e){var r=(0,n.newCastingError)("CaptionText",e);if((0,i.isObject)(e)&&"words"in e&&(0,i.isTypedArray)(e.words,i.isString)&&"sentenceIndexRanges"in e&&"sentenceBreakDurations"in e&&(0,i.isTypedArray)(e.sentenceBreakDurations,i.isNumber)&&"sceneIndexRanges"in e)try{return{words:e.words,sentenceIndexRanges:(0,i.castAsTypedArray)(e.sentenceIndexRanges,t.castAsIndexRange),sentenceBreakDurations:e.sentenceBreakDurations,sceneIndexRanges:(0,i.castAsTypedArray)(e.sceneIndexRanges,t.castAsIndexRange)}}catch(o){(0,n.updateCastingError)(r,o)}if((0,i.isObject)(e)&&"words"in e&&(0,i.isTypedArray)(e.words,i.isString)&&"sentenceIndexRanges"in e&&!("sentenceBreakDurations"in e)&&"sceneIndexRanges"in e)try{var a=(0,i.castAsTypedArray)(e.sentenceIndexRanges,t.castAsIndexRange);return{words:e.words,sentenceIndexRanges:a,sentenceBreakDurations:a.map((function(){return 0})),sceneIndexRanges:(0,i.castAsTypedArray)(e.sceneIndexRanges,t.castAsIndexRange)}}catch(o){(0,n.updateCastingError)(r,o)}throw r}},1438:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsCartoonSceneDetails=t.castAsCartoonCharacterDescriptionRecord=void 0;var n=r(34250),i=r(5447);t.castAsCartoonCharacterDescriptionRecord=function(e){var t=(0,n.newCastingError)("CartoonCharacterDescriptionRecord",e);try{return(0,i.castAsTypedPartialRecord)(e,i.castAsString,i.castAsString)}catch(r){(0,n.updateCastingError)(t,r)}throw t};t.castAsCartoonSceneDetails=function(e){var t=(0,n.newCastingError)("CartoonSceneDetails",e);if((0,i.isObject)(e)&&"characterDescriptions"in e&&(0,i.isTypedArray)(e.characterDescriptions,i.isString)&&"prompt"in e&&(0,i.isString)(e.prompt))try{return{characterDescriptions:e.characterDescriptions,prompt:e.prompt}}catch(r){(0,n.updateCastingError)(t,r)}throw t}},80287:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsRGBColor=void 0;var n=r(34250),i=r(5447);t.castAsRGBColor=function(e){var t=(0,n.newCastingError)("RGBColor",e);if((0,i.isObject)(e)&&"red"in e&&(0,i.isNumber)(e.red)&&"green"in e&&(0,i.isNumber)(e.green)&&"blue"in e&&(0,i.isNumber)(e.blue))return{red:e.red,green:e.green,blue:e.blue};throw t}},34572:function(e,t,r){"use strict";var n=r(42122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.castAsCommitInfo=void 0;var i=r(34250),a=r(5447);t.castAsCommitInfo=function(e){var t=(0,i.newCastingError)("CommitInfo",e);if((0,a.isObject)(e)&&"shortSha"in e&&(0,a.isString)(e.shortSha))return n({shortSha:e.shortSha},(0,a.getOmittableObjectEntry)(e,"prod",a.castAsNumber));throw t}},49020:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ComparatorResult=void 0,function(e){e.LESS_THAN="LESS_THAN",e.EQUAL_TO="EQAUL_TO",e.GREATER_THAN="GREATER_THAN"}(r||(t.ComparatorResult=r={}))},58526:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsEnvironment=t.Environment=void 0;var n,i=r(34250);!function(e){e.PROD="PROD",e.DEV="DEV",e.ANTON="ANTON",e.DAVID="DAVID",e.LOCAL="LOCAL"}(n||(t.Environment=n={}));t.castAsEnvironment=function(e){var t=(0,i.newCastingError)("Environment",e);if("PROD"===e||"DEV"===e||"ANTON"===e||"DAVID"===e||"LOCAL"===e)return e;throw t}},49709:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsDalleImageSize=void 0;var n=r(34250);t.castAsDalleImageSize=function(e){var t=(0,n.newCastingError)("DalleImageSize",e);if("1024x1024"===e||"1792x1024"===e||"1024x1792"===e)return e;throw t}},80715:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsFirebaseError=t.castAsKnownError=t.castAsKnownErrorSeverity=t.KnownErrorSeverity=t.castAsKnownErrorAction=t.castAsKnownErrorInvalidPromotionCodeAction=t.castAsKnownErrorUpgradeAction=t.castAsKnownErrorUpgradeRequirement=t.castAsSimpleKnownErrorUpgradeRequirement=t.castAsSimpleKnownErrorUpgradeRequirementType=t.castAsUsageConstantsKnownErrorUpgradeRequirement=t.castAsUsageCreditsKnownErrorUpgradeRequirement=t.castAsKnownErrorUpgradeRequirementType=t.KnownErrorUpgradeRequirementType=t.castAsKnownErrorActionType=t.KnownErrorActionType=void 0;var n,i=r(34250),a=r(34572),o=r(5447),s=r(27820);!function(e){e.UPGRADE="UPGRADE",e.INVALID_PROMOTION_CODE="INVALID_PROMOTION_CODE"}(n||(t.KnownErrorActionType=n={}));var u;t.castAsKnownErrorActionType=function(e){var t=(0,i.newCastingError)("KnownErrorActionType",e);if("UPGRADE"===e)return n.UPGRADE;if("INVALID_PROMOTION_CODE"===e)return n.INVALID_PROMOTION_CODE;throw t},function(e){e.USAGE_CREDITS="USAGE_CREDITS",e.USAGE_CONSTANTS="USAGE_CONSTANTS",e.API_MIDDLEWARE="API_MIDDLEWARE",e.ADMIN_ONLY="ADMIN_ONLY",e.UNSPECIFIED_UPGRADE="UNSPECIFIED_UPGRADE"}(u||(t.KnownErrorUpgradeRequirementType=u={}));t.castAsKnownErrorUpgradeRequirementType=function(e){var t=(0,i.newCastingError)("KnownErrorUpgradeRequirementType",e);if("USAGE_CREDITS"===e)return u.USAGE_CREDITS;if("USAGE_CONSTANTS"===e)return u.USAGE_CONSTANTS;if("API_MIDDLEWARE"===e)return u.API_MIDDLEWARE;if("ADMIN_ONLY"===e)return u.ADMIN_ONLY;if("UNSPECIFIED_UPGRADE"===e)return u.UNSPECIFIED_UPGRADE;throw t};t.castAsUsageCreditsKnownErrorUpgradeRequirement=function(e){var t=(0,i.newCastingError)("UsageCreditsKnownErrorUpgradeRequirement",e);if((0,o.isObject)(e)&&"type"in e&&e.type===u.USAGE_CREDITS&&"usageCreditKey"in e)try{return{type:e.type,usageCreditKey:(0,s.castAsUsageCreditKey)(e.usageCreditKey)}}catch(r){(0,i.updateCastingError)(t,r)}throw t};t.castAsUsageConstantsKnownErrorUpgradeRequirement=function(e){var t=(0,i.newCastingError)("UsageConstantsKnownErrorUpgradeRequirement",e);if((0,o.isObject)(e)&&"type"in e&&e.type===u.USAGE_CONSTANTS&&"usageConstantKey"in e)try{return{type:e.type,usageConstantKey:(0,s.castAsUsageConstantKey)(e.usageConstantKey)}}catch(r){(0,i.updateCastingError)(t,r)}throw t};t.castAsSimpleKnownErrorUpgradeRequirementType=function(e){var t=(0,i.newCastingError)("SimpleKnownErrorUpgradeRequirementType",e);if(e===u.API_MIDDLEWARE||e===u.ADMIN_ONLY||e===u.UNSPECIFIED_UPGRADE)return e;throw t};t.castAsSimpleKnownErrorUpgradeRequirement=function(e){var r=(0,i.newCastingError)("SimpleKnownErrorUpgradeRequirement",e);if((0,o.isObject)(e)&&"type"in e)return{type:(0,t.castAsSimpleKnownErrorUpgradeRequirementType)(e.type)};throw r};t.castAsKnownErrorUpgradeRequirement=function(e){var r=(0,i.newCastingError)("KnownErrorUpgradeRequirement",e);try{return(0,t.castAsSimpleKnownErrorUpgradeRequirement)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsUsageCreditsKnownErrorUpgradeRequirement)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsUsageConstantsKnownErrorUpgradeRequirement)(e)}catch(n){(0,i.updateCastingError)(r,n)}throw r};t.castAsKnownErrorUpgradeAction=function(e){var r=(0,i.newCastingError)("KnownErrorUpgradeAction",e);if((0,o.isObject)(e)&&"type"in e&&e.type===n.UPGRADE&&"upgradeRequirement"in e&&"currentWorkspaceAuthLevel"in e&&"requiredWorkspaceAuthLevel"in e&&"upgradeToIncreaseMessage"in e&&(0,o.isOptionalString)(e.upgradeToIncreaseMessage))try{return{type:e.type,upgradeRequirement:(0,t.castAsKnownErrorUpgradeRequirement)(e.upgradeRequirement),currentWorkspaceAuthLevel:(0,s.castAsWorkspaceAuthLevel)(e.currentWorkspaceAuthLevel),requiredWorkspaceAuthLevel:(0,s.castAsWorkspaceAuthLevel)(e.requiredWorkspaceAuthLevel),upgradeToIncreaseMessage:e.upgradeToIncreaseMessage}}catch(a){(0,i.updateCastingError)(r,a)}throw r};t.castAsKnownErrorInvalidPromotionCodeAction=function(e){var t=(0,i.newCastingError)("KnownErrorInvalidPromotionCodeAction",e);if((0,o.isObject)(e)&&"type"in e&&e.type===n.INVALID_PROMOTION_CODE&&"invalidStripePromotionCode"in e&&(0,o.isString)(e.invalidStripePromotionCode))return{type:e.type,invalidStripePromotionCode:e.invalidStripePromotionCode};throw t};var c;t.castAsKnownErrorAction=function(e){var r=(0,i.newCastingError)("KnownErrorAction",e);try{return(0,t.castAsKnownErrorUpgradeAction)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsKnownErrorInvalidPromotionCodeAction)(e)}catch(n){(0,i.updateCastingError)(r,n)}throw r},function(e){e.WARNING="WARNING",e.FATAL="FATAL"}(c||(t.KnownErrorSeverity=c={}));t.castAsKnownErrorSeverity=function(e){var t=(0,i.newCastingError)("KnownErrorSeverity",e);if("WARNING"===e||"FATAL"===e)return e;throw t};t.castAsKnownError=function(e){var r=(0,i.newCastingError)("KnownError",e);if((0,o.isObject)(e)&&"errorId"in e&&(0,o.isString)(e.errorId)&&"displayMessage"in e&&(0,o.isString)(e.displayMessage)&&"rawMessage"in e&&(0,o.isString)(e.rawMessage)&&"severity"in e&&"action"in e&&"rawData"in e&&(0,o.isObject)(e.rawData)&&"isHidden"in e&&(0,o.isBoolean)(e.isHidden)&&"isInternal"in e&&(0,o.isBoolean)(e.isInternal)&&"sourceCommitInfo"in e)try{return{errorId:e.errorId,displayMessage:e.displayMessage,rawMessage:e.rawMessage,severity:(0,t.castAsKnownErrorSeverity)(e.severity),action:(0,o.castAsTypedOptional)(e.action,t.castAsKnownErrorAction),rawData:e.rawData,isHidden:e.isHidden,isInternal:e.isInternal,sourceCommitInfo:(0,o.castAsTypedOptional)(e.sourceCommitInfo,a.castAsCommitInfo)}}catch(n){(0,i.updateCastingError)(r,n)}throw r};t.castAsFirebaseError=function(e){var t=(0,i.newCastingError)("FirebaseError",e);if((0,o.isObject)(e)&&"code"in e&&(0,o.isString)(e.code)&&"name"in e&&"FirebaseError"===e.name&&"message"in e&&(0,o.isString)(e.message))try{return{code:e.code,name:e.name,message:e.message}}catch(r){(0,i.updateCastingError)(t,r)}throw t}},68769:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsExportInfo=t.castAsExportVisibilityType=t.ExportVisibilityType=void 0;var n,i=r(34250),a=r(71047),o=r(81714),s=r(24887),u=r(5447);!function(e){e.PRIVATE="PRIVATE",e.PUBLIC="PUBLIC"}(n||(t.ExportVisibilityType=n={}));t.castAsExportVisibilityType=function(e){var t=(0,i.newCastingError)("ExportVisibilityType",e);if("PRIVATE"===e)return n.PRIVATE;if("PUBLIC"===e)return n.PUBLIC;throw t};t.castAsExportInfo=function(e){var r=(0,i.newCastingError)("ExportInfo",e);if((0,u.isObject)(e)&&"exportId"in e&&(0,u.isString)(e.exportId)&&"creationSse"in e&&(0,u.isNumber)(e.creationSse)&&"exportWorkspaceId"in e&&(0,u.isString)(e.exportWorkspaceId)&&"exportProjectId"in e&&(0,u.isString)(e.exportProjectId)&&"visibilityType"in e&&"exportJob"in e)try{return{exportId:e.exportId,creationSse:e.creationSse,exportWorkspaceId:e.exportWorkspaceId,exportProjectId:e.exportProjectId,visibilityType:(0,t.castAsExportVisibilityType)(e.visibilityType),exportJob:(0,u.castAsTypedOptional)(e.exportJob,s.castAsExportJob)}}catch(f){(0,i.updateCastingError)(r,f)}if((0,u.isObject)(e)&&"exportId"in e&&(0,u.isString)(e.exportId)&&"creationSse"in e&&(0,u.isNumber)(e.creationSse)&&"exportWorkspaceId"in e&&(0,u.isString)(e.exportWorkspaceId)&&"exportProjectId"in e&&(0,u.isString)(e.exportProjectId)&&"exportStorageFileId"in e&&(0,u.isOptionalString)(e.exportStorageFileId)&&"primaryFileExtension"in e&&(0,u.isOptionalString)(e.primaryFileExtension)&&"thumbnailFileExtension"in e&&(0,u.isOptionalString)(e.thumbnailFileExtension)&&"exportFileDisplayName"in e&&(0,u.isOptionalString)(e.exportFileDisplayName)&&"visibilityType"in e&&"errorDisplayMessage"in e&&(0,u.isOptionalString)(e.errorDisplayMessage)&&!("exportJob"in e))try{var n=(0,a.getCurrentSecondsSinceEpoch)(),c=null==e.exportFileDisplayName||null==e.primaryFileExtension||null==e.thumbnailFileExtension?null:{type:s.JobType.EXPORT,metadata:{jobId:(0,o.generateUuid)(),initiationSse:n,latestAttemptProgress:{attemptIndex:0,startSse:n,lastUpdateSse:n,endSse:n,progressPercentage:100,errorDisplayMessage:e.errorDisplayMessage},isCompletionHandled:!0,isJobInputMissing:!1},projectId:e.exportProjectId,aspectRatio:{width:16,height:9},minDimensionPixels:1080,exportUrl:null,exportId:e.exportId,primaryHydratedExportUrl:{signedUrl:"https://storage.googleapis.com/videogen-workspace-storage/".concat(e.exportWorkspaceId,"-exports/").concat(e.exportStorageFileId,".mp4"),expirationMillisecondsSinceEpoch:0},thumbnailHydratedExportUrl:{signedUrl:"https://storage.googleapis.com/videogen-workspace-storage/".concat(e.exportWorkspaceId,"-exports/").concat(e.exportStorageFileId,".png"),expirationMillisecondsSinceEpoch:0},exportFileDisplayName:e.exportFileDisplayName};return{exportId:e.exportId,creationSse:e.creationSse,exportWorkspaceId:e.exportWorkspaceId,exportProjectId:e.exportProjectId,visibilityType:(0,t.castAsExportVisibilityType)(e.visibilityType),exportJob:c}}catch(f){(0,i.updateCastingError)(r,f)}if((0,u.isObject)(e)&&"exportId"in e&&(0,u.isString)(e.exportId)&&"creationSse"in e&&(0,u.isNumber)(e.creationSse)&&"exportWorkspaceId"in e&&(0,u.isString)(e.exportWorkspaceId)&&"exportProjectId"in e&&(0,u.isString)(e.exportProjectId)&&"exportStorageFileId"in e&&(0,u.isOptionalString)(e.exportStorageFileId)&&"primaryFileExtension"in e&&(0,u.isOptionalString)(e.primaryFileExtension)&&"thumbnailFileExtension"in e&&(0,u.isOptionalString)(e.thumbnailFileExtension)&&"exportFileDisplayName"in e&&(0,u.isOptionalString)(e.exportFileDisplayName)&&"visibilityType"in e&&!("errorDisplayMessage"in e))try{var l=(0,a.getCurrentSecondsSinceEpoch)(),d=null==e.exportFileDisplayName||null==e.primaryFileExtension||null==e.thumbnailFileExtension?null:{type:s.JobType.EXPORT,metadata:{jobId:(0,o.generateUuid)(),initiationSse:l,latestAttemptProgress:{attemptIndex:0,startSse:l,lastUpdateSse:l,endSse:l,progressPercentage:100,errorDisplayMessage:null},isCompletionHandled:!0,isJobInputMissing:!1},projectId:e.exportProjectId,aspectRatio:{width:16,height:9},minDimensionPixels:1080,exportUrl:null,exportId:e.exportId,primaryHydratedExportUrl:{signedUrl:"https://storage.googleapis.com/videogen-workspace-storage/".concat(e.exportWorkspaceId,"-exports/").concat(e.exportStorageFileId,".mp4"),expirationMillisecondsSinceEpoch:0},thumbnailHydratedExportUrl:{signedUrl:"https://storage.googleapis.com/videogen-workspace-storage/".concat(e.exportWorkspaceId,"-exports/").concat(e.exportStorageFileId,".png"),expirationMillisecondsSinceEpoch:0},exportFileDisplayName:e.exportFileDisplayName};return{exportId:e.exportId,creationSse:e.creationSse,exportWorkspaceId:e.exportWorkspaceId,exportProjectId:e.exportProjectId,visibilityType:(0,t.castAsExportVisibilityType)(e.visibilityType),exportJob:d}}catch(f){(0,i.updateCastingError)(r,f)}throw r}},61591:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsBrowserExtensionGenerator=t.castAsScriptTextBrowserExtensionGenerator=t.castAsBrowserExtensionGeneratorType=t.BrowserExtensionGeneratorType=void 0;var n,i=r(34250),a=r(5447);!function(e){e.SCRIPT_TEXT="SCRIPT_TEXT"}(n||(t.BrowserExtensionGeneratorType=n={}));t.castAsBrowserExtensionGeneratorType=function(e){var t=(0,i.newCastingError)("BrowserExtensionGeneratorType",e);if("SCRIPT_TEXT"===e)return n.SCRIPT_TEXT;throw t};t.castAsScriptTextBrowserExtensionGenerator=function(e){var t=(0,i.newCastingError)("ScriptTextBrowserExtensionGenerator",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.SCRIPT_TEXT&&"text"in e&&(0,a.isString)(e.text))return{type:e.type,text:e.text};throw t};t.castAsBrowserExtensionGenerator=function(e){var r=(0,i.newCastingError)("BrowserExtensionGenerator",e);try{return(0,t.castAsScriptTextBrowserExtensionGenerator)(e)}catch(n){(0,i.updateCastingError)(r,n)}throw r}},1312:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsExternalApiKeyInfo=void 0;var n=r(34250),i=r(5447);t.castAsExternalApiKeyInfo=function(e){var t=(0,n.newCastingError)("ExternalApiKeyInfo",e);if((0,i.isObject)(e)&&"externalApiKeyId"in e&&(0,i.isString)(e.externalApiKeyId)&&"externalApiKeyNickname"in e&&(0,i.isString)(e.externalApiKeyNickname)&&"hashedExternalApiKey"in e&&(0,i.isString)(e.hashedExternalApiKey)&&"workspaceId"in e&&(0,i.isString)(e.workspaceId)&&"creationSse"in e&&(0,i.isNumber)(e.creationSse))return{externalApiKeyId:e.externalApiKeyId,externalApiKeyNickname:e.externalApiKeyNickname,hashedExternalApiKey:e.hashedExternalApiKey,workspaceId:e.workspaceId,creationSse:e.creationSse};throw t}},45914:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsFirestoreCollectionName=t.castAsFirestoreSubcollectionName=t.castAsFirestoreBaseCollectionName=void 0;var n=r(34250);t.castAsFirestoreBaseCollectionName=function(e){var t=(0,n.newCastingError)("FirestoreBaseCollectionName",e);if("free-access-codes"===e||"server-users"===e||"workspaces"===e||"workspace-getty-usages"===e||"exports"===e||"external-api-keys"===e)return e;throw t};t.castAsFirestoreSubcollectionName=function(e){var t=(0,n.newCastingError)("FirestoreSubcollectionName",e);if("brands"===e||"projects"===e||"project-internals"===e||"storage-files"===e||"exports-storage-files"===e||"project-blocks"===e||"project-storage-files"===e)return e;throw t};t.castAsFirestoreCollectionName=function(e){var r=(0,n.newCastingError)("FirestoreCollectionName",e);try{return(0,t.castAsFirestoreBaseCollectionName)(e)}catch(i){(0,n.updateCastingError)(r,i)}try{return(0,t.castAsFirestoreSubcollectionName)(e)}catch(i){(0,n.updateCastingError)(r,i)}throw r}},73503:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsFreeAccessCodeInfo=t.castAsFreeAccessCodeClaim=t.castAsFreeAccessCodeSource=t.FreeAccessCodeSource=t.castAsFreeAccessCodeType=t.FreeAccessCodeType=void 0;var n,i=r(34250),a=r(5447);!function(e){e.FREE_YEAR_PRO="FREE_YEAR_PRO",e.FREE_LIFETIME_PRO="FREE_LIFETIME_PRO"}(n||(t.FreeAccessCodeType=n={}));var o;t.castAsFreeAccessCodeType=function(e){var t=(0,i.newCastingError)("FreeAccessCodeType",e);if("FREE_YEAR_PRO"===e)return n.FREE_YEAR_PRO;if("FREE_LIFETIME_PRO"===e)return n.FREE_LIFETIME_PRO;throw t},function(e){e.APP_SUMO="APP_SUMO",e.CONTRACT="CONTRACT",e.GIFT="GIFT"}(o||(t.FreeAccessCodeSource=o={}));t.castAsFreeAccessCodeSource=function(e){var t=(0,i.newCastingError)("FreeAccessCodeSource",e);if("APP_SUMO"===e)return o.APP_SUMO;if("CONTRACT"===e)return o.CONTRACT;if("GIFT"===e)return o.GIFT;throw t};t.castAsFreeAccessCodeClaim=function(e){var t=(0,i.newCastingError)("FreeAccessCodeClaim",e);if((0,a.isObject)(e)&&"workspaceId"in e&&(0,a.isString)(e.workspaceId)&&"email"in e&&(0,a.isOptionalString)(e.email)&&"claimSecondsSinceEpoch"in e&&(0,a.isNumber)(e.claimSecondsSinceEpoch))try{return{workspaceId:e.workspaceId,email:e.email,claimSecondsSinceEpoch:e.claimSecondsSinceEpoch}}catch(r){(0,i.updateCastingError)(t,r)}throw t};t.castAsFreeAccessCodeInfo=function(e){var r=(0,i.newCastingError)("FreeAccessCodeInfo",e);if((0,a.isObject)(e)&&"type"in e&&"freeAccessCodeId"in e&&(0,a.isString)(e.freeAccessCodeId)&&"source"in e&&"claim"in e)try{return{type:(0,t.castAsFreeAccessCodeType)(e.type),freeAccessCodeId:e.freeAccessCodeId,source:(0,t.castAsFreeAccessCodeSource)(e.source),claim:(0,a.castAsTypedOptional)(e.claim,t.castAsFreeAccessCodeClaim)}}catch(n){(0,i.updateCastingError)(r,n)}throw r}},75174:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsGenerator=t.castAsProjectwideGenerationInput=t.castAsMusicData=t.castAsMusicInfo=t.castAsVideoUploadData=t.castAsBackgroundData=t.castAsBackgroundDataConfig=t.castAsSceneWordLengthThreshold=t.castAsAssetMode=t.AssetMode=t.castAsScriptData=t.castAsPreGenerator=t.castAsScriptPreGenerator=t.castAsWebsitePreGenerator=t.castAsPromptPreGenerator=t.castAsPreGeneratorType=t.PreGeneratorType=void 0;var n,i=r(34250),a=r(47491),o=r(81714),s=r(42172),u=r(20480),c=r(98468),l=r(2071),d=r(90152),f=r(2421),h=r(5447);!function(e){e.PROMPT="PROMPT",e.WEBSITE="WEBSITE",e.SCRIPT="SCRIPT"}(n||(t.PreGeneratorType=n={}));t.castAsPreGeneratorType=function(e){var t=(0,i.newCastingError)("PreGeneratorType",e);if("PROMPT"===e)return n.PROMPT;if("WEBSITE"===e)return n.WEBSITE;if("SCRIPT"===e)return n.SCRIPT;throw t};t.castAsPromptPreGenerator=function(e){var t=(0,i.newCastingError)("PromptPreGenerator",e);if((0,h.isObject)(e)&&"type"in e&&e.type===n.PROMPT&&"prompt"in e&&(0,h.isString)(e.prompt)&&"targetScriptWordCount"in e&&(0,h.isNumber)(e.targetScriptWordCount))return{type:e.type,prompt:e.prompt,targetScriptWordCount:e.targetScriptWordCount};if((0,h.isObject)(e)&&"type"in e&&e.type===n.PROMPT&&"prompt"in e&&(0,h.isString)(e.prompt)&&"durationSeconds"in e&&(0,h.isNumber)(e.durationSeconds))return{type:e.type,prompt:e.prompt,targetScriptWordCount:100};throw t};t.castAsWebsitePreGenerator=function(e){var t=(0,i.newCastingError)("WebsitePreGenerator",e);if((0,h.isObject)(e)&&"type"in e&&e.type===n.WEBSITE&&"websiteUrl"in e&&(0,h.isString)(e.websiteUrl)&&"targetScriptWordCount"in e&&(0,h.isNumber)(e.targetScriptWordCount))return{type:e.type,websiteUrl:e.websiteUrl,targetScriptWordCount:e.targetScriptWordCount};if((0,h.isObject)(e)&&"type"in e&&e.type===n.WEBSITE&&"websiteUrl"in e&&(0,h.isString)(e.websiteUrl)&&"durationSeconds"in e&&(0,h.isNumber)(e.durationSeconds))return{type:e.type,websiteUrl:e.websiteUrl,targetScriptWordCount:100};throw t};t.castAsScriptPreGenerator=function(e){var t=(0,i.newCastingError)("ScriptPreGenerator",e);if((0,h.isObject)(e)&&"type"in e&&e.type===n.SCRIPT&&"text"in e&&(0,h.isString)(e.text))return{type:e.type,text:e.text};throw t};t.castAsPreGenerator=function(e){var r=(0,i.newCastingError)("PreGenerator",e);try{return(0,t.castAsPromptPreGenerator)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsWebsitePreGenerator)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsScriptPreGenerator)(e)}catch(n){(0,i.updateCastingError)(r,n)}throw r};var p;t.castAsScriptData=function(e){var t=(0,i.newCastingError)("ScriptData",e);if((0,h.isObject)(e)&&"text"in e&&(0,h.isString)(e.text)&&"isVgmlEnabled"in e&&(0,h.isBoolean)(e.isVgmlEnabled))try{return{text:e.text,isVgmlEnabled:e.isVgmlEnabled}}catch(r){(0,i.updateCastingError)(t,r)}if((0,h.isObject)(e)&&"text"in e&&(0,h.isString)(e.text)&&!("isVgmlEnabled"in e))try{return{text:e.text,isVgmlEnabled:!0}}catch(r){(0,i.updateCastingError)(t,r)}throw t},function(e){e.AUTOMATIC="AUTOMATIC"}(p||(t.AssetMode=p={}));t.castAsAssetMode=function(e){var t=(0,i.newCastingError)("AssetMode",e);if("AUTOMATIC"===e)return p.AUTOMATIC;throw t};t.castAsSceneWordLengthThreshold=function(e){var t=(0,i.newCastingError)("SceneWordLengthThreshold",e);if((0,h.isObject)(e)&&"min"in e&&(0,h.isNumber)(e.min)&&"max"in e&&(0,h.isNumber)(e.max))return{min:e.min,max:e.max};throw t};t.castAsBackgroundDataConfig=function(e){var r=(0,i.newCastingError)("BackgroundDataConfig",e);if((0,h.isObject)(e)&&"assetMode"in e&&"sceneWordLengthThreshold"in e&&(0,h.isObject)(e.sceneWordLengthThreshold)&&"useGetty"in e&&(0,h.isBoolean)(e.useGetty)&&"useCartoon"in e&&(0,h.isBoolean)(e.useCartoon))try{return{assetMode:(0,t.castAsAssetMode)(e.assetMode),sceneWordLengthThreshold:(0,t.castAsSceneWordLengthThreshold)(e.sceneWordLengthThreshold),useGetty:e.useGetty,useCartoon:e.useCartoon}}catch(n){(0,i.updateCastingError)(r,n)}if((0,h.isObject)(e)&&"assetMode"in e&&"sceneWordLengthThreshold"in e&&(0,h.isObject)(e.sceneWordLengthThreshold)&&"useGetty"in e&&(0,h.isBoolean)(e.useGetty)&&!("useCartoon"in e))try{return{assetMode:(0,t.castAsAssetMode)(e.assetMode),sceneWordLengthThreshold:(0,t.castAsSceneWordLengthThreshold)(e.sceneWordLengthThreshold),useGetty:e.useGetty,useCartoon:!1}}catch(n){(0,i.updateCastingError)(r,n)}if((0,h.isObject)(e)&&"assetMode"in e&&"sceneWordLengthThreshold"in e&&(0,h.isObject)(e.sceneWordLengthThreshold)&&!("useGetty"in e)&&!("useCartoon"in e))try{return{assetMode:(0,t.castAsAssetMode)(e.assetMode),sceneWordLengthThreshold:(0,t.castAsSceneWordLengthThreshold)(e.sceneWordLengthThreshold),useGetty:!1,useCartoon:!1}}catch(n){(0,i.updateCastingError)(r,n)}throw r};t.castAsBackgroundData=function(e){var r=(0,i.newCastingError)("BackgroundData",e);if((0,h.isObject)(e)&&"config"in e)try{return{config:(0,t.castAsBackgroundDataConfig)(e.config)}}catch(n){(0,i.updateCastingError)(r,n)}throw r};t.castAsVideoUploadData=function(e){var t=(0,i.newCastingError)("VideoUploadData",e);if((0,h.isObject)(e)&&"storageFileId"in e&&(0,h.isOptionalString)(e.storageFileId))return{storageFileId:e.storageFileId};throw t};t.castAsMusicInfo=function(e){var t=(0,i.newCastingError)("MusicInfo",e);if((0,h.isObject)(e)&&"title"in e&&(0,h.isOptionalString)(e.title)&&"artist"in e&&(0,h.isOptionalString)(e.artist)&&"licenseUrl"in e&&(0,h.isOptionalString)(e.licenseUrl))return{title:(0,h.castAsTypedOptional)(e.title,h.castAsString),artist:(0,h.castAsTypedOptional)(e.artist,h.castAsString),licenseUrl:(0,h.castAsTypedOptional)(e.licenseUrl,h.castAsString)};throw t};t.castAsMusicData=function(e){var r=(0,i.newCastingError)("MusicData",e);if((0,h.isObject)(e)&&"musicInfo"in e&&"musicAssetReference"in e)try{return{musicInfo:(0,t.castAsMusicInfo)(e.musicInfo),musicAssetReference:(0,s.castAsMusicAssetReference)(e.musicAssetReference)}}catch(f){(0,i.updateCastingError)(r,f)}if((0,h.isObject)(e)&&"musicInfo"in e&&"musicAsset"in e&&(0,h.isObject)(e.musicAsset)&&"source"in e.musicAsset&&"volume"in e.musicAsset&&"thumbnailAsset"in e.musicAsset)try{var n=(0,l.castAsAssetSource)(e.musicAsset.source),o=function(){if((0,h.isObject)(e.musicAsset.thumbnailAsset)&&"source"in e.musicAsset.thumbnailAsset)try{return(0,l.castAsAssetSource)(e.musicAsset.thumbnailAsset.source)}catch(t){return null}return null}(),u=(0,h.castAsNumber)(e.musicAsset.volume),c=function(){var t;if(n.publicUrl)return{type:s.AssetLocatorType.URL,url:n.publicUrl,thumbUrl:null!==(t=null===o||void 0===o?void 0:o.publicUrl)&&void 0!==t?t:null};if(n.storageFileSource)return{type:s.AssetLocatorType.STORAGE,storageScope:{type:d.WorkspaceStorageScopeType.GLOBAL},storageFileId:n.storageFileSource.storageFileId};throw(0,i.newCastingError)("DEPRECATED_MusicData.musicAsset",e.musicAsset)}();return{musicInfo:(0,t.castAsMusicInfo)(e.musicInfo),musicAssetReference:{refId:(0,a.generateRandomAsciiStr)({length:7}),locator:c,volume:u}}}catch(f){(0,i.updateCastingError)(r,f)}throw r};t.castAsProjectwideGenerationInput=function(e){var r=(0,i.newCastingError)("ProjectwideGenerationInput",e);if((0,h.isObject)(e)&&"voice"in e&&"background"in e&&"aspectRatio"in e)try{return{voice:(0,f.castAsVoiceData)(e.voice),background:(0,t.castAsBackgroundData)(e.background),aspectRatio:(0,l.castAsAspectRatio)(e.aspectRatio)}}catch(n){(0,i.updateCastingError)(r,n)}throw r};t.castAsGenerator=function(e){var r=(0,i.newCastingError)("Generator",e);if((0,h.isObject)(e)&&"block"in e&&"background"in e&&"music"in e&&"voice"in e&&"captionStyle"in e&&"inputStorageFileLocators"in e&&"lastProjectwideGenerationInput"in e)try{return{block:(0,u.castAsBlock)(e.block),background:(0,t.castAsBackgroundData)(e.background),music:(0,h.castAsTypedOptional)(e.music,t.castAsMusicData),voice:(0,f.castAsVoiceData)(e.voice),captionStyle:(0,c.castAsCaptionStyleData)(e.captionStyle),inputStorageFileLocators:(0,h.castAsTypedArray)(e.inputStorageFileLocators,d.castAsWorkspaceStorageFileLocator),lastProjectwideGenerationInput:(0,h.castAsTypedOptional)(e.lastProjectwideGenerationInput,t.castAsProjectwideGenerationInput)}}catch(v){(0,i.updateCastingError)(r,v)}if((0,h.isObject)(e)&&"block"in e&&"background"in e&&"music"in e&&"voice"in e&&"captionStyle"in e&&!("inputStorageFileLocators"in e)&&"lastProjectwideGenerationInput"in e)try{return{block:(0,u.castAsBlock)(e.block),background:(0,t.castAsBackgroundData)(e.background),music:(0,h.castAsTypedOptional)(e.music,t.castAsMusicData),voice:(0,f.castAsVoiceData)(e.voice),captionStyle:(0,c.castAsCaptionStyleData)(e.captionStyle),inputStorageFileLocators:[],lastProjectwideGenerationInput:(0,h.castAsTypedOptional)(e.lastProjectwideGenerationInput,t.castAsProjectwideGenerationInput)}}catch(v){(0,i.updateCastingError)(r,v)}if((0,h.isObject)(e)&&"preGenerator"in e&&"isPreGeneratorOpen"in e&&(0,h.isBoolean)(e.isPreGeneratorOpen)&&"block"in e&&"background"in e&&"music"in e&&"voice"in e&&"captionStyle"in e&&!("inputStorageFileLocators"in e)&&"lastGeneratedBackground"in e&&"lastGeneratedAspectRatio"in e&&!("lastProjectwideGenerationInput"in e))try{var n=(0,f.castAsVoiceData)(e.voice),a=(0,h.castAsTypedOptional)(e.lastGeneratedBackground,t.castAsBackgroundData),s=(0,h.castAsTypedOptional)(e.lastGeneratedAspectRatio,l.castAsAspectRatio);return{block:(0,u.castAsBlock)(e.block),background:(0,t.castAsBackgroundData)(e.background),music:(0,h.castAsTypedOptional)(e.music,t.castAsMusicData),voice:n,captionStyle:(0,c.castAsCaptionStyleData)(e.captionStyle),inputStorageFileLocators:[],lastProjectwideGenerationInput:null==a||null==s?null:{voice:n,background:a,aspectRatio:s}}}catch(v){(0,i.updateCastingError)(r,v)}if((0,h.isObject)(e)&&"preGenerator"in e&&"isPreGeneratorOpen"in e&&(0,h.isBoolean)(e.isPreGeneratorOpen)&&"block"in e&&"background"in e&&"music"in e&&"voice"in e&&"captionStyle"in e&&!("inputStorageFileLocators"in e)&&!("lastGeneratedBackground"in e)&&!("lastGeneratedAspectRatio"in e)&&!("lastProjectwideGenerationInput"in e))try{return{block:(0,u.castAsBlock)(e.block),background:(0,t.castAsBackgroundData)(e.background),music:(0,h.castAsTypedOptional)(e.music,t.castAsMusicData),voice:(0,f.castAsVoiceData)(e.voice),captionStyle:(0,c.castAsCaptionStyleData)(e.captionStyle),inputStorageFileLocators:[],lastProjectwideGenerationInput:null}}catch(v){(0,i.updateCastingError)(r,v)}if((0,h.isObject)(e)&&"preGenerator"in e&&"isPreGeneratorOpen"in e&&(0,h.isBoolean)(e.isPreGeneratorOpen)&&"script"in e&&!("block"in e)&&"background"in e&&"music"in e&&"voice"in e&&"captionStyle"in e&&!("inputStorageFileLocators"in e)&&!("lastGeneratedBackground"in e)&&!("lastGeneratedAspectRatio"in e)&&!("lastProjectwideGenerationInput"in e))try{var p=(0,t.castAsScriptData)(e.script);return{block:{type:u.BlockType.TEXT_TO_VIDEO,blockId:(0,o.generateUuid)(),draftText:p.text,generatedScriptElements:null,backgroundVisualAssetReferences:null},background:(0,t.castAsBackgroundData)(e.background),music:(0,h.castAsTypedOptional)(e.music,t.castAsMusicData),voice:(0,f.castAsVoiceData)(e.voice),captionStyle:(0,c.castAsCaptionStyleData)(e.captionStyle),inputStorageFileLocators:[],lastProjectwideGenerationInput:null}}catch(v){(0,i.updateCastingError)(r,v)}throw r}},12594:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsGettyChangeSetResponse=t.castAsGettyAssetChange=t.castAsWorkspaceGettyUsageInfo=t.castAsGettyAssetSource=t.castAsGettyAssetSubtype=t.GettyAssetSubtype=t.castAsGettyAsset=t.castAsGettyDownloadSize=t.castAsGettyAssetType=t.GettyAssetType=void 0;var n,i=r(34250),a=r(5447);!function(e){e.VIDEO="VIDEO"}(n||(t.GettyAssetType=n={}));t.castAsGettyAssetType=function(e){var t=(0,i.newCastingError)("GettyAssetType",e);if("VIDEO"===e)return n.VIDEO;throw t};t.castAsGettyDownloadSize=function(e){var t=(0,i.newCastingError)("GettyDownloadSize",e);if((0,a.isObject)(e)&&"name"in e&&(0,a.isString)(e.name)&&"width"in e&&(0,a.isNumber)(e.width)&&"height"in e&&(0,a.isNumber)(e.height)&&"bytes"in e&&(0,a.isNumber)(e.bytes))return{name:e.name,width:e.width,height:e.height,bytes:e.bytes};throw t};var o;t.castAsGettyAsset=function(e){var r=(0,i.newCastingError)("GettyAsset",e);if((0,a.isObject)(e)&&"assetType"in e&&"assetId"in e&&(0,a.isString)(e.assetId)&&"title"in e&&(0,a.isString)(e.title)&&"caption"in e&&(0,a.isString)(e.caption)&&"downloadSizes"in e&&"widthHeightRatio"in e&&(0,a.isNumber)(e.widthHeightRatio)&&"duration"in e&&(0,a.isNumber)(e.duration)&&"primaryUrl"in e&&(0,a.isString)(e.primaryUrl)&&"primaryFileExtension"in e&&(0,a.isString)(e.primaryFileExtension)&&"thumbnailUrl"in e&&(0,a.isString)(e.thumbnailUrl)&&"thumbnailFileExtension"in e&&(0,a.isString)(e.thumbnailFileExtension)&&"artist"in e&&(0,a.isOptionalString)(e.artist))try{return{assetType:(0,t.castAsGettyAssetType)(e.assetType),assetId:e.assetId,title:e.title,caption:e.caption,downloadSizes:(0,a.castAsTypedArray)(e.downloadSizes,t.castAsGettyDownloadSize),widthHeightRatio:e.widthHeightRatio,duration:e.duration,primaryUrl:e.primaryUrl,primaryFileExtension:e.primaryFileExtension,thumbnailUrl:e.thumbnailUrl,thumbnailFileExtension:e.thumbnailFileExtension,artist:e.artist}}catch(n){(0,i.updateCastingError)(r,n)}throw r},function(e){e.PRIMARY="PRIMARY",e.THUMBNAIL="THUMBNAIL"}(o||(t.GettyAssetSubtype=o={}));t.castAsGettyAssetSubtype=function(e){var t=(0,i.newCastingError)("GettyAssetSubtype",e);if("PRIMARY"===e)return o.PRIMARY;if("THUMBNAIL"===e)return o.THUMBNAIL;throw t};t.castAsGettyAssetSource=function(e){var r=(0,i.newCastingError)("GettyAssetSource",e);if((0,a.isObject)(e)&&"assetType"in e&&"assetId"in e&&(0,a.isString)(e.assetId)&&"assetSubtype"in e&&"subtypeUrl"in e&&(0,a.isString)(e.subtypeUrl)&&"subtypeFileExtension"in e&&(0,a.isString)(e.subtypeFileExtension))try{return{assetType:(0,t.castAsGettyAssetType)(e.assetType),assetId:e.assetId,assetSubtype:(0,t.castAsGettyAssetSubtype)(e.assetSubtype),subtypeUrl:e.subtypeUrl,subtypeFileExtension:e.subtypeFileExtension}}catch(n){(0,i.updateCastingError)(r,n)}throw r};t.castAsWorkspaceGettyUsageInfo=function(e){var t=(0,i.newCastingError)("WorkspaceGettyUsageInfo",e);if((0,a.isObject)(e)&&"workspaceId"in e&&(0,a.isString)(e.workspaceId)&&"assetIdDownloadSseRecord"in e)try{return{workspaceId:e.workspaceId,assetIdDownloadSseRecord:(0,a.castAsTypedPartialRecord)(e.assetIdDownloadSseRecord,a.castAsString,a.castAsNumber)}}catch(r){(0,i.updateCastingError)(t,r)}throw t};t.castAsGettyAssetChange=function(e){var t=(0,i.newCastingError)("GettyAssetChange",e);if((0,a.isObject)(e)&&"asset_changed_utc_datetime"in e&&(0,a.isString)(e.asset_changed_utc_datetime)&&"asset_lifecycle"in e&&(0,a.isString)(e.asset_lifecycle)&&"asset_type"in e&&(0,a.isString)(e.asset_type)&&"id"in e&&(0,a.isString)(e.id)&&"uri"in e&&(0,a.isString)(e.uri))try{return{asset_changed_utc_datetime:e.asset_changed_utc_datetime,asset_lifecycle:e.asset_lifecycle,asset_type:e.asset_type,id:e.id,uri:e.uri}}catch(r){(0,i.updateCastingError)(t,r)}throw t};t.castAsGettyChangeSetResponse=function(e){var r=(0,i.newCastingError)("GettyChangeSetResponse",e);if((0,a.isObject)(e)&&"change_set_id"in e&&(0,a.isString)(e.change_set_id)&&"changed_assets"in e)try{return{change_set_id:e.change_set_id,changed_assets:(0,a.castAsTypedArray)(e.changed_assets,t.castAsGettyAssetChange)}}catch(n){(0,i.updateCastingError)(r,n)}throw r}},98850:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsGroupIdentifierNumberRecord=t.castAsGroupIdentifier=t.GroupIdentifier=void 0;var n,i=r(34250),a=r(77911),o=r(5447);!function(e){e.KNN="KNN",e.MLP="MLP",e.SVM="SVM",e.RNN="RNN",e.CNN="CNN",e.LSTM="LSTM",e.GAN="GAN",e.VAE="VAE",e.DQN="DQN",e.GPT="GPT"}(n||(t.GroupIdentifier=n={}));t.castAsGroupIdentifier=function(e){var t=(0,i.newCastingError)("GroupIdentifier",e);if("KNN"===e)return n.KNN;if("MLP"===e)return n.MLP;if("SVM"===e)return n.SVM;if("RNN"===e)return n.RNN;if("CNN"===e)return n.CNN;if("LSTM"===e)return n.LSTM;if("GAN"===e)return n.GAN;if("VAE"===e)return n.VAE;if("DQN"===e)return n.DQN;if("GPT"===e)return n.GPT;throw t};t.castAsGroupIdentifierNumberRecord=function(e){var t=(0,i.newCastingError)("GroupIdentifierNumberRecord",e);try{return(0,o.castAsTypedRecord)(e,(0,a.generateRandomGroupIdentifierNumberRecord)(),o.castAsNumber)}catch(r){(0,i.updateCastingError)(t,r)}throw t}},24887:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsJob=t.castAsGenerateJob=t.castAsExportJob=t.castAsMarkableJobMetadataKey=t.castAsJobMetadata=t.castAsJobAttemptProgress=t.castAsJobInput=t.castAsGenerateJobInput=t.castAsExportJobInput=t.castAsJobType=t.JobType=void 0;var n,i=r(34250),a=r(15109),o=r(42172),s=r(98468),u=r(75174),c=r(8280),l=r(2071),d=r(90152),f=r(76951),h=r(2421),p=r(5447);!function(e){e.EXPORT="EXPORT",e.GENERATE="GENERATE"}(n||(t.JobType=n={}));t.castAsJobType=function(e){var t=(0,i.newCastingError)("JobType",e);if("EXPORT"===e)return n.EXPORT;if("GENERATE"===e)return n.GENERATE;throw t};t.castAsExportJobInput=function(e){var t=(0,i.newCastingError)("ExportJobInput",e);if((0,p.isObject)(e)&&"type"in e&&e.type===n.EXPORT&&"storageIdFileRecord"in e&&"stockVisualAssetMetadataStore"in e&&"project"in e&&"minDimensionPixels"in e&&(0,p.isNumber)(e.minDimensionPixels)&&"foregroundDataUrls"in e&&"exportId"in e&&(0,p.isString)(e.exportId))try{return{type:e.type,storageIdFileRecord:(0,d.castAsWorkspaceStorageIdFileRecord)(e.storageIdFileRecord),stockVisualAssetMetadataStore:(0,o.castAsStockVisualAssetMetadataStore)(e.stockVisualAssetMetadataStore),project:(0,l.castAsProject)(e.project),minDimensionPixels:e.minDimensionPixels,foregroundDataUrls:(0,p.castAsTypedArray)(e.foregroundDataUrls,(function(e){return(0,p.castAsTypedOptional)(e,p.castAsString)})),exportId:e.exportId}}catch(r){(0,i.updateCastingError)(t,r)}if((0,p.isObject)(e)&&"type"in e&&e.type===n.EXPORT&&"storageIdFileRecord"in e&&"stockVisualAssetMetadataStore"in e&&"project"in e&&"minDimensionPixels"in e&&(0,p.isNumber)(e.minDimensionPixels)&&!("foregroundDataUrls"in e)&&"exportId"in e&&(0,p.isString)(e.exportId))try{return{type:e.type,storageIdFileRecord:(0,d.castAsWorkspaceStorageIdFileRecord)(e.storageIdFileRecord),stockVisualAssetMetadataStore:(0,o.castAsStockVisualAssetMetadataStore)(e.stockVisualAssetMetadataStore),project:(0,l.castAsProject)(e.project),minDimensionPixels:e.minDimensionPixels,foregroundDataUrls:[],exportId:e.exportId}}catch(r){(0,i.updateCastingError)(t,r)}if((0,p.isObject)(e)&&"type"in e&&e.type===n.EXPORT&&"storageIdFileRecord"in e&&"stockVisualAssetMetadataStore"in e&&"project"in e&&"heightPixels"in e&&(0,p.isNumber)(e.heightPixels)&&!("minDimensionPixels"in e)&&!("foregroundDataUrls"in e)&&"exportId"in e&&(0,p.isString)(e.exportId))try{return{type:e.type,storageIdFileRecord:(0,d.castAsWorkspaceStorageIdFileRecord)(e.storageIdFileRecord),stockVisualAssetMetadataStore:(0,o.castAsStockVisualAssetMetadataStore)(e.stockVisualAssetMetadataStore),project:(0,l.castAsProject)(e.project),minDimensionPixels:e.heightPixels,foregroundDataUrls:[],exportId:e.exportId}}catch(r){(0,i.updateCastingError)(t,r)}if((0,p.isObject)(e)&&"type"in e&&e.type===n.EXPORT&&"storageIdFileRecord"in e&&"stockVisualAssetMetadataStore"in e&&"project"in e&&"heightPixels"in e&&(0,p.isNumber)(e.heightPixels)&&!("minDimensionPixels"in e)&&!("foregroundDataUrls"in e)&&!("exportId"in e))try{return{type:e.type,storageIdFileRecord:(0,d.castAsWorkspaceStorageIdFileRecord)(e.storageIdFileRecord),stockVisualAssetMetadataStore:(0,o.castAsStockVisualAssetMetadataStore)(e.stockVisualAssetMetadataStore),project:(0,l.castAsProject)(e.project),minDimensionPixels:e.heightPixels,foregroundDataUrls:[],exportId:(0,a.generateExportId)()}}catch(r){(0,i.updateCastingError)(t,r)}throw t};t.castAsGenerateJobInput=function(e){var t=(0,i.newCastingError)("GenerateJobInput",e);if((0,p.isObject)(e)&&"type"in e&&e.type===n.GENERATE&&"defaultLanguageCode"in e&&"apiFileId"in e&&(0,p.isString)(e.apiFileId)&&"scriptText"in e&&(0,p.isString)(e.scriptText)&&"sceneWordLengthThreshold"in e&&"useGetty"in e&&(0,p.isBoolean)(e.useGetty)&&"aspectRatio"in e&&"ttsVoice"in e&&"voiceVolume"in e&&(0,p.isNumber)(e.voiceVolume)&&"pronunciationReplacements"in e&&"captionStyle"in e&&"musicAssetReference"in e&&"minDimensionPixels"in e&&(0,p.isNumber)(e.minDimensionPixels))try{return{type:e.type,defaultLanguageCode:(0,f.castAsDetectLanguageLanguageCode)(e.defaultLanguageCode),apiFileId:e.apiFileId,scriptText:e.scriptText,sceneWordLengthThreshold:(0,u.castAsSceneWordLengthThreshold)(e.sceneWordLengthThreshold),useGetty:e.useGetty,aspectRatio:(0,l.castAsAspectRatio)(e.aspectRatio),ttsVoice:(0,h.castAsTtsVoice)(e.ttsVoice),voiceVolume:e.voiceVolume,pronunciationReplacements:(0,p.castAsTypedArray)(e.pronunciationReplacements,h.castAsPronunciationReplacement),musicAssetReference:(0,p.castAsTypedOptional)(e.musicAssetReference,o.castAsMusicAssetReference),captionStyle:(0,s.castAsCaptionStyleData)(e.captionStyle),minDimensionPixels:e.minDimensionPixels}}catch(r){(0,i.updateCastingError)(t,r)}if((0,p.isObject)(e)&&"type"in e&&e.type===n.GENERATE&&"defaultLanguageCode"in e&&"apiFileId"in e&&(0,p.isString)(e.apiFileId)&&"scriptText"in e&&(0,p.isString)(e.scriptText)&&"sceneWordLengthThreshold"in e&&"useGetty"in e&&(0,p.isBoolean)(e.useGetty)&&"aspectRatio"in e&&"ttsVoice"in e&&"voiceVolume"in e&&(0,p.isNumber)(e.voiceVolume)&&"pronunciationReplacements"in e&&"captionStyle"in e&&"musicAssetReference"in e&&"heightPixels"in e&&(0,p.isNumber)(e.heightPixels)&&!("minDimensionPixels"in e))try{return{type:e.type,defaultLanguageCode:(0,f.castAsDetectLanguageLanguageCode)(e.defaultLanguageCode),apiFileId:e.apiFileId,scriptText:e.scriptText,sceneWordLengthThreshold:(0,u.castAsSceneWordLengthThreshold)(e.sceneWordLengthThreshold),useGetty:e.useGetty,aspectRatio:(0,l.castAsAspectRatio)(e.aspectRatio),ttsVoice:(0,h.castAsTtsVoice)(e.ttsVoice),voiceVolume:e.voiceVolume,pronunciationReplacements:(0,p.castAsTypedArray)(e.pronunciationReplacements,h.castAsPronunciationReplacement),musicAssetReference:(0,p.castAsTypedOptional)(e.musicAssetReference,o.castAsMusicAssetReference),captionStyle:(0,s.castAsCaptionStyleData)(e.captionStyle),minDimensionPixels:e.heightPixels}}catch(r){(0,i.updateCastingError)(t,r)}throw t};t.castAsJobInput=function(e){var r=(0,i.newCastingError)("JobInput",e);try{return(0,t.castAsExportJobInput)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsGenerateJobInput)(e)}catch(n){(0,i.updateCastingError)(r,n)}throw r};t.castAsJobAttemptProgress=function(e){var t=(0,i.newCastingError)("JobAttemptProgress",e);if((0,p.isObject)(e)&&"attemptIndex"in e&&(0,p.isNumber)(e.attemptIndex)&&"startSse"in e&&(0,p.isNumber)(e.startSse)&&"lastUpdateSse"in e&&(0,p.isNumber)(e.lastUpdateSse)&&"endSse"in e&&(0,p.isOptionalNumber)(e.endSse)&&"progressPercentage"in e&&"errorDisplayMessage"in e&&(0,p.isOptionalString)(e.errorDisplayMessage))try{return{attemptIndex:e.attemptIndex,startSse:e.startSse,lastUpdateSse:e.lastUpdateSse,endSse:e.endSse,progressPercentage:(0,c.castAsPercentage)(e.progressPercentage),errorDisplayMessage:e.errorDisplayMessage}}catch(r){(0,i.updateCastingError)(t,r)}throw t};t.castAsJobMetadata=function(e){var r=(0,i.newCastingError)("JobMetadata",e);if((0,p.isObject)(e)&&"jobId"in e&&(0,p.isString)(e.jobId)&&"initiationSse"in e&&(0,p.isNumber)(e.initiationSse)&&"latestAttemptProgress"in e&&"isCompletionHandled"in e&&(0,p.isBoolean)(e.isCompletionHandled)&&"isJobInputMissing"in e&&(0,p.isBoolean)(e.isJobInputMissing))try{return{jobId:e.jobId,initiationSse:e.initiationSse,latestAttemptProgress:(0,p.castAsTypedOptional)(e.latestAttemptProgress,t.castAsJobAttemptProgress),isCompletionHandled:e.isCompletionHandled,isJobInputMissing:e.isJobInputMissing}}catch(n){(0,i.updateCastingError)(r,n)}throw r};t.castAsMarkableJobMetadataKey=function(e){var t=(0,i.newCastingError)("MarkableJobMetadataKey",e);if("isCompletionHandled"===e||"isJobInputMissing"===e)return e;throw t};t.castAsExportJob=function(e){var r=(0,i.newCastingError)("ExportJob",e);if((0,p.isObject)(e)&&"type"in e&&e.type===n.EXPORT&&"metadata"in e&&"projectId"in e&&(0,p.isString)(e.projectId)&&"aspectRatio"in e&&"minDimensionPixels"in e&&(0,p.isNumber)(e.minDimensionPixels)&&"exportId"in e&&(0,p.isString)(e.exportId)&&"primaryHydratedExportUrl"in e&&"thumbnailHydratedExportUrl"in e&&"exportFileDisplayName"in e&&(0,p.isOptionalString)(e.exportFileDisplayName))try{return{type:e.type,metadata:(0,t.castAsJobMetadata)(e.metadata),projectId:e.projectId,aspectRatio:(0,l.castAsAspectRatio)(e.aspectRatio),minDimensionPixels:e.minDimensionPixels,exportUrl:null,exportId:e.exportId,primaryHydratedExportUrl:(0,p.castAsTypedOptional)(e.primaryHydratedExportUrl,d.castAsWorkspaceStorageHydratedUrl),thumbnailHydratedExportUrl:(0,p.castAsTypedOptional)(e.thumbnailHydratedExportUrl,d.castAsWorkspaceStorageHydratedUrl),exportFileDisplayName:e.exportFileDisplayName}}catch(o){(0,i.updateCastingError)(r,o)}if((0,p.isObject)(e)&&"type"in e&&e.type===n.EXPORT&&"metadata"in e&&"projectId"in e&&(0,p.isString)(e.projectId)&&"aspectRatio"in e&&"heightPixels"in e&&(0,p.isNumber)(e.heightPixels)&&!("minDimensionPixels"in e)&&"exportId"in e&&(0,p.isString)(e.exportId)&&"primaryHydratedExportUrl"in e&&"thumbnailHydratedExportUrl"in e&&"exportFileDisplayName"in e&&(0,p.isOptionalString)(e.exportFileDisplayName))try{return{type:e.type,metadata:(0,t.castAsJobMetadata)(e.metadata),projectId:e.projectId,aspectRatio:(0,l.castAsAspectRatio)(e.aspectRatio),minDimensionPixels:e.heightPixels,exportUrl:null,exportId:e.exportId,primaryHydratedExportUrl:(0,p.castAsTypedOptional)(e.primaryHydratedExportUrl,d.castAsWorkspaceStorageHydratedUrl),thumbnailHydratedExportUrl:(0,p.castAsTypedOptional)(e.thumbnailHydratedExportUrl,d.castAsWorkspaceStorageHydratedUrl),exportFileDisplayName:e.exportFileDisplayName}}catch(o){(0,i.updateCastingError)(r,o)}if((0,p.isObject)(e)&&"type"in e&&e.type===n.EXPORT&&"metadata"in e&&"projectId"in e&&(0,p.isString)(e.projectId)&&"aspectRatio"in e&&"heightPixels"in e&&(0,p.isNumber)(e.heightPixels)&&!("minDimensionPixels"in e)&&!("exportId"in e)&&!("primaryHydratedExportUrl"in e)&&!("thumbnailHydratedExportUrl"in e)&&!("exportFileDisplayName"in e))try{return{type:e.type,metadata:(0,t.castAsJobMetadata)(e.metadata),projectId:e.projectId,aspectRatio:(0,l.castAsAspectRatio)(e.aspectRatio),minDimensionPixels:e.heightPixels,exportUrl:null,exportId:(0,a.generateExportId)(),primaryHydratedExportUrl:null,thumbnailHydratedExportUrl:null,exportFileDisplayName:null}}catch(o){(0,i.updateCastingError)(r,o)}throw r};t.castAsGenerateJob=function(e){var r=(0,i.newCastingError)("GenerateJob",e);if((0,p.isObject)(e)&&"type"in e&&e.type===n.GENERATE&&"metadata"in e&&"apiFileId"in e&&(0,p.isString)(e.apiFileId)&&"apiFileSignedUrl"in e&&(0,p.isOptionalString)(e.apiFileSignedUrl))try{return{type:e.type,metadata:(0,t.castAsJobMetadata)(e.metadata),apiFileId:e.apiFileId,apiFileSignedUrl:e.apiFileSignedUrl}}catch(a){(0,i.updateCastingError)(r,a)}throw r};t.castAsJob=function(e){var r=(0,i.newCastingError)("Job",e);try{return(0,t.castAsExportJob)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsGenerateJob)(e)}catch(n){(0,i.updateCastingError)(r,n)}throw r}},6962:function(e,t,r){"use strict";var n=r(42122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.castAsCoreLibraryAssetSource=t.castAsLibraryInputFile=t.castAsLibraryInputFileExecutionSummary=t.castAsLibraryInputFileExecutionType=t.LibraryInputFileExecutionType=t.castAsLibraryRecordInput=t.castAsLibraryRecordGettyInput=t.castAsLibraryRecordPexelsInput=t.castAsLibraryProviderName=t.LibraryProviderName=t.castAsGettyLibraryRecordRawMetadata=t.castAsGettyLibraryRecordMetadata=t.castAsCoreLibraryRecordRawMetadata=t.castAsCoreLibraryRecordMetadata=t.castAsLibraryRecordSource=t.castAsGettyLibraryRecordSource=t.GettyLibraryRecordSource=t.castAsCoreLibraryRecordSource=t.CoreLibraryRecordSource=t.castAsLibraryType=t.LibraryType=t.castAsLibraryRecordAssetSubtype=t.LibraryRecordAssetSubtype=t.castAsLibraryRecordType=t.LibraryRecordType=void 0;var i,a=r(34250),o=r(42172),s=r(12594),u=r(5447);!function(e){e.VIDEO="VIDEO"}(i||(t.LibraryRecordType=i={}));var c;t.castAsLibraryRecordType=function(e){var t=(0,a.newCastingError)("LibraryRecordType",e);if("VIDEO"===e)return e;throw t},function(e){e.PRIMARY="PRIMARY",e.THUMBNAIL="THUMBNAIL"}(c||(t.LibraryRecordAssetSubtype=c={}));var l;t.castAsLibraryRecordAssetSubtype=function(e){var t=(0,a.newCastingError)("LibraryRecordAssetSubtype",e);if("PRIMARY"===e)return c.PRIMARY;if("THUMBNAIL"===e)return c.THUMBNAIL;throw t},function(e){e.CORE="CORE",e.GETTY="GETTY"}(l||(t.LibraryType=l={}));var d;t.castAsLibraryType=function(e){var t=(0,a.newCastingError)("LibraryType",e);if("CORE"===e)return l.CORE;if("GETTY"===e)return l.GETTY;throw t},function(e){e.PEXELS_BLIP_ALT_TEXT="PEXELS_BLIP_ALT_TEXT",e.PEXELS_GPT_4_VISION="PEXELS_GPT_4_VISION",e.PEXELS_VERTEX_AI_IMAGE_TEXT="PEXELS_VERTEX_AI_IMAGE_TEXT",e.PEXELS_GEMINI_VISION="PEXELS_GEMINI_VISION",e.PEXELS_GEMINI_VISION_STATIC="PEXELS_GEMINI_VISION_STATIC"}(d||(t.CoreLibraryRecordSource=d={}));var f;t.castAsCoreLibraryRecordSource=function(e){var t=(0,a.newCastingError)("CoreLibraryRecordSource",e);if("PEXELS_BLIP_ALT_TEXT"===e)return d.PEXELS_BLIP_ALT_TEXT;if("PEXELS_GPT_4_VISION"===e)return d.PEXELS_GPT_4_VISION;if("PEXELS_VERTEX_AI_IMAGE_TEXT"===e)return d.PEXELS_VERTEX_AI_IMAGE_TEXT;if("PEXELS_GEMINI_VISION"===e)return d.PEXELS_GEMINI_VISION;if("PEXELS_GEMINI_VISION_STATIC"===e)return d.PEXELS_GEMINI_VISION_STATIC;throw t},function(e){e.GETTY_TITLE_CAPTION="GETTY_TITLE_CAPTION",e.GETTY_GEN_TEXT="GETTY_GEN_TEXT"}(f||(t.GettyLibraryRecordSource=f={}));t.castAsGettyLibraryRecordSource=function(e){var t=(0,a.newCastingError)("GettyLibraryRecordSource",e);if("GETTY_TITLE_CAPTION"===e)return f.GETTY_TITLE_CAPTION;throw t};t.castAsLibraryRecordSource=function(e){var r=(0,a.newCastingError)("LibraryRecordSource",e);try{return(0,t.castAsCoreLibraryRecordSource)(e)}catch(n){(0,a.updateCastingError)(r,n)}try{return(0,t.castAsGettyLibraryRecordSource)(e)}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsCoreLibraryRecordMetadata=function(e){var r=(0,a.newCastingError)("CoreLibraryRecordMetadata",e);if((0,u.isObject)(e)&&"libraryType"in e&&e.libraryType===l.CORE&&"recordId"in e&&(0,u.isString)(e.recordId)&&"type"in e&&"upsertionSecondsSinceEpoch"in e&&(0,u.isNumber)(e.upsertionSecondsSinceEpoch)&&"text"in e&&(0,u.isString)(e.text)&&"availablePrimarySizes"in e&&"availableThumbnailSizes"in e&&"widthHeightRatio"in e&&(0,u.isNumber)(e.widthHeightRatio)&&"duration"in e&&(0,u.isNumber)(e.duration)&&"recordSource"in e&&"pexelsVideoId"in e&&(0,u.isOptionalString)(e.pexelsVideoId)&&"creatorName"in e&&(0,u.isOptionalString)(e.creatorName)&&"creatorUrl"in e&&(0,u.isOptionalString)(e.creatorUrl))try{return n(n({libraryType:e.libraryType,recordId:e.recordId,type:(0,t.castAsLibraryRecordType)(e.type),upsertionSecondsSinceEpoch:e.upsertionSecondsSinceEpoch,text:e.text},(0,u.getOmittableObjectEntry)(e,"isBlocked",u.castAsBoolean)),{},{availablePrimarySizes:(0,u.castAsTypedArray)(e.availablePrimarySizes,o.castAsSize),availableThumbnailSizes:(0,u.castAsTypedArray)(e.availableThumbnailSizes,o.castAsSize),widthHeightRatio:e.widthHeightRatio,duration:e.duration,recordSource:(0,t.castAsCoreLibraryRecordSource)(e.recordSource),pexelsVideoId:e.pexelsVideoId,creatorName:e.creatorName,creatorUrl:e.creatorUrl})}catch(i){(0,a.updateCastingError)(r,i)}throw r};t.castAsCoreLibraryRecordRawMetadata=function(e){var r=(0,a.newCastingError)("CoreLibraryRecordRawMetadata",e);if((0,u.isObject)(e)&&"recordId"in e&&(0,u.isString)(e.recordId)&&"type"in e&&"upsertionSecondsSinceEpoch"in e&&(0,u.isNumber)(e.upsertionSecondsSinceEpoch)&&"text"in e&&(0,u.isString)(e.text)&&"availablePrimarySizes"in e&&(0,u.isTypedArray)(e.availablePrimarySizes,u.isString)&&"availableThumbnailSizes"in e&&(0,u.isTypedArray)(e.availableThumbnailSizes,u.isString)&&"widthHeightRatio"in e&&(0,u.isNumber)(e.widthHeightRatio)&&"duration"in e&&(0,u.isNumber)(e.duration)&&"recordSource"in e&&"pexelsVideoId"in e&&(0,u.isString)(e.pexelsVideoId)&&"creatorName"in e&&(0,u.isString)(e.creatorName)&&"creatorUrl"in e&&(0,u.isString)(e.creatorUrl))try{return n(n({recordId:e.recordId,type:(0,t.castAsLibraryRecordType)(e.type),upsertionSecondsSinceEpoch:e.upsertionSecondsSinceEpoch,text:e.text},(0,u.getOmittableObjectEntry)(e,"isBlocked",u.castAsBoolean)),{},{availablePrimarySizes:e.availablePrimarySizes,availableThumbnailSizes:e.availableThumbnailSizes,widthHeightRatio:e.widthHeightRatio,duration:e.duration,recordSource:(0,t.castAsCoreLibraryRecordSource)(e.recordSource),pexelsVideoId:e.pexelsVideoId,creatorName:e.creatorName,creatorUrl:e.creatorUrl})}catch(i){(0,a.updateCastingError)(r,i)}throw r};t.castAsGettyLibraryRecordMetadata=function(e){var r=(0,a.newCastingError)("GettyLibraryRecordMetadata",e);if((0,u.isObject)(e)&&"libraryType"in e&&e.libraryType===l.GETTY&&"recordId"in e&&(0,u.isString)(e.recordId)&&"type"in e&&"upsertionSecondsSinceEpoch"in e&&(0,u.isNumber)(e.upsertionSecondsSinceEpoch)&&"title"in e&&(0,u.isString)(e.title)&&"caption"in e&&(0,u.isString)(e.caption)&&"genText"in e&&(0,u.isString)(e.genText)&&"downloadSizes"in e&&"widthHeightRatio"in e&&(0,u.isNumber)(e.widthHeightRatio)&&"duration"in e&&(0,u.isNumber)(e.duration)&&"recordSource"in e&&"assetId"in e&&(0,u.isString)(e.assetId)&&"primarySlug"in e&&(0,u.isString)(e.primarySlug)&&"thumbnailSlug"in e&&(0,u.isString)(e.thumbnailSlug)&&"artist"in e&&(0,u.isOptionalString)(e.artist))try{return n(n({libraryType:e.libraryType,recordId:e.recordId,type:(0,s.castAsGettyAssetType)(e.type),upsertionSecondsSinceEpoch:e.upsertionSecondsSinceEpoch,title:e.title,caption:e.caption,genText:e.genText},(0,u.getOmittableObjectEntry)(e,"isBlocked",u.castAsBoolean)),{},{downloadSizes:(0,u.castAsTypedArray)(e.downloadSizes,s.castAsGettyDownloadSize),widthHeightRatio:e.widthHeightRatio,duration:e.duration,recordSource:(0,t.castAsGettyLibraryRecordSource)(e.recordSource),assetId:e.assetId,primarySlug:e.primarySlug,thumbnailSlug:e.thumbnailSlug,artist:e.artist},(0,u.getOmittableObjectEntry)(e,"isDeleted",u.castAsBoolean))}catch(i){(0,a.updateCastingError)(r,i)}if((0,u.isObject)(e)&&!("libraryType"in e)&&"recordId"in e&&(0,u.isString)(e.recordId)&&"type"in e&&"upsertionSecondsSinceEpoch"in e&&(0,u.isNumber)(e.upsertionSecondsSinceEpoch)&&"title"in e&&(0,u.isString)(e.title)&&"caption"in e&&(0,u.isString)(e.caption)&&"genText"in e&&(0,u.isString)(e.genText)&&"downloadSizes"in e&&"widthHeightRatio"in e&&(0,u.isNumber)(e.widthHeightRatio)&&"duration"in e&&(0,u.isNumber)(e.duration)&&"recordSource"in e&&"assetId"in e&&(0,u.isString)(e.assetId)&&"primarySlug"in e&&(0,u.isString)(e.primarySlug)&&"thumbnailSlug"in e&&(0,u.isString)(e.thumbnailSlug)&&"artist"in e&&(0,u.isOptionalString)(e.artist))try{return{libraryType:l.GETTY,recordId:e.recordId,type:(0,s.castAsGettyAssetType)(e.type),upsertionSecondsSinceEpoch:e.upsertionSecondsSinceEpoch,title:e.title,caption:e.caption,genText:e.genText,downloadSizes:(0,u.castAsTypedArray)(e.downloadSizes,s.castAsGettyDownloadSize),widthHeightRatio:e.widthHeightRatio,duration:e.duration,recordSource:(0,t.castAsGettyLibraryRecordSource)(e.recordSource),assetId:e.assetId,primarySlug:e.primarySlug,thumbnailSlug:e.thumbnailSlug,artist:e.artist}}catch(i){(0,a.updateCastingError)(r,i)}throw r};var h;t.castAsGettyLibraryRecordRawMetadata=function(e){var r=(0,a.newCastingError)("GettyLibraryRecordRawMetadata",e);if((0,u.isObject)(e)&&"recordId"in e&&(0,u.isString)(e.recordId)&&"type"in e&&"upsertionSecondsSinceEpoch"in e&&(0,u.isNumber)(e.upsertionSecondsSinceEpoch)&&"title"in e&&(0,u.isString)(e.title)&&"caption"in e&&(0,u.isString)(e.caption)&&"genText"in e&&(0,u.isString)(e.genText)&&"downloadSizes"in e&&(0,u.isTypedArray)(e.downloadSizes,u.isString)&&"widthHeightRatio"in e&&(0,u.isNumber)(e.widthHeightRatio)&&"duration"in e&&(0,u.isNumber)(e.duration)&&"recordSource"in e&&"assetId"in e&&(0,u.isString)(e.assetId)&&"primarySlug"in e&&(0,u.isString)(e.primarySlug)&&"thumbnailSlug"in e&&(0,u.isString)(e.thumbnailSlug)&&"artist"in e&&(0,u.isString)(e.artist))try{return n(n({recordId:e.recordId,type:(0,s.castAsGettyAssetType)(e.type),upsertionSecondsSinceEpoch:e.upsertionSecondsSinceEpoch,title:e.title,caption:e.caption,genText:e.genText},(0,u.getOmittableObjectEntry)(e,"isBlocked",u.castAsBoolean)),{},{downloadSizes:e.downloadSizes,widthHeightRatio:e.widthHeightRatio,duration:e.duration,recordSource:(0,t.castAsGettyLibraryRecordSource)(e.recordSource),assetId:e.assetId,primarySlug:e.primarySlug,thumbnailSlug:e.thumbnailSlug,artist:e.artist},(0,u.getOmittableObjectEntry)(e,"isDeleted",u.castAsBoolean))}catch(i){(0,a.updateCastingError)(r,i)}throw r},function(e){e.PEXELS="PEXELS",e.GETTY="GETTY"}(h||(t.LibraryProviderName=h={}));t.castAsLibraryProviderName=function(e){var t=(0,a.newCastingError)("LibraryProviderName",e);if("PEXELS"===e)return h.PEXELS;if("GETTY"===e)return h.GETTY;throw t};t.castAsLibraryRecordPexelsInput=function(e){var t=(0,a.newCastingError)("LibraryRecordPexelsInput",e);if((0,u.isObject)(e)&&"providerName"in e&&e.providerName===h.PEXELS&&"sizes"in e&&"thumbnailSizes"in e&&"pexelsVideoId"in e&&(0,u.isString)(e.pexelsVideoId))return{providerName:e.providerName,sizes:(0,u.castAsTypedArray)(e.sizes,o.castAsSize),thumbnailSizes:(0,u.castAsTypedArray)(e.thumbnailSizes,o.castAsSize),pexelsVideoId:e.pexelsVideoId};throw t};t.castAsLibraryRecordGettyInput=function(e){var t=(0,a.newCastingError)("LibraryRecordGettyInput",e);if((0,u.isObject)(e)&&"providerName"in e&&e.providerName===h.GETTY&&"videoAssetId"in e&&(0,u.isString)(e.videoAssetId))return{providerName:e.providerName,videoAssetId:e.videoAssetId};throw t};var p;t.castAsLibraryRecordInput=function(e){var r=(0,a.newCastingError)("LibraryRecordInput",e);try{return(0,t.castAsLibraryRecordPexelsInput)(e)}catch(n){(0,a.updateCastingError)(r,n)}try{return(0,t.castAsLibraryRecordGettyInput)(e)}catch(n){(0,a.updateCastingError)(r,n)}throw r},function(e){e.UPSERTION="UPSERTION",e.DELETION="DELETION"}(p||(t.LibraryInputFileExecutionType=p={}));t.castAsLibraryInputFileExecutionType=function(e){var t=(0,a.newCastingError)("LibraryInputFileExecutionType",e);if("UPSERTION"===e)return p.UPSERTION;if("DELETION"===e)return p.DELETION;throw t};t.castAsLibraryInputFileExecutionSummary=function(e){var r=(0,a.newCastingError)("LibraryInputFileExecutionSummary",e);if((0,u.isObject)(e)&&"type"in e&&"numAttemptedInputs"in e&&(0,u.isNumber)(e.numAttemptedInputs)&&"numAttemptedInputsSucceeded"in e&&(0,u.isNumber)(e.numAttemptedInputsSucceeded)&&"numAttemptedInputsFailed"in e&&(0,u.isNumber)(e.numAttemptedInputsFailed)&&"processedAllInputs"in e&&(0,u.isBoolean)(e.processedAllInputs)&&"completionSecondsSinceEpoch"in e&&(0,u.isNumber)(e.completionSecondsSinceEpoch))try{return{type:(0,t.castAsLibraryInputFileExecutionType)(e.type),numAttemptedInputs:e.numAttemptedInputs,numAttemptedInputsSucceeded:e.numAttemptedInputsSucceeded,numAttemptedInputsFailed:e.numAttemptedInputsFailed,processedAllInputs:e.processedAllInputs,completionSecondsSinceEpoch:e.completionSecondsSinceEpoch}}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsLibraryInputFile=function(e){var r=(0,a.newCastingError)("LibraryInputFile",e);if((0,u.isObject)(e)&&"fileIndex"in e&&(0,u.isNumber)(e.fileIndex)&&"searchQuery"in e&&(0,u.isString)(e.searchQuery)&&"executionSummaries"in e&&"recordInputs"in e)try{return{fileIndex:e.fileIndex,searchQuery:e.searchQuery,executionSummaries:(0,u.castAsTypedArray)(e.executionSummaries,t.castAsLibraryInputFileExecutionSummary),recordInputs:(0,u.castAsTypedArray)(e.recordInputs,t.castAsLibraryRecordInput)}}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsCoreLibraryAssetSource=function(e){var r=(0,a.newCastingError)("CoreLibraryAssetSource",e);if((0,u.isObject)(e)&&"recordMetadata"in e&&"subtype"in e)try{return{recordMetadata:(0,t.castAsCoreLibraryRecordMetadata)(e.recordMetadata),subtype:(0,t.castAsLibraryRecordAssetSubtype)(e.subtype)}}catch(n){(0,a.updateCastingError)(r,n)}throw r}},19841:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsLoadingState=t.LoadingState=void 0;var n,i=r(34250);!function(e){e.UNATTEMPTED="UNATTEMPTED",e.LOADING="LOADING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(n||(t.LoadingState=n={}));t.castAsLoadingState=function(e){var t=(0,i.newCastingError)("LoadingState",e);if("UNATTEMPTED"===e)return n.UNATTEMPTED;if("LOADING"===e)return n.LOADING;if("FULFILLED"===e)return n.FULFILLED;if("REJECTED"===e)return n.REJECTED;throw t}},89439:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsLocalTesterCommand=t.castAsClaimFreeAccessPlanLocalTesterCommand=t.castAsFreeAccessUsageCreditsFullfillmentType=t.FreeAccessUsageCreditsFullfillmentType=t.castAsResetWorkspaceLocalTesterCommand=t.castAsLocalTesterCommandType=t.LocalTesterCommandType=void 0;var n,i=r(34250),a=r(5447),o=r(78436);!function(e){e.RESET_WORKSPACE="RESET_WORKSPACE",e.CLAIM_FREE_ACCESS_PLAN="CLAIM_FREE_ACCESS_PLAN"}(n||(t.LocalTesterCommandType=n={}));t.castAsLocalTesterCommandType=function(e){var t=(0,i.newCastingError)("LocalTesterCommandType",e);if("RESET_WORKSPACE"===e||"CLAIM_FREE_ACCESS_PLAN"===e)return e;throw t};var s;t.castAsResetWorkspaceLocalTesterCommand=function(e){var t=(0,i.newCastingError)("ResetWorkspaceLocalTesterCommand",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.RESET_WORKSPACE)return{type:e.type};throw t},function(e){e.FULL="FULL",e.ONE_EACH="ONE_EACH"}(s||(t.FreeAccessUsageCreditsFullfillmentType=s={}));t.castAsFreeAccessUsageCreditsFullfillmentType=function(e){var t=(0,i.newCastingError)("FreeAccessUsageCreditsFullfillmentType",e);if("FULL"===e||"ONE_EACH"===e)return e;throw t};t.castAsClaimFreeAccessPlanLocalTesterCommand=function(e){var r=(0,i.newCastingError)("ClaimFreeAccessPlanLocalTesterCommand",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.CLAIM_FREE_ACCESS_PLAN&&"creditsRefillSubscriptionType"in e&&"freeAccessUsageCreditsFullfillmentType"in e)return{type:e.type,creditsRefillSubscriptionType:(0,o.castAsSubscriptionType)(e.creditsRefillSubscriptionType),freeAccessUsageCreditsFullfillmentType:(0,t.castAsFreeAccessUsageCreditsFullfillmentType)(e.freeAccessUsageCreditsFullfillmentType)};throw r};t.castAsLocalTesterCommand=function(e){var r=(0,i.newCastingError)("LocalTesterCommand",e);try{return(0,t.castAsResetWorkspaceLocalTesterCommand)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsClaimFreeAccessPlanLocalTesterCommand)(e)}catch(n){(0,i.updateCastingError)(r,n)}throw r}},83531:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsManagerAction=t.castAsManagerActionOutput=t.castAsRefillWorkspaceCreditsManagerActionOutput=t.castAsGetWorkspaceInfoManagerActionOutput=t.castAsManagerActionInput=t.castAsRefillWorkspaceCreditsManagerActionInput=t.castAsGetWorkspaceInfoManagerActionInput=t.castAsManagerActionType=t.ManagerActionType=void 0;var n,i=r(34250),a=r(5447),o=r(27820);!function(e){e.GET_WORKSPACE_INFO="GET_WORKSPACE_INFO",e.REFILL_WORKSPACE_CREDITS="REFILL_WORKSPACE_CREDITS"}(n||(t.ManagerActionType=n={}));t.castAsManagerActionType=function(e){var t=(0,i.newCastingError)("ManagerActionType",e);if("GET_WORKSPACE_INFO"===e)return n.GET_WORKSPACE_INFO;if("REFILL_WORKSPACE_CREDITS"===e)return n.REFILL_WORKSPACE_CREDITS;throw t};t.castAsGetWorkspaceInfoManagerActionInput=function(e){var t=(0,i.newCastingError)("GetWorkspaceInfoManagerActionInput",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.GET_WORKSPACE_INFO&&"workspaceIdOrEmail"in e&&(0,a.isString)(e.workspaceIdOrEmail))return{type:e.type,workspaceIdOrEmail:e.workspaceIdOrEmail};throw t};t.castAsRefillWorkspaceCreditsManagerActionInput=function(e){var t=(0,i.newCastingError)("RefillWorkspaceCreditsManagerActionInput",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.REFILL_WORKSPACE_CREDITS&&"workspaceIdOrEmail"in e&&(0,a.isString)(e.workspaceIdOrEmail))return{type:e.type,workspaceIdOrEmail:e.workspaceIdOrEmail};throw t};t.castAsManagerActionInput=function(e){var r=(0,i.newCastingError)("ManagerActionInput",e);try{return(0,t.castAsGetWorkspaceInfoManagerActionInput)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsRefillWorkspaceCreditsManagerActionInput)(e)}catch(n){(0,i.updateCastingError)(r,n)}throw r};t.castAsGetWorkspaceInfoManagerActionOutput=function(e){var t=(0,i.newCastingError)("GetWorkspaceInfoManagerActionOutput",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.GET_WORKSPACE_INFO&&"workspaceInfo"in e)return{type:e.type,workspaceInfo:(0,o.castAsWorkspaceInfo)(e.workspaceInfo)};throw t};t.castAsRefillWorkspaceCreditsManagerActionOutput=function(e){var t=(0,i.newCastingError)("RefillWorkspaceCreditsManagerActionOutput",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.REFILL_WORKSPACE_CREDITS&&"workspaceInfo"in e)return{type:e.type,workspaceInfo:(0,o.castAsWorkspaceInfo)(e.workspaceInfo)};throw t};t.castAsManagerActionOutput=function(e){var r=(0,i.newCastingError)("ManagerActionOutput",e);try{return(0,t.castAsGetWorkspaceInfoManagerActionOutput)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsRefillWorkspaceCreditsManagerActionOutput)(e)}catch(n){(0,i.updateCastingError)(r,n)}throw r};t.castAsManagerAction=function(e){var r=(0,i.newCastingError)("ManagerAction",e);if((0,a.isObject)(e)&&"managerActionId"in e&&(0,a.isString)(e.managerActionId)&&"input"in e&&"output"in e)try{return{managerActionId:e.managerActionId,input:(0,t.castAsManagerActionInput)(e.input),output:(0,t.castAsManagerActionOutput)(e.output)}}catch(n){(0,i.updateCastingError)(r,n)}throw r}},8280:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsPercentage=t.castAsProportion=void 0;var n=r(34250),i=r(5447);t.castAsProportion=function(e){var t=(0,n.newCastingError)("Proportion",e);if((0,i.isNumber)(e)&&e>=0&&e<=1)return e;throw t};t.castAsPercentage=function(e){var t=(0,n.newCastingError)("Percentage",e);if((0,i.isNumber)(e)&&e>=0&&e<=100)return e;throw t}},95683:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsTextRankSummary=void 0;var n=r(34250),i=r(5447);t.castAsTextRankSummary=function(e){var t=(0,n.newCastingError)("TextRankSummary",e);if((0,i.isObject)(e)&&"text"in e&&(0,i.isString)(e.text)&&"sentences"in e&&(0,i.isTypedArray)(e.sentences,i.isString))return{text:e.text,sentences:e.sentences};throw t}},78436:function(e,t,r){"use strict";var n=r(42122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.castAsCheckoutSessionSummary=t.castAsElementsCheckoutSessionSummary=t.castAsHostedCheckoutSessionSummary=t.castAsCheckoutSessionType=t.CheckoutSessionType=t.castAsStripeAbandonedCartSummary=t.castAsPortalSessionFlowType=t.PortalSessionFlowType=t.castAsStripeSubscriptionMetadata=t.castAsSubscription=t.castAsStripeSubscriptionStatus=t.castAsSubscriptionTrialData=t.castAsStripePaymentIntentSummary=t.castAsStripePaymentIntentStatus=t.castAsStripeCustomerSummary=t.castAsStripeInvoiceSummary=t.castAsStripeInvoiceStatus=t.castAsStripePromotionCodeSummary=t.castAsStripePromotionCodeDuration=t.castAsStripePromotionCodeForeverDuration=t.castAsStripePromotionCodeRepeatingDuration=t.castAsStripePromotionCodeOnceDuration=t.castAsStripePromotionCodeDurationType=t.StripePromotionCodeDurationType=t.castAsStripePromotionCodeDiscount=t.castAsStripePromotionCodePercentageDiscount=t.castAsStripePromotionCodeFixedAmountDiscount=t.castAsStripePromotionCodeDiscountType=t.StripePromotionCodeDiscountType=t.castAsStripeSubscriptionInput=t.castAsStripeProductSummary=t.castAsStripePriceSummary=t.castAsStripeCurrency=t.castAsSubscriptionPaymentFrequency=t.SubscriptionPaymentFrequency=t.castAsSubscriptionType=t.SubscriptionType=void 0;var i,a=r(34250),o=r(5447);!function(e){e.STARTER="STARTER",e.PRO="PRO",e.SCALE="SCALE",e.BUSINESS="BUSINESS",e.ENTERPRISE_TIER_1="ENTERPRISE_TIER_1",e.ENTERPRISE_TIER_2="ENTERPRISE_TIER_2",e.ENTERPRISE_TIER_3="ENTERPRISE_TIER_3",e.ENTERPRISE_TIER_4="ENTERPRISE_TIER_4",e.ENTERPRISE_TIER_5="ENTERPRISE_TIER_5",e.ENTERPRISE_TIER_6="ENTERPRISE_TIER_6",e.ENTERPRISE_TIER_7="ENTERPRISE_TIER_7",e.ENTERPRISE_TIER_8="ENTERPRISE_TIER_8"}(i||(t.SubscriptionType=i={}));var s;t.castAsSubscriptionType=function(e){var t=(0,a.newCastingError)("SubscriptionType",e);if("STARTER"===e)return i.STARTER;if("PRO"===e)return i.PRO;if("SCALE"===e)return i.SCALE;if("ENTERPRISE"===e)return i.BUSINESS;if("BUSINESS"===e)return i.BUSINESS;if("ENTERPRISE_TIER_1"===e)return i.ENTERPRISE_TIER_1;if("ENTERPRISE_TIER_2"===e)return i.ENTERPRISE_TIER_2;if("ENTERPRISE_TIER_3"===e)return i.ENTERPRISE_TIER_3;if("ENTERPRISE_TIER_4"===e)return i.ENTERPRISE_TIER_4;if("ENTERPRISE_TIER_5"===e)return i.ENTERPRISE_TIER_5;if("ENTERPRISE_TIER_6"===e)return i.ENTERPRISE_TIER_6;if("ENTERPRISE_TIER_7"===e)return i.ENTERPRISE_TIER_7;if("ENTERPRISE_TIER_8"===e)return i.ENTERPRISE_TIER_8;throw t},function(e){e.MONTHLY="MONTHLY",e.YEARLY="YEARLY"}(s||(t.SubscriptionPaymentFrequency=s={}));t.castAsSubscriptionPaymentFrequency=function(e){var t=(0,a.newCastingError)("SubscriptionPaymentFrequency",e);if("MONTHLY"===e)return s.MONTHLY;if("YEARLY"===e)return s.YEARLY;throw t};t.castAsStripeCurrency=function(e){var t=(0,a.newCastingError)("StripeCurrency",e);if("usd"===e||"inr"===e||"brl"===e||"vnd"===e||"pkr"===e||"eur"===e||"gbp"===e||"aud"===e||"ngn"===e||"mxn"===e||"chf"===e||"cad"===e||"php"===e||"idr"===e||"bdt"===e)return e;throw t};t.castAsStripePriceSummary=function(e){var r=(0,a.newCastingError)("StripePriceSummary",e);if((0,o.isObject)(e)&&"stripePriceId"in e&&(0,o.isString)(e.stripePriceId)&&"stripeCurrency"in e&&"unitAmount"in e&&(0,o.isNumber)(e.unitAmount)&&"subscriptionPaymentFrequency"in e&&"isDefaultPriceForProduct"in e&&(0,o.isBoolean)(e.isDefaultPriceForProduct))try{return{stripePriceId:e.stripePriceId,stripeCurrency:(0,t.castAsStripeCurrency)(e.stripeCurrency),unitAmount:e.unitAmount,subscriptionPaymentFrequency:(0,t.castAsSubscriptionPaymentFrequency)(e.subscriptionPaymentFrequency),isDefaultPriceForProduct:e.isDefaultPriceForProduct}}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsStripeProductSummary=function(e){var r=(0,a.newCastingError)("StripeProductSummary",e);if((0,o.isObject)(e)&&"stripeProductId"in e&&(0,o.isString)(e.stripeProductId)&&"subscriptionType"in e&&"stripePriceSummaries"in e)try{return{stripeProductId:e.stripeProductId,subscriptionType:(0,t.castAsSubscriptionType)(e.subscriptionType),stripePriceSummaries:(0,o.castAsTypedArray)(e.stripePriceSummaries,t.castAsStripePriceSummary)}}catch(n){(0,a.updateCastingError)(r,n)}throw r};var u;t.castAsStripeSubscriptionInput=function(e){var r=(0,a.newCastingError)("StripeSubscriptionInput",e);if((0,o.isObject)(e)&&"subscriptionType"in e&&"subscriptionPaymentFrequency"in e&&"stripePromotionCode"in e&&(0,o.isOptionalString)(e.stripePromotionCode)&&"stripeCurrency"in e)try{return{subscriptionType:(0,t.castAsSubscriptionType)(e.subscriptionType),subscriptionPaymentFrequency:(0,t.castAsSubscriptionPaymentFrequency)(e.subscriptionPaymentFrequency),stripePromotionCode:e.stripePromotionCode,stripeCurrency:(0,t.castAsStripeCurrency)(e.stripeCurrency)}}catch(n){(0,a.updateCastingError)(r,n)}if((0,o.isObject)(e)&&"subscriptionType"in e&&"subscriptionPaymentFrequency"in e&&"stripePromotionCode"in e&&(0,o.isOptionalString)(e.stripePromotionCode))try{return{subscriptionType:(0,t.castAsSubscriptionType)(e.subscriptionType),subscriptionPaymentFrequency:(0,t.castAsSubscriptionPaymentFrequency)(e.subscriptionPaymentFrequency),stripePromotionCode:e.stripePromotionCode,stripeCurrency:"usd"}}catch(n){(0,a.updateCastingError)(r,n)}throw r},function(e){e.FIXED_AMOUNT="FIXED_AMOUNT",e.PERCENTAGE="PERCENTAGE"}(u||(t.StripePromotionCodeDiscountType=u={}));t.castAsStripePromotionCodeDiscountType=function(e){var t=(0,a.newCastingError)("StripePromotionCodeDiscountType",e);if("FIXED_AMOUNT"===e)return u.FIXED_AMOUNT;if("PERCENTAGE"===e)return u.PERCENTAGE;throw t};t.castAsStripePromotionCodeFixedAmountDiscount=function(e){var t=(0,a.newCastingError)("StripePromotionCodeFixedAmountDiscount",e);if((0,o.isObject)(e)&&"type"in e&&e.type===u.FIXED_AMOUNT&&"discountCents"in e&&(0,o.isNumber)(e.discountCents))return{type:e.type,discountCents:e.discountCents};throw t};t.castAsStripePromotionCodePercentageDiscount=function(e){var t=(0,a.newCastingError)("StripePromotionCodePercentageDiscount",e);if((0,o.isObject)(e)&&"type"in e&&e.type===u.PERCENTAGE&&"discountPercentage"in e&&(0,o.isNumber)(e.discountPercentage))return{type:e.type,discountPercentage:e.discountPercentage};throw t};var c;t.castAsStripePromotionCodeDiscount=function(e){var r=(0,a.newCastingError)("StripePromotionCodeDiscount",e);try{return(0,t.castAsStripePromotionCodeFixedAmountDiscount)(e)}catch(n){(0,a.updateCastingError)(r,n)}try{return(0,t.castAsStripePromotionCodePercentageDiscount)(e)}catch(n){(0,a.updateCastingError)(r,n)}throw r},function(e){e.ONCE="ONCE",e.REPEATING="REPEATING",e.FOREVER="FOREVER"}(c||(t.StripePromotionCodeDurationType=c={}));t.castAsStripePromotionCodeDurationType=function(e){var t=(0,a.newCastingError)("StripePromotionCodeDurationType",e);if("ONCE"===e)return c.ONCE;if("REPEATING"===e)return c.REPEATING;if("FOREVER"===e)return c.FOREVER;throw t};t.castAsStripePromotionCodeOnceDuration=function(e){var t=(0,a.newCastingError)("StripePromotionCodeOnceDuration",e);if((0,o.isObject)(e)&&"type"in e&&e.type===c.ONCE)return{type:e.type};throw t};t.castAsStripePromotionCodeRepeatingDuration=function(e){var t=(0,a.newCastingError)("StripePromotionCodeRepeatingDuration",e);if((0,o.isObject)(e)&&"type"in e&&e.type===c.REPEATING&&"durationMonths"in e&&(0,o.isNumber)(e.durationMonths))return{type:e.type,durationMonths:e.durationMonths};throw t};t.castAsStripePromotionCodeForeverDuration=function(e){var t=(0,a.newCastingError)("StripePromotionCodeForeverDuration",e);if((0,o.isObject)(e)&&"type"in e&&e.type===c.FOREVER)return{type:e.type};throw t};t.castAsStripePromotionCodeDuration=function(e){var r=(0,a.newCastingError)("StripePromotionCodeDuration",e);try{return(0,t.castAsStripePromotionCodeOnceDuration)(e)}catch(n){(0,a.updateCastingError)(r,n)}try{return(0,t.castAsStripePromotionCodeRepeatingDuration)(e)}catch(n){(0,a.updateCastingError)(r,n)}try{return(0,t.castAsStripePromotionCodeForeverDuration)(e)}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsStripePromotionCodeSummary=function(e){var r=(0,a.newCastingError)("StripePromotionCodeSummary",e);if((0,o.isObject)(e)&&"stripePromotionCode"in e&&(0,o.isString)(e.stripePromotionCode)&&"stripePromotionCodeId"in e&&(0,o.isString)(e.stripePromotionCodeId)&&"displayName"in e&&(0,o.isString)(e.displayName)&&"discount"in e&&"applicableProductSummaries"in e&&"duration"in e&&"requiresFirstTimeTransaction"in e&&(0,o.isBoolean)(e.requiresFirstTimeTransaction)&&"minimumPaymentCents"in e&&(0,o.isNumber)(e.minimumPaymentCents)&&"summarizationSecondsSinceEpoch"in e&&(0,o.isNumber)(e.summarizationSecondsSinceEpoch)&&"expirationSecondsSinceEpoch"in e&&(0,o.isOptionalNumber)(e.expirationSecondsSinceEpoch))try{return{stripePromotionCode:e.stripePromotionCode,stripePromotionCodeId:e.stripePromotionCodeId,displayName:e.displayName,discount:(0,t.castAsStripePromotionCodeDiscount)(e.discount),applicableProductSummaries:(0,o.castAsTypedArray)(e.applicableProductSummaries,t.castAsStripeProductSummary),duration:(0,t.castAsStripePromotionCodeDuration)(e.duration),requiresFirstTimeTransaction:e.requiresFirstTimeTransaction,minimumPaymentCents:e.minimumPaymentCents,summarizationSecondsSinceEpoch:e.summarizationSecondsSinceEpoch,expirationSecondsSinceEpoch:e.expirationSecondsSinceEpoch}}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsStripeInvoiceStatus=function(e){var t=(0,a.newCastingError)("StripeInvoiceStatus",e);if("draft"===e||"open"===e||"paid"===e||"uncollectible"===e||"void"===e)return e;throw t};t.castAsStripeInvoiceSummary=function(e){var r=(0,a.newCastingError)("StripeInvoiceSummary",e);if((0,o.isObject)(e)&&"stripeInvoiceId"in e&&(0,o.isOptionalString)(e.stripeInvoiceId)&&"stripeInvoiceStatus"in e&&"stripePriceId"in e&&(0,o.isOptionalString)(e.stripePriceId)&&"paymentIntentSummary"in e&&"centsTotal"in e&&(0,o.isNumber)(e.centsTotal)&&"centsPaid"in e&&(0,o.isNumber)(e.centsPaid)&&"amountTotal"in e&&(0,o.isNumber)(e.amountTotal)&&"amountPaid"in e&&(0,o.isNumber)(e.amountPaid)&&"currency"in e&&"periodStartSse"in e&&(0,o.isOptionalNumber)(e.periodStartSse)&&"periodEndSse"in e&&(0,o.isOptionalNumber)(e.periodEndSse)&&"invoiceUrl"in e&&(0,o.isOptionalString)(e.invoiceUrl)&&"creationSse"in e&&(0,o.isOptionalNumber)(e.creationSse))try{return{stripeInvoiceId:e.stripeInvoiceId,stripeInvoiceStatus:(0,o.castAsTypedOptional)(e.stripeInvoiceStatus,t.castAsStripeInvoiceStatus),stripePriceId:e.stripePriceId,paymentIntentSummary:(0,o.castAsTypedOptional)(e.paymentIntentSummary,t.castAsStripePaymentIntentSummary),centsTotal:e.centsTotal,centsPaid:e.centsPaid,amountTotal:e.amountTotal,amountPaid:e.amountPaid,currency:(0,t.castAsStripeCurrency)(e.currency),periodStartSse:e.periodStartSse,periodEndSse:e.periodEndSse,invoiceUrl:e.invoiceUrl,creationSse:e.creationSse}}catch(n){(0,a.updateCastingError)(r,n)}if((0,o.isObject)(e)&&"stripeInvoiceId"in e&&(0,o.isOptionalString)(e.stripeInvoiceId)&&"stripeInvoiceStatus"in e&&"stripePriceId"in e&&(0,o.isOptionalString)(e.stripePriceId)&&"paymentIntentSummary"in e&&"centsTotal"in e&&(0,o.isNumber)(e.centsTotal)&&"centsPaid"in e&&(0,o.isNumber)(e.centsPaid)&&"amountTotal"in e&&(0,o.isNumber)(e.amountTotal)&&"amountPaid"in e&&(0,o.isNumber)(e.amountPaid)&&"currency"in e&&(0,o.isString)(e.currency)&&"periodStartSse"in e&&(0,o.isOptionalNumber)(e.periodStartSse)&&"periodEndSse"in e&&(0,o.isOptionalNumber)(e.periodEndSse)&&"invoiceUrl"in e&&(0,o.isOptionalString)(e.invoiceUrl)&&!("creationSse"in e))try{return{stripeInvoiceId:e.stripeInvoiceId,stripeInvoiceStatus:(0,o.castAsTypedOptional)(e.stripeInvoiceStatus,t.castAsStripeInvoiceStatus),stripePriceId:e.stripePriceId,paymentIntentSummary:(0,o.castAsTypedOptional)(e.paymentIntentSummary,t.castAsStripePaymentIntentSummary),centsTotal:e.centsTotal,centsPaid:e.centsPaid,amountTotal:e.amountTotal,amountPaid:e.amountPaid,currency:(0,t.castAsStripeCurrency)(e.currency),periodStartSse:e.periodStartSse,periodEndSse:e.periodEndSse,invoiceUrl:e.invoiceUrl,creationSse:null}}catch(n){(0,a.updateCastingError)(r,n)}if((0,o.isObject)(e)&&"stripeInvoiceId"in e&&(0,o.isOptionalString)(e.stripeInvoiceId)&&"stripeInvoiceStatus"in e&&"stripePriceId"in e&&(0,o.isOptionalString)(e.stripePriceId)&&"paymentIntentSummary"in e&&"centsTotal"in e&&(0,o.isNumber)(e.centsTotal)&&"centsPaid"in e&&(0,o.isNumber)(e.centsPaid)&&!("amountTotal"in e)&&!("amountPaid"in e)&&!("currency"in e)&&"periodStartSse"in e&&(0,o.isOptionalNumber)(e.periodStartSse)&&"periodEndSse"in e&&(0,o.isOptionalNumber)(e.periodEndSse)&&"invoiceUrl"in e&&(0,o.isOptionalString)(e.invoiceUrl)&&!("creationSse"in e))try{return{stripeInvoiceId:e.stripeInvoiceId,stripeInvoiceStatus:(0,o.castAsTypedOptional)(e.stripeInvoiceStatus,t.castAsStripeInvoiceStatus),stripePriceId:e.stripePriceId,paymentIntentSummary:(0,o.castAsTypedOptional)(e.paymentIntentSummary,t.castAsStripePaymentIntentSummary),centsTotal:e.centsTotal,centsPaid:e.centsPaid,amountTotal:e.centsTotal,amountPaid:e.centsPaid,currency:"usd",periodStartSse:e.periodStartSse,periodEndSse:e.periodEndSse,invoiceUrl:e.invoiceUrl,creationSse:null}}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsStripeCustomerSummary=function(e){var t=(0,a.newCastingError)("StripeCustomerSummary",e);if((0,o.isObject)(e)&&"stripeCustomerId"in e&&(0,o.isString)(e.stripeCustomerId)&&"isTestModeCustomer"in e&&(0,o.isBoolean)(e.isTestModeCustomer))return{stripeCustomerId:e.stripeCustomerId,isTestModeCustomer:e.isTestModeCustomer};throw t};t.castAsStripePaymentIntentStatus=function(e){var t=(0,a.newCastingError)("StripePaymentIntentStatus",e);if("canceled"===e||"processing"===e||"requires_action"===e||"requires_capture"===e||"requires_confirmation"===e||"requires_payment_method"===e||"succeeded"===e)return e;throw t};t.castAsStripePaymentIntentSummary=function(e){var r=(0,a.newCastingError)("StripePaymentIntentSummary",e);if((0,o.isObject)(e)&&"stripePaymentIntentId"in e&&(0,o.isString)(e.stripePaymentIntentId)&&"stripePaymentIntentStatus"in e)return{stripePaymentIntentId:e.stripePaymentIntentId,stripePaymentIntentStatus:(0,t.castAsStripePaymentIntentStatus)(e.stripePaymentIntentStatus)};throw r};t.castAsSubscriptionTrialData=function(e){var r=(0,a.newCastingError)("SubscriptionTrialData",e);if((0,o.isObject)(e)&&"trialStartSecondsSinceEpoch"in e&&(0,o.isNumber)(e.trialStartSecondsSinceEpoch)&&"trialEndSecondsSinceEpoch"in e&&(0,o.isNumber)(e.trialEndSecondsSinceEpoch)&&"highestTrialSubscriptionType"in e)try{return{trialStartSecondsSinceEpoch:e.trialStartSecondsSinceEpoch,trialEndSecondsSinceEpoch:e.trialEndSecondsSinceEpoch,highestTrialSubscriptionType:(0,t.castAsSubscriptionType)(e.highestTrialSubscriptionType)}}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsStripeSubscriptionStatus=function(e){var t=(0,a.newCastingError)("StripeSubscriptionStatus",e);if("incomplete"===e||"incomplete_expired"===e||"trialing"===e||"active"===e||"past_due"===e||"canceled"===e||"unpaid"===e||"paused"===e)return e;throw t};t.castAsSubscription=function(e){var r=(0,a.newCastingError)("Subscription",e);if((0,o.isObject)(e)&&"subscriptionType"in e&&"subscriptionPaymentFrequency"in e&&"stripeCurrency"in e&&"stripeSubscriptionId"in e&&(0,o.isString)(e.stripeSubscriptionId)&&"stripeSubscriptionStatus"in e&&"stripePromotionCode"in e&&(0,o.isOptionalString)(e.stripePromotionCode)&&"subscriptionTrialData"in e&&"currentPeriodStartSse"in e&&(0,o.isOptionalNumber)(e.currentPeriodStartSse)&&"currentPeriodEndSse"in e&&(0,o.isOptionalNumber)(e.currentPeriodEndSse)&&"cancelingAtPeriodEnd"in e&&(0,o.isOptionalBoolean)(e.cancelingAtPeriodEnd)&&"isTestModeSubscription"in e&&(0,o.isBoolean)(e.isTestModeSubscription))try{return{subscriptionType:(0,t.castAsSubscriptionType)(e.subscriptionType),subscriptionPaymentFrequency:(0,t.castAsSubscriptionPaymentFrequency)(e.subscriptionPaymentFrequency),stripeCurrency:(0,t.castAsStripeCurrency)(e.stripeCurrency),stripeSubscriptionId:e.stripeSubscriptionId,stripeSubscriptionStatus:(0,t.castAsStripeSubscriptionStatus)(e.stripeSubscriptionStatus),stripePromotionCode:e.stripePromotionCode,subscriptionTrialData:(0,o.castAsTypedOptional)(e.subscriptionTrialData,t.castAsSubscriptionTrialData),currentPeriodStartSse:e.currentPeriodStartSse,currentPeriodEndSse:e.currentPeriodEndSse,cancelingAtPeriodEnd:e.cancelingAtPeriodEnd,isTestModeSubscription:e.isTestModeSubscription}}catch(n){(0,a.updateCastingError)(r,n)}if((0,o.isObject)(e)&&"subscriptionType"in e&&"subscriptionPaymentFrequency"in e&&!("stripeCurrency"in e)&&"stripeSubscriptionId"in e&&(0,o.isString)(e.stripeSubscriptionId)&&"stripeSubscriptionStatus"in e&&"stripePromotionCode"in e&&(0,o.isOptionalString)(e.stripePromotionCode)&&"subscriptionTrialData"in e&&"currentPeriodStartSse"in e&&(0,o.isOptionalNumber)(e.currentPeriodStartSse)&&"currentPeriodEndSse"in e&&(0,o.isOptionalNumber)(e.currentPeriodEndSse)&&"cancelingAtPeriodEnd"in e&&(0,o.isOptionalBoolean)(e.cancelingAtPeriodEnd)&&"isTestModeSubscription"in e&&(0,o.isBoolean)(e.isTestModeSubscription))try{return{subscriptionType:(0,t.castAsSubscriptionType)(e.subscriptionType),subscriptionPaymentFrequency:(0,t.castAsSubscriptionPaymentFrequency)(e.subscriptionPaymentFrequency),stripeCurrency:"usd",stripeSubscriptionId:e.stripeSubscriptionId,stripeSubscriptionStatus:(0,t.castAsStripeSubscriptionStatus)(e.stripeSubscriptionStatus),stripePromotionCode:e.stripePromotionCode,subscriptionTrialData:(0,o.castAsTypedOptional)(e.subscriptionTrialData,t.castAsSubscriptionTrialData),currentPeriodStartSse:e.currentPeriodStartSse,currentPeriodEndSse:e.currentPeriodEndSse,cancelingAtPeriodEnd:e.cancelingAtPeriodEnd,isTestModeSubscription:e.isTestModeSubscription}}catch(n){(0,a.updateCastingError)(r,n)}throw r};var l;t.castAsStripeSubscriptionMetadata=function(e){var t=(0,a.newCastingError)("StripeSubscriptionMetadata",e);if((0,o.isObject)(e))return n({},(0,o.getOmittableObjectEntry)(e,"workspaceId",o.castAsString));throw t},function(e){e.ALL="ALL",e.PAYMENT_METHOD_UPDATE="PAYMENT_METHOD_UPDATE"}(l||(t.PortalSessionFlowType=l={}));t.castAsPortalSessionFlowType=function(e){var t=(0,a.newCastingError)("PortalSessionFlowType",e);if("ALL"===e)return l.ALL;if("PAYMENT_METHOD_UPDATE"===e)return l.PAYMENT_METHOD_UPDATE;throw t};var d;t.castAsStripeAbandonedCartSummary=function(e){var t=(0,a.newCastingError)("StripeAbandonedCartSummary",e);if((0,o.isObject)(e)&&"abandonmentSse"in e&&(0,o.isNumber)(e.abandonmentSse)&&"cartRecoveryUrl"in e&&(0,o.isString)(e.cartRecoveryUrl))return{abandonmentSse:e.abandonmentSse,cartRecoveryUrl:e.cartRecoveryUrl};throw t},function(e){e.HOSTED="HOSTED",e.ELEMENTS="ELEMENTS"}(d||(t.CheckoutSessionType=d={}));t.castAsCheckoutSessionType=function(e){var t=(0,a.newCastingError)("CheckoutSessionType",e);if("HOSTED"===e)return d.HOSTED;if("ELEMENTS"===e)return d.ELEMENTS;throw t};t.castAsHostedCheckoutSessionSummary=function(e){var t=(0,a.newCastingError)("HostedCheckoutSessionSummary",e);if((0,o.isObject)(e)&&"type"in e&&e.type===d.HOSTED&&"checkoutSessionUrl"in e&&(0,o.isString)(e.checkoutSessionUrl))return{type:e.type,checkoutSessionUrl:e.checkoutSessionUrl};throw t};t.castAsElementsCheckoutSessionSummary=function(e){var t=(0,a.newCastingError)("ElementsCheckoutSessionSummary",e);if((0,o.isObject)(e)&&"type"in e&&e.type===d.ELEMENTS&&"_privateCheckoutSessionClientSecret"in e&&(0,o.isString)(e._privateCheckoutSessionClientSecret))return{type:e.type,_privateCheckoutSessionClientSecret:e._privateCheckoutSessionClientSecret};throw t};t.castAsCheckoutSessionSummary=function(e){var r=(0,a.newCastingError)("CheckoutSessionSummary",e);try{return(0,t.castAsHostedCheckoutSessionSummary)(e)}catch(n){(0,a.updateCastingError)(r,n)}try{return(0,t.castAsElementsCheckoutSessionSummary)(e)}catch(n){(0,a.updateCastingError)(r,n)}throw r}},2071:function(e,t,r){"use strict";var n=r(42122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.castAsProjectInternalInfo=t.castMaybeProjectAsProjectSummary=t.castAsProjectSummary=t.castAsProject=t.castAsPartialProjectMetadata=t.castAsProjectMetadata=t.castAsAspectRatio=t.castAsAssetSource=void 0;var i=r(34250),a=r(47491),o=r(75174),s=r(5447),u=r(6962),c=r(90152),l=r(12594),d=r(42172),f=r(24887);t.castAsAssetSource=function(e){var t=(0,i.newCastingError)("AssetSource",e);if((0,s.isObject)(e)&&"fileExtension"in e&&(0,s.isOptionalString)(e.fileExtension)&&"attribution"in e)try{return n(n(n(n(n(n(n({fileExtension:e.fileExtension,attribution:(0,s.castAsTypedOptional)(e.attribution,d.castAsAssetSourceAttribution)},(0,s.getOmittableObjectEntry)(e,"localObjectUrl",s.castAsString)),(0,s.getOmittableObjectEntry)(e,"tmpFilePath",s.castAsString)),(0,s.getOmittableObjectEntry)(e,"publicUrl",s.castAsString)),(0,s.getOmittableObjectEntry)(e,"base64",s.castAsString)),(0,s.getOmittableObjectEntry)(e,"storageFileSource",c.castAsWorkspaceStorageFileSource)),(0,s.getOmittableObjectEntry)(e,"librarySource",u.castAsCoreLibraryAssetSource)),(0,s.getOmittableObjectEntry)(e,"gettySource",l.castAsGettyAssetSource))}catch(r){(0,i.updateCastingError)(t,r)}throw t};t.castAsAspectRatio=function(e){var t=(0,i.newCastingError)("AspectRatio",e);if((0,s.isObject)(e)&&"width"in e&&(0,s.isNumber)(e.width)&&"height"in e&&(0,s.isNumber)(e.height))return{width:e.width,height:e.height};throw t};t.castAsProjectMetadata=function(e){var r=(0,i.newCastingError)("ProjectMetadata",e);if((0,s.isObject)(e)&&"title"in e&&(0,s.isString)(e.title)&&"projectId"in e&&(0,s.isString)(e.projectId)&&"workspaceId"in e&&(0,s.isString)(e.workspaceId)&&"creationSecondsSinceEpoch"in e&&(0,s.isNumber)(e.creationSecondsSinceEpoch)&&"lastEditSecondsSinceEpoch"in e&&(0,s.isNumber)(e.lastEditSecondsSinceEpoch)&&"aspectRatio"in e)try{return{title:(0,a.limitStrLength)(e.title,128),projectId:e.projectId,workspaceId:e.workspaceId,creationSecondsSinceEpoch:e.creationSecondsSinceEpoch,lastEditSecondsSinceEpoch:e.lastEditSecondsSinceEpoch,aspectRatio:(0,t.castAsAspectRatio)(e.aspectRatio)}}catch(n){(0,i.updateCastingError)(r,n)}throw r};t.castAsPartialProjectMetadata=function(e){var r=(0,i.newCastingError)("PartialProjectMetadata",e);if((0,s.isObject)(e)&&"title"in e&&(0,s.isString)(e.title)&&"projectId"in e&&(0,s.isString)(e.projectId)&&"workspaceId"in e&&(0,s.isString)(e.workspaceId)&&"creationSecondsSinceEpoch"in e&&(0,s.isNumber)(e.creationSecondsSinceEpoch)&&"lastEditSecondsSinceEpoch"in e&&(0,s.isNumber)(e.lastEditSecondsSinceEpoch))try{return n({title:(0,a.limitStrLength)(e.title,60),projectId:e.projectId,workspaceId:e.workspaceId,creationSecondsSinceEpoch:e.creationSecondsSinceEpoch,lastEditSecondsSinceEpoch:e.lastEditSecondsSinceEpoch},(0,s.getOmittableObjectEntry)(e,"aspectRatio",t.castAsAspectRatio))}catch(o){(0,i.updateCastingError)(r,o)}throw r};t.castAsProject=function(e){var r=(0,i.newCastingError)("Project",e);if((0,s.isObject)(e)&&"metadata"in e&&"generator"in e&&"brandId"in e&&(0,s.isOptionalString)(e.brandId))try{return{metadata:(0,t.castAsProjectMetadata)(e.metadata),generator:(0,o.castAsGenerator)(e.generator),brandId:e.brandId}}catch(n){(0,i.updateCastingError)(r,n)}if((0,s.isObject)(e)&&"metadata"in e&&"generator"in e&&"timelineEdits"in e&&!("brandId"in e))try{return{metadata:(0,t.castAsProjectMetadata)(e.metadata),generator:(0,o.castAsGenerator)(e.generator),brandId:null}}catch(n){(0,i.updateCastingError)(r,n)}throw r};t.castAsProjectSummary=function(e){var r=(0,i.newCastingError)("ProjectSummary",e);if((0,s.isObject)(e)&&"metadata"in e)try{return{metadata:(0,t.castAsPartialProjectMetadata)(e.metadata)}}catch(n){(0,i.updateCastingError)(r,n)}throw r};t.castMaybeProjectAsProjectSummary=function(e){var r=(0,i.newCastingError)("ProjectSummary",e);if((0,s.isObject)(e)&&"metadata"in e)try{return{metadata:(0,t.castAsPartialProjectMetadata)(e.metadata)}}catch(n){(0,i.updateCastingError)(r,n)}try{return{metadata:(0,t.castAsProject)(e).metadata}}catch(n){(0,i.updateCastingError)(r,n)}throw r};t.castAsProjectInternalInfo=function(e){var t=(0,i.newCastingError)("ProjectInternalInfo",e);if((0,s.isObject)(e)&&"projectId"in e&&(0,s.isString)(e.projectId)&&"projectStorageSummary"in e&&"projectActiveUploadSummaries"in e&&"projectExportJobs"in e)try{return{projectId:e.projectId,projectStorageSummary:(0,c.castAsWorkspaceStorageScopeSummary)(e.projectStorageSummary),projectActiveUploadSummaries:(0,s.castAsTypedArray)(e.projectActiveUploadSummaries,c.castAsWorkspaceUploadSummary),projectExportJobs:(0,s.castAsTypedArray)(e.projectExportJobs,f.castAsExportJob)}}catch(r){(0,i.updateCastingError)(t,r)}if((0,s.isObject)(e)&&"projectId"in e&&(0,s.isString)(e.projectId)&&"projectStorageSummary"in e&&"projectActiveUploadSummaries"in e&&!("projectExportJobs"in e))try{return{projectId:e.projectId,projectStorageSummary:(0,c.castAsWorkspaceStorageScopeSummary)(e.projectStorageSummary),projectActiveUploadSummaries:(0,s.castAsTypedArray)(e.projectActiveUploadSummaries,c.castAsWorkspaceUploadSummary),projectExportJobs:[]}}catch(r){(0,i.updateCastingError)(t,r)}throw t}},52085:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},34586:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsServerUserInfo=t.castAsServerRateLimitRequestCounter=t.castAsRateLimitRequestCounter=t.castAsRequestCounter=t.castAsRateLimitPeriod=t.RateLimitPeriod=void 0;var n,i=r(34250),a=r(5447),o=r(24830);!function(e){e.HOUR="HOUR",e.DAY="DAY",e.MONTH="MONTH"}(n||(t.RateLimitPeriod=n={}));t.castAsRateLimitPeriod=function(e){var t=(0,i.newCastingError)("RateLimitPeriod",e);if("HOUR"===e)return n.HOUR;if("DAY"===e)return n.DAY;if("MONTH"===e)return n.MONTH;throw t};t.castAsRequestCounter=function(e){var t=(0,i.newCastingError)("RequestCounter",e);if((0,a.isObject)(e)&&"numRequests"in e&&(0,a.isNumber)(e.numRequests)&&"lastResetSecondsSinceEpoch"in e&&(0,a.isNumber)(e.lastResetSecondsSinceEpoch))return{numRequests:e.numRequests,lastResetSecondsSinceEpoch:e.lastResetSecondsSinceEpoch};throw t};t.castAsRateLimitRequestCounter=function(e){var r=(0,i.newCastingError)("RateLimitRequestCounter",e);try{return(0,a.castAsTypedRecord)(e,(0,o.getDefaultRateLimitRequestCounter)(),t.castAsRequestCounter)}catch(n){(0,i.updateCastingError)(r,n)}throw r};t.castAsServerRateLimitRequestCounter=function(e){var r=(0,i.newCastingError)("ServerRateLimitRequestCounter",e);try{return(0,a.castAsTypedRecord)(e,(0,o.getDefaultServerRateLimitRequestCounter)(),t.castAsRateLimitRequestCounter)}catch(n){(0,i.updateCastingError)(r,n)}throw r};t.castAsServerUserInfo=function(e){var r=(0,i.newCastingError)("ServerUserInfo",e);if((0,a.isObject)(e)&&"userId"in e&&(0,a.isString)(e.userId)&&"serverRateLimitRequestCounter"in e)try{return{userId:e.userId,serverRateLimitRequestCounter:(0,t.castAsServerRateLimitRequestCounter)(e.serverRateLimitRequestCounter)}}catch(n){(0,i.updateCastingError)(r,n)}throw r}},75916:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsScrapingBeeExtract=void 0;var n=r(34250),i=r(5447);t.castAsScrapingBeeExtract=function(e){var t=(0,n.newCastingError)("ScrapingBeeExtract",e);if((0,i.isObject)(e)&&"title"in e&&"text"in e)try{return{title:(0,i.castAsString)(e.title),text:(0,i.castAsString)(e.text)}}catch(r){(0,n.updateCastingError)(t,r)}throw t}},75668:function(e,t,r){"use strict";var n=r(42122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.castAsGeneratedScriptElement=t.castAsGeneratedSpeechScriptElement=t.castAsSubdividedScriptElement=t.castAsSubdividedSpeechScriptElement=t.castAsScriptElement=t.castAsPauseScriptElement=t.castAsSpeechScriptElement=t.castAsScriptTag=t.ScriptTag=void 0;var i,a=r(34250),o=r(42172),s=r(5447);!function(e){e.SPEECH="SPEECH",e.PAUSE="PAUSE"}(i||(t.ScriptTag=i={}));t.castAsScriptTag=function(e){var t=(0,a.newCastingError)("ScriptTag",e);if("SPEECH"===e)return i.SPEECH;if("PAUSE"===e)return i.PAUSE;throw t};t.castAsSpeechScriptElement=function(e){var t=(0,a.newCastingError)("SpeechScriptElement",e);if((0,s.isObject)(e)&&"tag"in e&&e.tag===i.SPEECH&&"text"in e&&(0,s.isString)(e.text)&&"voice"in e&&(0,s.isString)(e.voice)&&"volume"in e&&(0,s.isNumber)(e.volume)&&"hidden"in e&&(0,s.isBoolean)(e.hidden))return{tag:e.tag,text:e.text,voice:e.voice,volume:e.volume,hidden:e.hidden};throw t};t.castAsPauseScriptElement=function(e){var t=(0,a.newCastingError)("PauseScriptElement",e);if((0,s.isObject)(e)&&"tag"in e&&e.tag===i.PAUSE&&"time"in e&&(0,s.isNumber)(e.time))return{tag:e.tag,time:e.time};throw t};t.castAsScriptElement=function(e){var r=(0,a.newCastingError)("ScriptElement",e);try{return(0,t.castAsSpeechScriptElement)(e)}catch(n){(0,a.updateCastingError)(r,n)}try{return(0,t.castAsPauseScriptElement)(e)}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsSubdividedSpeechScriptElement=function(e){var r=(0,a.newCastingError)("SubdividedSpeechScriptElement",e);if((0,s.isObject)(e)&&"words"in e&&(0,s.isTypedArray)(e.words,s.isString)&&"sentenceEndIndices"in e&&(0,s.isTypedArray)(e.sentenceEndIndices,s.isNumber)&&"sceneEndIndices"in e&&(0,s.isTypedArray)(e.sceneEndIndices,s.isNumber))try{return n(n({},(0,t.castAsSpeechScriptElement)(e)),{},{words:e.words,sentenceEndIndices:e.sentenceEndIndices,sceneEndIndices:e.sceneEndIndices})}catch(i){(0,a.updateCastingError)(r,i)}throw r};t.castAsSubdividedScriptElement=function(e){var r=(0,a.newCastingError)("SubdividedScriptElement",e);try{return(0,t.castAsSubdividedSpeechScriptElement)(e)}catch(n){(0,a.updateCastingError)(r,n)}try{return(0,t.castAsPauseScriptElement)(e)}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsGeneratedSpeechScriptElement=function(e){var r=(0,a.newCastingError)("GeneratedSpeechScriptElement",e);if((0,s.isObject)(e)&&"wordEndTimes"in e&&(0,s.isTypedArray)(e.wordEndTimes,s.isNumber)&&"areWordTimingsExact"in e&&(0,s.isBoolean)(e.areWordTimingsExact)&&"audioAssetReference"in e)try{return n(n({},(0,t.castAsSubdividedSpeechScriptElement)(e)),{},{wordEndTimes:e.wordEndTimes,areWordTimingsExact:e.areWordTimingsExact,audioAssetReference:(0,o.castAsAudioAssetReference)(e.audioAssetReference)})}catch(i){(0,a.updateCastingError)(r,i)}throw r};t.castAsGeneratedScriptElement=function(e){var r=(0,a.newCastingError)("GeneratedScriptElement",e);try{return(0,t.castAsGeneratedSpeechScriptElement)(e)}catch(n){(0,a.updateCastingError)(r,n)}try{return(0,t.castAsPauseScriptElement)(e)}catch(n){(0,a.updateCastingError)(r,n)}throw r}},89725:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},38583:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSingletonInitializerSync=t.isSingletonInitializerAsync=void 0;t.isSingletonInitializerAsync=function(e){return e instanceof Promise};t.isSingletonInitializerSync=function(e){return!(e instanceof Promise)}},90152:function(e,t,r){"use strict";var n=r(42122).default,i=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.castAsWorkspaceStorageFileSearchFilter=t.castAsWorkspaceStorageFileLocator=t.castAsWorkspaceUploadSummary=t.castAsWorkspaceStorageLimits=t.castAsWorkspaceStorageScopeSummary=t.castAsWorkspaceStorageFileSource=t.castAsWorkspaceStorageFileHydrationRequest=t.castAsWorkspaceStorageFileSubtype=t.WorkspaceStorageFileSubtype=t.castAsWorkspaceStorageIdFileRecord=t.castAsWorkspaceStorageFile=t.castAsWorkspaceStorageVideoFile=t.castAsWorkspaceStorageVideoFileMetadata=t.castAsWorkspaceStorageVideoSource=t.WorkspaceStorageVideoSource=t.castAsWorkspaceStorageImageFile=t.castAsWorkspaceStorageImageFileMetadata=t.castAsWorkspaceStorageImageSource=t.WorkspaceStorageImageSource=t.castAsWorkspaceStorageAudioFile=t.castAsWorkspaceStorageAudioFileMetadata=t.castAsWorkspaceStorageAudioRole=t.WorkspaceStorageAudioRole=t.castAsWorkspaceStorageAudioSource=t.WorkspaceStorageAudioSource=t.castAsWorkspaceStorageFileMetadata=t.castAsWorkspaceStorageFileType=t.WorkspaceStorageFileType=t.castAsWorkspaceStorageThumbnailMetadata=t.castAsWorkspaceStorageFileHydratedUrlRecord=t.castAsWorkspaceStorageFileSignedUrlType=t.WorkspaceStorageFileSignedUrlType=t.castAsWorkspaceStorageHydratedUrl=t.castAsWorkspaceStorageScope=t.castAsExportsWorkspaceStorageScope=t.castAsProjectWorkspaceStorageScope=t.castAsGlobalWorkspaceStorageScope=t.castAsWorkspaceStorageScopeType=t.WorkspaceStorageScopeType=void 0;var a,o=r(34250),s=r(42172),u=r(5447);!function(e){e.GLOBAL="GLOBAL",e.PROJECT="PROJECT",e.EXPORTS="EXPORTS"}(a||(t.WorkspaceStorageScopeType=a={}));t.castAsWorkspaceStorageScopeType=function(e){var t=(0,o.newCastingError)("WorkspaceStorageScopeType",e);if("GLOBAL"===e)return a.GLOBAL;if("PROJECT"===e)return a.PROJECT;if("EXPORTS"===e)return a.EXPORTS;throw t};t.castAsGlobalWorkspaceStorageScope=function(e){var t=(0,o.newCastingError)("GlobalWorkspaceStorageScope",e);if((0,u.isObject)(e)&&"type"in e&&e.type===a.GLOBAL)return{type:e.type};throw t};t.castAsProjectWorkspaceStorageScope=function(e){var t=(0,o.newCastingError)("ProjectWorkspaceStorageScope",e);if((0,u.isObject)(e)&&"type"in e&&e.type===a.PROJECT&&"projectId"in e&&(0,u.isString)(e.projectId))return{type:e.type,projectId:e.projectId};throw t};t.castAsExportsWorkspaceStorageScope=function(e){var t=(0,o.newCastingError)("ExportsWorkspaceStorageScope",e);if((0,u.isObject)(e)&&"type"in e&&e.type===a.EXPORTS)return{type:e.type};throw t};t.castAsWorkspaceStorageScope=function(e){var r=(0,o.newCastingError)("WorkspaceStorageScope",e);try{return(0,t.castAsGlobalWorkspaceStorageScope)(e)}catch(n){(0,o.updateCastingError)(r,n)}try{return(0,t.castAsProjectWorkspaceStorageScope)(e)}catch(n){(0,o.updateCastingError)(r,n)}try{return(0,t.castAsExportsWorkspaceStorageScope)(e)}catch(n){(0,o.updateCastingError)(r,n)}throw r};var c;t.castAsWorkspaceStorageHydratedUrl=function(e){var t=(0,o.newCastingError)("WorkspaceStorageHydratedUrl",e);if((0,u.isObject)(e)&&"signedUrl"in e&&(0,u.isString)(e.signedUrl)&&"expirationMillisecondsSinceEpoch"in e&&(0,u.isNumber)(e.expirationMillisecondsSinceEpoch))return{signedUrl:e.signedUrl,expirationMillisecondsSinceEpoch:e.expirationMillisecondsSinceEpoch};throw t},function(e){e.READ="READ",e.WRITE="WRITE",e.THUMBNAIL_READ="THUMBNAIL_READ",e.THUMBNAIL_WRITE="THUMBNAIL_WRITE"}(c||(t.WorkspaceStorageFileSignedUrlType=c={}));t.castAsWorkspaceStorageFileSignedUrlType=function(e){var t=(0,o.newCastingError)("WorkspaceStorageFileSignedUrlType",e);if("READ"===e)return c.READ;if("WRITE"===e)return c.WRITE;if("THUMBNAIL_READ"===e)return c.THUMBNAIL_READ;if("THUMBNAIL_WRITE"===e)return c.THUMBNAIL_WRITE;throw t};t.castAsWorkspaceStorageFileHydratedUrlRecord=function(e){var r=(0,o.newCastingError)("WorkspaceStorageFileHydratedUrlRecord",e);try{var n;return(0,u.castAsTypedRecord)(e,(i(n={},c.READ,null),i(n,c.WRITE,null),i(n,c.THUMBNAIL_READ,null),i(n,c.THUMBNAIL_WRITE,null),n),(function(e){return(0,u.castAsTypedOptional)(e,t.castAsWorkspaceStorageHydratedUrl)}))}catch(a){(0,o.updateCastingError)(r,a)}throw r};var l;t.castAsWorkspaceStorageThumbnailMetadata=function(e){var t=(0,o.newCastingError)("WorkspaceStorageThumbnailMetadata",e);if((0,u.isObject)(e)&&"size"in e&&"fileExtension"in e&&(0,u.isString)(e.fileExtension)&&"fileBytes"in e&&(0,u.isNumber)(e.fileBytes)&&"fileMimeType"in e&&(0,u.isString)(e.fileMimeType))try{return{size:(0,s.castAsSize)(e.size),fileExtension:e.fileExtension,fileBytes:e.fileBytes,fileMimeType:e.fileMimeType}}catch(r){(0,o.updateCastingError)(t,r)}throw t},function(e){e.AUDIO="AUDIO",e.IMAGE="IMAGE",e.VIDEO="VIDEO"}(l||(t.WorkspaceStorageFileType=l={}));t.castAsWorkspaceStorageFileType=function(e){var t=(0,o.newCastingError)("WorkspaceStorageFileType",e);if("AUDIO"===e)return l.AUDIO;if("IMAGE"===e)return l.IMAGE;if("VIDEO"===e)return l.VIDEO;throw t};var d;t.castAsWorkspaceStorageFileMetadata=function(e){var r=(0,o.newCastingError)("WorkspaceStorageFileMetadata",e);if((0,u.isObject)(e)&&"storageScope"in e&&"displayName"in e&&(0,u.isString)(e.displayName)&&"description"in e&&(0,u.isOptionalString)(e.description)&&"creationSecondsSinceEpoch"in e&&(0,u.isNumber)(e.creationSecondsSinceEpoch)&&"uploadConfirmationSecondsSinceEpoch"in e&&(0,u.isOptionalNumber)(e.uploadConfirmationSecondsSinceEpoch)&&"fileExtension"in e&&(0,u.isString)(e.fileExtension)&&"fileBytes"in e&&(0,u.isNumber)(e.fileBytes)&&"fileMimeType"in e&&(0,u.isString)(e.fileMimeType)&&"hydratedUrlRecord"in e&&"thumbnailMetadata"in e&&"sourceProjectId"in e&&(0,u.isOptionalString)(e.sourceProjectId)&&"isDeleted"in e&&(0,u.isBoolean)(e.isDeleted))try{return{storageScope:(0,t.castAsWorkspaceStorageScope)(e.storageScope),displayName:e.displayName,description:e.description,creationSecondsSinceEpoch:e.creationSecondsSinceEpoch,uploadConfirmationSecondsSinceEpoch:e.uploadConfirmationSecondsSinceEpoch,fileExtension:e.fileExtension,fileBytes:e.fileBytes,fileMimeType:e.fileMimeType,hydratedUrlRecord:(0,t.castAsWorkspaceStorageFileHydratedUrlRecord)(e.hydratedUrlRecord),thumbnailMetadata:(0,u.castAsTypedOptional)(e.thumbnailMetadata,t.castAsWorkspaceStorageThumbnailMetadata),sourceProjectId:e.sourceProjectId,isDeleted:e.isDeleted}}catch(n){(0,o.updateCastingError)(r,n)}if((0,u.isObject)(e)&&"storageScope"in e&&"displayName"in e&&(0,u.isString)(e.displayName)&&"description"in e&&(0,u.isOptionalString)(e.description)&&"creationSecondsSinceEpoch"in e&&(0,u.isNumber)(e.creationSecondsSinceEpoch)&&"uploadConfirmationSecondsSinceEpoch"in e&&(0,u.isOptionalNumber)(e.uploadConfirmationSecondsSinceEpoch)&&"fileExtension"in e&&(0,u.isString)(e.fileExtension)&&"fileBytes"in e&&(0,u.isNumber)(e.fileBytes)&&"fileMimeType"in e&&(0,u.isString)(e.fileMimeType)&&"hydratedUrlRecord"in e&&"thumbnailMetadata"in e&&!("sourceProjectId"in e)&&"isDeleted"in e&&(0,u.isBoolean)(e.isDeleted))try{return{storageScope:(0,t.castAsWorkspaceStorageScope)(e.storageScope),displayName:e.displayName,description:e.description,creationSecondsSinceEpoch:e.creationSecondsSinceEpoch,uploadConfirmationSecondsSinceEpoch:e.uploadConfirmationSecondsSinceEpoch,fileExtension:e.fileExtension,fileBytes:e.fileBytes,fileMimeType:e.fileMimeType,hydratedUrlRecord:(0,t.castAsWorkspaceStorageFileHydratedUrlRecord)(e.hydratedUrlRecord),thumbnailMetadata:(0,u.castAsTypedOptional)(e.thumbnailMetadata,t.castAsWorkspaceStorageThumbnailMetadata),sourceProjectId:null,isDeleted:e.isDeleted}}catch(n){(0,o.updateCastingError)(r,n)}if((0,u.isObject)(e)&&!("storageScope"in e)&&"displayName"in e&&(0,u.isString)(e.displayName)&&"description"in e&&(0,u.isOptionalString)(e.description)&&"creationSecondsSinceEpoch"in e&&(0,u.isNumber)(e.creationSecondsSinceEpoch)&&"uploadConfirmationSecondsSinceEpoch"in e&&(0,u.isOptionalNumber)(e.uploadConfirmationSecondsSinceEpoch)&&"fileExtension"in e&&(0,u.isString)(e.fileExtension)&&"fileBytes"in e&&(0,u.isNumber)(e.fileBytes)&&"fileMimeType"in e&&(0,u.isString)(e.fileMimeType)&&"hydratedUrlRecord"in e&&"thumbnailMetadata"in e&&!("sourceProjectId"in e)&&"isDeleted"in e&&(0,u.isBoolean)(e.isDeleted))try{return{storageScope:{type:a.GLOBAL},displayName:e.displayName,description:e.description,creationSecondsSinceEpoch:e.creationSecondsSinceEpoch,uploadConfirmationSecondsSinceEpoch:e.uploadConfirmationSecondsSinceEpoch,fileExtension:e.fileExtension,fileBytes:e.fileBytes,fileMimeType:e.fileMimeType,hydratedUrlRecord:(0,t.castAsWorkspaceStorageFileHydratedUrlRecord)(e.hydratedUrlRecord),thumbnailMetadata:(0,u.castAsTypedOptional)(e.thumbnailMetadata,t.castAsWorkspaceStorageThumbnailMetadata),sourceProjectId:null,isDeleted:e.isDeleted}}catch(n){(0,o.updateCastingError)(r,n)}throw r},function(e){e.UPLOAD="UPLOAD"}(d||(t.WorkspaceStorageAudioSource=d={}));var f;t.castAsWorkspaceStorageAudioSource=function(e){var t=(0,o.newCastingError)("WorkspaceStorageAudioSource",e);if("UPLOAD"===e)return d.UPLOAD;throw t},function(e){e.UNSPECIFIED="UNSPECIFIED",e.MUSIC="MUSIC",e.VOICE_OVER="VOICE_OVER"}(f||(t.WorkspaceStorageAudioRole=f={}));t.castAsWorkspaceStorageAudioRole=function(e){var t=(0,o.newCastingError)("WorkspaceStorageAudioRole",e);if("UNSPECIFIED"===e)return f.UNSPECIFIED;if("MUSIC"===e)return f.MUSIC;if("VOICE_OVER"===e)return f.VOICE_OVER;throw t};t.castAsWorkspaceStorageAudioFileMetadata=function(e){var r=(0,o.newCastingError)("WorkspaceStorageAudioFileMetadata",e);if((0,u.isObject)(e)&&"duration"in e&&(0,u.isNumber)(e.duration)&&"storageAudioSource"in e&&"storageAudioRole"in e)try{return{duration:e.duration,storageAudioSource:(0,t.castAsWorkspaceStorageAudioSource)(e.storageAudioSource),storageAudioRole:(0,t.castAsWorkspaceStorageAudioRole)(e.storageAudioRole)}}catch(n){(0,o.updateCastingError)(r,n)}throw r};var h;t.castAsWorkspaceStorageAudioFile=function(e){var r=(0,o.newCastingError)("WorkspaceStorageAudioFile",e);if((0,u.isObject)(e)&&"type"in e&&e.type===l.AUDIO&&"storageFileId"in e&&(0,u.isString)(e.storageFileId)&&"storageFileMetadata"in e&&"duration"in e&&(0,u.isNumber)(e.duration))try{return{type:e.type,storageFileId:e.storageFileId,storageFileMetadata:(0,t.castAsWorkspaceStorageFileMetadata)(e.storageFileMetadata),duration:e.duration}}catch(i){(0,o.updateCastingError)(r,i)}if((0,u.isObject)(e)&&"type"in e&&e.type===l.AUDIO&&"storageFileId"in e&&(0,u.isString)(e.storageFileId)&&"storageFileMetadata"in e&&"storageAudioFileMetadata"in e)try{var n=(0,t.castAsWorkspaceStorageAudioFileMetadata)(e.storageAudioFileMetadata);return{type:e.type,storageFileId:e.storageFileId,storageFileMetadata:(0,t.castAsWorkspaceStorageFileMetadata)(e.storageFileMetadata),duration:n.duration}}catch(i){(0,o.updateCastingError)(r,i)}throw r},function(e){e.UPLOAD="UPLOAD",e.VIDEO_THUMBNAIL="VIDEO_THUMBNAIL",e.AI_ARTIST="AI_ARTIST"}(h||(t.WorkspaceStorageImageSource=h={}));t.castAsWorkspaceStorageImageSource=function(e){var t=(0,o.newCastingError)("WorkspaceStorageImageSource",e);if("UPLOAD"===e)return h.UPLOAD;if("VIDEO_THUMBNAIL"===e)return h.VIDEO_THUMBNAIL;if("AI_ARTIST"===e)return h.AI_ARTIST;throw t};t.castAsWorkspaceStorageImageFileMetadata=function(e){var r=(0,o.newCastingError)("WorkspaceStorageImageFileMetadata",e);if((0,u.isObject)(e)&&"size"in e&&"storageImageSource"in e)try{return{size:(0,s.castAsSize)(e.size),storageImageSource:(0,t.castAsWorkspaceStorageImageSource)(e.storageImageSource)}}catch(n){(0,o.updateCastingError)(r,n)}throw r};var p;t.castAsWorkspaceStorageImageFile=function(e){var r=(0,o.newCastingError)("WorkspaceStorageImageFile",e);if((0,u.isObject)(e)&&"type"in e&&e.type===l.IMAGE&&"storageFileId"in e&&(0,u.isString)(e.storageFileId)&&"storageFileMetadata"in e&&"size"in e)try{return{type:e.type,storageFileId:e.storageFileId,storageFileMetadata:(0,t.castAsWorkspaceStorageFileMetadata)(e.storageFileMetadata),size:(0,s.castAsSize)(e.size)}}catch(i){(0,o.updateCastingError)(r,i)}if((0,u.isObject)(e)&&"type"in e&&e.type===l.IMAGE&&"storageFileId"in e&&(0,u.isString)(e.storageFileId)&&"storageFileMetadata"in e&&"storageImageFileMetadata"in e)try{var n=(0,t.castAsWorkspaceStorageImageFileMetadata)(e.storageImageFileMetadata);return{type:e.type,storageFileId:e.storageFileId,storageFileMetadata:(0,t.castAsWorkspaceStorageFileMetadata)(e.storageFileMetadata),size:n.size}}catch(i){(0,o.updateCastingError)(r,i)}throw r},function(e){e.UPLOAD="UPLOAD"}(p||(t.WorkspaceStorageVideoSource=p={}));t.castAsWorkspaceStorageVideoSource=function(e){var t=(0,o.newCastingError)("WorkspaceStorageVideoSource",e);if("UPLOAD"===e)return p.UPLOAD;throw t};t.castAsWorkspaceStorageVideoFileMetadata=function(e){var r=(0,o.newCastingError)("WorkspaceStorageVideoFileMetadata",e);if((0,u.isObject)(e)&&"duration"in e&&(0,u.isNumber)(e.duration)&&"size"in e&&"storageVideoSource"in e)try{return{duration:e.duration,size:(0,s.castAsSize)(e.size),storageVideoSource:(0,t.castAsWorkspaceStorageVideoSource)(e.storageVideoSource)}}catch(n){(0,o.updateCastingError)(r,n)}throw r};t.castAsWorkspaceStorageVideoFile=function(e){var r=(0,o.newCastingError)("WorkspaceStorageVideoFile",e);if((0,u.isObject)(e)&&"type"in e&&e.type===l.VIDEO&&"storageFileId"in e&&(0,u.isString)(e.storageFileId)&&"storageFileMetadata"in e&&"duration"in e&&(0,u.isNumber)(e.duration)&&"size"in e)try{return{type:e.type,storageFileId:e.storageFileId,storageFileMetadata:(0,t.castAsWorkspaceStorageFileMetadata)(e.storageFileMetadata),duration:e.duration,size:(0,s.castAsSize)(e.size)}}catch(i){(0,o.updateCastingError)(r,i)}if((0,u.isObject)(e)&&"type"in e&&e.type===l.VIDEO&&"storageFileId"in e&&(0,u.isString)(e.storageFileId)&&"storageFileMetadata"in e&&"storageVideoFileMetadata"in e){var n=(0,t.castAsWorkspaceStorageVideoFileMetadata)(e.storageVideoFileMetadata);try{return{type:e.type,storageFileId:e.storageFileId,storageFileMetadata:(0,t.castAsWorkspaceStorageFileMetadata)(e.storageFileMetadata),duration:n.duration,size:n.size}}catch(i){(0,o.updateCastingError)(r,i)}}throw r};t.castAsWorkspaceStorageFile=function(e){var r=(0,o.newCastingError)("WorkspaceStorageFile",e);try{return(0,t.castAsWorkspaceStorageAudioFile)(e)}catch(n){(0,o.updateCastingError)(r,n)}try{return(0,t.castAsWorkspaceStorageImageFile)(e)}catch(n){(0,o.updateCastingError)(r,n)}try{return(0,t.castAsWorkspaceStorageVideoFile)(e)}catch(n){(0,o.updateCastingError)(r,n)}throw r};var v;t.castAsWorkspaceStorageIdFileRecord=function(e){var r=(0,o.newCastingError)("WorkspaceStorageIdFileRecord",e);try{return(0,u.castAsTypedPartialRecord)(e,u.castAsString,t.castAsWorkspaceStorageFile)}catch(n){(0,o.updateCastingError)(r,n)}throw r},function(e){e.PRIMARY="PRIMARY",e.THUMBNAIL="THUMBNAIL"}(v||(t.WorkspaceStorageFileSubtype=v={}));t.castAsWorkspaceStorageFileSubtype=function(e){var t=(0,o.newCastingError)("WorkspaceStorageFileSubtype",e);if("PRIMARY"===e)return v.PRIMARY;if("THUMBNAIL"===e)return v.THUMBNAIL;throw t};t.castAsWorkspaceStorageFileHydrationRequest=function(e){var r=(0,o.newCastingError)("WorkspaceStorageFileHydrationRequest",e);if((0,u.isObject)(e)&&"storageFile"in e&&"signedUrlTypes"in e)try{return{storageFile:(0,t.castAsWorkspaceStorageFile)(e.storageFile),signedUrlTypes:(0,u.castAsTypedArray)(e.signedUrlTypes,t.castAsWorkspaceStorageFileSignedUrlType)}}catch(n){(0,o.updateCastingError)(r,n)}throw r};t.castAsWorkspaceStorageFileSource=function(e){var r=(0,o.newCastingError)("WorkspaceStorageFileSource",e);if((0,u.isObject)(e)&&"storageFileId"in e&&(0,u.isString)(e.storageFileId)&&"storageFileSubtype"in e)try{return{storageFileId:e.storageFileId,storageFileSubtype:(0,t.castAsWorkspaceStorageFileSubtype)(e.storageFileSubtype)}}catch(n){(0,o.updateCastingError)(r,n)}throw r};t.castAsWorkspaceStorageScopeSummary=function(e){var t=(0,o.newCastingError)("WorkspaceStorageScopeSummary",e);if((0,u.isObject)(e)&&"summaryMillisecondsSinceEpoch"in e&&(0,u.isNumber)(e.summaryMillisecondsSinceEpoch)&&"numStoredUploads"in e&&(0,u.isNumber)(e.numStoredUploads)&&"storageBytes"in e&&(0,u.isNumber)(e.storageBytes))return{summaryMillisecondsSinceEpoch:e.summaryMillisecondsSinceEpoch,numStoredUploads:e.numStoredUploads,storageBytes:e.storageBytes};throw t};t.castAsWorkspaceStorageLimits=function(e){var t=(0,o.newCastingError)("WorkspaceStorageLimits",e);if((0,u.isObject)(e)&&"maxNumStoredUploads"in e&&(0,u.isNumber)(e.maxNumStoredUploads)&&"maxStorageBytes"in e&&(0,u.isNumber)(e.maxStorageBytes))return{maxNumStoredUploads:e.maxNumStoredUploads,maxStorageBytes:e.maxStorageBytes};throw t};t.castAsWorkspaceUploadSummary=function(e){var r=(0,o.newCastingError)("WorkspaceUploadSummary",e);if((0,u.isObject)(e)&&"storageScope"in e&&"storageFileId"in e&&(0,u.isString)(e.storageFileId)&&"initiationMsSinceEpoch"in e&&(0,u.isNumber)(e.initiationMsSinceEpoch)&&"fileBytes"in e&&(0,u.isNumber)(e.fileBytes))try{return{storageScope:(0,t.castAsWorkspaceStorageScope)(e.storageScope),storageFileId:e.storageFileId,initiationMsSinceEpoch:e.initiationMsSinceEpoch,fileBytes:e.fileBytes}}catch(n){(0,o.updateCastingError)(r,n)}if((0,u.isObject)(e)&&!("storageScope"in e)&&"storageFileId"in e&&(0,u.isString)(e.storageFileId)&&"initiationMsSinceEpoch"in e&&(0,u.isNumber)(e.initiationMsSinceEpoch)&&"fileBytes"in e&&(0,u.isNumber)(e.fileBytes))try{return{storageScope:{type:a.GLOBAL},storageFileId:e.storageFileId,initiationMsSinceEpoch:e.initiationMsSinceEpoch,fileBytes:e.fileBytes}}catch(n){(0,o.updateCastingError)(r,n)}if((0,u.isObject)(e)&&!("storageScope"in e)&&!("storageFileId"in e)&&"uploadedStorageFileIds"in e&&(0,u.isTypedArray)(e.uploadedStorageFileIds,u.isString)&&"initiationMsSinceEpoch"in e&&(0,u.isNumber)(e.initiationMsSinceEpoch)&&!("fileBytes"in e))try{if(0===e.uploadedStorageFileIds.length)throw(0,o.newCastingError)("DEPRECATED_uploadedStorageFileIds",e.uploadedStorageFileIds);return{storageScope:{type:a.GLOBAL},storageFileId:e.uploadedStorageFileIds[0],initiationMsSinceEpoch:e.initiationMsSinceEpoch,fileBytes:1e6}}catch(n){(0,o.updateCastingError)(r,n)}throw r};t.castAsWorkspaceStorageFileLocator=function(e){var r=(0,o.newCastingError)("WorkspaceStorageFileLocator",e);if((0,u.isObject)(e)&&"storageScope"in e&&"storageFileId"in e&&(0,u.isString)(e.storageFileId))try{return{storageScope:(0,t.castAsWorkspaceStorageScope)(e.storageScope),storageFileId:e.storageFileId}}catch(n){(0,o.updateCastingError)(r,n)}throw r};t.castAsWorkspaceStorageFileSearchFilter=function(e){var r=(0,o.newCastingError)("WorkspaceStorageFileSearchFilter",e);if((0,u.isObject)(e)&&"storageScope"in e)try{return n(n({storageScope:(0,t.castAsWorkspaceStorageScope)(e.storageScope)},(0,u.getOmittableObjectEntry)(e,"storageFileIds",(function(e){return(0,u.castAsTypedArray)(e,u.castAsString)}))),(0,u.getOmittableObjectEntry)(e,"storageFileTypes",(function(e){return(0,u.castAsTypedArray)(e,t.castAsWorkspaceStorageFileType)})))}catch(i){(0,o.updateCastingError)(r,i)}throw r}},37938:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsSynchronizeAudioSource=t.castAsBase64SynchronizeAudioSource=t.castAsUrlSynchronizeAudioSource=t.castAsSynchronizeAudioSourceType=t.SynchronizeAudioSourceType=void 0;var n,i=r(34250),a=r(5447);!function(e){e.URL="URL",e.BASE_64="BASE_64"}(n||(t.SynchronizeAudioSourceType=n={}));t.castAsSynchronizeAudioSourceType=function(e){var t=(0,i.newCastingError)("SynchronizeAudioSourceType",e);if("URL"===e)return n.URL;if("BASE_64"===e)return n.BASE_64;throw t};t.castAsUrlSynchronizeAudioSource=function(e){var t=(0,i.newCastingError)("UrlSynchronizeAudioSource",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.URL&&"url"in e&&(0,a.isString)(e.url)&&"fileExtension"in e&&(0,a.isString)(e.fileExtension))try{return{type:e.type,url:e.url,fileExtension:e.fileExtension}}catch(r){(0,i.updateCastingError)(t,r)}throw t};t.castAsBase64SynchronizeAudioSource=function(e){var t=(0,i.newCastingError)("Base64SynchronizeAudioSource",e);if((0,a.isObject)(e)&&"type"in e&&e.type===n.BASE_64&&"base64"in e&&(0,a.isString)(e.base64)&&"fileExtension"in e&&(0,a.isString)(e.fileExtension))try{return{type:e.type,base64:e.base64,fileExtension:e.fileExtension}}catch(r){(0,i.updateCastingError)(t,r)}throw t};t.castAsSynchronizeAudioSource=function(e){var r=(0,i.newCastingError)("SynchronizeAudioSource",e);try{return(0,t.castAsUrlSynchronizeAudioSource)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsBase64SynchronizeAudioSource)(e)}catch(n){(0,i.updateCastingError)(r,n)}throw r}},41068:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsTemplate=void 0;var n=r(34250),i=r(75174),a=r(2071),o=r(5447),s=r(27820);t.castAsTemplate=function(e){var t=(0,n.newCastingError)("Template",e);if((0,o.isObject)(e)&&"name"in e&&(0,o.isString)(e.name)&&"emoji"in e&&(0,o.isString)(e.emoji)&&"requiresWebsite"in e&&(0,o.isBoolean)(e.requiresWebsite)&&"websiteLabel"in e&&(0,o.isOptionalString)(e.websiteLabel)&&"writingStyle"in e&&(0,o.isOptionalString)(e.writingStyle)&&"previewSrc"in e&&(0,o.isOptionalString)(e.previewSrc)&&"sceneWordLengthThreshold"in e&&"useCartoon"in e&&(0,o.isBoolean)(e.useCartoon)&&"useGetty"in e&&(0,o.isBoolean)(e.useGetty)&&"aspectRatio"in e&&"requiredAuthLevel"in e)return{name:e.name,emoji:e.emoji,requiresWebsite:e.requiresWebsite,websiteLabel:e.websiteLabel,writingStyle:e.writingStyle,previewSrc:e.previewSrc,sceneWordLengthThreshold:(0,i.castAsSceneWordLengthThreshold)(e.sceneWordLengthThreshold),useCartoon:e.useCartoon,useGetty:e.useGetty,aspectRatio:(0,a.castAsAspectRatio)(e.aspectRatio),requiredAuthLevel:(0,s.castAsWorkspaceAuthLevel)(e.requiredAuthLevel)};if((0,o.isObject)(e)&&"name"in e&&(0,o.isString)(e.name)&&"emoji"in e&&(0,o.isString)(e.emoji)&&"requiresWebsite"in e&&(0,o.isBoolean)(e.requiresWebsite)&&"websiteLabel"in e&&(0,o.isOptionalString)(e.websiteLabel)&&"writingStyle"in e&&(0,o.isOptionalString)(e.writingStyle)&&"previewSrc"in e&&(0,o.isOptionalString)(e.previewSrc)&&!("sceneWordLengthThreshold"in e)&&!("useCartoon"in e)&&!("useGetty"in e)&&"aspectRatio"in e&&"requiredAuthLevel"in e)return{name:e.name,emoji:e.emoji,requiresWebsite:e.requiresWebsite,websiteLabel:e.websiteLabel,writingStyle:e.writingStyle,previewSrc:e.previewSrc,sceneWordLengthThreshold:{min:5,max:15},useCartoon:!1,useGetty:!1,aspectRatio:(0,a.castAsAspectRatio)(e.aspectRatio),requiredAuthLevel:(0,s.castAsWorkspaceAuthLevel)(e.requiredAuthLevel)};throw t}},76951:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.castAsAeneasLanguageCode=t.castAsLangCheckLanguageCode=t.castAsGoogleTranslateLanguageCode=t.castAsDetectLanguageLanguageCode=void 0;var n=r(34250);t.castAsDetectLanguageLanguageCode=function(e){var t=(0,n.newCastingError)("DetectLanguageLanguageCode",e);if("aa"===e||"ab"===e||"af"===e||"ak"===e||"am"===e||"ar"===e||"as"===e||"ay"===e||"az"===e||"ba"===e||"be"===e||"bg"===e||"bh"===e||"bi"===e||"bn"===e||"bo"===e||"br"===e||"bs"===e||"bug"===e||"ca"===e||"ceb"===e||"chr"===e||"co"===e||"crs"===e||"cs"===e||"cy"===e||"da"===e||"de"===e||"dv"===e||"dz"===e||"egy"===e||"el"===e||"en"===e||"eo"===e||"es"===e||"et"===e||"eu"===e||"fa"===e||"fi"===e||"fj"===e||"fo"===e||"fr"===e||"fy"===e||"ga"===e||"gd"===e||"gl"===e||"gn"===e||"got"===e||"gu"===e||"gv"===e||"ha"===e||"haw"===e||"hi"===e||"hmn"===e||"hr"===e||"ht"===e||"hu"===e||"hy"===e||"ia"===e||"id"===e||"ie"===e||"ig"===e||"ik"===e||"is"===e||"it"===e||"iu"===e||"iw"===e||"ja"===e||"jw"===e||"ka"===e||"kha"===e||"kk"===e||"kl"===e||"km"===e||"kn"===e||"ko"===e||"ks"===e||"ku"===e||"ky"===e||"la"===e||"lb"===e||"lg"===e||"lif"===e||"ln"===e||"lo"===e||"lt"===e||"lv"===e||"mfe"===e||"mg"===e||"mi"===e||"mk"===e||"ml"===e||"mn"===e||"mr"===e||"ms"===e||"mt"===e||"my"===e||"na"===e||"ne"===e||"nl"===e||"no"===e||"nr"===e||"nso"===e||"ny"===e||"oc"===e||"om"===e||"or"===e||"pa"===e||"pl"===e||"ps"===e||"pt"===e||"qu"===e||"rm"===e||"rn"===e||"ro"===e||"ru"===e||"rw"===e||"sa"===e||"sco"===e||"sd"===e||"sg"===e||"si"===e||"sk"===e||"sl"===e||"sm"===e||"sn"===e||"so"===e||"sq"===e||"sr"===e||"ss"===e||"st"===e||"su"===e||"sv"===e||"sw"===e||"syr"===e||"ta"===e||"te"===e||"tg"===e||"th"===e||"ti"===e||"tk"===e||"tl"===e||"tlh"===e||"tn"===e||"to"===e||"tr"===e||"ts"===e||"tt"===e||"ug"===e||"uk"===e||"ur"===e||"uz"===e||"ve"===e||"vi"===e||"vo"===e||"war"===e||"wo"===e||"xh"===e||"yi"===e||"yo"===e||"za"===e||"zh"===e||"zh-Hant"===e||"zu"===e)return e;throw t};t.castAsGoogleTranslateLanguageCode=function(e){var t=(0,n.newCastingError)("GoogleTranslateLanguageCode",e);if("af"===e||"sq"===e||"am"===e||"ar"===e||"hy"===e||"as"===e||"ay"===e||"az"===e||"bm"===e||"eu"===e||"be"===e||"bn"===e||"bho"===e||"bs"===e||"bg"===e||"ca"===e||"ceb"===e||"zh"===e||"zh-CN"===e||"zh-TW"===e||"co"===e||"hr"===e||"cs"===e||"da"===e||"dv"===e||"doi"===e||"nl"===e||"en"===e||"eo"===e||"et"===e||"ee"===e||"fil"===e||"fi"===e||"fr"===e||"fy"===e||"gl"===e||"ka"===e||"de"===e||"el"===e||"gn"===e||"gu"===e||"ht"===e||"ha"===e||"haw"===e||"he"===e||"iw"===e||"hi"===e||"hmn"===e||"hu"===e||"is"===e||"ig"===e||"ilo"===e||"id"===e||"ga"===e||"it"===e||"ja"===e||"jv"===e||"jw"===e||"kn"===e||"kk"===e||"km"===e||"rw"===e||"gom"===e||"ko"===e||"kri"===e||"ku"===e||"ckb"===e||"ky"===e||"lo"===e||"la"===e||"lv"===e||"ln"===e||"lt"===e||"lg"===e||"lb"===e||"mk"===e||"mai"===e||"mg"===e||"ms"===e||"ml"===e||"mt"===e||"mi"===e||"mr"===e||"mni-Mtei"===e||"lus"===e||"mn"===e||"my"===e||"ne"===e||"no"===e||"ny"===e||"or"===e||"om"===e||"ps"===e||"fa"===e||"pl"===e||"pt"===e||"pa"===e||"qu"===e||"ro"===e||"ru"===e||"sm"===e||"sa"===e||"gd"===e||"nso"===e||"sr"===e||"st"===e||"sn"===e||"sd"===e||"si"===e||"sk"===e||"sl"===e||"so"===e||"es"===e||"su"===e||"sw"===e||"sv"===e||"tl"===e||"tg"===e||"ta"===e||"tt"===e||"te"===e||"th"===e||"ti"===e||"ts"===e||"tr"===e||"tk"===e||"ak"===e||"uk"===e||"ur"===e||"ug"===e||"uz"===e||"vi"===e||"cy"===e||"xh"===e||"yi"===e||"yo"===e||"zu"===e)return e;throw t};t.castAsLangCheckLanguageCode=function(e){var t=(0,n.newCastingError)("LangCheckLanguageCode",e);if("af"===e||"ar"===e||"bg"===e||"bn"===e||"br"===e||"bs"===e||"ca"===e||"cs"===e||"da"===e||"de"===e||"el"===e||"en"===e||"eo"===e||"es"===e||"et"===e||"eu"===e||"fa"===e||"fi"===e||"fr"===e||"gl"===e||"he"===e||"hi"===e||"hr"===e||"hu"===e||"hy"===e||"id"===e||"is"===e||"it"===e||"ja"===e||"ka"===e||"kk"===e||"ko"===e||"lt"===e||"lv"===e||"mk"===e||"ml"===e||"ms"===e||"nl"===e||"no"===e||"pl"===e||"pt"===e||"ro"===e||"ru"===e||"si"===e||"sk"===e||"sl"===e||"sq"===e||"sr"===e||"sv"===e||"ta"===e||"te"===e||"th"===e||"tl"===e||"tr"===e||"uk"===e||"vi"===e||"zh"===e)return e;throw t};t.castAsAeneasLanguageCode=function(e){var t=(0,n.newCastingError)("AeneasLanguageCode",e);if("afr"===e||"amh"===e||"ara"===e||"arg"===e||"asm"===e||"aze"===e||"ben"===e||"bos"===e||"bul"===e||"cat"===e||"ces"===e||"cmn"===e||"cym"===e||"dan"===e||"deu"===e||"ell"===e||"eng"===e||"epo"===e||"est"===e||"eus"===e||"fas"===e||"fin"===e||"fra"===e||"gla"===e||"gle"===e||"glg"===e||"grc"===e||"grn"===e||"guj"===e||"heb"===e||"hin"===e||"hrv"===e||"hun"===e||"hye"===e||"ina"===e||"ind"===e||"isl"===e||"ita"===e||"jbo"===e||"jpn"===e||"kal"===e||"kan"===e||"kat"===e||"kir"===e||"kor"===e||"kur"===e||"lat"===e||"lav"===e||"lfn"===e||"lit"===e||"mal"===e||"mar"===e||"mkd"===e||"mlt"===e||"msa"===e||"mya"===e||"nah"===e||"nep"===e||"nld"===e||"nor"===e||"ori"===e||"orm"===e||"pan"===e||"pap"===e||"pol"===e||"por"===e||"ron"===e||"rus"===e||"sin"===e||"slk"===e||"slv"===e||"spa"===e||"sqi"===e||"srp"===e||"swa"===e||"swe"===e||"tam"===e||"tat"===e||"tel"===e||"tha"===e||"tsn"===e||"tur"===e||"ukr"===e||"urd"===e||"vie"===e||"yue"===e||"zho"===e)return e;throw t}},2421:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayableGender=t.castAsVoiceData=t.castAsPronunciationReplacement=t.castAsTtsVoice=t.castAsElevenLabsTtsVoice=t.castAsOpenAiTtsVoice=t.castAsOpenAiTtsVoiceId=t.castAsGoogleTtsVoice=t.castAsTtsProviderName=t.TtsProviderName=void 0;var n,i=r(34250),a=r(5447);!function(e){e.GOOGLE="GOOGLE",e.OPEN_AI="OPEN_AI",e.ELEVEN_LABS="ELEVEN_LABS"}(n||(t.TtsProviderName=n={}));t.castAsTtsProviderName=function(e){var t=(0,i.newCastingError)("TtsProviderName",e);if("GOOGLE"===e)return n.GOOGLE;if("OPEN_AI"===e)return n.OPEN_AI;if("ELEVEN_LABS"===e)return n.ELEVEN_LABS;throw t};t.castAsGoogleTtsVoice=function(e){var t=(0,i.newCastingError)("GoogleTtsVoice",e);if((0,a.isObject)(e)&&"providerName"in e&&e.providerName===n.GOOGLE&&"languageCode"in e&&(0,a.isString)(e.languageCode)&&"name"in e&&(0,a.isString)(e.name))try{return{providerName:e.providerName,languageCode:e.languageCode,name:e.name}}catch(r){(0,i.updateCastingError)(t,r)}throw t};t.castAsOpenAiTtsVoiceId=function(e){var t=(0,i.newCastingError)("OpenAiTtsVoiceId",e);if("alloy"===e||"echo"===e||"fable"===e||"onyx"===e||"nova"===e||"shimmer"===e)return e;throw t};t.castAsOpenAiTtsVoice=function(e){var r=(0,i.newCastingError)("OpenAiTtsVoice",e);if((0,a.isObject)(e)&&"providerName"in e&&e.providerName===n.OPEN_AI&&"languageCode"in e&&(0,a.isString)(e.languageCode)&&"voiceId"in e)try{return{providerName:e.providerName,languageCode:e.languageCode,voiceId:(0,t.castAsOpenAiTtsVoiceId)(e.voiceId)}}catch(o){(0,i.updateCastingError)(r,o)}if((0,a.isObject)(e)&&"providerName"in e&&e.providerName===n.OPEN_AI&&"voiceId"in e)try{return{providerName:e.providerName,languageCode:"en-US",voiceId:(0,t.castAsOpenAiTtsVoiceId)(e.voiceId)}}catch(o){(0,i.updateCastingError)(r,o)}throw r};t.castAsElevenLabsTtsVoice=function(e){var t=(0,i.newCastingError)("ElevenLabsTtsVoice",e);if((0,a.isObject)(e)&&"providerName"in e&&e.providerName===n.ELEVEN_LABS&&"languageCode"in e&&(0,a.isString)(e.languageCode)&&"voiceId"in e&&(0,a.isString)(e.voiceId))try{return{providerName:e.providerName,languageCode:e.languageCode,voiceId:e.voiceId}}catch(r){(0,i.updateCastingError)(t,r)}if((0,a.isObject)(e)&&"providerName"in e&&e.providerName===n.ELEVEN_LABS&&"voiceId"in e&&(0,a.isString)(e.voiceId))try{return{providerName:e.providerName,languageCode:"en-US",voiceId:e.voiceId}}catch(r){(0,i.updateCastingError)(t,r)}throw t};t.castAsTtsVoice=function(e){var r=(0,i.newCastingError)("TtsVoice",e);try{return(0,t.castAsGoogleTtsVoice)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsOpenAiTtsVoice)(e)}catch(n){(0,i.updateCastingError)(r,n)}try{return(0,t.castAsElevenLabsTtsVoice)(e)}catch(n){(0,i.updateCastingError)(r,n)}throw r};t.castAsPronunciationReplacement=function(e){var t=(0,i.newCastingError)("PronunciationReplacement",e);if((0,a.isObject)(e)&&"originalText"in e&&(0,a.isString)(e.originalText)&&"replacementText"in e&&(0,a.isString)(e.replacementText))return{originalText:e.originalText,replacementText:e.replacementText};throw t};var o;t.castAsVoiceData=function(e){var r=(0,i.newCastingError)("VoiceData",e);if((0,a.isObject)(e)&&"ttsVoice"in e&&"volume"in e&&(0,a.isNumber)(e.volume)&&"pronunciationReplacements"in e)try{return{ttsVoice:(0,t.castAsTtsVoice)(e.ttsVoice),volume:e.volume,pronunciationReplacements:(0,a.castAsTypedArray)(e.pronunciationReplacements,t.castAsPronunciationReplacement)}}catch(n){(0,i.updateCastingError)(r,n)}throw r},function(e){e.FEMALE="FEMALE",e.MALE="MALE",e.NEUTRAL="NEUTRAL"}(o||(t.DisplayableGender=o={}))},5447:function(e,t,r){"use strict";var n=r(27424).default,i=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.castAsEnumValue=t.castAsTypedPartialRecord=t.getEmptyPartialRecord=t.castAsTypedRecord=t.assignSourceToTarget=t.strictObjectToEntries=t.entriesToStrictObject=t.castAsTyped2DArray=t.isOmittableTyped2DArray=t.isTyped2DArray=t.is2DArray=t.getArrayWithoutOmissions=t.castAsTypedArray=t.isOmittableTypedArray=t.isTypedArray=t.castAsArray=t.isOmittableArray=t.isArray=t.castAsInteger=t.isOmittableInteger=t.isOptionalInteger=t.isInteger=t.castAsNumber=t.isOmittableNumber=t.isOptionalNumber=t.isNumber=t.castAsString=t.isOmittableString=t.isOptionalString=t.isString=t.castAsBoolean=t.isOmittableBoolean=t.isOptionalBoolean=t.isBoolean=t.castAsObject=t.isOmittableObject=t.isOptionalObject=t.isObject=t.isNull=t.isUndefined=t.castAsUnknown=t.getOmittableObjectOptionalEntry=t.getOmittableObjectEntry=t.castOrDefault=t.castOrOmit=t.castAsTypedOmittable=t.castAsTypedOptional=void 0;var a=r(34250);t.castAsTypedOptional=function(e,r){return(0,t.isNull)(e)?null:r(e)};t.castAsTypedOmittable=function(e,r){if(!(0,t.isUndefined)(e))return r(e)};t.castOrOmit=function(e,r){if(!(0,t.isUndefined)(e))try{return r(e)}catch(n){return}};t.castOrDefault=function(e,t,r){try{return t(e)}catch(n){return r}};t.getOmittableObjectEntry=function(e,r,n){var a=e[r];if(!(0,t.isUndefined)(a))return i({},r,n(a))};t.getOmittableObjectOptionalEntry=function(e,r,n){return(0,t.getOmittableObjectEntry)(e,r,(function(e){return(0,t.castAsTypedOptional)(e,n)}))};t.castAsUnknown=function(e){return e};t.isUndefined=function(e){return void 0===e};t.isNull=function(e){return null===e};t.isObject=function(e){return"object"===typeof e&&!(0,t.isNull)(e)};t.isOptionalObject=function(e){return(0,t.isObject)(e)||(0,t.isNull)(e)};t.isOmittableObject=function(e){return(0,t.isObject)(e)||(0,t.isUndefined)(e)};t.castAsObject=function(e){var r=(0,a.newCastingError)("object",e);if((0,t.isObject)(e))return e;throw r};t.isBoolean=function(e){return"boolean"===typeof e};t.isOptionalBoolean=function(e){return(0,t.isBoolean)(e)||(0,t.isNull)(e)};t.isOmittableBoolean=function(e){return(0,t.isBoolean)(e)||(0,t.isUndefined)(e)};t.castAsBoolean=function(e){var r=(0,a.newCastingError)("boolean",e);if((0,t.isBoolean)(e))return e;throw r};t.isString=function(e){return"string"===typeof e};t.isOptionalString=function(e){return(0,t.isString)(e)||(0,t.isNull)(e)};t.isOmittableString=function(e){return(0,t.isString)(e)||(0,t.isUndefined)(e)};t.castAsString=function(e){var r=(0,a.newCastingError)("string",e);if((0,t.isString)(e))return e;throw r};t.isNumber=function(e){return"number"===typeof e&&!Number.isNaN(e)&&Number.isFinite(e)};t.isOptionalNumber=function(e){return(0,t.isNumber)(e)||(0,t.isNull)(e)};t.isOmittableNumber=function(e){return(0,t.isNumber)(e)||(0,t.isUndefined)(e)};t.castAsNumber=function(e){var r=(0,a.newCastingError)("number",e);if((0,t.isNumber)(e))return e;throw r};t.isInteger=function(e){return(0,t.isNumber)(e)&&Number.isInteger(e)};t.isOptionalInteger=function(e){return(0,t.isInteger)(e)||(0,t.isNull)(e)};t.isOmittableInteger=function(e){return(0,t.isInteger)(e)||(0,t.isUndefined)(e)};t.castAsInteger=function(e){var r=(0,a.newCastingError)("Integer",e);if((0,t.isInteger)(e))return e;throw r};t.isArray=function(e){return Array.isArray(e)};t.isOmittableArray=function(e){return(0,t.isArray)(e)||(0,t.isUndefined)(e)};t.castAsArray=function(e){var r=(0,a.newCastingError)("Array",e);if((0,t.isArray)(e))return e;throw r};t.isTypedArray=function(e,r){return(0,t.isArray)(e)&&e.every((function(e){return r(e)}))};t.isOmittableTypedArray=function(e,r){return(0,t.isTypedArray)(e,r)||(0,t.isUndefined)(e)};t.castAsTypedArray=function(e,r){var n=(0,a.newCastingError)("TypedArray",e);if((0,t.isArray)(e))try{return e.map((function(e){return r(e)}))}catch(i){(0,a.updateCastingError)(n,i)}throw n};t.getArrayWithoutOmissions=function(e){return e.filter((function(e){return!(0,t.isUndefined)(e)}))};t.is2DArray=function(e){return(0,t.isArray)(e)&&e.every((function(e){return(0,t.isArray)(e)}))};t.isTyped2DArray=function(e,r){return(0,t.isArray)(e)&&e.every((function(e){return(0,t.isTypedArray)(e,r)}))};t.isOmittableTyped2DArray=function(e,r){return(0,t.isTyped2DArray)(e,r)||(0,t.isUndefined)(e)};t.castAsTyped2DArray=function(e,r){var n=(0,a.newCastingError)("Typed2DArray",e);if((0,t.isArray)(e))try{return e.map((function(e){return(0,t.castAsTypedArray)(e,r)}))}catch(i){(0,a.updateCastingError)(n,i)}throw n};t.entriesToStrictObject=function(e){return Object.fromEntries(e)};t.strictObjectToEntries=function(e){return Object.entries(e)};t.assignSourceToTarget=function(e){var t=e.source,r=e.target;return Object.assign(r,t)};t.castAsTypedRecord=function(e,r,i){var o=(0,a.newCastingError)("TypedRecord",e);if((0,t.isObject)(e))try{return(0,t.entriesToStrictObject)((0,t.strictObjectToEntries)(r).map((function(r){var a=n(r,2),o=a[0],s=a[1];return[o,(0,t.castOrDefault)(e[o],i,s)]})))}catch(s){(0,a.updateCastingError)(o,s)}throw o};t.getEmptyPartialRecord=function(){var e={};return Object.setPrototypeOf(e,null),e};t.castAsTypedPartialRecord=function(e,r,n){var i=(0,a.newCastingError)("TypedPartialRecord",e);if((0,t.isObject)(e))try{var o=(0,t.getEmptyPartialRecord)();for(var s in e){var u=e[s];(0,t.isUndefined)(u)||(o[r(s)]=n(u))}return o}catch(c){(0,a.updateCastingError)(i,c)}throw i};t.castAsEnumValue=function(e,r){var n=(0,a.newCastingError)("EnumValue",e),i=Object.values(r);if((0,t.isString)(e)&&i.includes(e))return e;throw n}},27820:function(e,t,r){"use strict";var n=r(38416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.castAsWorkspaceInfo=t.castAsWorkspaceReferralData=t.castAsWorkspacePermissions=t.castAsUsageConstantKey=t.castAsUsageCreditsContainer=t.InternalMonthlyRefillDuration=t.UsageCreditKeyVisibility=t.castAsUsageCreditKey=t.castAsUsageCredits=t.castAsWorkspaceAuthLevel=t.WorkspaceAuthLevel=t.castAsOnboardingTaskCompletionTimeRecord=t.castAsOnboardingTask=t.OnboardingTask=t.castAsWorkspaceSegments=t.castAsRoleSegment=t.RoleSegment=t.castAsUseCaseSegment=t.UseCaseSegment=void 0;var i,a=r(34250),o=r(77911),s=r(71047),u=r(98850),c=r(24887),l=r(78436),d=r(90152),f=r(5447);!function(e){e.MARKETING="MARKETING",e.EDUCATION="EDUCATION",e.CONTENT_CREATION="CONTENT_CREATION",e.FOR_FUN="FOR_FUN",e.MEDIA="MEDIA",e.COMMUNICATION="COMMUNICATION",e.OTHER="OTHER",e.SKIP="SKIP"}(i||(t.UseCaseSegment=i={}));var h;t.castAsUseCaseSegment=function(e){var t=(0,a.newCastingError)("UseCaseSegment",e);if("MARKETING"===e)return i.MARKETING;if("CONTENT_CREATION"===e)return i.CONTENT_CREATION;if("EDUCATION"===e)return i.EDUCATION;if("COMMUNICATION"===e)return i.COMMUNICATION;if("FOR_FUN"===e)return i.FOR_FUN;if("MEDIA"===e)return i.MEDIA;if("OTHER"===e)return i.OTHER;if("SKIP"===e)return i.SKIP;throw t},function(e){e.CONTENT_CREATOR="CONTENT_CREATOR",e.FREELANCER="FREELANCER",e.MARKETER="MARKETER",e.BUSINESS_OWNER="BUSINESS_OWNER",e.NONPROFIT_ADVOCATE="NONPROFIT_ADVOCATE",e.EDUCATOR="EDUCATOR",e.OTHER="OTHER"}(h||(t.RoleSegment=h={}));t.castAsRoleSegment=function(e){var t=(0,a.newCastingError)("RoleSegment",e);if("CONTENT_CREATOR"===e||"FREELANCER"===e||"MARKETER"===e||"BUSINESS_OWNER"===e||"NONPROFIT_ADVOCATE"===e||"EDUCATOR"===e||"OTHER"===e)return e;throw t};var p;t.castAsWorkspaceSegments=function(e){var r=(0,a.newCastingError)("WorkspaceSegments",e);if((0,f.isObject)(e)&&"useCase"in e&&"role"in e)try{return{role:(0,f.castAsTypedOptional)(e.role,t.castAsRoleSegment),useCase:(0,f.castAsTypedOptional)(e.useCase,t.castAsUseCaseSegment)}}catch(n){(0,a.updateCastingError)(r,n)}throw r},function(e){e.SIGN_UP="SIGN_UP",e.CREATE_PROJECT="CREATE_PROJECT",e.EDIT_PROJECT="EDIT_PROJECT",e.GENERATE="GENERATE",e.EXPORT="EXPORT"}(p||(t.OnboardingTask=p={}));t.castAsOnboardingTask=function(e){var t=(0,a.newCastingError)("OnboardingTask",e);if("SIGN_UP"===e||"CREATE_PROJECT"===e||"EDIT_PROJECT"===e||"GENERATE"===e||"EXPORT"===e)return e;throw t};var v;t.castAsOnboardingTaskCompletionTimeRecord=function(e){var t=(0,a.newCastingError)("OnboardingTaskCompletionTimeRecord",e);try{var r;return(0,f.castAsTypedRecord)(e,(n(r={},p.SIGN_UP,(0,s.getCurrentSecondsSinceEpoch)()),n(r,p.CREATE_PROJECT,null),n(r,p.EDIT_PROJECT,null),n(r,p.GENERATE,null),n(r,p.EXPORT,null),r),(function(e){return(0,f.castAsTypedOptional)(e,f.castAsNumber)}))}catch(i){(0,a.updateCastingError)(t,i)}throw t},function(e){e.FREE="FREE",e.STARTER="STARTER",e.PRO="PRO",e.SCALE="SCALE",e.BUSINESS="BUSINESS",e.ENTERPRISE_TIER_1="ENTERPRISE_TIER_1",e.ENTERPRISE_TIER_2="ENTERPRISE_TIER_2",e.ENTERPRISE_TIER_3="ENTERPRISE_TIER_3",e.ENTERPRISE_TIER_4="ENTERPRISE_TIER_4",e.ENTERPRISE_TIER_5="ENTERPRISE_TIER_5",e.ENTERPRISE_TIER_6="ENTERPRISE_TIER_6",e.ENTERPRISE_TIER_7="ENTERPRISE_TIER_7",e.ENTERPRISE_TIER_8="ENTERPRISE_TIER_8",e.CUSTOM="CUSTOM",e.ADMIN="ADMIN",e.SUPER_ADMIN="SUPER_ADMIN"}(v||(t.WorkspaceAuthLevel=v={}));t.castAsWorkspaceAuthLevel=function(e){var t=(0,a.newCastingError)("WorkspaceAuthLevel",e);if("FREE"===e)return v.FREE;if("STARTER"===e)return v.STARTER;if("PRO"===e)return v.PRO;if("SCALE"===e)return v.SCALE;if("ENTERPRISE"===e)return v.BUSINESS;if("BUSINESS"===e)return v.BUSINESS;if("ENTERPRISE_TIER_1"===e)return v.ENTERPRISE_TIER_1;if("ENTERPRISE_TIER_2"===e)return v.ENTERPRISE_TIER_2;if("ENTERPRISE_TIER_3"===e)return v.ENTERPRISE_TIER_3;if("ENTERPRISE_TIER_4"===e)return v.ENTERPRISE_TIER_4;if("ENTERPRISE_TIER_5"===e)return v.ENTERPRISE_TIER_5;if("ENTERPRISE_TIER_6"===e)return v.ENTERPRISE_TIER_6;if("ENTERPRISE_TIER_7"===e)return v.ENTERPRISE_TIER_7;if("ENTERPRISE_TIER_8"===e)return v.ENTERPRISE_TIER_8;if("CUSTOM"===e)return v.CUSTOM;if("ADMIN"===e)return v.ADMIN;if("SUPER_ADMIN"===e)return v.SUPER_ADMIN;throw t};t.castAsUsageCredits=function(e){var t=(0,a.newCastingError)("UsageCredits",e);if((0,f.isObject)(e)&&"aiCredits"in e&&(0,f.isNumber)(e.aiCredits)&&"storageUploads"in e&&(0,f.isNumber)(e.storageUploads)&&"gettyAssetDownloads"in e&&(0,f.isNumber)(e.gettyAssetDownloads))return{aiCredits:e.aiCredits,storageUploads:e.storageUploads,gettyAssetDownloads:e.gettyAssetDownloads};if((0,f.isObject)(e)&&"ttsCredits"in e&&(0,f.isNumber)(e.ttsCredits)&&"textToImageGenerations"in e&&(0,f.isNumber)(e.textToImageGenerations)&&"storageUploads"in e&&(0,f.isNumber)(e.storageUploads)&&"gettyAssetDownloads"in e&&(0,f.isNumber)(e.gettyAssetDownloads)&&!("aiCredits"in e))return{aiCredits:e.ttsCredits+1e3*e.textToImageGenerations,storageUploads:e.storageUploads,gettyAssetDownloads:e.gettyAssetDownloads};if((0,f.isObject)(e)&&"brollGenerations"in e&&(0,f.isNumber)(e.brollGenerations)&&"articleSummarizations"in e&&(0,f.isNumber)(e.articleSummarizations)&&"aiPromptCompletions"in e&&(0,f.isNumber)(e.aiPromptCompletions)&&"ttsCredits"in e&&(0,f.isNumber)(e.ttsCredits)&&"textToImageGenerations"in e&&(0,f.isNumber)(e.textToImageGenerations)&&"storageUploads"in e&&(0,f.isNumber)(e.storageUploads)&&!("gettyAssetDownloads"in e)&&!("aiCredits"in e))return{aiCredits:e.ttsCredits+1e3*e.textToImageGenerations,storageUploads:e.storageUploads,gettyAssetDownloads:50};throw t};var g,m;t.castAsUsageCreditKey=function(e){var t=(0,a.newCastingError)("UsageCreditKey",e);if("aiCredits"===e||"storageUploads"===e||"gettyAssetDownloads"===e)return e;throw t},function(e){e.EXTERNAL="PUBLIC",e.INTERNAL_WITH_GENERIC_UPGRADE_ACTION="INTERNAL_WITH_GENERIC_UPGRADE_ACTION",e.INTERNAL="INTERNAL"}(g||(t.UsageCreditKeyVisibility=g={})),function(e){e.MONTH="MONTH",e.YEAR="YEAR",e.LIFETIME="LIFETIME"}(m||(t.InternalMonthlyRefillDuration=m={}));t.castAsUsageCreditsContainer=function(e){var r=(0,a.newCastingError)("UsageCreditsContainer",e);if((0,f.isObject)(e)&&"usageCredits"in e&&"creditsRefillSubscriptionType"in e&&"numMonthlyRefillsRemaining"in e&&(0,f.isNumber)(e.numMonthlyRefillsRemaining)&&"lastMonthlyRefillSecondsSinceEpoch"in e&&(0,f.isNumber)(e.lastMonthlyRefillSecondsSinceEpoch))try{return{usageCredits:(0,t.castAsUsageCredits)(e.usageCredits),creditsRefillSubscriptionType:(0,f.castAsTypedOptional)(e.creditsRefillSubscriptionType,l.castAsSubscriptionType),numMonthlyRefillsRemaining:e.numMonthlyRefillsRemaining,lastMonthlyRefillSecondsSinceEpoch:e.lastMonthlyRefillSecondsSinceEpoch}}catch(n){(0,a.updateCastingError)(r,n)}throw r};t.castAsUsageConstantKey=function(e){var t=(0,a.newCastingError)("UsageConstantKey",e);if("numCharsPerScript"===e)return e;throw t};t.castAsWorkspacePermissions=function(e){var t=(0,a.newCastingError)("WorkspacePermissions",e);if((0,f.isObject)(e)&&"isAdmin"in e&&(0,f.isBoolean)(e.isAdmin)&&"isManager"in e&&(0,f.isBoolean)(e.isManager)&&"isLocalTester"in e&&(0,f.isBoolean)(e.isLocalTester))return{isAdmin:e.isAdmin,isManager:e.isManager,isLocalTester:e.isLocalTester};if((0,f.isObject)(e)&&"isAdmin"in e&&(0,f.isBoolean)(e.isAdmin)&&!("isManager"in e)&&"isLocalTester"in e&&(0,f.isBoolean)(e.isLocalTester))return{isAdmin:e.isAdmin,isManager:!1,isLocalTester:e.isLocalTester};throw t};t.castAsWorkspaceReferralData=function(e){var t=(0,a.newCastingError)("WorkspaceReferralData",e);if((0,f.isObject)(e)&&"internalReferrerPath"in e&&(0,f.isOptionalString)(e.internalReferrerPath)&&"externalReferrerUrl"in e&&(0,f.isOptionalString)(e.externalReferrerUrl)&&"source"in e&&(0,f.isOptionalString)(e.source))return{internalReferrerPath:e.internalReferrerPath,externalReferrerUrl:e.externalReferrerUrl,source:e.source};throw t};t.castAsWorkspaceInfo=function(e){var r=(0,a.newCastingError)("WorkspaceInfo",e);if((0,f.isObject)(e)&&"workspaceId"in e&&(0,f.isString)(e.workspaceId)&&"creationSecondsSinceEpoch"in e&&(0,f.isNumber)(e.creationSecondsSinceEpoch)&&"stripeCustomerSummary"in e&&"stripeInvoiceSummaries"in e&&"subscription"in e&&"redeemedFreeAccessCodeId"in e&&(0,f.isOptionalString)(e.redeemedFreeAccessCodeId)&&"permissions"in e&&"paidUsageCreditsContainer"in e&&"freeAccessUsageCreditsContainer"in e&&"globalStorageSummary"in e&&"globalActiveUploadSummaries"in e&&"exportsStorageSummary"in e&&"exportsActiveUploadSummaries"in e&&"referralData"in e&&"onboardingTaskCompletionTimeRecord"in e&&"segments"in e&&"archiveSecondsSinceEpoch"in e&&(0,f.isOptionalNumber)(e.archiveSecondsSinceEpoch)&&"groupNumber"in e&&(0,f.isNumber)(e.groupNumber)&&"groupIdentifierNumberRecord"in e&&"recentInitiatedIdJobRecord"in e&&"lastStripeAbandonedCartSummary"in e&&"isExternalApiEnabled"in e&&(0,f.isBoolean)(e.isExternalApiEnabled))try{return{workspaceId:e.workspaceId,creationSecondsSinceEpoch:e.creationSecondsSinceEpoch,stripeCustomerSummary:(0,f.castAsTypedOptional)(e.stripeCustomerSummary,l.castAsStripeCustomerSummary),stripeInvoiceSummaries:(0,f.castAsTypedArray)(e.stripeInvoiceSummaries,l.castAsStripeInvoiceSummary),subscription:(0,f.castAsTypedOptional)(e.subscription,l.castAsSubscription),redeemedFreeAccessCodeId:e.redeemedFreeAccessCodeId,permissions:(0,t.castAsWorkspacePermissions)(e.permissions),paidUsageCreditsContainer:(0,t.castAsUsageCreditsContainer)(e.paidUsageCreditsContainer),freeAccessUsageCreditsContainer:(0,f.castAsTypedOptional)(e.freeAccessUsageCreditsContainer,t.castAsUsageCreditsContainer),globalStorageSummary:(0,d.castAsWorkspaceStorageScopeSummary)(e.globalStorageSummary),globalActiveUploadSummaries:(0,f.castAsTypedArray)(e.globalActiveUploadSummaries,d.castAsWorkspaceUploadSummary),exportsStorageSummary:(0,d.castAsWorkspaceStorageScopeSummary)(e.exportsStorageSummary),exportsActiveUploadSummaries:(0,f.castAsTypedArray)(e.exportsActiveUploadSummaries,d.castAsWorkspaceUploadSummary),referralData:(0,t.castAsWorkspaceReferralData)(e.referralData),onboardingTaskCompletionTimeRecord:(0,t.castAsOnboardingTaskCompletionTimeRecord)(e.onboardingTaskCompletionTimeRecord),segments:(0,t.castAsWorkspaceSegments)(e.segments),archiveSecondsSinceEpoch:e.archiveSecondsSinceEpoch,groupNumber:e.groupNumber,groupIdentifierNumberRecord:(0,u.castAsGroupIdentifierNumberRecord)(e.groupIdentifierNumberRecord),recentInitiatedIdJobRecord:(0,f.castAsTypedPartialRecord)(e.recentInitiatedIdJobRecord,f.castAsString,c.castAsJob),lastStripeAbandonedCartSummary:(0,f.castAsTypedOptional)(e.lastStripeAbandonedCartSummary,l.castAsStripeAbandonedCartSummary),isExternalApiEnabled:e.isExternalApiEnabled}}catch(h){(0,a.updateCastingError)(r,h)}if((0,f.isObject)(e)&&"workspaceId"in e&&(0,f.isString)(e.workspaceId)&&"creationSecondsSinceEpoch"in e&&(0,f.isNumber)(e.creationSecondsSinceEpoch)&&"stripeCustomerSummary"in e&&"stripeInvoiceSummaries"in e&&"subscription"in e&&"redeemedFreeAccessCodeId"in e&&(0,f.isOptionalString)(e.redeemedFreeAccessCodeId)&&"permissions"in e&&"paidUsageCreditsContainer"in e&&"freeAccessUsageCreditsContainer"in e&&"globalStorageSummary"in e&&"globalActiveUploadSummaries"in e&&"exportsStorageSummary"in e&&"exportsActiveUploadSummaries"in e&&"referralData"in e&&"onboardingTaskCompletionTimeRecord"in e&&"segments"in e&&"archiveSecondsSinceEpoch"in e&&(0,f.isOptionalNumber)(e.archiveSecondsSinceEpoch)&&"groupNumber"in e&&(0,f.isNumber)(e.groupNumber)&&"groupIdentifierNumberRecord"in e&&"recentInitiatedIdJobRecord"in e&&"lastStripeAbandonedCartSummary"in e&&"isExternalApiEnabled"in e&&(0,f.isBoolean)(e.isExternalApiEnabled)&&!("numExternalApiCredits"in e))try{return{workspaceId:e.workspaceId,creationSecondsSinceEpoch:e.creationSecondsSinceEpoch,stripeCustomerSummary:(0,f.castAsTypedOptional)(e.stripeCustomerSummary,l.castAsStripeCustomerSummary),stripeInvoiceSummaries:(0,f.castAsTypedArray)(e.stripeInvoiceSummaries,l.castAsStripeInvoiceSummary),subscription:(0,f.castAsTypedOptional)(e.subscription,l.castAsSubscription),redeemedFreeAccessCodeId:e.redeemedFreeAccessCodeId,permissions:(0,t.castAsWorkspacePermissions)(e.permissions),paidUsageCreditsContainer:(0,t.castAsUsageCreditsContainer)(e.paidUsageCreditsContainer),freeAccessUsageCreditsContainer:(0,f.castAsTypedOptional)(e.freeAccessUsageCreditsContainer,t.castAsUsageCreditsContainer),globalStorageSummary:(0,d.castAsWorkspaceStorageScopeSummary)(e.globalStorageSummary),globalActiveUploadSummaries:(0,f.castAsTypedArray)(e.globalActiveUploadSummaries,d.castAsWorkspaceUploadSummary),exportsStorageSummary:(0,d.castAsWorkspaceStorageScopeSummary)(e.exportsStorageSummary),exportsActiveUploadSummaries:(0,f.castAsTypedArray)(e.exportsActiveUploadSummaries,d.castAsWorkspaceUploadSummary),referralData:(0,t.castAsWorkspaceReferralData)(e.referralData),onboardingTaskCompletionTimeRecord:(0,t.castAsOnboardingTaskCompletionTimeRecord)(e.onboardingTaskCompletionTimeRecord),segments:(0,t.castAsWorkspaceSegments)(e.segments),archiveSecondsSinceEpoch:e.archiveSecondsSinceEpoch,groupNumber:e.groupNumber,groupIdentifierNumberRecord:(0,u.castAsGroupIdentifierNumberRecord)(e.groupIdentifierNumberRecord),recentInitiatedIdJobRecord:(0,f.castAsTypedPartialRecord)(e.recentInitiatedIdJobRecord,f.castAsString,c.castAsJob),lastStripeAbandonedCartSummary:(0,f.castAsTypedOptional)(e.lastStripeAbandonedCartSummary,l.castAsStripeAbandonedCartSummary),isExternalApiEnabled:e.isExternalApiEnabled}}catch(h){(0,a.updateCastingError)(r,h)}if((0,f.isObject)(e)&&"workspaceId"in e&&(0,f.isString)(e.workspaceId)&&"creationSecondsSinceEpoch"in e&&(0,f.isNumber)(e.creationSecondsSinceEpoch)&&"stripeCustomerSummary"in e&&"stripeInvoiceSummaries"in e&&"subscription"in e&&"redeemedFreeAccessCodeId"in e&&(0,f.isOptionalString)(e.redeemedFreeAccessCodeId)&&"permissions"in e&&"paidUsageCreditsContainer"in e&&"freeAccessUsageCreditsContainer"in e&&"globalStorageSummary"in e&&"globalActiveUploadSummaries"in e&&"exportsStorageSummary"in e&&"exportsActiveUploadSummaries"in e&&"referralData"in e&&"onboardingTaskCompletionTimeRecord"in e&&"segments"in e&&"archiveSecondsSinceEpoch"in e&&(0,f.isOptionalNumber)(e.archiveSecondsSinceEpoch)&&"groupNumber"in e&&(0,f.isNumber)(e.groupNumber)&&"groupIdentifierNumberRecord"in e&&"recentInitiatedIdJobRecord"in e&&"lastStripeAbandonedCartSummary"in e&&!("isExternalApiEnabled"in e)&&!("numExternalApiCredits"in e))try{return{workspaceId:e.workspaceId,creationSecondsSinceEpoch:e.creationSecondsSinceEpoch,stripeCustomerSummary:(0,f.castAsTypedOptional)(e.stripeCustomerSummary,l.castAsStripeCustomerSummary),stripeInvoiceSummaries:(0,f.castAsTypedArray)(e.stripeInvoiceSummaries,l.castAsStripeInvoiceSummary),subscription:(0,f.castAsTypedOptional)(e.subscription,l.castAsSubscription),redeemedFreeAccessCodeId:e.redeemedFreeAccessCodeId,permissions:(0,t.castAsWorkspacePermissions)(e.permissions),paidUsageCreditsContainer:(0,t.castAsUsageCreditsContainer)(e.paidUsageCreditsContainer),freeAccessUsageCreditsContainer:(0,f.castAsTypedOptional)(e.freeAccessUsageCreditsContainer,t.castAsUsageCreditsContainer),globalStorageSummary:(0,d.castAsWorkspaceStorageScopeSummary)(e.globalStorageSummary),globalActiveUploadSummaries:(0,f.castAsTypedArray)(e.globalActiveUploadSummaries,d.castAsWorkspaceUploadSummary),exportsStorageSummary:(0,d.castAsWorkspaceStorageScopeSummary)(e.exportsStorageSummary),exportsActiveUploadSummaries:(0,f.castAsTypedArray)(e.exportsActiveUploadSummaries,d.castAsWorkspaceUploadSummary),referralData:(0,t.castAsWorkspaceReferralData)(e.referralData),onboardingTaskCompletionTimeRecord:(0,t.castAsOnboardingTaskCompletionTimeRecord)(e.onboardingTaskCompletionTimeRecord),segments:(0,t.castAsWorkspaceSegments)(e.segments),archiveSecondsSinceEpoch:e.archiveSecondsSinceEpoch,groupNumber:e.groupNumber,groupIdentifierNumberRecord:(0,u.castAsGroupIdentifierNumberRecord)(e.groupIdentifierNumberRecord),recentInitiatedIdJobRecord:(0,f.castAsTypedPartialRecord)(e.recentInitiatedIdJobRecord,f.castAsString,c.castAsJob),lastStripeAbandonedCartSummary:(0,f.castAsTypedOptional)(e.lastStripeAbandonedCartSummary,l.castAsStripeAbandonedCartSummary),isExternalApiEnabled:!1}}catch(h){(0,a.updateCastingError)(r,h)}if((0,f.isObject)(e)&&"workspaceId"in e&&(0,f.isString)(e.workspaceId)&&"creationSecondsSinceEpoch"in e&&(0,f.isNumber)(e.creationSecondsSinceEpoch)&&"stripeCustomerSummary"in e&&"stripeInvoiceSummaries"in e&&"subscription"in e&&"redeemedFreeAccessCodeId"in e&&(0,f.isOptionalString)(e.redeemedFreeAccessCodeId)&&"permissions"in e&&"paidUsageCreditsContainer"in e&&"freeAccessUsageCreditsContainer"in e&&"globalStorageSummary"in e&&"globalActiveUploadSummaries"in e&&!("exportsStorageSummary"in e)&&!("exportsActiveUploadSummaries"in e)&&"referralData"in e&&"onboardingTaskCompletionTimeRecord"in e&&"segments"in e&&"archiveSecondsSinceEpoch"in e&&(0,f.isOptionalNumber)(e.archiveSecondsSinceEpoch)&&"groupNumber"in e&&(0,f.isNumber)(e.groupNumber)&&"groupIdentifierNumberRecord"in e&&"recentInitiatedIdJobRecord"in e&&"lastStripeAbandonedCartSummary"in e&&!("isExternalApiEnabled"in e)&&!("numExternalApiCredits"in e))try{return{workspaceId:e.workspaceId,creationSecondsSinceEpoch:e.creationSecondsSinceEpoch,stripeCustomerSummary:(0,f.castAsTypedOptional)(e.stripeCustomerSummary,l.castAsStripeCustomerSummary),stripeInvoiceSummaries:(0,f.castAsTypedArray)(e.stripeInvoiceSummaries,l.castAsStripeInvoiceSummary),subscription:(0,f.castAsTypedOptional)(e.subscription,l.castAsSubscription),redeemedFreeAccessCodeId:e.redeemedFreeAccessCodeId,permissions:(0,t.castAsWorkspacePermissions)(e.permissions),paidUsageCreditsContainer:(0,t.castAsUsageCreditsContainer)(e.paidUsageCreditsContainer),freeAccessUsageCreditsContainer:(0,f.castAsTypedOptional)(e.freeAccessUsageCreditsContainer,t.castAsUsageCreditsContainer),globalStorageSummary:(0,d.castAsWorkspaceStorageScopeSummary)(e.globalStorageSummary),globalActiveUploadSummaries:(0,f.castAsTypedArray)(e.globalActiveUploadSummaries,d.castAsWorkspaceUploadSummary),exportsStorageSummary:{summaryMillisecondsSinceEpoch:(0,s.getCurrentMillisecondsSinceEpoch)(),numStoredUploads:0,storageBytes:0},exportsActiveUploadSummaries:[],referralData:(0,t.castAsWorkspaceReferralData)(e.referralData),onboardingTaskCompletionTimeRecord:(0,t.castAsOnboardingTaskCompletionTimeRecord)(e.onboardingTaskCompletionTimeRecord),segments:(0,t.castAsWorkspaceSegments)(e.segments),archiveSecondsSinceEpoch:e.archiveSecondsSinceEpoch,groupNumber:e.groupNumber,groupIdentifierNumberRecord:(0,u.castAsGroupIdentifierNumberRecord)(e.groupIdentifierNumberRecord),recentInitiatedIdJobRecord:(0,f.castAsTypedPartialRecord)(e.recentInitiatedIdJobRecord,f.castAsString,c.castAsJob),lastStripeAbandonedCartSummary:(0,f.castAsTypedOptional)(e.lastStripeAbandonedCartSummary,l.castAsStripeAbandonedCartSummary),isExternalApiEnabled:!1}}catch(h){(0,a.updateCastingError)(r,h)}if((0,f.isObject)(e)&&"workspaceId"in e&&(0,f.isString)(e.workspaceId)&&"creationSecondsSinceEpoch"in e&&(0,f.isNumber)(e.creationSecondsSinceEpoch)&&"stripeCustomerSummary"in e&&"stripeInvoiceSummaries"in e&&"subscription"in e&&"redeemedFreeAccessCodeId"in e&&(0,f.isOptionalString)(e.redeemedFreeAccessCodeId)&&"permissions"in e&&"paidUsageCreditsContainer"in e&&"freeAccessUsageCreditsContainer"in e&&"storageSummary"in e&&!("globalStorageSummary"in e)&&"activeUploadSummaries"in e&&!("globalActiveUploadSummaries"in e)&&!("exportsStorageSummary"in e)&&!("exportsActiveUploadSummaries"in e)&&"referralData"in e&&"onboardingTaskCompletionTimeRecord"in e&&"segments"in e&&"archiveSecondsSinceEpoch"in e&&(0,f.isOptionalNumber)(e.archiveSecondsSinceEpoch)&&"groupNumber"in e&&(0,f.isNumber)(e.groupNumber)&&"groupIdentifierNumberRecord"in e&&"recentInitiatedIdJobRecord"in e&&"lastStripeAbandonedCartSummary"in e&&!("isExternalApiEnabled"in e)&&!("numExternalApiCredits"in e))try{return{workspaceId:e.workspaceId,creationSecondsSinceEpoch:e.creationSecondsSinceEpoch,stripeCustomerSummary:(0,f.castAsTypedOptional)(e.stripeCustomerSummary,l.castAsStripeCustomerSummary),stripeInvoiceSummaries:(0,f.castAsTypedArray)(e.stripeInvoiceSummaries,l.castAsStripeInvoiceSummary),subscription:(0,f.castAsTypedOptional)(e.subscription,l.castAsSubscription),redeemedFreeAccessCodeId:e.redeemedFreeAccessCodeId,permissions:(0,t.castAsWorkspacePermissions)(e.permissions),paidUsageCreditsContainer:(0,t.castAsUsageCreditsContainer)(e.paidUsageCreditsContainer),freeAccessUsageCreditsContainer:(0,f.castAsTypedOptional)(e.freeAccessUsageCreditsContainer,t.castAsUsageCreditsContainer),globalStorageSummary:(0,d.castAsWorkspaceStorageScopeSummary)(e.storageSummary),globalActiveUploadSummaries:(0,f.castAsTypedArray)(e.activeUploadSummaries,d.castAsWorkspaceUploadSummary),exportsStorageSummary:{summaryMillisecondsSinceEpoch:(0,s.getCurrentMillisecondsSinceEpoch)(),numStoredUploads:0,storageBytes:0},exportsActiveUploadSummaries:[],referralData:(0,t.castAsWorkspaceReferralData)(e.referralData),onboardingTaskCompletionTimeRecord:(0,t.castAsOnboardingTaskCompletionTimeRecord)(e.onboardingTaskCompletionTimeRecord),segments:(0,t.castAsWorkspaceSegments)(e.segments),archiveSecondsSinceEpoch:e.archiveSecondsSinceEpoch,groupNumber:e.groupNumber,groupIdentifierNumberRecord:(0,u.castAsGroupIdentifierNumberRecord)(e.groupIdentifierNumberRecord),recentInitiatedIdJobRecord:(0,f.castAsTypedPartialRecord)(e.recentInitiatedIdJobRecord,f.castAsString,c.castAsJob),lastStripeAbandonedCartSummary:(0,f.castAsTypedOptional)(e.lastStripeAbandonedCartSummary,l.castAsStripeAbandonedCartSummary),isExternalApiEnabled:!1}}catch(h){(0,a.updateCastingError)(r,h)}if((0,f.isObject)(e)&&"workspaceId"in e&&(0,f.isString)(e.workspaceId)&&"creationSecondsSinceEpoch"in e&&(0,f.isNumber)(e.creationSecondsSinceEpoch)&&"stripeCustomerSummary"in e&&"stripeInvoiceSummaries"in e&&"subscription"in e&&"redeemedFreeAccessCodeId"in e&&(0,f.isOptionalString)(e.redeemedFreeAccessCodeId)&&"permissions"in e&&"paidUsageCreditsContainer"in e&&"freeAccessUsageCreditsContainer"in e&&"storageSummary"in e&&!("globalStorageSummary"in e)&&"activeUploadSummary"in e&&!("activeUploadSummaries"in e)&&!("globalActiveUploadSummaries"in e)&&!("exportsStorageSummary"in e)&&!("exportsActiveUploadSummaries"in e)&&"referralData"in e&&"onboardingTaskCompletionTimeRecord"in e&&"segments"in e&&"archiveSecondsSinceEpoch"in e&&(0,f.isOptionalNumber)(e.archiveSecondsSinceEpoch)&&"groupNumber"in e&&(0,f.isNumber)(e.groupNumber)&&"groupIdentifierNumberRecord"in e&&"recentInitiatedIdJobRecord"in e&&"lastStripeAbandonedCartSummary"in e&&!("isExternalApiEnabled"in e)&&!("numExternalApiCredits"in e))try{var n=(0,f.castAsTypedOptional)(e.activeUploadSummary,d.castAsWorkspaceUploadSummary);return{workspaceId:e.workspaceId,creationSecondsSinceEpoch:e.creationSecondsSinceEpoch,stripeCustomerSummary:(0,f.castAsTypedOptional)(e.stripeCustomerSummary,l.castAsStripeCustomerSummary),stripeInvoiceSummaries:(0,f.castAsTypedArray)(e.stripeInvoiceSummaries,l.castAsStripeInvoiceSummary),subscription:(0,f.castAsTypedOptional)(e.subscription,l.castAsSubscription),redeemedFreeAccessCodeId:e.redeemedFreeAccessCodeId,permissions:(0,t.castAsWorkspacePermissions)(e.permissions),paidUsageCreditsContainer:(0,t.castAsUsageCreditsContainer)(e.paidUsageCreditsContainer),freeAccessUsageCreditsContainer:(0,f.castAsTypedOptional)(e.freeAccessUsageCreditsContainer,t.castAsUsageCreditsContainer),globalStorageSummary:(0,d.castAsWorkspaceStorageScopeSummary)(e.storageSummary),globalActiveUploadSummaries:null==n?[]:[n],exportsStorageSummary:{summaryMillisecondsSinceEpoch:(0,s.getCurrentMillisecondsSinceEpoch)(),numStoredUploads:0,storageBytes:0},exportsActiveUploadSummaries:[],referralData:(0,t.castAsWorkspaceReferralData)(e.referralData),onboardingTaskCompletionTimeRecord:(0,t.castAsOnboardingTaskCompletionTimeRecord)(e.onboardingTaskCompletionTimeRecord),segments:(0,t.castAsWorkspaceSegments)(e.segments),archiveSecondsSinceEpoch:e.archiveSecondsSinceEpoch,groupNumber:e.groupNumber,groupIdentifierNumberRecord:(0,u.castAsGroupIdentifierNumberRecord)(e.groupIdentifierNumberRecord),recentInitiatedIdJobRecord:(0,f.castAsTypedPartialRecord)(e.recentInitiatedIdJobRecord,f.castAsString,c.castAsJob),lastStripeAbandonedCartSummary:(0,f.castAsTypedOptional)(e.lastStripeAbandonedCartSummary,l.castAsStripeAbandonedCartSummary),isExternalApiEnabled:!1}}catch(h){(0,a.updateCastingError)(r,h)}if((0,f.isObject)(e)&&"workspaceId"in e&&(0,f.isString)(e.workspaceId)&&"creationSecondsSinceEpoch"in e&&(0,f.isNumber)(e.creationSecondsSinceEpoch)&&"stripeCustomerSummary"in e&&"stripeInvoiceSummaries"in e&&"subscription"in e&&"redeemedFreeAccessCodeId"in e&&(0,f.isOptionalString)(e.redeemedFreeAccessCodeId)&&"permissions"in e&&"paidUsageCreditsContainer"in e&&"freeAccessUsageCreditsContainer"in e&&"storageSummary"in e&&!("globalStorageSummary"in e)&&"activeUploadSummary"in e&&!("activeUploadSummaries"in e)&&!("globalActiveUploadSummaries"in e)&&!("exportsStorageSummary"in e)&&!("exportsActiveUploadSummaries"in e)&&"referralData"in e&&"onboardingTaskCompletionTimeRecord"in e&&"segments"in e&&"archiveSecondsSinceEpoch"in e&&(0,f.isOptionalNumber)(e.archiveSecondsSinceEpoch)&&"groupNumber"in e&&(0,f.isNumber)(e.groupNumber)&&!("groupIdentifierNumberRecord"in e)&&"recentInitiatedIdJobRecord"in e&&"lastStripeAbandonedCartSummary"in e&&!("isExternalApiEnabled"in e)&&!("numExternalApiCredits"in e))try{var i=(0,f.castAsTypedOptional)(e.activeUploadSummary,d.castAsWorkspaceUploadSummary);return{workspaceId:e.workspaceId,creationSecondsSinceEpoch:e.creationSecondsSinceEpoch,stripeCustomerSummary:(0,f.castAsTypedOptional)(e.stripeCustomerSummary,l.castAsStripeCustomerSummary),stripeInvoiceSummaries:(0,f.castAsTypedArray)(e.stripeInvoiceSummaries,l.castAsStripeInvoiceSummary),subscription:(0,f.castAsTypedOptional)(e.subscription,l.castAsSubscription),redeemedFreeAccessCodeId:e.redeemedFreeAccessCodeId,permissions:(0,t.castAsWorkspacePermissions)(e.permissions),paidUsageCreditsContainer:(0,t.castAsUsageCreditsContainer)(e.paidUsageCreditsContainer),freeAccessUsageCreditsContainer:(0,f.castAsTypedOptional)(e.freeAccessUsageCreditsContainer,t.castAsUsageCreditsContainer),globalStorageSummary:(0,d.castAsWorkspaceStorageScopeSummary)(e.storageSummary),globalActiveUploadSummaries:null==i?[]:[i],exportsStorageSummary:{summaryMillisecondsSinceEpoch:(0,s.getCurrentMillisecondsSinceEpoch)(),numStoredUploads:0,storageBytes:0},exportsActiveUploadSummaries:[],referralData:(0,t.castAsWorkspaceReferralData)(e.referralData),onboardingTaskCompletionTimeRecord:(0,t.castAsOnboardingTaskCompletionTimeRecord)(e.onboardingTaskCompletionTimeRecord),segments:(0,t.castAsWorkspaceSegments)(e.segments),archiveSecondsSinceEpoch:e.archiveSecondsSinceEpoch,groupNumber:e.groupNumber,groupIdentifierNumberRecord:(0,o.generateRandomGroupIdentifierNumberRecord)(),recentInitiatedIdJobRecord:(0,f.castAsTypedPartialRecord)(e.recentInitiatedIdJobRecord,f.castAsString,c.castAsJob),lastStripeAbandonedCartSummary:(0,f.castAsTypedOptional)(e.lastStripeAbandonedCartSummary,l.castAsStripeAbandonedCartSummary),isExternalApiEnabled:!1}}catch(h){(0,a.updateCastingError)(r,h)}throw r}},14520:function(e,t,r){"use strict";var n;r.r(t),r.d(t,{ASTNodeTypes:function(){return n}}),function(e){e.Document="Document",e.DocumentExit="Document:exit",e.Paragraph="Paragraph",e.ParagraphExit="Paragraph:exit",e.BlockQuote="BlockQuote",e.BlockQuoteExit="BlockQuote:exit",e.ListItem="ListItem",e.ListItemExit="ListItem:exit",e.List="List",e.ListExit="List:exit",e.Header="Header",e.HeaderExit="Header:exit",e.CodeBlock="CodeBlock",e.CodeBlockExit="CodeBlock:exit",e.HtmlBlock="HtmlBlock",e.HtmlBlockExit="HtmlBlock:exit",e.HorizontalRule="HorizontalRule",e.HorizontalRuleExit="HorizontalRule:exit",e.Comment="Comment",e.CommentExit="Comment:exit",e.ReferenceDef="ReferenceDef",e.ReferenceDefExit="ReferenceDef:exit",e.Str="Str",e.StrExit="Str:exit",e.Break="Break",e.BreakExit="Break:exit",e.Emphasis="Emphasis",e.EmphasisExit="Emphasis:exit",e.Strong="Strong",e.StrongExit="Strong:exit",e.Html="Html",e.HtmlExit="Html:exit",e.Link="Link",e.LinkExit="Link:exit",e.Image="Image",e.ImageExit="Image:exit",e.Code="Code",e.CodeExit="Code:exit",e.Delete="Delete",e.DeleteExit="Delete:exit"}(n||(n={}))},86495:function(e,t,r){var n=r(861).default,i=r(56690).default,a=r(89728).default,o=r(26211).z,s=r(6456).array,u=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),Object.assign(this,{list:t.emptyList&&[]||Array.prototype.concat.apply(o,[s,t.list||[]]),exclude:t.exclude||[],splitRegex:t.splitRegex||/\b/,placeHolder:t.placeHolder||"*",regex:t.regex||/[^a-zA-Z0-9|\$|\@]|\^/g,replaceRegex:t.replaceRegex||/\w/g})}return a(e,[{key:"isProfane",value:function(e){var t=this;return this.list.filter((function(r){var n=new RegExp("\\b".concat(r.replace(/(\W)/g,"\\$1"),"\\b"),"gi");return!t.exclude.includes(r.toLowerCase())&&n.test(e)})).length>0||!1}},{key:"replaceWord",value:function(e){return e.replace(this.regex,"").replace(this.replaceRegex,this.placeHolder)}},{key:"clean",value:function(e){var t=this;return e.split(this.splitRegex).map((function(e){return t.isProfane(e)?t.replaceWord(e):e})).join(this.splitRegex.exec(e)[0])}},{key:"addWords",value:function(){var e,t=this,r=Array.from(arguments);(e=this.list).push.apply(e,r),r.map((function(e){return e.toLowerCase()})).forEach((function(e){t.exclude.includes(e)&&t.exclude.splice(t.exclude.indexOf(e),1)}))}},{key:"removeWords",value:function(){var e;(e=this.exclude).push.apply(e,n(Array.from(arguments).map((function(e){return e.toLowerCase()}))))}}]),e}();e.exports=u},7631:function(e){e.exports=["4r5e","5h1t","5hit","a55","anal","anus","ar5e","arrse","arse","ass","ass-fucker","asses","assfucker","assfukka","asshole","assholes","asswhole","a_s_s","b!tch","b00bs","b17ch","b1tch","ballbag","balls","ballsack","bastard","beastial","beastiality","bellend","bestial","bestiality","bi+ch","biatch","bitch","bitcher","bitchers","bitches","bitchin","bitching","bloody","blow job","blowjob","blowjobs","boiolas","bollock","bollok","boner","boob","boobs","booobs","boooobs","booooobs","booooooobs","breasts","buceta","bugger","bum","bunny fucker","butt","butthole","buttmuch","buttplug","c0ck","c0cksucker","carpet muncher","cawk","chink","cipa","cl1t","clit","clitoris","clits","cnut","cock","cock-sucker","cockface","cockhead","cockmunch","cockmuncher","cocks","cocksuck","cocksucked","cocksucker","cocksucking","cocksucks","cocksuka","cocksukka","cok","cokmuncher","coksucka","coon","cox","crap","cum","cummer","cumming","cums","cumshot","cunilingus","cunillingus","cunnilingus","cunt","cuntlick","cuntlicker","cuntlicking","cunts","cyalis","cyberfuc","cyberfuck","cyberfucked","cyberfucker","cyberfuckers","cyberfucking","d1ck","damn","dick","dickhead","dildo","dildos","dink","dinks","dirsa","dlck","dog-fucker","doggin","dogging","donkeyribber","doosh","duche","dyke","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","f u c k","f u c k e r","f4nny","fag","fagging","faggitt","faggot","faggs","fagot","fagots","fags","fanny","fannyflaps","fannyfucker","fanyy","fatass","fcuk","fcuker","fcuking","feck","fecker","felching","fellate","fellatio","fingerfuck","fingerfucked","fingerfucker","fingerfuckers","fingerfucking","fingerfucks","fistfuck","fistfucked","fistfucker","fistfuckers","fistfucking","fistfuckings","fistfucks","flange","fook","fooker","fuck","fucka","fucked","fucker","fuckers","fuckhead","fuckheads","fuckin","fucking","fuckings","fuckingshitmotherfucker","fuckme","fucks","fuckwhit","fuckwit","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","fux","fux0r","f_u_c_k","gangbang","gangbanged","gangbangs","gaylord","gaysex","goatse","God","god-dam","god-damned","goddamn","goddamned","hardcoresex","hell","heshe","hoar","hoare","hoer","homo","hore","horniest","horny","hotsex","jack-off","jackoff","jap","jerk-off","jism","jiz","jizm","jizz","kawk","knob","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kum","kummer","kumming","kums","kunilingus","l3i+ch","l3itch","labia","lust","lusting","m0f0","m0fo","m45terbate","ma5terb8","ma5terbate","masochist","master-bate","masterb8","masterbat*","masterbat3","masterbate","masterbation","masterbations","masturbate","mo-fo","mof0","mofo","mothafuck","mothafucka","mothafuckas","mothafuckaz","mothafucked","mothafucker","mothafuckers","mothafuckin","mothafucking","mothafuckings","mothafucks","mother fucker","motherfuck","motherfucked","motherfucker","motherfuckers","motherfuckin","motherfucking","motherfuckings","motherfuckka","motherfucks","muff","mutha","muthafecker","muthafuckker","muther","mutherfucker","n1gga","n1gger","nazi","nigg3r","nigg4h","nigga","niggah","niggas","niggaz","nigger","niggers","nob","nob jokey","nobhead","nobjocky","nobjokey","numbnuts","nutsack","orgasim","orgasims","orgasm","orgasms","p0rn","pawn","pecker","penis","penisfucker","phonesex","phuck","phuk","phuked","phuking","phukked","phukking","phuks","phuq","pigfucker","pimpis","piss","pissed","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","poop","porn","porno","pornography","pornos","prick","pricks","pron","pube","pusse","pussi","pussies","pussy","pussys","rectum","retard","rimjaw","rimming","s hit","s.o.b.","sadist","schlong","screwing","scroat","scrote","scrotum","semen","sex","sh!+","sh!t","sh1t","shag","shagger","shaggin","shagging","shemale","shi+","shit","shitdick","shite","shited","shitey","shitfuck","shitfull","shithead","shiting","shitings","shits","shitted","shitter","shitters","shitting","shittings","shitty","skank","slut","sluts","smegma","smut","snatch","son-of-a-bitch","spac","spunk","s_h_i_t","t1tt1e5","t1tties","teets","teez","testical","testicle","tit","titfuck","tits","titt","tittie5","tittiefucker","titties","tittyfuck","tittywank","titwank","tosser","turd","tw4t","twat","twathead","twatty","twunt","twunter","v14gra","v1gra","vagina","viagra","vulva","w00se","wang","wank","wanker","wanky","whoar","whore","willies","willy","xrated","xxx"]},6456:function(e,t,r){e.exports={object:r(91397),array:r(7631),regex:r(51085)}},91397:function(e){e.exports={"4r5e":1,"5h1t":1,"5hit":1,a55:1,anal:1,anus:1,ar5e:1,arrse:1,arse:1,ass:1,"ass-fucker":1,asses:1,assfucker:1,assfukka:1,asshole:1,assholes:1,asswhole:1,a_s_s:1,"b!tch":1,b00bs:1,b17ch:1,b1tch:1,ballbag:1,balls:1,ballsack:1,bastard:1,beastial:1,beastiality:1,bellend:1,bestial:1,bestiality:1,"bi+ch":1,biatch:1,bitch:1,bitcher:1,bitchers:1,bitches:1,bitchin:1,bitching:1,bloody:1,"blow job":1,blowjob:1,blowjobs:1,boiolas:1,bollock:1,bollok:1,boner:1,boob:1,boobs:1,booobs:1,boooobs:1,booooobs:1,booooooobs:1,breasts:1,buceta:1,bugger:1,bum:1,"bunny fucker":1,butt:1,butthole:1,buttmuch:1,buttplug:1,c0ck:1,c0cksucker:1,"carpet muncher":1,cawk:1,chink:1,cipa:1,cl1t:1,clit:1,clitoris:1,clits:1,cnut:1,cock:1,"cock-sucker":1,cockface:1,cockhead:1,cockmunch:1,cockmuncher:1,cocks:1,cocksuck:1,cocksucked:1,cocksucker:1,cocksucking:1,cocksucks:1,cocksuka:1,cocksukka:1,cok:1,cokmuncher:1,coksucka:1,coon:1,cox:1,crap:1,cum:1,cummer:1,cumming:1,cums:1,cumshot:1,cunilingus:1,cunillingus:1,cunnilingus:1,cunt:1,cuntlick:1,cuntlicker:1,cuntlicking:1,cunts:1,cyalis:1,cyberfuc:1,cyberfuck:1,cyberfucked:1,cyberfucker:1,cyberfuckers:1,cyberfucking:1,d1ck:1,damn:1,dick:1,dickhead:1,dildo:1,dildos:1,dink:1,dinks:1,dirsa:1,dlck:1,"dog-fucker":1,doggin:1,dogging:1,donkeyribber:1,doosh:1,duche:1,dyke:1,ejaculate:1,ejaculated:1,ejaculates:1,ejaculating:1,ejaculatings:1,ejaculation:1,ejakulate:1,"f u c k":1,"f u c k e r":1,f4nny:1,fag:1,fagging:1,faggitt:1,faggot:1,faggs:1,fagot:1,fagots:1,fags:1,fanny:1,fannyflaps:1,fannyfucker:1,fanyy:1,fatass:1,fcuk:1,fcuker:1,fcuking:1,feck:1,fecker:1,felching:1,fellate:1,fellatio:1,fingerfuck:1,fingerfucked:1,fingerfucker:1,fingerfuckers:1,fingerfucking:1,fingerfucks:1,fistfuck:1,fistfucked:1,fistfucker:1,fistfuckers:1,fistfucking:1,fistfuckings:1,fistfucks:1,flange:1,fook:1,fooker:1,fuck:1,fucka:1,fucked:1,fucker:1,fuckers:1,fuckhead:1,fuckheads:1,fuckin:1,fucking:1,fuckings:1,fuckingshitmotherfucker:1,fuckme:1,fucks:1,fuckwhit:1,fuckwit:1,"fudge packer":1,fudgepacker:1,fuk:1,fuker:1,fukker:1,fukkin:1,fuks:1,fukwhit:1,fukwit:1,fux:1,fux0r:1,f_u_c_k:1,gangbang:1,gangbanged:1,gangbangs:1,gaylord:1,gaysex:1,goatse:1,God:1,"god-dam":1,"god-damned":1,goddamn:1,goddamned:1,hardcoresex:1,hell:1,heshe:1,hoar:1,hoare:1,hoer:1,homo:1,hore:1,horniest:1,horny:1,hotsex:1,"jack-off":1,jackoff:1,jap:1,"jerk-off":1,jism:1,jiz:1,jizm:1,jizz:1,kawk:1,knob:1,knobead:1,knobed:1,knobend:1,knobhead:1,knobjocky:1,knobjokey:1,kock:1,kondum:1,kondums:1,kum:1,kummer:1,kumming:1,kums:1,kunilingus:1,"l3i+ch":1,l3itch:1,labia:1,lust:1,lusting:1,m0f0:1,m0fo:1,m45terbate:1,ma5terb8:1,ma5terbate:1,masochist:1,"master-bate":1,masterb8:1,"masterbat*":1,masterbat3:1,masterbate:1,masterbation:1,masterbations:1,masturbate:1,"mo-fo":1,mof0:1,mofo:1,mothafuck:1,mothafucka:1,mothafuckas:1,mothafuckaz:1,mothafucked:1,mothafucker:1,mothafuckers:1,mothafuckin:1,mothafucking:1,mothafuckings:1,mothafucks:1,"mother fucker":1,motherfuck:1,motherfucked:1,motherfucker:1,motherfuckers:1,motherfuckin:1,motherfucking:1,motherfuckings:1,motherfuckka:1,motherfucks:1,muff:1,mutha:1,muthafecker:1,muthafuckker:1,muther:1,mutherfucker:1,n1gga:1,n1gger:1,nazi:1,nigg3r:1,nigg4h:1,nigga:1,niggah:1,niggas:1,niggaz:1,nigger:1,niggers:1,nob:1,"nob jokey":1,nobhead:1,nobjocky:1,nobjokey:1,numbnuts:1,nutsack:1,orgasim:1,orgasims:1,orgasm:1,orgasms:1,p0rn:1,pawn:1,pecker:1,penis:1,penisfucker:1,phonesex:1,phuck:1,phuk:1,phuked:1,phuking:1,phukked:1,phukking:1,phuks:1,phuq:1,pigfucker:1,pimpis:1,piss:1,pissed:1,pisser:1,pissers:1,pisses:1,pissflaps:1,pissin:1,pissing:1,pissoff:1,poop:1,porn:1,porno:1,pornography:1,pornos:1,prick:1,pricks:1,pron:1,pube:1,pusse:1,pussi:1,pussies:1,pussy:1,pussys:1,rectum:1,retard:1,rimjaw:1,rimming:1,"s hit":1,"s.o.b.":1,sadist:1,schlong:1,screwing:1,scroat:1,scrote:1,scrotum:1,semen:1,sex:1,"sh!+":1,"sh!t":1,sh1t:1,shag:1,shagger:1,shaggin:1,shagging:1,shemale:1,"shi+":1,shit:1,shitdick:1,shite:1,shited:1,shitey:1,shitfuck:1,shitfull:1,shithead:1,shiting:1,shitings:1,shits:1,shitted:1,shitter:1,shitters:1,shitting:1,shittings:1,shitty:1,skank:1,slut:1,sluts:1,smegma:1,smut:1,snatch:1,"son-of-a-bitch":1,spac:1,spunk:1,s_h_i_t:1,t1tt1e5:1,t1tties:1,teets:1,teez:1,testical:1,testicle:1,tit:1,titfuck:1,tits:1,titt:1,tittie5:1,tittiefucker:1,titties:1,tittyfuck:1,tittywank:1,titwank:1,tosser:1,turd:1,tw4t:1,twat:1,twathead:1,twatty:1,twunt:1,twunter:1,v14gra:1,v1gra:1,vagina:1,viagra:1,vulva:1,w00se:1,wang:1,wank:1,wanker:1,wanky:1,whoar:1,whore:1,willies:1,willy:1,xrated:1,xxx:1}},51085:function(e){e.exports=/\b(4r5e|5h1t|5hit|a55|anal|anus|ar5e|arrse|arse|ass|ass-fucker|asses|assfucker|assfukka|asshole|assholes|asswhole|a_s_s|b!tch|b00bs|b17ch|b1tch|ballbag|balls|ballsack|bastard|beastial|beastiality|bellend|bestial|bestiality|bi\+ch|biatch|bitch|bitcher|bitchers|bitches|bitchin|bitching|bloody|blow job|blowjob|blowjobs|boiolas|bollock|bollok|boner|boob|boobs|booobs|boooobs|booooobs|booooooobs|breasts|buceta|bugger|bum|bunny fucker|butt|butthole|buttmuch|buttplug|c0ck|c0cksucker|carpet muncher|cawk|chink|cipa|cl1t|clit|clitoris|clits|cnut|cock|cock-sucker|cockface|cockhead|cockmunch|cockmuncher|cocks|cocksuck|cocksucked|cocksucker|cocksucking|cocksucks|cocksuka|cocksukka|cok|cokmuncher|coksucka|coon|cox|crap|cum|cummer|cumming|cums|cumshot|cunilingus|cunillingus|cunnilingus|cunt|cuntlick|cuntlicker|cuntlicking|cunts|cyalis|cyberfuc|cyberfuck|cyberfucked|cyberfucker|cyberfuckers|cyberfucking|d1ck|damn|dick|dickhead|dildo|dildos|dink|dinks|dirsa|dlck|dog-fucker|doggin|dogging|donkeyribber|doosh|duche|dyke|ejaculate|ejaculated|ejaculates|ejaculating|ejaculatings|ejaculation|ejakulate|f u c k|f u c k e r|f4nny|fag|fagging|faggitt|faggot|faggs|fagot|fagots|fags|fanny|fannyflaps|fannyfucker|fanyy|fatass|fcuk|fcuker|fcuking|feck|fecker|felching|fellate|fellatio|fingerfuck|fingerfucked|fingerfucker|fingerfuckers|fingerfucking|fingerfucks|fistfuck|fistfucked|fistfucker|fistfuckers|fistfucking|fistfuckings|fistfucks|flange|fook|fooker|fuck|fucka|fucked|fucker|fuckers|fuckhead|fuckheads|fuckin|fucking|fuckings|fuckingshitmotherfucker|fuckme|fucks|fuckwhit|fuckwit|fudge packer|fudgepacker|fuk|fuker|fukker|fukkin|fuks|fukwhit|fukwit|fux|fux0r|f_u_c_k|gangbang|gangbanged|gangbangs|gaylord|gaysex|goatse|God|god-dam|god-damned|goddamn|goddamned|hardcoresex|hell|heshe|hoar|hoare|hoer|homo|hore|horniest|horny|hotsex|jack-off|jackoff|jap|jerk-off|jism|jiz|jizm|jizz|kawk|knob|knobead|knobed|knobend|knobhead|knobjocky|knobjokey|kock|kondum|kondums|kum|kummer|kumming|kums|kunilingus|l3i\+ch|l3itch|labia|lust|lusting|m0f0|m0fo|m45terbate|ma5terb8|ma5terbate|masochist|master-bate|masterb8|masterbat*|masterbat3|masterbate|masterbation|masterbations|masturbate|mo-fo|mof0|mofo|mothafuck|mothafucka|mothafuckas|mothafuckaz|mothafucked|mothafucker|mothafuckers|mothafuckin|mothafucking|mothafuckings|mothafucks|mother fucker|motherfuck|motherfucked|motherfucker|motherfuckers|motherfuckin|motherfucking|motherfuckings|motherfuckka|motherfucks|muff|mutha|muthafecker|muthafuckker|muther|mutherfucker|n1gga|n1gger|nazi|nigg3r|nigg4h|nigga|niggah|niggas|niggaz|nigger|niggers|nob|nob jokey|nobhead|nobjocky|nobjokey|numbnuts|nutsack|orgasim|orgasims|orgasm|orgasms|p0rn|pawn|pecker|penis|penisfucker|phonesex|phuck|phuk|phuked|phuking|phukked|phukking|phuks|phuq|pigfucker|pimpis|piss|pissed|pisser|pissers|pisses|pissflaps|pissin|pissing|pissoff|poop|porn|porno|pornography|pornos|prick|pricks|pron|pube|pusse|pussi|pussies|pussy|pussys|rectum|retard|rimjaw|rimming|s hit|s.o.b.|sadist|schlong|screwing|scroat|scrote|scrotum|semen|sex|sh!\+|sh!t|sh1t|shag|shagger|shaggin|shagging|shemale|shi\+|shit|shitdick|shite|shited|shitey|shitfuck|shitfull|shithead|shiting|shitings|shits|shitted|shitter|shitters|shitting|shittings|shitty|skank|slut|sluts|smegma|smut|snatch|son-of-a-bitch|spac|spunk|s_h_i_t|t1tt1e5|t1tties|teets|teez|testical|testicle|tit|titfuck|tits|titt|tittie5|tittiefucker|titties|tittyfuck|tittywank|titwank|tosser|turd|tw4t|twat|twathead|twatty|twunt|twunter|v14gra|v1gra|vagina|viagra|vulva|w00se|wang|wank|wanker|wanky|whoar|whore|willies|willy|xrated|xxx)\b/gi},29449:function(e,t){"use strict";t.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,a=s(e),o=a[0],u=a[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,o,u)),l=0,d=u>0?o-4:o;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===u&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t);1===u&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=16383,s=0,c=n-i;s<c;s+=o)a.push(u(e,s,s+o>c?c:s+o));1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],n=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)r[o]=a[o],n[a.charCodeAt(o)]=o;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},69434:function(e,t){"use strict";function r(e,t){return e<t}function n(e,t,n){return void 0===n&&(n=r),function(){for(var r=e.length,i=0;r;){var a=r>>>1,o=i+a;n(e[o],t)?(i=o+1,r-=a+1):r=a}return i}()}t.G=function(e,t,n){return void 0===n&&(n=r),function(){for(var r=e.length,i=0;r;){var a=r>>>1,o=i+a;n(t,e[o])?r=a:(i=o+1,r-=a+1)}return i}()}},68252:function(e,t,r){"use strict";var n=r(56690).default,i=r(89728).default,a=r(66115).default,o=r(61655).default,s=r(26389).default,u=r(29449),c=r(57644),l="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=h,t.SlowBuffer=function(e){+e!=e&&(e=0);return h.alloc(+e)},t.INSPECT_MAX_BYTES=50;var d=2147483647;function f(e){if(e>d)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,h.prototype),t}function h(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return g(e)}return p(e,t,r)}function p(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!h.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|S(e,t),n=f(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(ee(e,Uint8Array)){var t=new Uint8Array(e);return y(t.buffer,t.byteOffset,t.byteLength)}return m(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ee(e,ArrayBuffer)||e&&ee(e.buffer,ArrayBuffer))return y(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(ee(e,SharedArrayBuffer)||e&&ee(e.buffer,SharedArrayBuffer)))return y(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return h.from(n,t,r);var i=function(e){if(h.isBuffer(e)){var t=0|b(e.length),r=f(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||te(e.length)?f(0):m(e);if("Buffer"===e.type&&Array.isArray(e.data))return m(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return h.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function v(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function g(e){return v(e),f(e<0?0:0|b(e))}function m(e){for(var t=e.length<0?0:0|b(e.length),r=f(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function y(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,h.prototype),n}function b(e){if(e>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return 0|e}function S(e,t){if(h.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ee(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Q(e).length;default:if(i)return n?-1:Z(e).length;t=(""+t).toLowerCase(),i=!0}}function E(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,r);case"utf8":case"utf-8":return O(this,t,r);case"ascii":return N(this,t,r);case"latin1":case"binary":return L(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function x(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function w(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),te(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=h.from(t,n)),h.isBuffer(t))return 0===t.length?-1:k(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):k(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function k(e,t,r,n,i){var a,o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var d=!0,f=0;f<u;f++)if(c(e,a+f)!==c(t,f)){d=!1;break}if(d)return a}return-1}function _(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a,o=t.length;for(n>o/2&&(n=o/2),a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(te(s))return a;e[r+a]=s}return a}function T(e,t,r,n){return $(Z(t,e.length-r),e,r,n)}function A(e,t,r,n){return $(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function C(e,t,r,n){return $(Q(t),e,r,n)}function P(e,t,r,n){return $(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function I(e,t,r){return 0===t&&r===e.length?u.fromByteArray(e):u.fromByteArray(e.slice(t,r))}function O(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=r){var u=void 0,c=void 0,l=void 0,d=void 0;switch(s){case 1:a<128&&(o=a);break;case 2:128===(192&(u=e[i+1]))&&(d=(31&a)<<6|63&u)>127&&(o=d);break;case 3:u=e[i+1],c=e[i+2],128===(192&u)&&128===(192&c)&&(d=(15&a)<<12|(63&u)<<6|63&c)>2047&&(d<55296||d>57343)&&(o=d);break;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(d=(15&a)<<18|(63&u)<<12|(63&c)<<6|63&l)>65535&&d<1114112&&(o=d)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=R));return r}(n)}t.kMaxLength=d,h.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(r){return!1}}(),h.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(e,t,r){return p(e,t,r)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(e,t,r){return function(e,t,r){return v(e),e<=0?f(e):void 0!==t?"string"===typeof r?f(e).fill(t,r):f(e).fill(t):f(e)}(e,t,r)},h.allocUnsafe=function(e){return g(e)},h.allocUnsafeSlow=function(e){return g(e)},h.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==h.prototype},h.compare=function(e,t){if(ee(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),ee(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(e)||!h.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},h.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return h.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=h.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(ee(a,Uint8Array))i+a.length>n.length?(h.isBuffer(a)||(a=h.from(a)),a.copy(n,i)):Uint8Array.prototype.set.call(n,a,i);else{if(!h.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i)}i+=a.length}return n},h.byteLength=S,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)x(this,t,t+1);return this},h.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)x(this,t,t+3),x(this,t+1,t+2);return this},h.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)x(this,t,t+7),x(this,t+1,t+6),x(this,t+2,t+5),x(this,t+3,t+4);return this},h.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):E.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(e){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===h.compare(this,e)},h.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},l&&(h.prototype[l]=h.prototype.inspect),h.prototype.compare=function(e,t,r,n,i){if(ee(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),u=this.slice(n,i),c=e.slice(t,r),l=0;l<s;++l)if(u[l]!==c[l]){a=u[l],o=c[l];break}return a<o?-1:o<a?1:0},h.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},h.prototype.indexOf=function(e,t,r){return w(this,e,t,r,!0)},h.prototype.lastIndexOf=function(e,t,r){return w(this,e,t,r,!1)},h.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return T(this,e,t,r);case"ascii":case"latin1":case"binary":return A(this,e,t,r);case"base64":return C(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function N(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function L(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function j(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=re[e[a]];return i}function M(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length-1;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function D(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,r,n,i,a){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,i){Y(t,n,i,e,r,7);var a=Number(t&BigInt(4294967295));e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function B(e,t,r,n,i){Y(t,n,i,e,r,7);var a=Number(t&BigInt(4294967295));e[r+7]=a,a>>=8,e[r+6]=a,a>>=8,e[r+5]=a,a>>=8,e[r+4]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function G(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function V(e,t,r,n,i){return t=+t,r>>>=0,i||G(e,0,r,4),c.write(e,t,r,n,23,4),r+4}function H(e,t,r,n,i){return t=+t,r>>>=0,i||G(e,0,r,8),c.write(e,t,r,n,52,8),r+8}h.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,h.prototype),n},h.prototype.readUintLE=h.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},h.prototype.readUintBE=h.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},h.prototype.readUint8=h.prototype.readUInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),this[e]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]|this[e+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]<<8|this[e+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},h.prototype.readBigUInt64LE=ne((function(e){X(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);var n=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),i=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+r*Math.pow(2,24);return BigInt(n)+(BigInt(i)<<BigInt(32))})),h.prototype.readBigUInt64BE=ne((function(e){X(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);var n=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],i=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),h.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},h.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},h.prototype.readInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,t){e>>>=0,t||D(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt16BE=function(e,t){e>>>=0,t||D(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},h.prototype.readInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},h.prototype.readBigInt64LE=ne((function(e){X(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);var n=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),h.prototype.readBigInt64BE=ne((function(e){X(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);var n=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r)})),h.prototype.readFloatLE=function(e,t){return e>>>=0,t||D(e,4,this.length),c.read(this,e,!0,23,4)},h.prototype.readFloatBE=function(e,t){return e>>>=0,t||D(e,4,this.length),c.read(this,e,!1,23,4)},h.prototype.readDoubleLE=function(e,t){return e>>>=0,t||D(e,8,this.length),c.read(this,e,!0,52,8)},h.prototype.readDoubleBE=function(e,t){return e>>>=0,t||D(e,8,this.length),c.read(this,e,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||F(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||F(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},h.prototype.writeUint8=h.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,1,255,0),this[t]=255&e,t+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeBigUInt64LE=ne((function(e){return U(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeBigUInt64BE=ne((function(e){return B(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},h.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},h.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},h.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},h.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeBigInt64LE=ne((function(e){return U(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeBigInt64BE=ne((function(e){return B(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeFloatLE=function(e,t,r){return V(this,e,t,!0,r)},h.prototype.writeFloatBE=function(e,t,r){return V(this,e,t,!1,r)},h.prototype.writeDoubleLE=function(e,t,r){return H(this,e,t,!0,r)},h.prototype.writeDoubleBE=function(e,t,r){return H(this,e,t,!1,r)},h.prototype.copy=function(e,t,r,n){if(!h.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},h.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=h.isBuffer(e)?e:h.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var W={};function q(e,t,r){W[e]=function(r){o(c,r);var u=s(c);function c(){var r;return n(this,c),r=u.call(this),Object.defineProperty(a(r),"message",{value:t.apply(a(r),arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(e,"]"),r.stack,delete r.name,r}return i(c,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),c}(r)}function z(e){for(var t="",r=e.length,n="-"===e[0]?1:0;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function Y(e,t,r,n,i,a){if(e>r||e<t){var o,s="bigint"===typeof t?"n":"";throw o=a>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(a+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(a+1)-1).concat(s,") and < 2 ** ")+"".concat(8*(a+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(r).concat(s),new W.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,r){X(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||K(t,e.length-(r+1))}(n,i,a)}function X(e,t){if("number"!==typeof e)throw new W.ERR_INVALID_ARG_TYPE(t,"number",e)}function K(e,t,r){if(Math.floor(e)!==e)throw X(e,r),new W.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}q("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),q("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),q("ERR_OUT_OF_RANGE",(function(e,t,r){var n='The value of "'.concat(e,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>Math.pow(2,32)?i=z(String(r)):"bigint"===typeof r&&(i=String(r),(r>Math.pow(BigInt(2),BigInt(32))||r<-Math.pow(BigInt(2),BigInt(32)))&&(i=z(i)),i+="n"),n+=" It must be ".concat(t,". Received ").concat(i)}),RangeError);var J=/[^+/0-9A-Za-z-_]/g;function Z(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function Q(e){return u.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(J,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function $(e,t,r,n){var i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function ee(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function te(e){return e!==e}var re=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}();function ne(e){return"undefined"===typeof BigInt?ie:e}function ie(){throw new Error("BigInt not supported")}},2644:function(e,t,r){"use strict";var n=r(31210),i=r(76007),a=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"===typeof r&&a(e,".prototype.")>-1?i(r):r}},76007:function(e,t,r){"use strict";var n=r(52478),i=r(31210),a=r(73437),o=i("%TypeError%"),s=i("%Function.prototype.apply%"),u=i("%Function.prototype.call%"),c=i("%Reflect.apply%",!0)||n.call(u,s),l=i("%Object.defineProperty%",!0),d=i("%Math.max%");if(l)try{l({},"a",{value:1})}catch(h){l=null}e.exports=function(e){if("function"!==typeof e)throw new o("a function is required");var t=c(n,u,arguments);return a(t,1+d(0,e.length-(arguments.length-1)),!0)};var f=function(){return c(n,s,arguments)};l?l(e.exports,"apply",{value:f}):e.exports.apply=f},18934:function(e,t,r){"use strict";var n=r(58650)(),i=r(31210),a=n&&i("%Object.defineProperty%",!0);if(a)try{a({},"a",{value:1})}catch(c){a=!1}var o=i("%SyntaxError%"),s=i("%TypeError%"),u=r(80025);e.exports=function(e,t,r){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new s("`obj` must be an object or a function`");if("string"!==typeof t&&"symbol"!==typeof t)throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!==typeof arguments[3]&&null!==arguments[3])throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!==typeof arguments[4]&&null!==arguments[4])throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!==typeof arguments[5]&&null!==arguments[5])throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!==typeof arguments[6])throw new s("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],d=!!u&&u(e,t);if(a)a(e,t,{configurable:null===c&&d?d.configurable:!c,enumerable:null===n&&d?d.enumerable:!n,value:r,writable:null===i&&d?d.writable:!i});else{if(!l&&(n||i||c))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}},26692:function(e,t,r){var n=r(51589).default,i=r(74704).default,a=r(38416).default,o=r(17061).default,s=r(17156).default,u=r(41588).default,c=r(73808).default,l=r(861).default,d=r(66115).default,f=r(27424).default,h=r(33496).default,p=r(61655).default,v=r(26389).default,g=r(89728).default,m=r(56690).default;!function(e){"use strict";function t(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?r(Object(i),!0).forEach((function(r){t(e,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function b(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function S(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var E,x=g((function e(){m(this,e),t(this,"browserShadowBlurConstant",1),t(this,"DPI",96),t(this,"devicePixelRatio","undefined"!=typeof window?window.devicePixelRatio:1),t(this,"perfLimitSizeTotal",2097152),t(this,"maxCacheSideLimit",4096),t(this,"minCacheSideLimit",256),t(this,"disableStyleCopyPaste",!1),t(this,"enableGLFiltering",!0),t(this,"textureSize",4096),t(this,"forceGLPutImageData",!1),t(this,"cachesBoundsOfCurve",!0),t(this,"fontPaths",{}),t(this,"NUM_FRACTION_DIGITS",4)})),w=new(function(e){p(r,e);var t=v(r);function r(e){var n;return m(this,r),(n=t.call(this)).configure(e),n}return g(r,[{key:"configure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this,e)}},{key:"addFonts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.fontPaths=y(y({},this.fontPaths),e)}},{key:"removeFonts",value:function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){delete e.fontPaths[t]}))}},{key:"clearFonts",value:function(){this.fontPaths={}}},{key:"restoreDefaults",value:function(e){var t=new x,r=(null==e?void 0:e.reduce((function(e,r){return e[r]=t[r],e}),{}))||t;this.configure(r)}}]),r}(x)),k=function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return(t=console)[e].apply(t,["fabric"].concat(n))},_=function(e){p(r,e);var t=v(r);function r(e,n){return m(this,r),t.call(this,"fabric: ".concat(e),n)}return g(r)}(h(Error)),T=function(e){p(r,e);var t=v(r);function r(e){return m(this,r),t.call(this,"".concat(e," 'options.signal' is in 'aborted' state"))}return g(r)}(_),A=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"testPrecision",value:function(e,t){var r="precision ".concat(t," float;\nvoid main(){}"),n=e.createShader(e.FRAGMENT_SHADER);return!!n&&(e.shaderSource(n,r),e.compileShader(n),!!e.getShaderParameter(n,e.COMPILE_STATUS))}},{key:"queryWebGL",value:function(e){var t=this,r=e.getContext("webgl");r&&(this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find((function(e){return t.testPrecision(r,e)})),r.getExtension("WEBGL_lose_context").loseContext(),k("log","WebGL: max texture size ".concat(this.maxTextureSize)))}},{key:"isSupported",value:function(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}}]),r}(g((function e(){m(this,e)}))),C={},P=function(){return E||(E={document:document,window:window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new A,dispose:function(){},copyPasteData:C})},I=function(){return P().document},O=function(){return P().window},R=function(){var e;return Math.max(null!==(e=w.devicePixelRatio)&&void 0!==e?e:O().devicePixelRatio,1)},N=new(function(){function e(){m(this,e),t(this,"charWidthsCache",{}),t(this,"boundsOfCurveCache",{})}return g(e,[{key:"getFontCache",value:function(e){var t=e.fontFamily,r=e.fontStyle,n=e.fontWeight;t=t.toLowerCase(),this.charWidthsCache[t]||(this.charWidthsCache[t]={});var i=this.charWidthsCache[t],a="".concat(r.toLowerCase(),"_").concat((n+"").toLowerCase());return i[a]||(i[a]={}),i[a]}},{key:"clearFontCache",value:function(e){(e=(e||"").toLowerCase())?this.charWidthsCache[e]&&delete this.charWidthsCache[e]:this.charWidthsCache={}}},{key:"limitDimsByArea",value:function(e){var t=w.perfLimitSizeTotal,r=Math.sqrt(t*e);return[Math.floor(r),Math.floor(t/r)]}}]),e}()),L="6.4.1";function j(){}var M=Math.PI/2,D=2*Math.PI,F=Math.PI/180,U=Object.freeze([1,0,0,1,0,0]),B=16,G=.4477152502,V="center",H="left",W="top",q="bottom",z="right",Y="none",X=/\r?\n/,K="moving",J="scaling",Z="rotating",Q="rotate",$="skewing",ee="resizing",te="modifyPoly",re="modifyPath",ne="changed",ie="scale",ae="scaleX",oe="scaleY",se="skewX",ue="skewY",ce="fill",le="stroke",de="modified",fe="json",he="svg",pe=new(function(){function e(){m(this,e),this[fe]=new Map,this[he]=new Map}return g(e,[{key:"has",value:function(e){return this[fe].has(e)}},{key:"getClass",value:function(e){var t=this[fe].get(e);if(!t)throw new _("No class registered for ".concat(e));return t}},{key:"setClass",value:function(e,t){t?this[fe].set(t,e):(this[fe].set(e.type,e),this[fe].set(e.type.toLowerCase(),e))}},{key:"getSVGClass",value:function(e){return this[he].get(e)}},{key:"setSVGClass",value:function(e,t){this[he].set(null!=t?t:e.type.toLowerCase(),e)}}]),e}()),ve=new(function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"remove",value:function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)}},{key:"cancelAll",value:function(){var e=this.splice(0);return e.forEach((function(e){return e.abort()})),e}},{key:"cancelByCanvas",value:function(e){if(!e)return[];var t=this.filter((function(t){var r;return t.target===e||"object"==typeof t.target&&(null===(r=t.target)||void 0===r?void 0:r.canvas)===e}));return t.forEach((function(e){return e.abort()})),t}},{key:"cancelByTarget",value:function(e){if(!e)return[];var t=this.filter((function(t){return t.target===e}));return t.forEach((function(e){return e.abort()})),t}}]),r}(h(Array))),ge=function(){function e(){m(this,e),t(this,"__eventListeners",{})}return g(e,[{key:"on",value:function(e,t){var r=this;if(this.__eventListeners||(this.__eventListeners={}),"object"==typeof e)return Object.entries(e).forEach((function(e){var t=f(e,2),n=t[0],i=t[1];r.on(n,i)})),function(){return r.off(e)};if(t){var n=e;return this.__eventListeners[n]||(this.__eventListeners[n]=[]),this.__eventListeners[n].push(t),function(){return r.off(n,t)}}return function(){return!1}}},{key:"once",value:function(e,t){var r=this;if("object"==typeof e){var n=[];return Object.entries(e).forEach((function(e){var t=f(e,2),i=t[0],a=t[1];n.push(r.once(i,a))})),function(){return n.forEach((function(e){return e()}))}}if(t){var i=this.on(e,(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.call.apply(t,[this].concat(r)),i()}));return i}return function(){return!1}}},{key:"_removeEventListener",value:function(e,t){if(this.__eventListeners[e])if(t){var r=this.__eventListeners[e],n=r.indexOf(t);n>-1&&r.splice(n,1)}else this.__eventListeners[e]=[]}},{key:"off",value:function(e,t){var r=this;if(this.__eventListeners)if(void 0===e)for(var n in this.__eventListeners)this._removeEventListener(n);else"object"==typeof e?Object.entries(e).forEach((function(e){var t=f(e,2),n=t[0],i=t[1];r._removeEventListener(n,i)})):this._removeEventListener(e,t)}},{key:"fire",value:function(e,t){var r;if(this.__eventListeners){var n=null===(r=this.__eventListeners[e])||void 0===r?void 0:r.concat();if(n)for(var i=0;i<n.length;i++)n[i].call(this,t||{})}}}]),e}(),me=function(e,t){var r=e.indexOf(t);return-1!==r&&e.splice(r,1),e},ye=function(e){if(0===e)return 1;switch(Math.abs(e)/M){case 1:case 3:return 0;case 2:return-1}return Math.cos(e)},be=function(e){if(0===e)return 0;var t=e/M,r=Math.sign(e);switch(t){case 1:return r;case 2:return 0;case 3:return-r}return Math.sin(e)},Se=function(){function e(){m(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;"object"==typeof t?(this.x=t.x,this.y=t.y):(this.x=t,this.y=r)}return g(e,[{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"addEquals",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"scalarAdd",value:function(t){return new e(this.x+t,this.y+t)}},{key:"scalarAddEquals",value:function(e){return this.x+=e,this.y+=e,this}},{key:"subtract",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"subtractEquals",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"scalarSubtract",value:function(t){return new e(this.x-t,this.y-t)}},{key:"scalarSubtractEquals",value:function(e){return this.x-=e,this.y-=e,this}},{key:"multiply",value:function(t){return new e(this.x*t.x,this.y*t.y)}},{key:"scalarMultiply",value:function(t){return new e(this.x*t,this.y*t)}},{key:"scalarMultiplyEquals",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(t){return new e(this.x/t.x,this.y/t.y)}},{key:"scalarDivide",value:function(t){return new e(this.x/t,this.y/t)}},{key:"scalarDivideEquals",value:function(e){return this.x/=e,this.y/=e,this}},{key:"eq",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"lt",value:function(e){return this.x<e.x&&this.y<e.y}},{key:"lte",value:function(e){return this.x<=e.x&&this.y<=e.y}},{key:"gt",value:function(e){return this.x>e.x&&this.y>e.y}},{key:"gte",value:function(e){return this.x>=e.x&&this.y>=e.y}},{key:"lerp",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return r=Math.max(Math.min(1,r),0),new e(this.x+(t.x-this.x)*r,this.y+(t.y-this.y)*r)}},{key:"distanceFrom",value:function(e){var t=this.x-e.x,r=this.y-e.y;return Math.sqrt(t*t+r*r)}},{key:"midPointFrom",value:function(e){return this.lerp(e)}},{key:"min",value:function(t){return new e(Math.min(this.x,t.x),Math.min(this.y,t.y))}},{key:"max",value:function(t){return new e(Math.max(this.x,t.x),Math.max(this.y,t.y))}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y)}},{key:"setXY",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setFromPoint",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"swap",value:function(e){var t=this.x,r=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=r}},{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"rotate",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee,n=be(t),i=ye(t),a=this.subtract(r);return new e(a.x*i-a.y*n,a.x*n+a.y*i).add(r)}},{key:"transform",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new e(t[0]*this.x+t[2]*this.y+(r?0:t[4]),t[1]*this.x+t[3]*this.y+(r?0:t[5]))}}]),e}(),Ee=new Se(0,0),xe=function(e){return!!e&&Array.isArray(e._objects)};function we(e){var r=function(e){p(n,e);var r=v(n);function n(){var e;return m(this,n),e=r.apply(this,arguments),t(d(e),"_objects",[]),e}return g(n,[{key:"_onObjectAdded",value:function(e){}},{key:"_onObjectRemoved",value:function(e){}},{key:"_onStackOrderChanged",value:function(e){}},{key:"add",value:function(){for(var e,t=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=(e=this._objects).push.apply(e,n);return n.forEach((function(e){return t._onObjectAdded(e)})),a}},{key:"insertAt",value:function(e){for(var t,r=this,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return(t=this._objects).splice.apply(t,[e,0].concat(i)),i.forEach((function(e){return r._onObjectAdded(e)})),this._objects.length}},{key:"remove",value:function(){for(var e=this,t=this._objects,r=[],n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return i.forEach((function(n){var i=t.indexOf(n);-1!==i&&(t.splice(i,1),r.push(n),e._onObjectRemoved(n))})),r}},{key:"forEachObject",value:function(e){this.getObjects().forEach((function(t,r,n){return e(t,r,n)}))}},{key:"getObjects",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?l(this._objects):this._objects.filter((function(e){return e.isType.apply(e,t)}))}},{key:"item",value:function(e){return this._objects[e]}},{key:"isEmpty",value:function(){return 0===this._objects.length}},{key:"size",value:function(){return this._objects.length}},{key:"contains",value:function(e,t){return!!this._objects.includes(e)||!!t&&this._objects.some((function(t){return t instanceof n&&t.contains(e,!0)}))}},{key:"complexity",value:function(){return this._objects.reduce((function(e,t){return e+(t.complexity?t.complexity():0)}),0)}},{key:"sendObjectToBack",value:function(e){return!(!e||e===this._objects[0])&&(me(this._objects,e),this._objects.unshift(e),this._onStackOrderChanged(e),!0)}},{key:"bringObjectToFront",value:function(e){return!(!e||e===this._objects[this._objects.length-1])&&(me(this._objects,e),this._objects.push(e),this._onStackOrderChanged(e),!0)}},{key:"sendObjectBackwards",value:function(e,t){if(!e)return!1;var r=this._objects.indexOf(e);if(0!==r){var n=this.findNewLowerIndex(e,r,t);return me(this._objects,e),this._objects.splice(n,0,e),this._onStackOrderChanged(e),!0}return!1}},{key:"bringObjectForward",value:function(e,t){if(!e)return!1;var r=this._objects.indexOf(e);if(r!==this._objects.length-1){var n=this.findNewUpperIndex(e,r,t);return me(this._objects,e),this._objects.splice(n,0,e),this._onStackOrderChanged(e),!0}return!1}},{key:"moveObjectTo",value:function(e,t){return e!==this._objects[t]&&(me(this._objects,e),this._objects.splice(t,0,e),this._onStackOrderChanged(e),!0)}},{key:"findNewLowerIndex",value:function(e,t,r){var n;if(r){n=t;for(var i=t-1;i>=0;--i)if(e.isOverlapping(this._objects[i])){n=i;break}}else n=t-1;return n}},{key:"findNewUpperIndex",value:function(e,t,r){var n;if(r){n=t;for(var i=t+1;i<this._objects.length;++i)if(e.isOverlapping(this._objects[i])){n=i;break}}else n=t+1;return n}},{key:"collectObjects",value:function(e){for(var t=e.left,r=e.top,n=e.width,i=e.height,a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).includeIntersecting,o=void 0===a||a,s=[],u=new Se(t,r),c=u.add(new Se(n,i)),l=this._objects.length-1;l>=0;l--){var d=this._objects[l];d.selectable&&d.visible&&(o&&d.intersectsWithRect(u,c)||d.isContainedWithinRect(u,c)||o&&d.containsPoint(u)||o&&d.containsPoint(c))&&s.push(d)}return s}}]),n}(e);return r}var ke=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"_setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)this.set(t,e[t])}},{key:"_setObject",value:function(e){for(var t in e)this._set(t,e[t])}},{key:"set",value:function(e,t){return"object"==typeof e?this._setObject(e):this._set(e,t),this}},{key:"_set",value:function(e,t){this[e]=t}},{key:"toggle",value:function(e){var t=this.get(e);return"boolean"==typeof t&&this.set(e,!t),this}},{key:"get",value:function(e){return this[e]}}]),r}(ge);function _e(e){return O().requestAnimationFrame(e)}function Te(e){return O().cancelAnimationFrame(e)}var Ae=0,Ce=function(){return Ae++},Pe=function(){var e=I().createElement("canvas");if(!e||void 0===e.getContext)throw new _("Failed to create `canvas` element");return e},Ie=function(){return I().createElement("img")},Oe=function(e,t,r){return e.toDataURL("image/".concat(t),r)},Re=function(e){return e*F},Ne=function(e){return e/F},Le=function(e){return e.every((function(e,t){return e===U[t]}))},je=function(e,t,r){return new Se(e).transform(t,r)},Me=function(e){var t=1/(e[0]*e[3]-e[1]*e[2]),r=[t*e[3],-t*e[1],-t*e[2],t*e[0],0,0],n=new Se(e[4],e[5]).transform(r,!0),i=n.x,a=n.y;return r[4]=-i,r[5]=-a,r},De=function(e,t,r){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],r?0:e[0]*t[4]+e[2]*t[5]+e[4],r?0:e[1]*t[4]+e[3]*t[5]+e[5]]},Fe=function(e,t){return e.reduceRight((function(e,r){return r&&e?De(r,e,t):r||e}),void 0)||U.concat()},Ue=function(e){var t=f(e,2),r=t[0],n=t[1];return Math.atan2(n,r)},Be=function(e){var t=Ue(e),r=Math.pow(e[0],2)+Math.pow(e[1],2),n=Math.sqrt(r),i=(e[0]*e[3]-e[2]*e[1])/n,a=Math.atan2(e[0]*e[2]+e[1]*e[3],r);return{angle:Ne(t),scaleX:n,scaleY:i,skewX:Ne(a),skewY:0,translateX:e[4]||0,translateY:e[5]||0}},Ge=function(e){return[1,0,0,1,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0]};function Ve(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).angle,t=void 0===e?0:e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.x,i=void 0===n?0:n,a=r.y,o=void 0===a?0:a,s=Re(t),u=ye(s),c=be(s);return[u,c,-c,u,i?i-(u*i-c*o):0,o?o-(c*i+u*o):0]}var He=function(e){return[e,0,0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,0,0]},We=function(e){return Math.tan(Re(e))},qe=function(e){return[1,0,We(e),1,0,0]},ze=function(e){return[1,We(e),0,1,0,0]},Ye=function(e){var t=e.scaleX,r=void 0===t?1:t,n=e.scaleY,i=void 0===n?1:n,a=e.flipX,o=void 0!==a&&a,s=e.flipY,u=void 0!==s&&s,c=e.skewX,l=void 0===c?0:c,d=e.skewY,f=void 0===d?0:d,h=He(o?-r:r,u?-i:i);return l&&(h=De(h,qe(l),!0)),f&&(h=De(h,ze(f),!0)),h},Xe=function(e){var t=e.translateX,r=void 0===t?0:t,n=e.translateY,i=void 0===n?0:n,a=e.angle,o=void 0===a?0:a,s=Ge(r,i);o&&(s=De(s,Ve({angle:o})));var u=Ye(e);return Le(u)||(s=De(s,u)),s},Ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.signal,n=t.crossOrigin,i=void 0===n?null:n;return new Promise((function(t,n){if(r&&r.aborted)return n(new T("loadImage"));var a,o=Ie();r&&(a=function(e){o.src="",n(e)},r.addEventListener("abort",a,{once:!0}));var s=function(){o.onload=o.onerror=null,a&&(null==r||r.removeEventListener("abort",a)),t(o)};e?(o.onload=s,o.onerror=function(){a&&(null==r||r.removeEventListener("abort",a)),n(new _("Error loading ".concat(o.src)))},i&&(o.crossOrigin=i),o.src=e):s()}))},Je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.signal,n=t.reviver,i=void 0===n?j:n;return new Promise((function(t,n){var a=[];r&&r.addEventListener("abort",n,{once:!0}),Promise.all(e.map((function(e){return pe.getClass(e.type).fromObject(e,{signal:r}).then((function(t){return i(e,t),a.push(t),t}))}))).then(t).catch((function(e){a.forEach((function(e){e.dispose&&e.dispose()})),n(e)})).finally((function(){r&&r.removeEventListener("abort",n)}))}))},Ze=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).signal;return new Promise((function(r,n){var i=[];t&&t.addEventListener("abort",n,{once:!0});var a=Object.values(e).map((function(e){return e&&e.type&&pe.has(e.type)?Je([e],{signal:t}).then((function(e){var t=f(e,1)[0];return i.push(t),t})):e})),o=Object.keys(e);Promise.all(a).then((function(e){return e.reduce((function(e,t,r){return e[o[r]]=t,e}),{})})).then(r).catch((function(e){i.forEach((function(e){e.dispose&&e.dispose()})),n(e)})).finally((function(){t&&t.removeEventListener("abort",n)}))}))},Qe=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce((function(t,r){return r in e&&(t[r]=e[r]),t}),{})},$e=function(e,t){return Object.keys(e).reduce((function(r,n){return t(e[n],n,e)&&(r[n]=e[n]),r}),{})},et={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},tt=function(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e},rt=function(e,t,r,n){e/=255,t/=255,r/=255;var i,a,o=Math.max(e,t,r),s=Math.min(e,t,r),u=(o+s)/2;if(o===s)i=a=0;else{var c=o-s;switch(a=u>.5?c/(2-o-s):c/(o+s),o){case e:i=(t-r)/c+(t<r?6:0);break;case t:i=(r-e)/c+2;break;case r:i=(e-t)/c+4}i/=6}return[Math.round(360*i),Math.round(100*a),Math.round(100*u),n]},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1";return parseFloat(e)/(e.endsWith("%")?100:1)},it=function(e){return Math.min(Math.round(e),255).toString(16).toUpperCase().padStart(2,"0")},at=function(e){var t=f(e,4),r=t[0],n=t[1],i=t[2],a=t[3],o=void 0===a?1:a,s=Math.round(.3*r+.59*n+.11*i);return[s,s,s,o]},ot=function(){function e(r){if(m(this,e),t(this,"isUnrecognised",!1),r)if(r instanceof e)this.setSource(l(r._source));else if(Array.isArray(r)){var n=f(r,4),i=n[0],a=n[1],o=n[2],s=n[3],u=void 0===s?1:s;this.setSource([i,a,o,u])}else this.setSource(this._tryParsingColor(r));else this.setSource([0,0,0,1])}return g(e,[{key:"_tryParsingColor",value:function(t){return t in et&&(t=et[t]),"transparent"===t?[255,255,255,0]:e.sourceFromHex(t)||e.sourceFromRgb(t)||e.sourceFromHsl(t)||(this.isUnrecognised=!0)&&[0,0,0,1]}},{key:"getSource",value:function(){return this._source}},{key:"setSource",value:function(e){this._source=e}},{key:"toRgb",value:function(){var e=this.getSource(),t=f(e,3),r=t[0],n=t[1],i=t[2];return"rgb(".concat(r,",").concat(n,",").concat(i,")")}},{key:"toRgba",value:function(){return"rgba(".concat(this.getSource().join(","),")")}},{key:"toHsl",value:function(){var e=rt.apply(void 0,l(this.getSource())),t=f(e,3),r=t[0],n=t[1],i=t[2];return"hsl(".concat(r,",").concat(n,"%,").concat(i,"%)")}},{key:"toHsla",value:function(){var e=rt.apply(void 0,l(this.getSource())),t=f(e,4),r=t[0],n=t[1],i=t[2],a=t[3];return"hsla(".concat(r,",").concat(n,"%,").concat(i,"%,").concat(a,")")}},{key:"toHex",value:function(){return this.toHexa().slice(0,6)}},{key:"toHexa",value:function(){var e=this.getSource(),t=f(e,4),r=t[0],n=t[1],i=t[2],a=t[3];return"".concat(it(r)).concat(it(n)).concat(it(i)).concat(it(Math.round(255*a)))}},{key:"getAlpha",value:function(){return this.getSource()[3]}},{key:"setAlpha",value:function(e){return this._source[3]=e,this}},{key:"toGrayscale",value:function(){return this.setSource(at(this.getSource())),this}},{key:"toBlackWhite",value:function(e){var t=at(this.getSource()),r=f(t,4),n=r[0],i=r[3],a=n<(e||127)?0:255;return this.setSource([a,a,a,i]),this}},{key:"overlayWith",value:function(t){t instanceof e||(t=new e(t));var r=this.getSource(),n=t.getSource(),i=r.map((function(e,t){return Math.round(.5*e+.5*n[t])})),a=f(i,3),o=a[0],s=a[1],u=a[2];return this.setSource([o,s,u,r[3]]),this}}],[{key:"fromRgb",value:function(t){return e.fromRgba(t)}},{key:"fromRgba",value:function(t){return new e(e.sourceFromRgb(t))}},{key:"sourceFromRgb",value:function(e){var t=e.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(t){var r=t.slice(1,4).map((function(e){var t=parseFloat(e);return e.endsWith("%")?Math.round(2.55*t):t})),n=f(r,3);return[n[0],n[1],n[2],nt(t[4])]}}},{key:"fromHsl",value:function(t){return e.fromHsla(t)}},{key:"fromHsla",value:function(t){return new e(e.sourceFromHsl(t))}},{key:"sourceFromHsl",value:function(t){var r=t.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(r){var n,i,a,o=(e.parseAngletoDegrees(r[1])%360+360)%360/360,s=parseFloat(r[2])/100,u=parseFloat(r[3])/100;if(0===s)n=i=a=u;else{var c=u<=.5?u*(s+1):u+s-u*s,l=2*u-c;n=tt(l,c,o+1/3),i=tt(l,c,o),a=tt(l,c,o-1/3)}return[Math.round(255*n),Math.round(255*i),Math.round(255*a),nt(r[4])]}}},{key:"fromHex",value:function(t){return new e(e.sourceFromHex(t))}},{key:"sourceFromHex",value:function(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){var t,r=e.slice(e.indexOf("#")+1);t=r.length<=4?r.split("").map((function(e){return e+e})):r.match(/.{2}/g);var n=t.map((function(e){return parseInt(e,16)})),i=f(n,4),a=i[0],o=i[1],s=i[2],u=i[3];return[a,o,s,(void 0===u?255:u)/255]}}},{key:"parseAngletoDegrees",value:function(e){var t=e.toLowerCase(),r=parseFloat(t);return t.includes("rad")?Ne(r):t.includes("turn")?360*r:r}}]),e}(),st=function(e,t){return parseFloat(Number(e).toFixed(t))},ut=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B,r=/\D{0,2}$/.exec(e),n=parseFloat(e),i=w.DPI;switch(null==r?void 0:r[0]){case"mm":return n*i/25.4;case"cm":return n*i/2.54;case"in":return n*i;case"pt":return n*i/72;case"pc":return n*i/72*12;case"em":return n*t;default:return n}},ct=function(e){var t,r=e.trim().split(" "),n=f(r,2),i=n[0],a=n[1],o=(t=i)&&t!==Y?[t.slice(1,4),t.slice(5,8)]:t===Y?[t,t]:["Mid","Mid"],s=f(o,2);return{meetOrSlice:a||"meet",alignX:s[0],alignY:s[1]}},lt=function(e){return"matrix("+e.map((function(e){return st(e,w.NUM_FRACTION_DIGITS)})).join(" ")+")"},dt=function(e,t){var r,n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t)if(t.toLive)r="url(#SVGID_".concat(t.id,")");else{var a=new ot(t),o=a.getAlpha();r=a.toRgb(),1!==o&&(n=o.toString())}else r="none";return i?"".concat(e,": ").concat(r,"; ").concat(n?"".concat(e,"-opacity: ").concat(n,"; "):""):"".concat(e,'="').concat(r,'" ').concat(n?"".concat(e,'-opacity="').concat(n,'" '):"")},ft=function(e){return!!e&&void 0!==e.toLive},ht=function(e){return!!e&&"function"==typeof e.toObject},pt=function(e){return!!e&&void 0!==e.offsetX&&"source"in e},vt=function(e){return!!e&&"function"==typeof e._renderText},gt=function(e){return!!e&&"multiSelectionStacking"in e};function mt(e){var t=e&&yt(e),r=0,n=0;if(!e||!t)return{left:r,top:n};for(var i=e,a=t.documentElement,o=t.body||{scrollLeft:0,scrollTop:0};i&&(i.parentNode||i.host)&&((i=i.parentNode||i.host)===t?(r=o.scrollLeft||a.scrollLeft||0,n=o.scrollTop||a.scrollTop||0):(r+=i.scrollLeft||0,n+=i.scrollTop||0),1!==i.nodeType||"fixed"!==i.style.position););return{left:r,top:n}}var yt=function(e){return e.ownerDocument||null},bt=function(e){var t;return(null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView)||null},St=function(e,t,r){var n=r.width,i=r.height,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;e.width=n,e.height=i,a>1&&(e.setAttribute("width",(n*a).toString()),e.setAttribute("height",(i*a).toString()),t.scale(a,a))},Et=function(e,t){var r=t.width,n=t.height;r&&(e.style.width="number"==typeof r?"".concat(r,"px"):r),n&&(e.style.height="number"==typeof n?"".concat(n,"px"):n)};function xt(e){return void 0!==e.onselectstart&&(e.onselectstart=function(){return!1}),e.style.userSelect=Y,e}var wt=function(){function e(r){m(this,e),t(this,"_originalCanvasStyle",void 0),t(this,"lower",void 0);var n=this.createLowerCanvas(r);this.lower={el:n,ctx:n.getContext("2d")}}return g(e,[{key:"createLowerCanvas",value:function(e){var t,r=(t=e)&&void 0!==t.getContext?e:e&&I().getElementById(e)||Pe();if(r.hasAttribute("data-fabric"))throw new _("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=r.style.cssText,r.setAttribute("data-fabric","main"),r.classList.add("lower-canvas"),r}},{key:"cleanupDOM",value:function(e){var t=e.width,r=e.height,n=this.lower.el;n.classList.remove("lower-canvas"),n.removeAttribute("data-fabric"),n.setAttribute("width","".concat(t)),n.setAttribute("height","".concat(r)),n.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}},{key:"setDimensions",value:function(e,t){var r=this.lower,n=r.el,i=r.ctx;St(n,i,e,t)}},{key:"setCSSDimensions",value:function(e){Et(this.lower.el,e)}},{key:"calcOffset",value:function(){return function(e){var t,r=e&&yt(e),n={left:0,top:0};if(!r)return n;var i=(null===(t=bt(e))||void 0===t?void 0:t.getComputedStyle(e,null))||{};n.left+=parseInt(i.borderLeftWidth,10)||0,n.top+=parseInt(i.borderTopWidth,10)||0,n.left+=parseInt(i.paddingLeft,10)||0,n.top+=parseInt(i.paddingTop,10)||0;var a={left:0,top:0},o=r.documentElement;void 0!==e.getBoundingClientRect&&(a=e.getBoundingClientRect());var s=mt(e);return{left:a.left+s.left-(o.clientLeft||0)+n.left,top:a.top+s.top-(o.clientTop||0)+n.top}}(this.lower.el)}},{key:"dispose",value:function(){P().dispose(this.lower.el),delete this.lower}}]),e}(),kt={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:l(U)},_t=function(e){p(r,e);var t=v(r);function r(e){var n;m(this,r);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=t.call(this),Object.assign(d(n),n.constructor.getDefaults()),n.set(i),n.initElements(e),n._setDimensionsImpl({width:n.width||n.elements.lower.el.width||0,height:n.height||n.elements.lower.el.height||0}),n.skipControlsDrawing=!1,n.viewportTransform=l(n.viewportTransform),n.calcViewportBoundaries(),n}return g(r,[{key:"lowerCanvasEl",get:function(){var e;return null===(e=this.elements.lower)||void 0===e?void 0:e.el}},{key:"contextContainer",get:function(){var e;return null===(e=this.elements.lower)||void 0===e?void 0:e.ctx}},{key:"initElements",value:function(e){this.elements=new wt(e)}},{key:"add",value:function(){var e=u(c(r.prototype),"add",this).apply(this,arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}},{key:"insertAt",value:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var o=(t=u(c(r.prototype),"insertAt",this)).call.apply(t,[this,e].concat(i));return i.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),o}},{key:"remove",value:function(){var e=u(c(r.prototype),"remove",this).apply(this,arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}},{key:"_onObjectAdded",value:function(e){e.canvas&&e.canvas!==this&&(k("warn","Canvas is trying to add an object that belongs to a different canvas.\nResulting to default behavior: removing object from previous canvas and adding to new canvas"),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}},{key:"_onObjectRemoved",value:function(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}},{key:"_onStackOrderChanged",value:function(){this.renderOnAddRemove&&this.requestRenderAll()}},{key:"getRetinaScaling",value:function(){return this.enableRetinaScaling?R():1}},{key:"calcOffset",value:function(){return this._offset=this.elements.calcOffset()}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"setWidth",value:function(e,t){return this.setDimensions({width:e},t)}},{key:"setHeight",value:function(e,t){return this.setDimensions({height:e},t)}},{key:"_setDimensionsImpl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.cssOnly,n=void 0!==r&&r,i=t.backstoreOnly,a=void 0!==i&&i;if(!n){var o=y({width:this.width,height:this.height},e);this.elements.setDimensions(o,this.getRetinaScaling()),this.hasLostContext=!0,this.width=o.width,this.height=o.height}a||this.elements.setCSSDimensions(e),this.calcOffset()}},{key:"setDimensions",value:function(e,t){this._setDimensionsImpl(e,t),t&&t.cssOnly||this.requestRenderAll()}},{key:"getZoom",value:function(){return this.viewportTransform[0]}},{key:"setViewportTransform",value:function(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}},{key:"zoomToPoint",value:function(e,t){var r=e,n=l(this.viewportTransform),i=je(e,Me(n));n[0]=t,n[3]=t;var a=je(i,n);n[4]+=r.x-a.x,n[5]+=r.y-a.y,this.setViewportTransform(n)}},{key:"setZoom",value:function(e){this.zoomToPoint(new Se(0,0),e)}},{key:"absolutePan",value:function(e){var t=l(this.viewportTransform);return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)}},{key:"relativePan",value:function(e){return this.absolutePan(new Se(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}},{key:"getElement",value:function(){return this.elements.lower.el}},{key:"clearContext",value:function(e){e.clearRect(0,0,this.width,this.height)}},{key:"getContext",value:function(){return this.elements.lower.ctx}},{key:"clear",value:function(){this.remove.apply(this,l(this.getObjects())),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}},{key:"renderAll",value:function(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}},{key:"renderAndReset",value:function(){this.nextRenderHandle=0,this.renderAll()}},{key:"requestRenderAll",value:function(){var e=this;this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=_e((function(){return e.renderAndReset()})))}},{key:"calcViewportBoundaries",value:function(){var e=this.width,t=this.height,r=Me(this.viewportTransform),n=je({x:0,y:0},r),i=je({x:e,y:t},r),a=n.min(i),o=n.max(i);return this.vptCoords={tl:a,tr:new Se(o.x,a.y),bl:new Se(a.x,o.y),br:o}}},{key:"cancelRequestedRender",value:function(){this.nextRenderHandle&&(Te(this.nextRenderHandle),this.nextRenderHandle=0)}},{key:"drawControls",value:function(e){}},{key:"renderCanvas",value:function(e,t){if(!this.destroyed){var r=this.viewportTransform,n=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this._renderObjects(e,t),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),n&&(n._set("canvas",this),n.shouldCache(),n._transformDone=!0,n.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,n)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}}},{key:"drawClipPathOnCanvas",value:function(e,t){var r=this.viewportTransform;e.save(),e.transform.apply(e,l(r)),e.globalCompositeOperation="destination-in",t.transform(e),e.scale(1/t.zoomX,1/t.zoomY),e.drawImage(t._cacheCanvas,-t.cacheTranslationX,-t.cacheTranslationY),e.restore()}},{key:"_renderObjects",value:function(e,t){for(var r=0,n=t.length;r<n;++r)t[r]&&t[r].render(e)}},{key:"_renderBackgroundOrOverlay",value:function(e,t){var r=this["".concat(t,"Color")],n=this["".concat(t,"Image")],i=this.viewportTransform,a=this["".concat(t,"Vpt")];if(r||n){var o=ft(r);if(r){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=o?r.toLive(e):r,a&&e.transform.apply(e,l(i)),o){e.transform(1,0,0,1,r.offsetX||0,r.offsetY||0);var s=r.gradientTransform||r.patternTransform;s&&e.transform.apply(e,l(s))}e.fill(),e.restore()}if(n){e.save();var u=this.skipOffscreen;this.skipOffscreen=a,a&&e.transform.apply(e,l(i)),n.render(e),this.skipOffscreen=u,e.restore()}}}},{key:"_renderBackground",value:function(e){this._renderBackgroundOrOverlay(e,"background")}},{key:"_renderOverlay",value:function(e){this._renderBackgroundOrOverlay(e,"overlay")}},{key:"getCenter",value:function(){return{top:this.height/2,left:this.width/2}}},{key:"getCenterPoint",value:function(){return new Se(this.width/2,this.height/2)}},{key:"centerObjectH",value:function(e){return this._centerObject(e,new Se(this.getCenterPoint().x,e.getCenterPoint().y))}},{key:"centerObjectV",value:function(e){return this._centerObject(e,new Se(e.getCenterPoint().x,this.getCenterPoint().y))}},{key:"centerObject",value:function(e){return this._centerObject(e,this.getCenterPoint())}},{key:"viewportCenterObject",value:function(e){return this._centerObject(e,this.getVpCenter())}},{key:"viewportCenterObjectH",value:function(e){return this._centerObject(e,new Se(this.getVpCenter().x,e.getCenterPoint().y))}},{key:"viewportCenterObjectV",value:function(e){return this._centerObject(e,new Se(e.getCenterPoint().x,this.getVpCenter().y))}},{key:"getVpCenter",value:function(){return je(this.getCenterPoint(),Me(this.viewportTransform))}},{key:"_centerObject",value:function(e,t){e.setXY(t,V,V),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}},{key:"toDatalessJSON",value:function(e){return this.toDatalessObject(e)}},{key:"toObject",value:function(e){return this._toObjectMethod("toObject",e)}},{key:"toJSON",value:function(){return this.toObject()}},{key:"toDatalessObject",value:function(e){return this._toObjectMethod("toDatalessObject",e)}},{key:"_toObjectMethod",value:function(e,t){var r=this,n=this.clipPath,i=n&&!n.excludeFromExport?this._toObject(n,e,t):null;return y(y(y({version:L},Qe(this,t)),{},{objects:this._objects.filter((function(e){return!e.excludeFromExport})).map((function(n){return r._toObject(n,e,t)}))},this.__serializeBgOverlay(e,t)),i?{clipPath:i}:null)}},{key:"_toObject",value:function(e,t,r){var n;this.includeDefaultValues||(n=e.includeDefaultValues,e.includeDefaultValues=!1);var i=e[t](r);return this.includeDefaultValues||(e.includeDefaultValues=!!n),i}},{key:"__serializeBgOverlay",value:function(e,t){var r={},n=this.backgroundImage,i=this.overlayImage,a=this.backgroundColor,o=this.overlayColor;return ft(a)?a.excludeFromExport||(r.background=a.toObject(t)):a&&(r.background=a),ft(o)?o.excludeFromExport||(r.overlay=o.toObject(t)):o&&(r.overlay=o),n&&!n.excludeFromExport&&(r.backgroundImage=this._toObject(n,e,t)),i&&!i.excludeFromExport&&(r.overlayImage=this._toObject(i,e,t)),r}},{key:"toSVG",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;e.reviver=t;var r=[];return this._setSVGPreamble(r,e),this._setSVGHeader(r,e),this.clipPath&&r.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,')" >\n')),this._setSVGBgOverlayColor(r,"background"),this._setSVGBgOverlayImage(r,"backgroundImage",t),this._setSVGObjects(r,t),this.clipPath&&r.push("</g>\n"),this._setSVGBgOverlayColor(r,"overlay"),this._setSVGBgOverlayImage(r,"overlayImage",t),r.push("</svg>"),r.join("")}},{key:"_setSVGPreamble",value:function(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')}},{key:"_setSVGHeader",value:function(e,t){var r,n=t.width||"".concat(this.width),i=t.height||"".concat(this.height),a=w.NUM_FRACTION_DIGITS,o=t.viewBox;if(o)r='viewBox="'.concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height,'" ');else if(this.svgViewportTransformation){var s=this.viewportTransform;r='viewBox="'.concat(st(-s[4]/s[0],a)," ").concat(st(-s[5]/s[3],a)," ").concat(st(this.width/s[0],a)," ").concat(st(this.height/s[3],a),'" ')}else r='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',i,'" ',r,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",L,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),"</defs>\n")}},{key:"createSVGClipPathMarkup",value:function(e){var t=this.clipPath;return t?(t.clipPathId="CLIPPATH_".concat(Ce()),'<clipPath id="'.concat(t.clipPathId,'" >\n').concat(t.toClipPathSVG(e.reviver),"</clipPath>\n")):""}},{key:"createSVGRefElementsMarkup",value:function(){var e=this;return["background","overlay"].map((function(t){var r=e["".concat(t,"Color")];if(ft(r)){var n=e["".concat(t,"Vpt")],i=e.viewportTransform,a={isType:function(){return!1},width:e.width/(n?i[0]:1),height:e.height/(n?i[3]:1)};return r.toSVG(a,{additionalTransform:n?lt(i):""})}})).join("")}},{key:"createSVGFontFacesMarkup",value:function(){var e=[],t={},r=w.fontPaths;this._objects.forEach((function t(r){e.push(r),xe(r)&&r._objects.forEach(t)})),e.forEach((function(e){if(vt(e)){var n=e.styles,i=e.fontFamily;!t[i]&&r[i]&&(t[i]=!0,n&&Object.values(n).forEach((function(e){Object.values(e).forEach((function(e){var n=e.fontFamily,i=void 0===n?"":n;!t[i]&&r[i]&&(t[i]=!0)}))})))}}));var n=Object.keys(t).map((function(e){return"\t\t@font-face {\n\t\t\tfont-family: '".concat(e,"';\n\t\t\tsrc: url('").concat(r[e],"');\n\t\t}\n")})).join("");return n?'\t<style type="text/css"><![CDATA[\n'.concat(n,"]]></style>\n"):""}},{key:"_setSVGObjects",value:function(e,t){var r=this;this.forEachObject((function(n){n.excludeFromExport||r._setSVGObject(e,n,t)}))}},{key:"_setSVGObject",value:function(e,t,r){e.push(t.toSVG(r))}},{key:"_setSVGBgOverlayImage",value:function(e,t,r){var n=this[t];n&&!n.excludeFromExport&&n.toSVG&&e.push(n.toSVG(r))}},{key:"_setSVGBgOverlayColor",value:function(e,t){var r=this["".concat(t,"Color")];if(r)if(ft(r)){var n=r.repeat||"",i=this.width,a=this.height,o=this["".concat(t,"Vpt")]?lt(Me(this.viewportTransform)):"";e.push('<rect transform="'.concat(o," translate(").concat(i/2,",").concat(a/2,')" x="').concat(r.offsetX-i/2,'" y="').concat(r.offsetY-a/2,'" width="').concat("repeat-y"!==n&&"no-repeat"!==n||!pt(r)?i:r.source.width,'" height="').concat("repeat-x"!==n&&"no-repeat"!==n||!pt(r)?a:r.source.height,'" fill="url(#SVGID_').concat(r.id,')"></rect>\n'))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',r,'"',"></rect>\n")}},{key:"loadFromJSON",value:function(e,t){var r=this,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).signal;if(!e)return Promise.reject(new _("`json` is undefined"));var i="string"==typeof e?JSON.parse(e):e,a=i.objects,o=void 0===a?[]:a,s=i.backgroundImage,u=i.background,c=i.overlayImage,d=i.overlay,h=i.clipPath,p=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([Je(o,{reviver:t,signal:n}),Ze({backgroundImage:s,backgroundColor:u,overlayImage:c,overlayColor:d,clipPath:h},{signal:n})]).then((function(e){var t=f(e,2),n=t[0],a=t[1];return r.clear(),r.add.apply(r,l(n)),r.set(i),r.set(a),r.renderOnAddRemove=p,r}))}},{key:"clone",value:function(e){var t=this.toObject(e);return this.cloneWithoutData().loadFromJSON(t)}},{key:"cloneWithoutData",value:function(){var e=Pe();return e.width=this.width,e.height=this.height,new this.constructor(e)}},{key:"toDataURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,r=void 0===t?"png":t,n=e.quality,i=void 0===n?1:n,a=e.multiplier,o=void 0===a?1:a,s=e.enableRetinaScaling,u=o*(void 0!==s&&s?this.getRetinaScaling():1);return Oe(this.toCanvasElement(u,e),r,i)}},{key:"toCanvasElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.width,n=t.height,i=t.left,a=t.top,o=t.filter,s=(r||this.width)*e,u=(n||this.height)*e,c=this.getZoom(),l=this.width,d=this.height,f=this.skipControlsDrawing,h=c*e,p=this.viewportTransform,v=[h,0,0,h,(p[4]-(i||0))*e,(p[5]-(a||0))*e],g=this.enableRetinaScaling,m=Pe(),y=o?this._objects.filter((function(e){return o(e)})):this._objects;return m.width=s,m.height=u,this.enableRetinaScaling=!1,this.viewportTransform=v,this.width=s,this.height=u,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(m.getContext("2d"),y),this.viewportTransform=p,this.width=l,this.height=d,this.calcViewportBoundaries(),this.enableRetinaScaling=g,this.skipControlsDrawing=f,m}},{key:"dispose",value:function(){var e=this;return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),ve.cancelByCanvas(this),this.disposed=!0,new Promise((function(t,r){var n=function(){e.destroy(),t(!0)};n.kill=r,e.__cleanupTask&&e.__cleanupTask.kill("aborted"),e.destroyed?t(!1):e.nextRenderHandle?e.__cleanupTask=n:n()}))}},{key:"destroy",value:function(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject((function(e){return e.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}},{key:"toString",value:function(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}],[{key:"getDefaults",value:function(){return r.ownDefaults}}]),r}(we(ke));t(_t,"ownDefaults",kt);var Tt=["touchstart","touchmove","touchend"],At=function(e){var t=mt(e.target),r=function(e){var t=e.changedTouches;return t&&t[0]?t[0]:e}(e);return new Se(r.clientX+t.left,r.clientY+t.top)},Ct=function(e){return Tt.includes(e.type)||"touch"===e.pointerType},Pt=function(e){e.preventDefault(),e.stopPropagation()},It=function(e){if(0===e.length)return{left:0,top:0,width:0,height:0};var t=e.reduce((function(e,t){var r=e.min,n=e.max;return{min:r.min(t),max:n.max(t)}}),{min:new Se(e[0]),max:new Se(e[0])}),r=t.min,n=t.max.subtract(r);return{left:r.x,top:r.y,width:n.x,height:n.y}},Ot=["translateX","translateY","scaleX","scaleY"],Rt=function(e,t){return Nt(e,De(t,e.calcOwnMatrix()))},Nt=function(e,t){var r=Be(t),n=r.translateX,i=r.translateY,a=r.scaleX,o=r.scaleY,s=b(r,Ot),u=new Se(n,i);e.flipX=!1,e.flipY=!1,Object.assign(e,s),e.set({scaleX:a,scaleY:o}),e.setPositionByOrigin(u,V,V)},Lt=function(e){e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.flipX=!1,e.flipY=!1,e.rotate(0)},jt=function(e){return{scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,angle:e.angle,left:e.left,flipX:e.flipX,flipY:e.flipY,top:e.top}},Mt=function(e,t,r){var n=e/2,i=t/2,a=[new Se(-n,-i),new Se(n,-i),new Se(-n,i),new Se(n,i)].map((function(e){return e.transform(r)})),o=It(a);return new Se(o.width,o.height)},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U;return De(Me(arguments.length>1&&void 0!==arguments[1]?arguments[1]:U),e)},Ft=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U;return e.transform(Dt(t,r))},Ut=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U;return e.transform(Dt(t,r),!0)},Bt=function(e,t,r){var n=Dt(t,r);return Nt(e,De(n,e.calcOwnMatrix())),n},Gt=function(e,t){var r,n=t.transform.target;null===(r=n.canvas)||void 0===r||r.fire("object:".concat(e),y(y({},t),{},{target:n})),n.fire(e,t)},Vt={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Ht=function(e){return"string"==typeof e?Vt[e]:e-.5},Wt="not-allowed";function qt(e){return Ht(e.originX)===Ht(V)&&Ht(e.originY)===Ht(V)}function zt(e){return.5-Ht(e)}var Yt=function(e,t){return e[t]},Xt=function(e,t,r,n){return{e:e,transform:t,pointer:new Se(r,n)}};function Kt(e,t){var r=e.getTotalAngle()+Ne(Math.atan2(t.y,t.x))+360;return Math.round(r%360/45)}function Jt(e,t,r,n,i){var a,o=e.target,s=e.corner,u=o.controls[s],c=(null===(a=o.canvas)||void 0===a?void 0:a.getZoom())||1,l=o.padding/c,d=function(e,t,r,n){var i=e.getRelativeCenterPoint(),a=void 0!==r&&void 0!==n?e.translateToGivenOrigin(i,V,V,r,n):new Se(e.left,e.top);return(e.angle?t.rotate(-Re(e.angle),i):t).subtract(a)}(o,new Se(n,i),t,r);return d.x>=l&&(d.x-=l),d.x<=-l&&(d.x+=l),d.y>=l&&(d.y-=l),d.y<=l&&(d.y+=l),d.x-=u.offsetX,d.y-=u.offsetY,d}var Zt,Qt,$t=function(e,t,r,n){var i=t.target,a=r-t.offsetX,o=n-t.offsetY,s=!Yt(i,"lockMovementX")&&i.left!==a,u=!Yt(i,"lockMovementY")&&i.top!==o;return s&&i.set(H,a),u&&i.set(W,o),(s||u)&&Gt(K,Xt(e,t,r,n)),s||u},er=function(){function e(){m(this,e)}return g(e,[{key:"getSvgStyles",value:function(e){var t=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",n=this.strokeDashArray?this.strokeDashArray.join(" "):Y,i=this.strokeDashOffset?this.strokeDashOffset:"0",a=this.strokeLineCap?this.strokeLineCap:"butt",o=this.strokeLineJoin?this.strokeLineJoin:"miter",s=this.strokeMiterLimit?this.strokeMiterLimit:"4",u=void 0!==this.opacity?this.opacity:"1",c=this.visible?"":" visibility: hidden;",l=e?"":this.getSvgFilter(),d=dt(ce,this.fill);return[dt(le,this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",n,"; ","stroke-linecap: ",a,"; ","stroke-dashoffset: ",i,"; ","stroke-linejoin: ",o,"; ","stroke-miterlimit: ",s,"; ",d,"fill-rule: ",t,"; ","opacity: ",u,";",l,c].join("")}},{key:"getSvgFilter",value:function(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}},{key:"getSvgCommons",value:function(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}},{key:"getSvgTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e?this.calcTransformMatrix():this.calcOwnMatrix(),n='transform="'.concat(lt(r));return"".concat(n).concat(t,'" ')}},{key:"_toSVG",value:function(e){return[""]}},{key:"toSVG",value:function(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}},{key:"toClipPathSVG",value:function(e){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}},{key:"_createBaseClipPathSVGMarkup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.reviver,n=t.additionalTransform,i=void 0===n?"":n,a=[this.getSvgTransform(!0,i),this.getSvgCommons()].join(""),o=e.indexOf("COMMON_PARTS");return e[o]=a,r?r(e.join("")):e.join("")}},{key:"_createBaseSVGMarkup",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.noStyle,i=r.reviver,a=r.withShadow,o=r.additionalTransform,s=n?"":'style="'.concat(this.getSvgStyles(),'" '),u=a?'style="'.concat(this.getSvgFilter(),'" '):"",c=this.clipPath,l=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",d=c&&c.absolutePositioned,f=this.stroke,h=this.fill,p=this.shadow,v=[],g=e.indexOf("COMMON_PARTS");c&&(c.clipPathId="CLIPPATH_".concat(Ce()),t='<clipPath id="'.concat(c.clipPathId,'" >\n').concat(c.toClipPathSVG(i),"</clipPath>\n")),d&&v.push("<g ",u,this.getSvgCommons()," >\n"),v.push("<g ",this.getSvgTransform(!1),d?"":u+this.getSvgCommons()," >\n");var m=[s,l,n?"":this.addPaintOrder()," ",o?'transform="'.concat(o,'" '):""].join("");return e[g]=m,ft(h)&&v.push(h.toSVG(this)),ft(f)&&v.push(f.toSVG(this)),p&&v.push(p.toSVG(this)),c&&v.push(t),v.push(e.join("")),v.push("</g>\n"),d&&v.push("</g>\n"),i?i(v.join("")):v.join("")}},{key:"addPaintOrder",value:function(){return this.paintFirst!==ce?' paint-order="'.concat(this.paintFirst,'" '):""}}]),e}();function tr(e){return new RegExp("^("+e.join("|")+")\\b","i")}var rr=String.raw(Zt||(Zt=S(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"]))),nr="http://www.w3.org/2000/svg";String.raw(Qt||(Qt=S(["(?:s+,?s*|,s*|$)"],["(?:\\s+,?\\s*|,\\s*|$)"])));var ir=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+rr+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+rr+"))?\\s+(.*)"),ar={cx:H,x:H,r:"radius",cy:W,y:W,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},or="font-size",sr="clip-path",ur=tr(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),cr=tr(["symbol","image","marker","pattern","view","svg"]),lr=tr(["symbol","g","a","svg","clipPath","defs"]),dr=new RegExp("^\\s*("+rr+"+)\\s*,?\\s*("+rr+"+)\\s*,?\\s*("+rr+"+)\\s*,?\\s*("+rr+"+)\\s*$"),fr=new Se(1,0),hr=new Se,pr=function(e,t){return e.rotate(t)},vr=function(e,t){return new Se(t).subtract(e)},gr=function(e){return e.distanceFrom(hr)},mr=function(e,t){return Math.atan2(Er(e,t),xr(e,t))},yr=function(e){return mr(fr,e)},br=function(e){return e.eq(hr)?e:e.scalarDivide(gr(e))},Sr=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return br(new Se(-e.y,e.x).scalarMultiply(t?1:-1))},Er=function(e,t){return e.x*t.y-e.y*t.x},xr=function(e,t){return e.x*t.x+e.y*t.y},wr=function(e,t,r){if(e.eq(t)||e.eq(r))return!0;var n=Er(t,r),i=Er(t,e),a=Er(r,e);return n>=0?i>=0&&a<=0:!(i<=0&&a>=0)},kr="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",_r=new RegExp("(?:\\s|^)"+kr+kr+"("+rr+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)"),Tr=function(){function e(t){m(this,e);var r="string"==typeof t?e.parseShadow(t):t;Object.assign(this,e.ownDefaults,r),this.id=Ce()}return g(e,[{key:"toString",value:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}},{key:"toSVG",value:function(e){var t=pr(new Se(this.offsetX,this.offsetY),Re(-e.angle)),r=new ot(this.color),n=40,i=40;return e.width&&e.height&&(n=100*st((Math.abs(t.x)+this.blur)/e.width,w.NUM_FRACTION_DIGITS)+20,i=100*st((Math.abs(t.y)+this.blur)/e.height,w.NUM_FRACTION_DIGITS)+20),e.flipX&&(t.x*=-1),e.flipY&&(t.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(i,'%" height="').concat(100+2*i,'%" x="-').concat(n,'%" width="').concat(100+2*n,'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="').concat(st(this.blur?this.blur/2:0,w.NUM_FRACTION_DIGITS),'"></feGaussianBlur>\n\t<feOffset dx="').concat(st(t.x,w.NUM_FRACTION_DIGITS),'" dy="').concat(st(t.y,w.NUM_FRACTION_DIGITS),'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="').concat(r.toRgb(),'" flood-opacity="').concat(r.getAlpha(),'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n')}},{key:"toObject",value:function(){var t={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},r=e.ownDefaults;return this.includeDefaultValues?t:$e(t,(function(e,t){return e!==r[t]}))}}],[{key:"parseShadow",value:function(e){var t=e.trim(),r=(_r.exec(t)||[]).map((function(e){return parseFloat(e)||0})),n=f(r,4),i=n[1],a=void 0===i?0:i,o=n[2],s=void 0===o?0:o,u=n[3],c=void 0===u?0:u;return{color:(t.replace(_r,"")||"rgb(0,0,0)").trim(),offsetX:a,offsetY:s,blur:c}}},{key:"fromObject",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new this(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();t(Tr,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),t(Tr,"type","shadow"),pe.setClass(Tr,"shadow");var Ar=function(e,t,r){return Math.max(e,Math.min(t,r))},Cr=[W,H,ae,oe,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",se,ue],Pr=[ce,le,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],Ir={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:H,originY:W,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:ce,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},Or=function(e,t,r,n){return e<Math.abs(t)?(e=t,n=r/4):n=0===t&&0===e?r/D*Math.asin(1):r/D*Math.asin(t/e),{a:e,c:t,p:r,s:n}},Rr=function(e,t,r,n,i){return e*Math.pow(2,10*(n-=1))*Math.sin((n*i-t)*D/r)},Nr=function(e,t,r,n){return-r*Math.cos(e/n*M)+r+t},Lr=function(e,t,r,n){return(e/=n)<1/2.75?r*(7.5625*e*e)+t:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+.9375)+t:r*(7.5625*(e-=2.625/2.75)*e+.984375)+t},jr=function(e,t,r,n){return r-Lr(n-e,0,r,n)+t},Mr=Object.freeze({__proto__:null,defaultEasing:Nr,easeInBack:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return r*(e/=n)*e*((i+1)*e-i)+t},easeInBounce:jr,easeInCirc:function(e,t,r,n){return-r*(Math.sqrt(1-(e/=n)*e)-1)+t},easeInCubic:function(e,t,r,n){return r*Math.pow(e/n,3)+t},easeInElastic:function(e,t,r,n){var i=0;if(0===e)return t;if(1===(e/=n))return t+r;i||(i=.3*n);var a=Or(r,r,i,1.70158),o=a.a,s=a.s,u=a.p;return-Rr(o,s,u,e,n)+t},easeInExpo:function(e,t,r,n){return 0===e?t:r*Math.pow(2,10*(e/n-1))+t},easeInOutBack:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return(e/=n/2)<1?r/2*(e*e*((1+(i*=1.525))*e-i))+t:r/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},easeInOutBounce:function(e,t,r,n){return e<n/2?.5*jr(2*e,0,r,n)+t:.5*Lr(2*e-n,0,r,n)+.5*r+t},easeInOutCirc:function(e,t,r,n){return(e/=n/2)<1?-r/2*(Math.sqrt(1-Math.pow(e,2))-1)+t:r/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInOutCubic:function(e,t,r,n){return(e/=n/2)<1?r/2*Math.pow(e,3)+t:r/2*(Math.pow(e-2,3)+2)+t},easeInOutElastic:function(e,t,r,n){var i=0;if(0===e)return t;if(2===(e/=n/2))return t+r;i||(i=n*(.3*1.5));var a=Or(r,r,i,1.70158),o=a.a,s=a.s,u=a.p,c=a.c;return e<1?-.5*Rr(o,s,u,e,n)+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*n-s)*D/u)*.5+c+t},easeInOutExpo:function(e,t,r,n){return 0===e?t:e===n?t+r:(e/=n/2)<1?r/2*Math.pow(2,10*(e-1))+t:r/2*-(Math.pow(2,-10*--e)+2)+t},easeInOutQuad:function(e,t,r,n){return(e/=n/2)<1?r/2*Math.pow(e,2)+t:-r/2*(--e*(e-2)-1)+t},easeInOutQuart:function(e,t,r,n){return(e/=n/2)<1?r/2*Math.pow(e,4)+t:-r/2*((e-=2)*Math.pow(e,3)-2)+t},easeInOutQuint:function(e,t,r,n){return(e/=n/2)<1?r/2*Math.pow(e,5)+t:r/2*(Math.pow(e-2,5)+2)+t},easeInOutSine:function(e,t,r,n){return-r/2*(Math.cos(Math.PI*e/n)-1)+t},easeInQuad:function(e,t,r,n){return r*(e/=n)*e+t},easeInQuart:function(e,t,r,n){return r*(e/=n)*Math.pow(e,3)+t},easeInQuint:function(e,t,r,n){return r*Math.pow(e/n,5)+t},easeInSine:function(e,t,r,n){return-r*Math.cos(e/n*M)+r+t},easeOutBack:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return r*((e=e/n-1)*e*((i+1)*e+i)+1)+t},easeOutBounce:Lr,easeOutCirc:function(e,t,r,n){return r*Math.sqrt(1-(e=e/n-1)*e)+t},easeOutCubic:function(e,t,r,n){return r*(Math.pow(e/n-1,3)+1)+t},easeOutElastic:function(e,t,r,n){var i=0;if(0===e)return t;if(1===(e/=n))return t+r;i||(i=.3*n);var a=Or(r,r,i,1.70158),o=a.a,s=a.s,u=a.p,c=a.c;return o*Math.pow(2,-10*e)*Math.sin((e*n-s)*D/u)+c+t},easeOutExpo:function(e,t,r,n){return e===n?t+r:r*-(Math.pow(2,-10*e/n)+1)+t},easeOutQuad:function(e,t,r,n){return-r*(e/=n)*(e-2)+t},easeOutQuart:function(e,t,r,n){return-r*((e=e/n-1)*Math.pow(e,3)-1)+t},easeOutQuint:function(e,t,r,n){return r*(Math.pow(e/n-1,5)+1)+t},easeOutSine:function(e,t,r,n){return r*Math.sin(e/n*M)+t}}),Dr=function(){return!1},Fr=function(){function e(r){m(this,e);var n=r.startValue,i=r.byValue,a=r.duration,o=void 0===a?500:a,s=r.delay,u=void 0===s?0:s,c=r.easing,l=void 0===c?Nr:c,d=r.onStart,f=void 0===d?j:d,h=r.onChange,p=void 0===h?j:h,v=r.onComplete,g=void 0===v?j:v,y=r.abort,b=void 0===y?Dr:y,S=r.target;t(this,"_state","pending"),t(this,"durationProgress",0),t(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=o,this.delay=u,this.easing=l,this._onStart=f,this._onChange=p,this._onComplete=g,this._abort=b,this.target=S,this.startValue=n,this.byValue=i,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}return g(e,[{key:"state",get:function(){return this._state}},{key:"isDone",value:function(){return"aborted"===this._state||"completed"===this._state}},{key:"start",value:function(){var e=this,t=function(t){"pending"===e._state&&(e.startTime=t||+new Date,e._state="running",e._onStart(),e.tick(e.startTime))};this.register(),this.delay>0?setTimeout((function(){return _e(t)}),this.delay):_e(t)}},{key:"tick",value:function(e){var t=(e||+new Date)-this.startTime,r=Math.min(t,this.duration);this.durationProgress=r/this.duration;var n=this.calculate(r),i=n.value,a=n.valueProgress;this.value=Object.freeze(i),this.valueProgress=a,"aborted"!==this._state&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):t>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),_e(this.tick)))}},{key:"register",value:function(){ve.push(this)}},{key:"unregister",value:function(){ve.remove(this)}},{key:"abort",value:function(){this._state="aborted",this.unregister()}}]),e}(),Ur=["startValue","endValue"],Br=function(e){p(r,e);var t=v(r);function r(e){m(this,r);var n=e.startValue,i=void 0===n?0:n,a=e.endValue,o=void 0===a?100:a;return t.call(this,y(y({},b(e,Ur)),{},{startValue:i,byValue:o-i}))}return g(r,[{key:"calculate",value:function(e){var t=this.easing(e,this.startValue,this.byValue,this.duration);return{value:t,valueProgress:Math.abs((t-this.startValue)/this.byValue)}}}]),r}(Fr),Gr=["startValue","endValue"],Vr=function(e){p(r,e);var t=v(r);function r(e){m(this,r);var n=e.startValue,i=void 0===n?[0]:n,a=e.endValue,o=void 0===a?[100]:a;return t.call(this,y(y({},b(e,Gr)),{},{startValue:i,byValue:o.map((function(e,t){return e-i[t]}))}))}return g(r,[{key:"calculate",value:function(e){var t=this,r=this.startValue.map((function(r,n){return t.easing(e,r,t.byValue[n],t.duration,n)}));return{value:r,valueProgress:Math.abs((r[0]-this.startValue[0])/this.byValue[0])}}}]),r}(Fr),Hr=["startValue","endValue","easing","onChange","onComplete","abort"],Wr=function(e,t,r,n){return t+r*(1-Math.cos(e/n*M))},qr=function(e){return e&&function(t,r,n){return e(new ot(t).toRgba(),r,n)}},zr=function(e){p(r,e);var t=v(r);function r(e){m(this,r);var n=e.startValue,i=e.endValue,a=e.easing,o=void 0===a?Wr:a,s=e.onChange,u=e.onComplete,c=e.abort,l=b(e,Hr),d=new ot(n).getSource(),f=new ot(i).getSource();return t.call(this,y(y({},l),{},{startValue:d,byValue:f.map((function(e,t){return e-d[t]})),easing:o,onChange:qr(s),onComplete:qr(u),abort:qr(c)}))}return g(r,[{key:"calculate",value:function(e){var t=this,r=this.startValue.map((function(r,n){return t.easing(e,r,t.byValue[n],t.duration,n)})),n=f(r,4),i=n[0],a=n[1],o=n[2],s=n[3],u=[].concat(l([i,a,o].map(Math.round)),[Ar(0,s,1)]);return{value:u,valueProgress:u.map((function(e,r){return 0!==t.byValue[r]?Math.abs((e-t.startValue[r])/t.byValue[r]):0})).find((function(e){return 0!==e}))||0}}}]),r}(Fr);function Yr(e){var t=function(e){return Array.isArray(e.startValue)||Array.isArray(e.endValue)}(e)?new Vr(e):new Br(e);return t.start(),t}function Xr(e){var t=new zr(e);return t.start(),t}var Kr=function(){function e(t){m(this,e),this.status=t,this.points=[]}return g(e,[{key:"includes",value:function(e){return this.points.some((function(t){return t.eq(e)}))}},{key:"append",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.points=this.points.concat(r.filter((function(t){return!e.includes(t)}))),this}}],[{key:"isPointContained",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t.eq(r))return e.eq(t);if(t.x===r.x)return e.x===t.x&&(n||e.y>=Math.min(t.y,r.y)&&e.y<=Math.max(t.y,r.y));if(t.y===r.y)return e.y===t.y&&(n||e.x>=Math.min(t.x,r.x)&&e.x<=Math.max(t.x,r.x));var i=vr(t,r),a=vr(t,e).divide(i);return n?Math.abs(a.x)===Math.abs(a.y):a.x===a.y&&a.x>=0&&a.x<=1}},{key:"isPointInPolygon",value:function(e,t){for(var r=new Se(e).setX(Math.min.apply(Math,[e.x-1].concat(l(t.map((function(e){return e.x})))))),n=0,i=0;i<t.length;i++){var a=this.intersectSegmentSegment(t[i],t[(i+1)%t.length],e,r);if(a.includes(e))return!0;n+=Number("Intersection"===a.status)}return n%2==1}},{key:"intersectLineLine",value:function(t,r,n,i){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=r.x-t.x,u=r.y-t.y,c=i.x-n.x,l=i.y-n.y,d=t.x-n.x,f=t.y-n.y,h=c*f-l*d,p=s*f-u*d,v=l*s-c*u;if(0!==v){var g=h/v,m=p/v;return(a||0<=g&&g<=1)&&(o||0<=m&&m<=1)?new e("Intersection").append(new Se(t.x+g*s,t.y+g*u)):new e}if(0===h||0===p){var y=a||o||e.isPointContained(t,n,i)||e.isPointContained(r,n,i)||e.isPointContained(n,t,r)||e.isPointContained(i,t,r);return new e(y?"Coincident":void 0)}return new e("Parallel")}},{key:"intersectSegmentLine",value:function(t,r,n,i){return e.intersectLineLine(t,r,n,i,!1,!0)}},{key:"intersectSegmentSegment",value:function(t,r,n,i){return e.intersectLineLine(t,r,n,i,!1,!1)}},{key:"intersectLinePolygon",value:function(t,r,n){for(var i,a,o,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u=new e,c=n.length,d=0;d<c;d++){if(i=n[d],a=n[(d+1)%c],"Coincident"===(o=e.intersectLineLine(t,r,i,a,s,!1)).status)return o;u.append.apply(u,l(o.points))}return u.points.length>0&&(u.status="Intersection"),u}},{key:"intersectSegmentPolygon",value:function(t,r,n){return e.intersectLinePolygon(t,r,n,!1)}},{key:"intersectPolygonPolygon",value:function(t,r){for(var n=new e,i=t.length,a=[],o=0;o<i;o++){var s=t[o],u=t[(o+1)%i],c=e.intersectSegmentPolygon(s,u,r);"Coincident"===c.status?(a.push(c),n.append(s,u)):n.append.apply(n,l(c.points))}return a.length>0&&a.length===t.length?new e("Coincident"):(n.points.length>0&&(n.status="Intersection"),n)}},{key:"intersectPolygonRectangle",value:function(t,r,n){var i=r.min(n),a=r.max(n),o=new Se(a.x,i.y),s=new Se(i.x,a.y);return e.intersectPolygonPolygon(t,[i,o,a,s])}}]),e}(),Jr=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"getX",value:function(){return this.getXY().x}},{key:"setX",value:function(e){this.setXY(this.getXY().setX(e))}},{key:"getY",value:function(){return this.getXY().y}},{key:"setY",value:function(e){this.setXY(this.getXY().setY(e))}},{key:"getRelativeX",value:function(){return this.left}},{key:"setRelativeX",value:function(e){this.left=e}},{key:"getRelativeY",value:function(){return this.top}},{key:"setRelativeY",value:function(e){this.top=e}},{key:"getXY",value:function(){var e=this.getRelativeXY();return this.group?je(e,this.group.calcTransformMatrix()):e}},{key:"setXY",value:function(e,t,r){this.group&&(e=je(e,Me(this.group.calcTransformMatrix()))),this.setRelativeXY(e,t,r)}},{key:"getRelativeXY",value:function(){return new Se(this.left,this.top)}},{key:"setRelativeXY",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.originX,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.originY;this.setPositionByOrigin(e,t,r)}},{key:"isStrokeAccountedForInDimensions",value:function(){return!1}},{key:"getCoords",value:function(){var e=this.aCoords||(this.aCoords=this.calcACoords()),t=[e.tl,e.tr,e.br,e.bl];if(this.group){var r=this.group.calcTransformMatrix();return t.map((function(e){return je(e,r)}))}return t}},{key:"intersectsWithRect",value:function(e,t){return"Intersection"===Kr.intersectPolygonRectangle(this.getCoords(),e,t).status}},{key:"intersectsWithObject",value:function(e){var t=Kr.intersectPolygonPolygon(this.getCoords(),e.getCoords());return"Intersection"===t.status||"Coincident"===t.status||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}},{key:"isContainedWithinObject",value:function(e){return this.getCoords().every((function(t){return e.containsPoint(t)}))}},{key:"isContainedWithinRect",value:function(e,t){var r=this.getBoundingRect(),n=r.left,i=r.top,a=r.width,o=r.height;return n>=e.x&&n+a<=t.x&&i>=e.y&&i+o<=t.y}},{key:"isOverlapping",value:function(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}},{key:"containsPoint",value:function(e){return Kr.isPointInPolygon(e,this.getCoords())}},{key:"isOnScreen",value:function(){if(!this.canvas)return!1;var e=this.canvas.vptCoords,t=e.tl,r=e.br;return!!this.getCoords().some((function(e){return e.x<=r.x&&e.x>=t.x&&e.y<=r.y&&e.y>=t.y}))||!!this.intersectsWithRect(t,r)||this.containsPoint(t.midPointFrom(r))}},{key:"isPartiallyOnScreen",value:function(){if(!this.canvas)return!1;var e=this.canvas.vptCoords,t=e.tl,r=e.br;return!!this.intersectsWithRect(t,r)||this.getCoords().every((function(e){return(e.x>=r.x||e.x<=t.x)&&(e.y>=r.y||e.y<=t.y)}))&&this.containsPoint(t.midPointFrom(r))}},{key:"getBoundingRect",value:function(){return It(this.getCoords())}},{key:"getScaledWidth",value:function(){return this._getTransformedDimensions().x}},{key:"getScaledHeight",value:function(){return this._getTransformedDimensions().y}},{key:"scale",value:function(e){this._set(ae,e),this._set(oe,e),this.setCoords()}},{key:"scaleToWidth",value:function(e){var t=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/t)}},{key:"scaleToHeight",value:function(e){var t=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/t)}},{key:"getCanvasRetinaScaling",value:function(){var e;return(null===(e=this.canvas)||void 0===e?void 0:e.getRetinaScaling())||1}},{key:"getTotalAngle",value:function(){return this.group?Ne(Ue(this.calcTransformMatrix())):this.angle}},{key:"getViewportTransform",value:function(){var e;return(null===(e=this.canvas)||void 0===e?void 0:e.viewportTransform)||U.concat()}},{key:"calcACoords",value:function(){var e=Ve({angle:this.angle}),t=this.getRelativeCenterPoint(),r=t.x,n=t.y,i=Ge(r,n),a=De(i,e),o=this._getTransformedDimensions(),s=o.x/2,u=o.y/2;return{tl:je({x:-s,y:-u},a),tr:je({x:s,y:-u},a),bl:je({x:-s,y:u},a),br:je({x:s,y:u},a)}}},{key:"setCoords",value:function(){this.aCoords=this.calcACoords()}},{key:"transformMatrixKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];return!e&&this.group&&(t=this.group.transformMatrixKey(e)),t.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Ht(this.originX),Ht(this.originY)),t}},{key:"calcTransformMatrix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.calcOwnMatrix();if(e||!this.group)return t;var r=this.transformMatrixKey(e),n=this.matrixCache;return n&&n.key.every((function(e,t){return e===r[t]}))?n.value:(this.group&&(t=De(this.group.calcTransformMatrix(!1),t)),this.matrixCache={key:r,value:t},t)}},{key:"calcOwnMatrix",value:function(){var e=this.transformMatrixKey(!0),t=this.ownMatrixCache;if(t&&t.key===e)return t.value;var r=this.getRelativeCenterPoint(),n={angle:this.angle,translateX:r.x,translateY:r.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},i=Xe(n);return this.ownMatrixCache={key:e,value:i},i}},{key:"_getNonTransformedDimensions",value:function(){return new Se(this.width,this.height).scalarAdd(this.strokeWidth)}},{key:"_calculateCurrentDimensions",value:function(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}},{key:"_getTransformedDimensions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=y({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),r=t.strokeWidth,n=r,i=0;this.strokeUniform&&(n=0,i=r);var a=t.width+n,o=t.height+n;return(0===t.skewX&&0===t.skewY?new Se(a*t.scaleX,o*t.scaleY):Mt(a,o,Ye(t))).scalarAdd(i)}},{key:"translateToGivenOrigin",value:function(e,t,r,n,i){var a=e.x,o=e.y,s=Ht(n)-Ht(t),u=Ht(i)-Ht(r);if(s||u){var c=this._getTransformedDimensions();a+=s*c.x,o+=u*c.y}return new Se(a,o)}},{key:"translateToCenterPoint",value:function(e,t,r){if(t===V&&r===V)return e;var n=this.translateToGivenOrigin(e,t,r,V,V);return this.angle?n.rotate(Re(this.angle),e):n}},{key:"translateToOriginPoint",value:function(e,t,r){var n=this.translateToGivenOrigin(e,V,V,t,r);return this.angle?n.rotate(Re(this.angle),e):n}},{key:"getCenterPoint",value:function(){var e=this.getRelativeCenterPoint();return this.group?je(e,this.group.calcTransformMatrix()):e}},{key:"getRelativeCenterPoint",value:function(){return this.translateToCenterPoint(new Se(this.left,this.top),this.originX,this.originY)}},{key:"getPointByOrigin",value:function(e,t){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,t)}},{key:"setPositionByOrigin",value:function(e,t,r){var n=this.translateToCenterPoint(e,t,r),i=this.translateToOriginPoint(n,this.originX,this.originY);this.set({left:i.x,top:i.y})}},{key:"_getLeftTopCoords",value:function(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),H,W)}}]),r}(ke),Zr=["type"],Qr=["extraParam"],$r=function(e){p(n,e);var r=v(n);function n(e){var i;return m(this,n),i=r.call(this),t(d(i),"_cacheContext",null),Object.assign(d(i),n.ownDefaults),i.setOptions(e),i}return g(n,[{key:"type",get:function(){var e=this.constructor.type;return"FabricObject"===e?"object":e.toLowerCase()},set:function(e){k("warn","Setting type has no effect",e)}},{key:"_createCacheCanvas",value:function(){this._cacheCanvas=Pe(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}},{key:"_limitCacheSize",value:function(e){var t=e.width,r=e.height,n=w.maxCacheSideLimit,i=w.minCacheSideLimit;if(t<=n&&r<=n&&t*r<=w.perfLimitSizeTotal)return t<i&&(e.width=i),r<i&&(e.height=i),e;var a=t/r,o=N.limitDimsByArea(a),s=f(o,2),u=s[0],c=s[1],l=Ar(i,u,n),d=Ar(i,c,n);return t>l&&(e.zoomX/=t/l,e.width=l,e.capped=!0),r>d&&(e.zoomY/=r/d,e.height=d,e.capped=!0),e}},{key:"_getCacheCanvasDimensions",value:function(){var e=this.getTotalObjectScaling(),t=this._getTransformedDimensions({skewX:0,skewY:0}),r=t.x*e.x/this.scaleX,n=t.y*e.y/this.scaleY;return{width:r+2,height:n+2,zoomX:e.x,zoomY:e.y,x:r,y:n}}},{key:"_updateCacheCanvas",value:function(){var e=this._cacheCanvas,t=this._cacheContext,r=this._limitCacheSize(this._getCacheCanvasDimensions()),n=w.minCacheSideLimit,i=r.width,a=r.height,o=r.zoomX,s=r.zoomY,u=i!==e.width||a!==e.height,c=this.zoomX!==o||this.zoomY!==s;if(!e||!t)return!1;var l,d,f=u||c,h=0,p=0,v=!1;if(u){var g=this._cacheCanvas.width,m=this._cacheCanvas.height,y=i>g||a>m;v=y||(i<.9*g||a<.9*m)&&g>n&&m>n,y&&!r.capped&&(i>n||a>n)&&(h=.1*i,p=.1*a)}return vt(this)&&this.path&&(f=!0,v=!0,h+=this.getHeightOfLine(0)*this.zoomX,p+=this.getHeightOfLine(0)*this.zoomY),!!f&&(v?(e.width=Math.ceil(i+h),e.height=Math.ceil(a+p)):(t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height)),l=r.x/2,d=r.y/2,this.cacheTranslationX=Math.round(e.width/2-l)+l,this.cacheTranslationY=Math.round(e.height/2-d)+d,t.translate(this.cacheTranslationX,this.cacheTranslationY),t.scale(o,s),this.zoomX=o,this.zoomY=s,!0)}},{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setOptions(e)}},{key:"transform",value:function(e){var t=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,r=this.calcTransformMatrix(!t);e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}},{key:"getObjectScaling",value:function(){if(!this.group)return new Se(Math.abs(this.scaleX),Math.abs(this.scaleY));var e=Be(this.calcTransformMatrix());return new Se(Math.abs(e.scaleX),Math.abs(e.scaleY))}},{key:"getTotalObjectScaling",value:function(){var e=this.getObjectScaling();if(this.canvas){var t=this.canvas.getZoom(),r=this.getCanvasRetinaScaling();return e.scalarMultiply(t*r)}return e}},{key:"getObjectOpacity",value:function(){var e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}},{key:"_constrainScale",value:function(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:0===e?1e-4:e}},{key:"_set",value:function(e,t){e!==ae&&e!==oe||(t=this._constrainScale(t)),e===ae&&t<0?(this.flipX=!this.flipX,t*=-1):"scaleY"===e&&t<0?(this.flipY=!this.flipY,t*=-1):"shadow"!==e||!t||t instanceof Tr||(t=new Tr(t));var r=this[e]!==t;return this[e]=t,r&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||r&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}},{key:"isNotVisible",value:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible}},{key:"render",value:function(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e),this.dirty=!1),e.restore())}},{key:"drawSelectionBackground",value:function(e){}},{key:"renderCache",value:function(e){e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext&&(this.drawObject(this._cacheContext,e.forClipping),this.dirty=!1)}},{key:"_removeCacheCanvas",value:function(){this._cacheCanvas=void 0,this._cacheContext=null}},{key:"hasStroke",value:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth}},{key:"hasFill",value:function(){return this.fill&&"transparent"!==this.fill}},{key:"needsItsOwnCache",value:function(){return!!(this.paintFirst===le&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}},{key:"shouldCache",value:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.parent||!this.parent.isOnACache()),this.ownCaching}},{key:"willDrawShadow",value:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)}},{key:"drawClipPathOnCache",value:function(e,t){if(e.save(),t.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",t.absolutePositioned){var r=Me(this.calcTransformMatrix());e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}t.transform(e),e.scale(1/t.zoomX,1/t.zoomY),e.drawImage(t._cacheCanvas,-t.cacheTranslationX,-t.cacheTranslationY),e.restore()}},{key:"drawObject",value:function(e,t){var r=this.fill,n=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath),this.fill=r,this.stroke=n}},{key:"_drawClipPath",value:function(e,t){t&&(t._set("canvas",this.canvas),t.shouldCache(),t._transformDone=!0,t.renderCache({forClipping:!0}),this.drawClipPathOnCache(e,t))}},{key:"drawCacheOnCanvas",value:function(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}},{key:"isCacheDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isNotVisible())return!1;var t=this._cacheCanvas,r=this._cacheContext;return!(!t||!r||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(t&&r&&!e&&(r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),r.restore()),!0)}},{key:"_renderBackground",value:function(e){if(this.backgroundColor){var t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}}},{key:"_setOpacity",value:function(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}},{key:"_setStrokeStyles",value:function(e,t){var r=t.stroke;r&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,ft(r)?"percentage"===r.gradientUnits||r.gradientTransform||r.patternTransform?this._applyPatternForTransformedGradient(e,r):(e.strokeStyle=r.toLive(e),this._applyPatternGradientTransform(e,r)):e.strokeStyle=t.stroke)}},{key:"_setFillStyles",value:function(e,t){var r=t.fill;r&&(ft(r)?(e.fillStyle=r.toLive(e),this._applyPatternGradientTransform(e,r)):e.fillStyle=r)}},{key:"_setClippingProperties",value:function(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}},{key:"_setLineDash",value:function(e,t){t&&0!==t.length&&(1&t.length&&t.push.apply(t,l(t)),e.setLineDash(t))}},{key:"_setShadow",value:function(e){if(this.shadow){var t=this.shadow,r=this.canvas,n=this.getCanvasRetinaScaling(),i=(null==r?void 0:r.viewportTransform)||U,a=f(i,4),o=a[0]*n,s=a[3]*n,u=t.nonScaling?new Se(1,1):this.getObjectScaling();e.shadowColor=t.color,e.shadowBlur=t.blur*w.browserShadowBlurConstant*(o+s)*(u.x+u.y)/4,e.shadowOffsetX=t.offsetX*o*u.x,e.shadowOffsetY=t.offsetY*s*u.y}}},{key:"_removeShadow",value:function(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}},{key:"_applyPatternGradientTransform",value:function(e,t){if(!ft(t))return{offsetX:0,offsetY:0};var r=t.gradientTransform||t.patternTransform,n=-this.width/2+t.offsetX||0,i=-this.height/2+t.offsetY||0;return"percentage"===t.gradientUnits?e.transform(this.width,0,0,this.height,n,i):e.transform(1,0,0,1,n,i),r&&e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),{offsetX:n,offsetY:i}}},{key:"_renderPaintInOrder",value:function(e){this.paintFirst===le?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}},{key:"_render",value:function(e){}},{key:"_renderFill",value:function(e){this.fill&&(e.save(),this._setFillStyles(e,this),"evenodd"===this.fillRule?e.fill("evenodd"):e.fill(),e.restore())}},{key:"_renderStroke",value:function(e){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){var t=this.getObjectScaling();e.scale(1/t.x,1/t.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}},{key:"_applyPatternForTransformedGradient",value:function(e,t){var r,n=this._limitCacheSize(this._getCacheCanvasDimensions()),i=Pe(),a=this.getCanvasRetinaScaling(),o=n.x/this.scaleX/a,s=n.y/this.scaleY/a;i.width=Math.ceil(o),i.height=Math.ceil(s);var u=i.getContext("2d");u&&(u.beginPath(),u.moveTo(0,0),u.lineTo(o,0),u.lineTo(o,s),u.lineTo(0,s),u.closePath(),u.translate(o/2,s/2),u.scale(n.zoomX/this.scaleX/a,n.zoomY/this.scaleY/a),this._applyPatternGradientTransform(u,t),u.fillStyle=t.toLive(e),u.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(a*this.scaleX/n.zoomX,a*this.scaleY/n.zoomY),e.strokeStyle=null!==(r=u.createPattern(i,"no-repeat"))&&void 0!==r?r:"")}},{key:"_findCenterFromElement",value:function(){return new Se(this.left+this.width/2,this.top+this.height/2)}},{key:"clone",value:function(e){var t=this.toObject(e);return this.constructor.fromObject(t)}},{key:"cloneAsImage",value:function(e){var t=this.toCanvasElement(e);return new(pe.getClass("image"))(t)}},{key:"toCanvasElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=jt(this),r=this.group,n=this.shadow,i=Math.abs,a=e.enableRetinaScaling?R():1,o=(e.multiplier||1)*a,s=e.canvasProvider||function(e){return new _t(e,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1})};delete this.group,e.withoutTransform&&Lt(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&Bt(this,this.getViewportTransform()),this.setCoords();var u=Pe(),c=this.getBoundingRect(),l=this.shadow,d=new Se;if(l){var f=l.blur,h=l.nonScaling?new Se(1,1):this.getObjectScaling();d.x=2*Math.round(i(l.offsetX)+f)*i(h.x),d.y=2*Math.round(i(l.offsetY)+f)*i(h.y)}var p=c.width+d.x,v=c.height+d.y;u.width=Math.ceil(p),u.height=Math.ceil(v);var g=s(u);"jpeg"===e.format&&(g.backgroundColor="#fff"),this.setPositionByOrigin(new Se(g.width/2,g.height/2),V,V);var m=this.canvas;g._objects=[this],this.set("canvas",g),this.setCoords();var y=g.toCanvasElement(o||1,e);return this.set("canvas",m),this.shadow=n,r&&(this.group=r),this.set(t),this.setCoords(),g._objects=[],g.destroy(),y}},{key:"toDataURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Oe(this.toCanvasElement(e),e.format||"png",e.quality||1)}},{key:"isType",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.includes(this.constructor.type)||t.includes(this.type)}},{key:"complexity",value:function(){return 1}},{key:"toJSON",value:function(){return this.toObject()}},{key:"rotate",value:function(e){var t=this.centeredRotation,r=this.originX,n=this.originY;if(t){var i=this.getRelativeCenterPoint(),a=i.x,o=i.y;this.originX=V,this.originY=V,this.left=a,this.top=o}if(this.set("angle",e),t){var s=this.translateToOriginPoint(this.getRelativeCenterPoint(),r,n),u=s.x,c=s.y;this.left=u,this.top=c,this.originX=r,this.originY=n}}},{key:"setOnGroup",value:function(){}},{key:"_setupCompositeOperation",value:function(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}},{key:"dispose",value:function(){ve.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&P().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}},{key:"animate",value:function(e,t){var r=this;return Object.entries(e).reduce((function(e,n){var i=f(n,2),a=i[0],o=i[1];return e[a]=r._animate(a,o,t),e}),{})}},{key:"_animate",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.split("."),a=this.constructor.colorProperties.includes(i[i.length-1]),o=n.abort,s=n.startValue,u=n.onChange,c=n.onComplete,l=y(y({},n),{},{target:this,startValue:null!=s?s:i.reduce((function(e,t){return e[t]}),this),endValue:t,abort:null==o?void 0:o.bind(this),onChange:function(e,t,n){i.reduce((function(t,r,n){return n===i.length-1&&(t[r]=e),t[r]}),r),u&&u(e,t,n)},onComplete:function(e,t,n){r.setCoords(),c&&c(e,t,n)}});return a?Xr(l):Yr(l)}},{key:"isDescendantOf",value:function(e){var t=this.parent,r=this.group;return t===e||r===e||!!t&&t.isDescendantOf(e)||!!r&&r!==t&&r.isDescendantOf(e)}},{key:"getAncestors",value:function(){var e=[],t=this;do{(t=t.parent)&&e.push(t)}while(t);return e}},{key:"findCommonAncestors",value:function(e){if(this===e)return{fork:[],otherFork:[],common:[this].concat(l(this.getAncestors()))};var t=this.getAncestors(),r=e.getAncestors();if(0===t.length&&r.length>0&&this===r[r.length-1])return{fork:[],otherFork:[e].concat(l(r.slice(0,r.length-1))),common:[this]};for(var n,i=0;i<t.length;i++){if((n=t[i])===e)return{fork:[this].concat(l(t.slice(0,i))),otherFork:[],common:t.slice(i)};for(var a=0;a<r.length;a++){if(this===r[a])return{fork:[],otherFork:[e].concat(l(r.slice(0,a))),common:[this].concat(l(t))};if(n===r[a])return{fork:[this].concat(l(t.slice(0,i))),otherFork:[e].concat(l(r.slice(0,a))),common:t.slice(i)}}}return{fork:[this].concat(l(t)),otherFork:[e].concat(l(r)),common:[]}}},{key:"hasCommonAncestors",value:function(e){var t=this.findCommonAncestors(e);return t&&!!t.common.length}},{key:"isInFrontOf",value:function(e){if(this!==e){var t=this.findCommonAncestors(e);if(t.fork.includes(e))return!0;if(t.otherFork.includes(this))return!1;var r=t.common[0]||this.canvas;if(r){var n=t.fork.pop(),i=t.otherFork.pop(),a=r._objects.indexOf(n),o=r._objects.indexOf(i);return a>-1&&a>o}}}},{key:"toObject",value:function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).concat(n.customProperties,this.constructor.customProperties||[]),r=w.NUM_FRACTION_DIGITS,i=this.clipPath,a=this.fill,o=this.stroke,s=this.shadow,u=this.strokeDashArray,c=this.left,l=this.top,d=this.originX,f=this.originY,h=this.width,p=this.height,v=this.strokeWidth,g=this.strokeLineCap,m=this.strokeDashOffset,b=this.strokeLineJoin,S=this.strokeUniform,E=this.strokeMiterLimit,x=this.scaleX,k=this.scaleY,_=this.angle,T=this.flipX,A=this.flipY,C=this.opacity,P=this.visible,I=this.backgroundColor,O=this.fillRule,R=this.paintFirst,N=this.globalCompositeOperation,j=this.skewX,M=this.skewY;i&&!i.excludeFromExport&&(e=i.toObject(t.concat("inverted","absolutePositioned")));var D=function(e){return st(e,r)},F=y(y({},Qe(this,t)),{},{type:this.constructor.type,version:L,originX:d,originY:f,left:D(c),top:D(l),width:D(h),height:D(p),fill:ht(a)?a.toObject():a,stroke:ht(o)?o.toObject():o,strokeWidth:D(v),strokeDashArray:u?u.concat():u,strokeLineCap:g,strokeDashOffset:m,strokeLineJoin:b,strokeUniform:S,strokeMiterLimit:D(E),scaleX:D(x),scaleY:D(k),angle:D(_),flipX:T,flipY:A,opacity:D(C),shadow:s?s.toObject():s,visible:P,backgroundColor:I,fillRule:O,paintFirst:R,globalCompositeOperation:N,skewX:D(j),skewY:D(M)},e?{clipPath:e}:null);return this.includeDefaultValues?F:this._removeDefaultValues(F)}},{key:"toDatalessObject",value:function(e){return this.toObject(e)}},{key:"_removeDefaultValues",value:function(e){var t=this.constructor.getDefaults(),r=Object.keys(t).length>0?t:Object.getPrototypeOf(this);return $e(e,(function(e,t){if(t===H||t===W||"type"===t)return!0;var n=r[t];return e!==n&&!(Array.isArray(e)&&Array.isArray(n)&&0===e.length&&0===n.length)}))}},{key:"toString",value:function(){return"#<".concat(this.constructor.type,">")}}],[{key:"getDefaults",value:function(){return n.ownDefaults}},{key:"_fromObject",value:function(e){var t=this,r=b(e,Zr),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.extraParam,a=b(n,Qr);return Ze(r,a).then((function(e){return i?(delete e[i],new t(r[i],e)):new t(e)}))}},{key:"fromObject",value:function(e,t){return this._fromObject(e,t)}}]),n}(Jr);t($r,"stateProperties",Cr),t($r,"cacheProperties",Pr),t($r,"ownDefaults",Ir),t($r,"type","FabricObject"),t($r,"colorProperties",[ce,le,"backgroundColor"]),t($r,"customProperties",[]),pe.setClass($r),pe.setClass($r,"object");var en=function(e,t,r){return function(n,i,a,o){var s=t(n,i,a,o);return s&&Gt(e,y(y({},Xt(n,i,a,o)),r)),s}};function tn(e){return function(t,r,n,i){var a=r.target,o=r.originX,s=r.originY,u=a.getRelativeCenterPoint(),c=a.translateToOriginPoint(u,o,s),l=e(t,r,n,i);return a.setPositionByOrigin(c,r.originX,r.originY),l}}var rn=en(ee,tn((function(e,t,r,n){var i=Jt(t,t.originX,t.originY,r,n);if(Ht(t.originX)===Ht(V)||Ht(t.originX)===Ht(z)&&i.x<0||Ht(t.originX)===Ht(H)&&i.x>0){var a=t.target,o=a.strokeWidth/(a.strokeUniform?a.scaleX:1),s=qt(t)?2:1,u=a.width,c=Math.ceil(Math.abs(i.x*s/a.scaleX)-o);return a.set("width",Math.max(c,0)),u!==a.width}return!1})));function nn(e,t,r,n,i){n=n||{};var a,o=this.sizeX||n.cornerSize||i.cornerSize,s=this.sizeY||n.cornerSize||i.cornerSize,u=void 0!==n.transparentCorners?n.transparentCorners:i.transparentCorners,c=u?le:ce,l=!u&&(n.cornerStrokeColor||i.cornerStrokeColor),d=t,f=r;e.save(),e.fillStyle=n.cornerColor||i.cornerColor||"",e.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",o>s?(a=o,e.scale(1,s/o),f=r*o/s):s>o?(a=s,e.scale(o/s,1),d=t*s/o):a=o,e.lineWidth=1,e.beginPath(),e.arc(d,f,a/2,0,D,!1),e[c](),l&&e.stroke(),e.restore()}function an(e,t,r,n,i){n=n||{};var a=this.sizeX||n.cornerSize||i.cornerSize,o=this.sizeY||n.cornerSize||i.cornerSize,s=void 0!==n.transparentCorners?n.transparentCorners:i.transparentCorners,u=s?le:ce,c=!s&&(n.cornerStrokeColor||i.cornerStrokeColor),l=a/2,d=o/2;e.save(),e.fillStyle=n.cornerColor||i.cornerColor||"",e.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",e.lineWidth=1,e.translate(t,r);var f=i.getTotalAngle();e.rotate(Re(f)),e["".concat(u,"Rect")](-l,-d,a,o),c&&e.strokeRect(-l,-d,a,o),e.restore()}var on=function(){function e(r){m(this,e),t(this,"visible",!0),t(this,"actionName",ie),t(this,"angle",0),t(this,"x",0),t(this,"y",0),t(this,"offsetX",0),t(this,"offsetY",0),t(this,"sizeX",0),t(this,"sizeY",0),t(this,"touchSizeX",0),t(this,"touchSizeY",0),t(this,"cursorStyle","crosshair"),t(this,"withConnection",!1),Object.assign(this,r)}return g(e,[{key:"shouldActivate",value:function(e,t,r,n){var i,a=n.tl,o=n.tr,s=n.br,u=n.bl;return(null===(i=t.canvas)||void 0===i?void 0:i.getActiveObject())===t&&t.isControlVisible(e)&&Kr.isPointInPolygon(r,[a,o,s,u])}},{key:"getActionHandler",value:function(e,t,r){return this.actionHandler}},{key:"getMouseDownHandler",value:function(e,t,r){return this.mouseDownHandler}},{key:"getMouseUpHandler",value:function(e,t,r){return this.mouseUpHandler}},{key:"cursorStyleHandler",value:function(e,t,r){return t.cursorStyle}},{key:"getActionName",value:function(e,t,r){return t.actionName}},{key:"getVisibility",value:function(e,t){var r,n;return null!==(r=null===(n=e._controlsVisibility)||void 0===n?void 0:n[t])&&void 0!==r?r:this.visible}},{key:"setVisibility",value:function(e,t,r){this.visible=e}},{key:"positionHandler",value:function(e,t,r,n){return new Se(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(t)}},{key:"calcCornerCoords",value:function(e,t,r,n,i,a){var o=Fe([Ge(r,n),Ve({angle:e}),He((i?this.touchSizeX:this.sizeX)||t,(i?this.touchSizeY:this.sizeY)||t)]);return{tl:new Se(-.5,-.5).transform(o),tr:new Se(.5,-.5).transform(o),br:new Se(.5,.5).transform(o),bl:new Se(-.5,.5).transform(o)}}},{key:"render",value:function(e,t,r,n,i){"circle"===((n=n||{}).cornerStyle||i.cornerStyle)?nn.call(this,e,t,r,n,i):an.call(this,e,t,r,n,i)}}]),e}(),sn=function(e,t,r){return r.lockRotation?Wt:t.cursorStyle},un=en(Z,tn((function(e,t,r,n){var i=t.target,a=t.ex,o=t.ey,s=t.theta,u=t.originX,c=t.originY,l=i.translateToOriginPoint(i.getRelativeCenterPoint(),u,c);if(Yt(i,"lockRotation"))return!1;var d=Math.atan2(o-l.y,a-l.x),f=Math.atan2(n-l.y,r-l.x),h=Ne(f-d+s);if(i.snapAngle&&i.snapAngle>0){var p=i.snapAngle,v=i.snapThreshold||p,g=Math.ceil(h/p)*p,m=Math.floor(h/p)*p;Math.abs(h-m)<v?h=m:Math.abs(h-g)<v&&(h=g)}h<0&&(h=360+h),h%=360;var y=i.angle!==h;return i.angle=h,y})));function cn(e,t){var r=t.canvas,n=e[r.uniScaleKey];return r.uniformScaling&&!n||!r.uniformScaling&&n}function ln(e,t,r){var n=Yt(e,"lockScalingX"),i=Yt(e,"lockScalingY");if(n&&i)return!0;if(!t&&(n||i)&&r)return!0;if(n&&"x"===t)return!0;if(i&&"y"===t)return!0;var a=e.width,o=e.height,s=e.strokeWidth;return 0===a&&0===s&&"y"!==t||0===o&&0===s&&"x"!==t}var dn=["e","se","s","sw","w","nw","n","ne","e"],fn=function(e,t,r){var n=cn(e,r);if(ln(r,0!==t.x&&0===t.y?"x":0===t.x&&0!==t.y?"y":"",n))return Wt;var i=Kt(r,t);return"".concat(dn[i],"-resize")};function hn(e,t,r,n){var i,a,o,s,u,c,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},d=t.target,f=l.by,h=cn(e,d);if(ln(d,f,h))return!1;if(t.gestureScale)a=t.scaleX*t.gestureScale,o=t.scaleY*t.gestureScale;else{if(i=Jt(t,t.originX,t.originY,r,n),u="y"!==f?Math.sign(i.x||t.signX||1):1,c="x"!==f?Math.sign(i.y||t.signY||1):1,t.signX||(t.signX=u),t.signY||(t.signY=c),Yt(d,"lockScalingFlip")&&(t.signX!==u||t.signY!==c))return!1;if(s=d._getTransformedDimensions(),h&&!f){var p=Math.abs(i.x)+Math.abs(i.y),v=t.original,g=p/(Math.abs(s.x*v.scaleX/d.scaleX)+Math.abs(s.y*v.scaleY/d.scaleY));a=v.scaleX*g,o=v.scaleY*g}else a=Math.abs(i.x*d.scaleX/s.x),o=Math.abs(i.y*d.scaleY/s.y);qt(t)&&(a*=2,o*=2),t.signX!==u&&"y"!==f&&(t.originX=zt(t.originX),a*=-1,t.signX=u),t.signY!==c&&"x"!==f&&(t.originY=zt(t.originY),o*=-1,t.signY=c)}var m=d.scaleX,y=d.scaleY;return f?("x"===f&&d.set(ae,a),"y"===f&&d.set(oe,o)):(!Yt(d,"lockScalingX")&&d.set(ae,a),!Yt(d,"lockScalingY")&&d.set(oe,o)),m!==d.scaleX||y!==d.scaleY}var pn=en(J,tn((function(e,t,r,n){return hn(e,t,r,n)}))),vn=en(J,tn((function(e,t,r,n){return hn(e,t,r,n,{by:"x"})}))),gn=en(J,tn((function(e,t,r,n){return hn(e,t,r,n,{by:"y"})}))),mn=["target","ex","ey","skewingSide"],yn={x:{counterAxis:"y",scale:ae,skew:se,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:oe,skew:ue,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},bn=["ns","nesw","ew","nwse"],Sn=function(e,t,r){if(0!==t.x&&Yt(r,"lockSkewingY"))return Wt;if(0!==t.y&&Yt(r,"lockSkewingX"))return Wt;var n=Kt(r,t)%4;return"".concat(bn[n],"-resize")};function En(e,t,r,n,i){var o,s=r.target,u=yn[e],c=u.counterAxis,l=u.origin,d=u.lockSkewing,f=u.skew,h=u.flip;if(Yt(s,d))return!1;var p=yn[c],v=p.origin,g=p.flip,m=Ht(r[v])*(s[g]?-1:1),S=-Math.sign(m)*(s[h]?-1:1),E=-(0===s[f]&&Jt(r,V,V,n,i)[e]>0||s[f]>0?1:-1)*S*.5+.5,x=en($,tn((function(t,r,n,i){return function(e,t,r){var n=t.target,i=t.ex,a=t.ey,o=t.skewingSide,s=b(t,mn),u=yn[e].skew,c=r.subtract(new Se(i,a)).divide(new Se(n.scaleX,n.scaleY))[e],l=n[u],d=s[u],f=Math.tan(Re(d)),h="y"===e?n._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:n._getTransformedDimensions({scaleX:1,scaleY:1}).y,p=2*c*o/Math.max(h,1)+f,v=Ne(Math.atan(p));n.set(u,v);var g=l!==n[u];if(g&&"y"===e){var m=n.skewX,y=n.scaleX,S=n._getTransformedDimensions({skewY:l}),E=n._getTransformedDimensions(),x=0!==m?S.x/E.x:1;1!==x&&n.set(ae,x*y)}return g}(e,r,new Se(n,i))})));return x(t,y(y({},r),{},(a(o={},l,E),a(o,"skewingSide",S),o)),n,i)}var xn=function(e,t,r,n){return En("x",e,t,r,n)},wn=function(e,t,r,n){return En("y",e,t,r,n)};function kn(e,t){return e[t.canvas.altActionKey]}var _n=function(e,t,r){var n=kn(e,r);return 0===t.x?n?se:oe:0===t.y?n?ue:ae:""},Tn=function(e,t,r){return kn(e,r)?Sn(0,t,r):fn(e,t,r)},An=function(e,t,r,n){return kn(e,t.target)?wn(e,t,r,n):vn(e,t,r,n)},Cn=function(e,t,r,n){return kn(e,t.target)?xn(e,t,r,n):gn(e,t,r,n)},Pn=function(){return{ml:new on({x:-.5,y:0,cursorStyleHandler:Tn,actionHandler:An,getActionName:_n}),mr:new on({x:.5,y:0,cursorStyleHandler:Tn,actionHandler:An,getActionName:_n}),mb:new on({x:0,y:.5,cursorStyleHandler:Tn,actionHandler:Cn,getActionName:_n}),mt:new on({x:0,y:-.5,cursorStyleHandler:Tn,actionHandler:Cn,getActionName:_n}),tl:new on({x:-.5,y:-.5,cursorStyleHandler:fn,actionHandler:pn}),tr:new on({x:.5,y:-.5,cursorStyleHandler:fn,actionHandler:pn}),bl:new on({x:-.5,y:.5,cursorStyleHandler:fn,actionHandler:pn}),br:new on({x:.5,y:.5,cursorStyleHandler:fn,actionHandler:pn}),mtr:new on({x:0,y:-.5,actionHandler:un,cursorStyleHandler:sn,offsetY:-40,withConnection:!0,actionName:Q})}},In=function(){return{mr:new on({x:.5,y:0,actionHandler:rn,cursorStyleHandler:Tn,actionName:ee}),ml:new on({x:-.5,y:0,actionHandler:rn,cursorStyleHandler:Tn,actionName:ee})}},On=function(){return y(y({},Pn()),In())},Rn=function(e){p(r,e);var t=v(r);function r(e){var n;return m(this,r),n=t.call(this),Object.assign(d(n),n.constructor.createControls(),r.ownDefaults),n.setOptions(e),n}return g(r,[{key:"_updateCacheCanvas",value:function(){var e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){var t=e._currentTransform,n=t.target,i=t.action;if(this===n&&i&&i.startsWith(ie))return!1}return u(c(r.prototype),"_updateCacheCanvas",this).call(this)}},{key:"getActiveControl",value:function(){var e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}},{key:"findControl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.hasControls&&this.canvas){this.__corner=void 0;for(var r=Object.entries(this.oCoords),n=r.length-1;n>=0;n--){var i=f(r[n],2),a=i[0],o=i[1],s=this.controls[a];if(s.shouldActivate(a,this,e,t?o.touchCorner:o.corner))return this.__corner=a,{key:a,control:s,coord:this.oCoords[a]}}}}},{key:"calcOCoords",value:function(){var e=this,t=this.getViewportTransform(),r=this.getCenterPoint(),n=Ge(r.x,r.y),i=Ve({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),a=De(n,i),o=De(t,a),s=De(o,[1/t[0],0,0,1/t[3],0,0]),u=this.group?Be(this.calcTransformMatrix()):void 0;u&&(u.scaleX=Math.abs(u.scaleX),u.scaleY=Math.abs(u.scaleY));var c=this._calculateCurrentDimensions(u),l={};return this.forEachControl((function(t,r){var n=t.positionHandler(c,s,e,t);l[r]=Object.assign(n,e._calcCornerCoords(t,n))})),l}},{key:"_calcCornerCoords",value:function(e,t){var r=this.getTotalAngle();return{corner:e.calcCornerCoords(r,this.cornerSize,t.x,t.y,!1,this),touchCorner:e.calcCornerCoords(r,this.touchCornerSize,t.x,t.y,!0,this)}}},{key:"setCoords",value:function(){u(c(r.prototype),"setCoords",this).call(this),this.canvas&&(this.oCoords=this.calcOCoords())}},{key:"forEachControl",value:function(e){for(var t in this.controls)e(this.controls[t],t,this)}},{key:"drawSelectionBackground",value:function(e){if(this.selectionBackgroundColor&&(!this.canvas||this.canvas._activeObject===this)){e.save();var t=this.getRelativeCenterPoint(),r=this._calculateCurrentDimensions(),n=this.getViewportTransform();e.translate(t.x,t.y),e.scale(1/n[0],1/n[3]),e.rotate(Re(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),e.restore()}}},{key:"strokeBorders",value:function(e,t){e.strokeRect(-t.x/2,-t.y/2,t.x,t.y)}},{key:"_drawBorders",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=y({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},r);e.save(),e.strokeStyle=n.borderColor,this._setLineDash(e,n.borderDashArray),this.strokeBorders(e,t),n.hasControls&&this.drawControlsConnectingLines(e,t),e.restore()}},{key:"_renderControls",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=y({hasBorders:this.hasBorders,hasControls:this.hasControls},t),n=this.getViewportTransform(),i=r.hasBorders,a=r.hasControls,o=De(n,this.calcTransformMatrix()),s=Be(o);e.save(),e.translate(s.translateX,s.translateY),e.lineWidth=1*this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(s.angle-=180),e.rotate(Re(this.group?s.angle:this.angle)),i&&this.drawBorders(e,s,t),a&&this.drawControls(e,t),e.restore()}},{key:"drawBorders",value:function(e,t,r){var n;if(r&&r.forActiveSelection||this.group){var i=Mt(this.width,this.height,Ye(t)),a=this.isStrokeAccountedForInDimensions()?Ee:(this.strokeUniform?(new Se).scalarAdd(this.canvas?this.canvas.getZoom():1):new Se(t.scaleX,t.scaleY)).scalarMultiply(this.strokeWidth);n=i.add(a).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else n=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,n,r)}},{key:"drawControlsConnectingLines",value:function(e,t){var r=this,n=!1;e.beginPath(),this.forEachControl((function(i,a){i.withConnection&&i.getVisibility(r,a)&&(n=!0,e.moveTo(i.x*t.x,i.y*t.y),e.lineTo(i.x*t.x+i.offsetX,i.y*t.y+i.offsetY))})),n&&e.stroke()}},{key:"drawControls",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.save();var n=this.getCanvasRetinaScaling(),i=y({cornerStrokeColor:this.cornerStrokeColor,cornerDashArray:this.cornerDashArray,cornerColor:this.cornerColor},r);e.setTransform(n,0,0,n,0,0),e.strokeStyle=e.fillStyle=i.cornerColor,this.transparentCorners||(e.strokeStyle=i.cornerStrokeColor),this._setLineDash(e,i.cornerDashArray),this.forEachControl((function(r,n){if(r.getVisibility(t,n)){var a=t.oCoords[n];r.render(e,a.x,a.y,i,t)}})),e.restore()}},{key:"isControlVisible",value:function(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}},{key:"setControlVisible",value:function(e,t){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=t}},{key:"setControlsVisibility",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.entries(t).forEach((function(t){var r=f(t,2),n=r[0],i=r[1];return e.setControlVisible(n,i)}))}},{key:"clearContextTop",value:function(e){if(this.canvas){var t=this.canvas.contextTop;if(t){var r=this.canvas.viewportTransform;t.save(),t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this.transform(t);var n=this.width+4,i=this.height+4;return t.clearRect(-n/2,-i/2,n,i),e||t.restore(),t}}}},{key:"onDeselect",value:function(e){return!1}},{key:"onSelect",value:function(e){return!1}},{key:"shouldStartDragging",value:function(e){return!1}},{key:"onDragStart",value:function(e){return!1}},{key:"canDrop",value:function(e){return!1}},{key:"renderDragSourceEffect",value:function(e){}},{key:"renderDropTargetEffect",value:function(e){}}],[{key:"getDefaults",value:function(){return y(y({},u(c(r),"getDefaults",this).call(this)),r.ownDefaults)}},{key:"createControls",value:function(){return{controls:Pn()}}}]),r}($r);function Nn(e,t){return t.forEach((function(t){Object.getOwnPropertyNames(t.prototype).forEach((function(r){"constructor"!==r&&Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(t.prototype,r)||Object.create(null))}))})),e}t(Rn,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});var Ln=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r)}(Rn);Nn(Ln,[er]),pe.setClass(Ln),pe.setClass(Ln,"object");var jn=function(e,t,r,n){for(var i=2*(n=Math.round(n))+1,a=e.getImageData(t-n,r-n,i,i).data,o=3;o<a.length;o+=4)if(a[o]>0)return!1;return!0},Mn=function(){function e(t){m(this,e),this.options=t,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new Se(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new Se(1/this.options.scaleX,1/this.options.scaleY):new Se(1,1)}return g(e,[{key:"createSideVector",value:function(e,t){var r=vr(e,t);return this.options.strokeUniform?r.multiply(this.scale):r}},{key:"projectOrthogonally",value:function(e,t,r){return this.applySkew(e.add(this.calcOrthogonalProjection(e,t,r)))}},{key:"isSkewed",value:function(){return 0!==this.options.skewX||0!==this.options.skewY}},{key:"applySkew",value:function(e){var t=new Se(e);return t.y+=t.x*Math.tan(Re(this.options.skewY)),t.x+=t.y*Math.tan(Re(this.options.skewX)),t}},{key:"scaleUnitVector",value:function(e,t){return e.multiply(this.strokeUniformScalar).scalarMultiply(t)}}]),e}(),Dn=new Se,Fn=function(e){p(n,e);var r=v(n);function n(e,i,a,o){var s;return m(this,n),s=r.call(this,o),t(d(s),"AB",void 0),t(d(s),"AC",void 0),t(d(s),"alpha",void 0),t(d(s),"bisector",void 0),s.A=new Se(e),s.B=new Se(i),s.C=new Se(a),s.AB=s.createSideVector(s.A,s.B),s.AC=s.createSideVector(s.A,s.C),s.alpha=mr(s.AB,s.AC),s.bisector=br(pr(s.AB.eq(Dn)?s.AC:s.AB,s.alpha/2)),s}return g(n,[{key:"calcOrthogonalProjection",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.strokeProjectionMagnitude,i=this.createSideVector(e,t),a=Sr(i),o=n.getOrthogonalRotationFactor(a,this.bisector);return this.scaleUnitVector(a,r*o)}},{key:"projectBevel",value:function(){var e=this,t=[];return(this.alpha%D==0?[this.B]:[this.B,this.C]).forEach((function(r){t.push(e.projectOrthogonally(e.A,r)),t.push(e.projectOrthogonally(e.A,r,-e.strokeProjectionMagnitude))})),t}},{key:"projectMiter",value:function(){var e=[],t=Math.abs(this.alpha),r=1/Math.sin(t/2),n=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*r),i=this.options.strokeUniform?gr(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return gr(n)/this.strokeProjectionMagnitude<=i&&e.push(this.applySkew(this.A.add(n))),e.push.apply(e,l(this.projectBevel())),e}},{key:"projectRoundNoSkew",value:function(e,t){var r=this,i=[],a=new Se(n.getOrthogonalRotationFactor(this.bisector),n.getOrthogonalRotationFactor(new Se(this.bisector.y,this.bisector.x)));return[new Se(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(a),new Se(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(a)].forEach((function(n){wr(n,e,t)&&i.push(r.A.add(n))})),i}},{key:"projectRoundWithSkew",value:function(e,t){var r=this,n=[],i=this.options,a=i.skewX,o=i.skewY,s=i.scaleX,u=i.scaleY,c=i.strokeUniform,l=new Se(Math.tan(Re(a)),Math.tan(Re(o))),d=this.strokeProjectionMagnitude,f=c?d/u/Math.sqrt(1/Math.pow(u,2)+1/Math.pow(s,2)*Math.pow(l.y,2)):d/Math.sqrt(1+Math.pow(l.y,2)),h=new Se(Math.sqrt(Math.max(Math.pow(d,2)-Math.pow(f,2),0)),f),p=c?d/Math.sqrt(1+Math.pow(l.x,2)*Math.pow(1/u,2)/Math.pow(1/s+1/s*l.x*l.y,2)):d/Math.sqrt(1+Math.pow(l.x,2)/Math.pow(1+l.x*l.y,2)),v=new Se(p,Math.sqrt(Math.max(Math.pow(d,2)-Math.pow(p,2),0)));return[v,v.scalarMultiply(-1),h,h.scalarMultiply(-1)].map((function(e){return r.applySkew(c?e.multiply(r.strokeUniformScalar):e)})).forEach((function(i){wr(i,e,t)&&n.push(r.applySkew(r.A).add(i))})),n}},{key:"projectRound",value:function(){var e=[];e.push.apply(e,l(this.projectBevel()));var t=this.alpha%D==0,r=this.applySkew(this.A),n=e[t?0:2].subtract(r),i=e[t?1:0].subtract(r),a=t?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),o=Er(n,a)>0,s=o?n:i,u=o?i:n;return this.isSkewed()?e.push.apply(e,l(this.projectRoundWithSkew(s,u))):e.push.apply(e,l(this.projectRoundNoSkew(s,u))),e}},{key:"projectPoints",value:function(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}},{key:"project",value:function(){var e=this;return this.projectPoints().map((function(t){return{originPoint:e.A,projectedPoint:t,angle:e.alpha,bisector:e.bisector}}))}}],[{key:"getOrthogonalRotationFactor",value:function(e,t){var r=t?mr(e,t):yr(e);return Math.abs(r)<M?-1:1}}]),n}(Mn),Un=function(e){p(r,e);var t=v(r);function r(e,n,i){var a;return m(this,r),(a=t.call(this,i)).A=new Se(e),a.T=new Se(n),a}return g(r,[{key:"calcOrthogonalProjection",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.strokeProjectionMagnitude,n=this.createSideVector(e,t);return this.scaleUnitVector(Sr(n),r)}},{key:"projectButt",value:function(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}},{key:"projectRound",value:function(){var e=[];if(!this.isSkewed()&&this.A.eq(this.T)){var t=new Se(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(t)),this.applySkew(this.A.subtract(t)))}else e.push.apply(e,l(new Fn(this.A,this.T,this.T,this.options).projectRound()));return e}},{key:"projectSquare",value:function(){var e=this,t=[];if(this.A.eq(this.T)){var r=new Se(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.A.add(r),this.A.subtract(r))}else{var n=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),i=this.scaleUnitVector(br(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),a=this.A.add(i);t.push(a.add(n),a.subtract(n))}return t.map((function(t){return e.applySkew(t)}))}},{key:"projectPoints",value:function(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}},{key:"project",value:function(){var e=this;return this.projectPoints().map((function(t){return{originPoint:e.A,projectedPoint:t}}))}}]),r}(Mn),Bn=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[];if(0===e.length)return n;var i=e.reduce((function(e,t){return e[e.length-1].eq(t)||e.push(new Se(t)),e}),[new Se(e[0])]);if(1===i.length)r=!0;else if(!r){var a=i[0],o=function(e,t){for(var r=e.length-1;r>=0;r--)if(t(e[r],r,e))return r;return-1}(i,(function(e){return!e.eq(a)}));i.splice(o+1)}return i.forEach((function(e,i,a){var o,s;0===i?(s=a[1],o=r?e:a[a.length-1]):i===a.length-1?(o=a[i-1],s=r?e:a[0]):(o=a[i-1],s=a[i+1]),r&&1===a.length?n.push.apply(n,l(new Un(e,e,t).project())):!r||0!==i&&i!==a.length-1?n.push.apply(n,l(new Fn(e,o,s,t).project())):n.push.apply(n,l(new Un(e,0===i?s:o,t).project()))})),n},Gn=function(e){var t={};return Object.keys(e).forEach((function(r){t[r]={},Object.keys(e[r]).forEach((function(n){t[r][n]=y({},e[r][n])}))})),t},Vn=function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},Hn=function(e){for(var t,r=[],n=0;n<e.length;n++)!1!==(t=Wn(e,n))&&r.push(t);return r},Wn=function(e,t){var r=e.charCodeAt(t);if(isNaN(r))return"";if(r<55296||r>57343)return e.charAt(t);if(55296<=r&&r<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";var n=e.charCodeAt(t+1);if(56320>n||n>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}if(0===t)throw"Low surrogate without preceding high surrogate";var i=e.charCodeAt(t-1);if(55296>i||i>56319)throw"Low surrogate without preceding high surrogate";return!1},qn=Object.freeze({__proto__:null,capitalize:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"".concat(e.charAt(0).toUpperCase()).concat(t?e.slice(1):e.slice(1).toLowerCase())},escapeXml:Vn,graphemeSplit:Hn}),zn=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.fill!==t.fill||e.stroke!==t.stroke||e.strokeWidth!==t.strokeWidth||e.fontSize!==t.fontSize||e.fontFamily!==t.fontFamily||e.fontWeight!==t.fontWeight||e.fontStyle!==t.fontStyle||e.textBackgroundColor!==t.textBackgroundColor||e.deltaY!==t.deltaY||r&&(e.overline!==t.overline||e.underline!==t.underline||e.linethrough!==t.linethrough)},Yn=function(e,t){var r=t.split("\n"),n=[],i=-1,a={};e=Gn(e);for(var o=0;o<r.length;o++){var s=Hn(r[o]);if(e[o])for(var u=0;u<s.length;u++){i++;var c=e[o][u];c&&Object.keys(c).length>0&&(zn(a,c,!0)?n.push({start:i,end:i+1,style:c}):n[n.length-1].end++),a=c||{}}else i+=s.length,a={}}return n},Xn=function(e,t){if(!Array.isArray(e))return Gn(e);for(var r=t.split(X),n={},i=-1,a=0,o=0;o<r.length;o++)for(var s=Hn(r[o]),u=0;u<s.length;u++)i++,e[a]&&e[a].start<=i&&i<e[a].end&&(n[o]=n[o]||{},n[o][u]=y({},e[a].style),i===e[a].end-1&&a++);return n},Kn=["display","transform",ce,"fill-opacity","fill-rule","opacity",le,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function Jn(e,t){var r,n=e.nodeName,i=e.getAttribute("class"),a=e.getAttribute("id"),o="(?![a-zA-Z\\-]+)";if(r=new RegExp("^"+n,"i"),t=t.replace(r,""),a&&t.length&&(r=new RegExp("#"+a+o,"i"),t=t.replace(r,"")),i&&t.length)for(var s=i.split(" "),u=s.length;u--;)r=new RegExp("\\."+s[u]+o,"i"),t=t.replace(r,"");return 0===t.length}function Zn(e,t){var r=!0,n=Jn(e,t.pop());return n&&t.length&&(r=function(e,t){for(var r,n=!0;e.parentElement&&1===e.parentElement.nodeType&&t.length;)n&&(r=t.pop()),n=Jn(e=e.parentElement,r);return 0===t.length}(e,t)),n&&r&&0===t.length}var Qn,$n,ei,ti,ri,ni,ii,ai=function(e){var t;return null!==(t=ar[e])&&void 0!==t?t:e},oi=new RegExp("(".concat(rr,")"),"gi"),si=function(e){return e.replace(oi," $1 ").replace(/,/gi," ").replace(/\s+/gi," ")},ui="(".concat(rr,")"),ci=String.raw(Qn||(Qn=S(["(skewX)(",")"],["(skewX)\\(","\\)"])),ui),li=String.raw($n||($n=S(["(skewY)(",")"],["(skewY)\\(","\\)"])),ui),di=String.raw(ei||(ei=S(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),ui,ui,ui),fi=String.raw(ti||(ti=S(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),ui,ui),hi=String.raw(ri||(ri=S(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),ui,ui),pi=String.raw(ni||(ni=S(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),ui,ui,ui,ui,ui,ui),vi="(?:".concat(pi,"|").concat(hi,"|").concat(di,"|").concat(fi,"|").concat(ci,"|").concat(li,")"),gi="(?:".concat(vi,"*)"),mi=String.raw(ii||(ii=S(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),gi),yi=new RegExp(mi),bi=new RegExp(vi),Si=new RegExp(vi,"g");function Ei(e){var t=[];if(!(e=si(e).replace(/\s*([()])\s*/gi,"$1"))||e&&!yi.test(e))return l(U);var r,a=i(e.matchAll(Si));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=bi.exec(o[0]);if(s){var u=U,c=s.filter((function(e){return!!e})),d=n(c),h=d[1],p=d.slice(2).map((function(e){return parseFloat(e)})),v=f(p,6),g=v[0],m=v[1],y=v[2],b=v[3],S=v[4],E=v[5];switch(h){case"translate":u=Ge(g,m);break;case Q:u=Ve({angle:g},{x:m,y:y});break;case ie:u=He(g,m);break;case se:u=qe(g);break;case ue:u=ze(g);break;case"matrix":u=[g,m,y,b,S,E]}t.push(u)}}}catch(x){a.e(x)}finally{a.f()}return Fe(t)}function xi(e,t,r,n){var i,a=Array.isArray(t),o=t;if(e!==ce&&e!==le||t!==Y){if("strokeUniform"===e)return"non-scaling-stroke"===t;if("strokeDashArray"===e)o=t===Y?null:t.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===e)o=r&&r.transformMatrix?De(r.transformMatrix,Ei(t)):Ei(t);else if("visible"===e)o=t!==Y&&"hidden"!==t,r&&!1===r.visible&&(o=!1);else if("opacity"===e)o=parseFloat(t),r&&void 0!==r.opacity&&(o*=r.opacity);else if("textAnchor"===e)o="start"===t?H:"end"===t?z:V;else if("charSpacing"===e)i=ut(t,n)/n*1e3;else if("paintFirst"===e){var s=t.indexOf(ce),u=t.indexOf(le);o=ce,(s>-1&&u>-1&&u<s||-1===s&&u>-1)&&(o=le)}else{if("href"===e||"xlink:href"===e||"font"===e||"id"===e)return t;if("imageSmoothing"===e)return"optimizeQuality"===t;i=a?t.map(ut):ut(t,n)}}else o="";return!a&&isNaN(i)?o:i}function wi(e,t){var r=e.match(ir);if(r){var n=r[1],i=r[3],a=r[4],o=r[5],s=r[6];n&&(t.fontStyle=n),i&&(t.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),a&&(t.fontSize=ut(a)),s&&(t.fontFamily=s),o&&(t.lineHeight="normal"===o?1:o)}}function ki(e,t){e.replace(/;\s*$/,"").split(";").forEach((function(e){if(e){var r=e.split(":"),n=f(r,2),i=n[0],a=n[1];t[i.trim().toLowerCase()]=a.trim()}}))}function _i(e){var t={},r=e.getAttribute("style");return r?("string"==typeof r?ki(r,t):function(e,t){Object.entries(e).forEach((function(e){var r=f(e,2),n=r[0],i=r[1];void 0!==i&&(t[n.toLowerCase()]=i)}))}(r,t),t):t}var Ti={stroke:"strokeOpacity",fill:"fillOpacity"};function Ai(e,t,r){if(!e)return{};var n,i={},a=B;e.parentNode&&lr.test(e.parentNode.nodeName)&&(i=Ai(e.parentElement,t,r)).fontSize&&(n=a=ut(i.fontSize));var o=y(y(y({},t.reduce((function(t,r){var n=e.getAttribute(r);return n&&(t[r]=n),t}),{})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};for(var n in t)Zn(e,n.split(" "))&&(r=y(y({},r),t[n]));return r}(e,r)),_i(e));o[sr]&&e.setAttribute(sr,o[sr]),o[or]&&(n=ut(o[or],a),o[or]="".concat(n));var s={};for(var u in o){var c=ai(u),l=xi(c,o[u],i,n);s[c]=l}s&&s.font&&wi(s.font,s);var d=y(y({},i),s);return lr.test(e.nodeName)?d:function(e){var t=Ln.getDefaults();return Object.entries(Ti).forEach((function(r){var n=f(r,2),i=n[0],a=n[1];if(void 0!==e[a]&&""!==e[i]){if(void 0===e[i]){if(!t[i])return;e[i]=t[i]}if(0!==e[i].indexOf("url(")){var o=new ot(e[i]);e[i]=o.setAlpha(st(o.getAlpha()*e[a],2)).toRgba()}}})),e}(d)}var Ci=["left","top","width","height","visible"],Pi=["rx","ry"],Ii=function(e){p(r,e);var t=v(r);function r(e){var n;return m(this,r),n=t.call(this),Object.assign(d(n),r.ownDefaults),n.setOptions(e),n._initRxRy(),n}return g(r,[{key:"_initRxRy",value:function(){var e=this.rx,t=this.ry;e&&!t?this.ry=e:t&&!e&&(this.rx=t)}},{key:"_render",value:function(e){var t=this.width,r=this.height,n=-t/2,i=-r/2,a=this.rx?Math.min(this.rx,t/2):0,o=this.ry?Math.min(this.ry,r/2):0,s=0!==a||0!==o;e.beginPath(),e.moveTo(n+a,i),e.lineTo(n+t-a,i),s&&e.bezierCurveTo(n+t-G*a,i,n+t,i+G*o,n+t,i+o),e.lineTo(n+t,i+r-o),s&&e.bezierCurveTo(n+t,i+r-G*o,n+t-G*a,i+r,n+t-a,i+r),e.lineTo(n+a,i+r),s&&e.bezierCurveTo(n+G*a,i+r,n,i+r-G*o,n,i+r-o),e.lineTo(n,i+o),s&&e.bezierCurveTo(n,i+G*o,n+G*a,i,n+a,i),e.closePath(),this._renderPaintInOrder(e)}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u(c(r.prototype),"toObject",this).call(this,[].concat(Pi,l(e)))}},{key:"_toSVG",value:function(){var e=this.width,t=this.height,r=this.rx,n=this.ry;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-t/2,'" rx="').concat(r,'" ry="').concat(n,'" width="').concat(e,'" height="').concat(t,'" />\n')]}}],[{key:"getDefaults",value:function(){return y(y({},u(c(r),"getDefaults",this).call(this)),r.ownDefaults)}},{key:"fromElement",value:function(){var e=s(o().mark((function e(t,r,n){var i,a,s,u,c,l,d,f,h,p,v,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ai(t,this.ATTRIBUTE_NAMES,n),a=i.left,s=void 0===a?0:a,u=i.top,c=void 0===u?0:u,l=i.width,d=void 0===l?0:l,f=i.height,h=void 0===f?0:f,p=i.visible,v=void 0===p||p,g=b(i,Ci),e.abrupt("return",new this(y(y(y({},r),g),{},{left:s,top:c,width:d,height:h,visible:Boolean(v&&d&&h)})));case 2:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()}]),r}(Ln);t(Ii,"type","Rect"),t(Ii,"cacheProperties",[].concat(Pr,Pi)),t(Ii,"ownDefaults",{rx:0,ry:0}),t(Ii,"ATTRIBUTE_NAMES",[].concat(Kn,["x","y","rx","ry","width","height"])),pe.setClass(Ii),pe.setSVGClass(Ii);var Oi="initialization",Ri="added",Ni="removed",Li="imperative",ji=function(e,t){var r=t.strokeUniform,n=t.strokeWidth,i=t.width,a=t.height,o=t.group,s=o&&o!==e?Dt(o.calcTransformMatrix(),e.calcTransformMatrix()):null,u=s?t.getRelativeCenterPoint().transform(s):t.getRelativeCenterPoint(),c=!t.isStrokeAccountedForInDimensions(),l=r&&c?Ut(new Se(n,n),void 0,e.calcTransformMatrix()):Ee,d=!r&&c?n:0,f=Mt(i+d,a+d,Fe([s,t.calcOwnMatrix()],!0)).add(l).scalarDivide(2);return[u.subtract(f),u.add(f)]},Mi=function(){function e(){m(this,e)}return g(e,[{key:"calcLayoutResult",value:function(e,t){if(this.shouldPerformLayout(e))return this.calcBoundingBox(t,e)}},{key:"shouldPerformLayout",value:function(e){var t=e.type,r=e.prevStrategy,n=e.strategy;return t===Oi||t===Li||!!r&&n!==r}},{key:"shouldLayoutClipPath",value:function(e){var t=e.type,r=e.target.clipPath;return t!==Oi&&r&&!r.absolutePositioned}},{key:"getInitialSize",value:function(e,t){return t.size}},{key:"calcBoundingBox",value:function(e,t){var r=t.type,n=t.target;if(r===Li&&t.overrides)return t.overrides;if(0!==e.length){var i=It(e.map((function(e){return ji(n,e)})).reduce((function(e,t){return e.concat(t)}),[])),a=i.left,o=i.top,s=i.width,u=i.height,c=new Se(s,u),l=new Se(a,o).add(c.scalarDivide(2));if(r===Oi){var d=this.getInitialSize(t,{size:c,center:l});return{center:l,relativeCorrection:new Se(0,0),size:d}}return{center:l.transform(n.calcOwnMatrix()),size:c}}}}]),e}();t(Mi,"type","strategy");var Di=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"shouldPerformLayout",value:function(e){return!0}}]),r}(Mi);t(Di,"type","fit-content"),pe.setClass(Di);var Fi=["strategy"],Ui=["target","strategy","bubbles","prevStrategy"],Bi="layoutManager",Gi=function(){function e(){m(this,e);var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Di;t(this,"strategy",void 0),this.strategy=r,this._subscriptions=new Map}return g(e,[{key:"performLayout",value:function(e){var t=y(y({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation:function(){this.bubbles=!1}});this.onBeforeLayout(t);var r=this.getLayoutResult(t);r&&this.commitLayout(t,r),this.onAfterLayout(t,r),this._prevLayoutStrategy=t.strategy}},{key:"attachHandlers",value:function(e,t){var r=this,n=t.target;return[de,K,ee,Z,J,$,ne,te,re].map((function(t){return e.on(t,(function(e){return r.performLayout(t===de?{type:"object_modified",trigger:t,e:e,target:n}:{type:"object_modifying",trigger:t,e:e,target:n})}))}))}},{key:"subscribe",value:function(e,t){this.unsubscribe(e,t);var r=this.attachHandlers(e,t);this._subscriptions.set(e,r)}},{key:"unsubscribe",value:function(e,t){(this._subscriptions.get(e)||[]).forEach((function(e){return e()})),this._subscriptions.delete(e)}},{key:"unsubscribeTargets",value:function(e){var t=this;e.targets.forEach((function(r){return t.unsubscribe(r,e)}))}},{key:"subscribeTargets",value:function(e){var t=this;e.targets.forEach((function(r){return t.subscribe(r,e)}))}},{key:"onBeforeLayout",value:function(e){var t=e.target,r=e.type,n=t.canvas;if(r===Oi||r===Ri?this.subscribeTargets(e):r===Ni&&this.unsubscribeTargets(e),t.fire("layout:before",{context:e}),n&&n.fire("object:layout:before",{target:t,context:e}),r===Li&&e.deep){var i=b(e,Fi);t.forEachObject((function(e){return e.layoutManager&&e.layoutManager.performLayout(y(y({},i),{},{bubbles:!1,target:e}))}))}}},{key:"getLayoutResult",value:function(e){var t=e.target,r=e.strategy,n=e.type,i=r.calcLayoutResult(e,t.getObjects());if(i){var a=n===Oi?new Se:t.getRelativeCenterPoint(),o=i.center,s=i.correction,u=void 0===s?new Se:s,c=i.relativeCorrection,l=void 0===c?new Se:c,d=a.subtract(o).add(u).transform(n===Oi?U:Me(t.calcOwnMatrix()),!0).add(l);return{result:i,prevCenter:a,nextCenter:o,offset:d}}}},{key:"commitLayout",value:function(e,t){var r,n,i=e.target,a=t.result.size,o=t.nextCenter;i.set({width:a.x,height:a.y}),this.layoutObjects(e,t),e.type===Oi?i.set({left:null!==(r=e.x)&&void 0!==r?r:o.x+a.x*Ht(i.originX),top:null!==(n=e.y)&&void 0!==n?n:o.y+a.y*Ht(i.originY)}):(i.setPositionByOrigin(o,V,V),i.setCoords(),i.set("dirty",!0))}},{key:"layoutObjects",value:function(e,t){var r=this,n=e.target;n.forEachObject((function(i){i.group===n&&r.layoutObject(e,t,i)})),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,t,n.clipPath)}},{key:"layoutObject",value:function(e,t,r){var n=t.offset;r.set({left:r.left+n.x,top:r.top+n.y})}},{key:"onAfterLayout",value:function(e,t){var r=e.target,n=(e.strategy,e.bubbles),i=(e.prevStrategy,b(e,Ui)),a=r.canvas;r.fire("layout:after",{context:e,result:t}),a&&a.fire("object:layout:after",{context:e,result:t,target:r});var o=r.parent;n&&null!=o&&o.layoutManager&&((i.path||(i.path=[])).push(r),o.layoutManager.performLayout(y(y({},i),{},{target:o}))),r.set("dirty",!0)}},{key:"dispose",value:function(){var e=this._subscriptions;e.forEach((function(e){return e.forEach((function(e){return e()}))})),e.clear()}},{key:"toObject",value:function(){return{type:Bi,strategy:this.strategy.constructor.type}}},{key:"toJSON",value:function(){return this.toObject()}}]),e}();pe.setClass(Gi,Bi);var Vi=["type","objects","layoutManager"],Hi=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"performLayout",value:function(){}}]),r}(Gi),Wi=function(e){p(n,e);var r=v(n);function n(){var e;m(this,n);var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=r.call(this),t(d(e),"_activeObjects",[]),t(d(e),"__objectSelectionTracker",void 0),t(d(e),"__objectSelectionDisposer",void 0),Object.assign(d(e),n.ownDefaults),e.setOptions(a),e.groupInit(i,a),e}return g(n,[{key:"groupInit",value:function(e,t){var r,n=this;this._objects=l(e),this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject((function(e){n.enterGroup(e,!1)})),this.layoutManager=null!==(r=t.layoutManager)&&void 0!==r?r:new Gi,this.layoutManager.performLayout({type:Oi,target:this,targets:l(e),x:t.left,y:t.top})}},{key:"canEnterGroup",value:function(e){return e===this||this.isDescendantOf(e)?(k("error","Group: circular object trees are not supported, this call has no effect"),!1):-1===this._objects.indexOf(e)||(k("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}},{key:"_filterObjectsBeforeEnteringGroup",value:function(e){var t=this;return e.filter((function(e,r,n){return t.canEnterGroup(e)&&n.indexOf(e)===r}))}},{key:"add",value:function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=this._filterObjectsBeforeEnteringGroup(r),o=(e=u(c(n.prototype),"add",this)).call.apply(e,[this].concat(l(a)));return this._onAfterObjectsChange(Ri,a),o}},{key:"insertAt",value:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o=this._filterObjectsBeforeEnteringGroup(i),s=(t=u(c(n.prototype),"insertAt",this)).call.apply(t,[this,e].concat(l(o)));return this._onAfterObjectsChange(Ri,o),s}},{key:"remove",value:function(){var e=u(c(n.prototype),"remove",this).apply(this,arguments);return this._onAfterObjectsChange(Ni,e),e}},{key:"_onObjectAdded",value:function(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}},{key:"_onObjectRemoved",value:function(e,t){this.exitGroup(e,t),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}},{key:"_onAfterObjectsChange",value:function(e,t){this.layoutManager.performLayout({type:e,targets:t,target:this})}},{key:"_onStackOrderChanged",value:function(){this._set("dirty",!0)}},{key:"_set",value:function(e,t){var r=this[e];return u(c(n.prototype),"_set",this).call(this,e,t),"canvas"===e&&r!==t&&(this._objects||[]).forEach((function(r){r._set(e,t)})),this}},{key:"_shouldSetNestedCoords",value:function(){return this.subTargetCheck}},{key:"removeAll",value:function(){return this._activeObjects=[],this.remove.apply(this,l(this._objects))}},{key:"__objectSelectionMonitor",value:function(e,t){var r=t.target,n=this._activeObjects;if(e)n.push(r),this._set("dirty",!0);else if(n.length>0){var i=n.indexOf(r);i>-1&&(n.splice(i,1),this._set("dirty",!0))}}},{key:"_watchObject",value:function(e,t){e&&this._watchObject(!1,t),e?(t.on("selected",this.__objectSelectionTracker),t.on("deselected",this.__objectSelectionDisposer)):(t.off("selected",this.__objectSelectionTracker),t.off("deselected",this.__objectSelectionDisposer))}},{key:"enterGroup",value:function(e,t){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,t)}},{key:"_enterGroup",value:function(e,t){t&&Nt(e,De(Me(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);var r=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();r&&(r===e||e.isDescendantOf(r))&&this._activeObjects.push(e)}},{key:"exitGroup",value:function(e,t){this._exitGroup(e,t),e._set("parent",void 0),e._set("canvas",void 0)}},{key:"_exitGroup",value:function(e,t){e._set("group",void 0),t||(Nt(e,De(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);var r=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;r>-1&&this._activeObjects.splice(r,1)}},{key:"shouldCache",value:function(){var e=Ln.prototype.shouldCache.call(this);if(e)for(var t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return this.ownCaching=!1,!1;return e}},{key:"willDrawShadow",value:function(){if(u(c(n.prototype),"willDrawShadow",this).call(this))return!0;for(var e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}},{key:"isOnACache",value:function(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}},{key:"drawObject",value:function(e){this._renderBackground(e);for(var t=0;t<this._objects.length;t++){var r;null!==(r=this.canvas)&&void 0!==r&&r.preserveObjectStacking&&this._objects[t].group!==this?(e.save(),e.transform.apply(e,l(Me(this.calcTransformMatrix()))),this._objects[t].render(e),e.restore()):this._objects[t].group===this&&this._objects[t].render(e)}this._drawClipPath(e,this.clipPath)}},{key:"setCoords",value:function(){u(c(n.prototype),"setCoords",this).call(this),this._shouldSetNestedCoords()&&this.forEachObject((function(e){return e.setCoords()}))}},{key:"triggerLayout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.layoutManager.performLayout(y({target:this,type:Li},e))}},{key:"render",value:function(e){this._transformDone=!0,u(c(n.prototype),"render",this).call(this,e),this._transformDone=!1}},{key:"__serializeObjects",value:function(e,t){var r=this.includeDefaultValues;return this._objects.filter((function(e){return!e.excludeFromExport})).map((function(n){var i=n.includeDefaultValues;n.includeDefaultValues=r;var a=n[e||"toObject"](t);return n.includeDefaultValues=i,a}))}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.layoutManager.toObject();return y(y(y({},u(c(n.prototype),"toObject",this).call(this,["subTargetCheck","interactive"].concat(l(e)))),"fit-content"!==t.strategy||this.includeDefaultValues?{layoutManager:t}:{}),{},{objects:this.__serializeObjects("toObject",e)})}},{key:"toString",value:function(){return"#<Group: (".concat(this.complexity(),")>")}},{key:"dispose",value:function(){var e=this;this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject((function(t){e._watchObject(!1,t),t.dispose()})),u(c(n.prototype),"dispose",this).call(this)}},{key:"_createSVGBgRect",value:function(e){if(!this.backgroundColor)return"";var t=Ii.prototype._toSVG.call(this),r=t.indexOf("COMMON_PARTS");t[r]='for="group" ';var n=t.join("");return e?e(n):n}},{key:"_toSVG",value:function(e){var t=["<g ","COMMON_PARTS"," >\n"],r=this._createSVGBgRect(e);r&&t.push("\t\t",r);for(var n=0;n<this._objects.length;n++)t.push("\t\t",this._objects[n].toSVG(e));return t.push("</g>\n"),t}},{key:"getSvgStyles",value:function(){var e=void 0!==this.opacity&&1!==this.opacity?"opacity: ".concat(this.opacity,";"):"",t=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),t].join("")}},{key:"toClipPathSVG",value:function(e){var t=[],r=this._createSVGBgRect(e);r&&t.push("\t",r);for(var n=0;n<this._objects.length;n++)t.push("\t",this._objects[n].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}}],[{key:"getDefaults",value:function(){return y(y({},u(c(n),"getDefaults",this).call(this)),n.ownDefaults)}},{key:"fromObject",value:function(e,t){var r=this,n=(e.type,e.objects),i=void 0===n?[]:n,a=e.layoutManager,o=b(e,Vi);return Promise.all([Je(i,t),Ze(o,t)]).then((function(e){var t=f(e,2),n=t[0],i=t[1],s=new r(n,y(y(y({},o),i),{},{layoutManager:new Hi}));if(a){var u=pe.getClass(a.type),c=pe.getClass(a.strategy);s.layoutManager=new u(new c)}else s.layoutManager=new Gi;return s.layoutManager.subscribeTargets({type:Oi,target:s,targets:s.getObjects()}),s.setCoords(),s}))}}]),n}(we(Ln));t(Wi,"type","Group"),t(Wi,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),pe.setClass(Wi);var qi,zi=function(e,t){return Math.min(t.width/e.width,t.height/e.height)},Yi=function(e,t){return Math.max(t.width/e.width,t.height/e.height)},Xi="(".concat(rr,")"),Ki="(M) (?:".concat(Xi," ").concat(Xi," ?)+"),Ji="(L) (?:".concat(Xi," ").concat(Xi," ?)+"),Zi="(H) (?:".concat(Xi," ?)+"),Qi="(V) (?:".concat(Xi," ?)+"),$i=String.raw(qi||(qi=S(["(Z)s*"],["(Z)\\s*"]))),ea="(C) (?:".concat(Xi," ").concat(Xi," ").concat(Xi," ").concat(Xi," ").concat(Xi," ").concat(Xi," ?)+"),ta="(S) (?:".concat(Xi," ").concat(Xi," ").concat(Xi," ").concat(Xi," ?)+"),ra="(Q) (?:".concat(Xi," ").concat(Xi," ").concat(Xi," ").concat(Xi," ?)+"),na="(T) (?:".concat(Xi," ").concat(Xi," ?)+"),ia="(A) (?:".concat(Xi," ").concat(Xi," ").concat(Xi," ([01]) ?([01]) ").concat(Xi," ").concat(Xi," ?)+"),aa="(?:(?:".concat(Ki,")")+"|(?:".concat(Ji,")")+"|(?:".concat(Zi,")")+"|(?:".concat(Qi,")")+"|(?:".concat($i,")")+"|(?:".concat(ea,")")+"|(?:".concat(ta,")")+"|(?:".concat(ra,")")+"|(?:".concat(na,")")+"|(?:".concat(ia,"))"),oa={m:"l",M:"L"},sa=function(e,t,r,n,i,a,o,s,u,c,l){var d=ye(e),f=be(e),h=ye(t),p=be(t),v=r*i*h-n*a*p+o,g=n*i*h+r*a*p+s;return["C",c+u*(-r*i*f-n*a*d),l+u*(-n*i*f+r*a*d),v+u*(r*i*p+n*a*h),g+u*(n*i*p-r*a*h),v,g]},ua=function(e,t,r,n){var i=Math.atan2(t,e),a=Math.atan2(n,r);return a>=i?a-i:2*Math.PI-(i-a)};function ca(e,t,r,n,i,a,o,s){var u;if(w.cachesBoundsOfCurve&&(u=Array.prototype.slice.call(arguments).join(),N.boundsOfCurveCache[u]))return N.boundsOfCurveCache[u];for(var c=Math.sqrt,d=Math.abs,f=[],h=[[0,0],[0,0]],p=6*e-12*r+6*i,v=-3*e+9*r-9*i+3*o,g=3*r-3*e,m=0;m<2;++m)if(m>0&&(p=6*t-12*n+6*a,v=-3*t+9*n-9*a+3*s,g=3*n-3*t),d(v)<1e-12){if(d(p)<1e-12)continue;var y=-g/p;0<y&&y<1&&f.push(y)}else{var b=p*p-4*g*v;if(!(b<0)){var S=c(b),E=(-p+S)/(2*v);0<E&&E<1&&f.push(E);var x=(-p-S)/(2*v);0<x&&x<1&&f.push(x)}}for(var k=f.length,_=k,T=ha(e,t,r,n,i,a,o,s);k--;){var A=T(f[k]),C=A.x,P=A.y;h[0][k]=C,h[1][k]=P}h[0][_]=e,h[1][_]=t,h[0][_+1]=o,h[1][_+1]=s;var I=[new Se(Math.min.apply(Math,l(h[0])),Math.min.apply(Math,l(h[1]))),new Se(Math.max.apply(Math,l(h[0])),Math.max.apply(Math,l(h[1])))];return w.cachesBoundsOfCurve&&(N.boundsOfCurveCache[u]=I),I}var la=function(e,t,r){for(var n=f(r,8),i=(n[0],n[1]),a=n[2],o=n[3],s=n[4],u=n[5],c=function(e,t,r,n,i,a,o){if(0===r||0===n)return[];var s=0,u=0,c=0,l=Math.PI,d=o*F,f=be(d),h=ye(d),p=.5*(-h*e-f*t),v=.5*(-h*t+f*e),g=Math.pow(r,2),m=Math.pow(n,2),y=Math.pow(v,2),b=Math.pow(p,2),S=g*m-g*y-m*b,E=Math.abs(r),x=Math.abs(n);if(S<0){var w=Math.sqrt(1-S/(g*m));E*=w,x*=w}else c=(i===a?-1:1)*Math.sqrt(S/(g*y+m*b));var k=c*E*v/x,_=-c*x*p/E,T=h*k-f*_+.5*e,A=f*k+h*_+.5*t,C=ua(1,0,(p-k)/E,(v-_)/x),P=ua((p-k)/E,(v-_)/x,(-p-k)/E,(-v-_)/x);0===a&&P>0?P-=2*l:1===a&&P<0&&(P+=2*l);for(var I=Math.ceil(Math.abs(P/l*2)),O=[],R=P/I,N=8/3*Math.sin(R/4)*Math.sin(R/4)/Math.sin(R/2),L=C+R,j=0;j<I;j++)O[j]=sa(C,L,h,f,E,x,T,A,N,s,u),s=O[j][5],u=O[j][6],C=L,L+=R;return O}(n[6]-e,n[7]-t,i,a,s,u,o),l=0,d=c.length;l<d;l++)c[l][1]+=e,c[l][2]+=t,c[l][3]+=e,c[l][4]+=t,c[l][5]+=e,c[l][6]+=t;return c},da=function(e){var t,r,n=0,a=0,o=0,s=0,u=[],c=0,d=0,f=i(e);try{for(f.s();!(r=f.n()).done;){var h=r.value,p=l(h),v=void 0;switch(p[0]){case"l":p[1]+=n,p[2]+=a;case"L":v=["L",n=p[1],a=p[2]];break;case"h":p[1]+=n;case"H":v=["L",n=p[1],a];break;case"v":p[1]+=a;case"V":v=["L",n,a=p[1]];break;case"m":p[1]+=n,p[2]+=a;case"M":n=p[1],a=p[2],o=p[1],s=p[2],v=["M",n,a];break;case"c":p[1]+=n,p[2]+=a,p[3]+=n,p[4]+=a,p[5]+=n,p[6]+=a;case"C":c=p[3],d=p[4],n=p[5],a=p[6],v=["C",p[1],p[2],c,d,n,a];break;case"s":p[1]+=n,p[2]+=a,p[3]+=n,p[4]+=a;case"S":"C"===t?(c=2*n-c,d=2*a-d):(c=n,d=a),n=p[3],a=p[4],c=(v=["C",c,d,p[1],p[2],n,a])[3],d=v[4];break;case"q":p[1]+=n,p[2]+=a,p[3]+=n,p[4]+=a;case"Q":v=["Q",c=p[1],d=p[2],n=p[3],a=p[4]];break;case"t":p[1]+=n,p[2]+=a;case"T":"Q"===t?(c=2*n-c,d=2*a-d):(c=n,d=a),v=["Q",c,d,n=p[1],a=p[2]];break;case"a":p[6]+=n,p[7]+=a;case"A":la(n,a,p).forEach((function(e){return u.push(e)})),n=p[6],a=p[7];break;case"z":case"Z":n=o,a=s,v=["Z"]}v?(u.push(v),t=v[0]):t=""}}catch(g){f.e(g)}finally{f.f()}return u},fa=function(e,t,r,n){return Math.sqrt(Math.pow(r-e,2)+Math.pow(n-t,2))},ha=function(e,t,r,n,i,a,o,s){return function(u){var c=Math.pow(u,3),l=function(e){return 3*Math.pow(e,2)*(1-e)}(u),d=function(e){return 3*e*Math.pow(1-e,2)}(u),f=function(e){return Math.pow(1-e,3)}(u);return new Se(o*c+i*l+r*d+e*f,s*c+a*l+n*d+t*f)}},pa=function(e){return Math.pow(e,2)},va=function(e){return 2*e*(1-e)},ga=function(e){return Math.pow(1-e,2)},ma=function(e,t,r,n,i,a,o,s){return function(u){var c=pa(u),l=va(u),d=ga(u),f=3*(d*(r-e)+l*(i-r)+c*(o-i)),h=3*(d*(n-t)+l*(a-n)+c*(s-a));return Math.atan2(h,f)}},ya=function(e,t,r,n,i,a){return function(o){var s=pa(o),u=va(o),c=ga(o);return new Se(i*s+r*u+e*c,a*s+n*u+t*c)}},ba=function(e,t,r,n,i,a){return function(o){var s=1-o,u=2*(s*(r-e)+o*(i-r)),c=2*(s*(n-t)+o*(a-n));return Math.atan2(c,u)}},Sa=function(e,t,r){for(var n=new Se(t,r),i=0,a=1;a<=100;a+=1){var o=e(a/100);i+=fa(n.x,n.y,o.x,o.y),n=o}return i},Ea=function(e,t){for(var r,n=0,i=0,a={x:e.x,y:e.y},o=y({},a),s=.01,u=0,c=e.iterator,l=e.angleFinder;i<t&&s>1e-4;)o=c(n),u=n,(r=fa(a.x,a.y,o.x,o.y))+i>t?(n-=s,s/=2):(a=o,n+=s,i+=r);return y(y({},o),{},{angle:l(u)})},xa=function(e){var t,r,n,a=0,o=0,s=0,u=0,c=0,l=[],d=i(e);try{for(d.s();!(n=d.n()).done;){var f=n.value,h={x:o,y:s,command:f[0],length:0};switch(f[0]){case"M":(r=h).x=u=o=f[1],r.y=c=s=f[2];break;case"L":(r=h).length=fa(o,s,f[1],f[2]),o=f[1],s=f[2];break;case"C":t=ha(o,s,f[1],f[2],f[3],f[4],f[5],f[6]),(r=h).iterator=t,r.angleFinder=ma(o,s,f[1],f[2],f[3],f[4],f[5],f[6]),r.length=Sa(t,o,s),o=f[5],s=f[6];break;case"Q":t=ya(o,s,f[1],f[2],f[3],f[4]),(r=h).iterator=t,r.angleFinder=ba(o,s,f[1],f[2],f[3],f[4]),r.length=Sa(t,o,s),o=f[3],s=f[4];break;case"Z":(r=h).destX=u,r.destY=c,r.length=fa(o,s,u,c),o=u,s=c}a+=r.length,l.push(r)}}catch(p){d.e(p)}finally{d.f()}return l.push({length:a,x:o,y:s}),l},wa=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xa(e),n=0;t-r[n].length>0&&n<r.length-2;)t-=r[n].length,n++;var i=r[n],a=t/i.length,o=e[n];switch(i.command){case"M":return{x:i.x,y:i.y,angle:0};case"Z":return y(y({},new Se(i.x,i.y).lerp(new Se(i.destX,i.destY),a)),{},{angle:Math.atan2(i.destY-i.y,i.destX-i.x)});case"L":return y(y({},new Se(i.x,i.y).lerp(new Se(o[1],o[2]),a)),{},{angle:Math.atan2(o[2]-i.y,o[1]-i.x)});case"C":case"Q":return Ea(i,t)}},ka=new RegExp(aa,"gi"),_a=new RegExp(aa,"i"),Ta=function(e){e=si(e);var t,r=[],n=i(e.matchAll(ka));try{for(n.s();!(t=n.n()).done;){var a=f(t.value,1)[0],o=[],s=void 0;do{if(!(s=_a.exec(a)))break;var u=s.filter((function(e){return e}));u.shift();var c=u.map((function(e){var t=Number.parseFloat(e);return Number.isNaN(t)?e:t}));if(o.push(c),u.length<=1)break;u.shift(),a=a.replace(new RegExp("".concat(u.join(" ?")," ?$")),"")}while(s);o.reverse().forEach((function(e,t){var n=oa[e[0]];t>0&&("l"==n||"L"==n)&&(e[0]=n),r.push(e)}))}}catch(l){n.e(l)}finally{n.f()}return r},Aa=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Se(e[0]),i=new Se(e[1]),a=1,o=0,s=[],u=e.length,c=u>2;for(c&&(a=e[2].x<i.x?-1:e[2].x===i.x?0:1,o=e[2].y<i.y?-1:e[2].y===i.y?0:1),s.push(["M",n.x-a*r,n.y-o*r]),t=1;t<u;t++){if(!n.eq(i)){var l=n.midPointFrom(i);s.push(["Q",n.x,n.y,l.x,l.y])}n=e[t],t+1<e.length&&(i=e[t+1])}return c&&(a=n.x>e[t-2].x?1:n.x===e[t-2].x?0:-1,o=n.y>e[t-2].y?1:n.y===e[t-2].y?0:-1),s.push(["L",n.x+a*r,n.y+o*r]),s},Ca=function(e,t){return e.map((function(e){return e.map((function(e,r){return 0===r||void 0===t?e:st(e,t)})).join(" ")})).join(" ")};function Pa(e,t){var r=e.style;r&&t&&("string"==typeof t?r.cssText+=";"+t:Object.entries(t).forEach((function(e){var t=f(e,2),n=t[0],i=t[1];return r.setProperty(n,i)})))}var Ia=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};function Oa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onComplete||j,n=new(O().XMLHttpRequest),i=t.signal,a=function(){n.abort()},o=function(){i&&i.removeEventListener("abort",a),n.onerror=n.ontimeout=j};if(i&&i.aborted)throw new T("request");return i&&i.addEventListener("abort",a,{once:!0}),n.onreadystatechange=function(){4===n.readyState&&(o(),r(n),n.onreadystatechange=j)},n.onerror=n.ontimeout=o,n.open("get",e,!0),n.send(),n}var Ra=function(e,t){var r=e._findCenterFromElement();e.transformMatrix&&(function(e){if(e.transformMatrix){var t=Be(e.transformMatrix),r=t.scaleX,n=t.scaleY,i=t.angle,a=t.skewX;e.flipX=!1,e.flipY=!1,e.set(ae,r),e.set(oe,n),e.angle=i,e.skewX=a,e.skewY=0}}(e),r=r.transform(e.transformMatrix)),delete e.transformMatrix,t&&(e.scaleX*=t.scaleX,e.scaleY*=t.scaleY,e.cropX=t.cropX,e.cropY=t.cropY,r.x+=t.offsetLeft,r.y+=t.offsetTop,e.width=t.width,e.height=t.height),e.setPositionByOrigin(r,V,V)},Na=Object.freeze({__proto__:null,addTransformToObject:Rt,animate:Yr,animateColor:Xr,applyTransformToObject:Nt,calcAngleBetweenVectors:mr,calcDimensionsMatrix:Ye,calcPlaneChangeMatrix:Dt,calcVectorRotation:yr,cancelAnimFrame:Te,capValue:Ar,composeMatrix:Xe,copyCanvasElement:function(e){var t,r=Pe();return r.width=e.width,r.height=e.height,null===(t=r.getContext("2d"))||void 0===t||t.drawImage(e,0,0),r},cos:ye,createCanvasElement:Pe,createImage:Ie,createRotateMatrix:Ve,createScaleMatrix:He,createSkewXMatrix:qe,createSkewYMatrix:ze,createTranslateMatrix:Ge,createVector:vr,crossProduct:Er,degreesToRadians:Re,dotProduct:xr,ease:Mr,enlivenObjectEnlivables:Ze,enlivenObjects:Je,findScaleToCover:Yi,findScaleToFit:zi,getBoundsOfCurve:ca,getOrthonormalVector:Sr,getPathSegmentsInfo:xa,getPointOnPath:wa,getPointer:At,getRandomInt:Ia,getRegularPolygonPath:function(e,t){var r=2*Math.PI/e,n=-M;e%2==0&&(n+=r/2);for(var i=new Array(e+1),a=0;a<e;a++){var o=a*r+n,s=new Se(ye(o),be(o)).scalarMultiply(t),u=s.x,c=s.y;i[a]=[0===a?"M":"L",u,c]}return i[e]=["Z"],i},getSmoothPathFromPoints:Aa,getSvgAttributes:function(e){var t=["instantiated_by_use","style","id","class"];switch(e){case"linearGradient":return t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return t.concat(["offset","stop-color","stop-opacity"])}return t},getUnitVector:br,groupSVGElements:function(e,t){return e&&1===e.length?e[0]:new Wi(e,t)},hasStyleChanged:zn,invertTransform:Me,isBetweenVectors:wr,isIdentityMatrix:Le,isTouchEvent:Ct,isTransparent:jn,joinPath:Ca,loadImage:Ke,magnitude:gr,makeBoundingBoxFromPoints:It,makePathSimpler:da,matrixToSVG:lt,mergeClipPaths:function(e,t){var r,n=e,i=t;n.inverted&&!i.inverted&&(n=t,i=e),Bt(i,null===(r=i.group)||void 0===r?void 0:r.calcTransformMatrix(),n.calcTransformMatrix());var a=n.inverted&&i.inverted;return a&&(n.inverted=i.inverted=!1),new Wi([n],{clipPath:i,inverted:a})},multiplyTransformMatrices:De,multiplyTransformMatrixArray:Fe,parsePath:Ta,parsePreserveAspectRatioAttribute:ct,parseUnit:ut,pick:Qe,projectStrokeOnPoints:Bn,qrDecompose:Be,radiansToDegrees:Ne,removeFromArray:me,removeTransformFromObject:function(e,t){var r=Me(t),n=De(r,e.calcOwnMatrix());Nt(e,n)},removeTransformMatrixForSvgParsing:Ra,request:Oa,requestAnimFrame:_e,resetObjectTransform:Lt,rotatePoint:function(e,t,r){return e.rotate(r,t)},rotateVector:pr,saveObjectTransform:jt,sendObjectToPlane:Bt,sendPointToPlane:Ft,sendVectorToPlane:Ut,setStyle:Pa,sin:be,sizeAfterTransform:Mt,string:qn,stylesFromArray:Xn,stylesToArray:Yn,toDataURL:Oe,toFixed:st,transformPath:function(e,t,r){return r&&(t=De(t,[1,0,0,1,-r.x,-r.y])),e.map((function(e){for(var r=l(e),n=1;n<e.length-1;n+=2){var i=je({x:e[n],y:e[n+1]},t),a=i.x,o=i.y;r[n]=a,r[n+1]=o}return r}))},transformPoint:je}),La=function(e){p(n,e);var r=v(n);function n(e){var i;m(this,n);var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.allowTouchScrolling,s=void 0!==o&&o,u=a.containerClass,c=void 0===u?"":u;i=r.call(this,e),t(d(i),"upper",void 0),t(d(i),"container",void 0);var l=i.lower.el,f=i.createUpperCanvas();i.upper={el:f,ctx:f.getContext("2d")},i.applyCanvasStyle(l,{allowTouchScrolling:s}),i.applyCanvasStyle(f,{allowTouchScrolling:s,styles:{position:"absolute",left:"0",top:"0"}});var h=i.createContainerElement();return h.classList.add(c),l.parentNode&&l.parentNode.replaceChild(h,l),h.append(l,f),i.container=h,i}return g(n,[{key:"createUpperCanvas",value:function(){var e=this.lower.el,t=Pe();return t.className=e.className,t.classList.remove("lower-canvas"),t.classList.add("upper-canvas"),t.setAttribute("data-fabric","top"),t.style.cssText=e.style.cssText,t.setAttribute("draggable","true"),t}},{key:"createContainerElement",value:function(){var e=I().createElement("div");return e.setAttribute("data-fabric","wrapper"),Pa(e,{position:"relative"}),xt(e),e}},{key:"applyCanvasStyle",value:function(e,t){var r=t.styles,n=t.allowTouchScrolling;Pa(e,y(y({},r),{},{"touch-action":n?"manipulation":Y})),xt(e)}},{key:"setDimensions",value:function(e,t){u(c(n.prototype),"setDimensions",this).call(this,e,t);var r=this.upper,i=r.el,a=r.ctx;St(i,a,e,t)}},{key:"setCSSDimensions",value:function(e){u(c(n.prototype),"setCSSDimensions",this).call(this,e),Et(this.upper.el,e),Et(this.container,e)}},{key:"cleanupDOM",value:function(e){var t=this.container,r=this.lower.el,i=this.upper.el;u(c(n.prototype),"cleanupDOM",this).call(this,e),t.removeChild(i),t.removeChild(r),t.parentNode&&t.parentNode.replaceChild(r,t)}},{key:"dispose",value:function(){u(c(n.prototype),"dispose",this).call(this),P().dispose(this.upper.el),delete this.upper,delete this.container}}]),n}(wt),ja=function(e){p(n,e);var r=v(n);function n(){var e;return m(this,n),e=r.apply(this,arguments),t(d(e),"targets",[]),t(d(e),"_hoveredTargets",[]),t(d(e),"_objectsToRender",void 0),t(d(e),"_currentTransform",null),t(d(e),"_groupSelector",null),t(d(e),"contextTopDirty",!1),e}return g(n,[{key:"upperCanvasEl",get:function(){var e;return null===(e=this.elements.upper)||void 0===e?void 0:e.el}},{key:"contextTop",get:function(){var e;return null===(e=this.elements.upper)||void 0===e?void 0:e.ctx}},{key:"wrapperEl",get:function(){return this.elements.container}},{key:"initElements",value:function(e){this.elements=new La(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}},{key:"_onObjectAdded",value:function(e){this._objectsToRender=void 0,u(c(n.prototype),"_onObjectAdded",this).call(this,e)}},{key:"_onObjectRemoved",value:function(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),u(c(n.prototype),"_onObjectRemoved",this).call(this,e)}},{key:"_onStackOrderChanged",value:function(){this._objectsToRender=void 0,u(c(n.prototype),"_onStackOrderChanged",this).call(this)}},{key:"_chooseObjectsToRender",value:function(){var e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter((function(t){return!t.group&&t!==e})).concat(e):this._objects}},{key:"renderAll",value:function(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}},{key:"renderTopLayer",value:function(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}},{key:"renderTop",value:function(){var e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}},{key:"setTargetFindTolerance",value:function(e){e=Math.round(e),this.targetFindTolerance=e;var t=this.getRetinaScaling(),r=Math.ceil((2*e+1)*t);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=r,this.pixelFindContext.scale(t,t)}},{key:"isTargetTransparent",value:function(e,t,r){var n=this.targetFindTolerance,i=this.pixelFindContext;this.clearContext(i),i.save(),i.translate(-t+n,-r+n),i.transform.apply(i,l(this.viewportTransform));var a=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(i),e.selectionBackgroundColor=a,i.restore();var o=Math.round(n*this.getRetinaScaling());return jn(i,o,o,o)}},{key:"_isSelectionKeyPressed",value:function(e){var t=this.selectionKey;return!!t&&(Array.isArray(t)?!!t.find((function(t){return!!t&&!0===e[t]})):e[t])}},{key:"_shouldClearSelection",value:function(e,t){var r=this.getActiveObjects(),n=this._activeObject;return!!(!t||t&&n&&r.length>1&&-1===r.indexOf(t)&&n!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&n&&n!==t)}},{key:"_shouldCenterTransform",value:function(e,t,r){var n;if(e)return t===ie||t===ae||t===oe||t===ee?n=this.centeredScaling||e.centeredScaling:t===Q&&(n=this.centeredRotation||e.centeredRotation),n?!r:r}},{key:"_getOriginFromCorner",value:function(e,t){var r={x:e.originX,y:e.originY};return t?(["ml","tl","bl"].includes(t)?r.x=z:["mr","tr","br"].includes(t)&&(r.x=H),["tl","mt","tr"].includes(t)?r.y=q:["bl","mb","br"].includes(t)&&(r.y=W),r):r}},{key:"_setupCurrentTransform",value:function(e,t,r){var n,i=t.group?Ft(this.getScenePoint(e),void 0,t.group.calcTransformMatrix()):this.getScenePoint(e),a=t.getActiveControl()||{},o=a.key,s=void 0===o?"":o,u=a.control,c=r&&u?null===(n=u.getActionHandler(e,t,u))||void 0===n?void 0:n.bind(u):$t,l=function(e,t,r,n){if(!t||!e)return"drag";var i=n.controls[t];return i.getActionName(r,i,n)}(r,s,e,t),d=e[this.centeredKey],f=this._shouldCenterTransform(t,l,d)?{x:V,y:V}:this._getOriginFromCorner(t,s),h={target:t,action:l,actionHandler:c,actionPerformed:!1,corner:s,scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,offsetX:i.x-t.left,offsetY:i.y-t.top,originX:f.x,originY:f.y,ex:i.x,ey:i.y,lastX:i.x,lastY:i.y,theta:Re(t.angle),width:t.width,height:t.height,shiftKey:e.shiftKey,altKey:d,original:y(y({},jt(t)),{},{originX:f.x,originY:f.y})};this._currentTransform=h,this.fire("before:transform",{e:e,transform:h})}},{key:"setCursor",value:function(e){this.upperCanvasEl.style.cursor=e}},{key:"_drawSelection",value:function(e){var t=this._groupSelector,r=t.x,n=t.y,i=t.deltaX,a=t.deltaY,o=new Se(r,n).transform(this.viewportTransform),s=new Se(r+i,n+a).transform(this.viewportTransform),u=this.selectionLineWidth/2,c=Math.min(o.x,s.x),l=Math.min(o.y,s.y),d=Math.max(o.x,s.x),f=Math.max(o.y,s.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(c,l,d-c,f-l)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,c+=u,l+=u,d-=u,f-=u,Ln.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(c,l,d-c,f-l))}},{key:"findTarget",value:function(e){if(!this.skipTargetFind){var t=this.getViewportPoint(e),r=this._activeObject,n=this.getActiveObjects();if(this.targets=[],r&&n.length>=1){if(r.findControl(t,Ct(e)))return r;if(n.length>1&&this.searchPossibleTargets([r],t))return r;if(r===this.searchPossibleTargets([r],t)){if(this.preserveObjectStacking){var i=this.targets;this.targets=[];var a=this.searchPossibleTargets(this._objects,t);return e[this.altSelectionKey]&&a&&a!==r?(this.targets=i,r):a}return r}}return this.searchPossibleTargets(this._objects,t)}}},{key:"_pointIsInObjectSelectionArea",value:function(e,t){var r=e.getCoords(),n=this.getZoom(),i=e.padding/n;if(i){var a=f(r,4),o=a[0],s=a[1],u=a[2],c=a[3],l=Math.atan2(s.y-o.y,s.x-o.x),d=ye(l)*i,h=be(l)*i,p=d+h,v=d-h;r=[new Se(o.x-v,o.y-p),new Se(s.x+p,s.y-v),new Se(u.x+v,u.y+p),new Se(c.x-p,c.y+v)]}return Kr.isPointInPolygon(t,r)}},{key:"_checkTarget",value:function(e,t){if(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,Ft(t,void 0,this.viewportTransform))){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;if(!this.isTargetTransparent(e,t.x,t.y))return!0}return!1}},{key:"_searchPossibleTargets",value:function(e,t){for(var r=e.length;r--;){var n=e[r];if(this._checkTarget(n,t)){if(xe(n)&&n.subTargetCheck){var i=this._searchPossibleTargets(n._objects,t);i&&this.targets.push(i)}return n}}}},{key:"searchPossibleTargets",value:function(e,t){var r=this._searchPossibleTargets(e,t);if(r&&xe(r)&&r.interactive&&this.targets[0]){for(var n=this.targets,i=n.length-1;i>0;i--){var a=n[i];if(!xe(a)||!a.interactive)return a}return n[0]}return r}},{key:"getViewportPoint",value:function(e){return this._pointer?this._pointer:this.getPointer(e,!0)}},{key:"getScenePoint",value:function(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}},{key:"getPointer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.upperCanvasEl,n=r.getBoundingClientRect(),i=At(e),a=n.width||0,o=n.height||0;a&&o||(W in n&&q in n&&(o=Math.abs(n.top-n.bottom)),z in n&&H in n&&(a=Math.abs(n.right-n.left))),this.calcOffset(),i.x=i.x-this._offset.left,i.y=i.y-this._offset.top,t||(i=Ft(i,void 0,this.viewportTransform));var s=this.getRetinaScaling();1!==s&&(i.x/=s,i.y/=s);var u=0===a||0===o?new Se(1,1):new Se(r.width/a,r.height/o);return i.multiply(u)}},{key:"_setDimensionsImpl",value:function(e,t){this._resetTransformEventData(),u(c(n.prototype),"_setDimensionsImpl",this).call(this,e,t),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}},{key:"_createCacheCanvas",value:function(){this.pixelFindCanvasEl=Pe(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}},{key:"getTopContext",value:function(){return this.elements.upper.ctx}},{key:"getSelectionContext",value:function(){return this.elements.upper.ctx}},{key:"getSelectionElement",value:function(){return this.elements.upper.el}},{key:"getActiveObject",value:function(){return this._activeObject}},{key:"getActiveObjects",value:function(){var e=this._activeObject;return gt(e)?e.getObjects():e?[e]:[]}},{key:"_fireSelectionEvents",value:function(e,t){var r=!1,n=!1,i=this.getActiveObjects(),a=[],o=[];e.forEach((function(e){i.includes(e)||(r=!0,e.fire("deselected",{e:t,target:e}),o.push(e))})),i.forEach((function(n){e.includes(n)||(r=!0,n.fire("selected",{e:t,target:n}),a.push(n))})),e.length>0&&i.length>0?(n=!0,r&&this.fire("selection:updated",{e:t,selected:a,deselected:o})):i.length>0?(n=!0,this.fire("selection:created",{e:t,selected:a})):e.length>0&&(n=!0,this.fire("selection:cleared",{e:t,deselected:o})),n&&(this._objectsToRender=void 0)}},{key:"setActiveObject",value:function(e,t){var r=this.getActiveObjects(),n=this._setActiveObject(e,t);return this._fireSelectionEvents(r,t),n}},{key:"_setActiveObject",value:function(e,t){var r=this._activeObject;return r!==e&&!(!this._discardActiveObject(t,e)&&this._activeObject)&&!e.onSelect({e:t})&&(this._activeObject=e,gt(e)&&r!==e&&e.set("canvas",this),e.setCoords(),!0)}},{key:"_discardActiveObject",value:function(e,t){var r=this._activeObject;return!!r&&!r.onDeselect({e:e,object:t})&&(this._currentTransform&&this._currentTransform.target===r&&this.endCurrentTransform(e),gt(r)&&r===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}},{key:"discardActiveObject",value:function(e){var t=this.getActiveObjects(),r=this.getActiveObject();t.length&&this.fire("before:selection:cleared",{e:e,deselected:[r]});var n=this._discardActiveObject(e);return this._fireSelectionEvents(t,e),n}},{key:"endCurrentTransform",value:function(e){var t=this._currentTransform;this._finalizeCurrentTransform(e),t&&t.target&&(t.target.isMoving=!1),this._currentTransform=null}},{key:"_finalizeCurrentTransform",value:function(e){var t=this._currentTransform,r=t.target,n={e:e,target:r,transform:t,action:t.action};r._scaling&&(r._scaling=!1),r.setCoords(),t.actionPerformed&&(this.fire("object:modified",n),r.fire(de,n))}},{key:"setViewportTransform",value:function(e){u(c(n.prototype),"setViewportTransform",this).call(this,e);var t=this._activeObject;t&&t.setCoords()}},{key:"destroy",value:function(){var e=this._activeObject;gt(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,u(c(n.prototype),"destroy",this).call(this),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}},{key:"clear",value:function(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),u(c(n.prototype),"clear",this).call(this)}},{key:"drawControls",value:function(e){var t=this._activeObject;t&&t._renderControls(e)}},{key:"_toObject",value:function(e,t,r){var i=this._realizeGroupTransformOnObject(e),a=u(c(n.prototype),"_toObject",this).call(this,e,t,r);return e.set(i),a}},{key:"_realizeGroupTransformOnObject",value:function(e){var t=e.group;if(t&&gt(t)&&this._activeObject===t){var r=Qe(e,["angle","flipX","flipY",H,ae,oe,se,ue,W]);return Rt(e,t.calcOwnMatrix()),r}return{}}},{key:"_setSVGObject",value:function(e,t,r){var i=this._realizeGroupTransformOnObject(t);u(c(n.prototype),"_setSVGObject",this).call(this,e,t,r),t.set(i)}}],[{key:"getDefaults",value:function(){return y(y({},u(c(n),"getDefaults",this).call(this)),n.ownDefaults)}}]),n}(_t);t(ja,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});var Ma=function(){function e(r){m(this,e),t(this,"targets",[]),t(this,"__disposer",void 0);var n=function(){var e=(r.getActiveObject()||{}).hiddenTextarea;e&&e.focus()},i=r.upperCanvasEl;i.addEventListener("click",n),this.__disposer=function(){return i.removeEventListener("click",n)}}return g(e,[{key:"exitTextEditing",value:function(){this.target=void 0,this.targets.forEach((function(e){e.isEditing&&e.exitEditing()}))}},{key:"add",value:function(e){this.targets.push(e)}},{key:"remove",value:function(e){this.unregister(e),me(this.targets,e)}},{key:"register",value:function(e){this.target=e}},{key:"unregister",value:function(e){e===this.target&&(this.target=void 0)}},{key:"onMouseMove",value:function(e){var t;(null===(t=this.target)||void 0===t?void 0:t.isEditing)&&this.target.updateSelectionOnMouseMove(e)}},{key:"clear",value:function(){this.targets=[],this.target=void 0}},{key:"dispose",value:function(){this.clear(),this.__disposer(),delete this.__disposer}}]),e}(),Da=["target","oldTarget","fireCanvas","e"],Fa={passive:!1},Ua=function(e,t){var r=e.getViewportPoint(t),n=e.getScenePoint(t);return{viewportPoint:r,scenePoint:n,pointer:r,absolutePointer:n}},Ba=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.addEventListener.apply(e,r)},Ga=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.removeEventListener.apply(e,r)},Va={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}},Ha=function(e){p(n,e);var r=v(n);function n(e){var i;return m(this,n),i=r.call(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),t(d(i),"_isClick",void 0),t(d(i),"textEditingManager",new Ma(d(i))),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach((function(e){i[e]=i[e].bind(d(i))})),i.addOrRemove(Ba,"add"),i}return g(n,[{key:"_getEventPrefix",value:function(){return this.enablePointerEvents?"pointer":"mouse"}},{key:"addOrRemove",value:function(e,t){var r=this.upperCanvasEl,n=this._getEventPrefix();e(bt(r),"resize",this._onResize),e(r,n+"down",this._onMouseDown),e(r,"".concat(n,"move"),this._onMouseMove,Fa),e(r,"".concat(n,"out"),this._onMouseOut),e(r,"".concat(n,"enter"),this._onMouseEnter),e(r,"wheel",this._onMouseWheel),e(r,"contextmenu",this._onContextMenu),e(r,"dblclick",this._onDoubleClick),e(r,"dragstart",this._onDragStart),e(r,"dragend",this._onDragEnd),e(r,"dragover",this._onDragOver),e(r,"dragenter",this._onDragEnter),e(r,"dragleave",this._onDragLeave),e(r,"drop",this._onDrop),this.enablePointerEvents||e(r,"touchstart",this._onTouchStart,Fa)}},{key:"removeListeners",value:function(){this.addOrRemove(Ga,"remove");var e=this._getEventPrefix(),t=yt(this.upperCanvasEl);Ga(t,"".concat(e,"up"),this._onMouseUp),Ga(t,"touchend",this._onTouchEnd,Fa),Ga(t,"".concat(e,"move"),this._onMouseMove,Fa),Ga(t,"touchmove",this._onMouseMove,Fa)}},{key:"_onMouseWheel",value:function(e){this.__onMouseWheel(e)}},{key:"_onMouseOut",value:function(e){var t=this,r=this._hoveredTarget,n=y({e:e},Ua(this,e));this.fire("mouse:out",y(y({},n),{},{target:r})),this._hoveredTarget=void 0,r&&r.fire("mouseout",y({},n)),this._hoveredTargets.forEach((function(e){t.fire("mouse:out",y(y({},n),{},{target:e})),e&&e.fire("mouseout",y({},n))})),this._hoveredTargets=[]}},{key:"_onMouseEnter",value:function(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",y({e:e},Ua(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}},{key:"_onDragStart",value:function(e){this._isClick=!1;var t=this.getActiveObject();if(t&&t.onDragStart(e)){this._dragSource=t;var r={e:e,target:t};return this.fire("dragstart",r),t.fire("dragstart",r),void Ba(this.upperCanvasEl,"drag",this._onDragProgress)}Pt(e)}},{key:"_renderDragEffects",value:function(e,t,r){var n=!1,i=this._dropTarget;i&&i!==t&&i!==r&&(i.clearContextTop(),n=!0),null==t||t.clearContextTop(),r!==t&&(null==r||r.clearContextTop());var a=this.contextTop;a.save(),a.transform.apply(a,l(this.viewportTransform)),t&&(a.save(),t.transform(a),t.renderDragSourceEffect(e),a.restore(),n=!0),r&&(a.save(),r.transform(a),r.renderDropTargetEffect(e),a.restore(),n=!0),a.restore(),n&&(this.contextTopDirty=!0)}},{key:"_onDragEnd",value:function(e){var t=!!e.dataTransfer&&e.dataTransfer.dropEffect!==Y,r=t?this._activeObject:void 0,n={e:e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:t,dropTarget:r};Ga(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",n),this._dragSource&&this._dragSource.fire("dragend",n),delete this._dragSource,this._onMouseUp(e)}},{key:"_onDragProgress",value:function(e){var t={e:e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",t),this._dragSource&&this._dragSource.fire("drag",t)}},{key:"findDragTargets",value:function(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:l(this.targets)}}},{key:"_onDragOver",value:function(e){var t,r="dragover",n=this.findDragTargets(e),i=n.target,a=n.targets,o=this._dragSource,s={e:e,target:i,subTargets:a,dragSource:o,canDrop:!1,dropTarget:void 0};this.fire(r,s),this._fireEnterLeaveEvents(i,s),i&&(i.canDrop(e)&&(t=i),i.fire(r,s));for(var u=0;u<a.length;u++){var c=a[u];c.canDrop(e)&&(t=c),c.fire(r,s)}this._renderDragEffects(e,o,t),this._dropTarget=t}},{key:"_onDragEnter",value:function(e){var t=this.findDragTargets(e),r=t.target,n={e:e,target:r,subTargets:t.targets,dragSource:this._dragSource};this.fire("dragenter",n),this._fireEnterLeaveEvents(r,n)}},{key:"_onDragLeave",value:function(e){var t={e:e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",t),this._fireEnterLeaveEvents(void 0,t),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}},{key:"_onDrop",value:function(e){var t=this.findDragTargets(e),r=t.target,n=t.targets,i=this._basicEventHandler("drop:before",y({e:e,target:r,subTargets:n,dragSource:this._dragSource},Ua(this,e)));i.didDrop=!1,i.dropTarget=void 0,this._basicEventHandler("drop",i),this.fire("drop:after",i)}},{key:"_onContextMenu",value:function(e){var t=this.findTarget(e),r=this.targets||[],n=this._basicEventHandler("contextmenu:before",{e:e,target:t,subTargets:r});return this.stopContextMenu&&Pt(e),this._basicEventHandler("contextmenu",n),!1}},{key:"_onDoubleClick",value:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"dblclick"),this._resetTransformEventData()}},{key:"getPointerId",value:function(e){var t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1}},{key:"_isMainEvent",value:function(e){return!0===e.isPrimary||!1!==e.isPrimary&&("touchend"===e.type&&0===e.touches.length||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}},{key:"_onTouchStart",value:function(e){e.preventDefault(),void 0===this.mainTouchId&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),this._resetTransformEventData();var t=this.upperCanvasEl,r=this._getEventPrefix(),n=yt(t);Ba(n,"touchend",this._onTouchEnd,Fa),Ba(n,"touchmove",this._onMouseMove,Fa),Ga(t,"".concat(r,"down"),this._onMouseDown)}},{key:"_onMouseDown",value:function(e){this.__onMouseDown(e),this._resetTransformEventData();var t=this.upperCanvasEl,r=this._getEventPrefix();Ga(t,"".concat(r,"move"),this._onMouseMove,Fa);var n=yt(t);Ba(n,"".concat(r,"up"),this._onMouseUp),Ba(n,"".concat(r,"move"),this._onMouseMove,Fa)}},{key:"_onTouchEnd",value:function(e){var t=this;if(!(e.touches.length>0)){this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;var r=this._getEventPrefix(),n=yt(this.upperCanvasEl);Ga(n,"touchend",this._onTouchEnd,Fa),Ga(n,"touchmove",this._onMouseMove,Fa),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){Ba(t.upperCanvasEl,"".concat(r,"down"),t._onMouseDown),t._willAddMouseDown=0}),400)}}},{key:"_onMouseUp",value:function(e){this.__onMouseUp(e),this._resetTransformEventData();var t=this.upperCanvasEl,r=this._getEventPrefix();if(this._isMainEvent(e)){var n=yt(this.upperCanvasEl);Ga(n,"".concat(r,"up"),this._onMouseUp),Ga(n,"".concat(r,"move"),this._onMouseMove,Fa),Ba(t,"".concat(r,"move"),this._onMouseMove,Fa)}}},{key:"_onMouseMove",value:function(e){var t=this.getActiveObject();!this.allowTouchScrolling&&(!t||!t.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}},{key:"_onResize",value:function(){this.calcOffset(),this._resetTransformEventData()}},{key:"_shouldRender",value:function(e){var t=this.getActiveObject();return!!t!=!!e||t&&e&&t!==e}},{key:"__onMouseUp",value:function(e){var t;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");var r=this._currentTransform,n=this._isClick,i=this._target,a=e.button;if(a)return(this.fireMiddleClick&&1===a||this.fireRightClick&&2===a)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(e);else if(this._isMainEvent(e)){var o,s,u=!1;if(r&&(this._finalizeCurrentTransform(e),u=r.actionPerformed),!n){var c=i===this._activeObject;this.handleSelection(e),u||(u=this._shouldRender(i)||!c&&i===this._activeObject)}if(i){var l=i.findControl(this.getViewportPoint(e),Ct(e))||{},d=l.key,f=l.control;if(s=d,i.selectable&&i!==this._activeObject&&"up"===i.activeOn)this.setActiveObject(i,e),u=!0;else if(f){var h=f.getMouseUpHandler(e,i,f);h&&(o=this.getScenePoint(e),h.call(f,e,r,o.x,o.y))}i.isMoving=!1}if(r&&(r.target!==i||r.corner!==s)){var p=r.target&&r.target.controls[r.corner],v=p&&p.getMouseUpHandler(e,r.target,p);o=o||this.getScenePoint(e),v&&v.call(p,e,r,o.x,o.y)}this._setCursorFromEvent(e,i),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,i&&(i.__corner=void 0),u?this.requestRenderAll():n||null!==(t=this._activeObject)&&void 0!==t&&t.isEditing||this.renderTop()}}},{key:"_basicEventHandler",value:function(e,t){var r=t.target,n=t.subTargets,i=void 0===n?[]:n;this.fire(e,t),r&&r.fire(e,t);for(var a=0;a<i.length;a++)i[a]!==r&&i[a].fire(e,t);return t}},{key:"_handleEvent",value:function(e,t){var r=this._target,n=this.targets||[],i=y(y({e:e,target:r,subTargets:n},Ua(this,e)),{},{transform:this._currentTransform},"up:before"===t||"up"===t?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(t),i),r&&r.fire("mouse".concat(t),i);for(var a=0;a<n.length;a++)n[a]!==r&&n[a].fire("mouse".concat(t),i)}},{key:"_onMouseDownInDrawingMode",value:function(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());var t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(t,{e:e,pointer:t}),this._handleEvent(e,"down")}},{key:"_onMouseMoveInDrawingMode",value:function(e){if(this._isCurrentlyDrawing){var t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(t,{e:e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}},{key:"_onMouseUpInDrawingMode",value:function(e){var t=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:e,pointer:t}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}},{key:"__onMouseDown",value:function(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");var t=this._target,r=e.button;if(r)return(this.fireMiddleClick&&1===r||this.fireRightClick&&2===r)&&this._handleEvent(e,"down"),void this._resetTransformEventData();if(this.isDrawingMode)this._onMouseDownInDrawingMode(e);else if(this._isMainEvent(e)&&!this._currentTransform){var n=this._shouldRender(t),i=!1;if(this.handleMultiSelection(e,t)?(t=this._activeObject,i=!0,n=!0):this._shouldClearSelection(e,t)&&this.discardActiveObject(e),this.selection&&(!t||!t.selectable&&!t.isEditing&&t!==this._activeObject)){var a=this.getScenePoint(e);this._groupSelector={x:a.x,y:a.y,deltaY:0,deltaX:0}}if(t){var o=t===this._activeObject;t.selectable&&"down"===t.activeOn&&this.setActiveObject(t,e);var s=t.findControl(this.getViewportPoint(e),Ct(e));if(t===this._activeObject&&(s||!i)){this._setupCurrentTransform(e,t,o);var u=s?s.control:void 0,c=this.getScenePoint(e),l=u&&u.getMouseDownHandler(e,t,u);l&&l.call(u,e,this._currentTransform,c.x,c.y)}}n&&(this._objectsToRender=void 0),this._handleEvent(e,"down"),n&&this.requestRenderAll()}}},{key:"_resetTransformEventData",value:function(){this._target=void 0,this._pointer=void 0,this._absolutePointer=void 0}},{key:"_cacheTransformEventData",value:function(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=Ft(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}},{key:"__onMouseMove",value:function(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)this._onMouseMoveInDrawingMode(e);else if(this._isMainEvent(e)){var t=this._groupSelector;if(t){var r=this.getScenePoint(e);t.deltaX=r.x-t.x,t.deltaY=r.y-t.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{var n=this.findTarget(e);this._setCursorFromEvent(e,n),this._fireOverOutEvents(e,n)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}}},{key:"_fireOverOutEvents",value:function(e,t){var r=this._hoveredTarget,n=this._hoveredTargets,i=this.targets,a=Math.max(n.length,i.length);this.fireSyntheticInOutEvents("mouse",{e:e,target:t,oldTarget:r,fireCanvas:!0});for(var o=0;o<a;o++)this.fireSyntheticInOutEvents("mouse",{e:e,target:i[o],oldTarget:n[o]});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()}},{key:"_fireEnterLeaveEvents",value:function(e,t){var r=this._draggedoverTarget,n=this._hoveredTargets,i=this.targets,a=Math.max(n.length,i.length);this.fireSyntheticInOutEvents("drag",y(y({},t),{},{target:e,oldTarget:r,fireCanvas:!0}));for(var o=0;o<a;o++)this.fireSyntheticInOutEvents("drag",y(y({},t),{},{target:i[o],oldTarget:n[o]}));this._draggedoverTarget=e}},{key:"fireSyntheticInOutEvents",value:function(e,t){var r=t.target,n=t.oldTarget,i=t.fireCanvas,a=t.e,o=b(t,Da),s=Va[e],u=s.targetIn,c=s.targetOut,l=s.canvasIn,d=s.canvasOut,f=n!==r;if(n&&f){var h=y(y({},o),{},{e:a,target:n,nextTarget:r},Ua(this,a));i&&this.fire(d,h),n.fire(c,h)}if(r&&f){var p=y(y({},o),{},{e:a,target:r,previousTarget:n},Ua(this,a));i&&this.fire(l,p),r.fire(u,p)}}},{key:"__onMouseWheel",value:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}},{key:"_transformObject",value:function(e){var t=this.getScenePoint(e),r=this._currentTransform,n=r.target,i=n.group?Ft(t,void 0,n.group.calcTransformMatrix()):t;r.shiftKey=e.shiftKey,r.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,r,i),r.actionPerformed&&this.requestRenderAll()}},{key:"_performTransformAction",value:function(e,t,r){var n=t.action,i=t.actionHandler,a=t.target,o=!!i&&i(e,t,r.x,r.y);o&&a.setCoords(),"drag"===n&&o&&(t.target.isMoving=!0,this.setCursor(t.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||o}},{key:"_setCursorFromEvent",value:function(e,t){if(t){var r=t.hoverCursor||this.hoverCursor,n=gt(this._activeObject)?this._activeObject:null,i=(!n||t.group!==n)&&t.findControl(this.getViewportPoint(e));if(i){var a=i.control;this.setCursor(a.cursorStyleHandler(e,a,t))}else t.subTargetCheck&&this.targets.concat().reverse().map((function(e){r=e.hoverCursor||r})),this.setCursor(r)}else this.setCursor(this.defaultCursor)}},{key:"handleMultiSelection",value:function(e,t){var r=this._activeObject,n=gt(r);if(r&&this._isSelectionKeyPressed(e)&&this.selection&&t&&t.selectable&&(r!==t||n)&&(n||!t.isDescendantOf(r)&&!r.isDescendantOf(t))&&!t.onSelect({e:e})&&!r.getActiveControl()){if(n){var i=r.getObjects();if(t===r){var a=this.getViewportPoint(e);if(!(t=this.searchPossibleTargets(i,a)||this.searchPossibleTargets(this._objects,a))||!t.selectable)return!1}t.group===r?(r.remove(t),this._hoveredTarget=t,this._hoveredTargets=l(this.targets),1===r.size()&&this._setActiveObject(r.item(0),e)):(r.multiSelectAdd(t),this._hoveredTarget=r,this._hoveredTargets=l(this.targets)),this._fireSelectionEvents(i,e)}else{r.exitEditing&&r.exitEditing();var o=new(pe.getClass("ActiveSelection"))([],{canvas:this});o.multiSelectAdd(r,t),this._hoveredTarget=o,this._setActiveObject(o,e),this._fireSelectionEvents([r],e)}return!0}return!1}},{key:"handleSelection",value:function(e){if(!this.selection||!this._groupSelector)return!1;var t=this._groupSelector,r=t.x,n=t.y,i=t.deltaX,a=t.deltaY,o=new Se(r,n),s=o.add(new Se(i,a)),u=o.min(s),c=o.max(s).subtract(u),l=this.collectObjects({left:u.x,top:u.y,width:c.x,height:c.y},{includeIntersecting:!this.selectionFullyContained}),d=o.eq(s)?l[0]?[l[0]]:[]:l.length>1?l.filter((function(t){return!t.onSelect({e:e})})).reverse():l;if(1===d.length)this.setActiveObject(d[0],e);else if(d.length>1){var f=pe.getClass("ActiveSelection");this.setActiveObject(new f(d,{canvas:this}),e)}return this._groupSelector=null,!0}},{key:"clear",value:function(){this.textEditingManager.clear(),u(c(n.prototype),"clear",this).call(this)}},{key:"destroy",value:function(){this.removeListeners(),this.textEditingManager.dispose(),u(c(n.prototype),"destroy",this).call(this)}}]),n}(ja),Wa={x1:0,y1:0,x2:0,y2:0},qa=y(y({},Wa),{},{r1:0,r2:0}),za=function(e,t){return isNaN(e)&&"number"==typeof t?t:e},Ya=/^(\d+\.\d+)%|(\d+)%$/;function Xa(e){return e&&Ya.test(e)}function Ka(e,t){var r="number"==typeof e?e:"string"==typeof e?parseFloat(e)/(Xa(e)?100:1):NaN;return Ar(0,za(r,t),1)}var Ja=/\s*;\s*/,Za=/\s*:\s*/;function Qa(e,t){var r,n,i=e.getAttribute("style");if(i){var a=i.split(Ja);""===a[a.length-1]&&a.pop();for(var o=a.length;o--;){var s=a[o].split(Za).map((function(e){return e.trim()})),u=f(s,2),c=u[0],l=u[1];"stop-color"===c?r=l:"stop-opacity"===c&&(n=l)}}var d=new ot(r||e.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:Ka(e.getAttribute("offset"),0),color:d.toRgb(),opacity:za(parseFloat(n||e.getAttribute("stop-opacity")||""),1)*d.getAlpha()*t}}function $a(e,t){for(var r=[],n=e.getElementsByTagName("stop"),i=Ka(t,1),a=n.length;a--;)r.push(Qa(n[a],i));return r}function eo(e){return"linearGradient"===e.nodeName||"LINEARGRADIENT"===e.nodeName?"linear":"radial"}function to(e){return"userSpaceOnUse"===e.getAttribute("gradientUnits")?"pixels":"percentage"}function ro(e,t){return e.getAttribute(t)}function no(e,t){return function(e,t){var r,n=t.width,i=t.height,a=t.gradientUnits;return Object.keys(e).reduce((function(t,o){var s=e[o];return"Infinity"===s?r=1:"-Infinity"===s?r=0:(r="string"==typeof s?parseFloat(s):s,"string"==typeof s&&Xa(s)&&(r*=.01,"pixels"===a&&("x1"!==o&&"x2"!==o&&"r2"!==o||(r*=n),"y1"!==o&&"y2"!==o||(r*=i)))),t[o]=r,t}),{})}("linear"===eo(e)?function(e){return{x1:ro(e,"x1")||0,y1:ro(e,"y1")||0,x2:ro(e,"x2")||"100%",y2:ro(e,"y2")||0}}(e):function(e){return{x1:ro(e,"fx")||ro(e,"cx")||"50%",y1:ro(e,"fy")||ro(e,"cy")||"50%",r1:0,x2:ro(e,"cx")||"50%",y2:ro(e,"cy")||"50%",r2:ro(e,"r")||"50%"}}(e),y(y({},t),{},{gradientUnits:to(e)}))}var io=function(){function e(t){m(this,e);var r=t||{},n=r.type,i=void 0===n?"linear":n,a=r.gradientUnits,o=void 0===a?"pixels":a,s=r.coords,u=void 0===s?{}:s,c=r.colorStops,l=void 0===c?[]:c,d=r.offsetX,f=void 0===d?0:d,h=r.offsetY,p=void 0===h?0:h,v=r.gradientTransform,g=r.id;Object.assign(this,{type:i,gradientUnits:o,coords:y(y({},"radial"===i?qa:Wa),u),colorStops:l,offsetX:f,offsetY:p,gradientTransform:v,id:g?"".concat(g,"_").concat(Ce()):Ce()})}return g(e,[{key:"addColorStop",value:function(e){for(var t in e){var r=new ot(e[t]);this.colorStops.push({offset:parseFloat(t),color:r.toRgb(),opacity:r.getAlpha()})}return this}},{key:"toObject",value:function(e){return y(y({},Qe(this,e)),{},{type:this.type,coords:y({},this.coords),colorStops:this.colorStops.map((function(e){return y({},e)})),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?l(this.gradientTransform):void 0})}},{key:"toSVG",value:function(e){var t,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).additionalTransform,n=[],i=this.gradientTransform?this.gradientTransform.concat():U.concat(),a="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox",o=this.colorStops.map((function(e){return y({},e)})).sort((function(e,t){return e.offset-t.offset})),s=-this.offsetX,u=-this.offsetY;"objectBoundingBox"===a?(s/=e.width,u/=e.height):(s+=e.width/2,u+=e.height/2),(t=e)&&"function"==typeof t._renderPathCommands&&"percentage"!==this.gradientUnits&&(s-=e.pathOffset.x,u-=e.pathOffset.y),i[4]-=s,i[5]-=u;var c=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(a,'"'),'gradientTransform="'.concat(r?r+" ":"").concat(lt(i),'"'),""].join(" ");if("linear"===this.type){var l=this.coords,d=l.x1,f=l.y1,h=l.x2,p=l.y2;n.push("<linearGradient ",c,' x1="',d,'" y1="',f,'" x2="',h,'" y2="',p,'">\n')}else if("radial"===this.type){var v=this.coords,g=v.x1,m=v.y1,b=v.x2,S=v.y2,E=v.r1,x=v.r2,w=E>x;n.push("<radialGradient ",c,' cx="',w?g:b,'" cy="',w?m:S,'" r="',w?E:x,'" fx="',w?b:g,'" fy="',w?S:m,'">\n'),w&&(o.reverse(),o.forEach((function(e){e.offset=1-e.offset})));var k=Math.min(E,x);if(k>0){var _=k/Math.max(E,x);o.forEach((function(e){e.offset+=_*(1-e.offset)}))}}return o.forEach((function(e){var t=e.color,r=e.offset,i=e.opacity;n.push("<stop ",'offset="',100*r+"%",'" style="stop-color:',t,void 0!==i?";stop-opacity: "+i:";",'"/>\n')})),n.push("linear"===this.type?"</linearGradient>":"</radialGradient>","\n"),n.join("")}},{key:"toLive",value:function(e){var t=this.coords,r=t.x1,n=t.y1,i=t.x2,a=t.y2,o=t.r1,s=t.r2,u="linear"===this.type?e.createLinearGradient(r,n,i,a):e.createRadialGradient(r,n,o,i,a,s);return this.colorStops.forEach((function(e){var t=e.color,r=e.opacity,n=e.offset;u.addColorStop(n,void 0!==r?new ot(t).setAlpha(r).toRgba():t)})),u}}],[{key:"fromObject",value:function(){var e=s(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.colorStops,n=t.gradientTransform,e.abrupt("return",new this(y(y({},t),{},{colorStops:r?r.map((function(e){return y({},e)})):void 0,gradientTransform:n?l(n):void 0})));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"fromElement",value:function(e,t,r){var n=to(e),i=t._findCenterFromElement();return new this(y({id:e.getAttribute("id")||void 0,type:eo(e),coords:no(e,{width:r.viewBoxWidth||r.width,height:r.viewBoxHeight||r.height}),colorStops:$a(e,r.opacity),gradientUnits:n,gradientTransform:Ei(e.getAttribute("gradientTransform")||"")},"pixels"===n?{offsetX:t.width/2-i.x,offsetY:t.height/2-i.y}:{offsetX:0,offsetY:0}))}}]),e}();t(io,"type","Gradient"),pe.setClass(io,"gradient"),pe.setClass(io,"linear"),pe.setClass(io,"radial");var ao=["type","source","patternTransform"],oo=function(){function e(r){m(this,e),t(this,"repeat","repeat"),t(this,"offsetX",0),t(this,"offsetY",0),t(this,"crossOrigin",""),this.id=Ce(),Object.assign(this,r)}return g(e,[{key:"type",get:function(){return"pattern"},set:function(e){k("warn","Setting type has no effect",e)}},{key:"isImageSource",value:function(){return!!this.source&&"string"==typeof this.source.src}},{key:"isCanvasSource",value:function(){return!!this.source&&!!this.source.toDataURL}},{key:"sourceToString",value:function(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}},{key:"toLive",value:function(e){return this.source&&(!this.isImageSource()||this.source.complete&&0!==this.source.naturalWidth&&0!==this.source.naturalHeight)?e.createPattern(this.source,this.repeat):null}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.repeat,r=this.crossOrigin;return y(y({},Qe(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:t,crossOrigin:r,offsetX:st(this.offsetX,w.NUM_FRACTION_DIGITS),offsetY:st(this.offsetY,w.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?l(this.patternTransform):null})}},{key:"toSVG",value:function(e){var t=e.width,r=e.height,n=this.source,i=this.repeat,a=this.id,o=za(this.offsetX/t,0),s=za(this.offsetY/r,0),u="repeat-y"===i||"no-repeat"===i?1+Math.abs(o||0):za(n.width/t,0),c="repeat-x"===i||"no-repeat"===i?1+Math.abs(s||0):za(n.height/r,0);return['<pattern id="SVGID_'.concat(a,'" x="').concat(o,'" y="').concat(s,'" width="').concat(u,'" height="').concat(c,'">'),'<image x="0" y="0" width="'.concat(n.width,'" height="').concat(n.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join("\n")}}],[{key:"fromObject",value:function(){var e=s(o().mark((function e(t,r){var n,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.type,n=t.source,i=t.patternTransform,a=b(t,ao),e.next=3,Ke(n,y(y({},r),{},{crossOrigin:a.crossOrigin}));case 3:return s=e.sent,e.abrupt("return",new this(y(y({},a),{},{patternTransform:i&&i.slice(0),source:s})));case 5:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()}]),e}();t(oo,"type","Pattern"),pe.setClass(oo),pe.setClass(oo,"pattern");var so=function(){function e(r){m(this,e),t(this,"color","rgb(0, 0, 0)"),t(this,"width",1),t(this,"shadow",null),t(this,"strokeLineCap","round"),t(this,"strokeLineJoin","round"),t(this,"strokeMiterLimit",10),t(this,"strokeDashArray",null),t(this,"limitedToCanvasSize",!1),this.canvas=r}return g(e,[{key:"_setBrushStyles",value:function(e){e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,e.setLineDash(this.strokeDashArray||[])}},{key:"_saveAndTransform",value:function(e){var t=this.canvas.viewportTransform;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}},{key:"needsFullRender",value:function(){return new ot(this.color).getAlpha()<1||!!this.shadow}},{key:"_setShadow",value:function(){if(this.shadow&&this.canvas){var e=this.canvas,t=this.shadow,r=e.contextTop,n=e.getZoom()*e.getRetinaScaling();r.shadowColor=t.color,r.shadowBlur=t.blur*n,r.shadowOffsetX=t.offsetX*n,r.shadowOffsetY=t.offsetY*n}}},{key:"_resetShadow",value:function(){var e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0}},{key:"_isOutSideCanvas",value:function(e){return e.x<0||e.x>this.canvas.getWidth()||e.y<0||e.y>this.canvas.getHeight()}}]),e}(),uo=["path","left","top"],co=["d"],lo=function(e){p(r,e);var t=v(r);function r(e){var n;m(this,r);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(i.path,i.left),o=i.top,s=b(i,uo);return n=t.call(this),Object.assign(d(n),r.ownDefaults),n.setOptions(s),n._setPath(e||[],!0),"number"==typeof a&&n.set(H,a),"number"==typeof o&&n.set(W,o),n}return g(r,[{key:"_setPath",value:function(e,t){this.path=da(Array.isArray(e)?e:Ta(e)),this.setBoundingBox(t)}},{key:"_findCenterFromElement",value:function(){var e=this._calcBoundsFromPath();return new Se(e.left+e.width/2,e.top+e.height/2)}},{key:"_renderPathCommands",value:function(e){var t=-this.pathOffset.x,r=-this.pathOffset.y;e.beginPath();var n,a=i(this.path);try{for(a.s();!(n=a.n()).done;){var o=n.value;switch(o[0]){case"L":e.lineTo(o[1]+t,o[2]+r);break;case"M":e.moveTo(o[1]+t,o[2]+r);break;case"C":e.bezierCurveTo(o[1]+t,o[2]+r,o[3]+t,o[4]+r,o[5]+t,o[6]+r);break;case"Q":e.quadraticCurveTo(o[1]+t,o[2]+r,o[3]+t,o[4]+r);break;case"Z":e.closePath()}}}catch(s){a.e(s)}finally{a.f()}}},{key:"_render",value:function(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}},{key:"toString",value:function(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return y(y({},u(c(r.prototype),"toObject",this).call(this,e)),{},{path:this.path.map((function(e){return e.slice()}))})}},{key:"toDatalessObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.toObject(e);return this.sourcePath&&(delete t.path,t.sourcePath=this.sourcePath),t}},{key:"_toSVG",value:function(){var e=Ca(this.path,w.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,'" stroke-linecap="round" />\n')]}},{key:"_getOffsetTransform",value:function(){var e=w.NUM_FRACTION_DIGITS;return" translate(".concat(st(-this.pathOffset.x,e),", ").concat(st(-this.pathOffset.y,e),")")}},{key:"toClipPathSVG",value:function(e){var t=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}},{key:"toSVG",value:function(e){var t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}},{key:"complexity",value:function(){return this.path.length}},{key:"setDimensions",value:function(){this.setBoundingBox()}},{key:"setBoundingBox",value:function(e){var t=this._calcDimensions(),r=t.width,n=t.height,i=t.pathOffset;this.set({width:r,height:n,pathOffset:i}),e&&this.setPositionByOrigin(i,V,V)}},{key:"_calcBoundsFromPath",value:function(){var e,t=[],r=0,n=0,a=0,o=0,s=i(this.path);try{for(s.s();!(e=s.n()).done;){var u=e.value;switch(u[0]){case"L":a=u[1],o=u[2],t.push(new Se(r,n),new Se(a,o));break;case"M":a=u[1],o=u[2],r=a,n=o;break;case"C":t.push.apply(t,l(ca(a,o,u[1],u[2],u[3],u[4],u[5],u[6]))),a=u[5],o=u[6];break;case"Q":t.push.apply(t,l(ca(a,o,u[1],u[2],u[1],u[2],u[3],u[4]))),a=u[3],o=u[4];break;case"Z":a=r,o=n}}}catch(c){s.e(c)}finally{s.f()}return It(t)}},{key:"_calcDimensions",value:function(){var e=this._calcBoundsFromPath();return y(y({},e),{},{pathOffset:new Se(e.left+e.width/2,e.top+e.height/2)})}}],[{key:"fromObject",value:function(e){return this._fromObject(e,{extraParam:"path"})}},{key:"fromElement",value:function(){var e=s(o().mark((function e(t,r,n){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ai(t,this.ATTRIBUTE_NAMES,n),a=i.d,e.abrupt("return",new this(a,y(y(y({},b(i,co)),r),{},{left:void 0,top:void 0})));case 2:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()}]),r}(Ln);t(lo,"type","Path"),t(lo,"cacheProperties",[].concat(Pr,["path","fillRule"])),t(lo,"ATTRIBUTE_NAMES",[].concat(Kn,["d"])),pe.setClass(lo),pe.setSVGClass(lo);var fo=function(e){p(n,e);var r=v(n);function n(e){var i;return m(this,n),i=r.call(this,e),t(d(i),"decimate",.4),t(d(i),"drawStraightLine",!1),t(d(i),"straightLineKey","shiftKey"),i._points=[],i._hasStraightLine=!1,i}return g(n,[{key:"needsFullRender",value:function(){return u(c(n.prototype),"needsFullRender",this).call(this)||this._hasStraightLine}},{key:"onMouseDown",value:function(e,t){var r=t.e;this.canvas._isMainEvent(r)&&(this.drawStraightLine=!!this.straightLineKey&&r[this.straightLineKey],this._prepareForDrawing(e),this._addPoint(e),this._render())}},{key:"onMouseMove",value:function(e,t){var r=t.e;if(this.canvas._isMainEvent(r)&&(this.drawStraightLine=!!this.straightLineKey&&r[this.straightLineKey],(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(e))&&this._addPoint(e)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var i=this._points,a=i.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=n.drawSegment(o,i[a-2],i[a-1]),o.stroke(),o.restore()}}},{key:"onMouseUp",value:function(e){var t=e.e;return!this.canvas._isMainEvent(t)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)}},{key:"_prepareForDrawing",value:function(e){this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)}},{key:"_addPoint",value:function(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1]))&&(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(e),!0)}},{key:"_reset",value:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1}},{key:"_render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.canvas.contextTop,t=this._points[0],r=this._points[1];if(this._saveAndTransform(e),e.beginPath(),2===this._points.length&&t.x===r.x&&t.y===r.y){var i=this.width/1e3;t.x-=i,r.x+=i}e.moveTo(t.x,t.y);for(var a=1;a<this._points.length;a++)n.drawSegment(e,t,r),t=this._points[a],r=this._points[a+1];e.lineTo(t.x,t.y),e.stroke(),e.restore()}},{key:"convertPointsToSVGPath",value:function(e){var t=this.width/1e3;return Aa(e,t)}},{key:"createPath",value:function(e){var t=new lo(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,t.shadow=new Tr(this.shadow)),t}},{key:"decimatePoints",value:function(e,t){if(e.length<=2)return e;for(var r=e[0],n=this.canvas.getZoom(),i=Math.pow(t/n,2),a=e.length-1,o=[r],s=1;s<a-1;s++)Math.pow(r.x-e[s].x,2)+Math.pow(r.y-e[s].y,2)>=i&&(r=e[s],o.push(r));return o.push(e[a]),o}},{key:"_finalizeAndAddPath",value:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var e=this.convertPointsToSVGPath(this._points);if(function(e){return"M 0 0 Q 0 0 0 0 L 0 0"===Ca(e)}(e))this.canvas.requestRenderAll();else{var t=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:t}),this.canvas.add(t),this.canvas.requestRenderAll(),t.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:t})}}}],[{key:"drawSegment",value:function(e,t,r){var n=t.midPointFrom(r);return e.quadraticCurveTo(t.x,t.y,n.x,n.y),n}}]),n}(so),ho=["left","top","radius"],po=["radius","startAngle","endAngle","counterClockwise"],vo=function(e){p(r,e);var t=v(r);function r(e){var n;return m(this,r),n=t.call(this),Object.assign(d(n),r.ownDefaults),n.setOptions(e),n}return g(r,[{key:"_set",value:function(e,t){return u(c(r.prototype),"_set",this).call(this,e,t),"radius"===e&&this.setRadius(t),this}},{key:"_render",value:function(e){e.beginPath(),e.arc(0,0,this.radius,Re(this.startAngle),Re(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}},{key:"getRadiusX",value:function(){return this.get("radius")*this.get(ae)}},{key:"getRadiusY",value:function(){return this.get("radius")*this.get(oe)}},{key:"setRadius",value:function(e){this.radius=e,this.set({width:2*e,height:2*e})}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u(c(r.prototype),"toObject",this).call(this,[].concat(po,l(e)))}},{key:"_toSVG",value:function(){var e=(this.endAngle-this.startAngle)%360;if(0===e)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),'" />\n'];var t=this.radius,r=Re(this.startAngle),n=Re(this.endAngle),i=ye(r)*t,a=be(r)*t,o=ye(n)*t,s=be(n)*t,u=e>180?1:0,c=this.counterClockwise?0:1;return['<path d="M '.concat(i," ").concat(a," A ").concat(t," ").concat(t," 0 ").concat(u," ").concat(c," ").concat(o," ").concat(s,'" '),"COMMON_PARTS"," />\n"]}}],[{key:"getDefaults",value:function(){return y(y({},u(c(r),"getDefaults",this).call(this)),r.ownDefaults)}},{key:"fromElement",value:function(){var e=s(o().mark((function e(t,r,n){var i,a,s,u,c,l,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ai(t,this.ATTRIBUTE_NAMES,n),a=i.left,s=void 0===a?0:a,u=i.top,c=void 0===u?0:u,l=i.radius,d=void 0===l?0:l,e.abrupt("return",new this(y(y({},b(i,ho)),{},{radius:d,left:s-d,top:c-d})));case 2:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"fromObject",value:function(e){return u(c(r),"_fromObject",this).call(this,e)}}]),r}(Ln);t(vo,"type","Circle"),t(vo,"cacheProperties",[].concat(Pr,po)),t(vo,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),t(vo,"ATTRIBUTE_NAMES",["cx","cy","r"].concat(Kn)),pe.setClass(vo),pe.setSVGClass(vo);var go=["x1","y1","x2","y2"],mo=["x1","y1","x2","y2"],yo=["x1","x2","y1","y2"],bo=function(e){p(r,e);var t=v(r);function r(){var e;m(this,r);var n=f(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0],4),i=n[0],a=n[1],o=n[2],s=n[3],u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=t.call(this),Object.assign(d(e),r.ownDefaults),e.setOptions(u),e.x1=i,e.x2=o,e.y1=a,e.y2=s,e._setWidthHeight();var c=u.left,l=u.top;return"number"==typeof c&&e.set(H,c),"number"==typeof l&&e.set(W,l),e}return g(r,[{key:"_setWidthHeight",value:function(){var e=this.x1,t=this.y1,r=this.x2,n=this.y2;this.width=Math.abs(r-e),this.height=Math.abs(n-t);var i=It([{x:e,y:t},{x:r,y:n}]),a=i.left,o=i.top,s=i.width,u=i.height,c=new Se(a+s/2,o+u/2);this.setPositionByOrigin(c,V,V)}},{key:"_set",value:function(e,t){return u(c(r.prototype),"_set",this).call(this,e,t),yo.includes(e)&&this._setWidthHeight(),this}},{key:"_render",value:function(e){e.beginPath();var t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=this.strokeWidth;var r,n=e.strokeStyle;ft(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=null!==(r=this.stroke)&&void 0!==r?r:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n}},{key:"_findCenterFromElement",value:function(){return new Se((this.x1+this.x2)/2,(this.y1+this.y2)/2)}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return y(y({},u(c(r.prototype),"toObject",this).call(this,e)),this.calcLinePoints())}},{key:"_getNonTransformedDimensions",value:function(){var e=u(c(r.prototype),"_getNonTransformedDimensions",this).call(this);return"butt"===this.strokeLineCap&&(0===this.width&&(e.y-=this.strokeWidth),0===this.height&&(e.x-=this.strokeWidth)),e}},{key:"calcLinePoints",value:function(){var e=this.x1,t=this.x2,r=this.y1,n=this.y2,i=this.width,a=this.height,o=e<=t?-1:1,s=r<=n?-1:1;return{x1:o*i/2,x2:o*-i/2,y1:s*a/2,y2:s*-a/2}}},{key:"_toSVG",value:function(){var e=this.calcLinePoints(),t=e.x1,r=e.x2,n=e.y1,i=e.y2;return["<line ","COMMON_PARTS",'x1="'.concat(t,'" y1="').concat(n,'" x2="').concat(r,'" y2="').concat(i,'" />\n')]}}],[{key:"fromElement",value:function(){var e=s(o().mark((function e(t,r,n){var i,a,s,u,c,l,d,f,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ai(t,this.ATTRIBUTE_NAMES,n),a=i.x1,s=void 0===a?0:a,u=i.y1,c=void 0===u?0:u,l=i.x2,d=void 0===l?0:l,f=i.y2,h=void 0===f?0:f,e.abrupt("return",new this([s,c,d,h],b(i,go)));case 2:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"fromObject",value:function(e){var t=e.x1,r=e.y1,n=e.x2,i=e.y2,a=b(e,mo);return this._fromObject(y(y({},a),{},{points:[t,r,n,i]}),{extraParam:"points"})}}]),r}(Ln);t(bo,"type","Line"),t(bo,"cacheProperties",[].concat(Pr,yo)),t(bo,"ATTRIBUTE_NAMES",Kn.concat(yo)),pe.setClass(bo),pe.setSVGClass(bo);var So=function(e){p(r,e);var t=v(r);function r(e){var n;return m(this,r),n=t.call(this),Object.assign(d(n),r.ownDefaults),n.setOptions(e),n}return g(r,[{key:"_render",value:function(e){var t=this.width/2,r=this.height/2;e.beginPath(),e.moveTo(-t,r),e.lineTo(0,-r),e.lineTo(t,r),e.closePath(),this._renderPaintInOrder(e)}},{key:"_toSVG",value:function(){var e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(t,",0 ").concat(-t,",").concat(e," ").concat(t),'" />']}}],[{key:"getDefaults",value:function(){return y(y({},u(c(r),"getDefaults",this).call(this)),r.ownDefaults)}}]),r}(Ln);t(So,"type","Triangle"),t(So,"ownDefaults",{width:100,height:100}),pe.setClass(So),pe.setSVGClass(So);var Eo=["rx","ry"],xo=function(e){p(r,e);var t=v(r);function r(e){var n;return m(this,r),n=t.call(this),Object.assign(d(n),r.ownDefaults),n.setOptions(e),n}return g(r,[{key:"_set",value:function(e,t){switch(u(c(r.prototype),"_set",this).call(this,e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this}},{key:"getRx",value:function(){return this.get("rx")*this.get(ae)}},{key:"getRy",value:function(){return this.get("ry")*this.get(oe)}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u(c(r.prototype),"toObject",this).call(this,[].concat(Eo,l(e)))}},{key:"_toSVG",value:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,'" />\n')]}},{key:"_render",value:function(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,D,!1),e.restore(),this._renderPaintInOrder(e)}}],[{key:"getDefaults",value:function(){return y(y({},u(c(r),"getDefaults",this).call(this)),r.ownDefaults)}},{key:"fromElement",value:function(){var e=s(o().mark((function e(t,r,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ai(t,this.ATTRIBUTE_NAMES,n),e.abrupt("return",(i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,new this(i)));case 2:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()}]),r}(Ln);function wo(e){if(!e)return[];for(var t=e.replace(/,/g," ").trim().split(/\s+/),r=[],n=0;n<t.length;n+=2)r.push({x:parseFloat(t[n]),y:parseFloat(t[n+1])});return r}t(xo,"type","Ellipse"),t(xo,"cacheProperties",[].concat(Pr,Eo)),t(xo,"ownDefaults",{rx:0,ry:0}),t(xo,"ATTRIBUTE_NAMES",[].concat(Kn,["cx","cy","rx","ry"])),pe.setClass(xo),pe.setSVGClass(xo);var ko=["left","top"],_o={exactBoundingBox:!1},To=function(e){p(n,e);var r=v(n);function n(){var e;m(this,n);var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=r.call(this),t(d(e),"strokeDiff",void 0),Object.assign(d(e),n.ownDefaults),e.setOptions(a),e.points=i;var o=a.left,s=a.top;return e.initialized=!0,e.setBoundingBox(!0),"number"==typeof o&&e.set(H,o),"number"==typeof s&&e.set(W,s),e}return g(n,[{key:"isOpen",value:function(){return!0}},{key:"_projectStrokeOnPoints",value:function(e){return Bn(this.points,e,this.isOpen())}},{key:"_calcDimensions",value:function(e){e=y({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});var t=this.exactBoundingBox?this._projectStrokeOnPoints(e).map((function(e){return e.projectedPoint})):this.points;if(0===t.length)return{left:0,top:0,width:0,height:0,pathOffset:new Se,strokeOffset:new Se,strokeDiff:new Se};var r=It(t),n=Ye(y(y({},e),{},{scaleX:1,scaleY:1})),i=It(this.points.map((function(e){return je(e,n,!0)}))),a=new Se(this.scaleX,this.scaleY),o=r.left+r.width/2,s=r.top+r.height/2;return this.exactBoundingBox&&(s-=(o-=s*Math.tan(Re(this.skewX)))*Math.tan(Re(this.skewY))),y(y({},r),{},{pathOffset:new Se(o,s),strokeOffset:new Se(i.left,i.top).subtract(new Se(r.left,r.top)).multiply(a),strokeDiff:new Se(r.width,r.height).subtract(new Se(i.width,i.height)).multiply(a)})}},{key:"_findCenterFromElement",value:function(){var e=It(this.points);return new Se(e.left+e.width/2,e.top+e.height/2)}},{key:"setDimensions",value:function(){this.setBoundingBox()}},{key:"setBoundingBox",value:function(e){var t=this._calcDimensions(),r=t.left,n=t.top,i=t.width,a=t.height,o=t.pathOffset,s=t.strokeOffset,u=t.strokeDiff;this.set({width:i,height:a,pathOffset:o,strokeOffset:s,strokeDiff:u}),e&&this.setPositionByOrigin(new Se(r+i/2,n+a/2),V,V)}},{key:"isStrokeAccountedForInDimensions",value:function(){return this.exactBoundingBox}},{key:"_getNonTransformedDimensions",value:function(){return this.exactBoundingBox?new Se(this.width,this.height):u(c(n.prototype),"_getNonTransformedDimensions",this).call(this)}},{key:"_getTransformedDimensions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.exactBoundingBox){var r;if(Object.keys(t).some((function(t){return e.strokeUniform||e.constructor.layoutProperties.includes(t)}))){var i,a,o=this._calcDimensions(t),s=o.width,l=o.height;r=new Se(null!==(i=t.width)&&void 0!==i?i:s,null!==(a=t.height)&&void 0!==a?a:l)}else{var d,f;r=new Se(null!==(d=t.width)&&void 0!==d?d:this.width,null!==(f=t.height)&&void 0!==f?f:this.height)}return r.multiply(new Se(t.scaleX||this.scaleX,t.scaleY||this.scaleY))}return u(c(n.prototype),"_getTransformedDimensions",this).call(this,t)}},{key:"_set",value:function(e,t){var r=this.initialized&&this[e]!==t,i=u(c(n.prototype),"_set",this).call(this,e,t);return this.exactBoundingBox&&r&&((e===ae||e===oe)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),i}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return y(y({},u(c(n.prototype),"toObject",this).call(this,e)),{},{points:this.points.map((function(e){return{x:e.x,y:e.y}}))})}},{key:"_toSVG",value:function(){for(var e=[],t=this.pathOffset.x,r=this.pathOffset.y,n=w.NUM_FRACTION_DIGITS,i=0,a=this.points.length;i<a;i++)e.push(st(this.points[i].x-t,n),",",st(this.points[i].y-r,n)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),'" />\n')]}},{key:"_render",value:function(e){var t=this.points.length,r=this.pathOffset.x,n=this.pathOffset.y;if(t&&!isNaN(this.points[t-1].y)){e.beginPath(),e.moveTo(this.points[0].x-r,this.points[0].y-n);for(var i=0;i<t;i++){var a=this.points[i];e.lineTo(a.x-r,a.y-n)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}},{key:"complexity",value:function(){return this.points.length}}],[{key:"getDefaults",value:function(){return y(y({},u(c(n),"getDefaults",this).call(this)),n.ownDefaults)}},{key:"fromElement",value:function(){var e=s(o().mark((function e(t,r,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new this(wo(t.getAttribute("points")),y(y({},b(Ai(t,this.ATTRIBUTE_NAMES,n),ko)),r)));case 1:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"fromObject",value:function(e){return this._fromObject(e,{extraParam:"points"})}}]),n}(Ln);t(To,"ownDefaults",_o),t(To,"type","Polyline"),t(To,"layoutProperties",[se,ue,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),t(To,"cacheProperties",[].concat(Pr,["points"])),t(To,"ATTRIBUTE_NAMES",[].concat(Kn)),pe.setClass(To),pe.setSVGClass(To);var Ao=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"isOpen",value:function(){return!1}}]),r}(To);t(Ao,"ownDefaults",_o),t(Ao,"type","Polygon"),pe.setClass(Ao),pe.setSVGClass(Ao);var Co=["fontSize","fontWeight","fontFamily","fontStyle"],Po=["underline","overline","linethrough"],Io=[].concat(Co,["lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"]),Oo=[].concat(l(Io),Po,["textBackgroundColor","direction"]),Ro=[].concat(Co,Po,[le,"strokeWidth",ce,"deltaY","textBackgroundColor"]),No={_reNewline:X,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:H,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:H,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},Lo="justify",jo="justify-left",Mo="justify-right",Do="justify-center",Fo=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"isEmptyStyles",value:function(e){if(!this.styles)return!0;if(void 0!==e&&!this.styles[e])return!0;var t=void 0===e?this.styles:{line:this.styles[e]};for(var r in t)for(var n in t[r])for(var i in t[r][n])return!1;return!0}},{key:"styleHas",value:function(e,t){if(!this.styles)return!1;if(void 0!==t&&!this.styles[t])return!1;var r=void 0===t?this.styles:{0:this.styles[t]};for(var n in r)for(var i in r[n])if(void 0!==r[n][i][e])return!0;return!1}},{key:"cleanStyle",value:function(e){if(!this.styles)return!1;var t,r,n=this.styles,i=0,a=!0,o=0;for(var s in n){for(var u in t=0,n[s]){var c=n[s][u]||{};i++,void 0!==c[e]?(r?c[e]!==r&&(a=!1):r=c[e],c[e]===this[e]&&delete c[e]):a=!1,0!==Object.keys(c).length?t++:delete n[s][u]}0===t&&delete n[s]}for(var l=0;l<this._textLines.length;l++)o+=this._textLines[l].length;a&&i===o&&(this[e]=r,this.removeStyle(e))}},{key:"removeStyle",value:function(e){if(this.styles){var t,r,n,i=this.styles;for(r in i){for(n in t=i[r])delete t[n][e],0===Object.keys(t[n]).length&&delete t[n];0===Object.keys(t).length&&delete i[r]}}}},{key:"_extendStyles",value:function(e,t){var r=this.get2DCursorLocation(e),n=r.lineIndex,i=r.charIndex;this._getLineStyle(n)||this._setLineStyle(n);var a=$e(y(y({},this._getStyleDeclaration(n,i)),t),(function(e){return void 0!==e}));this._setStyleDeclaration(n,i,a)}},{key:"getSelectionStyles",value:function(e,t,r){for(var n=[],i=e;i<(t||e);i++)n.push(this.getStyleAtPosition(i,r));return n}},{key:"getStyleAtPosition",value:function(e,t){var r=this.get2DCursorLocation(e),n=r.lineIndex,i=r.charIndex;return t?this.getCompleteStyleDeclaration(n,i):this._getStyleDeclaration(n,i)}},{key:"setSelectionStyles",value:function(e,t,r){for(var n=t;n<(r||t);n++)this._extendStyles(n,e);this._forceClearCache=!0}},{key:"_getStyleDeclaration",value:function(e,t){var r,n=this.styles&&this.styles[e];return n&&null!==(r=n[t])&&void 0!==r?r:{}}},{key:"getCompleteStyleDeclaration",value:function(e,t){return y(y({},Qe(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,t))}},{key:"_setStyleDeclaration",value:function(e,t,r){this.styles[e][t]=r}},{key:"_deleteStyleDeclaration",value:function(e,t){delete this.styles[e][t]}},{key:"_getLineStyle",value:function(e){return!!this.styles[e]}},{key:"_setLineStyle",value:function(e){this.styles[e]={}}},{key:"_deleteLineStyle",value:function(e){delete this.styles[e]}}]),r}(Ln);t(Fo,"_styleProperties",Ro);var Uo=/  +/g,Bo=/"/g;function Go(e,t,r,n,i){return"\t\t".concat(function(e,t){var r=t.left,n=t.top,i=t.width,a=t.height,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.NUM_FRACTION_DIGITS,s=dt(ce,e,!1),u=[r,n,i,a].map((function(e){return st(e,o)})),c=f(u,4),l=c[0],d=c[1],h=c[2],p=c[3];return"<rect ".concat(s,' x="').concat(l,'" y="').concat(d,'" width="').concat(h,'" height="').concat(p,'"></rect>')}(e,{left:t,top:r,width:n,height:i}),"\n")}var Vo,Ho=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"],Wo=function(e){p(n,e);var r=v(n);function n(e,i){var a;return m(this,n),a=r.call(this),t(d(a),"__charBounds",[]),Object.assign(d(a),n.ownDefaults),a.setOptions(i),a.styles||(a.styles={}),a.text=e,a.initialized=!0,a.path&&a.setPathInfo(),a.initDimensions(),a.setCoords(),a}return g(n,[{key:"setPathInfo",value:function(){var e=this.path;e&&(e.segmentsInfo=xa(e.path))}},{key:"_splitText",value:function(){var e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}},{key:"initDimensions",value:function(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(Lo)&&this.enlargeSpaces()}},{key:"enlargeSpaces",value:function(){for(var e,t,r,n,i,a,o,s=0,u=this._textLines.length;s<u;s++)if((this.textAlign===Lo||s!==u-1&&!this.isEndOfWrapping(s))&&(n=0,i=this._textLines[s],(t=this.getLineWidth(s))<this.width&&(o=this.textLines[s].match(this._reSpacesAndTabs)))){r=o.length,e=(this.width-t)/r;for(var c=0;c<=i.length;c++)a=this.__charBounds[s][c],this._reSpaceAndTab.test(i[c])?(a.width+=e,a.kernedWidth+=e,a.left+=n,n+=e):a.left+=n}}},{key:"isEndOfWrapping",value:function(e){return e===this._textLines.length-1}},{key:"missingNewlineOffset",value:function(e){return 1}},{key:"get2DCursorLocation",value:function(e,t){var r,n=t?this._unwrappedTextLines:this._textLines;for(r=0;r<n.length;r++){if(e<=n[r].length)return{lineIndex:r,charIndex:e};e-=n[r].length+this.missingNewlineOffset(r,t)}return{lineIndex:r-1,charIndex:n[r-1].length<e?n[r-1].length:e}}},{key:"toString",value:function(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}},{key:"_getCacheCanvasDimensions",value:function(){var e=u(c(n.prototype),"_getCacheCanvasDimensions",this).call(this),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e}},{key:"_render",value:function(e){var t=this.path;t&&!t.isNotVisible()&&t._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}},{key:"_renderText",value:function(e){this.paintFirst===le?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}},{key:"_setTextStyles",value:function(e,t,r){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case V:e.textBaseline="middle";break;case"ascender":e.textBaseline=W;break;case"descender":e.textBaseline=q}e.font=this._getFontDeclaration(t,r)}},{key:"calcTextWidth",value:function(){for(var e=this.getLineWidth(0),t=1,r=this._textLines.length;t<r;t++){var n=this.getLineWidth(t);n>e&&(e=n)}return e}},{key:"_renderTextLine",value:function(e,t,r,n,i,a){this._renderChars(e,t,r,n,i,a)}},{key:"_renderTextLinesBackground",value:function(e){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var t=e.fillStyle,r=this._getLeftOffset(),n=this._getTopOffset(),i=0,a=this._textLines.length;i<a;i++){var o=this.getHeightOfLine(i);if(this.textBackgroundColor||this.styleHas("textBackgroundColor",i)){for(var s=this._textLines[i].length,u=this._getLineLeftOffset(i),c=void 0,l=void 0,d=0,f=0,h=this.getValueOfPropertyAt(i,0,"textBackgroundColor"),p=0;p<s;p++){var v=this.__charBounds[i][p];l=this.getValueOfPropertyAt(i,p,"textBackgroundColor"),this.path?(e.save(),e.translate(v.renderLeft,v.renderTop),e.rotate(v.angle),e.fillStyle=l,l&&e.fillRect(-v.width/2,-o/this.lineHeight*(1-this._fontSizeFraction),v.width,o/this.lineHeight),e.restore()):l!==h?(c=r+u+f,"rtl"===this.direction&&(c=this.width-c-d),e.fillStyle=h,h&&e.fillRect(c,n,d,o/this.lineHeight),f=v.left,d=v.width,h=l):d+=v.kernedWidth}l&&!this.path&&(c=r+u+f,"rtl"===this.direction&&(c=this.width-c-d),e.fillStyle=l,e.fillRect(c,n,d,o/this.lineHeight)),n+=o}else n+=o}e.fillStyle=t,this._removeShadow(e)}}},{key:"_measureChar",value:function(e,t,r,n){var i,a,o,s,u=N.getFontCache(t),c=this._getFontDeclaration(t),l=r+e,d=r&&c===this._getFontDeclaration(n),f=t.fontSize/this.CACHE_FONT_SIZE;if(r&&void 0!==u[r]&&(o=u[r]),void 0!==u[e]&&(s=i=u[e]),d&&void 0!==u[l]&&(s=(a=u[l])-o),void 0===i||void 0===o||void 0===a){var h=function(){if(!Vo){var e=Pe();e.width=e.height=0,Vo=e.getContext("2d")}return Vo}();this._setTextStyles(h,t,!0),void 0===i&&(s=i=h.measureText(e).width,u[e]=i),void 0===o&&d&&r&&(o=h.measureText(r).width,u[r]=o),d&&void 0===a&&(a=h.measureText(l).width,u[l]=a,s=a-o)}return{width:i*f,kernedWidth:s*f}}},{key:"getHeightOfChar",value:function(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")}},{key:"measureLine",value:function(e){var t=this._measureLine(e);return 0!==this.charSpacing&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t}},{key:"_measureLine",value:function(e){var t,r,n=0,i=this.pathSide===z,a=this.path,o=this._textLines[e],s=o.length,u=new Array(s);this.__charBounds[e]=u;for(var c=0;c<s;c++){var l=o[c];r=this._getGraphemeBox(l,e,c,t),u[c]=r,n+=r.kernedWidth,t=l}if(u[s]={left:r?r.left+r.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},a&&a.segmentsInfo){var d=0,f=a.segmentsInfo[a.segmentsInfo.length-1].length;switch(this.textAlign){case H:d=i?f-n:0;break;case V:d=(f-n)/2;break;case z:d=i?0:f-n}d+=this.pathStartOffset*(i?-1:1);for(var h=i?s-1:0;i?h>=0:h<s;i?h--:h++)r=u[h],d>f?d%=f:d<0&&(d+=f),this._setGraphemeOnPath(d,r),d+=r.kernedWidth}return{width:n,numOfSpaces:0}}},{key:"_setGraphemeOnPath",value:function(e,t){var r=e+t.kernedWidth/2,n=this.path,i=wa(n.path,r,n.segmentsInfo);t.renderLeft=i.x-n.pathOffset.x,t.renderTop=i.y-n.pathOffset.y,t.angle=i.angle+(this.pathSide===z?Math.PI:0)}},{key:"_getGraphemeBox",value:function(e,t,r,n,i){var a,o=this.getCompleteStyleDeclaration(t,r),s=n?this.getCompleteStyleDeclaration(t,r-1):{},u=this._measureChar(e,o,n,s),c=u.kernedWidth,l=u.width;0!==this.charSpacing&&(l+=a=this._getWidthOfCharSpacing(),c+=a);var d={width:l,left:0,height:o.fontSize,kernedWidth:c,deltaY:o.deltaY};if(r>0&&!i){var f=this.__charBounds[t][r-1];d.left=f.left+f.width+u.kernedWidth-u.width}return d}},{key:"getHeightOfLine",value:function(e){if(this.__lineHeights[e])return this.__lineHeights[e];for(var t=this.getHeightOfChar(e,0),r=1,n=this._textLines[e].length;r<n;r++)t=Math.max(this.getHeightOfChar(e,r),t);return this.__lineHeights[e]=t*this.lineHeight*this._fontSizeMult}},{key:"calcTextHeight",value:function(){for(var e,t=0,r=0,n=this._textLines.length;r<n;r++)e=this.getHeightOfLine(r),t+=r===n-1?e/this.lineHeight:e;return t}},{key:"_getLeftOffset",value:function(){return"ltr"===this.direction?-this.width/2:this.width/2}},{key:"_getTopOffset",value:function(){return-this.height/2}},{key:"_renderTextCommon",value:function(e,t){e.save();for(var r=0,n=this._getLeftOffset(),i=this._getTopOffset(),a=0,o=this._textLines.length;a<o;a++){var s=this.getHeightOfLine(a),u=s/this.lineHeight,c=this._getLineLeftOffset(a);this._renderTextLine(t,e,this._textLines[a],n+c,i+r+u,a),r+=s}e.restore()}},{key:"_renderTextFill",value:function(e){(this.fill||this.styleHas(ce))&&this._renderTextCommon(e,"fillText")}},{key:"_renderTextStroke",value:function(e){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}},{key:"_renderChars",value:function(e,t,r,n,i,a){var o,s,u,c,l,d=this.getHeightOfLine(a),f=this.textAlign.includes(Lo),h=this.path,p=!f&&0===this.charSpacing&&this.isEmptyStyles(a)&&!h,v="ltr"===this.direction,g="ltr"===this.direction?1:-1,m=t.direction,y="",b=0;if(t.save(),m!==this.direction&&(t.canvas.setAttribute("dir",v?"ltr":"rtl"),t.direction=v?"ltr":"rtl",t.textAlign=v?H:z),i-=d*this._fontSizeFraction/this.lineHeight,p)return this._renderChar(e,t,a,0,r.join(""),n,i),void t.restore();for(var S=0,E=r.length-1;S<=E;S++)c=S===E||this.charSpacing||h,y+=r[S],u=this.__charBounds[a][S],0===b?(n+=g*(u.kernedWidth-u.width),b+=u.width):b+=u.kernedWidth,f&&!c&&this._reSpaceAndTab.test(r[S])&&(c=!0),c||(o=o||this.getCompleteStyleDeclaration(a,S),s=this.getCompleteStyleDeclaration(a,S+1),c=zn(o,s,!1)),c&&(h?(t.save(),t.translate(u.renderLeft,u.renderTop),t.rotate(u.angle),this._renderChar(e,t,a,S,y,-b/2,0),t.restore()):(l=n,this._renderChar(e,t,a,S,y,l,i)),y="",o=s,n+=g*b,b=0);t.restore()}},{key:"_applyPatternGradientTransformText",value:function(e){var t=Pe(),r=this.width+this.strokeWidth,n=this.height+this.strokeWidth,i=t.getContext("2d");return t.width=r,t.height=n,i.beginPath(),i.moveTo(0,0),i.lineTo(r,0),i.lineTo(r,n),i.lineTo(0,n),i.closePath(),i.translate(r/2,n/2),i.fillStyle=e.toLive(i),this._applyPatternGradientTransform(i,e),i.fill(),i.createPattern(t,"no-repeat")}},{key:"handleFiller",value:function(e,t,r){var n,i;return ft(r)?"percentage"===r.gradientUnits||r.gradientTransform||r.patternTransform?(n=-this.width/2,i=-this.height/2,e.translate(n,i),e[t]=this._applyPatternGradientTransformText(r),{offsetX:n,offsetY:i}):(e[t]=r.toLive(e),this._applyPatternGradientTransform(e,r)):(e[t]=r,{offsetX:0,offsetY:0})}},{key:"_setStrokeStyles",value:function(e,t){var r=t.stroke,n=t.strokeWidth;return e.lineWidth=n,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",r)}},{key:"_setFillStyles",value:function(e,t){var r=t.fill;return this.handleFiller(e,"fillStyle",r)}},{key:"_renderChar",value:function(e,t,r,n,i,a,o){var s=this._getStyleDeclaration(r,n),u=this.getCompleteStyleDeclaration(r,n),c="fillText"===e&&u.fill,l="strokeText"===e&&u.stroke&&u.strokeWidth;if(l||c){if(t.save(),t.font=this._getFontDeclaration(u),s.textBackgroundColor&&this._removeShadow(t),s.deltaY&&(o+=s.deltaY),c){var d=this._setFillStyles(t,u);t.fillText(i,a-d.offsetX,o-d.offsetY)}if(l){var f=this._setStrokeStyles(t,u);t.strokeText(i,a-f.offsetX,o-f.offsetY)}t.restore()}}},{key:"setSuperscript",value:function(e,t){this._setScript(e,t,this.superscript)}},{key:"setSubscript",value:function(e,t){this._setScript(e,t,this.subscript)}},{key:"_setScript",value:function(e,t,r){var n=this.get2DCursorLocation(e,!0),i=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"fontSize"),a=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"deltaY"),o={fontSize:i*r.size,deltaY:a+i*r.baseline};this.setSelectionStyles(o,e,t)}},{key:"_getLineLeftOffset",value:function(e){var t=this.getLineWidth(e),r=this.width-t,n=this.textAlign,i=this.direction,a=this.isEndOfWrapping(e),o=0;return n===Lo||n===Do&&!a||n===Mo&&!a||n===jo&&!a?0:(n===V&&(o=r/2),n===z&&(o=r),n===Do&&(o=r/2),n===Mo&&(o=r),"rtl"===i&&(n===z||n===Lo||n===Mo?o=0:n===H||n===jo?o=-r:n!==V&&n!==Do||(o=-r/2)),o)}},{key:"_clearCache",value:function(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}},{key:"getLineWidth",value:function(e){if(void 0!==this.__lineWidths[e])return this.__lineWidths[e];var t=this.measureLine(e).width;return this.__lineWidths[e]=t,t}},{key:"_getWidthOfCharSpacing",value:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0}},{key:"getValueOfPropertyAt",value:function(e,t,r){var n;return null!==(n=this._getStyleDeclaration(e,t)[r])&&void 0!==n?n:this[r]}},{key:"_renderTextDecoration",value:function(e,t){if(this[t]||this.styleHas(t)){for(var r=this._getTopOffset(),n=this._getLeftOffset(),i=this.path,a=this._getWidthOfCharSpacing(),o=this.offsets[t],s=0,u=this._textLines.length;s<u;s++){var c=this.getHeightOfLine(s);if(this[t]||this.styleHas(t,s)){for(var l=this._textLines[s],d=c/this.lineHeight,f=this._getLineLeftOffset(s),h=void 0,p=void 0,v=0,g=0,m=this.getValueOfPropertyAt(s,0,t),y=this.getValueOfPropertyAt(s,0,ce),b=r+d*(1-this._fontSizeFraction),S=this.getHeightOfChar(s,0),E=this.getValueOfPropertyAt(s,0,"deltaY"),x=0,w=l.length;x<w;x++){var k=this.__charBounds[s][x];h=this.getValueOfPropertyAt(s,x,t),p=this.getValueOfPropertyAt(s,x,ce);var _=this.getHeightOfChar(s,x),T=this.getValueOfPropertyAt(s,x,"deltaY");if(i&&h&&p)e.save(),e.fillStyle=y,e.translate(k.renderLeft,k.renderTop),e.rotate(k.angle),e.fillRect(-k.kernedWidth/2,o*_+T,k.kernedWidth,this.fontSize/15),e.restore();else if((h!==m||p!==y||_!==S||T!==E)&&g>0){var A=n+f+v;"rtl"===this.direction&&(A=this.width-A-g),m&&y&&(e.fillStyle=y,e.fillRect(A,b+o*S+E,g,this.fontSize/15)),v=k.left,g=k.width,m=h,y=p,S=_,E=T}else g+=k.kernedWidth}var C=n+f+v;"rtl"===this.direction&&(C=this.width-C-g),e.fillStyle=p,h&&p&&e.fillRect(C,b+o*S+E,g-a,this.fontSize/15),r+=c}else r+=c}this._removeShadow(e)}}},{key:"_getFontDeclaration",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fontFamily,r=void 0===t?this.fontFamily:t,i=e.fontStyle,a=void 0===i?this.fontStyle:i,o=e.fontWeight,s=void 0===o?this.fontWeight:o,u=e.fontSize,c=void 0===u?this.fontSize:u,l=arguments.length>1?arguments[1]:void 0,d=r.includes("'")||r.includes('"')||r.includes(",")||n.genericFonts.includes(r.toLowerCase())?r:'"'.concat(r,'"');return[a,s,"".concat(l?this.CACHE_FONT_SIZE:c,"px"),d].join(" ")}},{key:"render",value:function(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),u(c(n.prototype),"render",this).call(this,e)))}},{key:"graphemeSplit",value:function(e){return Hn(e)}},{key:"_splitTextIntoLines",value:function(e){for(var t=e.split(this._reNewline),r=new Array(t.length),n=["\n"],i=[],a=0;a<t.length;a++)r[a]=this.graphemeSplit(t[a]),i=i.concat(r[a],n);return i.pop(),{_unwrappedLines:r,lines:t,graphemeText:i,graphemeLines:r}}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return y(y({},u(c(n.prototype),"toObject",this).call(this,[].concat(l(Oo),l(e)))),{},{styles:Yn(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}},{key:"set",value:function(e,t){var r=this.constructor.textLayoutProperties;u(c(n.prototype),"set",this).call(this,e,t);var i=!1,a=!1;if("object"==typeof e)for(var o in e)"path"===o&&this.setPathInfo(),i=i||r.includes(o),a=a||"path"===o;else i=r.includes(e),a="path"===e;return a&&this.setPathInfo(),i&&this.initialized&&(this.initDimensions(),this.setCoords()),this}},{key:"complexity",value:function(){return 1}}],[{key:"getDefaults",value:function(){return y(y({},u(c(n),"getDefaults",this).call(this)),n.ownDefaults)}},{key:"fromElement",value:function(){var e=s(o().mark((function e(t,r,i){var a,s,u,c,l,d,f,h,p,v,g,m,S,E,x,w,k,_,T,A,C,P,I,O;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ai(t,n.ATTRIBUTE_NAMES,i),s=y(y({},r),a),u=s.textAnchor,c=void 0===u?H:u,l=s.textDecoration,d=void 0===l?"":l,f=s.dx,h=void 0===f?0:f,p=s.dy,v=void 0===p?0:p,g=s.top,m=void 0===g?0:g,S=s.left,E=void 0===S?0:S,x=s.fontSize,w=void 0===x?B:x,k=s.strokeWidth,_=void 0===k?1:k,T=b(s,Ho),A=new this((t.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),y({left:E+h,top:m+v,underline:d.includes("underline"),overline:d.includes("overline"),linethrough:d.includes("line-through"),strokeWidth:0,fontSize:w},T)),C=A.getScaledHeight()/A.height,P=((A.height+A.strokeWidth)*A.lineHeight-A.height)*C,I=A.getScaledHeight()+P,O=0,e.abrupt("return",(c===V&&(O=A.getScaledWidth()/2),c===z&&(O=A.getScaledWidth()),A.set({left:A.left-O,top:A.top-(I-A.fontSize*(.07+A._fontSizeFraction))/A.lineHeight,strokeWidth:_}),A));case 3:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"fromObject",value:function(e){return this._fromObject(y(y({},e),{},{styles:Xn(e.styles||{},e.text)}),{extraParam:"text"})}}]),n}(Fo);t(Wo,"textLayoutProperties",Io),t(Wo,"cacheProperties",[].concat(Pr,l(Oo))),t(Wo,"ownDefaults",No),t(Wo,"type","Text"),t(Wo,"genericFonts",["sans-serif","serif","cursive","fantasy","monospace"]),t(Wo,"ATTRIBUTE_NAMES",Kn.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),Nn(Wo,[function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"_toSVG",value:function(){var e=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(e.textTop,e.textLeft);return this._wrapSVGTextAndBg(t)}},{key:"toSVG",value:function(e){return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,noStyle:!0,withShadow:!0})}},{key:"_getSVGLeftTopOffsets",value:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}},{key:"_wrapSVGTextAndBg",value:function(e){var t=e.textBgRects,r=e.textSpans,n=this.getSvgTextDecoration(this);return[t.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(Bo,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",n?'text-decoration="'.concat(n,'" '):"","rtl"===this.direction?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",r.join(""),"</text>\n"]}},{key:"_getSVGTextAndBg",value:function(e,t){var r,n=[],i=[],a=e;this.backgroundColor&&i.push.apply(i,l(Go(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height)));for(var o=0,s=this._textLines.length;o<s;o++)r=this._getLineLeftOffset(o),"rtl"===this.direction&&(r+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(i,o,t+r,a),this._setSVGTextLineText(n,o,t+r,a),a+=this.getHeightOfLine(o);return{textSpans:n,textBgRects:i}}},{key:"_createTextCharSpan",value:function(e,t,r,n){var i=this.getSvgSpanStyles(t,e!==e.trim()||!!e.match(Uo)),a=i?'style="'.concat(i,'"'):"",o=t.deltaY,s=o?' dy="'.concat(st(o,w.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(st(r,w.NUM_FRACTION_DIGITS),'" y="').concat(st(n,w.NUM_FRACTION_DIGITS),'" ').concat(s).concat(a,">").concat(Vn(e),"</tspan>")}},{key:"_setSVGTextLineText",value:function(e,t,r,n){var i,a,o,s,u,c=this.getHeightOfLine(t),l=this.textAlign.includes(Lo),d=this._textLines[t],f="",h=0;n+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var p=0,v=d.length-1;p<=v;p++)u=p===v||this.charSpacing,f+=d[p],o=this.__charBounds[t][p],0===h?(r+=o.kernedWidth-o.width,h+=o.width):h+=o.kernedWidth,l&&!u&&this._reSpaceAndTab.test(d[p])&&(u=!0),u||(i=i||this.getCompleteStyleDeclaration(t,p),a=this.getCompleteStyleDeclaration(t,p+1),u=zn(i,a,!0)),u&&(s=this._getStyleDeclaration(t,p),e.push(this._createTextCharSpan(f,s,r,n)),f="",i=a,"rtl"===this.direction?r-=h:r+=h,h=0)}},{key:"_setSVGTextLineBg",value:function(e,t,r,n){for(var i,a=this._textLines[t],o=this.getHeightOfLine(t)/this.lineHeight,s=0,u=0,c=this.getValueOfPropertyAt(t,0,"textBackgroundColor"),d=0;d<a.length;d++){var f=this.__charBounds[t][d],h=f.left,p=f.width,v=f.kernedWidth;(i=this.getValueOfPropertyAt(t,d,"textBackgroundColor"))!==c?(c&&e.push.apply(e,l(Go(c,r+u,n,s,o))),u=h,s=p,c=i):s+=v}i&&e.push.apply(e,l(Go(c,r+u,n,s,o)))}},{key:"_getSVGLineTopOffset",value:function(e){var t,r=0;for(t=0;t<e;t++)r+=this.getHeightOfLine(t);var n=this.getHeightOfLine(t);return{lineTop:r,offset:(this._fontSizeMult-this._fontSizeFraction)*n/(this.lineHeight*this._fontSizeMult)}}},{key:"getSvgStyles",value:function(e){return"".concat(u(c(r.prototype),"getSvgStyles",this).call(this,e)," white-space: pre;")}},{key:"getSvgSpanStyles",value:function(e,t){var r=e.fontFamily,n=e.strokeWidth,i=e.stroke,a=e.fill,o=e.fontSize,s=e.fontStyle,u=e.fontWeight,c=e.deltaY,l=this.getSvgTextDecoration(e);return[i?dt(le,i):"",n?"stroke-width: ".concat(n,"; "):"",r?"font-family: ".concat(r.includes("'")||r.includes('"')?r:"'".concat(r,"'"),"; "):"",o?"font-size: ".concat(o,"px; "):"",s?"font-style: ".concat(s,"; "):"",u?"font-weight: ".concat(u,"; "):"",l?"text-decoration: ".concat(l,"; "):l,a?dt(ce,a):"",c?"baseline-shift: ".concat(-c,"; "):"",t?"white-space: pre; ":""].join("")}},{key:"getSvgTextDecoration",value:function(e){return["overline","underline","line-through"].filter((function(t){return e[t.replace("-","")]})).join(" ")}}]),r}(er)]),pe.setClass(Wo),pe.setSVGClass(Wo);var qo=function(){function e(r){var n=this;m(this,e),t(this,"target",void 0),t(this,"__mouseDownInPlace",!1),t(this,"__dragStartFired",!1),t(this,"__isDraggingOver",!1),t(this,"__dragStartSelection",void 0),t(this,"__dragImageDisposer",void 0),t(this,"_dispose",void 0),this.target=r;var i=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=function(){i.forEach((function(e){return e()})),n._dispose=void 0}}return g(e,[{key:"isPointerOverSelection",value:function(e){var t=this.target,r=t.getSelectionStartFromPointer(e);return t.isEditing&&r>=t.selectionStart&&r<=t.selectionEnd&&t.selectionStart<t.selectionEnd}},{key:"start",value:function(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}},{key:"isActive",value:function(){return this.__mouseDownInPlace}},{key:"end",value:function(e){var t=this.isActive();return t&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,t}},{key:"getDragStartSelection",value:function(){return this.__dragStartSelection}},{key:"setDragImage",value:function(e,t){var r,n=t.selectionStart,i=t.selectionEnd,a=this.target,o=a.canvas,s=new Se(a.flipX?-1:1,a.flipY?-1:1),u=a._getCursorBoundaries(n),c=new Se(u.left+u.leftOffset,u.top+u.topOffset).multiply(s).transform(a.calcTransformMatrix()),l=o.getScenePoint(e).subtract(c),d=a.getCanvasRetinaScaling(),f=a.getBoundingRect(),h=c.subtract(new Se(f.left,f.top)),p=o.viewportTransform,v=h.add(l).transform(p,!0),g=a.backgroundColor,m=Gn(a.styles);a.backgroundColor="";var y={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};a.setSelectionStyles(y,0,n),a.setSelectionStyles(y,i,a.text.length),a.dirty=!0;var b=a.toCanvasElement({enableRetinaScaling:o.enableRetinaScaling,viewportTransform:!0});a.backgroundColor=g,a.styles=m,a.dirty=!0,Pa(b,{position:"fixed",left:"".concat(-b.width,"px"),border:Y,width:"".concat(b.width/d,"px"),height:"".concat(b.height/d,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=function(){b.remove()},yt(e.target||this.target.hiddenTextarea).body.appendChild(b),null===(r=e.dataTransfer)||void 0===r||r.setDragImage(b,v.x,v.y)}},{key:"onDragStart",value:function(e){this.__dragStartFired=!0;var t=this.target,r=this.isActive();if(r&&e.dataTransfer){var n=this.__dragStartSelection={selectionStart:t.selectionStart,selectionEnd:t.selectionEnd},i=t._text.slice(n.selectionStart,n.selectionEnd).join(""),a=y({text:t.text,value:i},n);e.dataTransfer.setData("text/plain",i),e.dataTransfer.setData("application/fabric",JSON.stringify({value:i,styles:t.getSelectionStyles(n.selectionStart,n.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,a)}return t.abortCursorAnimation(),r}},{key:"canDrop",value:function(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){var t=this.target.getSelectionStartFromPointer(e),r=this.__dragStartSelection;return t<r.selectionStart||t>r.selectionEnd}return!0}return!1}},{key:"targetCanDrop",value:function(e){return this.target.canDrop(e)}},{key:"dragEnterHandler",value:function(e){var t=e.e,r=this.targetCanDrop(t);!this.__isDraggingOver&&r&&(this.__isDraggingOver=!0)}},{key:"dragOverHandler",value:function(e){var t=e.e,r=this.targetCanDrop(t);!this.__isDraggingOver&&r?this.__isDraggingOver=!0:this.__isDraggingOver&&!r&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(t.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}},{key:"dragLeaveHandler",value:function(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}},{key:"dropHandler",value:function(e){var t,r=e.e,n=r.defaultPrevented;this.__isDraggingOver=!1,r.preventDefault();var i=null===(t=r.dataTransfer)||void 0===t?void 0:t.getData("text/plain");if(i&&!n){var a=this.target,o=a.canvas,s=a.getSelectionStartFromPointer(r),u=(r.dataTransfer.types.includes("application/fabric")?JSON.parse(r.dataTransfer.getData("application/fabric")):{}).styles,c=i[Math.max(0,i.length-1)],l=0;if(this.__dragStartSelection){var d=this.__dragStartSelection.selectionStart,f=this.__dragStartSelection.selectionEnd;s>d&&s<=f?s=d:s>f&&(s-=f-d),a.removeChars(d,f),delete this.__dragStartSelection}a._reNewline.test(c)&&(a._reNewline.test(a._text[s])||s===a._text.length)&&(i=i.trimEnd()),e.didDrop=!0,e.dropTarget=a,a.insertChars(i,u,s),o.setActiveObject(a),a.enterEditing(r),a.selectionStart=Math.min(s+l,a._text.length),a.selectionEnd=Math.min(a.selectionStart+i.length,a._text.length),a.hiddenTextarea.value=a.text,a._updateTextarea(),a.hiddenTextarea.focus(),a.fire(ne,{index:s+l,action:"drop"}),o.fire("text:changed",{target:a}),o.contextTopDirty=!0,o.requestRenderAll()}}},{key:"dragEndHandler",value:function(e){var t=e.e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var r,n=this.target,i=this.target.canvas,a=this.__dragStartSelection,o=a.selectionStart,s=a.selectionEnd,u=(null===(r=t.dataTransfer)||void 0===r?void 0:r.dropEffect)||Y;u===Y?(n.selectionStart=o,n.selectionEnd=s,n._updateTextarea(),n.hiddenTextarea.focus()):(n.clearContextTop(),"move"===u&&(n.removeChars(o,s),n.selectionStart=n.selectionEnd=o,n.hiddenTextarea&&(n.hiddenTextarea.value=n.text),n._updateTextarea(),n.fire(ne,{index:o,action:"dragend"}),i.fire("text:changed",{target:n}),i.requestRenderAll()),n.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}},{key:"dispose",value:function(){this._dispose&&this._dispose()}}]),e}(),zo=/[ \n\.,;!\?\-]/,Yo=function(e){p(n,e);var r=v(n);function n(){var e;return m(this,n),e=r.apply(this,arguments),t(d(e),"_currentCursorOpacity",1),e}return g(n,[{key:"initBehavior",value:function(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}},{key:"onDeselect",value:function(e){return this.isEditing&&this.exitEditing(),this.selected=!1,u(c(n.prototype),"onDeselect",this).call(this,e)}},{key:"_animateCursor",value:function(e){var t=this,r=e.toValue,n=e.duration,i=e.delay,a=e.onComplete;return Yr({startValue:this._currentCursorOpacity,endValue:r,duration:n,delay:i,onComplete:a,abort:function(){return!t.canvas||t.selectionStart!==t.selectionEnd},onChange:function(e){t._currentCursorOpacity=e,t.renderCursorOrSelection()}})}},{key:"_tick",value:function(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}},{key:"_onTickComplete",value:function(){var e;null===(e=this._currentTickCompleteState)||void 0===e||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}},{key:"initDelayedCursor",value:function(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}},{key:"abortCursorAnimation",value:function(){var e=!1;[this._currentTickState,this._currentTickCompleteState].forEach((function(t){t&&!t.isDone()&&(e=!0,t.abort())})),this._currentCursorOpacity=1,e&&this.clearContextTop()}},{key:"restartCursorIfNeeded",value:function(){[this._currentTickState,this._currentTickCompleteState].some((function(e){return!e||e.isDone()}))&&this.initDelayedCursor()}},{key:"selectAll",value:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}},{key:"getSelectedText",value:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}},{key:"findWordBoundaryLeft",value:function(e){var t=0,r=e-1;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)t++,r--;for(;/\S/.test(this._text[r])&&r>-1;)t++,r--;return e-t}},{key:"findWordBoundaryRight",value:function(e){var t=0,r=e;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)t++,r++;for(;/\S/.test(this._text[r])&&r<this._text.length;)t++,r++;return e+t}},{key:"findLineBoundaryLeft",value:function(e){for(var t=0,r=e-1;!/\n/.test(this._text[r])&&r>-1;)t++,r--;return e-t}},{key:"findLineBoundaryRight",value:function(e){for(var t=0,r=e;!/\n/.test(this._text[r])&&r<this._text.length;)t++,r++;return e+t}},{key:"searchWordBoundary",value:function(e,t){for(var r=this._text,n=e>0&&this._reSpace.test(r[e])&&(-1===t||!X.test(r[e-1]))?e-1:e,i=r[n];n>0&&n<r.length&&!zo.test(i);)i=r[n+=t];return-1===t&&zo.test(i)&&n++,n}},{key:"selectWord",value:function(e){e=e||this.selectionStart;var t=this.searchWordBoundary(e,-1),r=Math.max(t,this.searchWordBoundary(e,1));this.selectionStart=t,this.selectionEnd=r,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}},{key:"selectLine",value:function(e){e=e||this.selectionStart;var t=this.findLineBoundaryLeft(e),r=this.findLineBoundaryRight(e);return this.selectionStart=t,this.selectionEnd=r,this._fireSelectionChanged(),this._updateTextarea(),this}},{key:"enterEditing",value:function(e){!this.isEditing&&this.editable&&(this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered",e?{e:e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:e}),this.canvas.requestRenderAll()))}},{key:"updateSelectionOnMouseMove",value:function(e){if(!this.getActiveControl()){var t=this.hiddenTextarea;yt(t).activeElement!==t&&t.focus();var r=this.getSelectionStartFromPointer(e),n=this.selectionStart,i=this.selectionEnd;(r===this.__selectionStartOnMouseDown&&n!==i||n!==r&&i!==r)&&(r>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=r):(this.selectionStart=r,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===i||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}}},{key:"_setEditingProps",value:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}},{key:"fromStringToGraphemeSelection",value:function(e,t,r){var n=r.slice(0,e),i=this.graphemeSplit(n).length;if(e===t)return{selectionStart:i,selectionEnd:i};var a=r.slice(e,t);return{selectionStart:i,selectionEnd:i+this.graphemeSplit(a).length}}},{key:"fromGraphemeToStringSelection",value:function(e,t,r){var n=r.slice(0,e).join("").length;return e===t?{selectionStart:n,selectionEnd:n}:{selectionStart:n,selectionEnd:n+r.slice(e,t).join("").length}}},{key:"_updateTextarea",value:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}},{key:"updateFromTextArea",value:function(){if(this.hiddenTextarea){this.cursorOffsetCache={};var e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();var t=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}}},{key:"updateTextareaPosition",value:function(){if(this.selectionStart===this.selectionEnd){var e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}},{key:"_calcTextareaPosition",value:function(){if(!this.canvas)return{left:"1px",top:"1px"};var e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),r=this.get2DCursorLocation(e),n=r.lineIndex,i=r.charIndex,a=this.getValueOfPropertyAt(n,i,"fontSize")*this.lineHeight,o=t.leftOffset,s=this.getCanvasRetinaScaling(),u=this.canvas.upperCanvasEl,c=u.width/s,l=u.height/s,d=c-a,f=l-a,h=new Se(t.left+o,t.top+t.topOffset+a).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new Se(u.clientWidth/c,u.clientHeight/l));return h.x<0&&(h.x=0),h.x>d&&(h.x=d),h.y<0&&(h.y=0),h.y>f&&(h.y=f),h.x+=this.canvas._offset.left,h.y+=this.canvas._offset.top,{left:"".concat(h.x,"px"),top:"".concat(h.y,"px"),fontSize:"".concat(a,"px"),charHeight:a}}},{key:"_saveEditingProps",value:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}},{key:"_restoreEditingProps",value:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}},{key:"_exitEditing",value:function(){var e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}},{key:"exitEditing",value:function(){var e=this._textBeforeEdit!==this.text;return this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),e&&this.fire(de),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}},{key:"_removeExtraneousStyles",value:function(){for(var e in this.styles)this._textLines[e]||delete this.styles[e]}},{key:"removeStyleFromTo",value:function(e,t){var r=this.get2DCursorLocation(e,!0),n=r.lineIndex,i=r.charIndex,a=this.get2DCursorLocation(t,!0),o=a.lineIndex,s=a.charIndex;if(n!==o){if(this.styles[n])for(var u=i;u<this._unwrappedTextLines[n].length;u++)delete this.styles[n][u];if(this.styles[o])for(var c=s;c<this._unwrappedTextLines[o].length;c++){var l=this.styles[o][c];l&&(this.styles[n]||(this.styles[n]={}),this.styles[n][i+c-s]=l)}for(var d=n+1;d<=o;d++)delete this.styles[d];this.shiftLineStyles(o,n-o)}else if(this.styles[n]){for(var f=this.styles[n],h=s-i,p=i;p<s;p++)delete f[p];for(var v in this.styles[n]){var g=parseInt(v,10);g>=s&&(f[g-h]=f[v],delete f[v])}}}},{key:"shiftLineStyles",value:function(e,t){var r=Object.assign({},this.styles);for(var n in this.styles){var i=parseInt(n,10);i>e&&(this.styles[i+t]=r[i],r[i-t]||delete this.styles[i])}}},{key:"insertNewlineStyleObject",value:function(e,t,r,n){var i={},a=this._unwrappedTextLines[e].length,o=a===t,s=!1;r||(r=1),this.shiftLineStyles(e,r);var u=this.styles[e]?this.styles[e][0===t?t:t-1]:void 0;for(var c in this.styles[e]){var l=parseInt(c,10);l>=t&&(s=!0,i[l-t]=this.styles[e][c],o&&0===t||delete this.styles[e][c])}var d=!1;for(s&&!o&&(this.styles[e+r]=i,d=!0),(d||a>t)&&r--;r>0;)n&&n[r-1]?this.styles[e+r]={0:y({},n[r-1])}:u?this.styles[e+r]={0:y({},u)}:delete this.styles[e+r],r--;this._forceClearCache=!0}},{key:"insertCharStyleObject",value:function(e,t,r,n){this.styles||(this.styles={});var i=this.styles[e],a=i?y({},i):{};for(var o in r||(r=1),a){var s=parseInt(o,10);s>=t&&(i[s+r]=a[s],a[s-r]||delete i[s])}if(this._forceClearCache=!0,n)for(;r--;)Object.keys(n[r]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][t+r]=y({},n[r]));else if(i)for(var u=i[t?t-1:1];u&&r--;)this.styles[e][t+r]=y({},u)}},{key:"insertNewStyleBlock",value:function(e,t,r){for(var n,i=this.get2DCursorLocation(t,!0),a=[0],o=0,s=0;s<e.length;s++)"\n"===e[s]?a[++o]=0:a[o]++;for(a[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,a[0],r),r=r&&r.slice(a[0]+1)),o&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+a[0],o),n=1;n<o;n++)a[n]>0?this.insertCharStyleObject(i.lineIndex+n,0,a[n],r):r&&this.styles[i.lineIndex+n]&&r[0]&&(this.styles[i.lineIndex+n][0]=r[0]),r=r&&r.slice(a[n]+1);a[n]>0&&this.insertCharStyleObject(i.lineIndex+n,0,a[n],r)}},{key:"removeChars",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e+1;this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}},{key:"insertChars",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;n>r&&this.removeStyleFromTo(r,n);var i=this.graphemeSplit(e);this.insertNewStyleBlock(i,r,t),this._text=[].concat(l(this._text.slice(0,r)),l(i),l(this._text.slice(n))),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}},{key:"setSelectionStartEndWithShift",value:function(e,t,r){r<=e?(t===e?this._selectionDirection=H:this._selectionDirection===z&&(this._selectionDirection=H,this.selectionEnd=e),this.selectionStart=r):r>e&&r<t?this._selectionDirection===z?this.selectionEnd=r:this.selectionStart=r:(t===e?this._selectionDirection=z:this._selectionDirection===H&&(this._selectionDirection=z,this.selectionStart=t),this.selectionEnd=r)}}]),n}(Wo),Xo=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"initHiddenTextarea",value:function(){var e=this,t=this.canvas&&yt(this.canvas.getElement())||I(),r=t.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map((function(e){var t=f(e,2),n=t[0],i=t[1];return r.setAttribute(n,i)}));var n=this._calcTextareaPosition(),i=n.top,a=n.left,o=n.fontSize;r.style.cssText="position: absolute; top: ".concat(i,"; left: ").concat(a,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(o,";"),(this.hiddenTextareaContainer||t.body).appendChild(r),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map((function(t){var n=f(t,2),i=n[0],a=n[1];return r.addEventListener(i,e[a].bind(e))})),this.hiddenTextarea=r}},{key:"blur",value:function(){this.abortCursorAnimation()}},{key:"onKeyDown",value:function(e){if(this.isEditing){var t="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(e.keyCode in t)this[t[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}}},{key:"onKeyUp",value:function(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}},{key:"onInput",value:function(e){var t=this,r=this.fromPaste;if(this.fromPaste=!1,e&&e.stopPropagation(),this.isEditing){var n=function(){t.updateFromTextArea(),t.fire(ne),t.canvas&&(t.canvas.fire("text:changed",{target:t}),t.canvas.requestRenderAll())};if(""===this.hiddenTextarea.value)return this.styles={},void n();var i,a,o,s,u=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,c=this._text.length,l=u.length,d=this.selectionStart,f=this.selectionEnd,h=d!==f,p=l-c,v=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),g=d>v.selectionStart;h?(a=this._text.slice(d,f),p+=f-d):l<c&&(a=g?this._text.slice(f+p,f):this._text.slice(d,d-p));var m=u.slice(v.selectionEnd-p,v.selectionEnd);if(a&&a.length&&(m.length&&(i=this.getSelectionStyles(d,d+1,!1),i=m.map((function(){return i[0]}))),h?(o=d,s=f):g?(o=f-a.length,s=f):(o=f,s=f+a.length),this.removeStyleFromTo(o,s)),m.length){var y=P().copyPasteData;r&&m.join("")===y.copiedText&&!w.disableStyleCopyPaste&&(i=y.copiedTextStyle),this.insertNewStyleBlock(m,d,i)}n()}}},{key:"onCompositionStart",value:function(){this.inCompositionMode=!0}},{key:"onCompositionEnd",value:function(){this.inCompositionMode=!1}},{key:"onCompositionUpdate",value:function(e){var t=e.target,r=t.selectionStart,n=t.selectionEnd;this.compositionStart=r,this.compositionEnd=n,this.updateTextareaPosition()}},{key:"copy",value:function(){if(this.selectionStart!==this.selectionEnd){var e=P().copyPasteData;e.copiedText=this.getSelectedText(),w.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}}},{key:"paste",value:function(){this.fromPaste=!0}},{key:"_getWidthBeforeCursor",value:function(e,t){var r,n=this._getLineLeftOffset(e);return t>0&&(n+=(r=this.__charBounds[e][t-1]).left+r.width),n}},{key:"getDownCursorOffset",value:function(e,t){var r=this._getSelectionForOffset(e,t),n=this.get2DCursorLocation(r),i=n.lineIndex;if(i===this._textLines.length-1||e.metaKey||34===e.keyCode)return this._text.length-r;var a=n.charIndex,o=this._getWidthBeforeCursor(i,a),s=this._getIndexOnLine(i+1,o);return this._textLines[i].slice(a).length+s+1+this.missingNewlineOffset(i)}},{key:"_getSelectionForOffset",value:function(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart}},{key:"getUpCursorOffset",value:function(e,t){var r=this._getSelectionForOffset(e,t),n=this.get2DCursorLocation(r),i=n.lineIndex;if(0===i||e.metaKey||33===e.keyCode)return-r;var a=n.charIndex,o=this._getWidthBeforeCursor(i,a),s=this._getIndexOnLine(i-1,o),u=this._textLines[i].slice(0,a),c=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+s-u.length+(1-c)}},{key:"_getIndexOnLine",value:function(e,t){for(var r,n,i=this._textLines[e],a=this._getLineLeftOffset(e),o=0,s=0,u=i.length;s<u;s++)if((a+=r=this.__charBounds[e][s].width)>t){n=!0;var c=a-r,l=a,d=Math.abs(c-t);o=Math.abs(l-t)<d?s:s-1;break}return n||(o=i.length-1),o}},{key:"moveCursorDown",value:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}},{key:"moveCursorUp",value:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",e)}},{key:"_moveCursorUpOrDown",value:function(e,t){var r=this["get".concat(e,"CursorOffset")](t,this._selectionDirection===z);if(t.shiftKey?this.moveCursorWithShift(r):this.moveCursorWithoutShift(r),0!==r){var n=this.text.length;this.selectionStart=Ar(0,this.selectionStart,n),this.selectionEnd=Ar(0,this.selectionEnd,n),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}},{key:"moveCursorWithShift",value:function(e){var t=this._selectionDirection===H?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t),0!==e}},{key:"moveCursorWithoutShift",value:function(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),0!==e}},{key:"moveCursorLeft",value:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",e)}},{key:"_move",value:function(e,t,r){var n;if(e.altKey)n=this["findWordBoundary".concat(r)](this[t]);else{if(!e.metaKey&&35!==e.keyCode&&36!==e.keyCode)return this[t]+="Left"===r?-1:1,!0;n=this["findLineBoundary".concat(r)](this[t])}return void 0!==n&&this[t]!==n&&(this[t]=n,!0)}},{key:"_moveLeft",value:function(e,t){return this._move(e,t,"Left")}},{key:"_moveRight",value:function(e,t){return this._move(e,t,"Right")}},{key:"moveCursorLeftWithoutShift",value:function(e){var t=!0;return this._selectionDirection=H,this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t}},{key:"moveCursorLeftWithShift",value:function(e){return this._selectionDirection===z&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection=H,this._moveLeft(e,"selectionStart")):void 0}},{key:"moveCursorRight",value:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}},{key:"_moveCursorLeftOrRight",value:function(e,t){var r="moveCursor".concat(e).concat(t.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[r](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}},{key:"moveCursorRightWithShift",value:function(e){return this._selectionDirection===H&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=z,this._moveRight(e,"selectionEnd")):void 0}},{key:"moveCursorRightWithoutShift",value:function(e){var t=!0;return this._selectionDirection=z,this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t}}]),r}(Yo),Ko=function(e){return!!e.button},Jo=function(e){p(n,e);var r=v(n);function n(){var e;return m(this,n),e=r.apply(this,arguments),t(d(e),"draggableTextDelegate",void 0),e}return g(n,[{key:"initBehavior",value:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new qo(this),u(c(n.prototype),"initBehavior",this).call(this)}},{key:"shouldStartDragging",value:function(){return this.draggableTextDelegate.isActive()}},{key:"onDragStart",value:function(e){return this.draggableTextDelegate.onDragStart(e)}},{key:"canDrop",value:function(e){return this.draggableTextDelegate.canDrop(e)}},{key:"onMouseDown",value:function(e){if(this.canvas){this.__newClickTime=+new Date;var t=e.pointer;this.isTripleClick(t)&&(this.fire("tripleclick",e),Pt(e.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=t,this.__lastSelected=this.selected&&!this.getActiveControl()}}},{key:"isTripleClick",value:function(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y}},{key:"doubleClickHandler",value:function(e){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(e.e))}},{key:"tripleClickHandler",value:function(e){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(e.e))}},{key:"_mouseDownHandler",value:function(e){var t=e.e;this.canvas&&this.editable&&!Ko(t)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(t)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(t)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}},{key:"_mouseDownHandlerBefore",value:function(e){var t=e.e;this.canvas&&this.editable&&!Ko(t)&&(this.selected=this===this.canvas._activeObject)}},{key:"mouseUpHandler",value:function(e){var t=e.e,r=e.transform,n=this.draggableTextDelegate.end(t);if(this.canvas){this.canvas.textEditingManager.unregister(this);var i=this.canvas._activeObject;if(i&&i!==this)return}!this.editable||this.group&&!this.group.interactive||r&&r.actionPerformed||Ko(t)||n||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(t),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}},{key:"setCursorByClick",value:function(e){var t=this.getSelectionStartFromPointer(e),r=this.selectionStart,n=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(r,n,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}},{key:"getSelectionStartFromPointer",value:function(e){for(var t=this.canvas.getScenePoint(e).transform(Me(this.calcTransformMatrix())).add(new Se(-this._getLeftOffset(),-this._getTopOffset())),r=0,n=0,i=0,a=0;a<this._textLines.length&&r<=t.y;a++)r+=this.getHeightOfLine(a),i=a,a>0&&(n+=this._textLines[a-1].length+this.missingNewlineOffset(a-1));for(var o=Math.abs(this._getLineLeftOffset(i)),s=this._textLines[i].length,u=this.__charBounds[i],c=0;c<s;c++){var l=o+u[c].kernedWidth;if(t.x<=l){Math.abs(t.x-l)<=Math.abs(t.x-o)&&n++;break}o=l,n++}return Math.min(this.flipX?s-n:n,this._text.length)}}]),n}(Xo),Zo="moveCursorUp",Qo="moveCursorDown",$o="moveCursorLeft",es="moveCursorRight",ts="exitEditing",rs=y({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:ts,27:ts,33:Zo,34:Qo,35:es,36:$o,37:$o,38:Zo,39:es,40:Qo},keysMapRtl:{9:ts,27:ts,33:Zo,34:Qo,35:$o,36:es,37:es,38:Zo,39:$o,40:Qo},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1}),ns=function(e){p(r,e);var t=v(r);function r(e,n){var i;return m(this,r),(i=t.call(this,e,y(y({},r.ownDefaults),n))).initBehavior(),i}return g(r,[{key:"type",get:function(){var e=u(c(r.prototype),"type",this);return"itext"===e?"i-text":e}},{key:"_set",value:function(e,t){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=t,this):("canvas"===e&&(this.canvas instanceof Ha&&this.canvas.textEditingManager.remove(this),t instanceof Ha&&t.textEditingManager.add(this)),u(c(r.prototype),"_set",this).call(this,e,t))}},{key:"setSelectionStart",value:function(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}},{key:"setSelectionEnd",value:function(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}},{key:"_updateAndFire",value:function(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()}},{key:"_fireSelectionChanged",value:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}},{key:"initDimensions",value:function(){this.isEditing&&this.initDelayedCursor(),u(c(r.prototype),"initDimensions",this).call(this)}},{key:"getSelectionStyles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart||0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selectionEnd,n=arguments.length>2?arguments[2]:void 0;return u(c(r.prototype),"getSelectionStyles",this).call(this,e,t,n)}},{key:"setSelectionStyles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selectionStart||0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.selectionEnd;return u(c(r.prototype),"setSelectionStyles",this).call(this,e,t,n)}},{key:"get2DCursorLocation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0;return u(c(r.prototype),"get2DCursorLocation",this).call(this,e,t)}},{key:"render",value:function(e){u(c(r.prototype),"render",this).call(this,e),this.cursorOffsetCache={},this.renderCursorOrSelection()}},{key:"toCanvasElement",value:function(e){var t=this.isEditing;this.isEditing=!1;var n=u(c(r.prototype),"toCanvasElement",this).call(this,e);return this.isEditing=t,n}},{key:"renderCursorOrSelection",value:function(){if(this.isEditing){var e=this.clearContextTop(!0);if(e){var t=this._getCursorBoundaries();this.selectionStart===this.selectionEnd?this.renderCursor(e,t):this.renderSelection(e,t),this.canvas.contextTopDirty=!0,e.restore()}}}},{key:"_getCursorBoundaries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0,r=this._getLeftOffset(),n=this._getTopOffset(),i=this._getCursorBoundariesOffsets(e,t);return{left:r,top:n,leftOffset:i.left,topOffset:i.top}}},{key:"_getCursorBoundariesOffsets",value:function(e,t){return t?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}},{key:"__getCursorBoundariesOffsets",value:function(e){for(var t=0,r=0,n=this.get2DCursorLocation(e),i=n.charIndex,a=n.lineIndex,o=0;o<a;o++)t+=this.getHeightOfLine(o);var s=this._getLineLeftOffset(a),u=this.__charBounds[a][i];u&&(r=u.left),0!==this.charSpacing&&i===this._textLines[a].length&&(r-=this._getWidthOfCharSpacing());var c={top:t,left:s+(r>0?r:0)};return"rtl"===this.direction&&(this.textAlign===z||this.textAlign===Lo||this.textAlign===Mo?c.left*=-1:this.textAlign===H||this.textAlign===jo?c.left=s-(r>0?r:0):this.textAlign!==V&&this.textAlign!==Do||(c.left=s-(r>0?r:0))),c}},{key:"renderCursorAt",value:function(e){var t=this._getCursorBoundaries(e,!0);this._renderCursor(this.canvas.contextTop,t,e)}},{key:"renderCursor",value:function(e,t){this._renderCursor(e,t,this.selectionStart)}},{key:"_renderCursor",value:function(e,t,r){var n=this.get2DCursorLocation(r),i=n.lineIndex,a=n.charIndex>0?n.charIndex-1:0,o=this.getValueOfPropertyAt(i,a,"fontSize"),s=this.getObjectScaling().x*this.canvas.getZoom(),u=this.cursorWidth/s,c=this.getValueOfPropertyAt(i,a,"deltaY"),l=t.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-o*(1-this._fontSizeFraction);this.inCompositionMode&&this.renderSelection(e,t),e.fillStyle=this.cursorColor||this.getValueOfPropertyAt(i,a,ce),e.globalAlpha=this._currentCursorOpacity,e.fillRect(t.left+t.leftOffset-u/2,l+t.top+c,u,o)}},{key:"renderSelection",value:function(e,t){var r={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,r,t)}},{key:"renderDragSourceEffect",value:function(){var e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}},{key:"renderDropTargetEffect",value:function(e){var t=this.getSelectionStartFromPointer(e);this.renderCursorAt(t)}},{key:"_renderSelection",value:function(e,t,r){for(var n=t.selectionStart,i=t.selectionEnd,a=this.textAlign.includes(Lo),o=this.get2DCursorLocation(n),s=this.get2DCursorLocation(i),u=o.lineIndex,c=s.lineIndex,l=o.charIndex<0?0:o.charIndex,d=s.charIndex<0?0:s.charIndex,f=u;f<=c;f++){var h=this._getLineLeftOffset(f)||0,p=this.getHeightOfLine(f),v=0,g=0,m=0;if(f===u&&(g=this.__charBounds[u][l].left),f>=u&&f<c)m=a&&!this.isEndOfWrapping(f)?this.width:this.getLineWidth(f)||5;else if(f===c)if(0===d)m=this.__charBounds[c][d].left;else{var y=this._getWidthOfCharSpacing();m=this.__charBounds[c][d-1].left+this.__charBounds[c][d-1].width-y}v=p,(this.lineHeight<1||f===c&&this.lineHeight>1)&&(p/=this.lineHeight);var b=r.left+h+g,S=p,E=0,x=m-g;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",S=1,E=p):e.fillStyle=this.selectionColor,"rtl"===this.direction&&(this.textAlign===z||this.textAlign===Lo||this.textAlign===Mo?b=this.width-b-x:this.textAlign===H||this.textAlign===jo?b=r.left+h-m:this.textAlign!==V&&this.textAlign!==Do||(b=r.left+h-m)),e.fillRect(b,r.top+r.topOffset+E,x,S),r.topOffset+=v}}},{key:"getCurrentCharFontSize",value:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}},{key:"getCurrentCharColor",value:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,ce)}},{key:"_getCurrentCharIndex",value:function(){var e=this.get2DCursorLocation(this.selectionStart,!0),t=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:t}}},{key:"dispose",value:function(){this._exitEditing(),this.draggableTextDelegate.dispose(),u(c(r.prototype),"dispose",this).call(this)}}],[{key:"getDefaults",value:function(){return y(y({},u(c(r),"getDefaults",this).call(this)),r.ownDefaults)}}]),r}(Jo);t(ns,"ownDefaults",rs),t(ns,"type","IText"),pe.setClass(ns),pe.setClass(ns,"i-text");var is=function(e){p(r,e);var t=v(r);function r(e,n){return m(this,r),t.call(this,e,y(y({},r.ownDefaults),n))}return g(r,[{key:"initDimensions",value:function(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(Lo)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}},{key:"_generateStyleMap",value:function(e){for(var t=0,r=0,n=0,i={},a=0;a<e.graphemeLines.length;a++)"\n"===e.graphemeText[n]&&a>0?(r=0,n++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[n])&&a>0&&(r++,n++),i[a]={line:t,offset:r},n+=e.graphemeLines[a].length,r+=e.graphemeLines[a].length;return i}},{key:"styleHas",value:function(e,t){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[t];n&&(t=n.line)}return u(c(r.prototype),"styleHas",this).call(this,e,t)}},{key:"isEmptyStyles",value:function(e){if(!this.styles)return!0;var t,r=0,n=!1,i=this._styleMap[e],a=this._styleMap[e+1];i&&(e=i.line,r=i.offset),a&&(n=a.line===e,t=a.offset);var o=void 0===e?this.styles:{line:this.styles[e]};for(var s in o)for(var u in o[s]){var c=parseInt(u,10);if(c>=r&&(!n||c<t))for(var l in o[s][u])return!1}return!0}},{key:"_getStyleDeclaration",value:function(e,t){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[e];if(!n)return{};e=n.line,t=n.offset+t}return u(c(r.prototype),"_getStyleDeclaration",this).call(this,e,t)}},{key:"_setStyleDeclaration",value:function(e,t,n){var i=this._styleMap[e];u(c(r.prototype),"_setStyleDeclaration",this).call(this,i.line,i.offset+t,n)}},{key:"_deleteStyleDeclaration",value:function(e,t){var n=this._styleMap[e];u(c(r.prototype),"_deleteStyleDeclaration",this).call(this,n.line,n.offset+t)}},{key:"_getLineStyle",value:function(e){var t=this._styleMap[e];return!!this.styles[t.line]}},{key:"_setLineStyle",value:function(e){var t=this._styleMap[e];u(c(r.prototype),"_setLineStyle",this).call(this,t.line)}},{key:"_wrapText",value:function(e,t){this.isWrapping=!0;for(var r=this.getGraphemeDataForRender(e),n=[],i=0;i<r.wordsData.length;i++)n.push.apply(n,l(this._wrapLine(i,t,r)));return this.isWrapping=!1,n}},{key:"getGraphemeDataForRender",value:function(e){var t=this,r=this.splitByGrapheme,n=r?"":" ",i=0;return{wordsData:e.map((function(e,a){var o=0,s=r?t.graphemeSplit(e):t.wordSplit(e);return 0===s.length?[{word:[],width:0}]:s.map((function(e){var s=r?[e]:t.graphemeSplit(e),u=t._measureWord(s,a,o);return i=Math.max(u,i),o+=s.length+n.length,{word:s,width:u}}))})),largestWordWidth:i}}},{key:"_measureWord",value:function(e,t){for(var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=0,a=0,o=e.length;a<o;a++)i+=this._getGraphemeBox(e[a],t,a+n,r,!0).kernedWidth,r=e[a];return i}},{key:"wordSplit",value:function(e){return e.split(this._wordJoiners)}},{key:"_wrapLine",value:function(e,t,r){var n=r.largestWordWidth,i=r.wordsData,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=this._getWidthOfCharSpacing(),s=this.splitByGrapheme,u=[],c=s?"":" ",l=0,d=[],f=0,h=0,p=!0;t-=a;var v,g=Math.max(t,n,this.dynamicMinWidth),m=i[e];for(f=0,v=0;v<m.length;v++){var y=m[v],b=y.word,S=y.width;f+=b.length,(l+=h+S-o)>g&&!p?(u.push(d),d=[],l=S,p=!0):l+=o,p||s||d.push(c),d=d.concat(b),h=s?0:this._measureWord([c],e,f),f++,p=!1}return v&&u.push(d),n+a>this.dynamicMinWidth&&(this.dynamicMinWidth=n-o+a),u}},{key:"isEndOfWrapping",value:function(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}},{key:"missingNewlineOffset",value:function(e,t){return this.splitByGrapheme&&!t?this.isEndOfWrapping(e)?1:0:1}},{key:"_splitTextIntoLines",value:function(e){for(var t=u(c(r.prototype),"_splitTextIntoLines",this).call(this,e),n=this._wrapText(t.lines,this.width),i=new Array(n.length),a=0;a<n.length;a++)i[a]=n[a].join("");return t.lines=i,t.graphemeLines=n,t}},{key:"getMinWidth",value:function(){return Math.max(this.minWidth,this.dynamicMinWidth)}},{key:"_removeExtraneousStyles",value:function(){var e=new Map;for(var t in this._styleMap){var r=parseInt(t,10);if(this._textLines[r]){var n=this._styleMap[t].line;e.set("".concat(n),!0)}}for(var i in this.styles)e.has(i)||delete this.styles[i]}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u(c(r.prototype),"toObject",this).call(this,["minWidth","splitByGrapheme"].concat(l(e)))}}],[{key:"getDefaults",value:function(){return y(y({},u(c(r),"getDefaults",this).call(this)),r.ownDefaults)}},{key:"createControls",value:function(){return{controls:On()}}}]),r}(ns);t(is,"type","Textbox"),t(is,"textLayoutProperties",[].concat(l(ns.textLayoutProperties),["width"])),t(is,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),pe.setClass(is);var as=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"shouldPerformLayout",value:function(e){return!!e.target.clipPath&&u(c(r.prototype),"shouldPerformLayout",this).call(this,e)}},{key:"shouldLayoutClipPath",value:function(){return!1}},{key:"calcLayoutResult",value:function(e,t){var r=e.target,n=r.clipPath,i=r.group;if(n&&this.shouldPerformLayout(e)){var a=It(ji(r,n)),o=a.width,s=a.height,u=new Se(o,s);if(n.absolutePositioned)return{center:Ft(n.getRelativeCenterPoint(),void 0,i?i.calcTransformMatrix():void 0),size:u};var c=n.getRelativeCenterPoint().transform(r.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){var l=this.calcBoundingBox(t,e)||{},d=l.center,f=void 0===d?new Se:d,h=l.correction,p=void 0===h?new Se:h;return{center:f.add(c),correction:p.subtract(c),size:u}}return{center:r.getRelativeCenterPoint().add(c),size:u}}}}]),r}(Mi);t(as,"type","clip-path"),pe.setClass(as);var os=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"getInitialSize",value:function(e,t){var r=e.target,n=t.size;return new Se(r.width||n.x,r.height||n.y)}}]),r}(Mi);t(os,"type","fixed"),pe.setClass(os);var ss=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"subscribeTargets",value:function(e){var t=e.target;e.targets.reduce((function(e,t){return t.parent&&e.add(t.parent),e}),new Set).forEach((function(e){e.layoutManager.subscribeTargets({target:e,targets:[t]})}))}},{key:"unsubscribeTargets",value:function(e){var t=e.target,r=t.getObjects();e.targets.reduce((function(e,t){return t.parent&&e.add(t.parent),e}),new Set).forEach((function(e){!r.some((function(t){return t.parent===e}))&&e.layoutManager.unsubscribeTargets({target:e,targets:[t]})}))}}]),r}(Gi),us=function(e){p(r,e);var t=v(r);function r(){var e;m(this,r);var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=t.call(this),Object.assign(d(e),r.ownDefaults),e.setOptions(i);var a=i.left,o=i.top,s=i.layoutManager;return e.groupInit(n,{left:a,top:o,layoutManager:null!=s?s:new ss}),e}return g(r,[{key:"_shouldSetNestedCoords",value:function(){return!0}},{key:"__objectSelectionMonitor",value:function(){}},{key:"multiSelectAdd",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];"selection-order"===this.multiSelectionStacking?this.add.apply(this,r):r.forEach((function(t){var r=e._objects.findIndex((function(e){return e.isInFrontOf(t)})),n=-1===r?e.size():r;e.insertAt(n,t)}))}},{key:"canEnterGroup",value:function(e){return this.getObjects().some((function(t){return t.isDescendantOf(e)||e.isDescendantOf(t)}))?(k("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):u(c(r.prototype),"canEnterGroup",this).call(this,e)}},{key:"enterGroup",value:function(e,t){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,t)}},{key:"exitGroup",value:function(e,t){this._exitGroup(e,t),e.parent&&e.parent._enterGroup(e,!0)}},{key:"_onAfterObjectsChange",value:function(e,t){u(c(r.prototype),"_onAfterObjectsChange",this).call(this,e,t);var n=new Set;t.forEach((function(e){var t=e.parent;t&&n.add(t)})),e===Ni?n.forEach((function(e){e._onAfterObjectsChange(Ri,t)})):n.forEach((function(e){e._set("dirty",!0)}))}},{key:"onDeselect",value:function(){return this.removeAll(),!1}},{key:"toString",value:function(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}},{key:"shouldCache",value:function(){return!1}},{key:"isOnACache",value:function(){return!1}},{key:"_renderControls",value:function(e,t,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;for(var i=y(y({hasControls:!1},n),{},{forActiveSelection:!0}),a=0;a<this._objects.length;a++)this._objects[a]._renderControls(e,i);u(c(r.prototype),"_renderControls",this).call(this,e,t),e.restore()}}],[{key:"getDefaults",value:function(){return y(y({},u(c(r),"getDefaults",this).call(this)),r.ownDefaults)}}]),r}(Wi);t(us,"type","ActiveSelection"),t(us,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),pe.setClass(us),pe.setClass(us,"activeSelection");var cs,ls=function(){function e(){m(this,e),t(this,"resources",{})}return g(e,[{key:"applyFilters",value:function(e,t,r,n,i){var a=i.getContext("2d");if(a){a.drawImage(t,0,0,r,n);var o={sourceWidth:r,sourceHeight:n,imageData:a.getImageData(0,0,r,n),originalEl:t,originalImageData:a.getImageData(0,0,r,n),canvasEl:i,ctx:a,filterBackend:this};e.forEach((function(e){e.applyTo(o)}));var s=o.imageData;return s.width===r&&s.height===n||(i.width=s.width,i.height=s.height),a.putImageData(s,0,0),o}}}]),e}(),ds=function(){function e(){m(this,e);var r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).tileSize,n=void 0===r?w.textureSize:r;t(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),t(this,"resources",{}),this.tileSize=n,this.setupGLContext(n,n),this.captureGPUInfo()}return g(e,[{key:"setupGLContext",value:function(e,t){this.dispose(),this.createWebGLCanvas(e,t)}},{key:"createWebGLCanvas",value:function(e,t){var r=Pe();r.width=e,r.height=t;var n=r.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});n&&(n.clearColor(0,0,0,0),this.canvas=r,this.gl=n)}},{key:"applyFilters",value:function(e,t,r,n,i,a){var o=this.gl,s=i.getContext("2d");if(o&&s){var u;a&&(u=this.getCachedTexture(a,t));var c={originalWidth:t.width||t.originalWidth||0,originalHeight:t.height||t.originalHeight||0,sourceWidth:r,sourceHeight:n,destinationWidth:r,destinationHeight:n,context:o,sourceTexture:this.createTexture(o,r,n,u?void 0:t),targetTexture:this.createTexture(o,r,n),originalTexture:u||this.createTexture(o,r,n,u?void 0:t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:i},l=o.createFramebuffer();return o.bindFramebuffer(o.FRAMEBUFFER,l),e.forEach((function(e){e&&e.applyTo(c)})),function(e){var t=e.targetCanvas,r=t.width,n=t.height,i=e.destinationWidth,a=e.destinationHeight;r===i&&n===a||(t.width=i,t.height=a)}(c),this.copyGLTo2D(o,c),o.bindTexture(o.TEXTURE_2D,null),o.deleteTexture(c.sourceTexture),o.deleteTexture(c.targetTexture),o.deleteFramebuffer(l),s.setTransform(1,0,0,1,0,0),c}}},{key:"dispose",value:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}},{key:"clearWebGLCaches",value:function(){this.programCache={},this.textureCache={}}},{key:"createTexture",value:function(e,t,r,n,i){var a=e.NEAREST,o=e.TEXTURE_2D,s=e.RGBA,u=e.UNSIGNED_BYTE,c=e.CLAMP_TO_EDGE,l=e.TEXTURE_MAG_FILTER,d=e.TEXTURE_MIN_FILTER,f=e.TEXTURE_WRAP_S,h=e.TEXTURE_WRAP_T,p=e.createTexture();return e.bindTexture(o,p),e.texParameteri(o,l,i||a),e.texParameteri(o,d,i||a),e.texParameteri(o,f,c),e.texParameteri(o,h,c),n?e.texImage2D(o,0,s,s,u,n):e.texImage2D(o,0,s,t,r,0,s,u,null),p}},{key:"getCachedTexture",value:function(e,t,r){var n=this.textureCache;if(n[e])return n[e];var i=this.createTexture(this.gl,t.width,t.height,t,r);return i&&(n[e]=i),i}},{key:"evictCachesForKey",value:function(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}},{key:"copyGLTo2D",value:function(e,t){var r=e.canvas,n=t.targetCanvas,i=n.getContext("2d");if(i){i.translate(0,n.height),i.scale(1,-1);var a=r.height-n.height;i.drawImage(r,0,a,n.width,n.height,0,0,n.width,n.height)}}},{key:"copyGLTo2DPutImageData",value:function(e,t){var r=t.targetCanvas.getContext("2d"),n=t.destinationWidth,i=t.destinationHeight,a=n*i*4;if(r){var o=new Uint8Array(this.imageBuffer,0,a),s=new Uint8ClampedArray(this.imageBuffer,0,a);e.readPixels(0,0,n,i,e.RGBA,e.UNSIGNED_BYTE,o);var u=new ImageData(s,n,i);r.putImageData(u,0,0)}}},{key:"captureGPUInfo",value:function(){if(this.gpuInfo)return this.gpuInfo;var e=this.gl,t={renderer:"",vendor:""};if(!e)return t;var r=e.getExtension("WEBGL_debug_renderer_info");if(r){var n=e.getParameter(r.UNMASKED_RENDERER_WEBGL),i=e.getParameter(r.UNMASKED_VENDOR_WEBGL);n&&(t.renderer=n.toLowerCase()),i&&(t.vendor=i.toLowerCase())}return this.gpuInfo=t,t}}]),e}();function fs(){var e=P().WebGLProbe;return e.queryWebGL(Pe()),w.enableGLFiltering&&e.isSupported(w.textureSize)?new ds({tileSize:w.textureSize}):new ls}function hs(){return!cs&&(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(cs=fs()),cs}var ps=["filters","resizeFilter","src","crossOrigin","type"],vs=["cropX","cropY"],gs=function(e){p(n,e);var r=v(n);function n(e,i){var a;return m(this,n),a=r.call(this),t(d(a),"_lastScaleX",1),t(d(a),"_lastScaleY",1),t(d(a),"_filterScalingX",1),t(d(a),"_filterScalingY",1),a.filters=[],Object.assign(d(a),n.ownDefaults),a.setOptions(i),a.cacheKey="texture".concat(Ce()),a.setElement("string"==typeof e?(a.canvas&&yt(a.canvas.getElement())||I()).getElementById(e):e,i),a}return g(n,[{key:"getElement",value:function(){return this._element}},{key:"setElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(t),e.classList.add(n.CSS_CANVAS),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}},{key:"removeTexture",value:function(e){var t=hs(!1);t instanceof ds&&t.evictCachesForKey(e)}},{key:"dispose",value:function(){var e=this;u(c(n.prototype),"dispose",this).call(this),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(t){var r=e[t];r&&P().dispose(r),e[t]=void 0}))}},{key:"getCrossOrigin",value:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)}},{key:"getOriginalSize",value:function(){var e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}},{key:"_stroke",value:function(e){if(this.stroke&&0!==this.strokeWidth){var t=this.width/2,r=this.height/2;e.beginPath(),e.moveTo(-t,-r),e.lineTo(t,-r),e.lineTo(t,r),e.lineTo(-t,r),e.lineTo(-t,-r),e.closePath()}}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return this.filters.forEach((function(e){e&&t.push(e.toObject())})),y(y({},u(c(n.prototype),"toObject",this).call(this,[].concat(vs,l(e)))),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:t},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}},{key:"hasCrop",value:function(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}},{key:"_toSVG",value:function(){var e=[],t=this._element,r=-this.width/2,n=-this.height/2,i=[],a=[],o="",s="";if(!t)return[];if(this.hasCrop()){var u=Ce();i.push('<clipPath id="imageCrop_'+u+'">\n','\t<rect x="'+r+'" y="'+n+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),o=' clip-path="url(#imageCrop_'+u+')" '}if(this.imageSmoothing||(s=' image-rendering="optimizeSpeed"'),e.push("\t<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(r-this.cropX,'" y="').concat(n-this.cropY,'" width="').concat(t.width||t.naturalWidth,'" height="').concat(t.height||t.naturalHeight,'"').concat(s).concat(o,"></image>\n")),this.stroke||this.strokeDashArray){var c=this.fill;this.fill=null,a=['\t<rect x="'.concat(r,'" y="').concat(n,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),'" />\n')],this.fill=c}return i=this.paintFirst!==ce?i.concat(a,e):i.concat(e,a)}},{key:"getSrc",value:function(e){var t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src")||"":t.src:this.src||""}},{key:"getSvgSrc",value:function(e){return this.getSrc(e)}},{key:"setSrc",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.crossOrigin,i=r.signal;return Ke(e,{crossOrigin:n,signal:i}).then((function(e){void 0!==n&&t.set({crossOrigin:n}),t.setElement(e)}))}},{key:"toString",value:function(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}},{key:"applyResizeFilters",value:function(){var e=this.resizeFilter,t=this.minimumScaleTrigger,r=this.getTotalObjectScaling(),n=r.x,i=r.y,a=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||n>t&&i>t)return this._element=a,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=n,void(this._lastScaleY=i);var o=Pe(),s=a.width,u=a.height;o.width=s,o.height=u,this._element=o,this._lastScaleX=e.scaleX=n,this._lastScaleY=e.scaleY=i,hs().applyFilters([e],a,s,u,this._element),this._filterScalingX=o.width/this._originalElement.width,this._filterScalingY=o.height/this._originalElement.height}},{key:"applyFilters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.filters||[];if(e=e.filter((function(e){return e&&!e.isNeutralState()})),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),0===e.length)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);var t=this._originalElement,r=t.naturalWidth||t.width,n=t.naturalHeight||t.height;if(this._element===this._originalElement){var i=Pe();i.width=r,i.height=n,this._element=i,this._filteredEl=i}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,r,n),this._lastScaleX=1,this._lastScaleY=1);hs().applyFilters(e,this._originalElement,r,n,this._element),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}},{key:"_render",value:function(e){e.imageSmoothingEnabled=this.imageSmoothing,!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}},{key:"drawCacheOnCanvas",value:function(e){e.imageSmoothingEnabled=this.imageSmoothing,u(c(n.prototype),"drawCacheOnCanvas",this).call(this,e)}},{key:"shouldCache",value:function(){return this.needsItsOwnCache()}},{key:"_renderFill",value:function(e){var t=this._element;if(t){var r=this._filterScalingX,n=this._filterScalingY,i=this.width,a=this.height,o=Math.max(this.cropX,0),s=Math.max(this.cropY,0),u=t.naturalWidth||t.width,c=t.naturalHeight||t.height,l=o*r,d=s*n,f=Math.min(i*r,u-l),h=Math.min(a*n,c-d),p=-i/2,v=-a/2,g=Math.min(i,u/r-o),m=Math.min(a,c/n-s);t&&e.drawImage(t,l,d,f,h,p,v,g,m)}}},{key:"_needsResize",value:function(){var e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}},{key:"_resetWidthHeight",value:function(){this.set(this.getOriginalSize())}},{key:"_setWidthHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,r=e.height,n=this.getOriginalSize();this.width=t||n.width,this.height=r||n.height}},{key:"parsePreserveAspectRatioAttribute",value:function(){var e,t=ct(this.preserveAspectRatio||""),r=this.width,n=this.height,i={width:r,height:n},a=this._element.width,o=this._element.height,s=1,u=1,c=0,l=0,d=0,f=0;return!t||t.alignX===Y&&t.alignY===Y?(s=r/a,u=n/o):("meet"===t.meetOrSlice&&(e=(r-a*(s=u=zi(this._element,i)))/2,"Min"===t.alignX&&(c=-e),"Max"===t.alignX&&(c=e),e=(n-o*u)/2,"Min"===t.alignY&&(l=-e),"Max"===t.alignY&&(l=e)),"slice"===t.meetOrSlice&&(e=a-r/(s=u=Yi(this._element,i)),"Mid"===t.alignX&&(d=e/2),"Max"===t.alignX&&(d=e),e=o-n/u,"Mid"===t.alignY&&(f=e/2),"Max"===t.alignY&&(f=e),a=r/s,o=n/u)),{width:a,height:o,scaleX:s,scaleY:u,offsetLeft:c,offsetTop:l,cropX:d,cropY:f}}}],[{key:"getDefaults",value:function(){return y(y({},u(c(n),"getDefaults",this).call(this)),n.ownDefaults)}},{key:"fromObject",value:function(e,t){var r=this,n=e.filters,i=e.resizeFilter,a=e.src,o=e.crossOrigin,s=(e.type,b(e,ps));return Promise.all([Ke(a,y(y({},t),{},{crossOrigin:o})),n&&Je(n,t),i&&Je([i],t),Ze(s,t)]).then((function(e){var t=f(e,4),n=t[0],i=t[1],o=void 0===i?[]:i,u=t[2],c=f(void 0===u?[]:u,1)[0],l=t[3],d=void 0===l?{}:l;return new r(n,y(y({},s),{},{src:a,filters:o,resizeFilter:c},d))}))}},{key:"fromURL",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.crossOrigin,i=void 0===n?null:n,a=r.signal,o=arguments.length>2?arguments[2]:void 0;return Ke(e,{crossOrigin:i,signal:a}).then((function(e){return new t(e,o)}))}},{key:"fromElement",value:function(){var e=s(o().mark((function e(t){var r,n,i,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2?a[2]:void 0,i=Ai(t,this.ATTRIBUTE_NAMES,n),e.abrupt("return",this.fromURL(i["xlink:href"],r,i).catch((function(e){return k("log","Unable to parse Image",e),null})));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(Ln);function ms(e){if(!cr.test(e.nodeName))return{};var t,r,n=e.getAttribute("viewBox"),i=1,a=1,o=0,s=0,u=e.getAttribute("width"),c=e.getAttribute("height"),l=e.getAttribute("x")||0,d=e.getAttribute("y")||0,f=!(n&&dr.test(n)),h=!u||!c||"100%"===u||"100%"===c,p="",v=0,g=0;if(f&&(l||d)&&e.parentNode&&"#document"!==e.parentNode.nodeName&&(p=" translate("+ut(l||"0")+" "+ut(d||"0")+") ",t=(e.getAttribute("transform")||"")+p,e.setAttribute("transform",t),e.removeAttribute("x"),e.removeAttribute("y")),f&&h)return{width:0,height:0};var m={width:0,height:0};if(f)return m.width=ut(u),m.height=ut(c),m;var y=n.match(dr);o=-parseFloat(y[1]),s=-parseFloat(y[2]);var b=parseFloat(y[3]),S=parseFloat(y[4]);m.minX=o,m.minY=s,m.viewBoxWidth=b,m.viewBoxHeight=S,h?(m.width=b,m.height=S):(m.width=ut(u),m.height=ut(c),i=m.width/b,a=m.height/S);var E=ct(e.getAttribute("preserveAspectRatio")||"");if(E.alignX!==Y&&("meet"===E.meetOrSlice&&(a=i=i>a?a:i),"slice"===E.meetOrSlice&&(a=i=i>a?i:a),v=m.width-b*i,g=m.height-S*i,"Mid"===E.alignX&&(v/=2),"Mid"===E.alignY&&(g/=2),"Min"===E.alignX&&(v=0),"Min"===E.alignY&&(g=0)),1===i&&1===a&&0===o&&0===s&&0===l&&0===d)return m;if((l||d)&&"#document"!==e.parentNode.nodeName&&(p=" translate("+ut(l||"0")+" "+ut(d||"0")+") "),t=p+" matrix("+i+" 0 0 "+a+" "+(o*i+v)+" "+(s*a+g)+") ","svg"===e.nodeName){for(r=e.ownerDocument.createElementNS(nr,"g");e.firstChild;)r.appendChild(e.firstChild);e.appendChild(r)}else(r=e).removeAttribute("x"),r.removeAttribute("y"),t=r.getAttribute("transform")+t;return r.setAttribute("transform",t),m}t(gs,"type","Image"),t(gs,"cacheProperties",[].concat(Pr,vs)),t(gs,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),t(gs,"CSS_CANVAS","canvas-img"),t(gs,"ATTRIBUTE_NAMES",[].concat(Kn,["x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"])),pe.setClass(gs),pe.setSVGClass(gs);var ys=function(e){return e.tagName.replace("svg:","")},bs=tr(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);function Ss(e,t){var r,n,i,a,o=[];for(i=0,a=t.length;i<a;i++)r=t[i],n=e.getElementsByTagNameNS("http://www.w3.org/2000/svg",r),o=o.concat(Array.from(n));return o}var Es=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],xs="xlink:href";function ws(e,t){var r,n=(null===(r=t.getAttribute(xs))||void 0===r?void 0:r.slice(1))||"",i=e.getElementById(n);if(i&&i.getAttribute(xs)&&ws(e,i),i&&(Es.forEach((function(e){var r=i.getAttribute(e);!t.hasAttribute(e)&&r&&t.setAttribute(e,r)})),!t.children.length))for(var a=i.cloneNode(!0);a.firstChild;)t.appendChild(a.firstChild);t.removeAttribute(xs)}var ks=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"];function _s(e){var t,r,n=e.getElementsByTagName("style"),i={};for(t=0,r=n.length;t<r;t++){var a=(n[t].textContent||"").replace(/\/\*[\s\S]*?\*\//g,"");""!==a.trim()&&a.split("}").filter((function(e,t,r){return r.length>1&&e.trim()})).forEach((function(e){if(!((e.match(/{/g)||[]).length>1&&e.trim().startsWith("@"))){var n=e.split("{"),a={},o=n[1].trim().split(";").filter((function(e){return e.trim()}));for(t=0,r=o.length;t<r;t++){var s=o[t].split(":"),u=s[0].trim(),c=s[1].trim();a[u]=c}(e=n[0].trim()).split(",").forEach((function(e){""!==(e=e.replace(/^svg/i,"").trim())&&(i[e]=y(y({},i[e]||{}),a))}))}}))}return i}var Ts=function(e){return pe.getSVGClass(ys(e).toLowerCase())},As=function(){function e(t,r,n,i,a){m(this,e),this.elements=t,this.options=r,this.reviver=n,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=i,this.clipPaths=a,this.gradientDefs=function(e){for(var t=Ss(e,ks),r={},n=t.length;n--;){var i=t[n];i.getAttribute("xlink:href")&&ws(e,i);var a=i.getAttribute("id");a&&(r[a]=i)}return r}(i),this.cssRules=_s(i)}return g(e,[{key:"parse",value:function(){var e=this;return Promise.all(this.elements.map((function(t){return e.createObject(t)})))}},{key:"createObject",value:function(){var e=s(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=Ts(t))){e.next=12;break}return e.next=4,r.fromElement(t,this.options,this.cssRules);case 4:return n=e.sent,this.resolveGradient(n,t,ce),this.resolveGradient(n,t,le),n instanceof gs&&n._originalElement?Ra(n,n.parsePreserveAspectRatioAttribute()):Ra(n),e.next=10,this.resolveClipPath(n,t);case 10:return this.reviver&&this.reviver(t,n),e.abrupt("return",n);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"extractPropertyDefinition",value:function(e,t,r){var n=e[t],i=this.regexUrl;if(i.test(n)){i.lastIndex=0;var a=i.exec(n)[1];return i.lastIndex=0,r[a]}}},{key:"resolveGradient",value:function(e,t,r){var n=this.extractPropertyDefinition(e,r,this.gradientDefs);if(n){var i=t.getAttribute(r+"-opacity"),a=io.fromElement(n,e,y(y({},this.options),{},{opacity:i}));e.set(r,a)}}},{key:"resolveClipPath",value:function(){var e=s(o().mark((function e(t,r){var n,i,a,s,u,c,l,d,f,h,p,v,g,m,y,b=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.extractPropertyDefinition(t,"clipPath",this.clipPaths))){e.next=21;break}for(i=Me(t.calcTransformMatrix()),a=n[0].parentElement,s=r;s.parentElement&&s.getAttribute("clip-path")!==t.clipPath;)s=s.parentElement;return s.parentElement.appendChild(a),u=Ei("".concat(s.getAttribute("transform")||""," ").concat(a.getAttribute("originalTransform")||"")),a.setAttribute("transform","matrix(".concat(u.join(","),")")),e.next=10,Promise.all(n.map((function(e){return Ts(e).fromElement(e,b.options,b.cssRules).then((function(e){return Ra(e),e.fillRule=e.clipRule,delete e.clipRule,e}))})));case 10:if(c=e.sent,l=1===c.length?c[0]:new Wi(c),d=De(i,l.calcTransformMatrix()),e.t0=l.clipPath,!e.t0){e.next=17;break}return e.next=17,this.resolveClipPath(l,s);case 17:f=Be(d),h=f.scaleX,p=f.scaleY,v=f.angle,g=f.skewX,m=f.translateX,y=f.translateY,l.set({flipX:!1,flipY:!1}),l.set({scaleX:h,scaleY:p,angle:v,skewX:g,skewY:0}),l.setPositionByOrigin(new Se(m,y),V,V),t.clipPath=l,e.next=22;break;case 21:delete t.clipPath;case 22:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()}]),e}(),Cs=function(e){return ur.test(ys(e))},Ps=function(){return{objects:[],elements:[],options:{},allElements:[]}};function Is(e,t){return Os.apply(this,arguments)}function Os(){return Os=s(o().mark((function e(t,r){var n,a,s,u,c,d,h,p,v,g=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=g.length>2&&void 0!==g[2]?g[2]:{},a=n.crossOrigin,!(s=n.signal)||!s.aborted){e.next=3;break}return e.abrupt("return",(k("log",new T("parseSVGDocument")),Ps()));case 3:if(u=t.documentElement,function(e){var t,r=Ss(e,["use","svg:use"]),n=["x","y","xlink:href","href","transform"],a=i(r);try{var o,s=function(){var r,a=t.value,o=a.attributes,s={},u=i(o);try{for(u.s();!(r=u.n()).done;){var c=r.value;c.value&&(s[c.name]=c.value)}}catch(I){u.e(I)}finally{u.f()}var d=(s["xlink:href"]||s.href||"").slice(1);if(""===d)return{v:void 0};var h=e.getElementById(d);if(null===h)return{v:void 0};var p,v=h.cloneNode(!0),g=v.attributes,m={},y=i(g);try{for(y.s();!(p=y.n()).done;){var b=p.value;b.value&&(m[b.name]=b.value)}}catch(I){y.e(I)}finally{y.f()}var S=s.x,E=void 0===S?0:S,x=s.y,w=void 0===x?0:x,k=s.transform,_="".concat(void 0===k?"":k," ").concat(m.transform||""," translate(").concat(E,", ").concat(w,")");if(ms(v),/^svg$/i.test(v.nodeName)){var T=v.ownerDocument.createElementNS(nr,"g");Object.entries(m).forEach((function(e){var t=f(e,2),r=t[0],n=t[1];return T.setAttributeNS(nr,r,n)})),T.append.apply(T,l(v.childNodes)),v=T}var A,C=i(o);try{var P=function(){var e=A.value;if(!e)return 1;var t=e.name,r=e.value;if(!n.includes(t))if("style"===t){var i={};ki(r,i),Object.entries(m).forEach((function(e){var t=f(e,2),r=t[0],n=t[1];i[r]=n})),ki(m.style||"",i);var a=Object.entries(i).map((function(e){return e.join(":")})).join(";");v.setAttribute(t,a)}else!m[t]&&v.setAttribute(t,r)};for(C.s();!(A=C.n()).done;)P()}catch(I){C.e(I)}finally{C.f()}v.setAttribute("transform",_),v.setAttribute("instantiated_by_use","1"),v.removeAttribute("id"),a.parentNode.replaceChild(v,a)};for(a.s();!(t=a.n()).done;)if(o=s())return o.v}catch(u){a.e(u)}finally{a.f()}}(t),c=Array.from(u.getElementsByTagName("*")),d=y(y({},ms(u)),{},{crossOrigin:a,signal:s}),h=c.filter((function(e){return ms(e),Cs(e)&&!function(e){for(var t=e;t&&(t=t.parentElement);)if(t&&t.nodeName&&bs.test(ys(t))&&!t.getAttribute("instantiated_by_use"))return!0;return!1}(e)})),h&&(!h||h.length)){e.next=8;break}return e.abrupt("return",y(y({},Ps()),{},{options:d,allElements:c}));case 8:return p={},c.filter((function(e){return"clipPath"===ys(e)})).forEach((function(e){e.setAttribute("originalTransform",e.getAttribute("transform")||"");var t=e.getAttribute("id");p[t]=Array.from(e.getElementsByTagName("*")).filter((function(e){return Cs(e)}))})),v=new As(h,d,r,t,p),e.next=13,v.parse();case 13:return e.t0=e.sent,e.t1=h,e.t2=d,e.t3=c,e.abrupt("return",{objects:e.t0,elements:e.t1,options:e.t2,allElements:e.t3});case 18:case"end":return e.stop()}}),e)}))),Os.apply(this,arguments)}var Rs=te,Ns=function(e){return function(t,r,n){var i=n.points,a=n.pathOffset;return new Se(i[e]).subtract(a).transform(De(n.getViewportTransform(),n.calcTransformMatrix()))}},Ls=function(e,t,r,n){var i=t.target,a=t.pointIndex,o=i,s=Ft(new Se(r,n),void 0,o.calcOwnMatrix());return o.points[a]=s.add(o.pathOffset),o.setDimensions(),!0},js=function(e,t){return function(r,n,i,a){var o=n.target,s=new Se(o.points[(e>0?e:o.points.length)-1]),u=s.subtract(o.pathOffset).transform(o.calcOwnMatrix()),c=t(r,y(y({},n),{},{pointIndex:e}),i,a),l=s.subtract(o.pathOffset).transform(o.calcOwnMatrix()).subtract(u);return o.left-=l.x,o.top-=l.y,c}},Ms=function(e){return en(Rs,js(e,Ls))},Ds=function(e,t,r){var n=e.path,i=e.pathOffset,a=n[t];return new Se(a[r]-i.x,a[r+1]-i.y).transform(De(e.getViewportTransform(),e.calcTransformMatrix()))};function Fs(e,t,r){var n=this.commandIndex,i=this.pointIndex;return Ds(r,n,i)}function Us(e,t,r,n){var i=t.target,a=this.commandIndex,o=this.pointIndex,s=function(e,t,r,n,i){var a=e.path,o=e.pathOffset,s=a[(n>0?n:a.length)-1],u=new Se(s[i],s[i+1]),c=u.subtract(o).transform(e.calcOwnMatrix()),l=Ft(new Se(t,r),void 0,e.calcOwnMatrix());a[n][i]=l.x+o.x,a[n][i+1]=l.y+o.y,e.setDimensions();var d=u.subtract(e.pathOffset).transform(e.calcOwnMatrix()).subtract(c);return e.left-=d.x,e.top-=d.y,e.set("dirty",!0),!0}(i,r,n,a,o);return Gt(this.actionName,y(y({},Xt(e,t,r,n)),{},{commandIndex:a,pointIndex:o})),s}var Bs=function(e){p(r,e);var t=v(r);function r(e){return m(this,r),t.call(this,e)}return g(r,[{key:"render",value:function(e,t,n,i,a){var o=y(y({},i),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});u(c(r.prototype),"render",this).call(this,e,t,n,o,a)}}]),r}(on),Gs=function(e){p(r,e);var t=v(r);function r(e){return m(this,r),t.call(this,e)}return g(r,[{key:"render",value:function(e,t,n,i,a){var o=a.path,s=this.commandIndex,l=this.pointIndex,d=this.connectToCommandIndex,h=this.connectToPointIndex;e.save(),e.strokeStyle=this.controlStroke,this.connectionDashArray&&e.setLineDash(this.connectionDashArray);var p=f(o[s],1)[0],v=Ds(a,d,h);if("Q"===p){var g=Ds(a,s,l+2);e.moveTo(g.x,g.y),e.lineTo(t,n)}else e.moveTo(t,n);e.lineTo(v.x,v.y),e.stroke(),e.restore(),u(c(r.prototype),"render",this).call(this,e,t,n,i,a)}}]),r}(Bs),Vs=function(e,t,r,n,i,a){return new(r?Gs:Bs)(y(y({commandIndex:e,pointIndex:t,actionName:"modifyPath",positionHandler:Fs,actionHandler:Us,connectToCommandIndex:i,connectToPointIndex:a},n),r?n.controlPointStyle:n.pointStyle))},Hs=Object.freeze({__proto__:null,changeWidth:rn,createObjectDefaultControls:Pn,createPathControls:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n="M";return e.path.forEach((function(e,i){var a=e[0];switch("Z"!==a&&(r["c_".concat(i,"_").concat(a)]=Vs(i,e.length-2,!1,t)),a){case"C":r["c_".concat(i,"_C_CP_1")]=Vs(i,1,!0,t,i-1,function(e){return"C"===e?5:"Q"===e?3:1}(n)),r["c_".concat(i,"_C_CP_2")]=Vs(i,3,!0,t,i,5);break;case"Q":r["c_".concat(i,"_Q_CP_1")]=Vs(i,1,!0,t,i,3)}n=a})),r},createPolyActionHandler:Ms,createPolyControls:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=0;n<("number"==typeof e?e:e.points.length);n++)r["p".concat(n)]=new on(y({actionName:Rs,positionHandler:Ns(n),actionHandler:Ms(n)},t));return r},createPolyPositionHandler:Ns,createResizeControls:In,createTextboxDefaultControls:On,dragHandler:$t,factoryPolyActionHandler:js,getLocalPoint:Jt,polyActionHandler:Ls,renderCircleControl:nn,renderSquareControl:an,rotationStyleHandler:sn,rotationWithSnapping:un,scaleCursorStyleHandler:fn,scaleOrSkewActionName:_n,scaleSkewCursorStyleHandler:Tn,scalingEqually:pn,scalingX:vn,scalingXOrSkewingY:An,scalingY:gn,scalingYOrSkewingX:Cn,skewCursorStyleHandler:Sn,skewHandlerX:xn,skewHandlerY:wn,wrapWithFireEvent:en,wrapWithFixedAnchor:tn}),Ws=function(e){return void 0!==e.webgl},qs="precision highp float",zs="\n    ".concat(qs,";\n    varying vec2 vTexCoord;\n    uniform sampler2D uTexture;\n    void main() {\n      gl_FragColor = texture2D(uTexture, vTexCoord);\n    }"),Ys=["type"],Xs=["type"],Ks=new RegExp(qs,"g"),Js=function(){function e(){m(this,e);var t=b(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ys);Object.assign(this,this.constructor.defaults,t)}return g(e,[{key:"type",get:function(){return this.constructor.type}},{key:"getFragmentSource",value:function(){return zs}},{key:"getVertexSource",value:function(){return"\n    attribute vec2 aPosition;\n    varying vec2 vTexCoord;\n    void main() {\n      vTexCoord = aPosition;\n      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n    }"}},{key:"createProgram",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getFragmentSource(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getVertexSource(),n=P().WebGLProbe.GLPrecision,i=void 0===n?"highp":n;"highp"!==i&&(t=t.replace(Ks,qs.replace("highp",i)));var a=e.createShader(e.VERTEX_SHADER),o=e.createShader(e.FRAGMENT_SHADER),s=e.createProgram();if(!a||!o||!s)throw new _("Vertex, fragment shader or program creation error");if(e.shaderSource(a,r),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS))throw new _("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(a)));if(e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new _("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(o)));if(e.attachShader(s,a),e.attachShader(s,o),e.linkProgram(s),!e.getProgramParameter(s,e.LINK_STATUS))throw new _('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(s)));var u=this.getUniformLocations(e,s)||{};return u.uStepW=e.getUniformLocation(s,"uStepW"),u.uStepH=e.getUniformLocation(s,"uStepH"),{program:s,attributeLocations:this.getAttributeLocations(e,s),uniformLocations:u}}},{key:"getAttributeLocations",value:function(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}}},{key:"getUniformLocations",value:function(e,t){for(var r=this.constructor.uniformLocations,n={},i=0;i<r.length;i++)n[r[i]]=e.getUniformLocation(t,r[i]);return n}},{key:"sendAttributeData",value:function(e,t,r){var n=t.aPosition,i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),e.enableVertexAttribArray(n),e.vertexAttribPointer(n,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW)}},{key:"_setupFrameBuffer",value:function(e){var t=e.context;if(e.passes>1){var r=e.destinationWidth,n=e.destinationHeight;e.sourceWidth===r&&e.sourceHeight===n||(t.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(t,r,n)),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e.targetTexture,0)}else t.bindFramebuffer(t.FRAMEBUFFER,null),t.finish()}},{key:"_swapTextures",value:function(e){e.passes--,e.pass++;var t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t}},{key:"isNeutralState",value:function(e){return!1}},{key:"applyTo",value:function(e){Ws(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}},{key:"applyTo2d",value:function(e){}},{key:"getCacheKey",value:function(){return this.type}},{key:"retrieveShader",value:function(e){var t=this.getCacheKey();return e.programCache[t]||(e.programCache[t]=this.createProgram(e.context)),e.programCache[t]}},{key:"applyToWebGL",value:function(e){var t=e.context,r=this.retrieveShader(e);0===e.pass&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(r.program),this.sendAttributeData(t,r.attributeLocations,e.aPosition),t.uniform1f(r.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(r.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,r.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)}},{key:"bindAdditionalTexture",value:function(e,t,r){e.activeTexture(r),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)}},{key:"unbindAdditionalTexture",value:function(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}},{key:"sendUniformData",value:function(e,t){}},{key:"createHelpLayer",value:function(e){if(!e.helpLayer){var t=Pe();t.width=e.sourceWidth,t.height=e.sourceHeight,e.helpLayer=t}}},{key:"toObject",value:function(){var e=this,t=Object.keys(this.constructor.defaults||{});return y({type:this.type},t.reduce((function(t,r){return t[r]=e[r],t}),{}))}},{key:"toJSON",value:function(){return this.toObject()}}],[{key:"fromObject",value:function(){var e=s(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new this(b(t,Xs)));case 1:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()}]),e}();t(Js,"type","BaseFilter"),t(Js,"uniformLocations",[]);var Zs={multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",difference:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"\n    if (uColor.r < 0.5) {\n      gl_FragColor.r *= 2.0 * uColor.r;\n    } else {\n      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n    }\n    if (uColor.g < 0.5) {\n      gl_FragColor.g *= 2.0 * uColor.g;\n    } else {\n      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n    }\n    if (uColor.b < 0.5) {\n      gl_FragColor.b *= 2.0 * uColor.b;\n    } else {\n      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n    }\n    ",tint:"\n    gl_FragColor.rgb *= (1.0 - uColor.a);\n    gl_FragColor.rgb += uColor.rgb;\n    "},Qs=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"getCacheKey",value:function(){return"".concat(this.type,"_").concat(this.mode)}},{key:"getFragmentSource",value:function(){return"\n      precision highp float;\n      uniform sampler2D uTexture;\n      uniform vec4 uColor;\n      varying vec2 vTexCoord;\n      void main() {\n        vec4 color = texture2D(uTexture, vTexCoord);\n        gl_FragColor = color;\n        if (color.a > 0.0) {\n          ".concat(Zs[this.mode],"\n        }\n      }\n      ")}},{key:"applyTo2d",value:function(e){for(var t=e.imageData.data,r=new ot(this.color).getSource(),n=r[0]*this.alpha,i=r[1]*this.alpha,a=r[2]*this.alpha,o=1-this.alpha,s=0;s<t.length;s+=4){var u=t[s],c=t[s+1],l=t[s+2];switch(this.mode){case"multiply":t[s]=u*n/255,t[s+1]=c*i/255,t[s+2]=l*a/255;break;case"screen":t[s]=255-(255-u)*(255-n)/255,t[s+1]=255-(255-c)*(255-i)/255,t[s+2]=255-(255-l)*(255-a)/255;break;case"add":t[s]=u+n,t[s+1]=c+i,t[s+2]=l+a;break;case"difference":t[s]=Math.abs(u-n),t[s+1]=Math.abs(c-i),t[s+2]=Math.abs(l-a);break;case"subtract":t[s]=u-n,t[s+1]=c-i,t[s+2]=l-a;break;case"darken":t[s]=Math.min(u,n),t[s+1]=Math.min(c,i),t[s+2]=Math.min(l,a);break;case"lighten":t[s]=Math.max(u,n),t[s+1]=Math.max(c,i),t[s+2]=Math.max(l,a);break;case"overlay":t[s]=n<128?2*u*n/255:255-2*(255-u)*(255-n)/255,t[s+1]=i<128?2*c*i/255:255-2*(255-c)*(255-i)/255,t[s+2]=a<128?2*l*a/255:255-2*(255-l)*(255-a)/255;break;case"exclusion":t[s]=n+u-2*n*u/255,t[s+1]=i+c-2*i*c/255,t[s+2]=a+l-2*a*l/255;break;case"tint":t[s]=n+u*o,t[s+1]=i+c*o,t[s+2]=a+l*o}}}},{key:"sendUniformData",value:function(e,t){var r=new ot(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,e.uniform4fv(t.uColor,r)}}]),r}(Js);t(Qs,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),t(Qs,"type","BlendColor"),t(Qs,"uniformLocations",["uColor"]),pe.setClass(Qs);var $s={multiply:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform sampler2D uImage;\n    uniform vec4 uColor;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      vec4 color2 = texture2D(uImage, vTexCoord2);\n      color.rgba *= color2.rgba;\n      gl_FragColor = color;\n    }\n    ",mask:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform sampler2D uImage;\n    uniform vec4 uColor;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      vec4 color2 = texture2D(uImage, vTexCoord2);\n      color.a = color2.a;\n      gl_FragColor = color;\n    }\n    "},eu=["type","image"],tu=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"getCacheKey",value:function(){return"".concat(this.type,"_").concat(this.mode)}},{key:"getFragmentSource",value:function(){return $s[this.mode]}},{key:"getVertexSource",value:function(){return"\n    attribute vec2 aPosition;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    uniform mat3 uTransformMatrix;\n    void main() {\n      vTexCoord = aPosition;\n      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\n      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n    }\n    "}},{key:"applyToWebGL",value:function(e){var t=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,n,t.TEXTURE1),u(c(r.prototype),"applyToWebGL",this).call(this,e),this.unbindAdditionalTexture(t,t.TEXTURE1)}},{key:"createTexture",value:function(e,t){return e.getCachedTexture(t.cacheKey,t.getElement())}},{key:"calculateMatrix",value:function(){var e=this.image,t=e.getElement(),r=t.width,n=t.height;return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/r,-e.top/n,1]}},{key:"applyTo2d",value:function(e){var t=e.imageData,r=t.data,n=t.width,i=t.height,a=e.filterBackend.resources,o=this.image;a.blendImage||(a.blendImage=Pe());var s=a.blendImage,u=s.getContext("2d");s.width!==n||s.height!==i?(s.width=n,s.height=i):u.clearRect(0,0,n,i),u.setTransform(o.scaleX,0,0,o.scaleY,o.left,o.top),u.drawImage(o.getElement(),0,0,n,i);for(var c=u.getImageData(0,0,n,i).data,l=0;l<r.length;l+=4){var d=r[l],f=r[l+1],h=r[l+2],p=r[l+3],v=c[l],g=c[l+1],m=c[l+2],y=c[l+3];switch(this.mode){case"multiply":r[l]=d*v/255,r[l+1]=f*g/255,r[l+2]=h*m/255,r[l+3]=p*y/255;break;case"mask":r[l+3]=y}}}},{key:"sendUniformData",value:function(e,t){var r=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,r)}},{key:"toObject",value:function(){return y(y({},u(c(r.prototype),"toObject",this).call(this)),{},{image:this.image&&this.image.toObject()})}}],[{key:"fromObject",value:function(){var e=s(o().mark((function e(t,r){var n,i,a=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.type,n=t.image,i=b(t,eu),e.abrupt("return",gs.fromObject(n,r).then((function(e){return new a(y(y({},i),{},{image:e}))})));case 2:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()}]),r}(Js);t(tu,"type","BlendImage"),t(tu,"defaults",{mode:"multiply",alpha:1}),t(tu,"uniformLocations",["uTransformMatrix","uImage"]),pe.setClass(tu);var ru=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"getFragmentSource",value:function(){return"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform vec2 uDelta;\n    varying vec2 vTexCoord;\n    const float nSamples = 15.0;\n    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);\n    float random(vec3 scale) {\n      /* use the fragment position for a different seed per-pixel */\n      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n    }\n    void main() {\n      vec4 color = vec4(0.0);\n      float total = 0.0;\n      float offset = random(v3offset);\n      for (float t = -nSamples; t <= nSamples; t++) {\n        float percent = (t + offset - 0.5) / nSamples;\n        float weight = 1.0 - abs(percent);\n        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\n        total += weight;\n      }\n      gl_FragColor = color / total;\n    }\n  "}},{key:"applyTo",value:function(e){Ws(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}},{key:"applyTo2d",value:function(e){e.imageData=this.simpleBlur(e)}},{key:"simpleBlur",value:function(e){var t=e.ctx,r=e.imageData,n=e.filterBackend.resources,i=r.width,a=r.height;n.blurLayer1||(n.blurLayer1=Pe(),n.blurLayer2=Pe());var o=n.blurLayer1,s=n.blurLayer2;o.width===i&&o.height===a||(s.width=o.width=i,s.height=o.height=a);var u,c,l,d,f=o.getContext("2d"),h=s.getContext("2d"),p=15,v=.06*this.blur*.5;for(f.putImageData(r,0,0),h.clearRect(0,0,i,a),d=-15;d<=p;d++)l=v*(c=d/p)*i+(u=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(c),h.drawImage(o,l,u),f.drawImage(s,0,0),h.globalAlpha=1,h.clearRect(0,0,s.width,s.height);for(d=-15;d<=p;d++)l=v*(c=d/p)*a+(u=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(c),h.drawImage(o,u,l),f.drawImage(s,0,0),h.globalAlpha=1,h.clearRect(0,0,s.width,s.height);t.drawImage(o,0,0);var g=t.getImageData(0,0,o.width,o.height);return f.globalAlpha=1,f.clearRect(0,0,o.width,o.height),g}},{key:"sendUniformData",value:function(e,t){var r=this.chooseRightDelta();e.uniform2fv(t.uDelta,r)}},{key:"isNeutralState",value:function(){return 0===this.blur}},{key:"chooseRightDelta",value:function(){var e=1,t=[0,0];this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio);var r=e*this.blur*.12;return this.horizontal?t[0]=r:t[1]=r,t}}]),r}(Js);t(ru,"type","Blur"),t(ru,"defaults",{blur:0}),t(ru,"uniformLocations",["uDelta"]),pe.setClass(ru);var nu=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"getFragmentSource",value:function(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uBrightness;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color.rgb += uBrightness;\n    gl_FragColor = color;\n  }\n"}},{key:"applyTo2d",value:function(e){for(var t=e.imageData.data,r=Math.round(255*this.brightness),n=0;n<t.length;n+=4)t[n]=t[n]+r,t[n+1]=t[n+1]+r,t[n+2]=t[n+2]+r}},{key:"isNeutralState",value:function(){return 0===this.brightness}},{key:"sendUniformData",value:function(e,t){e.uniform1f(t.uBrightness,this.brightness)}}]),r}(Js);t(nu,"type","Brightness"),t(nu,"defaults",{brightness:0}),t(nu,"uniformLocations",["uBrightness"]),pe.setClass(nu);var iu=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"getFragmentSource",value:function(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  varying vec2 vTexCoord;\n  uniform mat4 uColorMatrix;\n  uniform vec4 uConstants;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color *= uColorMatrix;\n    color += uConstants;\n    gl_FragColor = color;\n  }"}},{key:"applyTo2d",value:function(e){for(var t=e.imageData.data,r=this.matrix,n=this.colorsOnly,i=0;i<t.length;i+=4){var a=t[i],o=t[i+1],s=t[i+2];if(n)t[i]=a*r[0]+o*r[1]+s*r[2]+255*r[4],t[i+1]=a*r[5]+o*r[6]+s*r[7]+255*r[9],t[i+2]=a*r[10]+o*r[11]+s*r[12]+255*r[14];else{var u=t[i+3];t[i]=a*r[0]+o*r[1]+s*r[2]+u*r[3]+255*r[4],t[i+1]=a*r[5]+o*r[6]+s*r[7]+u*r[8]+255*r[9],t[i+2]=a*r[10]+o*r[11]+s*r[12]+u*r[13]+255*r[14],t[i+3]=a*r[15]+o*r[16]+s*r[17]+u*r[18]+255*r[19]}}}},{key:"sendUniformData",value:function(e,t){var r=this.matrix,n=[r[0],r[1],r[2],r[3],r[5],r[6],r[7],r[8],r[10],r[11],r[12],r[13],r[15],r[16],r[17],r[18]],i=[r[4],r[9],r[14],r[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,n),e.uniform4fv(t.uConstants,i)}},{key:"toObject",value:function(){return y(y({},u(c(r.prototype),"toObject",this).call(this)),{},{matrix:l(this.matrix)})}}]),r}(Js);function au(e,r){var n,i=(t(n=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"toObject",value:function(){return{type:this.type,colorsOnly:this.colorsOnly}}}]),r}(iu),"type",e),t(n,"defaults",{colorsOnly:!1,matrix:r}),n);return pe.setClass(i,e),i}t(iu,"type","ColorMatrix"),t(iu,"defaults",{matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0}),t(iu,"uniformLocations",["uColorMatrix","uConstants"]),pe.setClass(iu);var ou=au("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]),su=au("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]),uu=au("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]),cu=au("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]),lu=au("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]),du=au("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]),fu=au("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]),hu=function(e){p(r,e);var t=v(r);function r(){var e;m(this,r);var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=t.call(this,n)).subFilters=n.subFilters||[],e}return g(r,[{key:"applyTo",value:function(e){Ws(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach((function(t){t.applyTo(e)}))}},{key:"toObject",value:function(){return{type:this.type,subFilters:this.subFilters.map((function(e){return e.toObject()}))}}},{key:"isNeutralState",value:function(){return!this.subFilters.some((function(e){return!e.isNeutralState()}))}}],[{key:"fromObject",value:function(e,t){var r=this;return Promise.all((e.subFilters||[]).map((function(e){return pe.getClass(e.type).fromObject(e,t)}))).then((function(e){return new r({subFilters:e})}))}}]),r}(Js);t(hu,"type","Composed"),pe.setClass(hu);var pu=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"getFragmentSource",value:function(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uContrast;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\n    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;\n    gl_FragColor = color;\n  }"}},{key:"isNeutralState",value:function(){return 0===this.contrast}},{key:"applyTo2d",value:function(e){for(var t=e.imageData.data,r=Math.floor(255*this.contrast),n=259*(r+255)/(255*(259-r)),i=0;i<t.length;i+=4)t[i]=n*(t[i]-128)+128,t[i+1]=n*(t[i+1]-128)+128,t[i+2]=n*(t[i+2]-128)+128}},{key:"sendUniformData",value:function(e,t){e.uniform1f(t.uContrast,this.contrast)}}]),r}(Js);t(pu,"type","Contrast"),t(pu,"defaults",{contrast:0}),t(pu,"uniformLocations",["uContrast"]),pe.setClass(pu);var vu={Convolute_3_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[9];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 3.0; h+=1.0) {\n        for (float w = 0.0; w < 3.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_3_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[9];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 3.0; h+=1.0) {\n        for (float w = 0.0; w < 3.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",Convolute_5_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[25];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 5.0; h+=1.0) {\n        for (float w = 0.0; w < 5.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_5_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[25];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 5.0; h+=1.0) {\n        for (float w = 0.0; w < 5.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",Convolute_7_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[49];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 7.0; h+=1.0) {\n        for (float w = 0.0; w < 7.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_7_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[49];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 7.0; h+=1.0) {\n        for (float w = 0.0; w < 7.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",Convolute_9_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[81];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 9.0; h+=1.0) {\n        for (float w = 0.0; w < 9.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_9_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[81];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 9.0; h+=1.0) {\n        for (float w = 0.0; w < 9.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    "},gu=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"getCacheKey",value:function(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}},{key:"getFragmentSource",value:function(){return vu[this.getCacheKey()]}},{key:"applyTo2d",value:function(e){var t,r,n,i,a,o,s,u,c,l,d,f,h,p=e.imageData,v=p.data,g=this.matrix,m=Math.round(Math.sqrt(g.length)),y=Math.floor(m/2),b=p.width,S=p.height,E=e.ctx.createImageData(b,S),x=E.data,w=this.opaque?1:0;for(d=0;d<S;d++)for(l=0;l<b;l++){for(a=4*(d*b+l),t=0,r=0,n=0,i=0,h=0;h<m;h++)for(f=0;f<m;f++)o=l+f-y,(s=d+h-y)<0||s>=S||o<0||o>=b||(u=4*(s*b+o),c=g[h*m+f],t+=v[u]*c,r+=v[u+1]*c,n+=v[u+2]*c,w||(i+=v[u+3]*c));x[a]=t,x[a+1]=r,x[a+2]=n,x[a+3]=w?v[a+3]:i}e.imageData=E}},{key:"sendUniformData",value:function(e,t){e.uniform1fv(t.uMatrix,this.matrix)}},{key:"toObject",value:function(){return y(y({},u(c(r.prototype),"toObject",this).call(this)),{},{opaque:this.opaque,matrix:l(this.matrix)})}}]),r}(Js);t(gu,"type","Convolute"),t(gu,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),t(gu,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),pe.setClass(gu);var mu="Gamma",yu=function(e){p(r,e);var t=v(r);function r(){var e;m(this,r);var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=t.call(this,n)).gamma=n.gamma||e.constructor.defaults.gamma.concat(),e}return g(r,[{key:"getFragmentSource",value:function(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform vec3 uGamma;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    vec3 correction = (1.0 / uGamma);\n    color.r = pow(color.r, correction.r);\n    color.g = pow(color.g, correction.g);\n    color.b = pow(color.b, correction.b);\n    gl_FragColor = color;\n    gl_FragColor.rgb *= color.a;\n  }\n"}},{key:"applyTo2d",value:function(e){var t=e.imageData.data,r=this.gamma,n=1/r[0],i=1/r[1],a=1/r[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});for(var o=this.rgbValues,s=0;s<256;s++)o.r[s]=255*Math.pow(s/255,n),o.g[s]=255*Math.pow(s/255,i),o.b[s]=255*Math.pow(s/255,a);for(var u=0;u<t.length;u+=4)t[u]=o.r[t[u]],t[u+1]=o.g[t[u+1]],t[u+2]=o.b[t[u+2]]}},{key:"sendUniformData",value:function(e,t){e.uniform3fv(t.uGamma,this.gamma)}},{key:"isNeutralState",value:function(){var e=this.gamma;return 1===e[0]&&1===e[1]&&1===e[2]}},{key:"toObject",value:function(){return{type:mu,gamma:this.gamma.concat()}}}]),r}(Js);t(yu,"type",mu),t(yu,"defaults",{gamma:[1,1,1]}),t(yu,"uniformLocations",["uGamma"]),pe.setClass(yu);var bu={average:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      float average = (color.r + color.b + color.g) / 3.0;\n      gl_FragColor = vec4(average, average, average, color.a);\n    }\n    ",lightness:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform int uMode;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 col = texture2D(uTexture, vTexCoord);\n      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\n      gl_FragColor = vec4(average, average, average, col.a);\n    }\n    ",luminosity:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform int uMode;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 col = texture2D(uTexture, vTexCoord);\n      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\n      gl_FragColor = vec4(average, average, average, col.a);\n    }\n    "},Su=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"applyTo2d",value:function(e){for(var t,r=e.imageData.data,n=0;n<r.length;n+=4){switch(this.mode){case"average":t=(r[n]+r[n+1]+r[n+2])/3;break;case"lightness":t=(Math.min(r[n],r[n+1],r[n+2])+Math.max(r[n],r[n+1],r[n+2]))/2;break;case"luminosity":t=.21*r[n]+.72*r[n+1]+.07*r[n+2]}r[n]=t,r[n+1]=t,r[n+2]=t}}},{key:"getCacheKey",value:function(){return"".concat(this.type,"_").concat(this.mode)}},{key:"getFragmentSource",value:function(){return bu[this.mode]}},{key:"sendUniformData",value:function(e,t){e.uniform1i(t.uMode,1)}},{key:"isNeutralState",value:function(){return!1}}]),r}(Js);t(Su,"type","Grayscale"),t(Su,"defaults",{mode:"average"}),t(Su,"uniformLocations",["uMode"]),pe.setClass(Su);var Eu=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"calculateMatrix",value:function(){var e=this.rotation*Math.PI,t=ye(e),r=be(e),n=1/3,i=Math.sqrt(n)*r,a=1-t;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=t+a/3,this.matrix[1]=n*a-i,this.matrix[2]=n*a+i,this.matrix[5]=n*a+i,this.matrix[6]=t+n*a,this.matrix[7]=n*a-i,this.matrix[10]=n*a-i,this.matrix[11]=n*a+i,this.matrix[12]=t+n*a}},{key:"isNeutralState",value:function(){return 0===this.rotation}},{key:"applyTo",value:function(e){this.calculateMatrix(),u(c(r.prototype),"applyTo",this).call(this,e)}},{key:"toObject",value:function(){return{type:this.type,rotation:this.rotation}}}]),r}(iu);t(Eu,"type","HueRotation"),t(Eu,"defaults",{rotation:0}),pe.setClass(Eu);var xu=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"applyTo2d",value:function(e){for(var t=e.imageData.data,r=0;r<t.length;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2],this.alpha&&(t[r+3]=255-t[r+3])}},{key:"getFragmentSource",value:function(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform int uInvert;\n  uniform int uAlpha;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    if (uInvert == 1) {\n      if (uAlpha == 1) {\n        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);\n      } else {\n        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n      }\n    } else {\n      gl_FragColor = color;\n    }\n  }\n"}},{key:"isNeutralState",value:function(){return!this.invert}},{key:"sendUniformData",value:function(e,t){e.uniform1i(t.uInvert,Number(this.invert)),e.uniform1i(t.uAlpha,Number(this.alpha))}}]),r}(Js);t(xu,"type","Invert"),t(xu,"defaults",{alpha:!1,invert:!0}),t(xu,"uniformLocations",["uInvert","uAlpha"]),pe.setClass(xu);var wu=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"getFragmentSource",value:function(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uStepH;\n  uniform float uNoise;\n  uniform float uSeed;\n  varying vec2 vTexCoord;\n  float rand(vec2 co, float seed, float vScale) {\n    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n  }\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\n    gl_FragColor = color;\n  }\n"}},{key:"applyTo2d",value:function(e){for(var t=e.imageData.data,r=this.noise,n=0;n<t.length;n+=4){var i=(.5-Math.random())*r;t[n]+=i,t[n+1]+=i,t[n+2]+=i}}},{key:"sendUniformData",value:function(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())}},{key:"isNeutralState",value:function(){return 0===this.noise}}]),r}(Js);t(wu,"type","Noise"),t(wu,"defaults",{noise:0}),t(wu,"uniformLocations",["uNoise","uSeed"]),pe.setClass(wu);var ku=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"applyTo2d",value:function(e){for(var t=e.imageData,r=t.data,n=t.width,i=t.height,a=0;a<i;a+=this.blocksize)for(var o=0;o<n;o+=this.blocksize)for(var s=4*a*n+4*o,u=r[s],c=r[s+1],l=r[s+2],d=r[s+3],f=a;f<Math.min(a+this.blocksize,i);f++)for(var h=o;h<Math.min(o+this.blocksize,n);h++){var p=4*f*n+4*h;r[p]=u,r[p+1]=c,r[p+2]=l,r[p+3]=d}}},{key:"isNeutralState",value:function(){return 1===this.blocksize}},{key:"getFragmentSource",value:function(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uBlocksize;\n  uniform float uStepW;\n  uniform float uStepH;\n  varying vec2 vTexCoord;\n  void main() {\n    float blockW = uBlocksize * uStepW;\n    float blockH = uBlocksize * uStepH;\n    int posX = int(vTexCoord.x / blockW);\n    int posY = int(vTexCoord.y / blockH);\n    float fposX = float(posX);\n    float fposY = float(posY);\n    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\n    vec4 color = texture2D(uTexture, squareCoords);\n    gl_FragColor = color;\n  }\n"}},{key:"sendUniformData",value:function(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}]),r}(Js);t(ku,"type","Pixelate"),t(ku,"defaults",{blocksize:4}),t(ku,"uniformLocations",["uBlocksize"]),pe.setClass(ku);var _u=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"getFragmentSource",value:function(){return"\nprecision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\n  gl_FragColor = texture2D(uTexture, vTexCoord);\n  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\n    gl_FragColor.a = 0.0;\n  }\n}\n"}},{key:"applyTo2d",value:function(e){for(var t=e.imageData.data,r=255*this.distance,n=new ot(this.color).getSource(),i=[n[0]-r,n[1]-r,n[2]-r],a=[n[0]+r,n[1]+r,n[2]+r],o=0;o<t.length;o+=4){var s=t[o],u=t[o+1],c=t[o+2];s>i[0]&&u>i[1]&&c>i[2]&&s<a[0]&&u<a[1]&&c<a[2]&&(t[o+3]=0)}}},{key:"sendUniformData",value:function(e,t){var r=new ot(this.color).getSource(),n=this.distance,i=[0+r[0]/255-n,0+r[1]/255-n,0+r[2]/255-n,1],a=[r[0]/255+n,r[1]/255+n,r[2]/255+n,1];e.uniform4fv(t.uLow,i),e.uniform4fv(t.uHigh,a)}}]),r}(Js);t(_u,"type","RemoveColor"),t(_u,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),t(_u,"uniformLocations",["uLow","uHigh"]),pe.setClass(_u);var Tu=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"sendUniformData",value:function(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)}},{key:"getFilterWindow",value:function(){var e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}},{key:"getCacheKey",value:function(){var e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}},{key:"getFragmentSource",value:function(){var e=this.getFilterWindow();return this.generateShader(e)}},{key:"getTaps",value:function(){for(var e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,r=this.getFilterWindow(),n=new Array(r),i=1;i<=r;i++)n[i-1]=e(i*t);return n}},{key:"generateShader",value:function(e){for(var t=new Array(e),r=1;r<=e;r++)t[r-1]="".concat(r,".0 * uDelta");return"\n      precision highp float;\n      uniform sampler2D uTexture;\n      uniform vec2 uDelta;\n      varying vec2 vTexCoord;\n      uniform float uTaps[".concat(e,"];\n      void main() {\n        vec4 color = texture2D(uTexture, vTexCoord);\n        float sum = 1.0;\n        ").concat(t.map((function(e,t){return"\n              color += texture2D(uTexture, vTexCoord + ".concat(e,") * uTaps[").concat(t,"] + texture2D(uTexture, vTexCoord - ").concat(e,") * uTaps[").concat(t,"];\n              sum += 2.0 * uTaps[").concat(t,"];\n            ")})).join("\n"),"\n        gl_FragColor = color / sum;\n      }\n    ")}},{key:"applyToForWebgl",value:function(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,u(c(r.prototype),"applyTo",this).call(this,e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,u(c(r.prototype),"applyTo",this).call(this,e),e.sourceHeight=e.destinationHeight}},{key:"applyTo",value:function(e){Ws(e)?this.applyToForWebgl(e):this.applyTo2d(e)}},{key:"isNeutralState",value:function(){return 1===this.scaleX&&1===this.scaleY}},{key:"lanczosCreate",value:function(e){return function(t){if(t>=e||t<=-e)return 0;if(t<1.1920929e-7&&t>-1.1920929e-7)return 1;var r=(t*=Math.PI)/e;return Math.sin(t)/t*Math.sin(r)/r}}},{key:"applyTo2d",value:function(e){var t=e.imageData,r=this.scaleX,n=this.scaleY;this.rcpScaleX=1/r,this.rcpScaleY=1/n;var i,a=t.width,o=t.height,s=Math.round(a*r),u=Math.round(o*n);i="sliceHack"===this.resizeType?this.sliceByTwo(e,a,o,s,u):"hermite"===this.resizeType?this.hermiteFastResize(e,a,o,s,u):"bilinear"===this.resizeType?this.bilinearFiltering(e,a,o,s,u):"lanczos"===this.resizeType?this.lanczosResize(e,a,o,s,u):new ImageData(s,u),e.imageData=i}},{key:"sliceByTwo",value:function(e,t,r,n,i){var a=e.imageData,o=.5,s=!1,u=!1,c=t*o,l=r*o,d=e.filterBackend.resources,f=0,h=0,p=t,v=0;d.sliceByTwo||(d.sliceByTwo=Pe());var g=d.sliceByTwo;(g.width<1.5*t||g.height<r)&&(g.width=1.5*t,g.height=r);var m=g.getContext("2d");for(m.clearRect(0,0,1.5*t,r),m.putImageData(a,0,0),n=Math.floor(n),i=Math.floor(i);!s||!u;)t=c,r=l,n<Math.floor(c*o)?c=Math.floor(c*o):(c=n,s=!0),i<Math.floor(l*o)?l=Math.floor(l*o):(l=i,u=!0),m.drawImage(g,f,h,t,r,p,v,c,l),f=p,h=v,v+=l;return m.getImageData(f,h,n,i)}},{key:"lanczosResize",value:function(e,t,r,n,i){var a=e.imageData.data,o=e.ctx.createImageData(n,i),s=o.data,u=this.lanczosCreate(this.lanczosLobes),c=this.rcpScaleX,l=this.rcpScaleY,d=2/this.rcpScaleX,f=2/this.rcpScaleY,h=Math.ceil(c*this.lanczosLobes/2),p=Math.ceil(l*this.lanczosLobes/2),v={},g={x:0,y:0},m={x:0,y:0};return function e(y){var b,S,E,x,w,k,_,T,A,C,P;for(g.x=(y+.5)*c,m.x=Math.floor(g.x),b=0;b<i;b++){for(g.y=(b+.5)*l,m.y=Math.floor(g.y),w=0,k=0,_=0,T=0,A=0,S=m.x-h;S<=m.x+h;S++)if(!(S<0||S>=t)){C=Math.floor(1e3*Math.abs(S-g.x)),v[C]||(v[C]={});for(var I=m.y-p;I<=m.y+p;I++)I<0||I>=r||(P=Math.floor(1e3*Math.abs(I-g.y)),v[C][P]||(v[C][P]=u(Math.sqrt(Math.pow(C*d,2)+Math.pow(P*f,2))/1e3)),(E=v[C][P])>0&&(w+=E,k+=E*a[x=4*(I*t+S)],_+=E*a[x+1],T+=E*a[x+2],A+=E*a[x+3]))}s[x=4*(b*n+y)]=k/w,s[x+1]=_/w,s[x+2]=T/w,s[x+3]=A/w}return++y<n?e(y):o}(0)}},{key:"bilinearFiltering",value:function(e,t,r,n,i){var a,o,s,u,c,l,d,f,h,p=0,v=this.rcpScaleX,g=this.rcpScaleY,m=4*(t-1),y=e.imageData.data,b=e.ctx.createImageData(n,i),S=b.data;for(s=0;s<i;s++)for(u=0;u<n;u++)for(c=v*u-(a=Math.floor(v*u)),l=g*s-(o=Math.floor(g*s)),h=4*(o*t+a),d=0;d<4;d++)f=y[h+d]*(1-c)*(1-l)+y[h+4+d]*c*(1-l)+y[h+m+d]*l*(1-c)+y[h+m+4+d]*c*l,S[p++]=f;return b}},{key:"hermiteFastResize",value:function(e,t,r,n,i){for(var a=this.rcpScaleX,o=this.rcpScaleY,s=Math.ceil(a/2),u=Math.ceil(o/2),c=e.imageData.data,l=e.ctx.createImageData(n,i),d=l.data,f=0;f<i;f++)for(var h=0;h<n;h++){for(var p=4*(h+f*n),v=0,g=0,m=0,y=0,b=0,S=0,E=0,x=(f+.5)*o,w=Math.floor(f*o);w<(f+1)*o;w++)for(var k=Math.abs(x-(w+.5))/u,_=(h+.5)*a,T=k*k,A=Math.floor(h*a);A<(h+1)*a;A++){var C=Math.abs(_-(A+.5))/s,P=Math.sqrt(T+C*C);P>1&&P<-1||(v=2*P*P*P-3*P*P+1)>0&&(E+=v*c[3+(C=4*(A+w*t))],m+=v,c[C+3]<255&&(v=v*c[C+3]/250),y+=v*c[C],b+=v*c[C+1],S+=v*c[C+2],g+=v)}d[p]=y/g,d[p+1]=b/g,d[p+2]=S/g,d[p+3]=E/m}return l}}]),r}(Js);t(Tu,"type","Resize"),t(Tu,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),t(Tu,"uniformLocations",["uDelta","uTaps"]),pe.setClass(Tu);var Au=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"getFragmentSource",value:function(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uSaturation;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float rgMax = max(color.r, color.g);\n    float rgbMax = max(rgMax, color.b);\n    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\n    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\n    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\n    gl_FragColor = color;\n  }\n"}},{key:"applyTo2d",value:function(e){for(var t=e.imageData.data,r=-this.saturation,n=0;n<t.length;n+=4){var i=Math.max(t[n],t[n+1],t[n+2]);t[n]+=i!==t[n]?(i-t[n])*r:0,t[n+1]+=i!==t[n+1]?(i-t[n+1])*r:0,t[n+2]+=i!==t[n+2]?(i-t[n+2])*r:0}}},{key:"sendUniformData",value:function(e,t){e.uniform1f(t.uSaturation,-this.saturation)}},{key:"isNeutralState",value:function(){return 0===this.saturation}}]),r}(Js);t(Au,"type","Saturation"),t(Au,"defaults",{saturation:0}),t(Au,"uniformLocations",["uSaturation"]),pe.setClass(Au);var Cu=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return g(r,[{key:"getFragmentSource",value:function(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uVibrance;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float max = max(color.r, max(color.g, color.b));\n    float avg = (color.r + color.g + color.b) / 3.0;\n    float amt = (abs(max - avg) * 2.0) * uVibrance;\n    color.r += max != color.r ? (max - color.r) * amt : 0.00;\n    color.g += max != color.g ? (max - color.g) * amt : 0.00;\n    color.b += max != color.b ? (max - color.b) * amt : 0.00;\n    gl_FragColor = color;\n  }\n"}},{key:"applyTo2d",value:function(e){for(var t=e.imageData.data,r=-this.vibrance,n=0;n<t.length;n+=4){var i=Math.max(t[n],t[n+1],t[n+2]),a=(t[n]+t[n+1]+t[n+2])/3,o=2*Math.abs(i-a)/255*r;t[n]+=i!==t[n]?(i-t[n])*o:0,t[n+1]+=i!==t[n+1]?(i-t[n+1])*o:0,t[n+2]+=i!==t[n+2]?(i-t[n+2])*o:0}}},{key:"sendUniformData",value:function(e,t){e.uniform1f(t.uVibrance,-this.vibrance)}},{key:"isNeutralState",value:function(){return 0===this.vibrance}}]),r}(Js);t(Cu,"type","Vibrance"),t(Cu,"defaults",{vibrance:0}),t(Cu,"uniformLocations",["uVibrance"]),pe.setClass(Cu);var Pu=Object.freeze({__proto__:null,BaseFilter:Js,BlackWhite:fu,BlendColor:Qs,BlendImage:tu,Blur:ru,Brightness:nu,Brownie:ou,ColorMatrix:iu,Composed:hu,Contrast:pu,Convolute:gu,Gamma:yu,Grayscale:Su,HueRotation:Eu,Invert:xu,Kodachrome:uu,Noise:wu,Pixelate:ku,Polaroid:lu,RemoveColor:_u,Resize:Tu,Saturation:Au,Sepia:du,Technicolor:cu,Vibrance:Cu,Vintage:su});e.ActiveSelection=us,e.BaseBrush=so,e.BaseFabricObject=$r,e.Canvas=Ha,e.Canvas2dFilterBackend=ls,e.CanvasDOMManager=La,e.Circle=vo,e.CircleBrush=function(e){p(n,e);var r=v(n);function n(e){var i;return m(this,n),i=r.call(this,e),t(d(i),"width",10),i.points=[],i}return g(n,[{key:"drawDot",value:function(e){var t=this.addPoint(e),r=this.canvas.contextTop;this._saveAndTransform(r),this.dot(r,t),r.restore()}},{key:"dot",value:function(e,t){e.fillStyle=t.fill,e.beginPath(),e.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),e.closePath(),e.fill()}},{key:"onMouseDown",value:function(e){this.points=[],this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(e)}},{key:"_render",value:function(){var e=this.canvas.contextTop,t=this.points;this._saveAndTransform(e);for(var r=0;r<t.length;r++)this.dot(e,t[r]);e.restore()}},{key:"onMouseMove",value:function(e){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(e)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(e),this._render()):this.drawDot(e))}},{key:"onMouseUp",value:function(){var e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var t=[],r=0;r<this.points.length;r++){var n=this.points[r],i=new vo({radius:n.radius,left:n.x,top:n.y,originX:V,originY:V,fill:n.fill});this.shadow&&(i.shadow=new Tr(this.shadow)),t.push(i)}var a=new Wi(t,{canvas:this.canvas});this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=e,this.canvas.requestRenderAll()}},{key:"addPoint",value:function(e){var t={x:e.x,y:e.y,radius:Ia(Math.max(0,this.width-20),this.width+20)/2,fill:new ot(this.color).setAlpha(Ia(0,100)/100).toRgba()};return this.points.push(t),t}}]),n}(so),e.ClipPathLayout=as,e.Color=ot,e.Control=on,e.Ellipse=xo,e.FabricImage=gs,e.FabricObject=Ln,e.FabricText=Wo,e.FitContentLayout=Di,e.FixedLayout=os,e.Gradient=io,e.Group=Wi,e.IText=ns,e.Image=gs,e.InteractiveFabricObject=Rn,e.Intersection=Kr,e.LayoutManager=Gi,e.LayoutStrategy=Mi,e.Line=bo,e.Object=Ln,e.Observable=ge,e.Path=lo,e.Pattern=oo,e.PatternBrush=function(e){p(r,e);var t=v(r);function r(e){return m(this,r),t.call(this,e)}return g(r,[{key:"getPatternSrc",value:function(){var e=Pe(),t=e.getContext("2d");return e.width=e.height=25,t&&(t.fillStyle=this.color,t.beginPath(),t.arc(10,10,10,0,2*Math.PI,!1),t.closePath(),t.fill()),e}},{key:"getPattern",value:function(e){return e.createPattern(this.source||this.getPatternSrc(),"repeat")}},{key:"_setBrushStyles",value:function(e){u(c(r.prototype),"_setBrushStyles",this).call(this,e);var t=this.getPattern(e);t&&(e.strokeStyle=t)}},{key:"createPath",value:function(e){var t=u(c(r.prototype),"createPath",this).call(this,e),n=t._getLeftTopCoords().scalarAdd(t.strokeWidth/2);return t.stroke=new oo({source:this.source||this.getPatternSrc(),offsetX:-n.x,offsetY:-n.y}),t}}]),r}(fo),e.PencilBrush=fo,e.Point=Se,e.Polygon=Ao,e.Polyline=To,e.Rect=Ii,e.Shadow=Tr,e.SprayBrush=function(e){p(n,e);var r=v(n);function n(e){var i;return m(this,n),i=r.call(this,e),t(d(i),"width",10),t(d(i),"density",20),t(d(i),"dotWidth",1),t(d(i),"dotWidthVariance",1),t(d(i),"randomOpacity",!1),t(d(i),"optimizeOverlapping",!0),i.sprayChunks=[],i.sprayChunk=[],i}return g(n,[{key:"onMouseDown",value:function(e){this.sprayChunks=[],this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(e),this.renderChunck(this.sprayChunk)}},{key:"onMouseMove",value:function(e){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(e)||(this.addSprayChunk(e),this.renderChunck(this.sprayChunk))}},{key:"onMouseUp",value:function(){var e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var t=[],r=0;r<this.sprayChunks.length;r++)for(var n=this.sprayChunks[r],i=0;i<n.length;i++){var a=n[i],o=new Ii({width:a.width,height:a.width,left:a.x+1,top:a.y+1,originX:V,originY:V,fill:this.color});t.push(o)}var s=new Wi(this.optimizeOverlapping?function(e){for(var t,r={},n=[],i=0;i<e.length;i++)r[t="".concat(e[i].left).concat(e[i].top)]||(r[t]=!0,n.push(e[i]));return n}(t):t,{objectCaching:!0,subTargetCheck:!1,interactive:!1});this.shadow&&s.set("shadow",new Tr(this.shadow)),this.canvas.fire("before:path:created",{path:s}),this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=e,this.canvas.requestRenderAll()}},{key:"renderChunck",value:function(e){var t=this.canvas.contextTop;t.fillStyle=this.color,this._saveAndTransform(t);for(var r=0;r<e.length;r++){var n=e[r];t.globalAlpha=n.opacity,t.fillRect(n.x,n.y,n.width,n.width)}t.restore()}},{key:"_render",value:function(){var e=this.canvas.contextTop;e.fillStyle=this.color,this._saveAndTransform(e);for(var t=0;t<this.sprayChunks.length;t++)this.renderChunck(this.sprayChunks[t]);e.restore()}},{key:"addSprayChunk",value:function(e){this.sprayChunk=[];for(var t=this.width/2,r=0;r<this.density;r++)this.sprayChunk.push({x:Ia(e.x-t,e.x+t),y:Ia(e.y-t,e.y+t),width:this.dotWidthVariance?Ia(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth,opacity:this.randomOpacity?Ia(0,100)/100:1});this.sprayChunks.push(this.sprayChunk)}}]),n}(so),e.StaticCanvas=_t,e.StaticCanvasDOMManager=wt,e.Text=Wo,e.Textbox=is,e.Triangle=So,e.WebGLFilterBackend=ds,e.cache=N,e.classRegistry=pe,e.config=w,e.controlsUtils=Hs,e.createCollectionMixin=we,e.filters=Pu,e.getCSSRules=_s,e.getEnv=P,e.getFabricDocument=I,e.getFabricWindow=O,e.getFilterBackend=hs,e.iMatrix=U,e.initFilterBackend=fs,e.isPutImageFaster=function(e,t){var r,n=Pe(),i=Pe().getContext("webgl"),a={imageBuffer:new ArrayBuffer(e*t*4)},o={destinationWidth:e,destinationHeight:t,targetCanvas:n};n.width=e,n.height=t,r=O().performance.now(),ds.prototype.copyGLTo2D.call(a,i,o);var s=O().performance.now()-r;return r=O().performance.now(),ds.prototype.copyGLTo2DPutImageData.call(a,i,o),s>O().performance.now()-r},e.isWebGLPipelineState=Ws,e.loadSVGFromString=function(e,t,r){return Is((new(O().DOMParser)).parseFromString(e.trim(),"text/xml"),t,r)},e.loadSVGFromURL=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(t,n){Oa(e.replace(/^\n\s*/,"").trim(),{onComplete:function(e){var r=e.responseXML;r&&t(r),n()},signal:r.signal})})).then((function(e){return Is(e,t,r)})).catch((function(){return Ps()}))},e.parseAttributes=Ai,e.parseFontDeclaration=wi,e.parsePointsAttribute=wo,e.parseSVGDocument=Is,e.parseStyleAttribute=_i,e.parseTransformAttribute=Ei,e.runningAnimations=ve,e.setEnv=function(e){E=e},e.setFilterBackend=function(e){cs=e},e.util=Na,e.version=L}(t)},93329:function(e){"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r};e.exports=function(e){var i=this;if("function"!==typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var a,o=function(e,t){for(var r=[],n=t||0,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r}(arguments,1),s=r(0,i.length-o.length),u=[],c=0;c<s;c++)u[c]="$"+c;if(a=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(u,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof a){var t=i.apply(this,n(o,arguments));return Object(t)===t?t:this}return i.apply(e,n(o,arguments))})),i.prototype){var l=function(){};l.prototype=i.prototype,a.prototype=new l,l.prototype=null}return a}},52478:function(e,t,r){"use strict";var n=r(93329);e.exports=Function.prototype.bind||n},31210:function(e,t,r){"use strict";var n,i=SyntaxError,a=Function,o=TypeError,s=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(I){u=null}var c=function(){throw new o},l=u?function(){try{return c}catch(e){try{return u(arguments,"callee").get}catch(t){return c}}}():c,d=r(84312)(),f=r(3038)(),h=Object.getPrototypeOf||(f?function(e){return e.__proto__}:null),p={},v="undefined"!==typeof Uint8Array&&h?h(Uint8Array):n,g={"%AggregateError%":"undefined"===typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":d&&h?h([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"===typeof Atomics?n:Atomics,"%BigInt%":"undefined"===typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":p,"%Int8Array%":"undefined"===typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&h?h(h([][Symbol.iterator]())):n,"%JSON%":"object"===typeof JSON?JSON:n,"%Map%":"undefined"===typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&d&&h?h((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?n:Promise,"%Proxy%":"undefined"===typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&d&&h?h((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&h?h(""[Symbol.iterator]()):n,"%Symbol%":d?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":v,"%TypeError%":o,"%Uint8Array%":"undefined"===typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?n:WeakSet};if(h)try{null.error}catch(I){var m=h(h(I));g["%Error.prototype%"]=m}var y=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&h&&(r=h(i.prototype))}return g[t]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=r(52478),E=r(19490),x=S.call(Function.call,Array.prototype.concat),w=S.call(Function.apply,Array.prototype.splice),k=S.call(Function.call,String.prototype.replace),_=S.call(Function.call,String.prototype.slice),T=S.call(Function.call,RegExp.prototype.exec),A=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,P=function(e,t){var r,n=e;if(E(b,n)&&(n="%"+(r=b[n])[0]+"%"),E(g,n)){var a=g[n];if(a===p&&(a=y(n)),"undefined"===typeof a&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:a}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new o('"allowMissing" argument must be a boolean');if(null===T(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=_(e,0,1),r=_(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return k(e,A,(function(e,t,r,i){n[n.length]=r?k(i,C,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",a=P("%"+n+"%",t),s=a.name,c=a.value,l=!1,d=a.alias;d&&(n=d[0],w(r,x([0,1],d)));for(var f=1,h=!0;f<r.length;f+=1){var p=r[f],v=_(p,0,1),m=_(p,-1);if(('"'===v||"'"===v||"`"===v||'"'===m||"'"===m||"`"===m)&&v!==m)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&h||(l=!0),E(g,s="%"+(n+="."+p)+"%"))c=g[s];else if(null!=c){if(!(p in c)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&f+1>=r.length){var y=u(c,p);c=(h=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[p]}else h=E(c,p),c=c[p];h&&!l&&(g[s]=c)}}return c}},80025:function(e,t,r){"use strict";var n=r(31210)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(i){n=null}e.exports=n},58650:function(e,t,r){"use strict";var n=r(31210)("%Object.defineProperty%",!0),i=function(){if(n)try{return n({},"a",{value:1}),!0}catch(e){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},3038:function(e){"use strict";var t={foo:{}},r=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof r)}},84312:function(e,t,r){"use strict";var n="undefined"!==typeof Symbol&&Symbol,i=r(20024);e.exports=function(){return"function"===typeof n&&("function"===typeof Symbol&&("symbol"===typeof n("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},20024:function(e){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},19490:function(e,t,r){"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,a=r(52478);e.exports=a.call(n,i)},57644:function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,d=r?i-1:0,f=r?-1:1,h=e[t+d];for(d+=f,a=h&(1<<-l)-1,h>>=-l,l+=s;l>0;a=256*a+e[t+d],d+=f,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=n;l>0;o=256*o+e[t+d],d+=f,l-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=c}return(h?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,u,c=8*a-i-1,l=(1<<c)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,p=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+d>=1?f/u:f*Math.pow(2,1-d))*u>=2&&(o++,u/=2),o+d>=l?(s=0,o=l):o+d>=1?(s=(t*u-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+h]=255&o,h+=p,o/=256,c-=8);e[r+h-p]|=128*v}},38588:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},97921:function(e,t,r){"use strict";var n=("undefined"!==typeof JSON?JSON:r(8235)).stringify,i=r(38588),a=r(78454),o=r(76007),s=r(2644),u=s("Array.prototype.join"),c=s("Array.prototype.push"),l=function(e,t){for(var r="",n=0;n<e;n+=1)r+=t;return r},d=function(e,t,r){return r};e.exports=function(e){var t=arguments.length>1?arguments[1]:void 0,r=t&&t.space||"";"number"===typeof r&&(r=l(r," "));var s=!!t&&"boolean"===typeof t.cycles&&t.cycles,f=t&&t.replacer?o(t.replacer):d,h="function"===typeof t?t:t&&t.cmp,p=h&&function(e){var t=h.length>2&&function(t){return e[t]};return function(r,n){return h({key:r,value:e[r]},{key:n,value:e[n]},t?{__proto__:null,get:t}:void 0)}},v=[];return function e(t,o,d,h){var g=r?"\n"+l(h,r):"",m=r?": ":":";if(d&&d.toJSON&&"function"===typeof d.toJSON&&(d=d.toJSON()),void 0!==(d=f(t,o,d))){if("object"!==typeof d||null===d)return n(d);if(i(d)){for(var y=[],b=0;b<d.length;b++){var S=e(d,b,d[b],h+1)||n(null);c(y,g+r+S)}return"["+u(y,",")+g+"]"}if(-1!==v.indexOf(d)){if(s)return n("__cycle__");throw new TypeError("Converting circular structure to JSON")}c(v,d);var E=a(d).sort(p&&p(d));for(y=[],b=0;b<E.length;b++){var x=e(d,o=E[b],d[o],h+1);if(x){var w=n(o)+m+x;c(y,g+r+w)}}return v.splice(v.indexOf(d),1),"{"+u(y,",")+g+"}"}}({"":e},"",e,0)}},8235:function(e,t,r){"use strict";t.parse=r(50585),t.stringify=r(80175)},50585:function(e){"use strict";var t,r,n,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function a(e){throw{name:"SyntaxError",message:e,at:t,text:n}}function o(e){return e&&e!==r&&a("Expected '"+e+"' instead of '"+r+"'"),r=n.charAt(t),t+=1,r}function s(){var e,t="";for("-"===r&&(t="-",o("-"));r>="0"&&r<="9";)t+=r,o();if("."===r)for(t+=".";o()&&r>="0"&&r<="9";)t+=r;if("e"===r||"E"===r)for(t+=r,o(),"-"!==r&&"+"!==r||(t+=r,o());r>="0"&&r<="9";)t+=r,o();return e=Number(t),isFinite(e)||a("Bad number"),e}function u(){var e,t,n,s="";if('"'===r)for(;o();){if('"'===r)return o(),s;if("\\"===r)if(o(),"u"===r){for(n=0,t=0;t<4&&(e=parseInt(o(),16),isFinite(e));t+=1)n=16*n+e;s+=String.fromCharCode(n)}else{if("string"!==typeof i[r])break;s+=i[r]}else s+=r}a("Bad string")}function c(){for(;r&&r<=" ";)o()}function l(){switch(c(),r){case"{":return function(){var e,t={};if("{"===r){if(o("{"),c(),"}"===r)return o("}"),t;for(;r;){if(e=u(),c(),o(":"),Object.prototype.hasOwnProperty.call(t,e)&&a('Duplicate key "'+e+'"'),t[e]=l(),c(),"}"===r)return o("}"),t;o(","),c()}}a("Bad object")}();case"[":return function(){var e=[];if("["===r){if(o("["),c(),"]"===r)return o("]"),e;for(;r;){if(e.push(l()),c(),"]"===r)return o("]"),e;o(","),c()}}a("Bad array")}();case'"':return u();case"-":return s();default:return r>="0"&&r<="9"?s():function(){switch(r){case"t":return o("t"),o("r"),o("u"),o("e"),!0;case"f":return o("f"),o("a"),o("l"),o("s"),o("e"),!1;case"n":return o("n"),o("u"),o("l"),o("l"),null;default:a("Unexpected '"+r+"'")}}()}}e.exports=function(e,i){var o;return n=e,t=0,r=" ",o=l(),c(),r&&a("Syntax error"),"function"===typeof i?function e(t,r){var n,a,o=t[r];if(o&&"object"===typeof o)for(n in l)Object.prototype.hasOwnProperty.call(o,n)&&("undefined"===typeof(a=e(o,n))?delete o[n]:o[n]=a);return i.call(t,r,o)}({"":o},""):o}},80175:function(e){"use strict";var t,r,n,i=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function o(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,(function(e){var t=a[e];return"string"===typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function s(e,i){var a,u,c,l,d,f=t,h=i[e];switch(h&&"object"===typeof h&&"function"===typeof h.toJSON&&(h=h.toJSON(e)),"function"===typeof n&&(h=n.call(i,e,h)),typeof h){case"string":return o(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(t+=r,d=[],"[object Array]"===Object.prototype.toString.apply(h)){for(l=h.length,a=0;a<l;a+=1)d[a]=s(a,h)||"null";return c=0===d.length?"[]":t?"[\n"+t+d.join(",\n"+t)+"\n"+f+"]":"["+d.join(",")+"]",t=f,c}if(n&&"object"===typeof n)for(l=n.length,a=0;a<l;a+=1)"string"===typeof(u=n[a])&&(c=s(u,h))&&d.push(o(u)+(t?": ":":")+c);else for(u in h)Object.prototype.hasOwnProperty.call(h,u)&&(c=s(u,h))&&d.push(o(u)+(t?": ":":")+c);return c=0===d.length?"{}":t?"{\n"+t+d.join(",\n"+t)+"\n"+f+"}":"{"+d.join(",")+"}",t=f,c}}e.exports=function(e,i,a){var o;if(t="",r="","number"===typeof a)for(o=0;o<a;o+=1)r+=" ";else"string"===typeof a&&(r=a);if(n=i,i&&"function"!==typeof i&&("object"!==typeof i||"number"!==typeof i.length))throw new Error("JSON.stringify");return s("",{"":e})}},3452:function(e,t,r){var n=r(48256)(r(49977),"DataView");e.exports=n},25291:function(e,t,r){var n=r(41373),i=r(74842),a=r(33224),o=r(31646),s=r(51911);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},38922:function(e,t,r){var n=r(79138),i=r(3694),a=r(30993),o=r(34478),s=r(16268);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},39887:function(e,t,r){var n=r(48256)(r(49977),"Map");e.exports=n},30802:function(e,t,r){var n=r(38672),i=r(96537),a=r(87131),o=r(53241),s=r(13192);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},78047:function(e,t,r){var n=r(48256)(r(49977),"Promise");e.exports=n},68229:function(e,t,r){var n=r(48256)(r(49977),"Set");e.exports=n},20507:function(e,t,r){var n=r(30802),i=r(64835),a=r(23486);function o(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},13157:function(e,t,r){var n=r(38922),i=r(53958),a=r(35952),o=r(14171),s=r(81436),u=r(94685);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=u,e.exports=c},85696:function(e,t,r){var n=r(49977).Symbol;e.exports=n},71046:function(e,t,r){var n=r(49977).Uint8Array;e.exports=n},19122:function(e,t,r){var n=r(48256)(r(49977),"WeakMap");e.exports=n},73534:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},23894:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}},51251:function(e,t,r){var n=r(72344),i=r(3243),a=r(52645),o=r(83874),s=r(95077),u=r(63062),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=a(e),l=!r&&i(e),d=!r&&!l&&o(e),f=!r&&!l&&!d&&u(e),h=r||l||d||f,p=h?n(e.length,String):[],v=p.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||p.push(g);return p}},53578:function(e){e.exports=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},50750:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},61829:function(e,t,r){var n=r(41062),i=r(75800),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var o=e[t];a.call(e,t)&&i(o,r)&&(void 0!==r||t in e)||n(e,t,r)}},92685:function(e,t,r){var n=r(75800);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},68320:function(e,t,r){var n=r(49788),i=r(43392);e.exports=function(e,t){return e&&n(t,i(t),e)}},55179:function(e,t,r){var n=r(49788),i=r(72230);e.exports=function(e,t){return e&&n(t,i(t),e)}},41062:function(e,t,r){var n=r(94956);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},70902:function(e,t,r){var n=r(13157),i=r(73534),a=r(61829),o=r(68320),s=r(55179),u=r(10844),c=r(40460),l=r(10530),d=r(12443),f=r(20523),h=r(98379),p=r(34184),v=r(35085),g=r(13064),m=r(81755),y=r(52645),b=r(83874),S=r(86355),E=r(54470),x=r(24417),w=r(43392),k=r(72230),_="[object Arguments]",T="[object Function]",A="[object Object]",C={};C[_]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[A]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[T]=C["[object WeakMap]"]=!1,e.exports=function e(t,r,P,I,O,R){var N,L=1&r,j=2&r,M=4&r;if(P&&(N=O?P(t,I,O,R):P(t)),void 0!==N)return N;if(!E(t))return t;var D=y(t);if(D){if(N=v(t),!L)return c(t,N)}else{var F=p(t),U=F==T||"[object GeneratorFunction]"==F;if(b(t))return u(t,L);if(F==A||F==_||U&&!O){if(N=j||U?{}:m(t),!L)return j?d(t,s(N,t)):l(t,o(N,t))}else{if(!C[F])return O?t:{};N=g(t,F,L)}}R||(R=new n);var B=R.get(t);if(B)return B;R.set(t,N),x(t)?t.forEach((function(n){N.add(e(n,r,P,n,t,R))})):S(t)&&t.forEach((function(n,i){N.set(i,e(n,r,P,i,t,R))}));var G=D?void 0:(M?j?h:f:j?k:w)(t);return i(G||t,(function(n,i){G&&(n=t[i=n]),a(N,i,e(n,r,P,i,t,R))})),N}},57057:function(e,t,r){var n=r(54470),i=Object.create,a=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=a},98386:function(e,t,r){var n=r(53578),i=r(52645);e.exports=function(e,t,r){var a=t(e);return i(e)?a:n(a,r(e))}},48625:function(e,t,r){var n=r(85696),i=r(2240),a=r(15031),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},62337:function(e,t,r){var n=r(48625),i=r(11402);e.exports=function(e){return i(e)&&"[object Arguments]"==n(e)}},57973:function(e,t,r){var n=r(67854),i=r(11402);e.exports=function e(t,r,a,o,s){return t===r||(null==t||null==r||!i(t)&&!i(r)?t!==t&&r!==r:n(t,r,a,o,e,s))}},67854:function(e,t,r){var n=r(13157),i=r(22591),a=r(66446),o=r(67239),s=r(34184),u=r(52645),c=r(83874),l=r(63062),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,v,g,m){var y=u(e),b=u(t),S=y?f:s(e),E=b?f:s(t),x=(S=S==d?h:S)==h,w=(E=E==d?h:E)==h,k=S==E;if(k&&c(e)){if(!c(t))return!1;y=!0,x=!1}if(k&&!x)return m||(m=new n),y||l(e)?i(e,t,r,v,g,m):a(e,t,S,r,v,g,m);if(!(1&r)){var _=x&&p.call(e,"__wrapped__"),T=w&&p.call(t,"__wrapped__");if(_||T){var A=_?e.value():e,C=T?t.value():t;return m||(m=new n),g(A,C,r,v,m)}}return!!k&&(m||(m=new n),o(e,t,r,v,g,m))}},85618:function(e,t,r){var n=r(34184),i=r(11402);e.exports=function(e){return i(e)&&"[object Map]"==n(e)}},81603:function(e,t,r){var n=r(88143),i=r(73089),a=r(54470),o=r(42032),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,d=c.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(n(e)?f:s).test(o(e))}},98131:function(e,t,r){var n=r(34184),i=r(11402);e.exports=function(e){return i(e)&&"[object Set]"==n(e)}},82883:function(e,t,r){var n=r(48625),i=r(418),a=r(11402),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[n(e)]}},57243:function(e,t,r){var n=r(26193),i=r(30559),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}},87977:function(e,t,r){var n=r(54470),i=r(26193),a=r(79251),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=i(e),r=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&r.push(s);return r}},72344:function(e){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},56718:function(e){e.exports=function(e){return function(t){return e(t)}}},11191:function(e){e.exports=function(e,t){return e.has(t)}},88281:function(e,t,r){var n=r(71046);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},10844:function(e,t,r){e=r.nmd(e);var n=r(49977),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}},35181:function(e,t,r){var n=r(88281);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},3761:function(e){var t=/\w*$/;e.exports=function(e){var r=new e.constructor(e.source,t.exec(e));return r.lastIndex=e.lastIndex,r}},67007:function(e,t,r){var n=r(85696),i=n?n.prototype:void 0,a=i?i.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},51105:function(e,t,r){var n=r(88281);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},40460:function(e){e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},49788:function(e,t,r){var n=r(61829),i=r(41062);e.exports=function(e,t,r,a){var o=!r;r||(r={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=a?a(r[c],e[c],c,r,e):void 0;void 0===l&&(l=e[c]),o?i(r,c,l):n(r,c,l)}return r}},10530:function(e,t,r){var n=r(49788),i=r(7357);e.exports=function(e,t){return n(e,i(e),t)}},12443:function(e,t,r){var n=r(49788),i=r(59571);e.exports=function(e,t){return n(e,i(e),t)}},66263:function(e,t,r){var n=r(49977)["__core-js_shared__"];e.exports=n},94956:function(e,t,r){var n=r(48256),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},22591:function(e,t,r){var n=r(20507),i=r(50750),a=r(11191);e.exports=function(e,t,r,o,s,u){var c=1&r,l=e.length,d=t.length;if(l!=d&&!(c&&d>l))return!1;var f=u.get(e),h=u.get(t);if(f&&h)return f==t&&h==e;var p=-1,v=!0,g=2&r?new n:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var m=e[p],y=t[p];if(o)var b=c?o(y,m,p,t,e,u):o(m,y,p,e,t,u);if(void 0!==b){if(b)continue;v=!1;break}if(g){if(!i(t,(function(e,t){if(!a(g,t)&&(m===e||s(m,e,r,o,u)))return g.push(t)}))){v=!1;break}}else if(m!==y&&!s(m,y,r,o,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},66446:function(e,t,r){var n=r(85696),i=r(71046),a=r(75800),o=r(22591),s=r(49089),u=r(42565),c=n?n.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,r,n,c,d,f){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&n;if(h||(h=u),e.size!=t.size&&!p)return!1;var v=f.get(e);if(v)return v==t;n|=2,f.set(e,t);var g=o(h(e),h(t),n,c,d,f);return f.delete(e),g;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},67239:function(e,t,r){var n=r(20523),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,a,o,s){var u=1&r,c=n(e),l=c.length;if(l!=n(t).length&&!u)return!1;for(var d=l;d--;){var f=c[d];if(!(u?f in t:i.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var v=!0;s.set(e,t),s.set(t,e);for(var g=u;++d<l;){var m=e[f=c[d]],y=t[f];if(a)var b=u?a(y,m,f,t,e,s):a(m,y,f,e,t,s);if(!(void 0===b?m===y||o(m,y,r,a,s):b)){v=!1;break}g||(g="constructor"==f)}if(v&&!g){var S=e.constructor,E=t.constructor;S==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof S&&S instanceof S&&"function"==typeof E&&E instanceof E||(v=!1)}return s.delete(e),s.delete(t),v}},30383:function(e,t,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},20523:function(e,t,r){var n=r(98386),i=r(7357),a=r(43392);e.exports=function(e){return n(e,a,i)}},98379:function(e,t,r){var n=r(98386),i=r(59571),a=r(72230);e.exports=function(e){return n(e,a,i)}},79510:function(e,t,r){var n=r(42874);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},48256:function(e,t,r){var n=r(81603),i=r(50910);e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},16240:function(e,t,r){var n=r(695)(Object.getPrototypeOf,Object);e.exports=n},2240:function(e,t,r){var n=r(85696),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(u){}var i=o.call(e);return n&&(t?e[s]=r:delete e[s]),i}},7357:function(e,t,r){var n=r(23894),i=r(88843),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),n(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=s},59571:function(e,t,r){var n=r(53578),i=r(16240),a=r(7357),o=r(88843),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,a(e)),e=i(e);return t}:o;e.exports=s},34184:function(e,t,r){var n=r(3452),i=r(39887),a=r(78047),o=r(68229),s=r(19122),u=r(48625),c=r(42032),l="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",v=c(n),g=c(i),m=c(a),y=c(o),b=c(s),S=u;(n&&S(new n(new ArrayBuffer(1)))!=p||i&&S(new i)!=l||a&&S(a.resolve())!=d||o&&S(new o)!=f||s&&S(new s)!=h)&&(S=function(e){var t=u(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case v:return p;case g:return l;case m:return d;case y:return f;case b:return h}return t}),e.exports=S},50910:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},41373:function(e,t,r){var n=r(12664);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},74842:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},33224:function(e,t,r){var n=r(12664),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(t,e)?t[e]:void 0}},31646:function(e,t,r){var n=r(12664),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},51911:function(e,t,r){var n=r(12664);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},35085:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var r=e.length,n=new e.constructor(r);return r&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},13064:function(e,t,r){var n=r(88281),i=r(35181),a=r(3761),o=r(67007),s=r(51105);e.exports=function(e,t,r){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return i(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,r);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return a(e);case"[object Symbol]":return o(e)}}},81755:function(e,t,r){var n=r(57057),i=r(16240),a=r(26193);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:n(i(e))}},95077:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},42874:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},73089:function(e,t,r){var n=r(66263),i=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},26193:function(e){var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},79138:function(e){e.exports=function(){this.__data__=[],this.size=0}},3694:function(e,t,r){var n=r(92685),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():i.call(t,r,1),--this.size,!0)}},30993:function(e,t,r){var n=r(92685);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},34478:function(e,t,r){var n=r(92685);e.exports=function(e){return n(this.__data__,e)>-1}},16268:function(e,t,r){var n=r(92685);e.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},38672:function(e,t,r){var n=r(25291),i=r(38922),a=r(39887);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||i),string:new n}}},96537:function(e,t,r){var n=r(79510);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},87131:function(e,t,r){var n=r(79510);e.exports=function(e){return n(this,e).get(e)}},53241:function(e,t,r){var n=r(79510);e.exports=function(e){return n(this,e).has(e)}},13192:function(e,t,r){var n=r(79510);e.exports=function(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},49089:function(e){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},12664:function(e,t,r){var n=r(48256)(Object,"create");e.exports=n},30559:function(e,t,r){var n=r(695)(Object.keys,Object);e.exports=n},79251:function(e){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},28937:function(e,t,r){e=r.nmd(e);var n=r(30383),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&n.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},15031:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},695:function(e){e.exports=function(e,t){return function(r){return e(t(r))}}},49977:function(e,t,r){var n=r(30383),i="object"==typeof self&&self&&self.Object===Object&&self,a=n||i||Function("return this")();e.exports=a},64835:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},23486:function(e){e.exports=function(e){return this.__data__.has(e)}},42565:function(e){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},53958:function(e,t,r){var n=r(38922);e.exports=function(){this.__data__=new n,this.size=0}},35952:function(e){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},14171:function(e){e.exports=function(e){return this.__data__.get(e)}},81436:function(e){e.exports=function(e){return this.__data__.has(e)}},94685:function(e,t,r){var n=r(38922),i=r(39887),a=r(30802);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var o=r.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new a(o)}return r.set(e,t),this.size=r.size,this}},42032:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}},27623:function(e,t,r){var n=r(70902);e.exports=function(e){return n(e,5)}},75800:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},3243:function(e,t,r){var n=r(62337),i=r(11402),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},52645:function(e){var t=Array.isArray;e.exports=t},67156:function(e,t,r){var n=r(88143),i=r(418);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},83874:function(e,t,r){e=r.nmd(e);var n=r(49977),i=r(43639),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?n.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},37648:function(e,t,r){var n=r(57973);e.exports=function(e,t){return n(e,t)}},88143:function(e,t,r){var n=r(48625),i=r(54470);e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},418:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},86355:function(e,t,r){var n=r(85618),i=r(56718),a=r(28937),o=a&&a.isMap,s=o?i(o):n;e.exports=s},54470:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},11402:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},24417:function(e,t,r){var n=r(98131),i=r(56718),a=r(28937),o=a&&a.isSet,s=o?i(o):n;e.exports=s},63062:function(e,t,r){var n=r(82883),i=r(56718),a=r(28937),o=a&&a.isTypedArray,s=o?i(o):n;e.exports=s},43392:function(e,t,r){var n=r(51251),i=r(57243),a=r(67156);e.exports=function(e){return a(e)?n(e):i(e)}},72230:function(e,t,r){var n=r(51251),i=r(87977),a=r(67156);e.exports=function(e){return a(e)?n(e,!0):i(e)}},88843:function(e){e.exports=function(){return[]}},43639:function(e){e.exports=function(){return!1}},44970:function(e,t,r){"use strict";var n=r(38416).default,i=r(861).default,a=r(74704).default,o=r(42122).default,s=r(70215).default,u=r(27424).default,c=r(89728).default,l=r(56690).default,d=r(61655).default,f=r(26389).default,h=r(33496).default,p=["base"],v=["padTo","floor"];Object.defineProperty(t,"__esModule",{value:!0});var g=function(e){d(r,e);var t=f(r);function r(){return l(this,r),t.apply(this,arguments)}return c(r)}(h(Error)),m=function(e){d(r,e);var t=f(r);function r(e){return l(this,r),t.call(this,"Invalid DateTime: ".concat(e.toMessage()))}return c(r)}(g),y=function(e){d(r,e);var t=f(r);function r(e){return l(this,r),t.call(this,"Invalid Interval: ".concat(e.toMessage()))}return c(r)}(g),b=function(e){d(r,e);var t=f(r);function r(e){return l(this,r),t.call(this,"Invalid Duration: ".concat(e.toMessage()))}return c(r)}(g),S=function(e){d(r,e);var t=f(r);function r(){return l(this,r),t.apply(this,arguments)}return c(r)}(g),E=function(e){d(r,e);var t=f(r);function r(e){return l(this,r),t.call(this,"Invalid unit ".concat(e))}return c(r)}(g),x=function(e){d(r,e);var t=f(r);function r(){return l(this,r),t.apply(this,arguments)}return c(r)}(g),w=function(e){d(r,e);var t=f(r);function r(){return l(this,r),t.call(this,"Zone is an abstract class")}return c(r)}(g),k="numeric",_="short",T="long",A={year:k,month:k,day:k},C={year:k,month:_,day:k},P={year:k,month:_,day:k,weekday:_},I={year:k,month:T,day:k},O={year:k,month:T,day:k,weekday:T},R={hour:k,minute:k},N={hour:k,minute:k,second:k},L={hour:k,minute:k,second:k,timeZoneName:_},j={hour:k,minute:k,second:k,timeZoneName:T},M={hour:k,minute:k,hourCycle:"h23"},D={hour:k,minute:k,second:k,hourCycle:"h23"},F={hour:k,minute:k,second:k,hourCycle:"h23",timeZoneName:_},U={hour:k,minute:k,second:k,hourCycle:"h23",timeZoneName:T},B={year:k,month:k,day:k,hour:k,minute:k},G={year:k,month:k,day:k,hour:k,minute:k,second:k},V={year:k,month:_,day:k,hour:k,minute:k},H={year:k,month:_,day:k,hour:k,minute:k,second:k},W={year:k,month:_,day:k,weekday:_,hour:k,minute:k},q={year:k,month:T,day:k,hour:k,minute:k,timeZoneName:_},z={year:k,month:T,day:k,hour:k,minute:k,second:k,timeZoneName:_},Y={year:k,month:T,day:k,weekday:T,hour:k,minute:k,timeZoneName:T},X={year:k,month:T,day:k,weekday:T,hour:k,minute:k,second:k,timeZoneName:T},K=function(){function e(){l(this,e)}return c(e,[{key:"type",get:function(){throw new w}},{key:"name",get:function(){throw new w}},{key:"ianaName",get:function(){return this.name}},{key:"isUniversal",get:function(){throw new w}},{key:"offsetName",value:function(e,t){throw new w}},{key:"formatOffset",value:function(e,t){throw new w}},{key:"offset",value:function(e){throw new w}},{key:"equals",value:function(e){throw new w}},{key:"isValid",get:function(){throw new w}}]),e}(),J=null,Z=function(e){d(r,e);var t=f(r);function r(){return l(this,r),t.apply(this,arguments)}return c(r,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"offsetName",value:function(e,t){return He(e,t.format,t.locale)}},{key:"formatOffset",value:function(e,t){return Ye(this.offset(e),t)}},{key:"offset",value:function(e){return-new Date(e).getTimezoneOffset()}},{key:"equals",value:function(e){return"system"===e.type}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===J&&(J=new r),J}}]),r}(K),Q={};var $={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};var ee={},te=function(e){d(r,e);var t=f(r);function r(e){var n;return l(this,r),(n=t.call(this)).zoneName=e,n.valid=r.isValidZone(e),n}return c(r,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"offsetName",value:function(e,t){return He(e,t.format,t.locale,this.name)}},{key:"formatOffset",value:function(e,t){return Ye(this.offset(e),t)}},{key:"offset",value:function(e){var t=new Date(e);if(isNaN(t))return NaN;var r,n=(r=this.name,Q[r]||(Q[r]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Q[r]),i=n.formatToParts?function(e,t){for(var r=e.formatToParts(t),n=[],i=0;i<r.length;i++){var a=r[i],o=a.type,s=a.value,u=$[o];"era"===o?n[u]=s:_e(u)||(n[u]=parseInt(s,10))}return n}(n,t):function(e,t){var r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),i=u(n,8),a=i[1],o=i[2];return[i[3],a,o,i[4],i[5],i[6],i[7]]}(n,t),a=u(i,7),o=a[0],s=a[1],c=a[2],l=a[3],d=a[4],f=a[5],h=a[6];"BC"===l&&(o=1-Math.abs(o));var p=+t,v=p%1e3;return(Be({year:o,month:s,day:c,hour:24===d?0:d,minute:f,second:h,millisecond:0})-(p-=v>=0?v:1e3+v))/6e4}},{key:"equals",value:function(e){return"iana"===e.type&&e.name===this.name}},{key:"isValid",get:function(){return this.valid}}],[{key:"create",value:function(e){return ee[e]||(ee[e]=new r(e)),ee[e]}},{key:"resetCache",value:function(){ee={},Q={}}},{key:"isValidSpecifier",value:function(e){return this.isValidZone(e)}},{key:"isValidZone",value:function(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(t){return!1}}}]),r}(K),re={};var ne={};function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=JSON.stringify([e,t]),n=ne[r];return n||(n=new Intl.DateTimeFormat(e,t),ne[r]=n),n}var ae={};var oe={};var se=null;function ue(e,t,r,n,i){var a=e.listingMode(r);return"error"===a?null:"en"===a?n(t):i(t)}var ce=function(){function e(t,r,n){l(this,e),this.padTo=n.padTo||0,this.floor=n.floor||!1;n.padTo,n.floor;var i=s(n,v);if(!r||Object.keys(i).length>0){var a=o({useGrouping:!1},n);n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=JSON.stringify([e,t]),n=ae[r];return n||(n=new Intl.NumberFormat(e,t),ae[r]=n),n}(t,a)}}return c(e,[{key:"format",value:function(e){if(this.inf){var t=this.floor?Math.floor(e):e;return this.inf.format(t)}return Re(this.floor?Math.floor(e):Me(e,3),this.padTo)}}]),e}(),le=function(){function e(t,r,n){l(this,e),this.opts=n,this.originalZone=void 0;var i=void 0;if(this.opts.timeZone)this.dt=t;else if("fixed"===t.zone.type){var a=t.offset/60*-1,s=a>=0?"Etc/GMT+".concat(a):"Etc/GMT".concat(a);0!==t.offset&&te.create(s).valid?(i=s,this.dt=t):(i="UTC",this.dt=0===t.offset?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else"system"===t.zone.type?this.dt=t:"iana"===t.zone.type?(this.dt=t,i=t.zone.name):(i="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);var u=o({},this.opts);u.timeZone=u.timeZone||i,this.dtf=ie(r,u)}return c(e,[{key:"format",value:function(){return this.originalZone?this.formatToParts().map((function(e){return e.value})).join(""):this.dtf.format(this.dt.toJSDate())}},{key:"formatToParts",value:function(){var e=this,t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map((function(t){if("timeZoneName"===t.type){var r=e.originalZone.offsetName(e.dt.ts,{locale:e.dt.locale,format:e.opts.timeZoneName});return o(o({},t),{},{value:r})}return t})):t}},{key:"resolvedOptions",value:function(){return this.dtf.resolvedOptions()}}]),e}(),de=function(){function e(t,r,n){l(this,e),this.opts=o({style:"long"},n),!r&&Ce()&&(this.rtf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t.base,s(t,p)),n=JSON.stringify([e,r]),i=oe[n];return i||(i=new Intl.RelativeTimeFormat(e,t),oe[n]=i),i}(t,n))}return c(e,[{key:"format",value:function(e,t){return this.rtf?this.rtf.format(e,t):function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"always",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===r&&a){var o="days"===e;switch(t){case 1:return o?"tomorrow":"next ".concat(i[e][0]);case-1:return o?"yesterday":"last ".concat(i[e][0]);case 0:return o?"today":"this ".concat(i[e][0])}}var s=Object.is(t,-0)||t<0,u=Math.abs(t),c=1===u,l=i[e],d=n?c?l[1]:l[2]||l[1]:c?i[e][0]:e;return s?"".concat(u," ").concat(d," ago"):"in ".concat(u," ").concat(d)}(t,e,this.opts.numeric,"long"!==this.opts.style)}},{key:"formatToParts",value:function(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}]),e}(),fe=function(){function e(t,r,n,i){l(this,e);var a=function(e){var t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));var r,n,i=e.indexOf("-u-");if(-1===i)return[e];try{r=ie(e).resolvedOptions(),n=e}catch(s){var a=e.substring(0,i);r=ie(a).resolvedOptions(),n=a}var o=r;return[n,o.numberingSystem,o.calendar]}(t),o=u(a,3),s=o[0],c=o[1],d=o[2];this.locale=s,this.numberingSystem=r||c||null,this.outputCalendar=n||d||null,this.intl=function(e,t,r){return r||t?(e.includes("-u-")||(e+="-u"),r&&(e+="-ca-".concat(r)),t&&(e+="-nu-".concat(t)),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}return c(e,[{key:"fastNumbers",get:function(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}},{key:"listingMode",value:function(){var e=this.isEnglish(),t=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return e&&t?"en":"intl"}},{key:"clone",value:function(t){return t&&0!==Object.getOwnPropertyNames(t).length?e.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1):this}},{key:"redefaultToEN",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone(o(o({},e),{},{defaultToEN:!0}))}},{key:"redefaultToSystem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone(o(o({},e),{},{defaultToEN:!1}))}},{key:"months",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ue(this,e,!(arguments.length>2&&void 0!==arguments[2])||arguments[2],Qe,(function(){var n=r?{month:e,day:"numeric"}:{month:e},i=r?"format":"standalone";return t.monthsCache[i][e]||(t.monthsCache[i][e]=function(e){for(var t=[],r=1;r<=12;r++){var n=mn.utc(2016,r,1);t.push(e(n))}return t}((function(e){return t.extract(e,n,"month")}))),t.monthsCache[i][e]}))}},{key:"weekdays",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ue(this,e,!(arguments.length>2&&void 0!==arguments[2])||arguments[2],rt,(function(){var n=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=r?"format":"standalone";return t.weekdaysCache[i][e]||(t.weekdaysCache[i][e]=function(e){for(var t=[],r=1;r<=7;r++){var n=mn.utc(2016,11,13+r);t.push(e(n))}return t}((function(e){return t.extract(e,n,"weekday")}))),t.weekdaysCache[i][e]}))}},{key:"meridiems",value:function(){var e=this;return ue(this,void 0,!(arguments.length>0&&void 0!==arguments[0])||arguments[0],(function(){return nt}),(function(){if(!e.meridiemCache){var t={hour:"numeric",hourCycle:"h12"};e.meridiemCache=[mn.utc(2016,11,13,9),mn.utc(2016,11,13,19)].map((function(r){return e.extract(r,t,"dayperiod")}))}return e.meridiemCache}))}},{key:"eras",value:function(e){var t=this;return ue(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],st,(function(){var r={era:e};return t.eraCache[e]||(t.eraCache[e]=[mn.utc(-40,1,1),mn.utc(2017,1,1)].map((function(e){return t.extract(e,r,"era")}))),t.eraCache[e]}))}},{key:"extract",value:function(e,t,r){var n=this.dtFormatter(e,t).formatToParts().find((function(e){return e.type.toLowerCase()===r}));return n?n.value:null}},{key:"numberFormatter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ce(this.intl,e.forceSimple||this.fastNumbers,e)}},{key:"dtFormatter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new le(e,this.intl,t)}},{key:"relFormatter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new de(this.intl,this.isEnglish(),e)}},{key:"listFormatter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=JSON.stringify([e,t]),n=re[r];return n||(n=new Intl.ListFormat(e,t),re[r]=n),n}(this.intl,e)}},{key:"isEnglish",value:function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}},{key:"equals",value:function(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}],[{key:"fromOpts",value:function(t){return e.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}},{key:"create",value:function(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=t||ke.defaultLocale;return new e(a||(i?"en-US":se||(se=(new Intl.DateTimeFormat).resolvedOptions().locale)),r||ke.defaultNumberingSystem,n||ke.defaultOutputCalendar,a)}},{key:"resetCache",value:function(){se=null,ne={},ae={},oe={}}},{key:"fromObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.locale,n=t.numberingSystem,i=t.outputCalendar;return e.create(r,n,i)}}]),e}(),he=null,pe=function(e){d(r,e);var t=f(r);function r(e){var n;return l(this,r),(n=t.call(this)).fixed=e,n}return c(r,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC".concat(Ye(this.fixed,"narrow"))}},{key:"ianaName",get:function(){return 0===this.fixed?"Etc/UTC":"Etc/GMT".concat(Ye(-this.fixed,"narrow"))}},{key:"offsetName",value:function(){return this.name}},{key:"formatOffset",value:function(e,t){return Ye(this.fixed,t)}},{key:"isUniversal",get:function(){return!0}},{key:"offset",value:function(){return this.fixed}},{key:"equals",value:function(e){return"fixed"===e.type&&e.fixed===this.fixed}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return null===he&&(he=new r(0)),he}},{key:"instance",value:function(e){return 0===e?r.utcInstance:new r(e)}},{key:"parseSpecifier",value:function(e){if(e){var t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new r(We(t[1],t[2]))}return null}}]),r}(K),ve=function(e){d(r,e);var t=f(r);function r(e){var n;return l(this,r),(n=t.call(this)).zoneName=e,n}return c(r,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"offsetName",value:function(){return null}},{key:"formatOffset",value:function(){return""}},{key:"offset",value:function(){return NaN}},{key:"equals",value:function(){return!1}},{key:"isValid",get:function(){return!1}}]),r}(K);function ge(e,t){if(_e(e)||null===e)return t;if(e instanceof K)return e;if(function(e){return"string"===typeof e}(e)){var r=e.toLowerCase();return"default"===r?t:"local"===r||"system"===r?Z.instance:"utc"===r||"gmt"===r?pe.utcInstance:pe.parseSpecifier(r)||te.create(e)}return Te(e)?pe.instance(e):"object"===typeof e&&e.offset&&"number"===typeof e.offset?e:new ve(e)}var me,ye=function(){return Date.now()},be="system",Se=null,Ee=null,xe=null,we=60,ke=function(){function e(){l(this,e)}return c(e,null,[{key:"now",get:function(){return ye},set:function(e){ye=e}},{key:"defaultZone",get:function(){return ge(be,Z.instance)},set:function(e){be=e}},{key:"defaultLocale",get:function(){return Se},set:function(e){Se=e}},{key:"defaultNumberingSystem",get:function(){return Ee},set:function(e){Ee=e}},{key:"defaultOutputCalendar",get:function(){return xe},set:function(e){xe=e}},{key:"twoDigitCutoffYear",get:function(){return we},set:function(e){we=e%100}},{key:"throwOnInvalid",get:function(){return me},set:function(e){me=e}},{key:"resetCaches",value:function(){fe.resetCache(),te.resetCache()}}]),e}();function _e(e){return"undefined"===typeof e}function Te(e){return"number"===typeof e}function Ae(e){return"number"===typeof e&&e%1===0}function Ce(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function Pe(e,t,r){if(0!==e.length)return e.reduce((function(e,n){var i=[t(n),n];return e&&r(e[0],i[0])===e[0]?e:i}),null)[1]}function Ie(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Oe(e,t,r){return Ae(e)&&e>=t&&e<=r}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0")}function Ne(e){return _e(e)||null===e||""===e?void 0:parseInt(e,10)}function Le(e){return _e(e)||null===e||""===e?void 0:parseFloat(e)}function je(e){if(!_e(e)&&null!==e&&""!==e){var t=1e3*parseFloat("0."+e);return Math.floor(t)}}function Me(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Math.pow(10,t);return(r?Math.trunc:Math.round)(e*n)/n}function De(e){return e%4===0&&(e%100!==0||e%400===0)}function Fe(e){return De(e)?366:365}function Ue(e,t){var r=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return 2===r?De(e+(t-r)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Be(e){var t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t)).setUTCFullYear(e.year,e.month-1,e.day),+t}function Ge(e){var t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,r=e-1,n=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return 4===t||3===n?53:52}function Ve(e){return e>99?e:e>ke.twoDigitCutoffYear?1900+e:2e3+e}function He(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=new Date(e),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(a.timeZone=n);var s=o({timeZoneName:t},a),u=new Intl.DateTimeFormat(r,s).formatToParts(i).find((function(e){return"timezonename"===e.type.toLowerCase()}));return u?u.value:null}function We(e,t){var r=parseInt(e,10);Number.isNaN(r)&&(r=0);var n=parseInt(t,10)||0;return 60*r+(r<0||Object.is(r,-0)?-n:n)}function qe(e){var t=Number(e);if("boolean"===typeof e||""===e||Number.isNaN(t))throw new x("Invalid unit value ".concat(e));return t}function ze(e,t){var r={};for(var n in e)if(Ie(e,n)){var i=e[n];if(void 0===i||null===i)continue;r[t(n)]=qe(i)}return r}function Ye(e,t){var r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return"".concat(i).concat(Re(r,2),":").concat(Re(n,2));case"narrow":return"".concat(i).concat(r).concat(n>0?":".concat(n):"");case"techie":return"".concat(i).concat(Re(r,2)).concat(Re(n,2));default:throw new RangeError("Value format ".concat(t," is out of range for property format"))}}function Xe(e){return function(e,t){return t.reduce((function(t,r){return t[r]=e[r],t}),{})}(e,["hour","minute","second","millisecond"])}var Ke=["January","February","March","April","May","June","July","August","September","October","November","December"],Je=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ze=["J","F","M","A","M","J","J","A","S","O","N","D"];function Qe(e){switch(e){case"narrow":return[].concat(Ze);case"short":return[].concat(Je);case"long":return[].concat(Ke);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var $e=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],et=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],tt=["M","T","W","T","F","S","S"];function rt(e){switch(e){case"narrow":return[].concat(tt);case"short":return[].concat(et);case"long":return[].concat($e);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var nt=["AM","PM"],it=["Before Christ","Anno Domini"],at=["BC","AD"],ot=["B","A"];function st(e){switch(e){case"narrow":return[].concat(ot);case"short":return[].concat(at);case"long":return[].concat(it);default:return null}}function ut(e,t){var r,n="",i=a(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.literal?n+=o.val:n+=t(o.val)}}catch(s){i.e(s)}finally{i.f()}return n}var ct={D:A,DD:C,DDD:I,DDDD:O,t:R,tt:N,ttt:L,tttt:j,T:M,TT:D,TTT:F,TTTT:U,f:B,ff:V,fff:q,ffff:Y,F:G,FF:H,FFF:z,FFFF:X},lt=function(){function e(t,r){l(this,e),this.opts=r,this.loc=t,this.systemLoc=null}return c(e,[{key:"formatWithSystemDefault",value:function(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,o(o({},this.opts),t)).format()}},{key:"formatDateTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.loc.dtFormatter(e,o(o({},this.opts),t)).format()}},{key:"formatDateTimeParts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.loc.dtFormatter(e,o(o({},this.opts),t)).formatToParts()}},{key:"formatInterval",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.loc.dtFormatter(e.start,o(o({},this.opts),t)).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}},{key:"resolvedOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.loc.dtFormatter(e,o(o({},this.opts),t)).resolvedOptions()}},{key:"num",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.opts.forceSimple)return Re(e,t);var r=o({},this.opts);return t>0&&(r.padTo=t),this.loc.numberFormatter(r).format(e)}},{key:"formatDateTimeFromString",value:function(t,r){var n=this,i="en"===this.loc.listingMode(),a=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,o=function(e,r){return n.loc.extract(t,e,r)},s=function(e){return t.isOffsetFixed&&0===t.offset&&e.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,e.format):""},u=function(){return i?function(e){return nt[e.hour<12?0:1]}(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod")},c=function(e,r){return i?function(e,t){return Qe(t)[e.month-1]}(t,e):o(r?{month:e}:{month:e,day:"numeric"},"month")},l=function(e,r){return i?function(e,t){return rt(t)[e.weekday-1]}(t,e):o(r?{weekday:e}:{weekday:e,month:"long",day:"numeric"},"weekday")},d=function(e){return i?function(e,t){return st(t)[e.year<0?0:1]}(t,e):o({era:e},"era")};return ut(e.parseFormat(r),(function(r){switch(r){case"S":return n.num(t.millisecond);case"u":case"SSS":return n.num(t.millisecond,3);case"s":return n.num(t.second);case"ss":return n.num(t.second,2);case"uu":return n.num(Math.floor(t.millisecond/10),2);case"uuu":return n.num(Math.floor(t.millisecond/100));case"m":return n.num(t.minute);case"mm":return n.num(t.minute,2);case"h":return n.num(t.hour%12===0?12:t.hour%12);case"hh":return n.num(t.hour%12===0?12:t.hour%12,2);case"H":return n.num(t.hour);case"HH":return n.num(t.hour,2);case"Z":return s({format:"narrow",allowZ:n.opts.allowZ});case"ZZ":return s({format:"short",allowZ:n.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:n.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:n.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:n.loc.locale});case"z":return t.zoneName;case"a":return u();case"d":return a?o({day:"numeric"},"day"):n.num(t.day);case"dd":return a?o({day:"2-digit"},"day"):n.num(t.day,2);case"c":case"E":return n.num(t.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return a?o({month:"numeric",day:"numeric"},"month"):n.num(t.month);case"LL":return a?o({month:"2-digit",day:"numeric"},"month"):n.num(t.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return a?o({month:"numeric"},"month"):n.num(t.month);case"MM":return a?o({month:"2-digit"},"month"):n.num(t.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return a?o({year:"numeric"},"year"):n.num(t.year);case"yy":return a?o({year:"2-digit"},"year"):n.num(t.year.toString().slice(-2),2);case"yyyy":return a?o({year:"numeric"},"year"):n.num(t.year,4);case"yyyyyy":return a?o({year:"numeric"},"year"):n.num(t.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return n.num(t.weekYear.toString().slice(-2),2);case"kkkk":return n.num(t.weekYear,4);case"W":return n.num(t.weekNumber);case"WW":return n.num(t.weekNumber,2);case"o":return n.num(t.ordinal);case"ooo":return n.num(t.ordinal,3);case"q":return n.num(t.quarter);case"qq":return n.num(t.quarter,2);case"X":return n.num(Math.floor(t.ts/1e3));case"x":return n.num(t.ts);default:return function(r){var i=e.macroTokenToFormatOpts(r);return i?n.formatWithSystemDefault(t,i):r}(r)}}))}},{key:"formatDurationFromString",value:function(t,r){var n,a=this,o=function(e){switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=e.parseFormat(r),u=s.reduce((function(e,t){var r=t.literal,n=t.val;return r?e:e.concat(n)}),[]),c=t.shiftTo.apply(t,i(u.map(o).filter((function(e){return e}))));return ut(s,(n=c,function(e){var t=o(e);return t?a.num(n.get(t),e.length):e}))}}],[{key:"create",value:function(t){return new e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}},{key:"parseFormat",value:function(e){for(var t=null,r="",n=!1,i=[],a=0;a<e.length;a++){var o=e.charAt(a);"'"===o?(r.length>0&&i.push({literal:n||/^\s+$/.test(r),val:r}),t=null,r="",n=!n):n||o===t?r+=o:(r.length>0&&i.push({literal:/^\s+$/.test(r),val:r}),r=o,t=o)}return r.length>0&&i.push({literal:n||/^\s+$/.test(r),val:r}),i}},{key:"macroTokenToFormatOpts",value:function(e){return ct[e]}}]),e}(),dt=function(){function e(t,r){l(this,e),this.reason=t,this.explanation=r}return c(e,[{key:"toMessage",value:function(){return this.explanation?"".concat(this.reason,": ").concat(this.explanation):this.reason}}]),e}(),ft=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function ht(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.reduce((function(e,t){return e+t.source}),"");return RegExp("^".concat(n,"$"))}function pt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(t,r){var n=u(t,3),i=n[0],a=n[1],s=n[2],c=r(e,s),l=u(c,3),d=l[0],f=l[1],h=l[2];return[o(o({},i),d),f||a,h]}),[{},null,1]).slice(0,2)}}function vt(e){if(null==e)return[null,null];for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i=0,a=r;i<a.length;i++){var o=u(a[i],2),s=o[0],c=o[1],l=s.exec(e);if(l)return c(l)}return[null,null]}function gt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e,r){var n,i={};for(n=0;n<t.length;n++)i[t[n]]=Ne(e[r+n]);return[i,null,r+n]}}var mt=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,yt="(?:".concat(mt.source,"?(?:\\[(").concat(ft.source,")\\])?)?"),bt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,St=RegExp("".concat(bt.source).concat(yt)),Et=RegExp("(?:T".concat(St.source,")?")),xt=gt("weekYear","weekNumber","weekDay"),wt=gt("year","ordinal"),kt=RegExp("".concat(bt.source," ?(?:").concat(mt.source,"|(").concat(ft.source,"))?")),_t=RegExp("(?: ".concat(kt.source,")?"));function Tt(e,t,r){var n=e[t];return _e(n)?r:Ne(n)}function At(e,t){return[{hours:Tt(e,t,0),minutes:Tt(e,t+1,0),seconds:Tt(e,t+2,0),milliseconds:je(e[t+3])},null,t+4]}function Ct(e,t){var r=!e[t]&&!e[t+1],n=We(e[t+1],e[t+2]);return[{},r?null:pe.instance(n),t+3]}function Pt(e,t){return[{},e[t]?te.create(e[t]):null,t+1]}var It=RegExp("^T?".concat(bt.source,"$")),Ot=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Rt(e){var t=u(e,9),r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],d=t[8],f="-"===r[0],h=l&&"-"===l[0],p=function(e){return void 0!==e&&(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e&&f)?-e:e};return[{years:p(Le(n)),months:p(Le(i)),weeks:p(Le(a)),days:p(Le(o)),hours:p(Le(s)),minutes:p(Le(c)),seconds:p(Le(l),"-0"===l),milliseconds:p(je(d),h)}]}var Nt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Lt(e,t,r,n,i,a,o){var s={year:2===t.length?Ve(Ne(t)):Ne(t),month:Je.indexOf(r)+1,day:Ne(n),hour:Ne(i),minute:Ne(a)};return o&&(s.second=Ne(o)),e&&(s.weekday=e.length>3?$e.indexOf(e)+1:et.indexOf(e)+1),s}var jt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Mt(e){var t,r=u(e,12),n=r[1],i=r[2],a=r[3],o=r[4],s=r[5],c=r[6],l=r[7],d=r[8],f=r[9],h=r[10],p=r[11],v=Lt(n,o,a,i,s,c,l);return t=d?Nt[d]:f?0:We(h,p),[v,new pe(t)]}var Dt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Ft=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Ut=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Bt(e){var t=u(e,8),r=t[1],n=t[2],i=t[3];return[Lt(r,t[4],i,n,t[5],t[6],t[7]),pe.utcInstance]}function Gt(e){var t=u(e,8),r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],s=t[6];return[Lt(r,t[7],n,i,a,o,s),pe.utcInstance]}var Vt=ht(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Et),Ht=ht(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Et),Wt=ht(/(\d{4})-?(\d{3})/,Et),qt=ht(St),zt=pt((function(e,t){return[{year:Tt(e,t),month:Tt(e,t+1,1),day:Tt(e,t+2,1)},null,t+3]}),At,Ct,Pt),Yt=pt(xt,At,Ct,Pt),Xt=pt(wt,At,Ct,Pt),Kt=pt(At,Ct,Pt);var Jt=pt(At);var Zt=ht(/(\d{4})-(\d\d)-(\d\d)/,_t),Qt=ht(kt),$t=pt(At,Ct,Pt);var er={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},tr=o({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},er),rr=365.2425,nr=30.436875,ir=o({years:{quarters:4,months:12,weeks:52.1775,days:rr,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:nr,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},er),ar=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],or=ar.slice(0).reverse();function sr(e,t){var r={values:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?t.values:o(o({},e.values),t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new cr(r)}function ur(e,t,r,n,i){var a=e[i][r],o=t[r]/a,s=!(Math.sign(o)===Math.sign(n[i]))&&0!==n[i]&&Math.abs(o)<=1?function(e){return e<0?Math.floor(e):Math.ceil(e)}(o):Math.trunc(o);n[i]+=s,t[r]-=s*a}var cr=function(){function e(t){l(this,e);var r="longterm"===t.conversionAccuracy||!1,n=r?ir:tr;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||fe.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}return c(e,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"toFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=o(o({},t),{},{floor:!1!==t.round&&!1!==t.floor});return this.isValid?lt.create(this.loc,r).formatDurationFromString(this,e):"Invalid Duration"}},{key:"toHuman",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=ar.map((function(r){var n=e.values[r];return _e(n)?null:e.loc.numberFormatter(o(o({style:"unit",unitDisplay:"long"},t),{},{unit:r.slice(0,-1)})).format(n)})).filter((function(e){return e}));return this.loc.listFormatter(o({type:"conjunction",style:t.listStyle||"narrow"},t)).format(r)}},{key:"toObject",value:function(){return this.isValid?o({},this.values):{}}},{key:"toISO",value:function(){if(!this.isValid)return null;var e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=Me(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}},{key:"toISOTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;var t=this.toMillis();if(t<0||t>=864e5)return null;e=o({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e);var r=this.shiftTo("hours","minutes","seconds","milliseconds"),n="basic"===e.format?"hhmm":"hh:mm";e.suppressSeconds&&0===r.seconds&&0===r.milliseconds||(n+="basic"===e.format?"ss":":ss",e.suppressMilliseconds&&0===r.milliseconds||(n+=".SSS"));var i=r.toFormat(n);return e.includePrefix&&(i="T"+i),i}},{key:"toJSON",value:function(){return this.toISO()}},{key:"toString",value:function(){return this.toISO()}},{key:"toMillis",value:function(){return this.as("milliseconds")}},{key:"valueOf",value:function(){return this.toMillis()}},{key:"plus",value:function(t){if(!this.isValid)return this;for(var r=e.fromDurationLike(t),n={},i=0,a=ar;i<a.length;i++){var o=a[i];(Ie(r.values,o)||Ie(this.values,o))&&(n[o]=r.get(o)+this.get(o))}return sr(this,{values:n},!0)}},{key:"minus",value:function(t){if(!this.isValid)return this;var r=e.fromDurationLike(t);return this.plus(r.negate())}},{key:"mapUnits",value:function(e){if(!this.isValid)return this;for(var t={},r=0,n=Object.keys(this.values);r<n.length;r++){var i=n[r];t[i]=qe(e(this.values[i],i))}return sr(this,{values:t},!0)}},{key:"get",value:function(t){return this[e.normalizeUnit(t)]}},{key:"set",value:function(t){return this.isValid?sr(this,{values:o(o({},this.values),ze(t,e.normalizeUnit))}):this}},{key:"reconfigure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locale,r=e.numberingSystem,n=e.conversionAccuracy,i=e.matrix;return sr(this,{loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:i,conversionAccuracy:n})}},{key:"as",value:function(e){return this.isValid?this.shiftTo(e).get(e):NaN}},{key:"normalize",value:function(){if(!this.isValid)return this;var e=this.toObject();return function(e,t){or.reduce((function(r,n){return _e(t[n])?r:(r&&ur(e,t,r,t,n),n)}),null)}(this.matrix,e),sr(this,{values:e},!0)}},{key:"rescale",value:function(){return this.isValid?sr(this,{values:function(e){for(var t={},r=0,n=Object.entries(e);r<n.length;r++){var i=u(n[r],2),a=i[0],o=i[1];0!==o&&(t[a]=o)}return t}(this.normalize().shiftToAll().toObject())},!0):this}},{key:"shiftTo",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!this.isValid)return this;if(0===r.length)return this;r=r.map((function(t){return e.normalizeUnit(t)}));for(var i,a={},o={},s=this.toObject(),u=0,c=ar;u<c.length;u++){var l=c[u];if(r.indexOf(l)>=0){i=l;var d=0;for(var f in o)d+=this.matrix[f][l]*o[f],o[f]=0;Te(s[l])&&(d+=s[l]);var h=Math.trunc(d);for(var p in a[l]=h,o[l]=(1e3*d-1e3*h)/1e3,s)ar.indexOf(p)>ar.indexOf(l)&&ur(this.matrix,s,p,a,l)}else Te(s[l])&&(o[l]=s[l])}for(var v in o)0!==o[v]&&(a[i]+=v===i?o[v]:o[v]/this.matrix[i][v]);return sr(this,{values:a},!0).normalize()}},{key:"shiftToAll",value:function(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}},{key:"negate",value:function(){if(!this.isValid)return this;for(var e={},t=0,r=Object.keys(this.values);t<r.length;t++){var n=r[t];e[n]=0===this.values[n]?0:-this.values[n]}return sr(this,{values:e},!0)}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"equals",value:function(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(var t=0,r=ar;t<r.length;t++){var n=r[t];if(i=this.values[n],a=e.values[n],!(void 0===i||0===i?void 0===a||0===a:i===a))return!1}var i,a;return!0}}],[{key:"fromMillis",value:function(t,r){return e.fromObject({milliseconds:t},r)}},{key:"fromObject",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==t||"object"!==typeof t)throw new x("Duration.fromObject: argument expected to be an object, got ".concat(null===t?"null":typeof t));return new e({values:ze(t,e.normalizeUnit),loc:fe.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}},{key:"fromDurationLike",value:function(t){if(Te(t))return e.fromMillis(t);if(e.isDuration(t))return t;if("object"===typeof t)return e.fromObject(t);throw new x("Unknown duration argument ".concat(t," of type ").concat(typeof t))}},{key:"fromISO",value:function(t,r){var n=function(e){return vt(e,[Ot,Rt])}(t),i=u(n,1)[0];return i?e.fromObject(i,r):e.invalid("unparsable",'the input "'.concat(t,"\" can't be parsed as ISO 8601"))}},{key:"fromISOTime",value:function(t,r){var n=function(e){return vt(e,[It,Jt])}(t),i=u(n,1)[0];return i?e.fromObject(i,r):e.invalid("unparsable",'the input "'.concat(t,"\" can't be parsed as ISO 8601"))}},{key:"invalid",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)throw new x("need to specify a reason the Duration is invalid");var n=t instanceof dt?t:new dt(t,r);if(ke.throwOnInvalid)throw new b(n);return new e({invalid:n})}},{key:"normalizeUnit",value:function(e){var t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new E(e);return t}},{key:"isDuration",value:function(e){return e&&e.isLuxonDuration||!1}}]),e}(),lr="Invalid Interval";function dr(e,t){return e&&e.isValid?t&&t.isValid?t<e?fr.invalid("end before start","The end of an interval must be after its start, but you had start=".concat(e.toISO()," and end=").concat(t.toISO())):null:fr.invalid("missing or invalid end"):fr.invalid("missing or invalid start")}var fr=function(){function e(t){l(this,e),this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}return c(e,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"length",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds";return this.isValid?this.toDuration.apply(this,[e]).get(e):NaN}},{key:"count",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds";if(!this.isValid)return NaN;var t=this.start.startOf(e),r=this.end.startOf(e);return Math.floor(r.diff(t,e).get(e))+(r.valueOf()!==this.end.valueOf())}},{key:"hasSame",value:function(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}},{key:"isEmpty",value:function(){return this.s.valueOf()===this.e.valueOf()}},{key:"isAfter",value:function(e){return!!this.isValid&&this.s>e}},{key:"isBefore",value:function(e){return!!this.isValid&&this.e<=e}},{key:"contains",value:function(e){return!!this.isValid&&(this.s<=e&&this.e>e)}},{key:"set",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.start,n=t.end;return this.isValid?e.fromDateTimes(r||this.s,n||this.e):this}},{key:"splitAt",value:function(){var t=this;if(!this.isValid)return[];for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];for(var a=n.map(yn).filter((function(e){return t.contains(e)})).sort(),o=[],s=this.s,u=0;s<this.e;){var c=a[u]||this.e,l=+c>+this.e?this.e:c;o.push(e.fromDateTimes(s,l)),s=l,u+=1}return o}},{key:"splitBy",value:function(t){var r=cr.fromDurationLike(t);if(!this.isValid||!r.isValid||0===r.as("milliseconds"))return[];for(var n,i=this.s,a=1,o=[];i<this.e;){var s=this.start.plus(r.mapUnits((function(e){return e*a})));n=+s>+this.e?this.e:s,o.push(e.fromDateTimes(i,n)),i=n,a+=1}return o}},{key:"divideEqually",value:function(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}},{key:"overlaps",value:function(e){return this.e>e.s&&this.s<e.e}},{key:"abutsStart",value:function(e){return!!this.isValid&&+this.e===+e.s}},{key:"abutsEnd",value:function(e){return!!this.isValid&&+e.e===+this.s}},{key:"engulfs",value:function(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)}},{key:"equals",value:function(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))}},{key:"intersection",value:function(t){if(!this.isValid)return this;var r=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return r>=n?null:e.fromDateTimes(r,n)}},{key:"union",value:function(t){if(!this.isValid)return this;var r=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return e.fromDateTimes(r,n)}},{key:"difference",value:function(){for(var t=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.xor([this].concat(n)).map((function(e){return t.intersection(e)})).filter((function(e){return e&&!e.isEmpty()}))}},{key:"toString",value:function(){return this.isValid?"[".concat(this.s.toISO()," \u2013 ").concat(this.e.toISO(),")"):lr}},{key:"toLocaleString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?lt.create(this.s.loc.clone(t),e).formatInterval(this):lr}},{key:"toISO",value:function(e){return this.isValid?"".concat(this.s.toISO(e),"/").concat(this.e.toISO(e)):lr}},{key:"toISODate",value:function(){return this.isValid?"".concat(this.s.toISODate(),"/").concat(this.e.toISODate()):lr}},{key:"toISOTime",value:function(e){return this.isValid?"".concat(this.s.toISOTime(e),"/").concat(this.e.toISOTime(e)):lr}},{key:"toFormat",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).separator,r=void 0===t?" \u2013 ":t;return this.isValid?"".concat(this.s.toFormat(e)).concat(r).concat(this.e.toFormat(e)):lr}},{key:"toDuration",value:function(e,t){return this.isValid?this.e.diff(this.s,e,t):cr.invalid(this.invalidReason)}},{key:"mapEndpoints",value:function(t){return e.fromDateTimes(t(this.s),t(this.e))}}],[{key:"invalid",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)throw new x("need to specify a reason the Interval is invalid");var n=t instanceof dt?t:new dt(t,r);if(ke.throwOnInvalid)throw new y(n);return new e({invalid:n})}},{key:"fromDateTimes",value:function(t,r){var n=yn(t),i=yn(r),a=dr(n,i);return null==a?new e({start:n,end:i}):a}},{key:"after",value:function(t,r){var n=cr.fromDurationLike(r),i=yn(t);return e.fromDateTimes(i,i.plus(n))}},{key:"before",value:function(t,r){var n=cr.fromDurationLike(r),i=yn(t);return e.fromDateTimes(i.minus(n),i)}},{key:"fromISO",value:function(t,r){var n=(t||"").split("/",2),i=u(n,2),a=i[0],o=i[1];if(a&&o){var s,c,l,d;try{c=(s=mn.fromISO(a,r)).isValid}catch(o){c=!1}try{d=(l=mn.fromISO(o,r)).isValid}catch(o){d=!1}if(c&&d)return e.fromDateTimes(s,l);if(c){var f=cr.fromISO(o,r);if(f.isValid)return e.after(s,f)}else if(d){var h=cr.fromISO(a,r);if(h.isValid)return e.before(l,h)}}return e.invalid("unparsable",'the input "'.concat(t,"\" can't be parsed as ISO 8601"))}},{key:"isInterval",value:function(e){return e&&e.isLuxonInterval||!1}},{key:"merge",value:function(e){var t=e.sort((function(e,t){return e.s-t.s})).reduce((function(e,t){var r=u(e,2),n=r[0],i=r[1];return i?i.overlaps(t)||i.abutsStart(t)?[n,i.union(t)]:[n.concat([i]),t]:[n,t]}),[[],null]),r=u(t,2),n=r[0],i=r[1];return i&&n.push(i),n}},{key:"xor",value:function(t){var r,n,o=null,s=0,u=[],c=t.map((function(e){return[{time:e.s,type:"s"},{time:e.e,type:"e"}]})),l=(r=Array.prototype).concat.apply(r,i(c)).sort((function(e,t){return e.time-t.time})),d=a(l);try{for(d.s();!(n=d.n()).done;){var f=n.value;1===(s+="s"===f.type?1:-1)?o=f.time:(o&&+o!==+f.time&&u.push(e.fromDateTimes(o,f.time)),o=null)}}catch(h){d.e(h)}finally{d.f()}return e.merge(u)}}]),e}(),hr=function(){function e(){l(this,e)}return c(e,null,[{key:"hasDST",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke.defaultZone,t=mn.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}},{key:"isValidIANAZone",value:function(e){return te.isValidZone(e)}},{key:"normalizeZone",value:function(e){return ge(e,ke.defaultZone)}},{key:"months",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.locale,n=void 0===r?null:r,i=t.numberingSystem,a=void 0===i?null:i,o=t.locObj,s=void 0===o?null:o,u=t.outputCalendar,c=void 0===u?"gregory":u;return(s||fe.create(n,a,c)).months(e)}},{key:"monthsFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.locale,n=void 0===r?null:r,i=t.numberingSystem,a=void 0===i?null:i,o=t.locObj,s=void 0===o?null:o,u=t.outputCalendar,c=void 0===u?"gregory":u;return(s||fe.create(n,a,c)).months(e,!0)}},{key:"weekdays",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.locale,n=void 0===r?null:r,i=t.numberingSystem,a=void 0===i?null:i,o=t.locObj;return((void 0===o?null:o)||fe.create(n,a,null)).weekdays(e)}},{key:"weekdaysFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.locale,n=void 0===r?null:r,i=t.numberingSystem,a=void 0===i?null:i,o=t.locObj;return((void 0===o?null:o)||fe.create(n,a,null)).weekdays(e,!0)}},{key:"meridiems",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).locale,t=void 0===e?null:e;return fe.create(t).meridiems()}},{key:"eras",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"short",t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).locale,r=void 0===t?null:t;return fe.create(r,null,"gregory").eras(e)}},{key:"features",value:function(){return{relative:Ce()}}}]),e}();function pr(e,t){var r=function(e){return e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},n=r(t)-r(e);return Math.floor(cr.fromMillis(n).as("days"))}function vr(e,t,r,a){var o=function(e,t,r){for(var n,i,a={},o=e,s=0,c=[["years",function(e,t){return t.year-e.year}],["quarters",function(e,t){return t.quarter-e.quarter+4*(t.year-e.year)}],["months",function(e,t){return t.month-e.month+12*(t.year-e.year)}],["weeks",function(e,t){var r=pr(e,t);return(r-r%7)/7}],["days",pr]];s<c.length;s++){var l=u(c[s],2),d=l[0],f=l[1];r.indexOf(d)>=0&&(n=d,a[d]=f(e,t),(i=o.plus(a))>t?(a[d]--,e=o.plus(a)):e=i)}return[e,a,i,n]}(e,t,r),s=u(o,4),c=s[0],l=s[1],d=s[2],f=s[3],h=t-c,p=r.filter((function(e){return["hours","minutes","seconds","milliseconds"].indexOf(e)>=0}));0===p.length&&(d<t&&(d=c.plus(n({},f,1))),d!==c&&(l[f]=(l[f]||0)+h/(d-c)));var v,g=cr.fromObject(l,a);return p.length>0?(v=cr.fromMillis(h,a)).shiftTo.apply(v,i(p)).plus(g):g}var gr={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},mr={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},yr=gr.hanidec.replace(/[\[|\]]/g,"").split("");function br(e){var t=e.numberingSystem,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new RegExp("".concat(gr[t||"latn"]).concat(r))}var Sr="missing Intl.DateTimeFormat.formatToParts support";function Er(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{regex:e,deser:function(e){var r=u(e,1)[0];return t(function(e){var t=parseInt(e,10);if(isNaN(t)){t="";for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);if(-1!==e[r].search(gr.hanidec))t+=yr.indexOf(e[r]);else for(var i in mr){var a=u(mr[i],2),o=a[0],s=a[1];n>=o&&n<=s&&(t+=n-o)}}return parseInt(t,10)}return t}(r))}}}var xr=String.fromCharCode(160),wr="[ ".concat(xr,"]"),kr=new RegExp(wr,"g");function _r(e){return e.replace(/\./g,"\\.?").replace(kr,wr)}function Tr(e){return e.replace(/\./g,"").replace(kr," ").toLowerCase()}function Ar(e,t){return null===e?null:{regex:RegExp(e.map(_r).join("|")),deser:function(r){var n=u(r,1)[0];return e.findIndex((function(e){return Tr(n)===Tr(e)}))+t}}}function Cr(e,t){return{regex:e,deser:function(e){var t=u(e,3);return We(t[1],t[2])},groups:t}}function Pr(e){return{regex:e,deser:function(e){return u(e,1)[0]}}}var Ir={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};var Or=null;function Rr(e,t){var r;return(r=Array.prototype).concat.apply(r,i(e.map((function(e){return function(e,t){if(e.literal)return e;var r=Lr(lt.macroTokenToFormatOpts(e.val),t);return null==r||r.includes(void 0)?e:r}(e,t)}))))}function Nr(e,t,r){var n=Rr(lt.parseFormat(r),e),i=n.map((function(t){return function(e,t){var r=br(t),n=br(t,"{2}"),i=br(t,"{3}"),a=br(t,"{4}"),o=br(t,"{6}"),s=br(t,"{1,2}"),c=br(t,"{1,3}"),l=br(t,"{1,6}"),d=br(t,"{1,9}"),f=br(t,"{2,4}"),h=br(t,"{4,6}"),p=function(e){return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:function(e){return u(e,1)[0]},literal:!0};var t},v=function(u){if(e.literal)return p(u);switch(u.val){case"G":return Ar(t.eras("short",!1),0);case"GG":return Ar(t.eras("long",!1),0);case"y":return Er(l);case"yy":case"kk":return Er(f,Ve);case"yyyy":case"kkkk":return Er(a);case"yyyyy":return Er(h);case"yyyyyy":return Er(o);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Er(s);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Er(n);case"MMM":return Ar(t.months("short",!0,!1),1);case"MMMM":return Ar(t.months("long",!0,!1),1);case"LLL":return Ar(t.months("short",!1,!1),1);case"LLLL":return Ar(t.months("long",!1,!1),1);case"o":case"S":return Er(c);case"ooo":case"SSS":return Er(i);case"u":return Pr(d);case"uu":return Pr(s);case"uuu":case"E":case"c":return Er(r);case"a":return Ar(t.meridiems(),0);case"EEE":return Ar(t.weekdays("short",!1,!1),1);case"EEEE":return Ar(t.weekdays("long",!1,!1),1);case"ccc":return Ar(t.weekdays("short",!0,!1),1);case"cccc":return Ar(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Cr(new RegExp("([+-]".concat(s.source,")(?::(").concat(n.source,"))?")),2);case"ZZZ":return Cr(new RegExp("([+-]".concat(s.source,")(").concat(n.source,")?")),2);case"z":return Pr(/[a-z_+-/]{1,256}?/i);case" ":return Pr(/[^\S\n\r]/);default:return p(u)}}(e)||{invalidReason:Sr};return v.token=e,v}(t,e)})),a=i.find((function(e){return e.invalidReason}));if(a)return{input:t,tokens:n,invalidReason:a.invalidReason};var o=function(e){var t=e.map((function(e){return e.regex})).reduce((function(e,t){return"".concat(e,"(").concat(t.source,")")}),"");return["^".concat(t,"$"),e]}(i),s=u(o,2),c=s[0],l=s[1],d=RegExp(c,"i"),f=function(e,t,r){var n=e.match(t);if(n){var i={},a=1;for(var o in r)if(Ie(r,o)){var s=r[o],u=s.groups?s.groups+1:1;!s.literal&&s.token&&(i[s.token.val[0]]=s.deser(n.slice(a,a+u))),a+=u}return[n,i]}return[n,{}]}(t,d,l),h=u(f,2),p=h[0],v=h[1],g=v?function(e){var t,r=null;return _e(e.z)||(r=te.create(e.z)),_e(e.Z)||(r||(r=new pe(e.Z)),t=e.Z),_e(e.q)||(e.M=3*(e.q-1)+1),_e(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),_e(e.u)||(e.S=je(e.u)),[Object.keys(e).reduce((function(t,r){var n=function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(r);return n&&(t[n]=e[r]),t}),{}),r,t]}(v):[null,null,void 0],m=u(g,3),y=m[0],b=m[1],E=m[2];if(Ie(v,"a")&&Ie(v,"H"))throw new S("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:d,rawMatches:p,matches:v,result:y,zone:b,specificOffset:E}}function Lr(e,t){return e?lt.create(t,e).formatDateTimeParts((Or||(Or=mn.fromMillis(1555555555555)),Or)).map((function(t){return function(e,t){var r=e.type,n=e.value;if("literal"===r){var i=/^\s+$/.test(n);return{literal:!i,val:i?" ":n}}var a=t[r],o=Ir[r];if("object"===typeof o&&(o=o[a]),o)return{literal:!1,val:o}}(t,e)})):null}var jr=[0,31,59,90,120,151,181,212,243,273,304,334],Mr=[0,31,60,91,121,152,182,213,244,274,305,335];function Dr(e,t){return new dt("unit out of range","you specified ".concat(t," (of type ").concat(typeof t,") as a ").concat(e,", which is invalid"))}function Fr(e,t,r){var n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);var i=n.getUTCDay();return 0===i?7:i}function Ur(e,t,r){return r+(De(e)?Mr:jr)[t-1]}function Br(e,t){var r=De(e)?Mr:jr,n=r.findIndex((function(e){return e<t}));return{month:n+1,day:t-r[n]}}function Gr(e){var t,r=e.year,n=e.month,i=e.day,a=Ur(r,n,i),s=Fr(r,n,i),u=Math.floor((a-s+10)/7);return u<1?u=Ge(t=r-1):u>Ge(r)?(t=r+1,u=1):t=r,o({weekYear:t,weekNumber:u,weekday:s},Xe(e))}function Vr(e){var t,r=e.weekYear,n=e.weekNumber,i=e.weekday,a=Fr(r,1,4),s=Fe(r),u=7*n+i-a-3;u<1?u+=Fe(t=r-1):u>s?(t=r+1,u-=Fe(r)):t=r;var c=Br(t,u),l=c.month,d=c.day;return o({year:t,month:l,day:d},Xe(e))}function Hr(e){var t=e.year,r=Ur(t,e.month,e.day);return o({year:t,ordinal:r},Xe(e))}function Wr(e){var t=e.year,r=Br(t,e.ordinal),n=r.month,i=r.day;return o({year:t,month:n,day:i},Xe(e))}function qr(e){var t=Ae(e.year),r=Oe(e.month,1,12),n=Oe(e.day,1,Ue(e.year,e.month));return t?r?!n&&Dr("day",e.day):Dr("month",e.month):Dr("year",e.year)}function zr(e){var t=e.hour,r=e.minute,n=e.second,i=e.millisecond,a=Oe(t,0,23)||24===t&&0===r&&0===n&&0===i,o=Oe(r,0,59),s=Oe(n,0,59),u=Oe(i,0,999);return a?o?s?!u&&Dr("millisecond",i):Dr("second",n):Dr("minute",r):Dr("hour",t)}var Yr="Invalid DateTime",Xr=864e13;function Kr(e){return new dt("unsupported zone",'the zone "'.concat(e.name,'" is not supported'))}function Jr(e){return null===e.weekData&&(e.weekData=Gr(e.c)),e.weekData}function Zr(e,t){var r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new mn(o(o(o({},r),t),{},{old:r}))}function Qr(e,t,r){var n=e-60*t*1e3,i=r.offset(n);if(t===i)return[n,t];n-=60*(i-t)*1e3;var a=r.offset(n);return i===a?[n,i]:[e-60*Math.min(i,a)*1e3,Math.max(i,a)]}function $r(e,t){var r=new Date(e+=60*t*1e3);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function en(e,t,r){return Qr(Be(e),t,r)}function tn(e,t){var r=e.o,n=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),a=o(o({},e.c),{},{year:n,month:i,day:Math.min(e.c.day,Ue(n,i))+Math.trunc(t.days)+7*Math.trunc(t.weeks)}),s=cr.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),c=Qr(Be(a),r,e.zone),l=u(c,2),d=l[0],f=l[1];return 0!==s&&(d+=s,f=e.zone.offset(d)),{ts:d,o:f}}function rn(e,t,r,n,i,a){var s=r.setZone,u=r.zone;if(e&&0!==Object.keys(e).length||t){var c=t||u,l=mn.fromObject(e,o(o({},r),{},{zone:c,specificOffset:a}));return s?l:l.setZone(u)}return mn.invalid(new dt("unparsable",'the input "'.concat(i,"\" can't be parsed as ").concat(n)))}function nn(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.isValid?lt.create(fe.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function an(e,t){var r=e.c.year>9999||e.c.year<0,n="";return r&&e.c.year>=0&&(n+="+"),n+=Re(e.c.year,r?6:4),t?(n+="-",n+=Re(e.c.month),n+="-",n+=Re(e.c.day)):(n+=Re(e.c.month),n+=Re(e.c.day)),n}function on(e,t,r,n,i,a){var o=Re(e.c.hour);return t?(o+=":",o+=Re(e.c.minute),0===e.c.second&&r||(o+=":")):o+=Re(e.c.minute),0===e.c.second&&r||(o+=Re(e.c.second),0===e.c.millisecond&&n||(o+=".",o+=Re(e.c.millisecond,3))),i&&(e.isOffsetFixed&&0===e.offset&&!a?o+="Z":e.o<0?(o+="-",o+=Re(Math.trunc(-e.o/60)),o+=":",o+=Re(Math.trunc(-e.o%60))):(o+="+",o+=Re(Math.trunc(e.o/60)),o+=":",o+=Re(Math.trunc(e.o%60)))),a&&(o+="["+e.zone.ianaName+"]"),o}var sn={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},un={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},cn={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ln=["year","month","day","hour","minute","second","millisecond"],dn=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],fn=["year","ordinal","hour","minute","second","millisecond"];function hn(e){var t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new E(e);return t}function pn(e,t){var r,n,i=ge(t.zone,ke.defaultZone),a=fe.fromObject(t),o=ke.now();if(_e(e.year))r=o;else{for(var s=0,c=ln;s<c.length;s++){var l=c[s];_e(e[l])&&(e[l]=sn[l])}var d=qr(e)||zr(e);if(d)return mn.invalid(d);var f=en(e,i.offset(o),i),h=u(f,2);r=h[0],n=h[1]}return new mn({ts:r,zone:i,loc:a,o:n})}function vn(e,t,r){var n=!!_e(r.round)||r.round,i=function(e,i){return e=Me(e,n||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(e,i)},o=function(n){return r.calendary?t.hasSame(e,n)?0:t.startOf(n).diff(e.startOf(n),n).get(n):t.diff(e,n).get(n)};if(r.unit)return i(o(r.unit),r.unit);var s,u=a(r.units);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=o(c);if(Math.abs(l)>=1)return i(l,c)}}catch(d){u.e(d)}finally{u.f()}return i(e>t?-0:0,r.units[r.units.length-1])}function gn(e){var t,r={};return e.length>0&&"object"===typeof e[e.length-1]?(r=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[r,t]}var mn=function(){function e(t){l(this,e);var r=t.zone||ke.defaultZone,n=t.invalid||(Number.isNaN(t.ts)?new dt("invalid input"):null)||(r.isValid?null:Kr(r));this.ts=_e(t.ts)?ke.now():t.ts;var i=null,a=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r)){var o=[t.old.c,t.old.o];i=o[0],a=o[1]}else{var s=r.offset(this.ts);i=$r(this.ts,s),i=(n=Number.isNaN(i.year)?new dt("invalid input"):null)?null:i,a=n?null:s}this._zone=r,this.loc=t.loc||fe.create(),this.invalid=n,this.weekData=null,this.c=i,this.o=a,this.isLuxonDateTime=!0}return c(e,[{key:"get",value:function(e){return this[e]}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?Jr(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?Jr(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?Jr(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?Hr(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?hr.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?hr.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?hr.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?hr.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return De(this.year)}},{key:"daysInMonth",get:function(){return Ue(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?Fe(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?Ge(this.weekYear):NaN}},{key:"resolvedLocaleOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=lt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t.locale,numberingSystem:t.numberingSystem,outputCalendar:t.calendar}}},{key:"toUTC",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setZone(pe.instance(e),t)}},{key:"toLocal",value:function(){return this.setZone(ke.defaultZone)}},{key:"setZone",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.keepLocalTime,i=void 0!==n&&n,a=r.keepCalendarTime,o=void 0!==a&&a;if((t=ge(t,ke.defaultZone)).equals(this.zone))return this;if(t.isValid){var s=this.ts;if(i||o){var c=t.offset(this.ts),l=en(this.toObject(),c,t);s=u(l,1)[0]}return Zr(this,{ts:s,zone:t})}return e.invalid(Kr(t))}},{key:"reconfigure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locale,r=e.numberingSystem,n=e.outputCalendar;return Zr(this,{loc:this.loc.clone({locale:t,numberingSystem:r,outputCalendar:n})})}},{key:"setLocale",value:function(e){return this.reconfigure({locale:e})}},{key:"set",value:function(e){if(!this.isValid)return this;var t,r=ze(e,hn),n=!_e(r.weekYear)||!_e(r.weekNumber)||!_e(r.weekday),i=!_e(r.ordinal),a=!_e(r.year),s=!_e(r.month)||!_e(r.day),c=a||s,l=r.weekYear||r.weekNumber;if((c||i)&&l)throw new S("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(s&&i)throw new S("Can't mix ordinal dates with month/day");n?t=Vr(o(o({},Gr(this.c)),r)):_e(r.ordinal)?(t=o(o({},this.toObject()),r),_e(r.day)&&(t.day=Math.min(Ue(t.year,t.month),t.day))):t=Wr(o(o({},Hr(this.c)),r));var d=en(t,this.o,this.zone),f=u(d,2);return Zr(this,{ts:f[0],o:f[1]})}},{key:"plus",value:function(e){return this.isValid?Zr(this,tn(this,cr.fromDurationLike(e))):this}},{key:"minus",value:function(e){return this.isValid?Zr(this,tn(this,cr.fromDurationLike(e).negate())):this}},{key:"startOf",value:function(e){if(!this.isValid)return this;var t={},r=cr.normalizeUnit(e);switch(r){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0}if("weeks"===r&&(t.weekday=1),"quarters"===r){var n=Math.ceil(this.month/3);t.month=3*(n-1)+1}return this.set(t)}},{key:"endOf",value:function(e){return this.isValid?this.plus(n({},e,1)).startOf(e).minus(1):this}},{key:"toFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?lt.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Yr}},{key:"toLocaleString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?lt.create(this.loc.clone(t),e).formatDateTime(this):Yr}},{key:"toLocaleParts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?lt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}},{key:"toISO",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,r=void 0===t?"extended":t,n=e.suppressSeconds,i=void 0!==n&&n,a=e.suppressMilliseconds,o=void 0!==a&&a,s=e.includeOffset,u=void 0===s||s,c=e.extendedZone,l=void 0!==c&&c;if(!this.isValid)return null;var d="extended"===r,f=an(this,d);return f+="T",f+=on(this,d,i,o,u,l)}},{key:"toISODate",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).format,t=void 0===e?"extended":e;return this.isValid?an(this,"extended"===t):null}},{key:"toISOWeekDate",value:function(){return nn(this,"kkkk-'W'WW-c")}},{key:"toISOTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.suppressMilliseconds,r=void 0!==t&&t,n=e.suppressSeconds,i=void 0!==n&&n,a=e.includeOffset,o=void 0===a||a,s=e.includePrefix,u=void 0!==s&&s,c=e.extendedZone,l=void 0!==c&&c,d=e.format,f=void 0===d?"extended":d;return this.isValid?(u?"T":"")+on(this,"extended"===f,i,r,o,l):null}},{key:"toRFC2822",value:function(){return nn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}},{key:"toHTTP",value:function(){return nn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}},{key:"toSQLDate",value:function(){return this.isValid?an(this,!0):null}},{key:"toSQLTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.includeOffset,r=void 0===t||t,n=e.includeZone,i=void 0!==n&&n,a=e.includeOffsetSpace,o="HH:mm:ss.SSS";return(i||r)&&((void 0===a||a)&&(o+=" "),i?o+="z":r&&(o+="ZZ")),nn(this,o,!0)}},{key:"toSQL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?"".concat(this.toSQLDate()," ").concat(this.toSQLTime(e)):null}},{key:"toString",value:function(){return this.isValid?this.toISO():Yr}},{key:"valueOf",value:function(){return this.toMillis()}},{key:"toMillis",value:function(){return this.isValid?this.ts:NaN}},{key:"toSeconds",value:function(){return this.isValid?this.ts/1e3:NaN}},{key:"toUnixInteger",value:function(){return this.isValid?Math.floor(this.ts/1e3):NaN}},{key:"toJSON",value:function(){return this.toISO()}},{key:"toBSON",value:function(){return this.toJSDate()}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return{};var t=o({},this.c);return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}},{key:"toJSDate",value:function(){return new Date(this.isValid?this.ts:NaN)}},{key:"diff",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"milliseconds",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.isValid||!e.isValid)return cr.invalid("created by diffing an invalid DateTime");var n,i=o({locale:this.locale,numberingSystem:this.numberingSystem},r),a=(n=t,Array.isArray(n)?n:[n]).map(cr.normalizeUnit),s=e.valueOf()>this.valueOf(),u=vr(s?this:e,s?e:this,a,i);return s?u.negate():u}},{key:"diffNow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.diff(e.now(),t,r)}},{key:"until",value:function(e){return this.isValid?fr.fromDateTimes(this,e):this}},{key:"hasSame",value:function(e,t){if(!this.isValid)return!1;var r=e.valueOf(),n=this.setZone(e.zone,{keepLocalTime:!0});return n.startOf(t)<=r&&r<=n.endOf(t)}},{key:"equals",value:function(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}},{key:"toRelative",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;var r=t.base||e.fromObject({},{zone:this.zone}),n=t.padding?this<r?-t.padding:t.padding:0,i=["years","months","days","hours","minutes","seconds"],a=t.unit;return Array.isArray(t.unit)&&(i=t.unit,a=void 0),vn(r,this.plus(n),o(o({},t),{},{numeric:"always",units:i,unit:a}))}},{key:"toRelativeCalendar",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?vn(t.base||e.fromObject({},{zone:this.zone}),this,o(o({},t),{},{numeric:"auto",units:["years","months","days"],calendary:!0})):null}}],[{key:"now",value:function(){return new e({})}},{key:"local",value:function(){var e=gn(arguments),t=u(e,2),r=t[0],n=t[1],i=u(n,7);return pn({year:i[0],month:i[1],day:i[2],hour:i[3],minute:i[4],second:i[5],millisecond:i[6]},r)}},{key:"utc",value:function(){var e=gn(arguments),t=u(e,2),r=t[0],n=t[1],i=u(n,7),a=i[0],o=i[1],s=i[2],c=i[3],l=i[4],d=i[5],f=i[6];return r.zone=pe.utcInstance,pn({year:a,month:o,day:s,hour:c,minute:l,second:d,millisecond:f},r)}},{key:"fromJSDate",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(e){return"[object Date]"===Object.prototype.toString.call(e)}(t)?t.valueOf():NaN;if(Number.isNaN(n))return e.invalid("invalid input");var i=ge(r.zone,ke.defaultZone);return i.isValid?new e({ts:n,zone:i,loc:fe.fromObject(r)}):e.invalid(Kr(i))}},{key:"fromMillis",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Te(t))return t<-Xr||t>Xr?e.invalid("Timestamp out of range"):new e({ts:t,zone:ge(r.zone,ke.defaultZone),loc:fe.fromObject(r)});throw new x("fromMillis requires a numerical input, but received a ".concat(typeof t," with value ").concat(t))}},{key:"fromSeconds",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Te(t))return new e({ts:1e3*t,zone:ge(r.zone,ke.defaultZone),loc:fe.fromObject(r)});throw new x("fromSeconds requires a numerical input")}},{key:"fromObject",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=t||{};var n=ge(r.zone,ke.defaultZone);if(!n.isValid)return e.invalid(Kr(n));var i=ke.now(),o=_e(r.specificOffset)?n.offset(i):r.specificOffset,s=ze(t,hn),c=!_e(s.ordinal),l=!_e(s.year),d=!_e(s.month)||!_e(s.day),f=l||d,h=s.weekYear||s.weekNumber,p=fe.fromObject(r);if((f||c)&&h)throw new S("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&c)throw new S("Can't mix ordinal dates with month/day");var v,g,m=h||s.weekday&&!f,y=$r(i,o);m?(v=dn,g=un,y=Gr(y)):c?(v=fn,g=cn,y=Hr(y)):(v=ln,g=sn);var b,E=!1,x=a(v);try{for(x.s();!(b=x.n()).done;){var w=b.value;_e(s[w])?s[w]=E?g[w]:y[w]:E=!0}}catch(P){x.e(P)}finally{x.f()}var k=m?function(e){var t=Ae(e.weekYear),r=Oe(e.weekNumber,1,Ge(e.weekYear)),n=Oe(e.weekday,1,7);return t?r?!n&&Dr("weekday",e.weekday):Dr("week",e.week):Dr("weekYear",e.weekYear)}(s):c?function(e){var t=Ae(e.year),r=Oe(e.ordinal,1,Fe(e.year));return t?!r&&Dr("ordinal",e.ordinal):Dr("year",e.year)}(s):qr(s),_=k||zr(s);if(_)return e.invalid(_);var T=en(m?Vr(s):c?Wr(s):s,o,n),A=u(T,2),C=new e({ts:A[0],zone:n,o:A[1],loc:p});return s.weekday&&f&&t.weekday!==C.weekday?e.invalid("mismatched weekday","you can't specify both a weekday of ".concat(s.weekday," and a date of ").concat(C.toISO())):C}},{key:"fromISO",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(e){return vt(e,[Vt,zt],[Ht,Yt],[Wt,Xt],[qt,Kt])}(e),n=u(r,2);return rn(n[0],n[1],t,"ISO 8601",e)}},{key:"fromRFC2822",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(e){return vt(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[jt,Mt])}(e),n=u(r,2);return rn(n[0],n[1],t,"RFC 2822",e)}},{key:"fromHTTP",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(e){return vt(e,[Dt,Bt],[Ft,Bt],[Ut,Gt])}(e),n=u(r,2);return rn(n[0],n[1],t,"HTTP",t)}},{key:"fromFormat",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(_e(t)||_e(r))throw new x("fromFormat requires an input string and a format");var i=n.locale,a=void 0===i?null:i,o=n.numberingSystem,s=void 0===o?null:o,c=function(e,t,r){var n=Nr(e,t,r);return[n.result,n.zone,n.specificOffset,n.invalidReason]}(fe.fromOpts({locale:a,numberingSystem:s,defaultToEN:!0}),t,r),l=u(c,4),d=l[0],f=l[1],h=l[2],p=l[3];return p?e.invalid(p):rn(d,f,n,"format ".concat(r),t,h)}},{key:"fromString",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.fromFormat(t,r,n)}},{key:"fromSQL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(e){return vt(e,[Zt,zt],[Qt,$t])}(e),n=u(r,2);return rn(n[0],n[1],t,"SQL",e)}},{key:"invalid",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)throw new x("need to specify a reason the DateTime is invalid");var n=t instanceof dt?t:new dt(t,r);if(ke.throwOnInvalid)throw new m(n);return new e({invalid:n})}},{key:"isDateTime",value:function(e){return e&&e.isLuxonDateTime||!1}},{key:"parseFormatForOpts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Lr(e,fe.fromObject(t));return r?r.map((function(e){return e?e.val:null})).join(""):null}},{key:"expandFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Rr(lt.parseFormat(e),fe.fromObject(t)).map((function(e){return e.val})).join("")}},{key:"min",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.every(e.isDateTime))throw new x("min requires all arguments be DateTimes");return Pe(r,(function(e){return e.valueOf()}),Math.min)}},{key:"max",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.every(e.isDateTime))throw new x("max requires all arguments be DateTimes");return Pe(r,(function(e){return e.valueOf()}),Math.max)}},{key:"fromFormatExplain",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.locale,i=void 0===n?null:n,a=r.numberingSystem,o=void 0===a?null:a;return Nr(fe.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0}),e,t)}},{key:"fromStringExplain",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.fromFormatExplain(t,r,n)}},{key:"DATE_SHORT",get:function(){return A}},{key:"DATE_MED",get:function(){return C}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return P}},{key:"DATE_FULL",get:function(){return I}},{key:"DATE_HUGE",get:function(){return O}},{key:"TIME_SIMPLE",get:function(){return R}},{key:"TIME_WITH_SECONDS",get:function(){return N}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return L}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return j}},{key:"TIME_24_SIMPLE",get:function(){return M}},{key:"TIME_24_WITH_SECONDS",get:function(){return D}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return F}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return U}},{key:"DATETIME_SHORT",get:function(){return B}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return G}},{key:"DATETIME_MED",get:function(){return V}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return H}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return W}},{key:"DATETIME_FULL",get:function(){return q}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return z}},{key:"DATETIME_HUGE",get:function(){return Y}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return X}}]),e}();function yn(e){if(mn.isDateTime(e))return e;if(e&&e.valueOf&&Te(e.valueOf()))return mn.fromJSDate(e);if(e&&"object"===typeof e)return mn.fromObject(e);throw new x("Unknown datetime argument: ".concat(e,", of type ").concat(typeof e))}t.DateTime=mn,t.Duration=cr,t.FixedOffsetZone=pe,t.IANAZone=te,t.Info=hr,t.Interval=fr,t.InvalidZone=ve,t.Settings=ke,t.SystemZone=Z,t.VERSION="3.3.0",t.Zone=K},68846:function(e,t,r){"use strict";var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=r(26303),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{d(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();n=function(e){var t=null!==e&&"object"===typeof e,r="[object Function]"===a.call(e),n=o(e),s=t&&"[object String]"===a.call(e),f=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var p=c&&r;if(s&&e.length>0&&!i.call(e,0))for(var v=0;v<e.length;++v)f.push(String(v));if(n&&e.length>0)for(var g=0;g<e.length;++g)f.push(String(g));else for(var m in e)p&&"prototype"===m||!i.call(e,m)||f.push(String(m));if(u)for(var y=function(e){if("undefined"===typeof window||!h)return d(e);try{return d(e)}catch(t){return!1}}(e),b=0;b<l.length;++b)y&&"constructor"===l[b]||!i.call(e,l[b])||f.push(l[b]);return f}}e.exports=n},78454:function(e,t,r){"use strict";var n=Array.prototype.slice,i=r(26303),a=Object.keys,o=a?function(e){return a(e)}:r(68846),s=Object.keys;o.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?s(n.call(e)):s(e)})}else Object.keys=o;return Object.keys||o},e.exports=o},26303:function(e){"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},76450:function(e){Object.values=Object.values?Object.values:function(e){var t=Object.prototype.toString.call(e);if(null===e||"undefined"===typeof e)throw new TypeError("Cannot convert undefined or null to object");if(~["[object String]","[object Object]","[object Array]","[object Function]"].indexOf(t)){if(Object.keys)return Object.keys(e).map((function(t){return e[t]}));var r=[];for(var n in e)e.hasOwnProperty(n)&&r.push(e[n]);return r}return[]},e.exports&&(e.exports=Object.values)},73437:function(e,t,r){"use strict";var n=r(31210),i=r(18934),a=r(58650)(),o=r(80025),s=n("%TypeError%"),u=n("%Math.floor%");e.exports=function(e,t){if("function"!==typeof e)throw new s("`fn` is not a function");if("number"!==typeof t||t<0||t>4294967295||u(t)!==t)throw new s("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,c=!0;if("length"in e&&o){var l=o(e,"length");l&&!l.configurable&&(n=!1),l&&!l.writable&&(c=!1)}return(n||c||!r)&&(a?i(e,"length",t,!0,!0):i(e,"length",t)),e}},66151:function(e,t,r){"use strict";var n=r(96012).ZP;e.exports=n},96012:function(e,t,r){"use strict";var n=r(69434).G,i=function(e,t){this.line=e,this.column=t};var a=function(e,t){this.start=e,this.end=t};var o=function(){var e,t,r,o=function(e){this.indice=[0];var t=/[\r\n\u2028\u2029]/g,r=e.length;for(t.lastIndex=0;;){var n=t.exec(e);if(!n)break;var i=n.index;13===e.charCodeAt(i)&&10===e.charCodeAt(i+1)&&(i+=1);var a=i+1;if(r<a)break;this.indice.push(a),t.lastIndex=a}};return o.prototype.locationToRange=function(e){return[this.positionToIndex(e.start),this.positionToIndex(e.end)]},o.prototype.rangeToLocation=function(e){return new a(this.indexToPosition(e[0]),this.indexToPosition(e[1]))},o.prototype.positionToIndex=function(e){return this.indice[e.line-1]+e.column},o.prototype.indexToPosition=function(e){var t=n(this.indice,e);return new i(t,e-this.indice[t-1])},e=o,r={line:{get:function(){return this.indice.length}}},(t=null)&&Object.defineProperties(e,t),r&&Object.defineProperties(e.prototype,r),o}();t.ZP=o},52212:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return u.default}});var n=f(r(67800)),i=f(r(22928)),a=f(r(67829)),o=f(r(29719)),s=f(r(16798)),u=f(r(56896)),c=f(r(72724)),l=f(r(24885)),d=f(r(69473));function f(e){return e&&e.__esModule?e:{default:e}}},26376:function(e,t){"use strict";function r(e){return 14+(e+64>>>9<<4)+1}function n(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,i,a,o){return n((s=n(n(t,e),n(i,o)))<<(u=a)|s>>>32-u,r);var s,u}function a(e,t,r,n,a,o,s){return i(t&r|~t&n,e,t,a,o,s)}function o(e,t,r,n,a,o,s){return i(t&n|r&~n,e,t,a,o,s)}function s(e,t,r,n,a,o,s){return i(t^r^n,e,t,a,o,s)}function u(e,t,r,n,a,o,s){return i(r^(t|~n),e,t,a,o,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(e){if("string"===typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var i=0;i<t.length;++i)e[i]=t.charCodeAt(i)}return function(e){for(var t=[],r=32*e.length,n="0123456789abcdef",i=0;i<r;i+=8){var a=e[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(15&a),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;for(var i=1732584193,c=-271733879,l=-1732584194,d=271733878,f=0;f<e.length;f+=16){var h=i,p=c,v=l,g=d;i=a(i,c,l,d,e[f],7,-680876936),d=a(d,i,c,l,e[f+1],12,-389564586),l=a(l,d,i,c,e[f+2],17,606105819),c=a(c,l,d,i,e[f+3],22,-1044525330),i=a(i,c,l,d,e[f+4],7,-176418897),d=a(d,i,c,l,e[f+5],12,1200080426),l=a(l,d,i,c,e[f+6],17,-1473231341),c=a(c,l,d,i,e[f+7],22,-45705983),i=a(i,c,l,d,e[f+8],7,1770035416),d=a(d,i,c,l,e[f+9],12,-1958414417),l=a(l,d,i,c,e[f+10],17,-42063),c=a(c,l,d,i,e[f+11],22,-1990404162),i=a(i,c,l,d,e[f+12],7,1804603682),d=a(d,i,c,l,e[f+13],12,-40341101),l=a(l,d,i,c,e[f+14],17,-1502002290),i=o(i,c=a(c,l,d,i,e[f+15],22,1236535329),l,d,e[f+1],5,-165796510),d=o(d,i,c,l,e[f+6],9,-1069501632),l=o(l,d,i,c,e[f+11],14,643717713),c=o(c,l,d,i,e[f],20,-373897302),i=o(i,c,l,d,e[f+5],5,-701558691),d=o(d,i,c,l,e[f+10],9,38016083),l=o(l,d,i,c,e[f+15],14,-660478335),c=o(c,l,d,i,e[f+4],20,-405537848),i=o(i,c,l,d,e[f+9],5,568446438),d=o(d,i,c,l,e[f+14],9,-1019803690),l=o(l,d,i,c,e[f+3],14,-187363961),c=o(c,l,d,i,e[f+8],20,1163531501),i=o(i,c,l,d,e[f+13],5,-1444681467),d=o(d,i,c,l,e[f+2],9,-51403784),l=o(l,d,i,c,e[f+7],14,1735328473),i=s(i,c=o(c,l,d,i,e[f+12],20,-1926607734),l,d,e[f+5],4,-378558),d=s(d,i,c,l,e[f+8],11,-2022574463),l=s(l,d,i,c,e[f+11],16,1839030562),c=s(c,l,d,i,e[f+14],23,-35309556),i=s(i,c,l,d,e[f+1],4,-1530992060),d=s(d,i,c,l,e[f+4],11,1272893353),l=s(l,d,i,c,e[f+7],16,-155497632),c=s(c,l,d,i,e[f+10],23,-1094730640),i=s(i,c,l,d,e[f+13],4,681279174),d=s(d,i,c,l,e[f],11,-358537222),l=s(l,d,i,c,e[f+3],16,-722521979),c=s(c,l,d,i,e[f+6],23,76029189),i=s(i,c,l,d,e[f+9],4,-640364487),d=s(d,i,c,l,e[f+12],11,-421815835),l=s(l,d,i,c,e[f+15],16,530742520),i=u(i,c=s(c,l,d,i,e[f+2],23,-995338651),l,d,e[f],6,-198630844),d=u(d,i,c,l,e[f+7],10,1126891415),l=u(l,d,i,c,e[f+14],15,-1416354905),c=u(c,l,d,i,e[f+5],21,-57434055),i=u(i,c,l,d,e[f+12],6,1700485571),d=u(d,i,c,l,e[f+3],10,-1894986606),l=u(l,d,i,c,e[f+10],15,-1051523),c=u(c,l,d,i,e[f+1],21,-2054922799),i=u(i,c,l,d,e[f+8],6,1873313359),d=u(d,i,c,l,e[f+15],10,-30611744),l=u(l,d,i,c,e[f+6],15,-1560198380),c=u(c,l,d,i,e[f+13],21,1309151649),i=u(i,c,l,d,e[f+4],6,-145523070),d=u(d,i,c,l,e[f+11],10,-1120210379),l=u(l,d,i,c,e[f+2],15,718787259),c=u(c,l,d,i,e[f+9],21,-343485551),i=n(i,h),c=n(c,p),l=n(l,v),d=n(d,g)}return[i,c,l,d]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(r(t)),i=0;i<t;i+=8)n[i>>5]|=(255&e[i/8])<<i%32;return n}(e),8*e.length))};t.default=c},91868:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=r},16798:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},69473:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(72724))&&n.__esModule?n:{default:n};var a=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};t.default=a},83408:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},74017:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)};var n=new Uint8Array(16)},50080:function(e,t){"use strict";function r(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){var t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){var a=unescape(encodeURIComponent(e));e=[];for(var o=0;o<a.length;++o)e.push(a.charCodeAt(o))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,u=Math.ceil(s/16),c=new Array(u),l=0;l<u;++l){for(var d=new Uint32Array(16),f=0;f<16;++f)d[f]=e[64*l+4*f]<<24|e[64*l+4*f+1]<<16|e[64*l+4*f+2]<<8|e[64*l+4*f+3];c[l]=d}c[u-1][14]=8*(e.length-1)/Math.pow(2,32),c[u-1][14]=Math.floor(c[u-1][14]),c[u-1][15]=8*(e.length-1)&4294967295;for(var h=0;h<u;++h){for(var p=new Uint32Array(80),v=0;v<16;++v)p[v]=c[h][v];for(var g=16;g<80;++g)p[g]=n(p[g-3]^p[g-8]^p[g-14]^p[g-16],1);for(var m=i[0],y=i[1],b=i[2],S=i[3],E=i[4],x=0;x<80;++x){var w=Math.floor(x/20),k=n(m,5)+r(w,y,b,S)+E+t[w]+p[x]>>>0;E=S,S=b,b=n(y,30)>>>0,y=m,m=k}i[0]=i[0]+m>>>0,i[1]=i[1]+y>>>0,i[2]=i[2]+b>>>0,i[3]=i[3]+S>>>0,i[4]=i[4]+E>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]};t.default=i},24885:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=s;var n,i=(n=r(72724))&&n.__esModule?n:{default:n};for(var a=[],o=0;o<256;++o)a.push((o+256).toString(16).slice(1));function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}var u=function(e){var t=s(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);if(!(0,i.default)(t))throw TypeError("Stringified UUID is invalid");return t};t.default=u},67800:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i,a,o=(n=r(74017))&&n.__esModule?n:{default:n},s=r(24885);var u=0,c=0;var l=function(e,t,r){var n=t&&r||0,l=t||new Array(16),d=(e=e||{}).node||i,f=void 0!==e.clockseq?e.clockseq:a;if(null==d||null==f){var h=e.random||(e.rng||o.default)();null==d&&(d=i=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==f&&(f=a=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:Date.now(),v=void 0!==e.nsecs?e.nsecs:c+1,g=p-u+(v-c)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||p>u)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=p,c=v,a=f;var m=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[n++]=m>>>24&255,l[n++]=m>>>16&255,l[n++]=m>>>8&255,l[n++]=255&m;var y=p/4294967296*1e4&268435455;l[n++]=y>>>8&255,l[n++]=255&y,l[n++]=y>>>24&15|16,l[n++]=y>>>16&255,l[n++]=f>>>8|128,l[n++]=255&f;for(var b=0;b<6;++b)l[n+b]=d[b];return t||(0,s.unsafeStringify)(l)};t.default=l},22928:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(31997)),i=a(r(26376));function a(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v3",48,i.default);t.default=o},31997:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,r){function n(e,n,o,s){var u;if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"===typeof n&&(n=(0,a.default)(n)),16!==(null===(u=n)||void 0===u?void 0:u.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+e.length);if(c.set(n),c.set(e,n.length),(c=r(c))[6]=15&c[6]|t,c[8]=63&c[8]|128,o){s=s||0;for(var l=0;l<16;++l)o[s+l]=c[l];return o}return(0,i.unsafeStringify)(c)}try{n.name=e}catch(u){}return n.DNS=o,n.URL=s,n};var n,i=r(24885),a=(n=r(69473))&&n.__esModule?n:{default:n};var o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=o;var s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=s},67829:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(91868)),i=o(r(74017)),a=r(24885);function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();var o=(e=e||{}).random||(e.rng||i.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(var s=0;s<16;++s)t[r+s]=o[s];return t}return(0,a.unsafeStringify)(o)};t.default=s},29719:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(31997)),i=a(r(50080));function a(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v5",80,i.default);t.default=o},72724:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(83408))&&n.__esModule?n:{default:n};var a=function(e){return"string"===typeof e&&i.default.test(e)};t.default=a},56896:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(72724))&&n.__esModule?n:{default:n};var a=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};t.default=a},94330:function(e,t,r){"use strict";var n=r(64836),i=n(r(64687)),a=n(r(17156)),o=n(r(861)),s=n(r(89728)),u=n(r(38416)),c=n(r(56690)),l=n(r(61655)),d=n(r(94993)),f=n(r(73808));function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var i=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var p=function(e){(0,l.default)(r,e);var t=h(r);function r(){var e;return(0,c.default)(this,r),(e=t.call(this,"throttled invocation was canceled")).name="CanceledError",e}return r}((0,n(r(33496)).default)(Error)),v=function(){function e(t,r){var n=this;(0,c.default)(this,e),(0,u.default)(this,"canceled",!1);var i=new Promise((function(e){n.timeout=setTimeout(e,r),n.resolve=e}));this.ready=t.then((function(){return i}),(function(){return i})).then((function(){n.ready=null}))}return(0,s.default)(e,[{key:"flush",value:function(){clearTimeout(this.timeout),this.resolve()}},{key:"cancel",value:function(){this.canceled=!0,clearTimeout(this.timeout),this.resolve()}},{key:"then",value:function(e){var t=this;return(this.ready||Promise.resolve()).then((function(){if(t.canceled)throw new p;return e()}))}}]),e}();function g(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=null!=t&&Number.isFinite(t)?Math.max(t,0):0,u=n.getNextArgs||function(e,t){return t},c=null,l=null,d=null;function f(){var t=r;if(!t)return Promise.reject(new Error("unexpected error: nextArgs is null"));d=null,r=null;var n=Promise.resolve(e.apply(void 0,(0,o.default)(t)));return c=n.catch((function(){})).then((function(){c=null})),l=new v(c,s),n}function h(e){if(!(r=r?u(r,e):e))throw new Error("unexpected error: nextArgs is null")}function g(){return d=(l||Promise.resolve()).then(f)}function m(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];h(t)}catch(n){return Promise.reject(n)}return d||g()}return m.invokeIgnoreResult=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];h(t),d||g().catch((function(e){if(!(e instanceof p))throw e}))},m.cancel=(0,a.default)(i.default.mark((function e(){var t,n,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c,null===(t=l)||void 0===t||null===(n=t.cancel)||void 0===n||n.call(t),d=null,r=null,c=null,l=null,e.next=8,a;case 8:case"end":return e.stop()}}),e)}))),m.flush=(0,a.default)(i.default.mark((function e(){var t,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=l)||void 0===t||null===(r=t.flush)||void 0===r||r.call(t),e.next=3,c;case 3:case"end":return e.stop()}}),e)}))),m}g.CanceledError=p,e.exports=g},14696:function(e,t,r){!function(e,t){"use strict";function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function s(e,t){if(null==e)return{};var r,n,i=o(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function u(e,t){return c(e)||l(e,t)||d(e,t)||h()}function c(e){if(Array.isArray(e))return e}function l(e,t){var r=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}function d(e,t){if(e){if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var v,g,m,y,b={exports:{}};function S(){return g?v:(g=1,v="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function E(){if(y)return m;y=1;var e=S();function t(){}function r(){}return r.resetWarningCache=t,m=function(){function n(t,r,n,i,a,o){if(o!==e){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function i(){return n}n.isRequired=n;var a={array:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return a.PropTypes=a,a}}b.exports=E()();var x=p(b.exports),w=function(e,r,n){var i=!!n,a=t.useRef(n);t.useEffect((function(){a.current=n}),[n]),t.useEffect((function(){if(!i||!e)return function(){};var t=function(){a.current&&a.current.apply(a,arguments)};return e.on(r,t),function(){e.off(r,t)}}),[i,r,e,a])},k=function(e){var r=t.useRef(e);return t.useEffect((function(){r.current=e}),[e]),r.current},_=function(e){return null!==e&&"object"===i(e)},T=function(e){return _(e)&&"function"===typeof e.then},A=function(e){return _(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},C="[object Object]",P=function e(t,r){if(!_(t)||!_(r))return t===r;var n=Array.isArray(t);if(n!==Array.isArray(r))return!1;var i=Object.prototype.toString.call(t)===C;if(i!==(Object.prototype.toString.call(r)===C))return!1;if(!i&&!n)return t===r;var a=Object.keys(t),o=Object.keys(r);if(a.length!==o.length)return!1;for(var s={},u=0;u<a.length;u+=1)s[a[u]]=!0;for(var c=0;c<o.length;c+=1)s[o[c]]=!0;var l=Object.keys(s);if(l.length!==a.length)return!1;var d=t,f=r,h=function(t){return e(d[t],f[t])};return l.every(h)},I=function(e,t,r){return _(e)?Object.keys(e).reduce((function(i,o){var s=!_(t)||!P(e[o],t[o]);return r.includes(o)?(s&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):s?n(n({},i||{}),{},a({},o,e[o])):i}),null):null},O="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O;if(null===e||A(e))return e;throw new Error(t)},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O;if(T(e))return{tag:"async",stripePromise:Promise.resolve(e).then((function(e){return R(e,t)}))};var r=R(e,t);return null===r?{tag:"empty"}:{tag:"sync",stripe:r}},L=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.7.3"}),e.registerAppInfo({name:"react-stripe-js",version:"2.7.3",url:"https://stripe.com/docs/stripe-js/react"}))},j=t.createContext(null);j.displayName="ElementsContext";var M=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},D=function(e){var r=e.stripe,n=e.options,i=e.children,a=t.useMemo((function(){return N(r)}),[r]),o=u(t.useState((function(){return{stripe:"sync"===a.tag?a.stripe:null,elements:"sync"===a.tag?a.stripe.elements(n):null}})),2),s=o[0],c=o[1];t.useEffect((function(){var e=!0,t=function(e){c((function(t){return t.stripe?t:{stripe:e,elements:e.elements(n)}}))};return"async"!==a.tag||s.stripe?"sync"!==a.tag||s.stripe||t(a.stripe):a.stripePromise.then((function(r){r&&e&&t(r)})),function(){e=!1}}),[a,s,n]);var l=k(r);t.useEffect((function(){null!==l&&l!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[l,r]);var d=k(n);return t.useEffect((function(){if(s.elements){var e=I(n,d,["clientSecret","fonts"]);e&&s.elements.update(e)}}),[n,d,s.elements]),t.useEffect((function(){L(s.stripe)}),[s.stripe]),t.createElement(j.Provider,{value:s},i)};D.propTypes={stripe:x.any,options:x.object};var F=function(e){var r=t.useContext(j);return M(r,e)},U=function(){return F("calls useElements()").elements},B=function(e){return(0,e.children)(F("mounts <ElementsConsumer>"))};B.propTypes={children:x.func.isRequired};var G=["on","session"],V=t.createContext(null);V.displayName="CustomCheckoutSdkContext";var H=function(e,t){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CustomCheckoutProvider> provider."));return e},W=t.createContext(null);W.displayName="CustomCheckoutContext";var q=function(e,t){if(!e)return null;e.on,e.session;var r=s(e,G);return n(n({},r),t||e.session())},z="Invalid prop `stripe` supplied to `CustomCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Y=function(e){var r=e.stripe,n=e.options,i=e.children,a=t.useMemo((function(){return N(r,z)}),[r]),o=u(t.useState(null),2),s=o[0],c=o[1],l=u(t.useState((function(){return{stripe:"sync"===a.tag?a.stripe:null,customCheckoutSdk:null}})),2),d=l[0],f=l[1],h=function(e,t){f((function(r){return r.stripe&&r.customCheckoutSdk?r:{stripe:e,customCheckoutSdk:t}}))},p=t.useRef(!1);t.useEffect((function(){var e=!0;return"async"!==a.tag||d.stripe?"sync"===a.tag&&a.stripe&&!p.current&&(p.current=!0,a.stripe.initCustomCheckout(n).then((function(e){e&&(h(a.stripe,e),e.on("change",c))}))):a.stripePromise.then((function(t){t&&e&&!p.current&&(p.current=!0,t.initCustomCheckout(n).then((function(e){e&&(h(t,e),e.on("change",c))})))})),function(){e=!1}}),[a,d,n,c]);var v=k(r);t.useEffect((function(){null!==v&&v!==r&&console.warn("Unsupported prop change on CustomCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[v,r]);var g=k(n);t.useEffect((function(){var e,t;if(d.customCheckoutSdk){!n.clientSecret||_(g)||P(n.clientSecret,g.clientSecret)||console.warn("Unsupported prop change: options.client_secret is not a mutable property.");var r=null===g||void 0===g||null===(e=g.elementsOptions)||void 0===e?void 0:e.appearance,i=null===n||void 0===n||null===(t=n.elementsOptions)||void 0===t?void 0:t.appearance;i&&!P(i,r)&&d.customCheckoutSdk.changeAppearance(i)}}),[n,g,d.customCheckoutSdk]),t.useEffect((function(){L(d.stripe)}),[d.stripe]);var m=t.useMemo((function(){return q(d.customCheckoutSdk,s)}),[d.customCheckoutSdk,s]);return d.customCheckoutSdk?t.createElement(V.Provider,{value:d},t.createElement(W.Provider,{value:m},i)):null};Y.propTypes={stripe:x.any,options:x.shape({clientSecret:x.string.isRequired,elementsOptions:x.object}).isRequired};var X=function(e){var r=t.useContext(V);return H(r,e)},K=function(e){var r=t.useContext(V),n=t.useContext(j);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return r?H(r,e):M(n,e)},J=function(){X("calls useCustomCheckout()");var e=t.useContext(W);if(!e)throw new Error("Could not find CustomCheckout Context; You need to wrap the part of your app that calls useCustomCheckout() in an <CustomCheckoutProvider> provider.");return e},Z=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Q=function(e,r){var n="".concat(Z(e),"Element"),i=r?function(e){K("mounts <".concat(n,">"));var r=e.id,i=e.className;return t.createElement("div",{id:r,className:i})}:function(r){var i,a=r.id,o=r.className,s=r.options,c=void 0===s?{}:s,l=r.onBlur,d=r.onFocus,f=r.onReady,h=r.onChange,p=r.onEscape,v=r.onClick,g=r.onLoadError,m=r.onLoaderStart,y=r.onNetworksChange,b=r.onConfirm,S=r.onCancel,E=r.onShippingAddressChange,x=r.onShippingRateChange,_=K("mounts <".concat(n,">")),T="elements"in _?_.elements:null,A="customCheckoutSdk"in _?_.customCheckoutSdk:null,C=u(t.useState(null),2),P=C[0],O=C[1],R=t.useRef(null),N=t.useRef(null);w(P,"blur",l),w(P,"focus",d),w(P,"escape",p),w(P,"click",v),w(P,"loaderror",g),w(P,"loaderstart",m),w(P,"networkschange",y),w(P,"confirm",b),w(P,"cancel",S),w(P,"shippingaddresschange",E),w(P,"shippingratechange",x),w(P,"change",h),f&&(i="expressCheckout"===e?f:function(){f(P)}),w(P,"ready",i),t.useLayoutEffect((function(){if(null===R.current&&null!==N.current&&(T||A)){var t=null;A?t=A.createElement(e,c):T&&(t=T.create(e,c)),R.current=t,O(t),t&&t.mount(N.current)}}),[T,A,c]);var L=k(c);return t.useEffect((function(){if(R.current){var e=I(c,L,["paymentRequest"]);e&&R.current.update(e)}}),[c,L]),t.useLayoutEffect((function(){return function(){if(R.current&&"function"===typeof R.current.destroy)try{R.current.destroy(),R.current=null}catch(e){}}}),[]),t.createElement("div",{id:a,className:o,ref:N})};return i.propTypes={id:x.string,className:x.string,onChange:x.func,onBlur:x.func,onFocus:x.func,onReady:x.func,onEscape:x.func,onClick:x.func,onLoadError:x.func,onLoaderStart:x.func,onNetworksChange:x.func,onConfirm:x.func,onCancel:x.func,onShippingAddressChange:x.func,onShippingRateChange:x.func,options:x.object},i.displayName=n,i.__elementType=e,i},$="undefined"===typeof window,ee=t.createContext(null);ee.displayName="EmbeddedCheckoutProviderContext";var te=function(){var e=t.useContext(ee);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},re="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ne=function(e){var r=e.stripe,n=e.options,i=e.children,a=t.useMemo((function(){return N(r,re)}),[r]),o=t.useRef(null),s=t.useRef(null),c=u(t.useState({embeddedCheckout:null}),2),l=c[0],d=c[1];t.useEffect((function(){if(!s.current&&!o.current){var e=function(e){s.current||o.current||(s.current=e,o.current=s.current.initEmbeddedCheckout(n).then((function(e){d({embeddedCheckout:e})})))};"async"!==a.tag||s.current||!n.clientSecret&&!n.fetchClientSecret?"sync"!==a.tag||s.current||!n.clientSecret&&!n.fetchClientSecret||e(a.stripe):a.stripePromise.then((function(t){t&&e(t)}))}}),[a,n,l,s]),t.useEffect((function(){return function(){l.embeddedCheckout?(o.current=null,l.embeddedCheckout.destroy()):o.current&&o.current.then((function(){o.current=null,l.embeddedCheckout&&l.embeddedCheckout.destroy()}))}}),[l.embeddedCheckout]),t.useEffect((function(){L(s)}),[s]);var f=k(r);t.useEffect((function(){null!==f&&f!==r&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[f,r]);var h=k(n);return t.useEffect((function(){null!=h&&(null!=n?(void 0===n.clientSecret&&void 0===n.fetchClientSecret&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),null!=h.clientSecret&&n.clientSecret!==h.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=h.fetchClientSecret&&n.fetchClientSecret!==h.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=h.onComplete&&n.onComplete!==h.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),null!=h.onShippingDetailsChange&&n.onShippingDetailsChange!==h.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))}),[h,n]),t.createElement(ee.Provider,{value:l},i)},ie=function(e){var r=e.id,n=e.className,i=te().embeddedCheckout,a=t.useRef(!1),o=t.useRef(null);return t.useLayoutEffect((function(){return!a.current&&i&&null!==o.current&&(i.mount(o.current),a.current=!0),function(){if(a.current&&i)try{i.unmount(),a.current=!1}catch(e){}}}),[i]),t.createElement("div",{ref:o,id:r,className:n})},ae=function(e){var r=e.id,n=e.className;return te(),t.createElement("div",{id:r,className:n})},oe=$?ae:ie,se=function(){return K("calls useStripe()").stripe},ue=Q("auBankAccount",$),ce=Q("card",$),le=Q("cardNumber",$),de=Q("cardExpiry",$),fe=Q("cardCvc",$),he=Q("fpxBank",$),pe=Q("iban",$),ve=Q("idealBank",$),ge=Q("p24Bank",$),me=Q("epsBank",$),ye=Q("payment",$),be=Q("expressCheckout",$),Se=Q("paymentRequestButton",$),Ee=Q("linkAuthentication",$),xe=Q("address",$),we=Q("shippingAddress",$),ke=Q("paymentMethodMessaging",$),_e=Q("affirmMessage",$),Te=Q("afterpayClearpayMessage",$);e.AddressElement=xe,e.AffirmMessageElement=_e,e.AfterpayClearpayMessageElement=Te,e.AuBankAccountElement=ue,e.CardCvcElement=fe,e.CardElement=ce,e.CardExpiryElement=de,e.CardNumberElement=le,e.CustomCheckoutProvider=Y,e.Elements=D,e.ElementsConsumer=B,e.EmbeddedCheckout=oe,e.EmbeddedCheckoutProvider=ne,e.EpsBankElement=me,e.ExpressCheckoutElement=be,e.FpxBankElement=he,e.IbanElement=pe,e.IdealBankElement=ve,e.LinkAuthenticationElement=Ee,e.P24BankElement=ge,e.PaymentElement=ye,e.PaymentMethodMessagingElement=ke,e.PaymentRequestButtonElement=Se,e.ShippingAddressElement=we,e.useCustomCheckout=J,e.useElements=U,e.useStripe=se}(t,r(47313))},69570:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCookie=t.getCookie=t.setCookie=void 0;var n=r(12047),i=function(e){return"videogen-314159-".concat(e)};t.setCookie=function(e){var t=e.key,r=e.value,a=e.activeDuration;try{var o=n.DateTime.now().plus(a).toHTTP();return document.cookie="".concat(i(t),"=").concat(encodeURIComponent(r),"; expires=").concat(o,"; SameSite=Strict; ").concat(window.location.hostname.includes("localhost")?"":"domain=videogen.io; ","path=/"),!0}catch(s){return console.error(s),!1}};var a=function(e){var t;try{var r="; ".concat(document.cookie).split("; ".concat(i(e),"="));if(2===r.length){var n=null===(t=r.pop())||void 0===t?void 0:t.split(";").shift();return n?decodeURIComponent(n):void 0}return}catch(a){return void console.error(a)}};t.getCookie=function(e){var t;return"authState"===e||"AUTH_STATE"===e?null!==(t=a("authState"))&&void 0!==t?t:a("AUTH_STATE"):a(e)};t.deleteCookie=function(e){try{return document.cookie="".concat(i(e),"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Strict; ").concat(window.location.hostname.includes("localhost")?"":"domain=videogen.io; ","path=/"),!0}catch(t){return console.error(t),!1}}},29610:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CookieT=t.CookieH=void 0;var o=a(r(69570));t.CookieH=o;var s=a(r(90142));t.CookieT=s},90142:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2470:function(e,t){"use strict";t.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,a=s(e),o=a[0],u=a[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,o,u)),l=0,d=u>0?o-4:o;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===u&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t);1===u&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=16383,s=0,c=n-i;s<c;s+=o)a.push(u(e,s,s+o>c?c:s+o));1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],n=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)r[o]=a[o],n[a.charCodeAt(o)]=o;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},40918:function(e,t,r){"use strict";var n=r(56690).default,i=r(89728).default,a=r(66115).default,o=r(61655).default,s=r(26389).default,u=r(2470),c=r(60545),l="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=h,t.h2=50;var d=2147483647;function f(e){if(e>d)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,h.prototype),t}function h(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return g(e)}return p(e,t,r)}function p(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!h.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|S(e,t),n=f(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(ee(e,Uint8Array)){var t=new Uint8Array(e);return y(t.buffer,t.byteOffset,t.byteLength)}return m(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ee(e,ArrayBuffer)||e&&ee(e.buffer,ArrayBuffer))return y(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(ee(e,SharedArrayBuffer)||e&&ee(e.buffer,SharedArrayBuffer)))return y(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return h.from(n,t,r);var i=function(e){if(h.isBuffer(e)){var t=0|b(e.length),r=f(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||te(e.length)?f(0):m(e);if("Buffer"===e.type&&Array.isArray(e.data))return m(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return h.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function v(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function g(e){return v(e),f(e<0?0:0|b(e))}function m(e){for(var t=e.length<0?0:0|b(e.length),r=f(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function y(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,h.prototype),n}function b(e){if(e>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return 0|e}function S(e,t){if(h.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ee(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Q(e).length;default:if(i)return n?-1:Z(e).length;t=(""+t).toLowerCase(),i=!0}}function E(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,r);case"utf8":case"utf-8":return O(this,t,r);case"ascii":return N(this,t,r);case"latin1":case"binary":return L(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function x(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function w(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),te(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=h.from(t,n)),h.isBuffer(t))return 0===t.length?-1:k(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):k(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function k(e,t,r,n,i){var a,o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var d=!0,f=0;f<u;f++)if(c(e,a+f)!==c(t,f)){d=!1;break}if(d)return a}return-1}function _(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a,o=t.length;for(n>o/2&&(n=o/2),a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(te(s))return a;e[r+a]=s}return a}function T(e,t,r,n){return $(Z(t,e.length-r),e,r,n)}function A(e,t,r,n){return $(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function C(e,t,r,n){return $(Q(t),e,r,n)}function P(e,t,r,n){return $(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function I(e,t,r){return 0===t&&r===e.length?u.fromByteArray(e):u.fromByteArray(e.slice(t,r))}function O(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=r){var u=void 0,c=void 0,l=void 0,d=void 0;switch(s){case 1:a<128&&(o=a);break;case 2:128===(192&(u=e[i+1]))&&(d=(31&a)<<6|63&u)>127&&(o=d);break;case 3:u=e[i+1],c=e[i+2],128===(192&u)&&128===(192&c)&&(d=(15&a)<<12|(63&u)<<6|63&c)>2047&&(d<55296||d>57343)&&(o=d);break;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(d=(15&a)<<18|(63&u)<<12|(63&c)<<6|63&l)>65535&&d<1114112&&(o=d)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=R));return r}(n)}h.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(r){return!1}}(),h.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(e,t,r){return p(e,t,r)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(e,t,r){return function(e,t,r){return v(e),e<=0?f(e):void 0!==t?"string"===typeof r?f(e).fill(t,r):f(e).fill(t):f(e)}(e,t,r)},h.allocUnsafe=function(e){return g(e)},h.allocUnsafeSlow=function(e){return g(e)},h.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==h.prototype},h.compare=function(e,t){if(ee(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),ee(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(e)||!h.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},h.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return h.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=h.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(ee(a,Uint8Array))i+a.length>n.length?(h.isBuffer(a)||(a=h.from(a)),a.copy(n,i)):Uint8Array.prototype.set.call(n,a,i);else{if(!h.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i)}i+=a.length}return n},h.byteLength=S,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)x(this,t,t+1);return this},h.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)x(this,t,t+3),x(this,t+1,t+2);return this},h.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)x(this,t,t+7),x(this,t+1,t+6),x(this,t+2,t+5),x(this,t+3,t+4);return this},h.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):E.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(e){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===h.compare(this,e)},h.prototype.inspect=function(){var e="",r=t.h2;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},l&&(h.prototype[l]=h.prototype.inspect),h.prototype.compare=function(e,t,r,n,i){if(ee(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),u=this.slice(n,i),c=e.slice(t,r),l=0;l<s;++l)if(u[l]!==c[l]){a=u[l],o=c[l];break}return a<o?-1:o<a?1:0},h.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},h.prototype.indexOf=function(e,t,r){return w(this,e,t,r,!0)},h.prototype.lastIndexOf=function(e,t,r){return w(this,e,t,r,!1)},h.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return T(this,e,t,r);case"ascii":case"latin1":case"binary":return A(this,e,t,r);case"base64":return C(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function N(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function L(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function j(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=re[e[a]];return i}function M(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length-1;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function D(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,r,n,i,a){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,i){Y(t,n,i,e,r,7);var a=Number(t&BigInt(4294967295));e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function B(e,t,r,n,i){Y(t,n,i,e,r,7);var a=Number(t&BigInt(4294967295));e[r+7]=a,a>>=8,e[r+6]=a,a>>=8,e[r+5]=a,a>>=8,e[r+4]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function G(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function V(e,t,r,n,i){return t=+t,r>>>=0,i||G(e,0,r,4),c.write(e,t,r,n,23,4),r+4}function H(e,t,r,n,i){return t=+t,r>>>=0,i||G(e,0,r,8),c.write(e,t,r,n,52,8),r+8}h.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,h.prototype),n},h.prototype.readUintLE=h.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},h.prototype.readUintBE=h.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},h.prototype.readUint8=h.prototype.readUInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),this[e]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]|this[e+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]<<8|this[e+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},h.prototype.readBigUInt64LE=ne((function(e){X(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);var n=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),i=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+r*Math.pow(2,24);return BigInt(n)+(BigInt(i)<<BigInt(32))})),h.prototype.readBigUInt64BE=ne((function(e){X(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);var n=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],i=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),h.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},h.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},h.prototype.readInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,t){e>>>=0,t||D(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt16BE=function(e,t){e>>>=0,t||D(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},h.prototype.readInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},h.prototype.readBigInt64LE=ne((function(e){X(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);var n=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),h.prototype.readBigInt64BE=ne((function(e){X(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);var n=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+r)})),h.prototype.readFloatLE=function(e,t){return e>>>=0,t||D(e,4,this.length),c.read(this,e,!0,23,4)},h.prototype.readFloatBE=function(e,t){return e>>>=0,t||D(e,4,this.length),c.read(this,e,!1,23,4)},h.prototype.readDoubleLE=function(e,t){return e>>>=0,t||D(e,8,this.length),c.read(this,e,!0,52,8)},h.prototype.readDoubleBE=function(e,t){return e>>>=0,t||D(e,8,this.length),c.read(this,e,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||F(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||F(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},h.prototype.writeUint8=h.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,1,255,0),this[t]=255&e,t+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeBigUInt64LE=ne((function(e){return U(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeBigUInt64BE=ne((function(e){return B(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},h.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},h.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},h.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},h.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeBigInt64LE=ne((function(e){return U(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeBigInt64BE=ne((function(e){return B(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeFloatLE=function(e,t,r){return V(this,e,t,!0,r)},h.prototype.writeFloatBE=function(e,t,r){return V(this,e,t,!1,r)},h.prototype.writeDoubleLE=function(e,t,r){return H(this,e,t,!0,r)},h.prototype.writeDoubleBE=function(e,t,r){return H(this,e,t,!1,r)},h.prototype.copy=function(e,t,r,n){if(!h.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},h.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=h.isBuffer(e)?e:h.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var W={};function q(e,t,r){W[e]=function(r){o(c,r);var u=s(c);function c(){var r;return n(this,c),r=u.call(this),Object.defineProperty(a(r),"message",{value:t.apply(a(r),arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(e,"]"),r.stack,delete r.name,r}return i(c,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),c}(r)}function z(e){for(var t="",r=e.length,n="-"===e[0]?1:0;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function Y(e,t,r,n,i,a){if(e>r||e<t){var o,s="bigint"===typeof t?"n":"";throw o=a>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(a+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(a+1)-1).concat(s,") and < 2 ** ")+"".concat(8*(a+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(r).concat(s),new W.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,r){X(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||K(t,e.length-(r+1))}(n,i,a)}function X(e,t){if("number"!==typeof e)throw new W.ERR_INVALID_ARG_TYPE(t,"number",e)}function K(e,t,r){if(Math.floor(e)!==e)throw X(e,r),new W.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}q("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),q("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),q("ERR_OUT_OF_RANGE",(function(e,t,r){var n='The value of "'.concat(e,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>Math.pow(2,32)?i=z(String(r)):"bigint"===typeof r&&(i=String(r),(r>Math.pow(BigInt(2),BigInt(32))||r<-Math.pow(BigInt(2),BigInt(32)))&&(i=z(i)),i+="n"),n+=" It must be ".concat(t,". Received ").concat(i)}),RangeError);var J=/[^+/0-9A-Za-z-_]/g;function Z(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function Q(e){return u.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(J,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function $(e,t,r,n){var i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function ee(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function te(e){return e!==e}var re=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}();function ne(e){return"undefined"===typeof BigInt?ie:e}function ie(){throw new Error("BigInt not supported")}},46123:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var o=i.apply(null,r);o&&e.push(o)}}else if("object"===a){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},68973:function(e,t,r){"use strict";var n=r(30171),i=r(5065),a=TypeError;e.exports=function(e){if(n(e))return e;throw a(i(e)+" is not a function")}},68458:function(e,t,r){"use strict";var n=r(73011),i=r(5065),a=TypeError;e.exports=function(e){if(n(e))return e;throw a(i(e)+" is not a constructor")}},74375:function(e,t,r){"use strict";var n=r(30171),i=String,a=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw a("Can't set "+i(e)+" as a prototype")}},99363:function(e,t,r){"use strict";var n=r(75508),i=r(83302),a=r(81684).f,o=n("unscopables"),s=Array.prototype;void 0==s[o]&&a(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},76183:function(e,t,r){"use strict";var n=r(19838).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},35793:function(e,t,r){"use strict";var n=r(81778),i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw i("Incorrect invocation")}},59799:function(e,t,r){"use strict";var n=r(34965),i=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw a(i(e)+" is not an object")}},30167:function(e){"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},9603:function(e,t,r){"use strict";var n=r(66111);e.exports=n((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},80049:function(e,t,r){"use strict";var n,i,a,o=r(30167),s=r(37420),u=r(19782),c=r(30171),l=r(34965),d=r(78320),f=r(5249),h=r(5065),p=r(87454),v=r(63609),g=r(18787),m=r(81778),y=r(7209),b=r(32695),S=r(75508),E=r(39020),x=r(25313),w=x.enforce,k=x.get,_=u.Int8Array,T=_&&_.prototype,A=u.Uint8ClampedArray,C=A&&A.prototype,P=_&&y(_),I=T&&y(T),O=Object.prototype,R=u.TypeError,N=S("toStringTag"),L=E("TYPED_ARRAY_TAG"),j="TypedArrayConstructor",M=o&&!!b&&"Opera"!==f(u.opera),D=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},U={BigInt64Array:8,BigUint64Array:8},B=function(e){if(!l(e))return!1;var t=f(e);return d(F,t)||d(U,t)};for(n in F)(a=(i=u[n])&&i.prototype)?w(a)[j]=i:M=!1;for(n in U)(a=(i=u[n])&&i.prototype)&&(w(a)[j]=i);if((!M||!c(P)||P===Function.prototype)&&(P=function(){throw R("Incorrect invocation")},M))for(n in F)u[n]&&b(u[n],P);if((!M||!I||I===O)&&(I=P.prototype,M))for(n in F)u[n]&&b(u[n].prototype,I);if(M&&y(C)!==I&&b(C,I),s&&!d(I,N))for(n in D=!0,g(I,N,{configurable:!0,get:function(){return l(this)?this[L]:void 0}}),F)u[n]&&p(u[n],L,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:D&&L,aTypedArray:function(e){if(B(e))return e;throw R("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!b||m(P,e)))return e;throw R(h(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(s){if(r)for(var i in F){var a=u[i];if(a&&d(a.prototype,e))try{delete a.prototype[e]}catch(o){try{a.prototype[e]=t}catch(c){}}}I[e]&&!r||v(I,e,r?t:M&&T[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(s){if(b){if(r)for(n in F)if((i=u[n])&&d(i,e))try{delete i[e]}catch(a){}if(P[e]&&!r)return;try{return v(P,e,r?t:M&&P[e]||t)}catch(a){}}for(n in F)!(i=u[n])||i[e]&&!r||v(i,e,t)}},getTypedArrayConstructor:function e(t){var r=y(t);if(l(r)){var n=k(r);return n&&d(n,j)?n[j]:e(r)}},isView:function(e){if(!l(e))return!1;var t=f(e);return"DataView"===t||d(F,t)||d(U,t)},isTypedArray:B,TypedArray:P,TypedArrayPrototype:I}},62403:function(e,t,r){"use strict";var n=r(19782),i=r(34534),a=r(37420),o=r(30167),s=r(21774),u=r(87454),c=r(18787),l=r(22631),d=r(66111),f=r(35793),h=r(56501),p=r(61234),v=r(35761),g=r(44221),m=r(7209),y=r(32695),b=r(59814).f,S=r(76206),E=r(92914),x=r(21117),w=r(25313),k=s.PROPER,_=s.CONFIGURABLE,T="ArrayBuffer",A="DataView",C="prototype",P="Wrong index",I=w.getterFor(T),O=w.getterFor(A),R=w.set,N=n[T],L=N,j=L&&L[C],M=n[A],D=M&&M[C],F=Object.prototype,U=n.Array,B=n.RangeError,G=i(S),V=i([].reverse),H=g.pack,W=g.unpack,q=function(e){return[255&e]},z=function(e){return[255&e,e>>8&255]},Y=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},X=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},K=function(e){return H(e,23,4)},J=function(e){return H(e,52,8)},Z=function(e,t,r){c(e[C],t,{configurable:!0,get:function(){return r(this)[t]}})},Q=function(e,t,r,n){var i=O(e),a=v(r),o=!!n;if(a+t>i.byteLength)throw B(P);var s=i.bytes,u=a+i.byteOffset,c=E(s,u,u+t);return o?c:V(c)},$=function(e,t,r,n,i,a){var o=O(e),s=v(r),u=n(+i),c=!!a;if(s+t>o.byteLength)throw B(P);for(var l=o.bytes,d=s+o.byteOffset,f=0;f<t;f++)l[d+f]=u[c?f:t-f-1]};if(o){var ee=k&&N.name!==T;if(d((function(){N(1)}))&&d((function(){new N(-1)}))&&!d((function(){return new N,new N(1.5),new N(NaN),1!=N.length||ee&&!_})))ee&&_&&u(N,"name",T);else{(L=function(e){return f(this,j),new N(v(e))})[C]=j;for(var te,re=b(N),ne=0;re.length>ne;)(te=re[ne++])in L||u(L,te,N[te]);j.constructor=L}y&&m(D)!==F&&y(D,F);var ie=new M(new L(2)),ae=i(D.setInt8);ie.setInt8(0,2147483648),ie.setInt8(1,2147483649),!ie.getInt8(0)&&ie.getInt8(1)||l(D,{setInt8:function(e,t){ae(this,e,t<<24>>24)},setUint8:function(e,t){ae(this,e,t<<24>>24)}},{unsafe:!0})}else j=(L=function(e){f(this,j);var t=v(e);R(this,{type:T,bytes:G(U(t),0),byteLength:t}),a||(this.byteLength=t,this.detached=!1)})[C],D=(M=function(e,t,r){f(this,D),f(e,j);var n=I(e),i=n.byteLength,o=h(t);if(o<0||o>i)throw B("Wrong offset");if(o+(r=void 0===r?i-o:p(r))>i)throw B("Wrong length");R(this,{type:A,buffer:e,byteLength:r,byteOffset:o,bytes:n.bytes}),a||(this.buffer=e,this.byteLength=r,this.byteOffset=o)})[C],a&&(Z(L,"byteLength",I),Z(M,"buffer",O),Z(M,"byteLength",O),Z(M,"byteOffset",O)),l(D,{getInt8:function(e){return Q(this,1,e)[0]<<24>>24},getUint8:function(e){return Q(this,1,e)[0]},getInt16:function(e){var t=Q(this,2,e,arguments.length>1&&arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Q(this,2,e,arguments.length>1&&arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return X(Q(this,4,e,arguments.length>1&&arguments[1]))},getUint32:function(e){return X(Q(this,4,e,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(e){return W(Q(this,4,e,arguments.length>1&&arguments[1]),23)},getFloat64:function(e){return W(Q(this,8,e,arguments.length>1&&arguments[1]),52)},setInt8:function(e,t){$(this,1,e,q,t)},setUint8:function(e,t){$(this,1,e,q,t)},setInt16:function(e,t){$(this,2,e,z,t,arguments.length>2&&arguments[2])},setUint16:function(e,t){$(this,2,e,z,t,arguments.length>2&&arguments[2])},setInt32:function(e,t){$(this,4,e,Y,t,arguments.length>2&&arguments[2])},setUint32:function(e,t){$(this,4,e,Y,t,arguments.length>2&&arguments[2])},setFloat32:function(e,t){$(this,4,e,K,t,arguments.length>2&&arguments[2])},setFloat64:function(e,t){$(this,8,e,J,t,arguments.length>2&&arguments[2])}});x(L,T),x(M,A),e.exports={ArrayBuffer:L,DataView:M}},88891:function(e,t,r){"use strict";var n=r(11446),i=r(53864),a=r(76425),o=r(77185),s=Math.min;e.exports=[].copyWithin||function(e,t){var r=n(this),u=a(r),c=i(e,u),l=i(t,u),d=arguments.length>2?arguments[2]:void 0,f=s((void 0===d?u:i(d,u))-l,u-c),h=1;for(l<c&&c<l+f&&(h=-1,l+=f-1,c+=f-1);f-- >0;)l in r?r[c]=r[l]:o(r,c),c+=h,l+=h;return r}},76206:function(e,t,r){"use strict";var n=r(11446),i=r(53864),a=r(76425);e.exports=function(e){for(var t=n(this),r=a(t),o=arguments.length,s=i(o>1?arguments[1]:void 0,r),u=o>2?arguments[2]:void 0,c=void 0===u?r:i(u,r);c>s;)t[s++]=e;return t}},3424:function(e,t,r){"use strict";var n=r(79056).forEach,i=r(11689)("forEach");e.exports=i?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},45034:function(e,t,r){"use strict";var n=r(76425);e.exports=function(e,t){for(var r=0,i=n(t),a=new e(i);i>r;)a[r]=t[r++];return a}},97509:function(e,t,r){"use strict";var n=r(25852),i=r(37892),a=r(11446),o=r(19780),s=r(77487),u=r(73011),c=r(76425),l=r(36072),d=r(68029),f=r(84284),h=Array;e.exports=function(e){var t=a(e),r=u(this),p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v;g&&(v=n(v,p>2?arguments[2]:void 0));var m,y,b,S,E,x,w=f(t),k=0;if(!w||this===h&&s(w))for(m=c(t),y=r?new this(m):h(m);m>k;k++)x=g?v(t[k],k):t[k],l(y,k,x);else for(E=(S=d(t,w)).next,y=r?new this:[];!(b=i(E,S)).done;k++)x=g?o(S,v,[b.value,k],!0):b.value,l(y,k,x);return y.length=k,y}},49821:function(e,t,r){"use strict";var n=r(76494),i=r(53864),a=r(76425),o=function(e){return function(t,r,o){var s,u=n(t),c=a(u),l=i(o,c);if(e&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},79056:function(e,t,r){"use strict";var n=r(25852),i=r(34534),a=r(70769),o=r(11446),s=r(76425),u=r(41180),c=i([].push),l=function(e){var t=1==e,r=2==e,i=3==e,l=4==e,d=6==e,f=7==e,h=5==e||d;return function(p,v,g,m){for(var y,b,S=o(p),E=a(S),x=n(v,g),w=s(E),k=0,_=m||u,T=t?_(p,w):r||f?_(p,0):void 0;w>k;k++)if((h||k in E)&&(b=x(y=E[k],k,S),e))if(t)T[k]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return k;case 2:c(T,y)}else switch(e){case 4:return!1;case 7:c(T,y)}return d?-1:i||l?l:T}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},34116:function(e,t,r){"use strict";var n=r(12256),i=r(76494),a=r(56501),o=r(76425),s=r(11689),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,d=s("lastIndexOf"),f=l||!d;e.exports=f?function(e){if(l)return n(c,this,arguments)||0;var t=i(this),r=o(t),s=r-1;for(arguments.length>1&&(s=u(s,a(arguments[1]))),s<0&&(s=r+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:c},76205:function(e,t,r){"use strict";var n=r(66111),i=r(75508),a=r(32504),o=i("species");e.exports=function(e){return a>=51||!n((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},11689:function(e,t,r){"use strict";var n=r(66111);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},69998:function(e,t,r){"use strict";var n=r(68973),i=r(11446),a=r(70769),o=r(76425),s=TypeError,u=function(e){return function(t,r,u,c){n(r);var l=i(t),d=a(l),f=o(l),h=e?f-1:0,p=e?-1:1;if(u<2)for(;;){if(h in d){c=d[h],h+=p;break}if(h+=p,e?h<0:f<=h)throw s("Reduce of empty array with no initial value")}for(;e?h>=0:f>h;h+=p)h in d&&(c=r(c,d[h],h,l));return c}};e.exports={left:u(!1),right:u(!0)}},39217:function(e,t,r){"use strict";var n=r(37420),i=r(38162),a=TypeError,o=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!o(e,"length").writable)throw a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},92914:function(e,t,r){"use strict";var n=r(53864),i=r(76425),a=r(36072),o=Array,s=Math.max;e.exports=function(e,t,r){for(var u=i(e),c=n(t,u),l=n(void 0===r?u:r,u),d=o(s(l-c,0)),f=0;c<l;c++,f++)a(d,f,e[c]);return d.length=f,d}},51346:function(e,t,r){"use strict";var n=r(34534);e.exports=n([].slice)},65082:function(e,t,r){"use strict";var n=r(92914),i=Math.floor,a=function(e,t){for(var r,n,i=e.length,a=1;a<i;){for(n=a,r=e[a];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==a++&&(e[n]=r)}return e},o=function(e,t,r,n){for(var i=t.length,a=r.length,o=0,s=0;o<i||s<a;)e[o+s]=o<i&&s<a?n(t[o],r[s])<=0?t[o++]:r[s++]:o<i?t[o++]:r[s++];return e};e.exports=function e(t,r){var s=t.length,u=i(s/2);return s<8?a(t,r):o(t,e(n(t,0,u),r),e(n(t,u),r),r)}},61520:function(e,t,r){"use strict";var n=r(38162),i=r(73011),a=r(34965),o=r(75508)("species"),s=Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,(i(t)&&(t===s||n(t.prototype))||a(t)&&null===(t=t[o]))&&(t=void 0)),void 0===t?s:t}},41180:function(e,t,r){"use strict";var n=r(61520);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},19780:function(e,t,r){"use strict";var n=r(59799),i=r(78300);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(o){i(e,"throw",o)}}},21784:function(e,t,r){"use strict";var n=r(75508)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var a={};a[n]=function(){return{next:function(){return{done:r=!0}}}},e(a)}catch(s){}return r}},73135:function(e,t,r){"use strict";var n=r(34534),i=n({}.toString),a=n("".slice);e.exports=function(e){return a(i(e),8,-1)}},5249:function(e,t,r){"use strict";var n=r(32105),i=r(30171),a=r(73135),o=r(75508)("toStringTag"),s=Object,u="Arguments"==a(function(){return arguments}());e.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(r){}}(t=s(e),o))?r:u?a(t):"Object"==(n=a(t))&&i(t.callee)?"Arguments":n}},44695:function(e,t,r){"use strict";var n=r(83302),i=r(18787),a=r(22631),o=r(25852),s=r(35793),u=r(90486),c=r(81413),l=r(67432),d=r(43341),f=r(8965),h=r(37420),p=r(36781).fastKey,v=r(25313),g=v.set,m=v.getterFor;e.exports={getConstructor:function(e,t,r,l){var d=e((function(e,i){s(e,f),g(e,{type:t,index:n(null),first:void 0,last:void 0,size:0}),h||(e.size=0),u(i)||c(i,e[l],{that:e,AS_ENTRIES:r})})),f=d.prototype,v=m(t),y=function(e,t,r){var n,i,a=v(e),o=b(e,t);return o?o.value=r:(a.last=o={index:i=p(t,!0),key:t,value:r,previous:n=a.last,next:void 0,removed:!1},a.first||(a.first=o),n&&(n.next=o),h?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},b=function(e,t){var r,n=v(e),i=p(t);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==t)return r};return a(f,{clear:function(){for(var e=v(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,h?e.size=0:this.size=0},delete:function(e){var t=this,r=v(t),n=b(t,e);if(n){var i=n.next,a=n.previous;delete r.index[n.index],n.removed=!0,a&&(a.next=i),i&&(i.previous=a),r.first==n&&(r.first=i),r.last==n&&(r.last=a),h?r.size--:t.size--}return!!n},forEach:function(e){for(var t,r=v(this),n=o(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),a(f,r?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),h&&i(f,"size",{configurable:!0,get:function(){return v(this).size}}),d},setStrong:function(e,t,r){var n=t+" Iterator",i=m(t),a=m(n);l(e,t,(function(e,t){g(this,{type:n,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?d("keys"==t?r.key:"values"==t?r.value:[r.key,r.value],!1):(e.target=void 0,d(void 0,!0))}),r?"entries":"values",!r,!0),f(t)}}},70655:function(e,t,r){"use strict";var n=r(34534),i=r(22631),a=r(36781).getWeakData,o=r(35793),s=r(59799),u=r(90486),c=r(34965),l=r(81413),d=r(79056),f=r(78320),h=r(25313),p=h.set,v=h.getterFor,g=d.find,m=d.findIndex,y=n([].splice),b=0,S=function(e){return e.frozen||(e.frozen=new E)},E=function(){this.entries=[]},x=function(e,t){return g(e.entries,(function(e){return e[0]===t}))};E.prototype={get:function(e){var t=x(this,e);if(t)return t[1]},has:function(e){return!!x(this,e)},set:function(e,t){var r=x(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=m(this.entries,(function(t){return t[0]===e}));return~t&&y(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,r,n){var d=e((function(e,i){o(e,h),p(e,{type:t,id:b++,frozen:void 0}),u(i)||l(i,e[n],{that:e,AS_ENTRIES:r})})),h=d.prototype,g=v(t),m=function(e,t,r){var n=g(e),i=a(s(t),!0);return!0===i?S(n).set(t,r):i[n.id]=r,e};return i(h,{delete:function(e){var t=g(this);if(!c(e))return!1;var r=a(e);return!0===r?S(t).delete(e):r&&f(r,t.id)&&delete r[t.id]},has:function(e){var t=g(this);if(!c(e))return!1;var r=a(e);return!0===r?S(t).has(e):r&&f(r,t.id)}}),i(h,r?{get:function(e){var t=g(this);if(c(e)){var r=a(e);return!0===r?S(t).get(e):r?r[t.id]:void 0}},set:function(e,t){return m(this,e,t)}}:{add:function(e){return m(this,e,!0)}}),d}}},19881:function(e,t,r){"use strict";var n=r(73587),i=r(19782),a=r(34534),o=r(79492),s=r(63609),u=r(36781),c=r(81413),l=r(35793),d=r(30171),f=r(90486),h=r(34965),p=r(66111),v=r(21784),g=r(21117),m=r(2142);e.exports=function(e,t,r){var y=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),S=y?"set":"add",E=i[e],x=E&&E.prototype,w=E,k={},_=function(e){var t=a(x[e]);s(x,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!h(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return b&&!h(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!h(e))&&t(this,0===e?0:e)}:function(e,r){return t(this,0===e?0:e,r),this})};if(o(e,!d(E)||!(b||x.forEach&&!p((function(){(new E).entries().next()})))))w=r.getConstructor(t,e,y,S),u.enable();else if(o(e,!0)){var T=new w,A=T[S](b?{}:-0,1)!=T,C=p((function(){T.has(1)})),P=v((function(e){new E(e)})),I=!b&&p((function(){for(var e=new E,t=5;t--;)e[S](t,t);return!e.has(-0)}));P||((w=t((function(e,t){l(e,x);var r=m(new E,e,w);return f(t)||c(t,r[S],{that:r,AS_ENTRIES:y}),r}))).prototype=x,x.constructor=w),(C||I)&&(_("delete"),_("has"),y&&_("get")),(I||A)&&_(S),b&&x.clear&&delete x.clear}return k[e]=w,n({global:!0,constructor:!0,forced:w!=E},k),g(w,e),b||r.setStrong(w,e,y),w}},11147:function(e,t,r){"use strict";var n=r(78320),i=r(20412),a=r(82530),o=r(81684);e.exports=function(e,t,r){for(var s=i(t),u=o.f,c=a.f,l=0;l<s.length;l++){var d=s[l];n(e,d)||r&&n(r,d)||u(e,d,c(t,d))}}},79475:function(e,t,r){"use strict";var n=r(75508)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(i){}}return!1}},97610:function(e,t,r){"use strict";var n=r(66111);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},43341:function(e){"use strict";e.exports=function(e,t){return{value:e,done:t}}},87454:function(e,t,r){"use strict";var n=r(37420),i=r(81684),a=r(80431);e.exports=n?function(e,t,r){return i.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},80431:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},36072:function(e,t,r){"use strict";var n=r(44560),i=r(81684),a=r(80431);e.exports=function(e,t,r){var o=n(t);o in e?i.f(e,o,a(0,r)):e[o]=r}},31022:function(e,t,r){"use strict";var n=r(59799),i=r(83131),a=TypeError;e.exports=function(e){if(n(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw a("Incorrect hint");return i(this,e)}},18787:function(e,t,r){"use strict";var n=r(18138),i=r(81684);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},63609:function(e,t,r){"use strict";var n=r(30171),i=r(81684),a=r(18138),o=r(92164);e.exports=function(e,t,r,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:t;if(n(r)&&a(r,c,s),s.global)u?e[t]=r:o(t,r);else{try{s.unsafe?e[t]&&(u=!0):delete e[t]}catch(l){}u?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},22631:function(e,t,r){"use strict";var n=r(63609);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},92164:function(e,t,r){"use strict";var n=r(19782),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},77185:function(e,t,r){"use strict";var n=r(5065),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+n(t)+" of "+n(e))}},37420:function(e,t,r){"use strict";var n=r(66111);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},64620:function(e){"use strict";var t="object"==typeof document&&document.all,r="undefined"==typeof t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},20916:function(e,t,r){"use strict";var n=r(19782),i=r(34965),a=n.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},60895:function(e){"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},7727:function(e){"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},17255:function(e,t,r){"use strict";var n=r(20916)("span").classList,i=n&&n.constructor&&n.constructor.prototype;e.exports=i===Object.prototype?void 0:i},62554:function(e,t,r){"use strict";var n=r(64771).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},32599:function(e,t,r){"use strict";var n=r(43716),i=r(70520);e.exports=!n&&!i&&"object"==typeof window&&"object"==typeof document},37658:function(e){"use strict";e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},43716:function(e){"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},90907:function(e,t,r){"use strict";var n=r(64771);e.exports=/MSIE|Trident/.test(n)},37290:function(e,t,r){"use strict";var n=r(64771);e.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},98716:function(e,t,r){"use strict";var n=r(64771);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},70520:function(e,t,r){"use strict";var n=r(73135);e.exports="undefined"!=typeof process&&"process"==n(process)},25053:function(e,t,r){"use strict";var n=r(64771);e.exports=/web0s(?!.*chrome)/i.test(n)},64771:function(e){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},32504:function(e,t,r){"use strict";var n,i,a=r(19782),o=r(64771),s=a.process,u=a.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},35199:function(e,t,r){"use strict";var n=r(64771).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},28605:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},73587:function(e,t,r){"use strict";var n=r(19782),i=r(82530).f,a=r(87454),o=r(63609),s=r(92164),u=r(11147),c=r(79492);e.exports=function(e,t){var r,l,d,f,h,p=e.target,v=e.global,g=e.stat;if(r=v?n:g?n[p]||s(p,{}):(n[p]||{}).prototype)for(l in t){if(f=t[l],d=e.dontCallGetSet?(h=i(r,l))&&h.value:r[l],!c(v?l:p+(g?".":"#")+l,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;u(f,d)}(e.sham||d&&d.sham)&&a(f,"sham",!0),o(r,l,f,e)}}},66111:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},88635:function(e,t,r){"use strict";r(4541);var n=r(69050),i=r(63609),a=r(75493),o=r(66111),s=r(75508),u=r(87454),c=s("species"),l=RegExp.prototype;e.exports=function(e,t,r,d){var f=s(e),h=!o((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),p=h&&!o((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return t=!0,null},r[f](""),!t}));if(!h||!p||r){var v=n(/./[f]),g=t(f,""[e],(function(e,t,r,i,o){var s=n(e),u=t.exec;return u===a||u===l.exec?h&&!o?{done:!0,value:v(t,r,i)}:{done:!0,value:s(r,t,i)}:{done:!1}}));i(String.prototype,e,g[0]),i(l,f,g[1])}d&&u(l[f],"sham",!0)}},58504:function(e,t,r){"use strict";var n=r(38162),i=r(76425),a=r(60895),o=r(25852);e.exports=function e(t,r,s,u,c,l,d,f){for(var h,p=c,v=0,g=!!d&&o(d,f);v<u;)v in s&&(h=g?g(s[v],v,r):s[v],l>0&&n(h)?p=e(t,r,h,i(h),p,l-1)-1:(a(p+1),t[p]=h),p++),v++;return p}},31561:function(e,t,r){"use strict";var n=r(66111);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},12256:function(e,t,r){"use strict";var n=r(55830),i=Function.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(a):function(){return o.apply(a,arguments)})},25852:function(e,t,r){"use strict";var n=r(69050),i=r(68973),a=r(55830),o=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},55830:function(e,t,r){"use strict";var n=r(66111);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},5268:function(e,t,r){"use strict";var n=r(34534),i=r(68973),a=r(34965),o=r(78320),s=r(51346),u=r(55830),c=Function,l=n([].concat),d=n([].join),f={};e.exports=u?c.bind:function(e){var t=i(this),r=t.prototype,n=s(arguments,1),u=function(){var r=l(n,s(arguments));return this instanceof u?function(e,t,r){if(!o(f,t)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";f[t]=c("C,a","return new C("+d(n,",")+")")}return f[t](e,r)}(t,r.length,r):t.apply(e,r)};return a(r)&&(u.prototype=r),u}},37892:function(e,t,r){"use strict";var n=r(55830),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},21774:function(e,t,r){"use strict";var n=r(37420),i=r(78320),a=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,s=i(a,"name"),u=s&&"something"===function(){}.name,c=s&&(!n||n&&o(a,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},24085:function(e,t,r){"use strict";var n=r(34534),i=r(68973);e.exports=function(e,t,r){try{return n(i(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(a){}}},69050:function(e,t,r){"use strict";var n=r(73135),i=r(34534);e.exports=function(e){if("Function"===n(e))return i(e)}},34534:function(e,t,r){"use strict";var n=r(55830),i=Function.prototype,a=i.call,o=n&&i.bind.bind(a,a);e.exports=n?o:function(e){return function(){return a.apply(e,arguments)}}},66780:function(e,t,r){"use strict";var n=r(19782),i=r(30171);e.exports=function(e,t){return arguments.length<2?(r=n[e],i(r)?r:void 0):n[e]&&n[e][t];var r}},84284:function(e,t,r){"use strict";var n=r(5249),i=r(62135),a=r(90486),o=r(55706),s=r(75508)("iterator");e.exports=function(e){if(!a(e))return i(e,s)||i(e,"@@iterator")||o[n(e)]}},68029:function(e,t,r){"use strict";var n=r(37892),i=r(68973),a=r(59799),o=r(5065),s=r(84284),u=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(i(r))return a(n(r,e));throw u(o(e)+" is not iterable")}},17650:function(e,t,r){"use strict";var n=r(34534),i=r(38162),a=r(30171),o=r(73135),s=r(55217),u=n([].push);e.exports=function(e){if(a(e))return e;if(i(e)){for(var t=e.length,r=[],n=0;n<t;n++){var c=e[n];"string"==typeof c?u(r,c):"number"!=typeof c&&"Number"!=o(c)&&"String"!=o(c)||u(r,s(c))}var l=r.length,d=!0;return function(e,t){if(d)return d=!1,t;if(i(this))return t;for(var n=0;n<l;n++)if(r[n]===e)return t}}}},62135:function(e,t,r){"use strict";var n=r(68973),i=r(90486);e.exports=function(e,t){var r=e[t];return i(r)?void 0:n(r)}},24527:function(e,t,r){"use strict";var n=r(34534),i=r(11446),a=Math.floor,o=n("".charAt),s=n("".replace),u=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,d,f){var h=r+e.length,p=n.length,v=l;return void 0!==d&&(d=i(d),v=c),s(f,v,(function(i,s){var c;switch(o(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,r);case"'":return u(t,h);case"<":c=d[u(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>p){var f=a(l/10);return 0===f?i:f<=p?void 0===n[f-1]?o(s,1):n[f-1]+o(s,1):i}c=n[l-1]}return void 0===c?"":c}))}},19782:function(e,t,r){"use strict";var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||this||Function("return this")()},78320:function(e,t,r){"use strict";var n=r(34534),i=r(11446),a=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},52819:function(e){"use strict";e.exports={}},81628:function(e){"use strict";e.exports=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(r){}}},4836:function(e,t,r){"use strict";var n=r(66780);e.exports=n("document","documentElement")},53373:function(e,t,r){"use strict";var n=r(37420),i=r(66111),a=r(20916);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},44221:function(e){"use strict";var t=Array,r=Math.abs,n=Math.pow,i=Math.floor,a=Math.log,o=Math.LN2;e.exports={pack:function(e,s,u){var c,l,d,f=t(u),h=8*u-s-1,p=(1<<h)-1,v=p>>1,g=23===s?n(2,-24)-n(2,-77):0,m=e<0||0===e&&1/e<0?1:0,y=0;for((e=r(e))!=e||e===1/0?(l=e!=e?1:0,c=p):(c=i(a(e)/o),e*(d=n(2,-c))<1&&(c--,d*=2),(e+=c+v>=1?g/d:g*n(2,1-v))*d>=2&&(c++,d/=2),c+v>=p?(l=0,c=p):c+v>=1?(l=(e*d-1)*n(2,s),c+=v):(l=e*n(2,v-1)*n(2,s),c=0));s>=8;)f[y++]=255&l,l/=256,s-=8;for(c=c<<s|l,h+=s;h>0;)f[y++]=255&c,c/=256,h-=8;return f[--y]|=128*m,f},unpack:function(e,t){var r,i=e.length,a=8*i-t-1,o=(1<<a)-1,s=o>>1,u=a-7,c=i-1,l=e[c--],d=127&l;for(l>>=7;u>0;)d=256*d+e[c--],u-=8;for(r=d&(1<<-u)-1,d>>=-u,u+=t;u>0;)r=256*r+e[c--],u-=8;if(0===d)d=1-s;else{if(d===o)return r?NaN:l?-1/0:1/0;r+=n(2,t),d-=s}return(l?-1:1)*r*n(2,d-t)}}},70769:function(e,t,r){"use strict";var n=r(34534),i=r(66111),a=r(73135),o=Object,s=n("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?s(e,""):o(e)}:o},2142:function(e,t,r){"use strict";var n=r(30171),i=r(34965),a=r(32695);e.exports=function(e,t,r){var o,s;return a&&n(o=t.constructor)&&o!==r&&i(s=o.prototype)&&s!==r.prototype&&a(e,s),e}},50112:function(e,t,r){"use strict";var n=r(34534),i=r(30171),a=r(58749),o=n(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},36781:function(e,t,r){"use strict";var n=r(73587),i=r(34534),a=r(52819),o=r(34965),s=r(78320),u=r(81684).f,c=r(59814),l=r(64350),d=r(61481),f=r(39020),h=r(31561),p=!1,v=f("meta"),g=0,m=function(e){u(e,v,{value:{objectID:"O"+g++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},p=!0;var e=c.f,t=i([].splice),r={};r[v]=1,e(r).length&&(c.f=function(r){for(var n=e(r),i=0,a=n.length;i<a;i++)if(n[i]===v){t(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,v)){if(!d(e))return"F";if(!t)return"E";m(e)}return e[v].objectID},getWeakData:function(e,t){if(!s(e,v)){if(!d(e))return!0;if(!t)return!1;m(e)}return e[v].weakData},onFreeze:function(e){return h&&p&&d(e)&&!s(e,v)&&m(e),e}};a[v]=!0},25313:function(e,t,r){"use strict";var n,i,a,o=r(6626),s=r(19782),u=r(34965),c=r(87454),l=r(78320),d=r(58749),f=r(59325),h=r(52819),p="Object already initialized",v=s.TypeError,g=s.WeakMap;if(o||d.state){var m=d.state||(d.state=new g);m.get=m.get,m.has=m.has,m.set=m.set,n=function(e,t){if(m.has(e))throw v(p);return t.facade=e,m.set(e,t),t},i=function(e){return m.get(e)||{}},a=function(e){return m.has(e)}}else{var y=f("state");h[y]=!0,n=function(e,t){if(l(e,y))throw v(p);return t.facade=e,c(e,y,t),t},i=function(e){return l(e,y)?e[y]:{}},a=function(e){return l(e,y)}}e.exports={set:n,get:i,has:a,enforce:function(e){return a(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=i(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return r}}}},77487:function(e,t,r){"use strict";var n=r(75508),i=r(55706),a=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},38162:function(e,t,r){"use strict";var n=r(73135);e.exports=Array.isArray||function(e){return"Array"==n(e)}},96058:function(e,t,r){"use strict";var n=r(5249);e.exports=function(e){var t=n(e);return"BigInt64Array"==t||"BigUint64Array"==t}},30171:function(e,t,r){"use strict";var n=r(64620),i=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},73011:function(e,t,r){"use strict";var n=r(34534),i=r(66111),a=r(30171),o=r(5249),s=r(66780),u=r(50112),c=function(){},l=[],d=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,h=n(f.exec),p=!f.exec(c),v=function(e){if(!a(e))return!1;try{return d(c,l,e),!0}catch(t){return!1}},g=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!h(f,u(e))}catch(t){return!0}};g.sham=!0,e.exports=!d||i((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?g:v},70626:function(e,t,r){"use strict";var n=r(78320);e.exports=function(e){return void 0!==e&&(n(e,"value")||n(e,"writable"))}},79492:function(e,t,r){"use strict";var n=r(66111),i=r(30171),a=/#|\.prototype\./,o=function(e,t){var r=u[s(e)];return r==l||r!=c&&(i(t)?n(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},u=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},58186:function(e,t,r){"use strict";var n=r(34965),i=Math.floor;e.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&i(e)===e}},90486:function(e){"use strict";e.exports=function(e){return null===e||void 0===e}},34965:function(e,t,r){"use strict";var n=r(30171),i=r(64620),a=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===a}:function(e){return"object"==typeof e?null!==e:n(e)}},42192:function(e){"use strict";e.exports=!1},22872:function(e,t,r){"use strict";var n=r(34965),i=r(73135),a=r(75508)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},64196:function(e,t,r){"use strict";var n=r(66780),i=r(30171),a=r(81778),o=r(95398),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&a(t.prototype,s(e))}},81413:function(e,t,r){"use strict";var n=r(25852),i=r(37892),a=r(59799),o=r(5065),s=r(77487),u=r(76425),c=r(81778),l=r(68029),d=r(84284),f=r(78300),h=TypeError,p=function(e,t){this.stopped=e,this.result=t},v=p.prototype;e.exports=function(e,t,r){var g,m,y,b,S,E,x,w=r&&r.that,k=!(!r||!r.AS_ENTRIES),_=!(!r||!r.IS_RECORD),T=!(!r||!r.IS_ITERATOR),A=!(!r||!r.INTERRUPTED),C=n(t,w),P=function(e){return g&&f(g,"normal",e),new p(!0,e)},I=function(e){return k?(a(e),A?C(e[0],e[1],P):C(e[0],e[1])):A?C(e,P):C(e)};if(_)g=e.iterator;else if(T)g=e;else{if(!(m=d(e)))throw h(o(e)+" is not iterable");if(s(m)){for(y=0,b=u(e);b>y;y++)if((S=I(e[y]))&&c(v,S))return S;return new p(!1)}g=l(e,m)}for(E=_?e.next:g.next;!(x=i(E,g)).done;){try{S=I(x.value)}catch(O){f(g,"throw",O)}if("object"==typeof S&&S&&c(v,S))return S}return new p(!1)}},78300:function(e,t,r){"use strict";var n=r(37892),i=r(59799),a=r(62135);e.exports=function(e,t,r){var o,s;i(e);try{if(!(o=a(e,"return"))){if("throw"===t)throw r;return r}o=n(o,e)}catch(u){s=!0,o=u}if("throw"===t)throw r;if(s)throw o;return i(o),r}},82992:function(e,t,r){"use strict";var n=r(11647).IteratorPrototype,i=r(83302),a=r(80431),o=r(21117),s=r(55706),u=function(){return this};e.exports=function(e,t,r,c){var l=t+" Iterator";return e.prototype=i(n,{next:a(+!c,r)}),o(e,l,!1,!0),s[l]=u,e}},67432:function(e,t,r){"use strict";var n=r(73587),i=r(37892),a=r(42192),o=r(21774),s=r(30171),u=r(82992),c=r(7209),l=r(32695),d=r(21117),f=r(87454),h=r(63609),p=r(75508),v=r(55706),g=r(11647),m=o.PROPER,y=o.CONFIGURABLE,b=g.IteratorPrototype,S=g.BUGGY_SAFARI_ITERATORS,E=p("iterator"),x="keys",w="values",k="entries",_=function(){return this};e.exports=function(e,t,r,o,p,g,T){u(r,t,o);var A,C,P,I=function(e){if(e===p&&j)return j;if(!S&&e in N)return N[e];switch(e){case x:case w:case k:return function(){return new r(this,e)}}return function(){return new r(this)}},O=t+" Iterator",R=!1,N=e.prototype,L=N[E]||N["@@iterator"]||p&&N[p],j=!S&&L||I(p),M="Array"==t&&N.entries||L;if(M&&(A=c(M.call(new e)))!==Object.prototype&&A.next&&(a||c(A)===b||(l?l(A,b):s(A[E])||h(A,E,_)),d(A,O,!0,!0),a&&(v[O]=_)),m&&p==w&&L&&L.name!==w&&(!a&&y?f(N,"name",w):(R=!0,j=function(){return i(L,this)})),p)if(C={values:I(w),keys:g?j:I(x),entries:I(k)},T)for(P in C)(S||R||!(P in N))&&h(N,P,C[P]);else n({target:t,proto:!0,forced:S||R},C);return a&&!T||N[E]===j||h(N,E,j,{name:p}),v[t]=j,C}},11647:function(e,t,r){"use strict";var n,i,a,o=r(66111),s=r(30171),u=r(34965),c=r(83302),l=r(7209),d=r(63609),f=r(75508),h=r(42192),p=f("iterator"),v=!1;[].keys&&("next"in(a=[].keys())?(i=l(l(a)))!==Object.prototype&&(n=i):v=!0),!u(n)||o((function(){var e={};return n[p].call(e)!==e}))?n={}:h&&(n=c(n)),s(n[p])||d(n,p,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:v}},55706:function(e){"use strict";e.exports={}},76425:function(e,t,r){"use strict";var n=r(61234);e.exports=function(e){return n(e.length)}},18138:function(e,t,r){"use strict";var n=r(34534),i=r(66111),a=r(30171),o=r(78320),s=r(37420),u=r(21774).CONFIGURABLE,c=r(50112),l=r(25313),d=l.enforce,f=l.get,h=String,p=Object.defineProperty,v=n("".slice),g=n("".replace),m=n([].join),y=s&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),b=String(String).split("String"),S=e.exports=function(e,t,r){"Symbol("===v(h(t),0,7)&&(t="["+g(h(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!o(e,"name")||u&&e.name!==t)&&(s?p(e,"name",{value:t,configurable:!0}):e.name=t),y&&r&&o(r,"arity")&&e.length!==r.arity&&p(e,"length",{value:r.arity});try{r&&o(r,"constructor")&&r.constructor?s&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var n=d(e);return o(n,"source")||(n.source=m(b,"string"==typeof t?t:"")),e};Function.prototype.toString=S((function(){return a(this)&&f(this).source||c(this)}),"toString")},19898:function(e){"use strict";var t=Math.expm1,r=Math.exp;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){var t=+e;return 0==t?t:t>-1e-6&&t<1e-6?t+t*t/2:r(t)-1}:t},32319:function(e,t,r){"use strict";var n=r(49093),i=Math.abs,a=Math.pow,o=a(2,-52),s=a(2,-23),u=a(2,127)*(2-s),c=a(2,-126);e.exports=Math.fround||function(e){var t,r,a=+e,l=i(a),d=n(a);return l<c?d*function(e){return e+1/o-1/o}(l/c/s)*c*s:(r=(t=(1+s/o)*l)-(t-l))>u||r!=r?d*(1/0):d*r}},53521:function(e){"use strict";var t=Math.log,r=Math.LOG10E;e.exports=Math.log10||function(e){return t(e)*r}},26702:function(e){"use strict";var t=Math.log;e.exports=Math.log1p||function(e){var r=+e;return r>-1e-8&&r<1e-8?r-r*r/2:t(1+r)}},49093:function(e){"use strict";e.exports=Math.sign||function(e){var t=+e;return 0==t||t!=t?t:t<0?-1:1}},70596:function(e){"use strict";var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},20209:function(e,t,r){"use strict";var n,i,a,o,s,u=r(19782),c=r(25852),l=r(82530).f,d=r(11092).set,f=r(96055),h=r(98716),p=r(37290),v=r(25053),g=r(70520),m=u.MutationObserver||u.WebKitMutationObserver,y=u.document,b=u.process,S=u.Promise,E=l(u,"queueMicrotask"),x=E&&E.value;if(!x){var w=new f,k=function(){var e,t;for(g&&(e=b.domain)&&e.exit();t=w.get();)try{t()}catch(r){throw w.head&&n(),r}e&&e.enter()};h||g||v||!m||!y?!p&&S&&S.resolve?((o=S.resolve(void 0)).constructor=S,s=c(o.then,o),n=function(){s(k)}):g?n=function(){b.nextTick(k)}:(d=c(d,u),n=function(){d(k)}):(i=!0,a=y.createTextNode(""),new m(k).observe(a,{characterData:!0}),n=function(){a.data=i=!i}),x=function(e){w.head||n(),w.add(e)}}e.exports=x},54249:function(e,t,r){"use strict";var n=r(68973),i=TypeError,a=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw i("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new a(e)}},63522:function(e,t,r){"use strict";var n=r(22872),i=TypeError;e.exports=function(e){if(n(e))throw i("The method doesn't accept regular expressions");return e}},96048:function(e,t,r){"use strict";var n=r(19782),i=r(66111),a=r(34534),o=r(55217),s=r(58119).trim,u=r(31136),c=a("".charAt),l=n.parseFloat,d=n.Symbol,f=d&&d.iterator,h=1/l(u+"-0")!==-1/0||f&&!i((function(){l(Object(f))}));e.exports=h?function(e){var t=s(o(e)),r=l(t);return 0===r&&"-"==c(t,0)?-0:r}:l},39232:function(e,t,r){"use strict";var n=r(19782),i=r(66111),a=r(34534),o=r(55217),s=r(58119).trim,u=r(31136),c=n.parseInt,l=n.Symbol,d=l&&l.iterator,f=/^[+-]?0x/i,h=a(f.exec),p=8!==c(u+"08")||22!==c(u+"0x16")||d&&!i((function(){c(Object(d))}));e.exports=p?function(e,t){var r=s(o(e));return c(r,t>>>0||(h(f,r)?16:10))}:c},85698:function(e,t,r){"use strict";var n=r(37420),i=r(34534),a=r(37892),o=r(66111),s=r(11467),u=r(51186),c=r(23509),l=r(11446),d=r(70769),f=Object.assign,h=Object.defineProperty,p=i([].concat);e.exports=!f||o((function(){if(n&&1!==f({b:1},f(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach((function(e){t[e]=e})),7!=f({},e)[r]||s(f({},t)).join("")!=i}))?function(e,t){for(var r=l(e),i=arguments.length,o=1,f=u.f,h=c.f;i>o;)for(var v,g=d(arguments[o++]),m=f?p(s(g),f(g)):s(g),y=m.length,b=0;y>b;)v=m[b++],n&&!a(h,g,v)||(r[v]=g[v]);return r}:f},83302:function(e,t,r){"use strict";var n,i=r(59799),a=r(3415),o=r(28605),s=r(52819),u=r(4836),c=r(20916),l=r(59325),d="prototype",f="script",h=l("IE_PROTO"),p=function(){},v=function(e){return"<"+f+">"+e+"</"+f+">"},g=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}m="undefined"!=typeof document?document.domain&&n?g(n):function(){var e,t=c("iframe"),r="java"+f+":";return t.style.display="none",u.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(v("document.F=Object")),e.close(),e.F}():g(n);for(var e=o.length;e--;)delete m[d][o[e]];return m()};s[h]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(p[d]=i(e),r=new p,p[d]=null,r[h]=e):r=m(),void 0===t?r:a.f(r,t)}},3415:function(e,t,r){"use strict";var n=r(37420),i=r(83526),a=r(81684),o=r(59799),s=r(76494),u=r(11467);t.f=n&&!i?Object.defineProperties:function(e,t){o(e);for(var r,n=s(t),i=u(t),c=i.length,l=0;c>l;)a.f(e,r=i[l++],n[r]);return e}},81684:function(e,t,r){"use strict";var n=r(37420),i=r(53373),a=r(83526),o=r(59799),s=r(44560),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",h="writable";t.f=n?a?function(e,t,r){if(o(e),t=s(t),o(r),"function"===typeof e&&"prototype"===t&&"value"in r&&h in r&&!r[h]){var n=l(e,t);n&&n[h]&&(e[t]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:d in r?r[d]:n[d],writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(o(e),t=s(t),o(r),i)try{return c(e,t,r)}catch(n){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},82530:function(e,t,r){"use strict";var n=r(37420),i=r(37892),a=r(23509),o=r(80431),s=r(76494),u=r(44560),c=r(78320),l=r(53373),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=s(e),t=u(t),l)try{return d(e,t)}catch(r){}if(c(e,t))return o(!i(a.f,e,t),e[t])}},64350:function(e,t,r){"use strict";var n=r(73135),i=r(76494),a=r(59814).f,o=r(92914),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==n(e)?function(e){try{return a(e)}catch(t){return o(s)}}(e):a(i(e))}},59814:function(e,t,r){"use strict";var n=r(96945),i=r(28605).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},51186:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},7209:function(e,t,r){"use strict";var n=r(78320),i=r(30171),a=r(11446),o=r(59325),s=r(97610),u=o("IE_PROTO"),c=Object,l=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=a(e);if(n(t,u))return t[u];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof c?l:null}},61481:function(e,t,r){"use strict";var n=r(66111),i=r(34965),a=r(73135),o=r(9603),s=Object.isExtensible,u=n((function(){s(1)}));e.exports=u||o?function(e){return!!i(e)&&((!o||"ArrayBuffer"!=a(e))&&(!s||s(e)))}:s},81778:function(e,t,r){"use strict";var n=r(34534);e.exports=n({}.isPrototypeOf)},96945:function(e,t,r){"use strict";var n=r(34534),i=r(78320),a=r(76494),o=r(49821).indexOf,s=r(52819),u=n([].push);e.exports=function(e,t){var r,n=a(e),c=0,l=[];for(r in n)!i(s,r)&&i(n,r)&&u(l,r);for(;t.length>c;)i(n,r=t[c++])&&(~o(l,r)||u(l,r));return l}},11467:function(e,t,r){"use strict";var n=r(96945),i=r(28605);e.exports=Object.keys||function(e){return n(e,i)}},23509:function(e,t){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},86854:function(e,t,r){"use strict";var n=r(42192),i=r(19782),a=r(66111),o=r(35199);e.exports=n||!a((function(){if(!(o&&o<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete i[e]}}))},32695:function(e,t,r){"use strict";var n=r(24085),i=r(59799),a=r(74375);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(o){}return function(r,n){return i(r),a(n),t?e(r,n):r.__proto__=n,r}}():void 0)},31525:function(e,t,r){"use strict";var n=r(37420),i=r(66111),a=r(34534),o=r(7209),s=r(11467),u=r(76494),c=a(r(23509).f),l=a([].push),d=n&&i((function(){var e=Object.create(null);return e[2]=2,!c(e,2)})),f=function(e){return function(t){for(var r,i=u(t),a=s(i),f=d&&null===o(i),h=a.length,p=0,v=[];h>p;)r=a[p++],n&&!(f?r in i:c(i,r))||l(v,e?[r,i[r]]:i[r]);return v}};e.exports={entries:f(!0),values:f(!1)}},83685:function(e,t,r){"use strict";var n=r(32105),i=r(5249);e.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},83131:function(e,t,r){"use strict";var n=r(37892),i=r(30171),a=r(34965),o=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&i(r=e.toString)&&!a(s=n(r,e)))return s;if(i(r=e.valueOf)&&!a(s=n(r,e)))return s;if("string"!==t&&i(r=e.toString)&&!a(s=n(r,e)))return s;throw o("Can't convert object to primitive value")}},20412:function(e,t,r){"use strict";var n=r(66780),i=r(34534),a=r(59814),o=r(51186),s=r(59799),u=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(s(e)),r=o.f;return r?u(t,r(e)):t}},30306:function(e,t,r){"use strict";var n=r(19782);e.exports=n},74750:function(e){"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},30855:function(e,t,r){"use strict";var n=r(19782),i=r(88773),a=r(30171),o=r(79492),s=r(50112),u=r(75508),c=r(32599),l=r(43716),d=r(42192),f=r(32504),h=i&&i.prototype,p=u("species"),v=!1,g=a(n.PromiseRejectionEvent),m=o("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===f)return!0;if(d&&(!h.catch||!h.finally))return!0;if(!f||f<51||!/native code/.test(e)){var r=new i((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((r.constructor={})[p]=n,!(v=r.then((function(){}))instanceof n))return!0}return!t&&(c||l)&&!g}));e.exports={CONSTRUCTOR:m,REJECTION_EVENT:g,SUBCLASSING:v}},88773:function(e,t,r){"use strict";var n=r(19782);e.exports=n.Promise},44270:function(e,t,r){"use strict";var n=r(59799),i=r(34965),a=r(54249);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},24310:function(e,t,r){"use strict";var n=r(88773),i=r(21784),a=r(30855).CONSTRUCTOR;e.exports=a||!i((function(e){n.all(e).then(void 0,(function(){}))}))},23966:function(e,t,r){"use strict";var n=r(81684).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},96055:function(e){"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},82279:function(e,t,r){"use strict";var n=r(37892),i=r(59799),a=r(30171),o=r(73135),s=r(75493),u=TypeError;e.exports=function(e,t){var r=e.exec;if(a(r)){var c=n(r,e,t);return null!==c&&i(c),c}if("RegExp"===o(e))return n(s,e,t);throw u("RegExp#exec called on incompatible receiver")}},75493:function(e,t,r){"use strict";var n=r(37892),i=r(34534),a=r(55217),o=r(21537),s=r(4274),u=r(67193),c=r(83302),l=r(25313).get,d=r(68988),f=r(81748),h=u("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,v=p,g=i("".charAt),m=i("".indexOf),y=i("".replace),b=i("".slice),S=function(){var e=/a/,t=/b*/g;return n(p,e,"a"),n(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),E=s.BROKEN_CARET,x=void 0!==/()??/.exec("")[1];(S||x||E||d||f)&&(v=function(e){var t,r,i,s,u,d,f,w=this,k=l(w),_=a(e),T=k.raw;if(T)return T.lastIndex=w.lastIndex,t=n(v,T,_),w.lastIndex=T.lastIndex,t;var A=k.groups,C=E&&w.sticky,P=n(o,w),I=w.source,O=0,R=_;if(C&&(P=y(P,"y",""),-1===m(P,"g")&&(P+="g"),R=b(_,w.lastIndex),w.lastIndex>0&&(!w.multiline||w.multiline&&"\n"!==g(_,w.lastIndex-1))&&(I="(?: "+I+")",R=" "+R,O++),r=new RegExp("^(?:"+I+")",P)),x&&(r=new RegExp("^"+I+"$(?!\\s)",P)),S&&(i=w.lastIndex),s=n(p,C?r:w,R),C?s?(s.input=b(s.input,O),s[0]=b(s[0],O),s.index=w.lastIndex,w.lastIndex+=s[0].length):w.lastIndex=0:S&&s&&(w.lastIndex=w.global?s.index+s[0].length:i),x&&s&&s.length>1&&n(h,s[0],r,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s&&A)for(s.groups=d=c(null),u=0;u<A.length;u++)d[(f=A[u])[0]]=s[f[1]];return s}),e.exports=v},21537:function(e,t,r){"use strict";var n=r(59799);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},5294:function(e,t,r){"use strict";var n=r(37892),i=r(78320),a=r(81778),o=r(21537),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!a(s,e)?t:n(o,e)}},4274:function(e,t,r){"use strict";var n=r(66111),i=r(19782).RegExp,a=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),o=a||n((function(){return!i("a","y").sticky})),s=a||n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:o,UNSUPPORTED_Y:a}},68988:function(e,t,r){"use strict";var n=r(66111),i=r(19782).RegExp;e.exports=n((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},81748:function(e,t,r){"use strict";var n=r(66111),i=r(19782).RegExp;e.exports=n((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},9629:function(e,t,r){"use strict";var n=r(90486),i=TypeError;e.exports=function(e){if(n(e))throw i("Can't call method on "+e);return e}},58698:function(e){"use strict";e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},55502:function(e,t,r){"use strict";var n=r(19782),i=r(12256),a=r(30171),o=r(37658),s=r(64771),u=r(51346),c=r(24050),l=n.Function,d=/MSIE .\./.test(s)||o&&function(){var e=n.Bun.version.split(".");return e.length<3||0==e[0]&&(e[1]<3||3==e[1]&&0==e[2])}();e.exports=function(e,t){var r=t?2:1;return d?function(n,o){var s=c(arguments.length,1)>r,d=a(n)?n:l(n),f=s?u(arguments,r):[],h=s?function(){i(d,this,f)}:d;return t?e(h,o):e(h)}:e}},8965:function(e,t,r){"use strict";var n=r(66780),i=r(18787),a=r(75508),o=r(37420),s=a("species");e.exports=function(e){var t=n(e);o&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},21117:function(e,t,r){"use strict";var n=r(81684).f,i=r(78320),a=r(75508)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!i(e,a)&&n(e,a,{configurable:!0,value:t})}},59325:function(e,t,r){"use strict";var n=r(67193),i=r(39020),a=n("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},58749:function(e,t,r){"use strict";var n=r(19782),i=r(92164),a="__core-js_shared__",o=n[a]||i(a,{});e.exports=o},67193:function(e,t,r){"use strict";var n=r(42192),i=r(58749);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.32.0",mode:n?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.0/LICENSE",source:"https://github.com/zloirock/core-js"})},4724:function(e,t,r){"use strict";var n=r(59799),i=r(68458),a=r(90486),o=r(75508)("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||a(r=n(s)[o])?t:i(r)}},19838:function(e,t,r){"use strict";var n=r(34534),i=r(56501),a=r(55217),o=r(9629),s=n("".charAt),u=n("".charCodeAt),c=n("".slice),l=function(e){return function(t,r){var n,l,d=a(o(t)),f=i(r),h=d.length;return f<0||f>=h?e?"":void 0:(n=u(d,f))<55296||n>56319||f+1===h||(l=u(d,f+1))<56320||l>57343?e?s(d,f):n:e?c(d,f,f+2):l-56320+(n-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},54686:function(e,t,r){"use strict";var n=r(64771);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},91894:function(e,t,r){"use strict";var n=r(34534),i=r(61234),a=r(55217),o=r(76930),s=r(9629),u=n(o),c=n("".slice),l=Math.ceil,d=function(e){return function(t,r,n){var o,d,f=a(s(t)),h=i(r),p=f.length,v=void 0===n?" ":a(n);return h<=p||""==v?f:((d=u(v,l((o=h-p)/v.length))).length>o&&(d=c(d,0,o)),e?f+d:d+f)}};e.exports={start:d(!1),end:d(!0)}},34148:function(e,t,r){"use strict";var n=r(34534),i=2147483647,a=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",u=RangeError,c=n(o.exec),l=Math.floor,d=String.fromCharCode,f=n("".charCodeAt),h=n([].join),p=n([].push),v=n("".replace),g=n("".split),m=n("".toLowerCase),y=function(e){return e+22+75*(e<26)},b=function(e,t,r){var n=0;for(e=r?l(e/700):e>>1,e+=l(e/t);e>455;)e=l(e/35),n+=36;return l(n+36*e/(e+38))},S=function(e){var t=[];e=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=f(e,r++);if(i>=55296&&i<=56319&&r<n){var a=f(e,r++);56320==(64512&a)?p(t,((1023&i)<<10)+(1023&a)+65536):(p(t,i),r--)}else p(t,i)}return t}(e);var r,n,a=e.length,o=128,c=0,v=72;for(r=0;r<e.length;r++)(n=e[r])<128&&p(t,d(n));var g=t.length,m=g;for(g&&p(t,"-");m<a;){var S=i;for(r=0;r<e.length;r++)(n=e[r])>=o&&n<S&&(S=n);var E=m+1;if(S-o>l((i-c)/E))throw u(s);for(c+=(S-o)*E,o=S,r=0;r<e.length;r++){if((n=e[r])<o&&++c>i)throw u(s);if(n==o){for(var x=c,w=36;;){var k=w<=v?1:w>=v+26?26:w-v;if(x<k)break;var _=x-k,T=36-k;p(t,d(y(k+_%T))),x=l(_/T),w+=36}p(t,d(y(x))),v=b(c,E,m==g),c=0,m++}}c++,o++}return h(t,"")};e.exports=function(e){var t,r,n=[],i=g(v(m(e),o,"."),".");for(t=0;t<i.length;t++)r=i[t],p(n,c(a,r)?"xn--"+S(r):r);return h(n,".")}},76930:function(e,t,r){"use strict";var n=r(56501),i=r(55217),a=r(9629),o=RangeError;e.exports=function(e){var t=i(a(this)),r="",s=n(e);if(s<0||s==1/0)throw o("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(r+=t);return r}},2800:function(e,t,r){"use strict";var n=r(58119).end,i=r(40473);e.exports=i("trimEnd")?function(){return n(this)}:"".trimEnd},40473:function(e,t,r){"use strict";var n=r(21774).PROPER,i=r(66111),a=r(31136);e.exports=function(e){return i((function(){return!!a[e]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[e]()||n&&a[e].name!==e}))}},19417:function(e,t,r){"use strict";var n=r(58119).start,i=r(40473);e.exports=i("trimStart")?function(){return n(this)}:"".trimStart},58119:function(e,t,r){"use strict";var n=r(34534),i=r(9629),a=r(55217),o=r(31136),s=n("".replace),u=RegExp("^["+o+"]+"),c=RegExp("(^|[^"+o+"])["+o+"]+$"),l=function(e){return function(t){var r=a(i(t));return 1&e&&(r=s(r,u,"")),2&e&&(r=s(r,c,"$1")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},33969:function(e,t,r){"use strict";var n=r(32504),i=r(66111),a=r(19782).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},31043:function(e,t,r){"use strict";var n=r(37892),i=r(66780),a=r(75508),o=r(63609);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,s=a("toPrimitive");t&&!t[s]&&o(t,s,(function(e){return n(r,this)}),{arity:1})}},49571:function(e,t,r){"use strict";var n=r(33969);e.exports=n&&!!Symbol.for&&!!Symbol.keyFor},11092:function(e,t,r){"use strict";var n,i,a,o,s=r(19782),u=r(12256),c=r(25852),l=r(30171),d=r(78320),f=r(66111),h=r(4836),p=r(51346),v=r(20916),g=r(24050),m=r(98716),y=r(70520),b=s.setImmediate,S=s.clearImmediate,E=s.process,x=s.Dispatch,w=s.Function,k=s.MessageChannel,_=s.String,T=0,A={},C="onreadystatechange";f((function(){n=s.location}));var P=function(e){if(d(A,e)){var t=A[e];delete A[e],t()}},I=function(e){return function(){P(e)}},O=function(e){P(e.data)},R=function(e){s.postMessage(_(e),n.protocol+"//"+n.host)};b&&S||(b=function(e){g(arguments.length,1);var t=l(e)?e:w(e),r=p(arguments,1);return A[++T]=function(){u(t,void 0,r)},i(T),T},S=function(e){delete A[e]},y?i=function(e){E.nextTick(I(e))}:x&&x.now?i=function(e){x.now(I(e))}:k&&!m?(o=(a=new k).port2,a.port1.onmessage=O,i=c(o.postMessage,o)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!f(R)?(i=R,s.addEventListener("message",O,!1)):i=C in v("script")?function(e){h.appendChild(v("script"))[C]=function(){h.removeChild(this),P(e)}}:function(e){setTimeout(I(e),0)}),e.exports={set:b,clear:S}},29301:function(e,t,r){"use strict";var n=r(34534);e.exports=n(1..valueOf)},53864:function(e,t,r){"use strict";var n=r(56501),i=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):a(r,t)}},76654:function(e,t,r){"use strict";var n=r(63086),i=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw i("Can't convert number to bigint");return BigInt(t)}},35761:function(e,t,r){"use strict";var n=r(56501),i=r(61234),a=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw a("Wrong length or index");return r}},76494:function(e,t,r){"use strict";var n=r(70769),i=r(9629);e.exports=function(e){return n(i(e))}},56501:function(e,t,r){"use strict";var n=r(70596);e.exports=function(e){var t=+e;return t!==t||0===t?0:n(t)}},61234:function(e,t,r){"use strict";var n=r(56501),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},11446:function(e,t,r){"use strict";var n=r(9629),i=Object;e.exports=function(e){return i(n(e))}},67840:function(e,t,r){"use strict";var n=r(91275),i=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw i("Wrong offset");return r}},91275:function(e,t,r){"use strict";var n=r(56501),i=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw i("The argument can't be less than 0");return t}},63086:function(e,t,r){"use strict";var n=r(37892),i=r(34965),a=r(64196),o=r(62135),s=r(83131),u=r(75508),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var r,u=o(e,l);if(u){if(void 0===t&&(t="default"),r=n(u,e,t),!i(r)||a(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},44560:function(e,t,r){"use strict";var n=r(63086),i=r(64196);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},32105:function(e,t,r){"use strict";var n={};n[r(75508)("toStringTag")]="z",e.exports="[object z]"===String(n)},55217:function(e,t,r){"use strict";var n=r(5249),i=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},19143:function(e){"use strict";var t=Math.round;e.exports=function(e){var r=t(e);return r<0?0:r>255?255:255&r}},5065:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(r){return"Object"}}},4070:function(e,t,r){"use strict";var n=r(73587),i=r(19782),a=r(37892),o=r(37420),s=r(8630),u=r(80049),c=r(62403),l=r(35793),d=r(80431),f=r(87454),h=r(58186),p=r(61234),v=r(35761),g=r(67840),m=r(19143),y=r(44560),b=r(78320),S=r(5249),E=r(34965),x=r(64196),w=r(83302),k=r(81778),_=r(32695),T=r(59814).f,A=r(13753),C=r(79056).forEach,P=r(8965),I=r(18787),O=r(81684),R=r(82530),N=r(25313),L=r(2142),j=N.get,M=N.set,D=N.enforce,F=O.f,U=R.f,B=i.RangeError,G=c.ArrayBuffer,V=G.prototype,H=c.DataView,W=u.NATIVE_ARRAY_BUFFER_VIEWS,q=u.TYPED_ARRAY_TAG,z=u.TypedArray,Y=u.TypedArrayPrototype,X=u.aTypedArrayConstructor,K=u.isTypedArray,J="BYTES_PER_ELEMENT",Z="Wrong length",Q=function(e,t){X(e);for(var r=0,n=t.length,i=new e(n);n>r;)i[r]=t[r++];return i},$=function(e,t){I(e,t,{configurable:!0,get:function(){return j(this)[t]}})},ee=function(e){var t;return k(V,e)||"ArrayBuffer"==(t=S(e))||"SharedArrayBuffer"==t},te=function(e,t){return K(e)&&!x(t)&&t in e&&h(+t)&&t>=0},re=function(e,t){return t=y(t),te(e,t)?d(2,e[t]):U(e,t)},ne=function(e,t,r){return t=y(t),!(te(e,t)&&E(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?F(e,t,r):(e[t]=r.value,e)};o?(W||(R.f=re,O.f=ne,$(Y,"buffer"),$(Y,"byteOffset"),$(Y,"byteLength"),$(Y,"length")),n({target:"Object",stat:!0,forced:!W},{getOwnPropertyDescriptor:re,defineProperty:ne}),e.exports=function(e,t,r){var o=e.match(/\d+/)[0]/8,u=e+(r?"Clamped":"")+"Array",c="get"+e,d="set"+e,h=i[u],y=h,b=y&&y.prototype,S={},x=function(e,t){F(e,t,{get:function(){return function(e,t){var r=j(e);return r.view[c](t*o+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var i=j(e);i.view[d](t*o+i.byteOffset,r?m(n):n,!0)}(this,t,e)},enumerable:!0})};W?s&&(y=t((function(e,t,r,n){return l(e,b),L(E(t)?ee(t)?void 0!==n?new h(t,g(r,o),n):void 0!==r?new h(t,g(r,o)):new h(t):K(t)?Q(y,t):a(A,y,t):new h(v(t)),e,y)})),_&&_(y,z),C(T(h),(function(e){e in y||f(y,e,h[e])})),y.prototype=b):(y=t((function(e,t,r,n){l(e,b);var i,s,u,c=0,d=0;if(E(t)){if(!ee(t))return K(t)?Q(y,t):a(A,y,t);i=t,d=g(r,o);var f=t.byteLength;if(void 0===n){if(f%o)throw B(Z);if((s=f-d)<0)throw B(Z)}else if((s=p(n)*o)+d>f)throw B(Z);u=s/o}else u=v(t),i=new G(s=u*o);for(M(e,{buffer:i,byteOffset:d,byteLength:s,length:u,view:new H(i)});c<u;)x(e,c++)})),_&&_(y,z),b=y.prototype=w(Y)),b.constructor!==y&&f(b,"constructor",y),D(b).TypedArrayConstructor=y,q&&f(b,q,u);var k=y!=h;S[u]=y,n({global:!0,constructor:!0,forced:k,sham:!W},S),J in y||f(y,J,o),J in b||f(b,J,o),P(u)}):e.exports=function(){}},8630:function(e,t,r){"use strict";var n=r(19782),i=r(66111),a=r(21784),o=r(80049).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,u=n.Int8Array;e.exports=!o||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!a((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},22392:function(e,t,r){"use strict";var n=r(45034),i=r(26386);e.exports=function(e,t){return n(i(e),t)}},13753:function(e,t,r){"use strict";var n=r(25852),i=r(37892),a=r(68458),o=r(11446),s=r(76425),u=r(68029),c=r(84284),l=r(77487),d=r(96058),f=r(80049).aTypedArrayConstructor,h=r(76654);e.exports=function(e){var t,r,p,v,g,m,y,b,S=a(this),E=o(e),x=arguments.length,w=x>1?arguments[1]:void 0,k=void 0!==w,_=c(E);if(_&&!l(_))for(b=(y=u(E,_)).next,E=[];!(m=i(b,y)).done;)E.push(m.value);for(k&&x>2&&(w=n(w,arguments[2])),r=s(E),p=new(f(S))(r),v=d(p),t=0;r>t;t++)g=k?w(E[t],t):E[t],p[t]=v?h(g):+g;return p}},26386:function(e,t,r){"use strict";var n=r(80049),i=r(4724),a=n.aTypedArrayConstructor,o=n.getTypedArrayConstructor;e.exports=function(e){return a(i(e,o(e)))}},39020:function(e,t,r){"use strict";var n=r(34534),i=0,a=Math.random(),o=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},63806:function(e,t,r){"use strict";var n=r(66111),i=r(75508),a=r(37420),o=r(42192),s=i("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),r.delete("a",2),r.delete("b",void 0),o&&(!e.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!t.size&&(o||!a)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},95398:function(e,t,r){"use strict";var n=r(33969);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},83526:function(e,t,r){"use strict";var n=r(37420),i=r(66111);e.exports=n&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},24050:function(e){"use strict";var t=TypeError;e.exports=function(e,r){if(e<r)throw t("Not enough arguments");return e}},6626:function(e,t,r){"use strict";var n=r(19782),i=r(30171),a=n.WeakMap;e.exports=i(a)&&/native code/.test(String(a))},58019:function(e,t,r){"use strict";var n=r(30306),i=r(78320),a=r(17659),o=r(81684).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},17659:function(e,t,r){"use strict";var n=r(75508);t.f=n},75508:function(e,t,r){"use strict";var n=r(19782),i=r(67193),a=r(78320),o=r(39020),s=r(33969),u=r(95398),c=n.Symbol,l=i("wks"),d=u?c.for||c:c&&c.withoutSetter||o;e.exports=function(e){return a(l,e)||(l[e]=s&&a(c,e)?c[e]:d("Symbol."+e)),l[e]}},31136:function(e){"use strict";e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},23017:function(e,t,r){"use strict";var n=r(73587),i=r(19782),a=r(62403),o=r(8965),s="ArrayBuffer",u=a[s];n({global:!0,constructor:!0,forced:i[s]!==u},{ArrayBuffer:u}),o(s)},67576:function(e,t,r){"use strict";var n=r(73587),i=r(80049);n({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},86425:function(e,t,r){"use strict";var n=r(73587),i=r(69050),a=r(66111),o=r(62403),s=r(59799),u=r(53864),c=r(61234),l=r(4724),d=o.ArrayBuffer,f=o.DataView,h=f.prototype,p=i(d.prototype.slice),v=i(h.getUint8),g=i(h.setUint8);n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:a((function(){return!new d(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(p&&void 0===t)return p(s(this),e);for(var r=s(this).byteLength,n=u(e,r),i=u(void 0===t?r:t,r),a=new(l(this,d))(c(i-n)),o=new f(this),h=new f(a),m=0;n<i;)g(h,m++,v(o,n++));return a}})},65025:function(e,t,r){"use strict";var n=r(73587),i=r(66111),a=r(38162),o=r(34965),s=r(11446),u=r(76425),c=r(60895),l=r(36072),d=r(41180),f=r(76205),h=r(75508),p=r(32504),v=h("isConcatSpreadable"),g=p>=51||!i((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),m=function(e){if(!o(e))return!1;var t=e[v];return void 0!==t?!!t:a(e)};n({target:"Array",proto:!0,arity:1,forced:!g||!f("concat")},{concat:function(e){var t,r,n,i,a,o=s(this),f=d(o,0),h=0;for(t=-1,n=arguments.length;t<n;t++)if(m(a=-1===t?o:arguments[t]))for(i=u(a),c(h+i),r=0;r<i;r++,h++)r in a&&l(f,h,a[r]);else c(h+1),l(f,h++,a);return f.length=h,f}})},88424:function(e,t,r){"use strict";var n=r(73587),i=r(88891),a=r(99363);n({target:"Array",proto:!0},{copyWithin:i}),a("copyWithin")},89824:function(e,t,r){"use strict";var n=r(73587),i=r(76206),a=r(99363);n({target:"Array",proto:!0},{fill:i}),a("fill")},6805:function(e,t,r){"use strict";var n=r(73587),i=r(79056).filter;n({target:"Array",proto:!0,forced:!r(76205)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},73990:function(e,t,r){"use strict";var n=r(73587),i=r(79056).findIndex,a=r(99363),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},50237:function(e,t,r){"use strict";var n=r(73587),i=r(79056).find,a=r(99363),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},99149:function(e,t,r){"use strict";var n=r(73587),i=r(58504),a=r(68973),o=r(11446),s=r(76425),u=r(41180);n({target:"Array",proto:!0},{flatMap:function(e){var t,r=o(this),n=s(r);return a(e),(t=u(r,0)).length=i(t,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},28442:function(e,t,r){"use strict";var n=r(73587),i=r(58504),a=r(11446),o=r(76425),s=r(56501),u=r(41180);n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),r=o(t),n=u(t,0);return n.length=i(n,t,t,r,0,void 0===e?1:s(e)),n}})},40798:function(e,t,r){"use strict";var n=r(73587),i=r(97509);n({target:"Array",stat:!0,forced:!r(21784)((function(e){Array.from(e)}))},{from:i})},75292:function(e,t,r){"use strict";var n=r(73587),i=r(49821).includes,a=r(66111),o=r(99363);n({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},33242:function(e,t,r){"use strict";var n=r(73587),i=r(69050),a=r(49821).indexOf,o=r(11689),s=i([].indexOf),u=!!s&&1/s([1],1,-0)<0;n({target:"Array",proto:!0,forced:u||!o("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return u?s(this,e,t)||0:a(this,e,t)}})},57359:function(e,t,r){"use strict";var n=r(76494),i=r(99363),a=r(55706),o=r(25313),s=r(81684).f,u=r(67432),c=r(43341),l=r(42192),d=r(37420),f="Array Iterator",h=o.set,p=o.getterFor(f);e.exports=u(Array,"Array",(function(e,t){h(this,{type:f,target:n(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,c(void 0,!0)):c("keys"==r?n:"values"==r?t[n]:[n,t[n]],!1)}),"values");var v=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!l&&d&&"values"!==v.name)try{s(v,"name",{value:"values"})}catch(g){}},10944:function(e,t,r){"use strict";var n=r(73587),i=r(34116);n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},72047:function(e,t,r){"use strict";var n=r(73587),i=r(79056).map;n({target:"Array",proto:!0,forced:!r(76205)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},73545:function(e,t,r){"use strict";var n=r(73587),i=r(66111),a=r(73011),o=r(36072),s=Array;n({target:"Array",stat:!0,forced:i((function(){function e(){}return!(s.of.call(e)instanceof e)}))},{of:function(){for(var e=0,t=arguments.length,r=new(a(this)?this:s)(t);t>e;)o(r,e,arguments[e++]);return r.length=t,r}})},39026:function(e,t,r){"use strict";var n=r(73587),i=r(69998).right,a=r(11689),o=r(32504);n({target:"Array",proto:!0,forced:!r(70520)&&o>79&&o<83||!a("reduceRight")},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},3167:function(e,t,r){"use strict";var n=r(73587),i=r(69998).left,a=r(11689),o=r(32504);n({target:"Array",proto:!0,forced:!r(70520)&&o>79&&o<83||!a("reduce")},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},593:function(e,t,r){"use strict";var n=r(73587),i=r(34534),a=r(38162),o=i([].reverse),s=[1,2];n({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),o(this)}})},16631:function(e,t,r){"use strict";var n=r(73587),i=r(38162),a=r(73011),o=r(34965),s=r(53864),u=r(76425),c=r(76494),l=r(36072),d=r(75508),f=r(76205),h=r(51346),p=f("slice"),v=d("species"),g=Array,m=Math.max;n({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var r,n,d,f=c(this),p=u(f),y=s(e,p),b=s(void 0===t?p:t,p);if(i(f)&&(r=f.constructor,(a(r)&&(r===g||i(r.prototype))||o(r)&&null===(r=r[v]))&&(r=void 0),r===g||void 0===r))return h(f,y,b);for(n=new(void 0===r?g:r)(m(b-y,0)),d=0;y<b;y++,d++)y in f&&l(n,d,f[y]);return n.length=d,n}})},46962:function(e,t,r){"use strict";var n=r(73587),i=r(34534),a=r(68973),o=r(11446),s=r(76425),u=r(77185),c=r(55217),l=r(66111),d=r(65082),f=r(11689),h=r(62554),p=r(90907),v=r(32504),g=r(35199),m=[],y=i(m.sort),b=i(m.push),S=l((function(){m.sort(void 0)})),E=l((function(){m.sort(null)})),x=f("sort"),w=!l((function(){if(v)return v<70;if(!(h&&h>3)){if(p)return!0;if(g)return g<603;var e,t,r,n,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)m.push({k:t+n,v:r})}for(m.sort((function(e,t){return t.v-e.v})),n=0;n<m.length;n++)t=m[n].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));n({target:"Array",proto:!0,forced:S||!E||!x||!w},{sort:function(e){void 0!==e&&a(e);var t=o(this);if(w)return void 0===e?y(t):y(t,e);var r,n,i=[],l=s(t);for(n=0;n<l;n++)n in t&&b(i,t[n]);for(d(i,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:c(t)>c(r)?1:-1}}(e)),r=s(i),n=0;n<r;)t[n]=i[n++];for(;n<l;)u(t,n++);return t}})},53870:function(e,t,r){"use strict";r(8965)("Array")},208:function(e,t,r){"use strict";var n=r(73587),i=r(11446),a=r(53864),o=r(56501),s=r(76425),u=r(39217),c=r(60895),l=r(41180),d=r(36072),f=r(77185),h=r(76205)("splice"),p=Math.max,v=Math.min;n({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var r,n,h,g,m,y,b=i(this),S=s(b),E=a(e,S),x=arguments.length;for(0===x?r=n=0:1===x?(r=0,n=S-E):(r=x-2,n=v(p(o(t),0),S-E)),c(S+r-n),h=l(b,n),g=0;g<n;g++)(m=E+g)in b&&d(h,g,b[m]);if(h.length=n,r<n){for(g=E;g<S-n;g++)y=g+r,(m=g+n)in b?b[y]=b[m]:f(b,y);for(g=S;g>S-n+r;g--)f(b,g-1)}else if(r>n)for(g=S-n;g>E;g--)y=g+r-1,(m=g+n-1)in b?b[y]=b[m]:f(b,y);for(g=0;g<r;g++)b[g+E]=arguments[g+2];return u(b,S-n+r),h}})},95671:function(e,t,r){"use strict";r(99363)("flatMap")},89575:function(e,t,r){"use strict";r(99363)("flat")},61728:function(e,t,r){"use strict";var n=r(73587),i=r(66111),a=r(11446),o=r(63086);n({target:"Date",proto:!0,arity:1,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=a(this),r=o(t,"number");return"number"!=typeof r||isFinite(r)?t.toISOString():null}})},49449:function(e,t,r){"use strict";var n=r(78320),i=r(63609),a=r(31022),o=r(75508)("toPrimitive"),s=Date.prototype;n(s,o)||i(s,o,a)},76001:function(e,t,r){"use strict";var n=r(30171),i=r(34965),a=r(81684),o=r(7209),s=r(75508),u=r(18138),c=s("hasInstance"),l=Function.prototype;c in l||a.f(l,c,{value:u((function(e){if(!n(this)||!i(e))return!1;var t=this.prototype;if(!i(t))return e instanceof this;for(;e=o(e);)if(t===e)return!0;return!1}),c)})},70734:function(e,t,r){"use strict";var n=r(73587),i=r(66780),a=r(12256),o=r(37892),s=r(34534),u=r(66111),c=r(30171),l=r(64196),d=r(51346),f=r(17650),h=r(33969),p=String,v=i("JSON","stringify"),g=s(/./.exec),m=s("".charAt),y=s("".charCodeAt),b=s("".replace),S=s(1..toString),E=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,k=!h||u((function(){var e=i("Symbol")();return"[null]"!=v([e])||"{}"!=v({a:e})||"{}"!=v(Object(e))})),_=u((function(){return'"\\udf06\\ud834"'!==v("\udf06\ud834")||'"\\udead"'!==v("\udead")})),T=function(e,t){var r=d(arguments),n=f(t);if(c(n)||void 0!==e&&!l(e))return r[1]=function(e,t){if(c(n)&&(t=o(n,this,p(e),t)),!l(t))return t},a(v,null,r)},A=function(e,t,r){var n=m(r,t-1),i=m(r,t+1);return g(x,e)&&!g(w,i)||g(w,e)&&!g(x,n)?"\\u"+S(y(e,0),16):e};v&&n({target:"JSON",stat:!0,arity:3,forced:k||_},{stringify:function(e,t,r){var n=d(arguments),i=a(k?T:v,null,n);return _&&"string"==typeof i?b(i,E,A):i}})},49796:function(e,t,r){"use strict";var n=r(19782);r(21117)(n.JSON,"JSON",!0)},75199:function(e,t,r){"use strict";r(19881)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(44695))},49998:function(e,t,r){"use strict";r(75199)},62371:function(e,t,r){"use strict";var n=r(73587),i=r(26702),a=Math.acosh,o=Math.log,s=Math.sqrt,u=Math.LN2;n({target:"Math",stat:!0,forced:!a||710!=Math.floor(a(Number.MAX_VALUE))||a(1/0)!=1/0},{acosh:function(e){var t=+e;return t<1?NaN:t>94906265.62425156?o(t)+u:i(t-1+s(t-1)*s(t+1))}})},94097:function(e,t,r){"use strict";var n=r(73587),i=Math.asinh,a=Math.log,o=Math.sqrt;n({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function e(t){var r=+t;return isFinite(r)&&0!=r?r<0?-e(-r):a(r+o(r*r+1)):r}})},34480:function(e,t,r){"use strict";var n=r(73587),i=Math.atanh,a=Math.log;n({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(e){var t=+e;return 0==t?t:a((1+t)/(1-t))/2}})},15485:function(e,t,r){"use strict";var n=r(73587),i=r(49093),a=Math.abs,o=Math.pow;n({target:"Math",stat:!0},{cbrt:function(e){var t=+e;return i(t)*o(a(t),1/3)}})},40239:function(e,t,r){"use strict";var n=r(73587),i=Math.floor,a=Math.log,o=Math.LOG2E;n({target:"Math",stat:!0},{clz32:function(e){var t=e>>>0;return t?31-i(a(t+.5)*o):32}})},33968:function(e,t,r){"use strict";var n=r(73587),i=r(19898),a=Math.cosh,o=Math.abs,s=Math.E;n({target:"Math",stat:!0,forced:!a||a(710)===1/0},{cosh:function(e){var t=i(o(e)-1)+1;return(t+1/(t*s*s))*(s/2)}})},88616:function(e,t,r){"use strict";var n=r(73587),i=r(19898);n({target:"Math",stat:!0,forced:i!=Math.expm1},{expm1:i})},89918:function(e,t,r){"use strict";r(73587)({target:"Math",stat:!0},{fround:r(32319)})},93177:function(e,t,r){"use strict";var n=r(73587),i=Math.hypot,a=Math.abs,o=Math.sqrt;n({target:"Math",stat:!0,arity:2,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(e,t){for(var r,n,i=0,s=0,u=arguments.length,c=0;s<u;)c<(r=a(arguments[s++]))?(i=i*(n=c/r)*n+1,c=r):i+=r>0?(n=r/c)*n:r;return c===1/0?1/0:c*o(i)}})},38552:function(e,t,r){"use strict";r(73587)({target:"Math",stat:!0},{log10:r(53521)})},97263:function(e,t,r){"use strict";r(73587)({target:"Math",stat:!0},{log1p:r(26702)})},25222:function(e,t,r){"use strict";var n=r(73587),i=Math.log,a=Math.LN2;n({target:"Math",stat:!0},{log2:function(e){return i(e)/a}})},10190:function(e,t,r){"use strict";r(73587)({target:"Math",stat:!0},{sign:r(49093)})},8716:function(e,t,r){"use strict";var n=r(73587),i=r(66111),a=r(19898),o=Math.abs,s=Math.exp,u=Math.E;n({target:"Math",stat:!0,forced:i((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(e){var t=+e;return o(t)<1?(a(t)-a(-t))/2:(s(t-1)-s(-t-1))*(u/2)}})},68388:function(e,t,r){"use strict";var n=r(73587),i=r(19898),a=Math.exp;n({target:"Math",stat:!0},{tanh:function(e){var t=+e,r=i(t),n=i(-t);return r==1/0?1:n==1/0?-1:(r-n)/(a(t)+a(-t))}})},32613:function(e,t,r){"use strict";r(21117)(Math,"Math",!0)},20307:function(e,t,r){"use strict";r(73587)({target:"Math",stat:!0},{trunc:r(70596)})},42968:function(e,t,r){"use strict";var n=r(73587),i=r(42192),a=r(37420),o=r(19782),s=r(30306),u=r(34534),c=r(79492),l=r(78320),d=r(2142),f=r(81778),h=r(64196),p=r(63086),v=r(66111),g=r(59814).f,m=r(82530).f,y=r(81684).f,b=r(29301),S=r(58119).trim,E="Number",x=o[E],w=s[E],k=x.prototype,_=o.TypeError,T=u("".slice),A=u("".charCodeAt),C=function(e){var t,r,n,i,a,o,s,u,c=p(e,"number");if(h(c))throw _("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=S(c),43===(t=A(c,0))||45===t){if(88===(r=A(c,2))||120===r)return NaN}else if(48===t){switch(A(c,1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+c}for(o=(a=T(c,2)).length,s=0;s<o;s++)if((u=A(a,s))<48||u>i)return NaN;return parseInt(a,n)}return+c},P=c(E,!x(" 0o1")||!x("0b1")||x("+0x1")),I=function(e){var t,r=arguments.length<1?0:x(function(e){var t=p(e,"number");return"bigint"==typeof t?t:C(t)}(e));return f(k,t=this)&&v((function(){b(t)}))?d(Object(r),this,I):r};I.prototype=k,P&&!i&&(k.constructor=I),n({global:!0,constructor:!0,wrap:!0,forced:P},{Number:I});var O=function(e,t){for(var r,n=a?g(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;n.length>i;i++)l(t,r=n[i])&&!l(e,r)&&y(e,r,m(t,r))};i&&w&&O(s[E],w),(P||i)&&O(s[E],x)},34738:function(e,t,r){"use strict";r(73587)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})},63590:function(e,t,r){"use strict";r(73587)({target:"Number",stat:!0},{isInteger:r(58186)})},14039:function(e,t,r){"use strict";var n=r(73587),i=r(58186),a=Math.abs;n({target:"Number",stat:!0},{isSafeInteger:function(e){return i(e)&&a(e)<=9007199254740991}})},76118:function(e,t,r){"use strict";r(73587)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},13090:function(e,t,r){"use strict";r(73587)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},23440:function(e,t,r){"use strict";var n=r(73587),i=r(96048);n({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},83785:function(e,t,r){"use strict";var n=r(73587),i=r(39232);n({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},81669:function(e,t,r){"use strict";var n=r(73587),i=r(34534),a=r(56501),o=r(29301),s=r(76930),u=r(66111),c=RangeError,l=String,d=Math.floor,f=i(s),h=i("".slice),p=i(1..toFixed),v=function e(t,r,n){return 0===r?n:r%2===1?e(t,r-1,n*t):e(t*t,r/2,n)},g=function(e,t,r){for(var n=-1,i=r;++n<6;)i+=t*e[n],e[n]=i%1e7,i=d(i/1e7)},m=function(e,t){for(var r=6,n=0;--r>=0;)n+=e[r],e[r]=d(n/t),n=n%t*1e7},y=function(e){for(var t=6,r="";--t>=0;)if(""!==r||0===t||0!==e[t]){var n=l(e[t]);r=""===r?n:r+f("0",7-n.length)+n}return r};n({target:"Number",proto:!0,forced:u((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!u((function(){p({})}))},{toFixed:function(e){var t,r,n,i,s=o(this),u=a(e),d=[0,0,0,0,0,0],p="",b="0";if(u<0||u>20)throw c("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return l(s);if(s<0&&(p="-",s=-s),s>1e-21)if(r=(t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t}(s*v(2,69,1))-69)<0?s*v(2,-t,1):s/v(2,t,1),r*=4503599627370496,(t=52-t)>0){for(g(d,0,r),n=u;n>=7;)g(d,1e7,0),n-=7;for(g(d,v(10,n,1),0),n=t-1;n>=23;)m(d,1<<23),n-=23;m(d,1<<n),g(d,1,1),m(d,2),b=y(d)}else g(d,0,r),g(d,1<<-t,0),b=y(d)+f("0",u);return b=u>0?p+((i=b.length)<=u?"0."+f("0",u-i)+b:h(b,0,i-u)+"."+h(b,i-u)):p+b}})},28092:function(e,t,r){"use strict";var n=r(73587),i=r(85698);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},67972:function(e,t,r){"use strict";var n=r(73587),i=r(37420),a=r(86854),o=r(68973),s=r(11446),u=r(81684);i&&n({target:"Object",proto:!0,forced:a},{__defineGetter__:function(e,t){u.f(s(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},16056:function(e,t,r){"use strict";var n=r(73587),i=r(37420),a=r(3415).f;n({target:"Object",stat:!0,forced:Object.defineProperties!==a,sham:!i},{defineProperties:a})},69286:function(e,t,r){"use strict";var n=r(73587),i=r(37420),a=r(81684).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==a,sham:!i},{defineProperty:a})},57794:function(e,t,r){"use strict";var n=r(73587),i=r(37420),a=r(86854),o=r(68973),s=r(11446),u=r(81684);i&&n({target:"Object",proto:!0,forced:a},{__defineSetter__:function(e,t){u.f(s(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},46040:function(e,t,r){"use strict";var n=r(73587),i=r(31525).entries;n({target:"Object",stat:!0},{entries:function(e){return i(e)}})},11938:function(e,t,r){"use strict";var n=r(73587),i=r(31561),a=r(66111),o=r(34965),s=r(36781).onFreeze,u=Object.freeze;n({target:"Object",stat:!0,forced:a((function(){u(1)})),sham:!i},{freeze:function(e){return u&&o(e)?u(s(e)):e}})},99588:function(e,t,r){"use strict";var n=r(73587),i=r(81413),a=r(36072);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,r){a(t,e,r)}),{AS_ENTRIES:!0}),t}})},25596:function(e,t,r){"use strict";var n=r(73587),i=r(66111),a=r(76494),o=r(82530).f,s=r(37420);n({target:"Object",stat:!0,forced:!s||i((function(){o(1)})),sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},55820:function(e,t,r){"use strict";var n=r(73587),i=r(37420),a=r(20412),o=r(76494),s=r(82530),u=r(36072);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,r,n=o(e),i=s.f,c=a(n),l={},d=0;c.length>d;)void 0!==(r=i(n,t=c[d++]))&&u(l,t,r);return l}})},66347:function(e,t,r){"use strict";var n=r(73587),i=r(66111),a=r(64350).f;n({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:a})},37279:function(e,t,r){"use strict";var n=r(73587),i=r(33969),a=r(66111),o=r(51186),s=r(11446);n({target:"Object",stat:!0,forced:!i||a((function(){o.f(1)}))},{getOwnPropertySymbols:function(e){var t=o.f;return t?t(s(e)):[]}})},61658:function(e,t,r){"use strict";var n=r(73587),i=r(66111),a=r(11446),o=r(7209),s=r(97610);n({target:"Object",stat:!0,forced:i((function(){o(1)})),sham:!s},{getPrototypeOf:function(e){return o(a(e))}})},38737:function(e,t,r){"use strict";var n=r(73587),i=r(61481);n({target:"Object",stat:!0,forced:Object.isExtensible!==i},{isExtensible:i})},86659:function(e,t,r){"use strict";var n=r(73587),i=r(66111),a=r(34965),o=r(73135),s=r(9603),u=Object.isFrozen;n({target:"Object",stat:!0,forced:s||i((function(){u(1)}))},{isFrozen:function(e){return!a(e)||(!(!s||"ArrayBuffer"!=o(e))||!!u&&u(e))}})},64316:function(e,t,r){"use strict";var n=r(73587),i=r(66111),a=r(34965),o=r(73135),s=r(9603),u=Object.isSealed;n({target:"Object",stat:!0,forced:s||i((function(){u(1)}))},{isSealed:function(e){return!a(e)||(!(!s||"ArrayBuffer"!=o(e))||!!u&&u(e))}})},26578:function(e,t,r){"use strict";var n=r(73587),i=r(11446),a=r(11467);n({target:"Object",stat:!0,forced:r(66111)((function(){a(1)}))},{keys:function(e){return a(i(e))}})},19943:function(e,t,r){"use strict";var n=r(73587),i=r(37420),a=r(86854),o=r(11446),s=r(44560),u=r(7209),c=r(82530).f;i&&n({target:"Object",proto:!0,forced:a},{__lookupGetter__:function(e){var t,r=o(this),n=s(e);do{if(t=c(r,n))return t.get}while(r=u(r))}})},84377:function(e,t,r){"use strict";var n=r(73587),i=r(37420),a=r(86854),o=r(11446),s=r(44560),u=r(7209),c=r(82530).f;i&&n({target:"Object",proto:!0,forced:a},{__lookupSetter__:function(e){var t,r=o(this),n=s(e);do{if(t=c(r,n))return t.set}while(r=u(r))}})},99514:function(e,t,r){"use strict";var n=r(73587),i=r(34965),a=r(36781).onFreeze,o=r(31561),s=r(66111),u=Object.preventExtensions;n({target:"Object",stat:!0,forced:s((function(){u(1)})),sham:!o},{preventExtensions:function(e){return u&&i(e)?u(a(e)):e}})},62690:function(e,t,r){"use strict";var n=r(73587),i=r(34965),a=r(36781).onFreeze,o=r(31561),s=r(66111),u=Object.seal;n({target:"Object",stat:!0,forced:s((function(){u(1)})),sham:!o},{seal:function(e){return u&&i(e)?u(a(e)):e}})},7251:function(e,t,r){"use strict";r(73587)({target:"Object",stat:!0},{setPrototypeOf:r(32695)})},84019:function(e,t,r){"use strict";var n=r(32105),i=r(63609),a=r(83685);n||i(Object.prototype,"toString",a,{unsafe:!0})},67069:function(e,t,r){"use strict";var n=r(73587),i=r(31525).values;n({target:"Object",stat:!0},{values:function(e){return i(e)}})},65458:function(e,t,r){"use strict";var n=r(73587),i=r(96048);n({global:!0,forced:parseFloat!=i},{parseFloat:i})},7734:function(e,t,r){"use strict";var n=r(73587),i=r(39232);n({global:!0,forced:parseInt!=i},{parseInt:i})},86408:function(e,t,r){"use strict";var n=r(73587),i=r(37892),a=r(68973),o=r(54249),s=r(74750),u=r(81413);n({target:"Promise",stat:!0,forced:r(24310)},{all:function(e){var t=this,r=o.f(t),n=r.resolve,c=r.reject,l=s((function(){var r=a(t.resolve),o=[],s=0,l=1;u(e,(function(e){var a=s++,u=!1;l++,i(r,t,e).then((function(e){u||(u=!0,o[a]=e,--l||n(o))}),c)})),--l||n(o)}));return l.error&&c(l.value),r.promise}})},99328:function(e,t,r){"use strict";var n=r(73587),i=r(42192),a=r(30855).CONSTRUCTOR,o=r(88773),s=r(66780),u=r(30171),c=r(63609),l=o&&o.prototype;if(n({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&u(o)){var d=s("Promise").prototype.catch;l.catch!==d&&c(l,"catch",d,{unsafe:!0})}},90508:function(e,t,r){"use strict";var n,i,a,o=r(73587),s=r(42192),u=r(70520),c=r(19782),l=r(37892),d=r(63609),f=r(32695),h=r(21117),p=r(8965),v=r(68973),g=r(30171),m=r(34965),y=r(35793),b=r(4724),S=r(11092).set,E=r(20209),x=r(81628),w=r(74750),k=r(96055),_=r(25313),T=r(88773),A=r(30855),C=r(54249),P="Promise",I=A.CONSTRUCTOR,O=A.REJECTION_EVENT,R=A.SUBCLASSING,N=_.getterFor(P),L=_.set,j=T&&T.prototype,M=T,D=j,F=c.TypeError,U=c.document,B=c.process,G=C.f,V=G,H=!!(U&&U.createEvent&&c.dispatchEvent),W="unhandledrejection",q=function(e){var t;return!(!m(e)||!g(t=e.then))&&t},z=function(e,t){var r,n,i,a=t.value,o=1==t.state,s=o?e.ok:e.fail,u=e.resolve,c=e.reject,d=e.domain;try{s?(o||(2===t.rejection&&Z(t),t.rejection=1),!0===s?r=a:(d&&d.enter(),r=s(a),d&&(d.exit(),i=!0)),r===e.promise?c(F("Promise-chain cycle")):(n=q(r))?l(n,r,u,c):u(r)):c(a)}catch(f){d&&!i&&d.exit(),c(f)}},Y=function(e,t){e.notified||(e.notified=!0,E((function(){for(var r,n=e.reactions;r=n.get();)z(r,e);e.notified=!1,t&&!e.rejection&&K(e)})))},X=function(e,t,r){var n,i;H?((n=U.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},!O&&(i=c["on"+e])?i(n):e===W&&x("Unhandled promise rejection",r)},K=function(e){l(S,c,(function(){var t,r=e.facade,n=e.value;if(J(e)&&(t=w((function(){u?B.emit("unhandledRejection",n,r):X(W,r,n)})),e.rejection=u||J(e)?2:1,t.error))throw t.value}))},J=function(e){return 1!==e.rejection&&!e.parent},Z=function(e){l(S,c,(function(){var t=e.facade;u?B.emit("rejectionHandled",t):X("rejectionhandled",t,e.value)}))},Q=function(e,t,r){return function(n){e(t,n,r)}},$=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,Y(e,!0))},ee=function e(t,r,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===r)throw F("Promise can't be resolved itself");var i=q(r);i?E((function(){var n={done:!1};try{l(i,r,Q(e,n,t),Q($,n,t))}catch(a){$(n,a,t)}})):(t.value=r,t.state=1,Y(t,!1))}catch(a){$({done:!1},a,t)}}};if(I&&(D=(M=function(e){y(this,D),v(e),l(n,this);var t=N(this);try{e(Q(ee,t),Q($,t))}catch(r){$(t,r)}}).prototype,(n=function(e){L(this,{type:P,done:!1,notified:!1,parent:!1,reactions:new k,rejection:!1,state:0,value:void 0})}).prototype=d(D,"then",(function(e,t){var r=N(this),n=G(b(this,M));return r.parent=!0,n.ok=!g(e)||e,n.fail=g(t)&&t,n.domain=u?B.domain:void 0,0==r.state?r.reactions.add(n):E((function(){z(n,r)})),n.promise})),i=function(){var e=new n,t=N(e);this.promise=e,this.resolve=Q(ee,t),this.reject=Q($,t)},C.f=G=function(e){return e===M||undefined===e?new i(e):V(e)},!s&&g(T)&&j!==Object.prototype)){a=j.then,R||d(j,"then",(function(e,t){var r=this;return new M((function(e,t){l(a,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete j.constructor}catch(te){}f&&f(j,D)}o({global:!0,constructor:!0,wrap:!0,forced:I},{Promise:M}),h(M,P,!1,!0),p(P)},85387:function(e,t,r){"use strict";var n=r(73587),i=r(42192),a=r(88773),o=r(66111),s=r(66780),u=r(30171),c=r(4724),l=r(44270),d=r(63609),f=a&&a.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){f.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),r=u(e);return this.then(r?function(r){return l(t,e()).then((function(){return r}))}:e,r?function(r){return l(t,e()).then((function(){throw r}))}:e)}}),!i&&u(a)){var h=s("Promise").prototype.finally;f.finally!==h&&d(f,"finally",h,{unsafe:!0})}},246:function(e,t,r){"use strict";r(90508),r(86408),r(99328),r(98039),r(44213),r(33027)},98039:function(e,t,r){"use strict";var n=r(73587),i=r(37892),a=r(68973),o=r(54249),s=r(74750),u=r(81413);n({target:"Promise",stat:!0,forced:r(24310)},{race:function(e){var t=this,r=o.f(t),n=r.reject,c=s((function(){var o=a(t.resolve);u(e,(function(e){i(o,t,e).then(r.resolve,n)}))}));return c.error&&n(c.value),r.promise}})},44213:function(e,t,r){"use strict";var n=r(73587),i=r(37892),a=r(54249);n({target:"Promise",stat:!0,forced:r(30855).CONSTRUCTOR},{reject:function(e){var t=a.f(this);return i(t.reject,void 0,e),t.promise}})},33027:function(e,t,r){"use strict";var n=r(73587),i=r(66780),a=r(42192),o=r(88773),s=r(30855).CONSTRUCTOR,u=r(44270),c=i("Promise"),l=a&&!s;n({target:"Promise",stat:!0,forced:a||s},{resolve:function(e){return u(l&&this===c?o:this,e)}})},28794:function(e,t,r){"use strict";var n=r(73587),i=r(12256),a=r(68973),o=r(59799);n({target:"Reflect",stat:!0,forced:!r(66111)((function(){Reflect.apply((function(){}))}))},{apply:function(e,t,r){return i(a(e),t,o(r))}})},96832:function(e,t,r){"use strict";var n=r(73587),i=r(66780),a=r(12256),o=r(5268),s=r(68458),u=r(59799),c=r(34965),l=r(83302),d=r(66111),f=i("Reflect","construct"),h=Object.prototype,p=[].push,v=d((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),g=!d((function(){f((function(){}))})),m=v||g;n({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(e,t){s(e),u(t);var r=arguments.length<3?e:s(arguments[2]);if(g&&!v)return f(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return a(p,n,t),new(a(o,e,n))}var i=r.prototype,d=l(c(i)?i:h),m=a(e,d,t);return c(m)?m:d}})},36438:function(e,t,r){"use strict";var n=r(73587),i=r(37420),a=r(59799),o=r(44560),s=r(81684);n({target:"Reflect",stat:!0,forced:r(66111)((function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})})),sham:!i},{defineProperty:function(e,t,r){a(e);var n=o(t);a(r);try{return s.f(e,n,r),!0}catch(i){return!1}}})},8902:function(e,t,r){"use strict";var n=r(73587),i=r(59799),a=r(82530).f;n({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var r=a(i(e),t);return!(r&&!r.configurable)&&delete e[t]}})},93158:function(e,t,r){"use strict";var n=r(73587),i=r(37420),a=r(59799),o=r(82530);n({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(e,t){return o.f(a(e),t)}})},42803:function(e,t,r){"use strict";var n=r(73587),i=r(59799),a=r(7209);n({target:"Reflect",stat:!0,sham:!r(97610)},{getPrototypeOf:function(e){return a(i(e))}})},27181:function(e,t,r){"use strict";var n=r(73587),i=r(37892),a=r(34965),o=r(59799),s=r(70626),u=r(82530),c=r(7209);n({target:"Reflect",stat:!0},{get:function e(t,r){var n,l,d=arguments.length<3?t:arguments[2];return o(t)===d?t[r]:(n=u.f(t,r))?s(n)?n.value:void 0===n.get?void 0:i(n.get,d):a(l=c(t))?e(l,r,d):void 0}})},99155:function(e,t,r){"use strict";r(73587)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},9900:function(e,t,r){"use strict";var n=r(73587),i=r(59799),a=r(61481);n({target:"Reflect",stat:!0},{isExtensible:function(e){return i(e),a(e)}})},24670:function(e,t,r){"use strict";r(73587)({target:"Reflect",stat:!0},{ownKeys:r(20412)})},38142:function(e,t,r){"use strict";var n=r(73587),i=r(66780),a=r(59799);n({target:"Reflect",stat:!0,sham:!r(31561)},{preventExtensions:function(e){a(e);try{var t=i("Object","preventExtensions");return t&&t(e),!0}catch(r){return!1}}})},63410:function(e,t,r){"use strict";var n=r(73587),i=r(59799),a=r(74375),o=r(32695);o&&n({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){i(e),a(t);try{return o(e,t),!0}catch(r){return!1}}})},8999:function(e,t,r){"use strict";var n=r(73587),i=r(37892),a=r(59799),o=r(34965),s=r(70626),u=r(66111),c=r(81684),l=r(82530),d=r(7209),f=r(80431);n({target:"Reflect",stat:!0,forced:u((function(){var e=function(){},t=c.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)}))},{set:function e(t,r,n){var u,h,p,v=arguments.length<4?t:arguments[3],g=l.f(a(t),r);if(!g){if(o(h=d(t)))return e(h,r,n,v);g=f(0)}if(s(g)){if(!1===g.writable||!o(v))return!1;if(u=l.f(v,r)){if(u.get||u.set||!1===u.writable)return!1;u.value=n,c.f(v,r,u)}else c.f(v,r,f(0,n))}else{if(void 0===(p=g.set))return!1;i(p,v,n)}return!0}})},27909:function(e,t,r){"use strict";var n=r(37420),i=r(19782),a=r(34534),o=r(79492),s=r(2142),u=r(87454),c=r(59814).f,l=r(81778),d=r(22872),f=r(55217),h=r(5294),p=r(4274),v=r(23966),g=r(63609),m=r(66111),y=r(78320),b=r(25313).enforce,S=r(8965),E=r(75508),x=r(68988),w=r(81748),k=E("match"),_=i.RegExp,T=_.prototype,A=i.SyntaxError,C=a(T.exec),P=a("".charAt),I=a("".replace),O=a("".indexOf),R=a("".slice),N=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,L=/a/g,j=/a/g,M=new _(L)!==L,D=p.MISSED_STICKY,F=p.UNSUPPORTED_Y,U=n&&(!M||D||x||w||m((function(){return j[k]=!1,_(L)!=L||_(j)==j||"/a/i"!=_(L,"i")})));if(o("RegExp",U)){for(var B=function(e,t){var r,n,i,a,o,c,p=l(T,this),v=d(e),g=void 0===t,m=[],S=e;if(!p&&v&&g&&e.constructor===B)return e;if((v||l(T,e))&&(e=e.source,g&&(t=h(S))),e=void 0===e?"":f(e),t=void 0===t?"":f(t),S=e,x&&"dotAll"in L&&(n=!!t&&O(t,"s")>-1)&&(t=I(t,/s/g,"")),r=t,D&&"sticky"in L&&(i=!!t&&O(t,"y")>-1)&&F&&(t=I(t,/y/g,"")),w&&(a=function(e){for(var t,r=e.length,n=0,i="",a=[],o={},s=!1,u=!1,c=0,l="";n<=r;n++){if("\\"===(t=P(e,n)))t+=P(e,++n);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:C(N,R(e,n+1))&&(n+=2,u=!0),i+=t,c++;continue;case">"===t&&u:if(""===l||y(o,l))throw new A("Invalid capture group name");o[l]=!0,a[a.length]=[l,c],u=!1,l="";continue}u?l+=t:i+=t}return[i,a]}(e),e=a[0],m=a[1]),o=s(_(e,t),p?this:T,B),(n||i||m.length)&&(c=b(o),n&&(c.dotAll=!0,c.raw=B(function(e){for(var t,r=e.length,n=0,i="",a=!1;n<=r;n++)"\\"!==(t=P(e,n))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),i+=t):i+="[\\s\\S]":i+=t+P(e,++n);return i}(e),r)),i&&(c.sticky=!0),m.length&&(c.groups=m)),e!==S)try{u(o,"source",""===S?"(?:)":S)}catch(E){}return o},G=c(_),V=0;G.length>V;)v(B,_,G[V++]);T.constructor=B,B.prototype=T,g(i,"RegExp",B,{constructor:!0})}S("RegExp")},4541:function(e,t,r){"use strict";var n=r(73587),i=r(75493);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},91038:function(e,t,r){"use strict";var n=r(19782),i=r(37420),a=r(18787),o=r(21537),s=r(66111),u=n.RegExp,c=u.prototype;i&&s((function(){var e=!0;try{u(".","d")}catch(s){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(e,n){Object.defineProperty(t,e,{get:function(){return r+=n,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(a.hasIndices="d"),a)i(o,a[o]);return Object.getOwnPropertyDescriptor(c,"flags").get.call(t)!==n||r!==n}))&&a(c,"flags",{configurable:!0,get:o})},925:function(e,t,r){"use strict";var n=r(21774).PROPER,i=r(63609),a=r(59799),o=r(55217),s=r(66111),u=r(5294),c="toString",l=RegExp.prototype[c],d=s((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),f=n&&l.name!=c;(d||f)&&i(RegExp.prototype,c,(function(){var e=a(this);return"/"+o(e.source)+"/"+o(u(e))}),{unsafe:!0})},92340:function(e,t,r){"use strict";r(19881)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(44695))},87049:function(e,t,r){"use strict";r(92340)},31677:function(e,t,r){"use strict";var n=r(73587),i=r(19838).codeAt;n({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},34897:function(e,t,r){"use strict";var n=r(73587),i=r(69050),a=r(82530).f,o=r(61234),s=r(55217),u=r(63522),c=r(9629),l=r(79475),d=r(42192),f=i("".endsWith),h=i("".slice),p=Math.min,v=l("endsWith");n({target:"String",proto:!0,forced:!(!d&&!v&&!!function(){var e=a(String.prototype,"endsWith");return e&&!e.writable}())&&!v},{endsWith:function(e){var t=s(c(this));u(e);var r=arguments.length>1?arguments[1]:void 0,n=t.length,i=void 0===r?n:p(o(r),n),a=s(e);return f?f(t,a,i):h(t,i-a.length,i)===a}})},6234:function(e,t,r){"use strict";var n=r(73587),i=r(34534),a=r(53864),o=RangeError,s=String.fromCharCode,u=String.fromCodePoint,c=i([].join);n({target:"String",stat:!0,arity:1,forced:!!u&&1!=u.length},{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,i=0;n>i;){if(t=+arguments[i++],a(t,1114111)!==t)throw o(t+" is not a valid code point");r[i]=t<65536?s(t):s(55296+((t-=65536)>>10),t%1024+56320)}return c(r,"")}})},75350:function(e,t,r){"use strict";var n=r(73587),i=r(34534),a=r(63522),o=r(9629),s=r(55217),u=r(79475),c=i("".indexOf);n({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~c(s(o(this)),s(a(e)),arguments.length>1?arguments[1]:void 0)}})},90192:function(e,t,r){"use strict";var n=r(19838).charAt,i=r(55217),a=r(25313),o=r(67432),s=r(43341),u="String Iterator",c=a.set,l=a.getterFor(u);o(String,"String",(function(e){c(this,{type:u,string:i(e),index:0})}),(function(){var e,t=l(this),r=t.string,i=t.index;return i>=r.length?s(void 0,!0):(e=n(r,i),t.index+=e.length,s(e,!1))}))},44826:function(e,t,r){"use strict";var n=r(37892),i=r(88635),a=r(59799),o=r(90486),s=r(61234),u=r(55217),c=r(9629),l=r(62135),d=r(76183),f=r(82279);i("match",(function(e,t,r){return[function(t){var r=c(this),i=o(t)?void 0:l(t,e);return i?n(i,t,r):new RegExp(t)[e](u(r))},function(e){var n=a(this),i=u(e),o=r(t,n,i);if(o.done)return o.value;if(!n.global)return f(n,i);var c=n.unicode;n.lastIndex=0;for(var l,h=[],p=0;null!==(l=f(n,i));){var v=u(l[0]);h[p]=v,""===v&&(n.lastIndex=d(i,s(n.lastIndex),c)),p++}return 0===p?null:h}]}))},34379:function(e,t,r){"use strict";var n=r(73587),i=r(91894).end;n({target:"String",proto:!0,forced:r(54686)},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},12964:function(e,t,r){"use strict";var n=r(73587),i=r(91894).start;n({target:"String",proto:!0,forced:r(54686)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},90463:function(e,t,r){"use strict";var n=r(73587),i=r(34534),a=r(76494),o=r(11446),s=r(55217),u=r(76425),c=i([].push),l=i([].join);n({target:"String",stat:!0},{raw:function(e){var t=a(o(e).raw),r=u(t);if(!r)return"";for(var n=arguments.length,i=[],d=0;;){if(c(i,s(t[d++])),d===r)return l(i,"");d<n&&c(i,s(arguments[d]))}}})},71577:function(e,t,r){"use strict";r(73587)({target:"String",proto:!0},{repeat:r(76930)})},44113:function(e,t,r){"use strict";var n=r(12256),i=r(37892),a=r(34534),o=r(88635),s=r(66111),u=r(59799),c=r(30171),l=r(90486),d=r(56501),f=r(61234),h=r(55217),p=r(9629),v=r(76183),g=r(62135),m=r(24527),y=r(82279),b=r(75508)("replace"),S=Math.max,E=Math.min,x=a([].concat),w=a([].push),k=a("".indexOf),_=a("".slice),T="$0"==="a".replace(/./,"$0"),A=!!/./[b]&&""===/./[b]("a","$0");o("replace",(function(e,t,r){var a=A?"$":"$0";return[function(e,r){var n=p(this),a=l(e)?void 0:g(e,b);return a?i(a,e,n,r):i(t,h(n),e,r)},function(e,i){var o=u(this),s=h(e);if("string"==typeof i&&-1===k(i,a)&&-1===k(i,"$<")){var l=r(t,o,s,i);if(l.done)return l.value}var p=c(i);p||(i=h(i));var g=o.global;if(g){var b=o.unicode;o.lastIndex=0}for(var T=[];;){var A=y(o,s);if(null===A)break;if(w(T,A),!g)break;""===h(A[0])&&(o.lastIndex=v(s,f(o.lastIndex),b))}for(var C,P="",I=0,O=0;O<T.length;O++){for(var R=h((A=T[O])[0]),N=S(E(d(A.index),s.length),0),L=[],j=1;j<A.length;j++)w(L,void 0===(C=A[j])?C:String(C));var M=A.groups;if(p){var D=x([R],L,N,s);void 0!==M&&w(D,M);var F=h(n(i,void 0,D))}else F=m(R,s,N,L,M,i);N>=I&&(P+=_(s,I,N)+F,I=N+R.length)}return P+_(s,I)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!T||A)},52993:function(e,t,r){"use strict";var n=r(37892),i=r(88635),a=r(59799),o=r(90486),s=r(9629),u=r(58698),c=r(55217),l=r(62135),d=r(82279);i("search",(function(e,t,r){return[function(t){var r=s(this),i=o(t)?void 0:l(t,e);return i?n(i,t,r):new RegExp(t)[e](c(r))},function(e){var n=a(this),i=c(e),o=r(t,n,i);if(o.done)return o.value;var s=n.lastIndex;u(s,0)||(n.lastIndex=0);var l=d(n,i);return u(n.lastIndex,s)||(n.lastIndex=s),null===l?-1:l.index}]}))},37428:function(e,t,r){"use strict";var n=r(12256),i=r(37892),a=r(34534),o=r(88635),s=r(59799),u=r(90486),c=r(22872),l=r(9629),d=r(4724),f=r(76183),h=r(61234),p=r(55217),v=r(62135),g=r(92914),m=r(82279),y=r(75493),b=r(4274),S=r(66111),E=b.UNSUPPORTED_Y,x=4294967295,w=Math.min,k=[].push,_=a(/./.exec),T=a(k),A=a("".slice),C=!S((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));o("split",(function(e,t,r){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var a=p(l(this)),o=void 0===r?x:r>>>0;if(0===o)return[];if(void 0===e)return[a];if(!c(e))return i(t,a,e,o);for(var s,u,d,f=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,m=new RegExp(e.source,h+"g");(s=i(y,m,a))&&!((u=m.lastIndex)>v&&(T(f,A(a,v,s.index)),s.length>1&&s.index<a.length&&n(k,f,g(s,1)),d=s[0].length,v=u,f.length>=o));)m.lastIndex===s.index&&m.lastIndex++;return v===a.length?!d&&_(m,"")||T(f,""):T(f,A(a,v)),f.length>o?g(f,0,o):f}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:i(t,this,e,r)}:t,[function(t,r){var n=l(this),o=u(t)?void 0:v(t,e);return o?i(o,t,n,r):i(a,p(n),t,r)},function(e,n){var i=s(this),o=p(e),u=r(a,i,o,n,a!==t);if(u.done)return u.value;var c=d(i,RegExp),l=i.unicode,v=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(E?"g":"y"),g=new c(E?"^(?:"+i.source+")":i,v),y=void 0===n?x:n>>>0;if(0===y)return[];if(0===o.length)return null===m(g,o)?[o]:[];for(var b=0,S=0,k=[];S<o.length;){g.lastIndex=E?0:S;var _,C=m(g,E?A(o,S):o);if(null===C||(_=w(h(g.lastIndex+(E?S:0)),o.length))===b)S=f(o,S,l);else{if(T(k,A(o,b,S)),k.length===y)return k;for(var P=1;P<=C.length-1;P++)if(T(k,C[P]),k.length===y)return k;S=b=_}}return T(k,A(o,b)),k}]}),!C,E)},78754:function(e,t,r){"use strict";var n=r(73587),i=r(69050),a=r(82530).f,o=r(61234),s=r(55217),u=r(63522),c=r(9629),l=r(79475),d=r(42192),f=i("".startsWith),h=i("".slice),p=Math.min,v=l("startsWith");n({target:"String",proto:!0,forced:!(!d&&!v&&!!function(){var e=a(String.prototype,"startsWith");return e&&!e.writable}())&&!v},{startsWith:function(e){var t=s(c(this));u(e);var r=o(p(arguments.length>1?arguments[1]:void 0,t.length)),n=s(e);return f?f(t,n,r):h(t,r,r+n.length)===n}})},37623:function(e,t,r){"use strict";r(62719);var n=r(73587),i=r(2800);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},53095:function(e,t,r){"use strict";var n=r(73587),i=r(19417);n({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==i},{trimLeft:i})},62719:function(e,t,r){"use strict";var n=r(73587),i=r(2800);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},58074:function(e,t,r){"use strict";r(53095);var n=r(73587),i=r(19417);n({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==i},{trimStart:i})},16402:function(e,t,r){"use strict";var n=r(73587),i=r(58119).trim;n({target:"String",proto:!0,forced:r(40473)("trim")},{trim:function(){return i(this)}})},44210:function(e,t,r){"use strict";r(58019)("asyncIterator")},70920:function(e,t,r){"use strict";var n=r(73587),i=r(19782),a=r(37892),o=r(34534),s=r(42192),u=r(37420),c=r(33969),l=r(66111),d=r(78320),f=r(81778),h=r(59799),p=r(76494),v=r(44560),g=r(55217),m=r(80431),y=r(83302),b=r(11467),S=r(59814),E=r(64350),x=r(51186),w=r(82530),k=r(81684),_=r(3415),T=r(23509),A=r(63609),C=r(18787),P=r(67193),I=r(59325),O=r(52819),R=r(39020),N=r(75508),L=r(17659),j=r(58019),M=r(31043),D=r(21117),F=r(25313),U=r(79056).forEach,B=I("hidden"),G="Symbol",V="prototype",H=F.set,W=F.getterFor(G),q=Object[V],z=i.Symbol,Y=z&&z[V],X=i.TypeError,K=i.QObject,J=w.f,Z=k.f,Q=E.f,$=T.f,ee=o([].push),te=P("symbols"),re=P("op-symbols"),ne=P("wks"),ie=!K||!K[V]||!K[V].findChild,ae=u&&l((function(){return 7!=y(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=J(q,t);n&&delete q[t],Z(e,t,r),n&&e!==q&&Z(q,t,n)}:Z,oe=function(e,t){var r=te[e]=y(Y);return H(r,{type:G,tag:e,description:t}),u||(r.description=t),r},se=function(e,t,r){e===q&&se(re,t,r),h(e);var n=v(t);return h(r),d(te,n)?(r.enumerable?(d(e,B)&&e[B][n]&&(e[B][n]=!1),r=y(r,{enumerable:m(0,!1)})):(d(e,B)||Z(e,B,m(1,{})),e[B][n]=!0),ae(e,n,r)):Z(e,n,r)},ue=function(e,t){h(e);var r=p(t),n=b(r).concat(fe(r));return U(n,(function(t){u&&!a(ce,r,t)||se(e,t,r[t])})),e},ce=function(e){var t=v(e),r=a($,this,t);return!(this===q&&d(te,t)&&!d(re,t))&&(!(r||!d(this,t)||!d(te,t)||d(this,B)&&this[B][t])||r)},le=function(e,t){var r=p(e),n=v(t);if(r!==q||!d(te,n)||d(re,n)){var i=J(r,n);return!i||!d(te,n)||d(r,B)&&r[B][n]||(i.enumerable=!0),i}},de=function(e){var t=Q(p(e)),r=[];return U(t,(function(e){d(te,e)||d(O,e)||ee(r,e)})),r},fe=function(e){var t=e===q,r=Q(t?re:p(e)),n=[];return U(r,(function(e){!d(te,e)||t&&!d(q,e)||ee(n,te[e])})),n};c||(z=function(){if(f(Y,this))throw X("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=R(e);return u&&ie&&ae(q,t,{configurable:!0,set:function e(r){this===q&&a(e,re,r),d(this,B)&&d(this[B],t)&&(this[B][t]=!1),ae(this,t,m(1,r))}}),oe(t,e)},A(Y=z[V],"toString",(function(){return W(this).tag})),A(z,"withoutSetter",(function(e){return oe(R(e),e)})),T.f=ce,k.f=se,_.f=ue,w.f=le,S.f=E.f=de,x.f=fe,L.f=function(e){return oe(N(e),e)},u&&(C(Y,"description",{configurable:!0,get:function(){return W(this).description}}),s||A(q,"propertyIsEnumerable",ce,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:z}),U(b(ne),(function(e){j(e)})),n({target:G,stat:!0,forced:!c},{useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(e,t){return void 0===t?y(e):ue(y(e),t)},defineProperty:se,defineProperties:ue,getOwnPropertyDescriptor:le}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:de}),M(),D(z,G),O[B]=!0},74065:function(e,t,r){"use strict";var n=r(73587),i=r(37420),a=r(19782),o=r(34534),s=r(78320),u=r(30171),c=r(81778),l=r(55217),d=r(18787),f=r(11147),h=a.Symbol,p=h&&h.prototype;if(i&&u(h)&&(!("description"in p)||void 0!==h().description)){var v={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(p,this)?new h(e):void 0===e?h():h(e);return""===e&&(v[t]=!0),t};f(g,h),g.prototype=p,p.constructor=g;var m="Symbol(test)"==String(h("test")),y=o(p.valueOf),b=o(p.toString),S=/^Symbol\((.*)\)[^)]+$/,E=o("".replace),x=o("".slice);d(p,"description",{configurable:!0,get:function(){var e=y(this);if(s(v,e))return"";var t=b(e),r=m?x(t,7,-1):E(t,S,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:g})}},45970:function(e,t,r){"use strict";var n=r(73587),i=r(66780),a=r(78320),o=r(55217),s=r(67193),u=r(49571),c=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=o(e);if(a(c,t))return c[t];var r=i("Symbol")(t);return c[t]=r,l[r]=t,r}})},23663:function(e,t,r){"use strict";r(58019)("hasInstance")},30186:function(e,t,r){"use strict";r(58019)("isConcatSpreadable")},78199:function(e,t,r){"use strict";r(58019)("iterator")},93764:function(e,t,r){"use strict";r(70920),r(45970),r(10798),r(70734),r(37279)},10798:function(e,t,r){"use strict";var n=r(73587),i=r(78320),a=r(64196),o=r(5065),s=r(67193),u=r(49571),c=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!u},{keyFor:function(e){if(!a(e))throw TypeError(o(e)+" is not a symbol");if(i(c,e))return c[e]}})},2481:function(e,t,r){"use strict";r(58019)("match")},82585:function(e,t,r){"use strict";r(58019)("replace")},16208:function(e,t,r){"use strict";r(58019)("search")},34071:function(e,t,r){"use strict";r(58019)("species")},64383:function(e,t,r){"use strict";r(58019)("split")},26655:function(e,t,r){"use strict";var n=r(58019),i=r(31043);n("toPrimitive"),i()},90049:function(e,t,r){"use strict";var n=r(66780),i=r(58019),a=r(21117);i("toStringTag"),a(n("Symbol"),"Symbol")},18152:function(e,t,r){"use strict";r(58019)("unscopables")},86728:function(e,t,r){"use strict";var n=r(34534),i=r(80049),a=n(r(88891)),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(e,t){return a(o(this),e,t,arguments.length>2?arguments[2]:void 0)}))},11430:function(e,t,r){"use strict";var n=r(80049),i=r(79056).every,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},33292:function(e,t,r){"use strict";var n=r(80049),i=r(76206),a=r(76654),o=r(5249),s=r(37892),u=r(34534),c=r(66111),l=n.aTypedArray,d=n.exportTypedArrayMethod,f=u("".slice);d("fill",(function(e){var t=arguments.length;l(this);var r="Big"===f(o(this),0,3)?a(e):+e;return s(i,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},83938:function(e,t,r){"use strict";var n=r(80049),i=r(79056).filter,a=r(22392),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("filter",(function(e){var t=i(o(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}))},85179:function(e,t,r){"use strict";var n=r(80049),i=r(79056).findIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},1278:function(e,t,r){"use strict";var n=r(80049),i=r(79056).find,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},8532:function(e,t,r){"use strict";r(4070)("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},27788:function(e,t,r){"use strict";r(4070)("Float64",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},89437:function(e,t,r){"use strict";var n=r(80049),i=r(79056).forEach,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",(function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},28702:function(e,t,r){"use strict";var n=r(8630);(0,r(80049).exportTypedArrayStaticMethod)("from",r(13753),n)},79478:function(e,t,r){"use strict";var n=r(80049),i=r(49821).includes,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},45686:function(e,t,r){"use strict";var n=r(80049),i=r(49821).indexOf,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},13473:function(e,t,r){"use strict";r(4070)("Int16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},470:function(e,t,r){"use strict";r(4070)("Int32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},27638:function(e,t,r){"use strict";r(4070)("Int8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},92694:function(e,t,r){"use strict";var n=r(19782),i=r(66111),a=r(34534),o=r(80049),s=r(57359),u=r(75508)("iterator"),c=n.Uint8Array,l=a(s.values),d=a(s.keys),f=a(s.entries),h=o.aTypedArray,p=o.exportTypedArrayMethod,v=c&&c.prototype,g=!i((function(){v[u].call([1])})),m=!!v&&v.values&&v[u]===v.values&&"values"===v.values.name,y=function(){return l(h(this))};p("entries",(function(){return f(h(this))}),g),p("keys",(function(){return d(h(this))}),g),p("values",y,g||!m,{name:"values"}),p(u,y,g||!m,{name:"values"})},30743:function(e,t,r){"use strict";var n=r(80049),i=r(34534),a=n.aTypedArray,o=n.exportTypedArrayMethod,s=i([].join);o("join",(function(e){return s(a(this),e)}))},40643:function(e,t,r){"use strict";var n=r(80049),i=r(12256),a=r(34116),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return i(a,o(this),t>1?[e,arguments[1]]:[e])}))},95338:function(e,t,r){"use strict";var n=r(80049),i=r(79056).map,a=r(26386),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("map",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(e))(t)}))}))},47897:function(e,t,r){"use strict";var n=r(80049),i=r(8630),a=n.aTypedArrayConstructor;(0,n.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,r=new(a(this))(t);t>e;)r[e]=arguments[e++];return r}),i)},64048:function(e,t,r){"use strict";var n=r(80049),i=r(69998).right,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},38601:function(e,t,r){"use strict";var n=r(80049),i=r(69998).left,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},48582:function(e,t,r){"use strict";var n=r(80049),i=n.aTypedArray,a=n.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){for(var e,t=this,r=i(t).length,n=o(r/2),a=0;a<n;)e=t[a],t[a++]=t[--r],t[r]=e;return t}))},36679:function(e,t,r){"use strict";var n=r(19782),i=r(37892),a=r(80049),o=r(76425),s=r(67840),u=r(11446),c=r(66111),l=n.RangeError,d=n.Int8Array,f=d&&d.prototype,h=f&&f.set,p=a.aTypedArray,v=a.exportTypedArrayMethod,g=!c((function(){var e=new Uint8ClampedArray(2);return i(h,e,{length:1,0:3},1),3!==e[1]})),m=g&&a.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));v("set",(function(e){p(this);var t=s(arguments.length>1?arguments[1]:void 0,1),r=u(e);if(g)return i(h,this,r,t);var n=this.length,a=o(r),c=0;if(a+t>n)throw l("Wrong length");for(;c<a;)this[t+c]=r[c++]}),!g||m)},13835:function(e,t,r){"use strict";var n=r(80049),i=r(26386),a=r(66111),o=r(51346),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("slice",(function(e,t){for(var r=o(s(this),e,t),n=i(this),a=0,u=r.length,c=new n(u);u>a;)c[a]=r[a++];return c}),a((function(){new Int8Array(1).slice()})))},39532:function(e,t,r){"use strict";var n=r(80049),i=r(79056).some,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},22754:function(e,t,r){"use strict";var n=r(19782),i=r(69050),a=r(66111),o=r(68973),s=r(65082),u=r(80049),c=r(62554),l=r(90907),d=r(32504),f=r(35199),h=u.aTypedArray,p=u.exportTypedArrayMethod,v=n.Uint16Array,g=v&&i(v.prototype.sort),m=!!g&&!(a((function(){g(new v(2),null)}))&&a((function(){g(new v(2),{})}))),y=!!g&&!a((function(){if(d)return d<74;if(c)return c<67;if(l)return!0;if(f)return f<602;var e,t,r=new v(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(g(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));p("sort",(function(e){return void 0!==e&&o(e),y?g(this,e):s(h(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!==r?-1:t!==t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!y||m)},56633:function(e,t,r){"use strict";var n=r(19782),i=r(12256),a=r(80049),o=r(66111),s=r(51346),u=n.Int8Array,c=a.aTypedArray,l=a.exportTypedArrayMethod,d=[].toLocaleString,f=!!u&&o((function(){d.call(new u(1))}));l("toLocaleString",(function(){return i(d,f?s(c(this)):c(this),s(arguments))}),o((function(){return[1,2].toLocaleString()!=new u([1,2]).toLocaleString()}))||!o((function(){u.prototype.toLocaleString.call([1,2])})))},56038:function(e,t,r){"use strict";var n=r(80049).exportTypedArrayMethod,i=r(66111),a=r(19782),o=r(34534),s=a.Uint8Array,u=s&&s.prototype||{},c=[].toString,l=o([].join);i((function(){c.call({})}))&&(c=function(){return l(this)});var d=u.toString!=c;n("toString",c,d)},23198:function(e,t,r){"use strict";r(4070)("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},62319:function(e,t,r){"use strict";r(4070)("Uint32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},10056:function(e,t,r){"use strict";r(4070)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},18497:function(e,t,r){"use strict";r(4070)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0)},35611:function(e,t,r){"use strict";var n,i=r(31561),a=r(19782),o=r(34534),s=r(22631),u=r(36781),c=r(19881),l=r(70655),d=r(34965),f=r(25313).enforce,h=r(66111),p=r(6626),v=Object,g=Array.isArray,m=v.isExtensible,y=v.isFrozen,b=v.isSealed,S=v.freeze,E=v.seal,x={},w={},k=!a.ActiveXObject&&"ActiveXObject"in a,_=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},T=c("WeakMap",_,l),A=T.prototype,C=o(A.set);if(p)if(k){n=l.getConstructor(_,"WeakMap",!0),u.enable();var P=o(A.delete),I=o(A.has),O=o(A.get);s(A,{delete:function(e){if(d(e)&&!m(e)){var t=f(this);return t.frozen||(t.frozen=new n),P(this,e)||t.frozen.delete(e)}return P(this,e)},has:function(e){if(d(e)&&!m(e)){var t=f(this);return t.frozen||(t.frozen=new n),I(this,e)||t.frozen.has(e)}return I(this,e)},get:function(e){if(d(e)&&!m(e)){var t=f(this);return t.frozen||(t.frozen=new n),I(this,e)?O(this,e):t.frozen.get(e)}return O(this,e)},set:function(e,t){if(d(e)&&!m(e)){var r=f(this);r.frozen||(r.frozen=new n),I(this,e)?C(this,e,t):r.frozen.set(e,t)}else C(this,e,t);return this}})}else i&&h((function(){var e=S([]);return C(new T,e,1),!y(e)}))&&s(A,{set:function(e,t){var r;return g(e)&&(y(e)?r=x:b(e)&&(r=w)),C(this,e,t),r==x&&S(e),r==w&&E(e),this}})},92995:function(e,t,r){"use strict";r(35611)},38306:function(e,t,r){"use strict";r(19881)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(70655))},55429:function(e,t,r){"use strict";r(38306)},78351:function(e,t,r){"use strict";var n=r(73587),i=r(19782),a=r(11092).clear;n({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==a},{clearImmediate:a})},60237:function(e,t,r){"use strict";var n=r(19782),i=r(7727),a=r(17255),o=r(3424),s=r(87454),u=function(e){if(e&&e.forEach!==o)try{s(e,"forEach",o)}catch(t){e.forEach=o}};for(var c in i)i[c]&&u(n[c]&&n[c].prototype);u(a)},67366:function(e,t,r){"use strict";var n=r(19782),i=r(7727),a=r(17255),o=r(57359),s=r(87454),u=r(75508),c=u("iterator"),l=u("toStringTag"),d=o.values,f=function(e,t){if(e){if(e[c]!==d)try{s(e,c,d)}catch(n){e[c]=d}if(e[l]||s(e,l,t),i[t])for(var r in o)if(e[r]!==o[r])try{s(e,r,o[r])}catch(n){e[r]=o[r]}}};for(var h in i)f(n[h]&&n[h].prototype,h);f(a,"DOMTokenList")},25507:function(e,t,r){"use strict";r(78351),r(489)},17619:function(e,t,r){"use strict";var n=r(73587),i=r(19782),a=r(20209),o=r(68973),s=r(24050),u=r(70520),c=i.process;n({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(e){s(arguments.length,1),o(e);var t=u&&c.domain;a(t?t.bind(e):e)}})},489:function(e,t,r){"use strict";var n=r(73587),i=r(19782),a=r(11092).set,o=r(55502),s=i.setImmediate?o(a,!1):a;n({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==s},{setImmediate:s})},72029:function(e,t,r){"use strict";r(57359);var n=r(73587),i=r(19782),a=r(37892),o=r(34534),s=r(37420),u=r(63806),c=r(63609),l=r(18787),d=r(22631),f=r(21117),h=r(82992),p=r(25313),v=r(35793),g=r(30171),m=r(78320),y=r(25852),b=r(5249),S=r(59799),E=r(34965),x=r(55217),w=r(83302),k=r(80431),_=r(68029),T=r(84284),A=r(24050),C=r(75508),P=r(65082),I=C("iterator"),O="URLSearchParams",R=O+"Iterator",N=p.set,L=p.getterFor(O),j=p.getterFor(R),M=Object.getOwnPropertyDescriptor,D=function(e){if(!s)return i[e];var t=M(i,e);return t&&t.value},F=D("fetch"),U=D("Request"),B=D("Headers"),G=U&&U.prototype,V=B&&B.prototype,H=i.RegExp,W=i.TypeError,q=i.decodeURIComponent,z=i.encodeURIComponent,Y=o("".charAt),X=o([].join),K=o([].push),J=o("".replace),Z=o([].shift),Q=o([].splice),$=o("".split),ee=o("".slice),te=/\+/g,re=Array(4),ne=function(e){return re[e-1]||(re[e-1]=H("((?:%[\\da-f]{2}){"+e+"})","gi"))},ie=function(e){try{return q(e)}catch(t){return e}},ae=function(e){var t=J(e,te," "),r=4;try{return q(t)}catch(n){for(;r;)t=J(t,ne(r--),ie);return t}},oe=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ue=function(e){return se[e]},ce=function(e){return J(z(e),oe,ue)},le=h((function(e,t){N(this,{type:R,iterator:_(L(e).entries),kind:t})}),"Iterator",(function(){var e=j(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r}),!0),de=function(e){this.entries=[],this.url=null,void 0!==e&&(E(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===Y(e,0)?ee(e,1):e:x(e)))};de.prototype={type:O,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,i,o,s,u,c=T(e);if(c)for(r=(t=_(e,c)).next;!(n=a(r,t)).done;){if(o=(i=_(S(n.value))).next,(s=a(o,i)).done||(u=a(o,i)).done||!a(o,i).done)throw W("Expected sequence with length 2");K(this.entries,{key:x(s.value),value:x(u.value)})}else for(var l in e)m(e,l)&&K(this.entries,{key:l,value:x(e[l])})},parseQuery:function(e){if(e)for(var t,r,n=$(e,"&"),i=0;i<n.length;)(t=n[i++]).length&&(r=$(t,"="),K(this.entries,{key:ae(Z(r)),value:ae(X(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;)e=t[n++],K(r,ce(e.key)+"="+ce(e.value));return X(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var fe=function(){v(this,he);var e=N(this,new de(arguments.length>0?arguments[0]:void 0));s||(this.size=e.entries.length)},he=fe.prototype;if(d(he,{append:function(e,t){var r=L(this);A(arguments.length,2),K(r.entries,{key:x(e),value:x(t)}),s||this.length++,r.updateURL()},delete:function(e){for(var t=L(this),r=A(arguments.length,1),n=t.entries,i=x(e),a=r<2?void 0:arguments[1],o=void 0===a?a:x(a),u=0;u<n.length;){var c=n[u];if(c.key!==i||void 0!==o&&c.value!==o)u++;else if(Q(n,u,1),void 0!==o)break}s||(this.size=n.length),t.updateURL()},get:function(e){var t=L(this).entries;A(arguments.length,1);for(var r=x(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){var t=L(this).entries;A(arguments.length,1);for(var r=x(e),n=[],i=0;i<t.length;i++)t[i].key===r&&K(n,t[i].value);return n},has:function(e){for(var t=L(this).entries,r=A(arguments.length,1),n=x(e),i=r<2?void 0:arguments[1],a=void 0===i?i:x(i),o=0;o<t.length;){var s=t[o++];if(s.key===n&&(void 0===a||s.value===a))return!0}return!1},set:function(e,t){var r=L(this);A(arguments.length,1);for(var n,i=r.entries,a=!1,o=x(e),u=x(t),c=0;c<i.length;c++)(n=i[c]).key===o&&(a?Q(i,c--,1):(a=!0,n.value=u));a||K(i,{key:o,value:u}),s||(this.size=i.length),r.updateURL()},sort:function(){var e=L(this);P(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=L(this).entries,n=y(e,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((t=r[i++]).value,t.key,this)},keys:function(){return new le(this,"keys")},values:function(){return new le(this,"values")},entries:function(){return new le(this,"entries")}},{enumerable:!0}),c(he,I,he.entries,{name:"entries"}),c(he,"toString",(function(){return L(this).serialize()}),{enumerable:!0}),s&&l(he,"size",{get:function(){return L(this).entries.length},configurable:!0,enumerable:!0}),f(fe,O),n({global:!0,constructor:!0,forced:!u},{URLSearchParams:fe}),!u&&g(B)){var pe=o(V.has),ve=o(V.set),ge=function(e){if(E(e)){var t,r=e.body;if(b(r)===O)return t=e.headers?new B(e.headers):new B,pe(t,"content-type")||ve(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),w(e,{body:k(0,x(r)),headers:k(0,t)})}return e};if(g(F)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return F(e,arguments.length>1?ge(arguments[1]):{})}}),g(U)){var me=function(e){return v(this,G),new U(e,arguments.length>1?ge(arguments[1]):{})};G.constructor=me,me.prototype=G,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:me})}}e.exports={URLSearchParams:fe,getState:L}},91642:function(e,t,r){"use strict";r(72029)},48613:function(e,t,r){"use strict";r(90192);var n,i=r(73587),a=r(37420),o=r(63806),s=r(19782),u=r(25852),c=r(34534),l=r(63609),d=r(18787),f=r(35793),h=r(78320),p=r(85698),v=r(97509),g=r(92914),m=r(19838).codeAt,y=r(34148),b=r(55217),S=r(21117),E=r(24050),x=r(72029),w=r(25313),k=w.set,_=w.getterFor("URL"),T=x.URLSearchParams,A=x.getState,C=s.URL,P=s.TypeError,I=s.parseInt,O=Math.floor,R=Math.pow,N=c("".charAt),L=c(/./.exec),j=c([].join),M=c(1..toString),D=c([].pop),F=c([].push),U=c("".replace),B=c([].shift),G=c("".split),V=c("".slice),H=c("".toLowerCase),W=c([].unshift),q="Invalid scheme",z="Invalid host",Y="Invalid port",X=/[a-z]/i,K=/[\d+-.a-z]/i,J=/\d/,Z=/^0x/i,Q=/^[0-7]+$/,$=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,ne=/^[\u0000-\u0020]+/,ie=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ae=/[\t\n\r]/g,oe=function(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)W(t,e%256),e=O(e/256);return j(t,".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,i=0,a=0;a<8;a++)0!==e[a]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=a),++i);return i>r&&(t=n,r=i),t}(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=M(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},se={},ue=p({},se,{" ":1,'"':1,"<":1,">":1,"`":1}),ce=p({},ue,{"#":1,"?":1,"{":1,"}":1}),le=p({},ce,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(e,t){var r=m(e,0);return r>32&&r<127&&!h(t,e)?e:encodeURIComponent(e)},fe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},he=function(e,t){var r;return 2==e.length&&L(X,N(e,0))&&(":"==(r=N(e,1))||!t&&"|"==r)},pe=function(e){var t;return e.length>1&&he(V(e,0,2))&&(2==e.length||"/"===(t=N(e,2))||"\\"===t||"?"===t||"#"===t)},ve=function(e){return"."===e||"%2e"===H(e)},ge={},me={},ye={},be={},Se={},Ee={},xe={},we={},ke={},_e={},Te={},Ae={},Ce={},Pe={},Ie={},Oe={},Re={},Ne={},Le={},je={},Me={},De=function e(t,r,n){var i,a,o,s=b(t);if(r){if(a=this.parse(s))throw P(a);this.searchParams=null}else{if(void 0!==n&&(i=new e(n,!0)),a=this.parse(s,null,i))throw P(a);(o=A(new T)).bindURL(this),this.searchParams=o}};De.prototype={type:"URL",parse:function(e,t,r){var i,a,o,s,u,c=this,l=t||ge,d=0,f="",p=!1,m=!1,y=!1;for(e=b(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=U(e,ne,""),e=U(e,ie,"$1")),e=U(e,ae,""),i=v(e);d<=i.length;){switch(a=i[d],l){case ge:if(!a||!L(X,a)){if(t)return q;l=ye;continue}f+=H(a),l=me;break;case me:if(a&&(L(K,a)||"+"==a||"-"==a||"."==a))f+=H(a);else{if(":"!=a){if(t)return q;f="",l=ye,d=0;continue}if(t&&(c.isSpecial()!=h(fe,f)||"file"==f&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=f,t)return void(c.isSpecial()&&fe[c.scheme]==c.port&&(c.port=null));f="","file"==c.scheme?l=Pe:c.isSpecial()&&r&&r.scheme==c.scheme?l=be:c.isSpecial()?l=we:"/"==i[d+1]?(l=Se,d++):(c.cannotBeABaseURL=!0,F(c.path,""),l=Le)}break;case ye:if(!r||r.cannotBeABaseURL&&"#"!=a)return q;if(r.cannotBeABaseURL&&"#"==a){c.scheme=r.scheme,c.path=g(r.path),c.query=r.query,c.fragment="",c.cannotBeABaseURL=!0,l=Me;break}l="file"==r.scheme?Pe:Ee;continue;case be:if("/"!=a||"/"!=i[d+1]){l=Ee;continue}l=ke,d++;break;case Se:if("/"==a){l=_e;break}l=Ne;continue;case Ee:if(c.scheme=r.scheme,a==n)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=g(r.path),c.query=r.query;else if("/"==a||"\\"==a&&c.isSpecial())l=xe;else if("?"==a)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=g(r.path),c.query="",l=je;else{if("#"!=a){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=g(r.path),c.path.length--,l=Ne;continue}c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=g(r.path),c.query=r.query,c.fragment="",l=Me}break;case xe:if(!c.isSpecial()||"/"!=a&&"\\"!=a){if("/"!=a){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,l=Ne;continue}l=_e}else l=ke;break;case we:if(l=ke,"/"!=a||"/"!=N(f,d+1))continue;d++;break;case ke:if("/"!=a&&"\\"!=a){l=_e;continue}break;case _e:if("@"==a){p&&(f="%40"+f),p=!0,o=v(f);for(var S=0;S<o.length;S++){var E=o[S];if(":"!=E||y){var x=de(E,le);y?c.password+=x:c.username+=x}else y=!0}f=""}else if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()){if(p&&""==f)return"Invalid authority";d-=v(f).length+1,f="",l=Te}else f+=a;break;case Te:case Ae:if(t&&"file"==c.scheme){l=Oe;continue}if(":"!=a||m){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()){if(c.isSpecial()&&""==f)return z;if(t&&""==f&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(f))return s;if(f="",l=Re,t)return;continue}"["==a?m=!0:"]"==a&&(m=!1),f+=a}else{if(""==f)return z;if(s=c.parseHost(f))return s;if(f="",l=Ce,t==Ae)return}break;case Ce:if(!L(J,a)){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()||t){if(""!=f){var w=I(f,10);if(w>65535)return Y;c.port=c.isSpecial()&&w===fe[c.scheme]?null:w,f=""}if(t)return;l=Re;continue}return Y}f+=a;break;case Pe:if(c.scheme="file","/"==a||"\\"==a)l=Ie;else{if(!r||"file"!=r.scheme){l=Ne;continue}if(a==n)c.host=r.host,c.path=g(r.path),c.query=r.query;else if("?"==a)c.host=r.host,c.path=g(r.path),c.query="",l=je;else{if("#"!=a){pe(j(g(i,d),""))||(c.host=r.host,c.path=g(r.path),c.shortenPath()),l=Ne;continue}c.host=r.host,c.path=g(r.path),c.query=r.query,c.fragment="",l=Me}}break;case Ie:if("/"==a||"\\"==a){l=Oe;break}r&&"file"==r.scheme&&!pe(j(g(i,d),""))&&(he(r.path[0],!0)?F(c.path,r.path[0]):c.host=r.host),l=Ne;continue;case Oe:if(a==n||"/"==a||"\\"==a||"?"==a||"#"==a){if(!t&&he(f))l=Ne;else if(""==f){if(c.host="",t)return;l=Re}else{if(s=c.parseHost(f))return s;if("localhost"==c.host&&(c.host=""),t)return;f="",l=Re}continue}f+=a;break;case Re:if(c.isSpecial()){if(l=Ne,"/"!=a&&"\\"!=a)continue}else if(t||"?"!=a)if(t||"#"!=a){if(a!=n&&(l=Ne,"/"!=a))continue}else c.fragment="",l=Me;else c.query="",l=je;break;case Ne:if(a==n||"/"==a||"\\"==a&&c.isSpecial()||!t&&("?"==a||"#"==a)){if(".."===(u=H(u=f))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(c.shortenPath(),"/"==a||"\\"==a&&c.isSpecial()||F(c.path,"")):ve(f)?"/"==a||"\\"==a&&c.isSpecial()||F(c.path,""):("file"==c.scheme&&!c.path.length&&he(f)&&(c.host&&(c.host=""),f=N(f,0)+":"),F(c.path,f)),f="","file"==c.scheme&&(a==n||"?"==a||"#"==a))for(;c.path.length>1&&""===c.path[0];)B(c.path);"?"==a?(c.query="",l=je):"#"==a&&(c.fragment="",l=Me)}else f+=de(a,ce);break;case Le:"?"==a?(c.query="",l=je):"#"==a?(c.fragment="",l=Me):a!=n&&(c.path[0]+=de(a,se));break;case je:t||"#"!=a?a!=n&&("'"==a&&c.isSpecial()?c.query+="%27":c.query+="#"==a?"%23":de(a,se)):(c.fragment="",l=Me);break;case Me:a!=n&&(c.fragment+=de(a,ue))}d++}},parseHost:function(e){var t,r,n;if("["==N(e,0)){if("]"!=N(e,e.length-1))return z;if(t=function(e){var t,r,n,i,a,o,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,d=0,f=function(){return N(e,d)};if(":"==f()){if(":"!=N(e,1))return;d+=2,l=++c}for(;f();){if(8==c)return;if(":"!=f()){for(t=r=0;r<4&&L(ee,f());)t=16*t+I(f(),16),d++,r++;if("."==f()){if(0==r)return;if(d-=r,c>6)return;for(n=0;f();){if(i=null,n>0){if(!("."==f()&&n<4))return;d++}if(!L(J,f()))return;for(;L(J,f());){if(a=I(f(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;d++}u[c]=256*u[c]+i,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;u[c++]=t}else{if(null!==l)return;d++,l=++c}}if(null!==l)for(o=c-l,c=7;0!=c&&o>0;)s=u[c],u[c--]=u[l+o-1],u[l+--o]=s;else if(8!=c)return;return u}(V(e,1,-1)),!t)return z;this.host=t}else if(this.isSpecial()){if(e=y(e),L(te,e))return z;if(t=function(e){var t,r,n,i,a,o,s,u=G(e,".");if(u.length&&""==u[u.length-1]&&u.length--,(t=u.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(i=u[n]))return e;if(a=10,i.length>1&&"0"==N(i,0)&&(a=L(Z,i)?16:8,i=V(i,8==a?1:2)),""===i)o=0;else{if(!L(10==a?$:8==a?Q:ee,i))return e;o=I(i,a)}F(r,o)}for(n=0;n<t;n++)if(o=r[n],n==t-1){if(o>=R(256,5-t))return null}else if(o>255)return null;for(s=D(r),n=0;n<r.length;n++)s+=r[n]*R(256,3-n);return s}(e),null===t)return z;this.host=t}else{if(L(re,e))return z;for(t="",r=v(e),n=0;n<r.length;n++)t+=de(r[n],se);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return h(fe,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&he(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,a=e.port,o=e.path,s=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=r+(n?":"+n:"")+"@"),c+=oe(i),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+j(o,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},setHref:function(e){var t=this.parse(e);if(t)throw P(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Fe(e.path[0]).origin}catch(r){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",ge)},getUsername:function(){return this.username},setUsername:function(e){var t=v(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=de(t[r],le)}},getPassword:function(){return this.password},setPassword:function(e){var t=v(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=de(t[r],le)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Te)},getHostname:function(){var e=this.host;return null===e?"":oe(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Ae)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=b(e))?this.port=null:this.parse(e,Ce))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+j(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Re))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=b(e))?this.query=null:("?"==N(e,0)&&(e=V(e,1)),this.query="",this.parse(e,je)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=b(e))?("#"==N(e,0)&&(e=V(e,1)),this.fragment="",this.parse(e,Me)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Fe=function(e){var t=f(this,Ue),r=E(arguments.length,1)>1?arguments[1]:void 0,n=k(t,new De(e,!1,r));a||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},Ue=Fe.prototype,Be=function(e,t){return{get:function(){return _(this)[e]()},set:t&&function(e){return _(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(d(Ue,"href",Be("serialize","setHref")),d(Ue,"origin",Be("getOrigin")),d(Ue,"protocol",Be("getProtocol","setProtocol")),d(Ue,"username",Be("getUsername","setUsername")),d(Ue,"password",Be("getPassword","setPassword")),d(Ue,"host",Be("getHost","setHost")),d(Ue,"hostname",Be("getHostname","setHostname")),d(Ue,"port",Be("getPort","setPort")),d(Ue,"pathname",Be("getPathname","setPathname")),d(Ue,"search",Be("getSearch","setSearch")),d(Ue,"searchParams",Be("getSearchParams")),d(Ue,"hash",Be("getHash","setHash"))),l(Ue,"toJSON",(function(){return _(this).serialize()}),{enumerable:!0}),l(Ue,"toString",(function(){return _(this).serialize()}),{enumerable:!0}),C){var Ge=C.createObjectURL,Ve=C.revokeObjectURL;Ge&&l(Fe,"createObjectURL",u(Ge,C)),Ve&&l(Fe,"revokeObjectURL",u(Ve,C))}S(Fe,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!a},{URL:Fe})},36037:function(e,t,r){"use strict";r(48613)},53245:function(e,t,r){"use strict";var n=r(73587),i=r(37892);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},67861:function(e,t,r){"use strict";var n=r(89456),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return n.isMemo(e)?o:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(p){var i=h(r);i&&i!==p&&e(t,i,n)}var o=l(r);d&&(o=o.concat(d(r)));for(var s=u(t),v=u(r),g=0;g<o.length;++g){var m=o[g];if(!a[m]&&(!n||!n[m])&&(!v||!v[m])&&(!s||!s[m])){var y=f(r,m);try{c(t,m,y)}catch(b){}}}}return t}},20229:function(e,t){"use strict";var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,l=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,S=r?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case l:case d:case a:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case f:case g:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return E(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=u,t.Element=n,t.ForwardRef=f,t.Fragment=a,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||E(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return E(e)===c},t.isContextProvider=function(e){return E(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return E(e)===f},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===g},t.isMemo=function(e){return E(e)===v},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===s},t.isStrictMode=function(e){return E(e)===o},t.isSuspense=function(e){return E(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===s||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===S||e.$$typeof===m)},t.typeOf=E},89456:function(e,t,r){"use strict";e.exports=r(20229)},60545:function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,d=r?i-1:0,f=r?-1:1,h=e[t+d];for(d+=f,a=h&(1<<-l)-1,h>>=-l,l+=s;l>0;a=256*a+e[t+d],d+=f,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=n;l>0;o=256*o+e[t+d],d+=f,l-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=c}return(h?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,u,c=8*a-i-1,l=(1<<c)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,p=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+d>=1?f/u:f*Math.pow(2,1-d))*u>=2&&(o++,u/=2),o+d>=l?(s=0,o=l):o+d>=1?(s=(t*u-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+h]=255&o,h+=p,o/=256,c-=8);e[r+h-p]|=128*v}},81725:function(e,t,r){var n=r(70781)(r(7289),"DataView");e.exports=n},69748:function(e,t,r){var n=r(56545),i=r(69843),a=r(86266),o=r(17364),s=r(74156);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},95745:function(e,t,r){var n=r(20329),i=r(39666),a=r(2523),o=r(24397),s=r(73316);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},18579:function(e,t,r){var n=r(70781)(r(7289),"Map");e.exports=n},13109:function(e,t,r){var n=r(79e3),i=r(37240),a=r(63414),o=r(17140),s=r(85429);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},59946:function(e,t,r){var n=r(70781)(r(7289),"Promise");e.exports=n},4199:function(e,t,r){var n=r(70781)(r(7289),"Set");e.exports=n},44526:function(e,t,r){var n=r(13109),i=r(85845),a=r(35544);function o(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},17016:function(e,t,r){var n=r(95745),i=r(23653),a=r(43359),o=r(92571),s=r(31698),u=r(85883);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=u,e.exports=c},68624:function(e,t,r){var n=r(7289).Symbol;e.exports=n},6759:function(e,t,r){var n=r(7289).Uint8Array;e.exports=n},13289:function(e,t,r){var n=r(70781)(r(7289),"WeakMap");e.exports=n},44235:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},74951:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}},83200:function(e,t,r){var n=r(94499),i=r(52794),a=r(95585),o=r(70667),s=r(30674),u=r(53153),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=a(e),l=!r&&i(e),d=!r&&!l&&o(e),f=!r&&!l&&!d&&u(e),h=r||l||d||f,p=h?n(e.length,String):[],v=p.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||p.push(g);return p}},45349:function(e){e.exports=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},29330:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},87347:function(e,t,r){var n=r(46351),i=r(83666),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var o=e[t];a.call(e,t)&&i(o,r)&&(void 0!==r||t in e)||n(e,t,r)}},69194:function(e,t,r){var n=r(83666);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},93035:function(e,t,r){var n=r(67538),i=r(56385);e.exports=function(e,t){return e&&n(t,i(t),e)}},56045:function(e,t,r){var n=r(67538),i=r(67086);e.exports=function(e,t){return e&&n(t,i(t),e)}},46351:function(e,t,r){var n=r(31438);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},46476:function(e,t,r){var n=r(17016),i=r(44235),a=r(87347),o=r(93035),s=r(56045),u=r(28087),c=r(52594),l=r(42497),d=r(14742),f=r(87253),h=r(15508),p=r(68466),v=r(47633),g=r(57355),m=r(16484),y=r(95585),b=r(70667),S=r(15874),E=r(91845),x=r(41859),w=r(56385),k=r(67086),_="[object Arguments]",T="[object Function]",A="[object Object]",C={};C[_]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[A]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[T]=C["[object WeakMap]"]=!1,e.exports=function e(t,r,P,I,O,R){var N,L=1&r,j=2&r,M=4&r;if(P&&(N=O?P(t,I,O,R):P(t)),void 0!==N)return N;if(!E(t))return t;var D=y(t);if(D){if(N=v(t),!L)return c(t,N)}else{var F=p(t),U=F==T||"[object GeneratorFunction]"==F;if(b(t))return u(t,L);if(F==A||F==_||U&&!O){if(N=j||U?{}:m(t),!L)return j?d(t,s(N,t)):l(t,o(N,t))}else{if(!C[F])return O?t:{};N=g(t,F,L)}}R||(R=new n);var B=R.get(t);if(B)return B;R.set(t,N),x(t)?t.forEach((function(n){N.add(e(n,r,P,n,t,R))})):S(t)&&t.forEach((function(n,i){N.set(i,e(n,r,P,i,t,R))}));var G=D?void 0:(M?j?h:f:j?k:w)(t);return i(G||t,(function(n,i){G&&(n=t[i=n]),a(N,i,e(n,r,P,i,t,R))})),N}},98303:function(e,t,r){var n=r(91845),i=Object.create,a=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=a},92606:function(e,t,r){var n=r(45349),i=r(95585);e.exports=function(e,t,r){var a=t(e);return i(e)?a:n(a,r(e))}},18665:function(e,t,r){var n=r(68624),i=r(23596),a=r(78186),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},51276:function(e,t,r){var n=r(18665),i=r(89752);e.exports=function(e){return i(e)&&"[object Arguments]"==n(e)}},7081:function(e,t,r){var n=r(89110),i=r(89752);e.exports=function e(t,r,a,o,s){return t===r||(null==t||null==r||!i(t)&&!i(r)?t!==t&&r!==r:n(t,r,a,o,e,s))}},89110:function(e,t,r){var n=r(17016),i=r(94132),a=r(89820),o=r(6353),s=r(68466),u=r(95585),c=r(70667),l=r(53153),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,v,g,m){var y=u(e),b=u(t),S=y?f:s(e),E=b?f:s(t),x=(S=S==d?h:S)==h,w=(E=E==d?h:E)==h,k=S==E;if(k&&c(e)){if(!c(t))return!1;y=!0,x=!1}if(k&&!x)return m||(m=new n),y||l(e)?i(e,t,r,v,g,m):a(e,t,S,r,v,g,m);if(!(1&r)){var _=x&&p.call(e,"__wrapped__"),T=w&&p.call(t,"__wrapped__");if(_||T){var A=_?e.value():e,C=T?t.value():t;return m||(m=new n),g(A,C,r,v,m)}}return!!k&&(m||(m=new n),o(e,t,r,v,g,m))}},37094:function(e,t,r){var n=r(68466),i=r(89752);e.exports=function(e){return i(e)&&"[object Map]"==n(e)}},33186:function(e,t,r){var n=r(50375),i=r(65401),a=r(91845),o=r(92043),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,d=c.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(n(e)?f:s).test(o(e))}},18711:function(e,t,r){var n=r(68466),i=r(89752);e.exports=function(e){return i(e)&&"[object Set]"==n(e)}},77499:function(e,t,r){var n=r(18665),i=r(44276),a=r(89752),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[n(e)]}},23409:function(e,t,r){var n=r(46132),i=r(8723),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}},89130:function(e,t,r){var n=r(91845),i=r(46132),a=r(3481),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=i(e),r=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&r.push(s);return r}},94499:function(e){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},2306:function(e,t,r){var n=r(5510),i=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(i,""):e}},36902:function(e){e.exports=function(e){return function(t){return e(t)}}},88905:function(e){e.exports=function(e,t){return e.has(t)}},72604:function(e,t,r){var n=r(6759);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},28087:function(e,t,r){e=r.nmd(e);var n=r(7289),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}},81893:function(e,t,r){var n=r(72604);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},73360:function(e){var t=/\w*$/;e.exports=function(e){var r=new e.constructor(e.source,t.exec(e));return r.lastIndex=e.lastIndex,r}},47981:function(e,t,r){var n=r(68624),i=n?n.prototype:void 0,a=i?i.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},55888:function(e,t,r){var n=r(72604);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},52594:function(e){e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},67538:function(e,t,r){var n=r(87347),i=r(46351);e.exports=function(e,t,r,a){var o=!r;r||(r={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=a?a(r[c],e[c],c,r,e):void 0;void 0===l&&(l=e[c]),o?i(r,c,l):n(r,c,l)}return r}},42497:function(e,t,r){var n=r(67538),i=r(66504);e.exports=function(e,t){return n(e,i(e),t)}},14742:function(e,t,r){var n=r(67538),i=r(42757);e.exports=function(e,t){return n(e,i(e),t)}},47683:function(e,t,r){var n=r(7289)["__core-js_shared__"];e.exports=n},31438:function(e,t,r){var n=r(70781),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},94132:function(e,t,r){var n=r(44526),i=r(29330),a=r(88905);e.exports=function(e,t,r,o,s,u){var c=1&r,l=e.length,d=t.length;if(l!=d&&!(c&&d>l))return!1;var f=u.get(e),h=u.get(t);if(f&&h)return f==t&&h==e;var p=-1,v=!0,g=2&r?new n:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var m=e[p],y=t[p];if(o)var b=c?o(y,m,p,t,e,u):o(m,y,p,e,t,u);if(void 0!==b){if(b)continue;v=!1;break}if(g){if(!i(t,(function(e,t){if(!a(g,t)&&(m===e||s(m,e,r,o,u)))return g.push(t)}))){v=!1;break}}else if(m!==y&&!s(m,y,r,o,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},89820:function(e,t,r){var n=r(68624),i=r(6759),a=r(83666),o=r(94132),s=r(258),u=r(73671),c=n?n.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,r,n,c,d,f){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&n;if(h||(h=u),e.size!=t.size&&!p)return!1;var v=f.get(e);if(v)return v==t;n|=2,f.set(e,t);var g=o(h(e),h(t),n,c,d,f);return f.delete(e),g;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},6353:function(e,t,r){var n=r(87253),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,a,o,s){var u=1&r,c=n(e),l=c.length;if(l!=n(t).length&&!u)return!1;for(var d=l;d--;){var f=c[d];if(!(u?f in t:i.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var v=!0;s.set(e,t),s.set(t,e);for(var g=u;++d<l;){var m=e[f=c[d]],y=t[f];if(a)var b=u?a(y,m,f,t,e,s):a(m,y,f,e,t,s);if(!(void 0===b?m===y||o(m,y,r,a,s):b)){v=!1;break}g||(g="constructor"==f)}if(v&&!g){var S=e.constructor,E=t.constructor;S==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof S&&S instanceof S&&"function"==typeof E&&E instanceof E||(v=!1)}return s.delete(e),s.delete(t),v}},32692:function(e,t,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},87253:function(e,t,r){var n=r(92606),i=r(66504),a=r(56385);e.exports=function(e){return n(e,a,i)}},15508:function(e,t,r){var n=r(92606),i=r(42757),a=r(67086);e.exports=function(e){return n(e,a,i)}},16911:function(e,t,r){var n=r(81591);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},70781:function(e,t,r){var n=r(33186),i=r(80760);e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},96116:function(e,t,r){var n=r(9698)(Object.getPrototypeOf,Object);e.exports=n},23596:function(e,t,r){var n=r(68624),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(u){}var i=o.call(e);return n&&(t?e[s]=r:delete e[s]),i}},66504:function(e,t,r){var n=r(74951),i=r(72554),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),n(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=s},42757:function(e,t,r){var n=r(45349),i=r(96116),a=r(66504),o=r(72554),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,a(e)),e=i(e);return t}:o;e.exports=s},68466:function(e,t,r){var n=r(81725),i=r(18579),a=r(59946),o=r(4199),s=r(13289),u=r(18665),c=r(92043),l="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",v=c(n),g=c(i),m=c(a),y=c(o),b=c(s),S=u;(n&&S(new n(new ArrayBuffer(1)))!=p||i&&S(new i)!=l||a&&S(a.resolve())!=d||o&&S(new o)!=f||s&&S(new s)!=h)&&(S=function(e){var t=u(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case v:return p;case g:return l;case m:return d;case y:return f;case b:return h}return t}),e.exports=S},80760:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},56545:function(e,t,r){var n=r(11353);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},69843:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},86266:function(e,t,r){var n=r(11353),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(t,e)?t[e]:void 0}},17364:function(e,t,r){var n=r(11353),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},74156:function(e,t,r){var n=r(11353);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},47633:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var r=e.length,n=new e.constructor(r);return r&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},57355:function(e,t,r){var n=r(72604),i=r(81893),a=r(73360),o=r(47981),s=r(55888);e.exports=function(e,t,r){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return i(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,r);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return a(e);case"[object Symbol]":return o(e)}}},16484:function(e,t,r){var n=r(98303),i=r(96116),a=r(46132);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:n(i(e))}},30674:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},81591:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},65401:function(e,t,r){var n=r(47683),i=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},46132:function(e){var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},20329:function(e){e.exports=function(){this.__data__=[],this.size=0}},39666:function(e,t,r){var n=r(69194),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():i.call(t,r,1),--this.size,!0)}},2523:function(e,t,r){var n=r(69194);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},24397:function(e,t,r){var n=r(69194);e.exports=function(e){return n(this.__data__,e)>-1}},73316:function(e,t,r){var n=r(69194);e.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},79e3:function(e,t,r){var n=r(69748),i=r(95745),a=r(18579);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||i),string:new n}}},37240:function(e,t,r){var n=r(16911);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},63414:function(e,t,r){var n=r(16911);e.exports=function(e){return n(this,e).get(e)}},17140:function(e,t,r){var n=r(16911);e.exports=function(e){return n(this,e).has(e)}},85429:function(e,t,r){var n=r(16911);e.exports=function(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},258:function(e){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},11353:function(e,t,r){var n=r(70781)(Object,"create");e.exports=n},8723:function(e,t,r){var n=r(9698)(Object.keys,Object);e.exports=n},3481:function(e){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},47785:function(e,t,r){e=r.nmd(e);var n=r(32692),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&n.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},78186:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9698:function(e){e.exports=function(e,t){return function(r){return e(t(r))}}},7289:function(e,t,r){var n=r(32692),i="object"==typeof self&&self&&self.Object===Object&&self,a=n||i||Function("return this")();e.exports=a},85845:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},35544:function(e){e.exports=function(e){return this.__data__.has(e)}},73671:function(e){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},23653:function(e,t,r){var n=r(95745);e.exports=function(){this.__data__=new n,this.size=0}},43359:function(e){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},92571:function(e){e.exports=function(e){return this.__data__.get(e)}},31698:function(e){e.exports=function(e){return this.__data__.has(e)}},85883:function(e,t,r){var n=r(95745),i=r(18579),a=r(13109);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var o=r.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new a(o)}return r.set(e,t),this.size=r.size,this}},92043:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}},5510:function(e){var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},38504:function(e,t,r){var n=r(46476);e.exports=function(e){return n(e,5)}},12279:function(e,t,r){var n=r(91845),i=r(46170),a=r(57923),o=Math.max,s=Math.min;e.exports=function(e,t,r){var u,c,l,d,f,h,p=0,v=!1,g=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var r=u,n=c;return u=c=void 0,p=t,d=e.apply(n,r)}function b(e){var r=e-h;return void 0===h||r>=t||r<0||g&&e-p>=l}function S(){var e=i();if(b(e))return E(e);f=setTimeout(S,function(e){var r=t-(e-h);return g?s(r,l-(e-p)):r}(e))}function E(e){return f=void 0,m&&u?y(e):(u=c=void 0,d)}function x(){var e=i(),r=b(e);if(u=arguments,c=this,h=e,r){if(void 0===f)return function(e){return p=e,f=setTimeout(S,t),v?y(e):d}(h);if(g)return clearTimeout(f),f=setTimeout(S,t),y(h)}return void 0===f&&(f=setTimeout(S,t)),d}return t=a(t)||0,n(r)&&(v=!!r.leading,l=(g="maxWait"in r)?o(a(r.maxWait)||0,t):l,m="trailing"in r?!!r.trailing:m),x.cancel=function(){void 0!==f&&clearTimeout(f),p=0,u=h=c=f=void 0},x.flush=function(){return void 0===f?d:E(i())},x}},83666:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},52794:function(e,t,r){var n=r(51276),i=r(89752),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},95585:function(e){var t=Array.isArray;e.exports=t},2114:function(e,t,r){var n=r(50375),i=r(44276);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},70667:function(e,t,r){e=r.nmd(e);var n=r(7289),i=r(95535),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?n.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},1905:function(e,t,r){var n=r(7081);e.exports=function(e,t){return n(e,t)}},50375:function(e,t,r){var n=r(18665),i=r(91845);e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},44276:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},15874:function(e,t,r){var n=r(37094),i=r(36902),a=r(47785),o=a&&a.isMap,s=o?i(o):n;e.exports=s},91845:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},89752:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},41859:function(e,t,r){var n=r(18711),i=r(36902),a=r(47785),o=a&&a.isSet,s=o?i(o):n;e.exports=s},72060:function(e,t,r){var n=r(18665),i=r(89752);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},53153:function(e,t,r){var n=r(77499),i=r(36902),a=r(47785),o=a&&a.isTypedArray,s=o?i(o):n;e.exports=s},56385:function(e,t,r){var n=r(83200),i=r(23409),a=r(2114);e.exports=function(e){return a(e)?n(e):i(e)}},67086:function(e,t,r){var n=r(83200),i=r(89130),a=r(2114);e.exports=function(e){return a(e)?n(e,!0):i(e)}},16031:function(e,t,r){var n;e=r.nmd(e),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,c=32,l=64,d=128,f=256,h=1/0,p=9007199254740991,v=NaN,g=4294967295,m=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",c],["partialRight",l],["rearg",f]],y="[object Arguments]",b="[object Array]",S="[object Boolean]",E="[object Date]",x="[object Error]",w="[object Function]",k="[object GeneratorFunction]",_="[object Map]",T="[object Number]",A="[object Object]",C="[object Promise]",P="[object RegExp]",I="[object Set]",O="[object String]",R="[object Symbol]",N="[object WeakMap]",L="[object ArrayBuffer]",j="[object DataView]",M="[object Float32Array]",D="[object Float64Array]",F="[object Int8Array]",U="[object Int16Array]",B="[object Int32Array]",G="[object Uint8Array]",V="[object Uint8ClampedArray]",H="[object Uint16Array]",W="[object Uint32Array]",q=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,J=RegExp(X.source),Z=RegExp(K.source),Q=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ie.source),oe=/^\s+/,se=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,Se=/^(?:0|[1-9]\d*)$/,Ee=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xe=/($^)/,we=/['\n\r\u2028\u2029\\]/g,ke="\\ud800-\\udfff",_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Te="\\u2700-\\u27bf",Ae="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Pe="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Oe="['\u2019]",Re="["+ke+"]",Ne="["+Ie+"]",Le="["+_e+"]",je="\\d+",Me="["+Te+"]",De="["+Ae+"]",Fe="[^"+ke+Ie+je+Te+Ae+Ce+"]",Ue="\\ud83c[\\udffb-\\udfff]",Be="[^"+ke+"]",Ge="(?:\\ud83c[\\udde6-\\uddff]){2}",Ve="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Ce+"]",We="\\u200d",qe="(?:"+De+"|"+Fe+")",ze="(?:"+He+"|"+Fe+")",Ye="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Xe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+Le+"|"+Ue+")"+"?",Je="["+Pe+"]?",Ze=Je+Ke+("(?:"+We+"(?:"+[Be,Ge,Ve].join("|")+")"+Je+Ke+")*"),Qe="(?:"+[Me,Ge,Ve].join("|")+")"+Ze,$e="(?:"+[Be+Le+"?",Le,Ge,Ve,Re].join("|")+")",et=RegExp(Oe,"g"),tt=RegExp(Le,"g"),rt=RegExp(Ue+"(?="+Ue+")|"+$e+Ze,"g"),nt=RegExp([He+"?"+De+"+"+Ye+"(?="+[Ne,He,"$"].join("|")+")",ze+"+"+Xe+"(?="+[Ne,He+qe,"$"].join("|")+")",He+"?"+qe+"+"+Ye,He+"+"+Xe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",je,Qe].join("|"),"g"),it=RegExp("["+We+ke+_e+Pe+"]"),at=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,ut={};ut[M]=ut[D]=ut[F]=ut[U]=ut[B]=ut[G]=ut[V]=ut[H]=ut[W]=!0,ut[y]=ut[b]=ut[L]=ut[S]=ut[j]=ut[E]=ut[x]=ut[w]=ut[_]=ut[T]=ut[A]=ut[P]=ut[I]=ut[O]=ut[N]=!1;var ct={};ct[y]=ct[b]=ct[L]=ct[j]=ct[S]=ct[E]=ct[M]=ct[D]=ct[F]=ct[U]=ct[B]=ct[_]=ct[T]=ct[A]=ct[P]=ct[I]=ct[O]=ct[R]=ct[G]=ct[V]=ct[H]=ct[W]=!0,ct[x]=ct[w]=ct[N]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ft=parseInt,ht="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,pt="object"==typeof self&&self&&self.Object===Object&&self,vt=ht||pt||Function("return this")(),gt=t&&!t.nodeType&&t,mt=gt&&e&&!e.nodeType&&e,yt=mt&&mt.exports===gt,bt=yt&&ht.process,St=function(){try{var e=mt&&mt.require&&mt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),Et=St&&St.isArrayBuffer,xt=St&&St.isDate,wt=St&&St.isMap,kt=St&&St.isRegExp,_t=St&&St.isSet,Tt=St&&St.isTypedArray;function At(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Ct(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n}function Pt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function It(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Ot(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Rt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}function Nt(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function Lt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function jt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Mt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Dt(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}function Ft(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function Ut(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Bt=Yt("length");function Gt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Vt(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Ht(e,t,r){return t===t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Vt(e,qt,r)}function Wt(e,t,r,n){for(var i=r-1,a=e.length;++i<a;)if(n(e[i],t))return i;return-1}function qt(e){return e!==e}function zt(e,t){var r=null==e?0:e.length;return r?Jt(e,t)/r:v}function Yt(e){return function(t){return null==t?i:t[e]}}function Xt(e){return function(t){return null==e?i:e[t]}}function Kt(e,t,r,n,i){return i(e,(function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)})),r}function Jt(e,t){for(var r,n=-1,a=e.length;++n<a;){var o=t(e[n]);o!==i&&(r=r===i?o:r+o)}return r}function Zt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Qt(e){return e?e.slice(0,vr(e)+1).replace(oe,""):e}function $t(e){return function(t){return e(t)}}function er(e,t){return jt(t,(function(t){return e[t]}))}function tr(e,t){return e.has(t)}function rr(e,t){for(var r=-1,n=e.length;++r<n&&Ht(t,e[r],0)>-1;);return r}function nr(e,t){for(var r=e.length;r--&&Ht(t,e[r],0)>-1;);return r}var ir=Xt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),ar=Xt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function or(e){return"\\"+lt[e]}function sr(e){return it.test(e)}function ur(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function cr(e,t){return function(r){return e(t(r))}}function lr(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r];o!==t&&o!==s||(e[r]=s,a[i++]=r)}return a}function dr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function fr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function hr(e){return sr(e)?function(e){var t=rt.lastIndex=0;for(;rt.test(e);)++t;return t}(e):Bt(e)}function pr(e){return sr(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.split("")}(e)}function vr(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gr=Xt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mr=function e(t){var r=(t=null==t?vt:mr.defaults(vt.Object(),t,mr.pick(vt,ot))).Array,n=t.Date,se=t.Error,ke=t.Function,_e=t.Math,Te=t.Object,Ae=t.RegExp,Ce=t.String,Pe=t.TypeError,Ie=r.prototype,Oe=ke.prototype,Re=Te.prototype,Ne=t["__core-js_shared__"],Le=Oe.toString,je=Re.hasOwnProperty,Me=0,De=function(){var e=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Re.toString,Ue=Le.call(Te),Be=vt._,Ge=Ae("^"+Le.call(je).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=yt?t.Buffer:i,He=t.Symbol,We=t.Uint8Array,qe=Ve?Ve.allocUnsafe:i,ze=cr(Te.getPrototypeOf,Te),Ye=Te.create,Xe=Re.propertyIsEnumerable,Ke=Ie.splice,Je=He?He.isConcatSpreadable:i,Ze=He?He.iterator:i,Qe=He?He.toStringTag:i,$e=function(){try{var e=da(Te,"defineProperty");return e({},"",{}),e}catch(t){}}(),rt=t.clearTimeout!==vt.clearTimeout&&t.clearTimeout,it=n&&n.now!==vt.Date.now&&n.now,lt=t.setTimeout!==vt.setTimeout&&t.setTimeout,ht=_e.ceil,pt=_e.floor,gt=Te.getOwnPropertySymbols,mt=Ve?Ve.isBuffer:i,bt=t.isFinite,St=Ie.join,Bt=cr(Te.keys,Te),Xt=_e.max,yr=_e.min,br=n.now,Sr=t.parseInt,Er=_e.random,xr=Ie.reverse,wr=da(t,"DataView"),kr=da(t,"Map"),_r=da(t,"Promise"),Tr=da(t,"Set"),Ar=da(t,"WeakMap"),Cr=da(Te,"create"),Pr=Ar&&new Ar,Ir={},Or=Da(wr),Rr=Da(kr),Nr=Da(_r),Lr=Da(Tr),jr=Da(Ar),Mr=He?He.prototype:i,Dr=Mr?Mr.valueOf:i,Fr=Mr?Mr.toString:i;function Ur(e){if(ts(e)&&!Wo(e)&&!(e instanceof Hr)){if(e instanceof Vr)return e;if(je.call(e,"__wrapped__"))return Fa(e)}return new Vr(e)}var Br=function(){function e(){}return function(t){if(!es(t))return{};if(Ye)return Ye(t);e.prototype=t;var r=new e;return e.prototype=i,r}}();function Gr(){}function Vr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Hr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function qr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function zr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Yr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new zr;++t<r;)this.add(e[t])}function Xr(e){var t=this.__data__=new qr(e);this.size=t.size}function Kr(e,t){var r=Wo(e),n=!r&&Ho(e),i=!r&&!n&&Xo(e),a=!r&&!n&&!i&&cs(e),o=r||n||i||a,s=o?Zt(e.length,Ce):[],u=s.length;for(var c in e)!t&&!je.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ya(c,u))||s.push(c);return s}function Jr(e){var t=e.length;return t?e[Xn(0,t-1)]:i}function Zr(e,t){return La(Pi(e),sn(t,0,e.length))}function Qr(e){return La(Pi(e))}function $r(e,t,r){(r!==i&&!Bo(e[t],r)||r===i&&!(t in e))&&an(e,t,r)}function en(e,t,r){var n=e[t];je.call(e,t)&&Bo(n,r)&&(r!==i||t in e)||an(e,t,r)}function tn(e,t){for(var r=e.length;r--;)if(Bo(e[r][0],t))return r;return-1}function rn(e,t,r,n){return fn(e,(function(e,i,a){t(n,e,r(e),a)})),n}function nn(e,t){return e&&Ii(t,Os(t),e)}function an(e,t,r){"__proto__"==t&&$e?$e(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function on(e,t){for(var n=-1,a=t.length,o=r(a),s=null==e;++n<a;)o[n]=s?i:Ts(e,t[n]);return o}function sn(e,t,r){return e===e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function un(e,t,r,n,a,o){var s,u=1&t,c=2&t,l=4&t;if(r&&(s=a?r(e,n,a,o):r(e)),s!==i)return s;if(!es(e))return e;var d=Wo(e);if(d){if(s=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&je.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!u)return Pi(e,s)}else{var f=pa(e),h=f==w||f==k;if(Xo(e))return wi(e,u);if(f==A||f==y||h&&!a){if(s=c||h?{}:ga(e),!u)return c?function(e,t){return Ii(e,ha(e),t)}(e,function(e,t){return e&&Ii(t,Rs(t),e)}(s,e)):function(e,t){return Ii(e,fa(e),t)}(e,nn(s,e))}else{if(!ct[f])return a?e:{};s=function(e,t,r){var n=e.constructor;switch(t){case L:return ki(e);case S:case E:return new n(+e);case j:return function(e,t){var r=t?ki(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case M:case D:case F:case U:case B:case G:case V:case H:case W:return _i(e,r);case _:return new n;case T:case O:return new n(e);case P:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new n;case R:return i=e,Dr?Te(Dr.call(i)):{}}var i}(e,f,u)}}o||(o=new Xr);var p=o.get(e);if(p)return p;o.set(e,s),os(e)?e.forEach((function(n){s.add(un(n,t,r,n,e,o))})):rs(e)&&e.forEach((function(n,i){s.set(i,un(n,t,r,i,e,o))}));var v=d?i:(l?c?ia:na:c?Rs:Os)(e);return Pt(v||e,(function(n,i){v&&(n=e[i=n]),en(s,i,un(n,t,r,i,e,o))})),s}function cn(e,t,r){var n=r.length;if(null==e)return!n;for(e=Te(e);n--;){var a=r[n],o=t[a],s=e[a];if(s===i&&!(a in e)||!o(s))return!1}return!0}function ln(e,t,r){if("function"!=typeof e)throw new Pe(a);return Ia((function(){e.apply(i,r)}),t)}function dn(e,t,r,n){var i=-1,a=Nt,o=!0,s=e.length,u=[],c=t.length;if(!s)return u;r&&(t=jt(t,$t(r))),n?(a=Lt,o=!1):t.length>=200&&(a=tr,o=!1,t=new Yr(t));e:for(;++i<s;){var l=e[i],d=null==r?l:r(l);if(l=n||0!==l?l:0,o&&d===d){for(var f=c;f--;)if(t[f]===d)continue e;u.push(l)}else a(t,d,n)||u.push(l)}return u}Ur.templateSettings={escape:Q,evaluate:$,interpolate:ee,variable:"",imports:{_:Ur}},Ur.prototype=Gr.prototype,Ur.prototype.constructor=Ur,Vr.prototype=Br(Gr.prototype),Vr.prototype.constructor=Vr,Hr.prototype=Br(Gr.prototype),Hr.prototype.constructor=Hr,Wr.prototype.clear=function(){this.__data__=Cr?Cr(null):{},this.size=0},Wr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wr.prototype.get=function(e){var t=this.__data__;if(Cr){var r=t[e];return r===o?i:r}return je.call(t,e)?t[e]:i},Wr.prototype.has=function(e){var t=this.__data__;return Cr?t[e]!==i:je.call(t,e)},Wr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Cr&&t===i?o:t,this},qr.prototype.clear=function(){this.__data__=[],this.size=0},qr.prototype.delete=function(e){var t=this.__data__,r=tn(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ke.call(t,r,1),--this.size,!0)},qr.prototype.get=function(e){var t=this.__data__,r=tn(t,e);return r<0?i:t[r][1]},qr.prototype.has=function(e){return tn(this.__data__,e)>-1},qr.prototype.set=function(e,t){var r=this.__data__,n=tn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},zr.prototype.clear=function(){this.size=0,this.__data__={hash:new Wr,map:new(kr||qr),string:new Wr}},zr.prototype.delete=function(e){var t=ca(this,e).delete(e);return this.size-=t?1:0,t},zr.prototype.get=function(e){return ca(this,e).get(e)},zr.prototype.has=function(e){return ca(this,e).has(e)},zr.prototype.set=function(e,t){var r=ca(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Yr.prototype.add=Yr.prototype.push=function(e){return this.__data__.set(e,o),this},Yr.prototype.has=function(e){return this.__data__.has(e)},Xr.prototype.clear=function(){this.__data__=new qr,this.size=0},Xr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Xr.prototype.get=function(e){return this.__data__.get(e)},Xr.prototype.has=function(e){return this.__data__.has(e)},Xr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof qr){var n=r.__data__;if(!kr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new zr(n)}return r.set(e,t),this.size=r.size,this};var fn=Ni(Sn),hn=Ni(En,!0);function pn(e,t){var r=!0;return fn(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function vn(e,t,r){for(var n=-1,a=e.length;++n<a;){var o=e[n],s=t(o);if(null!=s&&(u===i?s===s&&!us(s):r(s,u)))var u=s,c=o}return c}function gn(e,t){var r=[];return fn(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function mn(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=ma),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?mn(s,t-1,r,n,i):Mt(i,s):n||(i[i.length]=s)}return i}var yn=Li(),bn=Li(!0);function Sn(e,t){return e&&yn(e,t,Os)}function En(e,t){return e&&bn(e,t,Os)}function xn(e,t){return Rt(t,(function(t){return Zo(e[t])}))}function wn(e,t){for(var r=0,n=(t=bi(t,e)).length;null!=e&&r<n;)e=e[Ma(t[r++])];return r&&r==n?e:i}function kn(e,t,r){var n=t(e);return Wo(e)?n:Mt(n,r(e))}function _n(e){return null==e?e===i?"[object Undefined]":"[object Null]":Qe&&Qe in Te(e)?function(e){var t=je.call(e,Qe),r=e[Qe];try{e[Qe]=i;var n=!0}catch(o){}var a=Fe.call(e);n&&(t?e[Qe]=r:delete e[Qe]);return a}(e):function(e){return Fe.call(e)}(e)}function Tn(e,t){return e>t}function An(e,t){return null!=e&&je.call(e,t)}function Cn(e,t){return null!=e&&t in Te(e)}function Pn(e,t,n){for(var a=n?Lt:Nt,o=e[0].length,s=e.length,u=s,c=r(s),l=1/0,d=[];u--;){var f=e[u];u&&t&&(f=jt(f,$t(t))),l=yr(f.length,l),c[u]=!n&&(t||o>=120&&f.length>=120)?new Yr(u&&f):i}f=e[0];var h=-1,p=c[0];e:for(;++h<o&&d.length<l;){var v=f[h],g=t?t(v):v;if(v=n||0!==v?v:0,!(p?tr(p,g):a(d,g,n))){for(u=s;--u;){var m=c[u];if(!(m?tr(m,g):a(e[u],g,n)))continue e}p&&p.push(g),d.push(v)}}return d}function In(e,t,r){var n=null==(e=Aa(e,t=bi(t,e)))?e:e[Ma(Ka(t))];return null==n?i:At(n,e,r)}function On(e){return ts(e)&&_n(e)==y}function Rn(e,t,r,n,a){return e===t||(null==e||null==t||!ts(e)&&!ts(t)?e!==e&&t!==t:function(e,t,r,n,a,o){var s=Wo(e),u=Wo(t),c=s?b:pa(e),l=u?b:pa(t),d=(c=c==y?A:c)==A,f=(l=l==y?A:l)==A,h=c==l;if(h&&Xo(e)){if(!Xo(t))return!1;s=!0,d=!1}if(h&&!d)return o||(o=new Xr),s||cs(e)?ta(e,t,r,n,a,o):function(e,t,r,n,i,a,o){switch(r){case j:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case L:return!(e.byteLength!=t.byteLength||!a(new We(e),new We(t)));case S:case E:case T:return Bo(+e,+t);case x:return e.name==t.name&&e.message==t.message;case P:case O:return e==t+"";case _:var s=ur;case I:var u=1&n;if(s||(s=dr),e.size!=t.size&&!u)return!1;var c=o.get(e);if(c)return c==t;n|=2,o.set(e,t);var l=ta(s(e),s(t),n,i,a,o);return o.delete(e),l;case R:if(Dr)return Dr.call(e)==Dr.call(t)}return!1}(e,t,c,r,n,a,o);if(!(1&r)){var p=d&&je.call(e,"__wrapped__"),v=f&&je.call(t,"__wrapped__");if(p||v){var g=p?e.value():e,m=v?t.value():t;return o||(o=new Xr),a(g,m,r,n,o)}}if(!h)return!1;return o||(o=new Xr),function(e,t,r,n,a,o){var s=1&r,u=na(e),c=u.length,l=na(t),d=l.length;if(c!=d&&!s)return!1;var f=c;for(;f--;){var h=u[f];if(!(s?h in t:je.call(t,h)))return!1}var p=o.get(e),v=o.get(t);if(p&&v)return p==t&&v==e;var g=!0;o.set(e,t),o.set(t,e);var m=s;for(;++f<c;){var y=e[h=u[f]],b=t[h];if(n)var S=s?n(b,y,h,t,e,o):n(y,b,h,e,t,o);if(!(S===i?y===b||a(y,b,r,n,o):S)){g=!1;break}m||(m="constructor"==h)}if(g&&!m){var E=e.constructor,x=t.constructor;E==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof E&&E instanceof E&&"function"==typeof x&&x instanceof x||(g=!1)}return o.delete(e),o.delete(t),g}(e,t,r,n,a,o)}(e,t,r,n,Rn,a))}function Nn(e,t,r,n){var a=r.length,o=a,s=!n;if(null==e)return!o;for(e=Te(e);a--;){var u=r[a];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<o;){var c=(u=r[a])[0],l=e[c],d=u[1];if(s&&u[2]){if(l===i&&!(c in e))return!1}else{var f=new Xr;if(n)var h=n(l,d,c,e,t,f);if(!(h===i?Rn(d,l,3,n,f):h))return!1}}return!0}function Ln(e){return!(!es(e)||(t=e,De&&De in t))&&(Zo(e)?Ge:ye).test(Da(e));var t}function jn(e){return"function"==typeof e?e:null==e?nu:"object"==typeof e?Wo(e)?Gn(e[0],e[1]):Bn(e):fu(e)}function Mn(e){if(!wa(e))return Bt(e);var t=[];for(var r in Te(e))je.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Dn(e){if(!es(e))return function(e){var t=[];if(null!=e)for(var r in Te(e))t.push(r);return t}(e);var t=wa(e),r=[];for(var n in e)("constructor"!=n||!t&&je.call(e,n))&&r.push(n);return r}function Fn(e,t){return e<t}function Un(e,t){var n=-1,i=zo(e)?r(e.length):[];return fn(e,(function(e,r,a){i[++n]=t(e,r,a)})),i}function Bn(e){var t=la(e);return 1==t.length&&t[0][2]?_a(t[0][0],t[0][1]):function(r){return r===e||Nn(r,e,t)}}function Gn(e,t){return Sa(e)&&ka(t)?_a(Ma(e),t):function(r){var n=Ts(r,e);return n===i&&n===t?As(r,e):Rn(t,n,3)}}function Vn(e,t,r,n,a){e!==t&&yn(t,(function(o,s){if(a||(a=new Xr),es(o))!function(e,t,r,n,a,o,s){var u=Ca(e,r),c=Ca(t,r),l=s.get(c);if(l)return void $r(e,r,l);var d=o?o(u,c,r+"",e,t,s):i,f=d===i;if(f){var h=Wo(c),p=!h&&Xo(c),v=!h&&!p&&cs(c);d=c,h||p||v?Wo(u)?d=u:Yo(u)?d=Pi(u):p?(f=!1,d=wi(c,!0)):v?(f=!1,d=_i(c,!0)):d=[]:is(c)||Ho(c)?(d=u,Ho(u)?d=ms(u):es(u)&&!Zo(u)||(d=ga(c))):f=!1}f&&(s.set(c,d),a(d,c,n,o,s),s.delete(c));$r(e,r,d)}(e,t,s,r,Vn,n,a);else{var u=n?n(Ca(e,s),o,s+"",e,t,a):i;u===i&&(u=o),$r(e,s,u)}}),Rs)}function Hn(e,t){var r=e.length;if(r)return ya(t+=t<0?r:0,r)?e[t]:i}function Wn(e,t,r){t=t.length?jt(t,(function(e){return Wo(e)?function(t){return wn(t,1===e.length?e[0]:e)}:e})):[nu];var n=-1;t=jt(t,$t(ua()));var i=Un(e,(function(e,r,i){var a=jt(t,(function(t){return t(e)}));return{criteria:a,index:++n,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(i,(function(e,t){return function(e,t,r){var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;for(;++n<o;){var u=Ti(i[n],a[n]);if(u)return n>=s?u:u*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function qn(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],s=wn(e,o);r(s,o)&&$n(a,bi(o,e),s)}return a}function zn(e,t,r,n){var i=n?Wt:Ht,a=-1,o=t.length,s=e;for(e===t&&(t=Pi(t)),r&&(s=jt(e,$t(r)));++a<o;)for(var u=0,c=t[a],l=r?r(c):c;(u=i(s,l,u,n))>-1;)s!==e&&Ke.call(s,u,1),Ke.call(e,u,1);return e}function Yn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==a){var a=i;ya(i)?Ke.call(e,i,1):di(e,i)}}return e}function Xn(e,t){return e+pt(Er()*(t-e+1))}function Kn(e,t){var r="";if(!e||t<1||t>p)return r;do{t%2&&(r+=e),(t=pt(t/2))&&(e+=e)}while(t);return r}function Jn(e,t){return Oa(Ta(e,t,nu),e+"")}function Zn(e){return Jr(Bs(e))}function Qn(e,t){var r=Bs(e);return La(r,sn(t,0,r.length))}function $n(e,t,r,n){if(!es(e))return e;for(var a=-1,o=(t=bi(t,e)).length,s=o-1,u=e;null!=u&&++a<o;){var c=Ma(t[a]),l=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=s){var d=u[c];(l=n?n(d,c,u):i)===i&&(l=es(d)?d:ya(t[a+1])?[]:{})}en(u,c,l),u=u[c]}return e}var ei=Pr?function(e,t){return Pr.set(e,t),e}:nu,ti=$e?function(e,t){return $e(e,"toString",{configurable:!0,enumerable:!1,value:eu(t),writable:!0})}:nu;function ri(e){return La(Bs(e))}function ni(e,t,n){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=r(a);++i<a;)o[i]=e[i+t];return o}function ii(e,t){var r;return fn(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function ai(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;n<i;){var a=n+i>>>1,o=e[a];null!==o&&!us(o)&&(r?o<=t:o<t)?n=a+1:i=a}return i}return oi(e,t,nu,r)}function oi(e,t,r,n){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=r(t))!==t,u=null===t,c=us(t),l=t===i;a<o;){var d=pt((a+o)/2),f=r(e[d]),h=f!==i,p=null===f,v=f===f,g=us(f);if(s)var m=n||v;else m=l?v&&(n||h):u?v&&h&&(n||!p):c?v&&h&&!p&&(n||!g):!p&&!g&&(n?f<=t:f<t);m?a=d+1:o=d}return yr(o,4294967294)}function si(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r],s=t?t(o):o;if(!r||!Bo(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function ui(e){return"number"==typeof e?e:us(e)?v:+e}function ci(e){if("string"==typeof e)return e;if(Wo(e))return jt(e,ci)+"";if(us(e))return Fr?Fr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function li(e,t,r){var n=-1,i=Nt,a=e.length,o=!0,s=[],u=s;if(r)o=!1,i=Lt;else if(a>=200){var c=t?null:Ki(e);if(c)return dr(c);o=!1,i=tr,u=new Yr}else u=t?[]:s;e:for(;++n<a;){var l=e[n],d=t?t(l):l;if(l=r||0!==l?l:0,o&&d===d){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),s.push(l)}else i(u,d,r)||(u!==s&&u.push(d),s.push(l))}return s}function di(e,t){return null==(e=Aa(e,t=bi(t,e)))||delete e[Ma(Ka(t))]}function fi(e,t,r,n){return $n(e,t,r(wn(e,t)),n)}function hi(e,t,r,n){for(var i=e.length,a=n?i:-1;(n?a--:++a<i)&&t(e[a],a,e););return r?ni(e,n?0:a,n?a+1:i):ni(e,n?a+1:0,n?i:a)}function pi(e,t){var r=e;return r instanceof Hr&&(r=r.value()),Dt(t,(function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))}),r)}function vi(e,t,n){var i=e.length;if(i<2)return i?li(e[0]):[];for(var a=-1,o=r(i);++a<i;)for(var s=e[a],u=-1;++u<i;)u!=a&&(o[a]=dn(o[a]||s,e[u],t,n));return li(mn(o,1),t,n)}function gi(e,t,r){for(var n=-1,a=e.length,o=t.length,s={};++n<a;){var u=n<o?t[n]:i;r(s,e[n],u)}return s}function mi(e){return Yo(e)?e:[]}function yi(e){return"function"==typeof e?e:nu}function bi(e,t){return Wo(e)?e:Sa(e,t)?[e]:ja(ys(e))}var Si=Jn;function Ei(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:ni(e,t,r)}var xi=rt||function(e){return vt.clearTimeout(e)};function wi(e,t){if(t)return e.slice();var r=e.length,n=qe?qe(r):new e.constructor(r);return e.copy(n),n}function ki(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function _i(e,t){var r=t?ki(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Ti(e,t){if(e!==t){var r=e!==i,n=null===e,a=e===e,o=us(e),s=t!==i,u=null===t,c=t===t,l=us(t);if(!u&&!l&&!o&&e>t||o&&s&&c&&!u&&!l||n&&s&&c||!r&&c||!a)return 1;if(!n&&!o&&!l&&e<t||l&&r&&a&&!n&&!o||u&&r&&a||!s&&a||!c)return-1}return 0}function Ai(e,t,n,i){for(var a=-1,o=e.length,s=n.length,u=-1,c=t.length,l=Xt(o-s,0),d=r(c+l),f=!i;++u<c;)d[u]=t[u];for(;++a<s;)(f||a<o)&&(d[n[a]]=e[a]);for(;l--;)d[u++]=e[a++];return d}function Ci(e,t,n,i){for(var a=-1,o=e.length,s=-1,u=n.length,c=-1,l=t.length,d=Xt(o-u,0),f=r(d+l),h=!i;++a<d;)f[a]=e[a];for(var p=a;++c<l;)f[p+c]=t[c];for(;++s<u;)(h||a<o)&&(f[p+n[s]]=e[a++]);return f}function Pi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Ii(e,t,r,n){var a=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var u=t[o],c=n?n(r[u],e[u],u,r,e):i;c===i&&(c=e[u]),a?an(r,u,c):en(r,u,c)}return r}function Oi(e,t){return function(r,n){var i=Wo(r)?Ct:rn,a=t?t():{};return i(r,e,ua(n,2),a)}}function Ri(e){return Jn((function(t,r){var n=-1,a=r.length,o=a>1?r[a-1]:i,s=a>2?r[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,s&&ba(r[0],r[1],s)&&(o=a<3?i:o,a=1),t=Te(t);++n<a;){var u=r[n];u&&e(t,u,n,o)}return t}))}function Ni(e,t){return function(r,n){if(null==r)return r;if(!zo(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Te(r);(t?a--:++a<i)&&!1!==n(o[a],a,o););return r}}function Li(e){return function(t,r,n){for(var i=-1,a=Te(t),o=n(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===r(a[u],u,a))break}return t}}function ji(e){return function(t){var r=sr(t=ys(t))?pr(t):i,n=r?r[0]:t.charAt(0),a=r?Ei(r,1).join(""):t.slice(1);return n[e]()+a}}function Mi(e){return function(t){return Dt(Zs(Hs(t).replace(et,"")),e,"")}}function Di(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Br(e.prototype),n=e.apply(r,t);return es(n)?n:r}}function Fi(e){return function(t,r,n){var a=Te(t);if(!zo(t)){var o=ua(r,3);t=Os(t),r=function(e){return o(a[e],e,a)}}var s=e(t,r,n);return s>-1?a[o?t[s]:s]:i}}function Ui(e){return ra((function(t){var r=t.length,n=r,o=Vr.prototype.thru;for(e&&t.reverse();n--;){var s=t[n];if("function"!=typeof s)throw new Pe(a);if(o&&!u&&"wrapper"==oa(s))var u=new Vr([],!0)}for(n=u?n:r;++n<r;){var c=oa(s=t[n]),l="wrapper"==c?aa(s):i;u=l&&Ea(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[oa(l[0])].apply(u,l[3]):1==s.length&&Ea(s)?u[c]():u.thru(s)}return function(){var e=arguments,n=e[0];if(u&&1==e.length&&Wo(n))return u.plant(n).value();for(var i=0,a=r?t[i].apply(this,e):n;++i<r;)a=t[i].call(this,a);return a}}))}function Bi(e,t,n,a,o,s,u,c,l,f){var h=t&d,p=1&t,v=2&t,g=24&t,m=512&t,y=v?i:Di(e);return function d(){for(var b=arguments.length,S=r(b),E=b;E--;)S[E]=arguments[E];if(g)var x=sa(d),w=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(S,x);if(a&&(S=Ai(S,a,o,g)),s&&(S=Ci(S,s,u,g)),b-=w,g&&b<f){var k=lr(S,x);return Yi(e,t,Bi,d.placeholder,n,S,k,c,l,f-b)}var _=p?n:this,T=v?_[e]:e;return b=S.length,c?S=function(e,t){var r=e.length,n=yr(t.length,r),a=Pi(e);for(;n--;){var o=t[n];e[n]=ya(o,r)?a[o]:i}return e}(S,c):m&&b>1&&S.reverse(),h&&l<b&&(S.length=l),this&&this!==vt&&this instanceof d&&(T=y||Di(T)),T.apply(_,S)}}function Gi(e,t){return function(r,n){return function(e,t,r,n){return Sn(e,(function(e,i,a){t(n,r(e),i,a)})),n}(r,e,t(n),{})}}function Vi(e,t){return function(r,n){var a;if(r===i&&n===i)return t;if(r!==i&&(a=r),n!==i){if(a===i)return n;"string"==typeof r||"string"==typeof n?(r=ci(r),n=ci(n)):(r=ui(r),n=ui(n)),a=e(r,n)}return a}}function Hi(e){return ra((function(t){return t=jt(t,$t(ua())),Jn((function(r){var n=this;return e(t,(function(e){return At(e,n,r)}))}))}))}function Wi(e,t){var r=(t=t===i?" ":ci(t)).length;if(r<2)return r?Kn(t,e):t;var n=Kn(t,ht(e/hr(t)));return sr(t)?Ei(pr(n),0,e).join(""):n.slice(0,e)}function qi(e){return function(t,n,a){return a&&"number"!=typeof a&&ba(t,n,a)&&(n=a=i),t=hs(t),n===i?(n=t,t=0):n=hs(n),function(e,t,n,i){for(var a=-1,o=Xt(ht((t-e)/(n||1)),0),s=r(o);o--;)s[i?o:++a]=e,e+=n;return s}(t,n,a=a===i?t<n?1:-1:hs(a),e)}}function zi(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=gs(t),r=gs(r)),e(t,r)}}function Yi(e,t,r,n,a,o,s,u,d,f){var h=8&t;t|=h?c:l,4&(t&=~(h?l:c))||(t&=-4);var p=[e,t,a,h?o:i,h?s:i,h?i:o,h?i:s,u,d,f],v=r.apply(i,p);return Ea(e)&&Pa(v,p),v.placeholder=n,Ra(v,e,t)}function Xi(e){var t=_e[e];return function(e,r){if(e=gs(e),(r=null==r?0:yr(ps(r),292))&&bt(e)){var n=(ys(e)+"e").split("e");return+((n=(ys(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Ki=Tr&&1/dr(new Tr([,-0]))[1]==h?function(e){return new Tr(e)}:uu;function Ji(e){return function(t){var r=pa(t);return r==_?ur(t):r==I?fr(t):function(e,t){return jt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Zi(e,t,n,o,h,p,v,g){var m=2&t;if(!m&&"function"!=typeof e)throw new Pe(a);var y=o?o.length:0;if(y||(t&=-97,o=h=i),v=v===i?v:Xt(ps(v),0),g=g===i?g:ps(g),y-=h?h.length:0,t&l){var b=o,S=h;o=h=i}var E=m?i:aa(e),x=[e,t,n,o,h,b,S,p,v,g];if(E&&function(e,t){var r=e[1],n=t[1],i=r|n,a=i<131,o=n==d&&8==r||n==d&&r==f&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!a&&!o)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?Ai(c,u,t[4]):u,e[4]=c?lr(e[3],s):t[4]}(u=t[5])&&(c=e[5],e[5]=c?Ci(c,u,t[6]):u,e[6]=c?lr(e[5],s):t[6]);(u=t[7])&&(e[7]=u);n&d&&(e[8]=null==e[8]?t[8]:yr(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(x,E),e=x[0],t=x[1],n=x[2],o=x[3],h=x[4],!(g=x[9]=x[9]===i?m?0:e.length:Xt(x[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||t==u?function(e,t,n){var a=Di(e);return function o(){for(var s=arguments.length,u=r(s),c=s,l=sa(o);c--;)u[c]=arguments[c];var d=s<3&&u[0]!==l&&u[s-1]!==l?[]:lr(u,l);return(s-=d.length)<n?Yi(e,t,Bi,o.placeholder,i,u,d,i,i,n-s):At(this&&this!==vt&&this instanceof o?a:e,this,u)}}(e,t,g):t!=c&&33!=t||h.length?Bi.apply(i,x):function(e,t,n,i){var a=1&t,o=Di(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,d=r(l+u),f=this&&this!==vt&&this instanceof t?o:e;++c<l;)d[c]=i[c];for(;u--;)d[c++]=arguments[++s];return At(f,a?n:this,d)}}(e,t,n,o);else var w=function(e,t,r){var n=1&t,i=Di(e);return function t(){return(this&&this!==vt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,n);return Ra((E?ei:Pa)(w,x),e,t)}function Qi(e,t,r,n){return e===i||Bo(e,Re[r])&&!je.call(n,r)?t:e}function $i(e,t,r,n,a,o){return es(e)&&es(t)&&(o.set(t,e),Vn(e,t,i,$i,o),o.delete(t)),e}function ea(e){return is(e)?i:e}function ta(e,t,r,n,a,o){var s=1&r,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=o.get(e),d=o.get(t);if(l&&d)return l==t&&d==e;var f=-1,h=!0,p=2&r?new Yr:i;for(o.set(e,t),o.set(t,e);++f<u;){var v=e[f],g=t[f];if(n)var m=s?n(g,v,f,t,e,o):n(v,g,f,e,t,o);if(m!==i){if(m)continue;h=!1;break}if(p){if(!Ut(t,(function(e,t){if(!tr(p,t)&&(v===e||a(v,e,r,n,o)))return p.push(t)}))){h=!1;break}}else if(v!==g&&!a(v,g,r,n,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function ra(e){return Oa(Ta(e,i,Wa),e+"")}function na(e){return kn(e,Os,fa)}function ia(e){return kn(e,Rs,ha)}var aa=Pr?function(e){return Pr.get(e)}:uu;function oa(e){for(var t=e.name+"",r=Ir[t],n=je.call(Ir,t)?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t}function sa(e){return(je.call(Ur,"placeholder")?Ur:e).placeholder}function ua(){var e=Ur.iteratee||iu;return e=e===iu?jn:e,arguments.length?e(arguments[0],arguments[1]):e}function ca(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function la(e){for(var t=Os(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,ka(i)]}return t}function da(e,t){var r=function(e,t){return null==e?i:e[t]}(e,t);return Ln(r)?r:i}var fa=gt?function(e){return null==e?[]:(e=Te(e),Rt(gt(e),(function(t){return Xe.call(e,t)})))}:vu,ha=gt?function(e){for(var t=[];e;)Mt(t,fa(e)),e=ze(e);return t}:vu,pa=_n;function va(e,t,r){for(var n=-1,i=(t=bi(t,e)).length,a=!1;++n<i;){var o=Ma(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&$o(i)&&ya(o,i)&&(Wo(e)||Ho(e))}function ga(e){return"function"!=typeof e.constructor||wa(e)?{}:Br(ze(e))}function ma(e){return Wo(e)||Ho(e)||!!(Je&&e&&e[Je])}function ya(e,t){var r=typeof e;return!!(t=null==t?p:t)&&("number"==r||"symbol"!=r&&Se.test(e))&&e>-1&&e%1==0&&e<t}function ba(e,t,r){if(!es(r))return!1;var n=typeof t;return!!("number"==n?zo(r)&&ya(t,r.length):"string"==n&&t in r)&&Bo(r[t],e)}function Sa(e,t){if(Wo(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!us(e))||(re.test(e)||!te.test(e)||null!=t&&e in Te(t))}function Ea(e){var t=oa(e),r=Ur[t];if("function"!=typeof r||!(t in Hr.prototype))return!1;if(e===r)return!0;var n=aa(r);return!!n&&e===n[0]}(wr&&pa(new wr(new ArrayBuffer(1)))!=j||kr&&pa(new kr)!=_||_r&&pa(_r.resolve())!=C||Tr&&pa(new Tr)!=I||Ar&&pa(new Ar)!=N)&&(pa=function(e){var t=_n(e),r=t==A?e.constructor:i,n=r?Da(r):"";if(n)switch(n){case Or:return j;case Rr:return _;case Nr:return C;case Lr:return I;case jr:return N}return t});var xa=Ne?Zo:gu;function wa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)}function ka(e){return e===e&&!es(e)}function _a(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==i||e in Te(r)))}}function Ta(e,t,n){return t=Xt(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=Xt(i.length-t,0),s=r(o);++a<o;)s[a]=i[t+a];a=-1;for(var u=r(t+1);++a<t;)u[a]=i[a];return u[t]=n(s),At(e,this,u)}}function Aa(e,t){return t.length<2?e:wn(e,ni(t,0,-1))}function Ca(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Pa=Na(ei),Ia=lt||function(e,t){return vt.setTimeout(e,t)},Oa=Na(ti);function Ra(e,t,r){var n=t+"";return Oa(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Pt(m,(function(r){var n="_."+r[0];t&r[1]&&!Nt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(le):[]}(n),r)))}function Na(e){var t=0,r=0;return function(){var n=br(),a=16-(n-r);if(r=n,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function La(e,t){var r=-1,n=e.length,a=n-1;for(t=t===i?n:t;++r<t;){var o=Xn(r,a),s=e[o];e[o]=e[r],e[r]=s}return e.length=t,e}var ja=function(e){var t=Lo(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,r,n,i){t.push(n?i.replace(he,"$1"):r||e)})),t}));function Ma(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Da(e){if(null!=e){try{return Le.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Fa(e){if(e instanceof Hr)return e.clone();var t=new Vr(e.__wrapped__,e.__chain__);return t.__actions__=Pi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ua=Jn((function(e,t){return Yo(e)?dn(e,mn(t,1,Yo,!0)):[]})),Ba=Jn((function(e,t){var r=Ka(t);return Yo(r)&&(r=i),Yo(e)?dn(e,mn(t,1,Yo,!0),ua(r,2)):[]})),Ga=Jn((function(e,t){var r=Ka(t);return Yo(r)&&(r=i),Yo(e)?dn(e,mn(t,1,Yo,!0),i,r):[]}));function Va(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ps(r);return i<0&&(i=Xt(n+i,0)),Vt(e,ua(t,3),i)}function Ha(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=n-1;return r!==i&&(a=ps(r),a=r<0?Xt(n+a,0):yr(a,n-1)),Vt(e,ua(t,3),a,!0)}function Wa(e){return(null==e?0:e.length)?mn(e,1):[]}function qa(e){return e&&e.length?e[0]:i}var za=Jn((function(e){var t=jt(e,mi);return t.length&&t[0]===e[0]?Pn(t):[]})),Ya=Jn((function(e){var t=Ka(e),r=jt(e,mi);return t===Ka(r)?t=i:r.pop(),r.length&&r[0]===e[0]?Pn(r,ua(t,2)):[]})),Xa=Jn((function(e){var t=Ka(e),r=jt(e,mi);return(t="function"==typeof t?t:i)&&r.pop(),r.length&&r[0]===e[0]?Pn(r,i,t):[]}));function Ka(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Ja=Jn(Za);function Za(e,t){return e&&e.length&&t&&t.length?zn(e,t):e}var Qa=ra((function(e,t){var r=null==e?0:e.length,n=on(e,t);return Yn(e,jt(t,(function(e){return ya(e,r)?+e:e})).sort(Ti)),n}));function $a(e){return null==e?e:xr.call(e)}var eo=Jn((function(e){return li(mn(e,1,Yo,!0))})),to=Jn((function(e){var t=Ka(e);return Yo(t)&&(t=i),li(mn(e,1,Yo,!0),ua(t,2))})),ro=Jn((function(e){var t=Ka(e);return t="function"==typeof t?t:i,li(mn(e,1,Yo,!0),i,t)}));function no(e){if(!e||!e.length)return[];var t=0;return e=Rt(e,(function(e){if(Yo(e))return t=Xt(e.length,t),!0})),Zt(t,(function(t){return jt(e,Yt(t))}))}function io(e,t){if(!e||!e.length)return[];var r=no(e);return null==t?r:jt(r,(function(e){return At(t,i,e)}))}var ao=Jn((function(e,t){return Yo(e)?dn(e,t):[]})),oo=Jn((function(e){return vi(Rt(e,Yo))})),so=Jn((function(e){var t=Ka(e);return Yo(t)&&(t=i),vi(Rt(e,Yo),ua(t,2))})),uo=Jn((function(e){var t=Ka(e);return t="function"==typeof t?t:i,vi(Rt(e,Yo),i,t)})),co=Jn(no);var lo=Jn((function(e){var t=e.length,r=t>1?e[t-1]:i;return r="function"==typeof r?(e.pop(),r):i,io(e,r)}));function fo(e){var t=Ur(e);return t.__chain__=!0,t}function ho(e,t){return t(e)}var po=ra((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,a=function(t){return on(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Hr&&ya(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:ho,args:[a],thisArg:i}),new Vr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var vo=Oi((function(e,t,r){je.call(e,r)?++e[r]:an(e,r,1)}));var go=Fi(Va),mo=Fi(Ha);function yo(e,t){return(Wo(e)?Pt:fn)(e,ua(t,3))}function bo(e,t){return(Wo(e)?It:hn)(e,ua(t,3))}var So=Oi((function(e,t,r){je.call(e,r)?e[r].push(t):an(e,r,[t])}));var Eo=Jn((function(e,t,n){var i=-1,a="function"==typeof t,o=zo(e)?r(e.length):[];return fn(e,(function(e){o[++i]=a?At(t,e,n):In(e,t,n)})),o})),xo=Oi((function(e,t,r){an(e,r,t)}));function wo(e,t){return(Wo(e)?jt:Un)(e,ua(t,3))}var ko=Oi((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var _o=Jn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&ba(e,t[0],t[1])?t=[]:r>2&&ba(t[0],t[1],t[2])&&(t=[t[0]]),Wn(e,mn(t,1),[])})),To=it||function(){return vt.Date.now()};function Ao(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,Zi(e,d,i,i,i,i,t)}function Co(e,t){var r;if("function"!=typeof t)throw new Pe(a);return e=ps(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var Po=Jn((function(e,t,r){var n=1;if(r.length){var i=lr(r,sa(Po));n|=c}return Zi(e,n,t,r,i)})),Io=Jn((function(e,t,r){var n=3;if(r.length){var i=lr(r,sa(Io));n|=c}return Zi(t,n,e,r,i)}));function Oo(e,t,r){var n,o,s,u,c,l,d=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new Pe(a);function v(t){var r=n,a=o;return n=o=i,d=t,u=e.apply(a,r)}function g(e){var r=e-l;return l===i||r>=t||r<0||h&&e-d>=s}function m(){var e=To();if(g(e))return y(e);c=Ia(m,function(e){var r=t-(e-l);return h?yr(r,s-(e-d)):r}(e))}function y(e){return c=i,p&&n?v(e):(n=o=i,u)}function b(){var e=To(),r=g(e);if(n=arguments,o=this,l=e,r){if(c===i)return function(e){return d=e,c=Ia(m,t),f?v(e):u}(l);if(h)return xi(c),c=Ia(m,t),v(l)}return c===i&&(c=Ia(m,t)),u}return t=gs(t)||0,es(r)&&(f=!!r.leading,s=(h="maxWait"in r)?Xt(gs(r.maxWait)||0,t):s,p="trailing"in r?!!r.trailing:p),b.cancel=function(){c!==i&&xi(c),d=0,n=l=o=c=i},b.flush=function(){return c===i?u:y(To())},b}var Ro=Jn((function(e,t){return ln(e,1,t)})),No=Jn((function(e,t,r){return ln(e,gs(t)||0,r)}));function Lo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Pe(a);var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Lo.Cache||zr),r}function jo(e){if("function"!=typeof e)throw new Pe(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Lo.Cache=zr;var Mo=Si((function(e,t){var r=(t=1==t.length&&Wo(t[0])?jt(t[0],$t(ua())):jt(mn(t,1),$t(ua()))).length;return Jn((function(n){for(var i=-1,a=yr(n.length,r);++i<a;)n[i]=t[i].call(this,n[i]);return At(e,this,n)}))})),Do=Jn((function(e,t){var r=lr(t,sa(Do));return Zi(e,c,i,t,r)})),Fo=Jn((function(e,t){var r=lr(t,sa(Fo));return Zi(e,l,i,t,r)})),Uo=ra((function(e,t){return Zi(e,f,i,i,i,t)}));function Bo(e,t){return e===t||e!==e&&t!==t}var Go=zi(Tn),Vo=zi((function(e,t){return e>=t})),Ho=On(function(){return arguments}())?On:function(e){return ts(e)&&je.call(e,"callee")&&!Xe.call(e,"callee")},Wo=r.isArray,qo=Et?$t(Et):function(e){return ts(e)&&_n(e)==L};function zo(e){return null!=e&&$o(e.length)&&!Zo(e)}function Yo(e){return ts(e)&&zo(e)}var Xo=mt||gu,Ko=xt?$t(xt):function(e){return ts(e)&&_n(e)==E};function Jo(e){if(!ts(e))return!1;var t=_n(e);return t==x||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!is(e)}function Zo(e){if(!es(e))return!1;var t=_n(e);return t==w||t==k||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qo(e){return"number"==typeof e&&e==ps(e)}function $o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function es(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ts(e){return null!=e&&"object"==typeof e}var rs=wt?$t(wt):function(e){return ts(e)&&pa(e)==_};function ns(e){return"number"==typeof e||ts(e)&&_n(e)==T}function is(e){if(!ts(e)||_n(e)!=A)return!1;var t=ze(e);if(null===t)return!0;var r=je.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Le.call(r)==Ue}var as=kt?$t(kt):function(e){return ts(e)&&_n(e)==P};var os=_t?$t(_t):function(e){return ts(e)&&pa(e)==I};function ss(e){return"string"==typeof e||!Wo(e)&&ts(e)&&_n(e)==O}function us(e){return"symbol"==typeof e||ts(e)&&_n(e)==R}var cs=Tt?$t(Tt):function(e){return ts(e)&&$o(e.length)&&!!ut[_n(e)]};var ls=zi(Fn),ds=zi((function(e,t){return e<=t}));function fs(e){if(!e)return[];if(zo(e))return ss(e)?pr(e):Pi(e);if(Ze&&e[Ze])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Ze]());var t=pa(e);return(t==_?ur:t==I?dr:Bs)(e)}function hs(e){return e?(e=gs(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function ps(e){var t=hs(e),r=t%1;return t===t?r?t-r:t:0}function vs(e){return e?sn(ps(e),0,g):0}function gs(e){if("number"==typeof e)return e;if(us(e))return v;if(es(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=es(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Qt(e);var r=me.test(e);return r||be.test(e)?ft(e.slice(2),r?2:8):ge.test(e)?v:+e}function ms(e){return Ii(e,Rs(e))}function ys(e){return null==e?"":ci(e)}var bs=Ri((function(e,t){if(wa(t)||zo(t))Ii(t,Os(t),e);else for(var r in t)je.call(t,r)&&en(e,r,t[r])})),Ss=Ri((function(e,t){Ii(t,Rs(t),e)})),Es=Ri((function(e,t,r,n){Ii(t,Rs(t),e,n)})),xs=Ri((function(e,t,r,n){Ii(t,Os(t),e,n)})),ws=ra(on);var ks=Jn((function(e,t){e=Te(e);var r=-1,n=t.length,a=n>2?t[2]:i;for(a&&ba(t[0],t[1],a)&&(n=1);++r<n;)for(var o=t[r],s=Rs(o),u=-1,c=s.length;++u<c;){var l=s[u],d=e[l];(d===i||Bo(d,Re[l])&&!je.call(e,l))&&(e[l]=o[l])}return e})),_s=Jn((function(e){return e.push(i,$i),At(Ls,i,e)}));function Ts(e,t,r){var n=null==e?i:wn(e,t);return n===i?r:n}function As(e,t){return null!=e&&va(e,t,Cn)}var Cs=Gi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=r}),eu(nu)),Ps=Gi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),je.call(e,t)?e[t].push(r):e[t]=[r]}),ua),Is=Jn(In);function Os(e){return zo(e)?Kr(e):Mn(e)}function Rs(e){return zo(e)?Kr(e,!0):Dn(e)}var Ns=Ri((function(e,t,r){Vn(e,t,r)})),Ls=Ri((function(e,t,r,n){Vn(e,t,r,n)})),js=ra((function(e,t){var r={};if(null==e)return r;var n=!1;t=jt(t,(function(t){return t=bi(t,e),n||(n=t.length>1),t})),Ii(e,ia(e),r),n&&(r=un(r,7,ea));for(var i=t.length;i--;)di(r,t[i]);return r}));var Ms=ra((function(e,t){return null==e?{}:function(e,t){return qn(e,t,(function(t,r){return As(e,r)}))}(e,t)}));function Ds(e,t){if(null==e)return{};var r=jt(ia(e),(function(e){return[e]}));return t=ua(t),qn(e,r,(function(e,r){return t(e,r[0])}))}var Fs=Ji(Os),Us=Ji(Rs);function Bs(e){return null==e?[]:er(e,Os(e))}var Gs=Mi((function(e,t,r){return t=t.toLowerCase(),e+(r?Vs(t):t)}));function Vs(e){return Js(ys(e).toLowerCase())}function Hs(e){return(e=ys(e))&&e.replace(Ee,ir).replace(tt,"")}var Ws=Mi((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),qs=Mi((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),zs=ji("toLowerCase");var Ys=Mi((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var Xs=Mi((function(e,t,r){return e+(r?" ":"")+Js(t)}));var Ks=Mi((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Js=ji("toUpperCase");function Zs(e,t,r){return e=ys(e),(t=r?i:t)===i?function(e){return at.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Qs=Jn((function(e,t){try{return At(e,i,t)}catch(r){return Jo(r)?r:new se(r)}})),$s=ra((function(e,t){return Pt(t,(function(t){t=Ma(t),an(e,t,Po(e[t],e))})),e}));function eu(e){return function(){return e}}var tu=Ui(),ru=Ui(!0);function nu(e){return e}function iu(e){return jn("function"==typeof e?e:un(e,1))}var au=Jn((function(e,t){return function(r){return In(r,e,t)}})),ou=Jn((function(e,t){return function(r){return In(e,r,t)}}));function su(e,t,r){var n=Os(t),i=xn(t,n);null!=r||es(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=xn(t,Os(t)));var a=!(es(r)&&"chain"in r)||!!r.chain,o=Zo(e);return Pt(i,(function(r){var n=t[r];e[r]=n,o&&(e.prototype[r]=function(){var t=this.__chain__;if(a||t){var r=e(this.__wrapped__);return(r.__actions__=Pi(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Mt([this.value()],arguments))})})),e}function uu(){}var cu=Hi(jt),lu=Hi(Ot),du=Hi(Ut);function fu(e){return Sa(e)?Yt(Ma(e)):function(e){return function(t){return wn(t,e)}}(e)}var hu=qi(),pu=qi(!0);function vu(){return[]}function gu(){return!1}var mu=Vi((function(e,t){return e+t}),0),yu=Xi("ceil"),bu=Vi((function(e,t){return e/t}),1),Su=Xi("floor");var Eu=Vi((function(e,t){return e*t}),1),xu=Xi("round"),wu=Vi((function(e,t){return e-t}),0);return Ur.after=function(e,t){if("function"!=typeof t)throw new Pe(a);return e=ps(e),function(){if(--e<1)return t.apply(this,arguments)}},Ur.ary=Ao,Ur.assign=bs,Ur.assignIn=Ss,Ur.assignInWith=Es,Ur.assignWith=xs,Ur.at=ws,Ur.before=Co,Ur.bind=Po,Ur.bindAll=$s,Ur.bindKey=Io,Ur.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wo(e)?e:[e]},Ur.chain=fo,Ur.chunk=function(e,t,n){t=(n?ba(e,t,n):t===i)?1:Xt(ps(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,s=0,u=r(ht(a/t));o<a;)u[s++]=ni(e,o,o+=t);return u},Ur.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i},Ur.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Mt(Wo(n)?Pi(n):[n],mn(t,1))},Ur.cond=function(e){var t=null==e?0:e.length,r=ua();return e=t?jt(e,(function(e){if("function"!=typeof e[1])throw new Pe(a);return[r(e[0]),e[1]]})):[],Jn((function(r){for(var n=-1;++n<t;){var i=e[n];if(At(i[0],this,r))return At(i[1],this,r)}}))},Ur.conforms=function(e){return function(e){var t=Os(e);return function(r){return cn(r,e,t)}}(un(e,1))},Ur.constant=eu,Ur.countBy=vo,Ur.create=function(e,t){var r=Br(e);return null==t?r:nn(r,t)},Ur.curry=function e(t,r,n){var a=Zi(t,8,i,i,i,i,i,r=n?i:r);return a.placeholder=e.placeholder,a},Ur.curryRight=function e(t,r,n){var a=Zi(t,u,i,i,i,i,i,r=n?i:r);return a.placeholder=e.placeholder,a},Ur.debounce=Oo,Ur.defaults=ks,Ur.defaultsDeep=_s,Ur.defer=Ro,Ur.delay=No,Ur.difference=Ua,Ur.differenceBy=Ba,Ur.differenceWith=Ga,Ur.drop=function(e,t,r){var n=null==e?0:e.length;return n?ni(e,(t=r||t===i?1:ps(t))<0?0:t,n):[]},Ur.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?ni(e,0,(t=n-(t=r||t===i?1:ps(t)))<0?0:t):[]},Ur.dropRightWhile=function(e,t){return e&&e.length?hi(e,ua(t,3),!0,!0):[]},Ur.dropWhile=function(e,t){return e&&e.length?hi(e,ua(t,3),!0):[]},Ur.fill=function(e,t,r,n){var a=null==e?0:e.length;return a?(r&&"number"!=typeof r&&ba(e,t,r)&&(r=0,n=a),function(e,t,r,n){var a=e.length;for((r=ps(r))<0&&(r=-r>a?0:a+r),(n=n===i||n>a?a:ps(n))<0&&(n+=a),n=r>n?0:vs(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Ur.filter=function(e,t){return(Wo(e)?Rt:gn)(e,ua(t,3))},Ur.flatMap=function(e,t){return mn(wo(e,t),1)},Ur.flatMapDeep=function(e,t){return mn(wo(e,t),h)},Ur.flatMapDepth=function(e,t,r){return r=r===i?1:ps(r),mn(wo(e,t),r)},Ur.flatten=Wa,Ur.flattenDeep=function(e){return(null==e?0:e.length)?mn(e,h):[]},Ur.flattenDepth=function(e,t){return(null==e?0:e.length)?mn(e,t=t===i?1:ps(t)):[]},Ur.flip=function(e){return Zi(e,512)},Ur.flow=tu,Ur.flowRight=ru,Ur.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Ur.functions=function(e){return null==e?[]:xn(e,Os(e))},Ur.functionsIn=function(e){return null==e?[]:xn(e,Rs(e))},Ur.groupBy=So,Ur.initial=function(e){return(null==e?0:e.length)?ni(e,0,-1):[]},Ur.intersection=za,Ur.intersectionBy=Ya,Ur.intersectionWith=Xa,Ur.invert=Cs,Ur.invertBy=Ps,Ur.invokeMap=Eo,Ur.iteratee=iu,Ur.keyBy=xo,Ur.keys=Os,Ur.keysIn=Rs,Ur.map=wo,Ur.mapKeys=function(e,t){var r={};return t=ua(t,3),Sn(e,(function(e,n,i){an(r,t(e,n,i),e)})),r},Ur.mapValues=function(e,t){var r={};return t=ua(t,3),Sn(e,(function(e,n,i){an(r,n,t(e,n,i))})),r},Ur.matches=function(e){return Bn(un(e,1))},Ur.matchesProperty=function(e,t){return Gn(e,un(t,1))},Ur.memoize=Lo,Ur.merge=Ns,Ur.mergeWith=Ls,Ur.method=au,Ur.methodOf=ou,Ur.mixin=su,Ur.negate=jo,Ur.nthArg=function(e){return e=ps(e),Jn((function(t){return Hn(t,e)}))},Ur.omit=js,Ur.omitBy=function(e,t){return Ds(e,jo(ua(t)))},Ur.once=function(e){return Co(2,e)},Ur.orderBy=function(e,t,r,n){return null==e?[]:(Wo(t)||(t=null==t?[]:[t]),Wo(r=n?i:r)||(r=null==r?[]:[r]),Wn(e,t,r))},Ur.over=cu,Ur.overArgs=Mo,Ur.overEvery=lu,Ur.overSome=du,Ur.partial=Do,Ur.partialRight=Fo,Ur.partition=ko,Ur.pick=Ms,Ur.pickBy=Ds,Ur.property=fu,Ur.propertyOf=function(e){return function(t){return null==e?i:wn(e,t)}},Ur.pull=Ja,Ur.pullAll=Za,Ur.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?zn(e,t,ua(r,2)):e},Ur.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?zn(e,t,i,r):e},Ur.pullAt=Qa,Ur.range=hu,Ur.rangeRight=pu,Ur.rearg=Uo,Ur.reject=function(e,t){return(Wo(e)?Rt:gn)(e,jo(ua(t,3)))},Ur.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],a=e.length;for(t=ua(t,3);++n<a;){var o=e[n];t(o,n,e)&&(r.push(o),i.push(n))}return Yn(e,i),r},Ur.rest=function(e,t){if("function"!=typeof e)throw new Pe(a);return Jn(e,t=t===i?t:ps(t))},Ur.reverse=$a,Ur.sampleSize=function(e,t,r){return t=(r?ba(e,t,r):t===i)?1:ps(t),(Wo(e)?Zr:Qn)(e,t)},Ur.set=function(e,t,r){return null==e?e:$n(e,t,r)},Ur.setWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:$n(e,t,r,n)},Ur.shuffle=function(e){return(Wo(e)?Qr:ri)(e)},Ur.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&ba(e,t,r)?(t=0,r=n):(t=null==t?0:ps(t),r=r===i?n:ps(r)),ni(e,t,r)):[]},Ur.sortBy=_o,Ur.sortedUniq=function(e){return e&&e.length?si(e):[]},Ur.sortedUniqBy=function(e,t){return e&&e.length?si(e,ua(t,2)):[]},Ur.split=function(e,t,r){return r&&"number"!=typeof r&&ba(e,t,r)&&(t=r=i),(r=r===i?g:r>>>0)?(e=ys(e))&&("string"==typeof t||null!=t&&!as(t))&&!(t=ci(t))&&sr(e)?Ei(pr(e),0,r):e.split(t,r):[]},Ur.spread=function(e,t){if("function"!=typeof e)throw new Pe(a);return t=null==t?0:Xt(ps(t),0),Jn((function(r){var n=r[t],i=Ei(r,0,t);return n&&Mt(i,n),At(e,this,i)}))},Ur.tail=function(e){var t=null==e?0:e.length;return t?ni(e,1,t):[]},Ur.take=function(e,t,r){return e&&e.length?ni(e,0,(t=r||t===i?1:ps(t))<0?0:t):[]},Ur.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?ni(e,(t=n-(t=r||t===i?1:ps(t)))<0?0:t,n):[]},Ur.takeRightWhile=function(e,t){return e&&e.length?hi(e,ua(t,3),!1,!0):[]},Ur.takeWhile=function(e,t){return e&&e.length?hi(e,ua(t,3)):[]},Ur.tap=function(e,t){return t(e),e},Ur.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new Pe(a);return es(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Oo(e,t,{leading:n,maxWait:t,trailing:i})},Ur.thru=ho,Ur.toArray=fs,Ur.toPairs=Fs,Ur.toPairsIn=Us,Ur.toPath=function(e){return Wo(e)?jt(e,Ma):us(e)?[e]:Pi(ja(ys(e)))},Ur.toPlainObject=ms,Ur.transform=function(e,t,r){var n=Wo(e),i=n||Xo(e)||cs(e);if(t=ua(t,4),null==r){var a=e&&e.constructor;r=i?n?new a:[]:es(e)&&Zo(a)?Br(ze(e)):{}}return(i?Pt:Sn)(e,(function(e,n,i){return t(r,e,n,i)})),r},Ur.unary=function(e){return Ao(e,1)},Ur.union=eo,Ur.unionBy=to,Ur.unionWith=ro,Ur.uniq=function(e){return e&&e.length?li(e):[]},Ur.uniqBy=function(e,t){return e&&e.length?li(e,ua(t,2)):[]},Ur.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?li(e,i,t):[]},Ur.unset=function(e,t){return null==e||di(e,t)},Ur.unzip=no,Ur.unzipWith=io,Ur.update=function(e,t,r){return null==e?e:fi(e,t,yi(r))},Ur.updateWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:fi(e,t,yi(r),n)},Ur.values=Bs,Ur.valuesIn=function(e){return null==e?[]:er(e,Rs(e))},Ur.without=ao,Ur.words=Zs,Ur.wrap=function(e,t){return Do(yi(t),e)},Ur.xor=oo,Ur.xorBy=so,Ur.xorWith=uo,Ur.zip=co,Ur.zipObject=function(e,t){return gi(e||[],t||[],en)},Ur.zipObjectDeep=function(e,t){return gi(e||[],t||[],$n)},Ur.zipWith=lo,Ur.entries=Fs,Ur.entriesIn=Us,Ur.extend=Ss,Ur.extendWith=Es,su(Ur,Ur),Ur.add=mu,Ur.attempt=Qs,Ur.camelCase=Gs,Ur.capitalize=Vs,Ur.ceil=yu,Ur.clamp=function(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=(r=gs(r))===r?r:0),t!==i&&(t=(t=gs(t))===t?t:0),sn(gs(e),t,r)},Ur.clone=function(e){return un(e,4)},Ur.cloneDeep=function(e){return un(e,5)},Ur.cloneDeepWith=function(e,t){return un(e,5,t="function"==typeof t?t:i)},Ur.cloneWith=function(e,t){return un(e,4,t="function"==typeof t?t:i)},Ur.conformsTo=function(e,t){return null==t||cn(e,t,Os(t))},Ur.deburr=Hs,Ur.defaultTo=function(e,t){return null==e||e!==e?t:e},Ur.divide=bu,Ur.endsWith=function(e,t,r){e=ys(e),t=ci(t);var n=e.length,a=r=r===i?n:sn(ps(r),0,n);return(r-=t.length)>=0&&e.slice(r,a)==t},Ur.eq=Bo,Ur.escape=function(e){return(e=ys(e))&&Z.test(e)?e.replace(K,ar):e},Ur.escapeRegExp=function(e){return(e=ys(e))&&ae.test(e)?e.replace(ie,"\\$&"):e},Ur.every=function(e,t,r){var n=Wo(e)?Ot:pn;return r&&ba(e,t,r)&&(t=i),n(e,ua(t,3))},Ur.find=go,Ur.findIndex=Va,Ur.findKey=function(e,t){return Gt(e,ua(t,3),Sn)},Ur.findLast=mo,Ur.findLastIndex=Ha,Ur.findLastKey=function(e,t){return Gt(e,ua(t,3),En)},Ur.floor=Su,Ur.forEach=yo,Ur.forEachRight=bo,Ur.forIn=function(e,t){return null==e?e:yn(e,ua(t,3),Rs)},Ur.forInRight=function(e,t){return null==e?e:bn(e,ua(t,3),Rs)},Ur.forOwn=function(e,t){return e&&Sn(e,ua(t,3))},Ur.forOwnRight=function(e,t){return e&&En(e,ua(t,3))},Ur.get=Ts,Ur.gt=Go,Ur.gte=Vo,Ur.has=function(e,t){return null!=e&&va(e,t,An)},Ur.hasIn=As,Ur.head=qa,Ur.identity=nu,Ur.includes=function(e,t,r,n){e=zo(e)?e:Bs(e),r=r&&!n?ps(r):0;var i=e.length;return r<0&&(r=Xt(i+r,0)),ss(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Ht(e,t,r)>-1},Ur.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ps(r);return i<0&&(i=Xt(n+i,0)),Ht(e,t,i)},Ur.inRange=function(e,t,r){return t=hs(t),r===i?(r=t,t=0):r=hs(r),function(e,t,r){return e>=yr(t,r)&&e<Xt(t,r)}(e=gs(e),t,r)},Ur.invoke=Is,Ur.isArguments=Ho,Ur.isArray=Wo,Ur.isArrayBuffer=qo,Ur.isArrayLike=zo,Ur.isArrayLikeObject=Yo,Ur.isBoolean=function(e){return!0===e||!1===e||ts(e)&&_n(e)==S},Ur.isBuffer=Xo,Ur.isDate=Ko,Ur.isElement=function(e){return ts(e)&&1===e.nodeType&&!is(e)},Ur.isEmpty=function(e){if(null==e)return!0;if(zo(e)&&(Wo(e)||"string"==typeof e||"function"==typeof e.splice||Xo(e)||cs(e)||Ho(e)))return!e.length;var t=pa(e);if(t==_||t==I)return!e.size;if(wa(e))return!Mn(e).length;for(var r in e)if(je.call(e,r))return!1;return!0},Ur.isEqual=function(e,t){return Rn(e,t)},Ur.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:i)?r(e,t):i;return n===i?Rn(e,t,i,r):!!n},Ur.isError=Jo,Ur.isFinite=function(e){return"number"==typeof e&&bt(e)},Ur.isFunction=Zo,Ur.isInteger=Qo,Ur.isLength=$o,Ur.isMap=rs,Ur.isMatch=function(e,t){return e===t||Nn(e,t,la(t))},Ur.isMatchWith=function(e,t,r){return r="function"==typeof r?r:i,Nn(e,t,la(t),r)},Ur.isNaN=function(e){return ns(e)&&e!=+e},Ur.isNative=function(e){if(xa(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ln(e)},Ur.isNil=function(e){return null==e},Ur.isNull=function(e){return null===e},Ur.isNumber=ns,Ur.isObject=es,Ur.isObjectLike=ts,Ur.isPlainObject=is,Ur.isRegExp=as,Ur.isSafeInteger=function(e){return Qo(e)&&e>=-9007199254740991&&e<=p},Ur.isSet=os,Ur.isString=ss,Ur.isSymbol=us,Ur.isTypedArray=cs,Ur.isUndefined=function(e){return e===i},Ur.isWeakMap=function(e){return ts(e)&&pa(e)==N},Ur.isWeakSet=function(e){return ts(e)&&"[object WeakSet]"==_n(e)},Ur.join=function(e,t){return null==e?"":St.call(e,t)},Ur.kebabCase=Ws,Ur.last=Ka,Ur.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=n;return r!==i&&(a=(a=ps(r))<0?Xt(n+a,0):yr(a,n-1)),t===t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,a):Vt(e,qt,a,!0)},Ur.lowerCase=qs,Ur.lowerFirst=zs,Ur.lt=ls,Ur.lte=ds,Ur.max=function(e){return e&&e.length?vn(e,nu,Tn):i},Ur.maxBy=function(e,t){return e&&e.length?vn(e,ua(t,2),Tn):i},Ur.mean=function(e){return zt(e,nu)},Ur.meanBy=function(e,t){return zt(e,ua(t,2))},Ur.min=function(e){return e&&e.length?vn(e,nu,Fn):i},Ur.minBy=function(e,t){return e&&e.length?vn(e,ua(t,2),Fn):i},Ur.stubArray=vu,Ur.stubFalse=gu,Ur.stubObject=function(){return{}},Ur.stubString=function(){return""},Ur.stubTrue=function(){return!0},Ur.multiply=Eu,Ur.nth=function(e,t){return e&&e.length?Hn(e,ps(t)):i},Ur.noConflict=function(){return vt._===this&&(vt._=Be),this},Ur.noop=uu,Ur.now=To,Ur.pad=function(e,t,r){e=ys(e);var n=(t=ps(t))?hr(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Wi(pt(i),r)+e+Wi(ht(i),r)},Ur.padEnd=function(e,t,r){e=ys(e);var n=(t=ps(t))?hr(e):0;return t&&n<t?e+Wi(t-n,r):e},Ur.padStart=function(e,t,r){e=ys(e);var n=(t=ps(t))?hr(e):0;return t&&n<t?Wi(t-n,r)+e:e},Ur.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),Sr(ys(e).replace(oe,""),t||0)},Ur.random=function(e,t,r){if(r&&"boolean"!=typeof r&&ba(e,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=hs(e),t===i?(t=e,e=0):t=hs(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var a=Er();return yr(e+a*(t-e+dt("1e-"+((a+"").length-1))),t)}return Xn(e,t)},Ur.reduce=function(e,t,r){var n=Wo(e)?Dt:Kt,i=arguments.length<3;return n(e,ua(t,4),r,i,fn)},Ur.reduceRight=function(e,t,r){var n=Wo(e)?Ft:Kt,i=arguments.length<3;return n(e,ua(t,4),r,i,hn)},Ur.repeat=function(e,t,r){return t=(r?ba(e,t,r):t===i)?1:ps(t),Kn(ys(e),t)},Ur.replace=function(){var e=arguments,t=ys(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Ur.result=function(e,t,r){var n=-1,a=(t=bi(t,e)).length;for(a||(a=1,e=i);++n<a;){var o=null==e?i:e[Ma(t[n])];o===i&&(n=a,o=r),e=Zo(o)?o.call(e):o}return e},Ur.round=xu,Ur.runInContext=e,Ur.sample=function(e){return(Wo(e)?Jr:Zn)(e)},Ur.size=function(e){if(null==e)return 0;if(zo(e))return ss(e)?hr(e):e.length;var t=pa(e);return t==_||t==I?e.size:Mn(e).length},Ur.snakeCase=Ys,Ur.some=function(e,t,r){var n=Wo(e)?Ut:ii;return r&&ba(e,t,r)&&(t=i),n(e,ua(t,3))},Ur.sortedIndex=function(e,t){return ai(e,t)},Ur.sortedIndexBy=function(e,t,r){return oi(e,t,ua(r,2))},Ur.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ai(e,t);if(n<r&&Bo(e[n],t))return n}return-1},Ur.sortedLastIndex=function(e,t){return ai(e,t,!0)},Ur.sortedLastIndexBy=function(e,t,r){return oi(e,t,ua(r,2),!0)},Ur.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=ai(e,t,!0)-1;if(Bo(e[r],t))return r}return-1},Ur.startCase=Xs,Ur.startsWith=function(e,t,r){return e=ys(e),r=null==r?0:sn(ps(r),0,e.length),t=ci(t),e.slice(r,r+t.length)==t},Ur.subtract=wu,Ur.sum=function(e){return e&&e.length?Jt(e,nu):0},Ur.sumBy=function(e,t){return e&&e.length?Jt(e,ua(t,2)):0},Ur.template=function(e,t,r){var n=Ur.templateSettings;r&&ba(e,t,r)&&(t=i),e=ys(e),t=Es({},t,n,Qi);var a,o,s=Es({},t.imports,n.imports,Qi),u=Os(s),c=er(s,u),l=0,d=t.interpolate||xe,f="__p += '",h=Ae((t.escape||xe).source+"|"+d.source+"|"+(d===ee?pe:xe).source+"|"+(t.evaluate||xe).source+"|$","g"),p="//# sourceURL="+(je.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(h,(function(t,r,n,i,s,u){return n||(n=i),f+=e.slice(l,u).replace(we,or),r&&(a=!0,f+="' +\n__e("+r+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),f+="';\n";var v=je.call(t,"variable")&&t.variable;if(v){if(fe.test(v))throw new se("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(q,""):f).replace(z,"$1").replace(Y,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Qs((function(){return ke(u,p+"return "+f).apply(i,c)}));if(g.source=f,Jo(g))throw g;return g},Ur.times=function(e,t){if((e=ps(e))<1||e>p)return[];var r=g,n=yr(e,g);t=ua(t),e-=g;for(var i=Zt(n,t);++r<e;)t(r);return i},Ur.toFinite=hs,Ur.toInteger=ps,Ur.toLength=vs,Ur.toLower=function(e){return ys(e).toLowerCase()},Ur.toNumber=gs,Ur.toSafeInteger=function(e){return e?sn(ps(e),-9007199254740991,p):0===e?e:0},Ur.toString=ys,Ur.toUpper=function(e){return ys(e).toUpperCase()},Ur.trim=function(e,t,r){if((e=ys(e))&&(r||t===i))return Qt(e);if(!e||!(t=ci(t)))return e;var n=pr(e),a=pr(t);return Ei(n,rr(n,a),nr(n,a)+1).join("")},Ur.trimEnd=function(e,t,r){if((e=ys(e))&&(r||t===i))return e.slice(0,vr(e)+1);if(!e||!(t=ci(t)))return e;var n=pr(e);return Ei(n,0,nr(n,pr(t))+1).join("")},Ur.trimStart=function(e,t,r){if((e=ys(e))&&(r||t===i))return e.replace(oe,"");if(!e||!(t=ci(t)))return e;var n=pr(e);return Ei(n,rr(n,pr(t))).join("")},Ur.truncate=function(e,t){var r=30,n="...";if(es(t)){var a="separator"in t?t.separator:a;r="length"in t?ps(t.length):r,n="omission"in t?ci(t.omission):n}var o=(e=ys(e)).length;if(sr(e)){var s=pr(e);o=s.length}if(r>=o)return e;var u=r-hr(n);if(u<1)return n;var c=s?Ei(s,0,u).join(""):e.slice(0,u);if(a===i)return c+n;if(s&&(u+=c.length-u),as(a)){if(e.slice(u).search(a)){var l,d=c;for(a.global||(a=Ae(a.source,ys(ve.exec(a))+"g")),a.lastIndex=0;l=a.exec(d);)var f=l.index;c=c.slice(0,f===i?u:f)}}else if(e.indexOf(ci(a),u)!=u){var h=c.lastIndexOf(a);h>-1&&(c=c.slice(0,h))}return c+n},Ur.unescape=function(e){return(e=ys(e))&&J.test(e)?e.replace(X,gr):e},Ur.uniqueId=function(e){var t=++Me;return ys(e)+t},Ur.upperCase=Ks,Ur.upperFirst=Js,Ur.each=yo,Ur.eachRight=bo,Ur.first=qa,su(Ur,function(){var e={};return Sn(Ur,(function(t,r){je.call(Ur.prototype,r)||(e[r]=t)})),e}(),{chain:!1}),Ur.VERSION="4.17.21",Pt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Ur[e].placeholder=Ur})),Pt(["drop","take"],(function(e,t){Hr.prototype[e]=function(r){r=r===i?1:Xt(ps(r),0);var n=this.__filtered__&&!t?new Hr(this):this.clone();return n.__filtered__?n.__takeCount__=yr(r,n.__takeCount__):n.__views__.push({size:yr(r,g),type:e+(n.__dir__<0?"Right":"")}),n},Hr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Pt(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Hr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ua(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),Pt(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Hr.prototype[e]=function(){return this[r](1).value()[0]}})),Pt(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Hr.prototype[e]=function(){return this.__filtered__?new Hr(this):this[r](1)}})),Hr.prototype.compact=function(){return this.filter(nu)},Hr.prototype.find=function(e){return this.filter(e).head()},Hr.prototype.findLast=function(e){return this.reverse().find(e)},Hr.prototype.invokeMap=Jn((function(e,t){return"function"==typeof e?new Hr(this):this.map((function(r){return In(r,e,t)}))})),Hr.prototype.reject=function(e){return this.filter(jo(ua(e)))},Hr.prototype.slice=function(e,t){e=ps(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Hr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(r=(t=ps(t))<0?r.dropRight(-t):r.take(t-e)),r)},Hr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hr.prototype.toArray=function(){return this.take(g)},Sn(Hr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),a=Ur[n?"take"+("last"==t?"Right":""):t],o=n||/^find/.test(t);a&&(Ur.prototype[t]=function(){var t=this.__wrapped__,s=n?[1]:arguments,u=t instanceof Hr,c=s[0],l=u||Wo(t),d=function(e){var t=a.apply(Ur,Mt([e],s));return n&&f?t[0]:t};l&&r&&"function"==typeof c&&1!=c.length&&(u=l=!1);var f=this.__chain__,h=!!this.__actions__.length,p=o&&!f,v=u&&!h;if(!o&&l){t=v?t:new Hr(this);var g=e.apply(t,s);return g.__actions__.push({func:ho,args:[d],thisArg:i}),new Vr(g,f)}return p&&v?e.apply(this,s):(g=this.thru(d),p?n?g.value()[0]:g.value():g)})})),Pt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ie[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Ur.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Wo(i)?i:[],e)}return this[r]((function(r){return t.apply(Wo(r)?r:[],e)}))}})),Sn(Hr.prototype,(function(e,t){var r=Ur[t];if(r){var n=r.name+"";je.call(Ir,n)||(Ir[n]=[]),Ir[n].push({name:t,func:r})}})),Ir[Bi(i,2).name]=[{name:"wrapper",func:i}],Hr.prototype.clone=function(){var e=new Hr(this.__wrapped__);return e.__actions__=Pi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Pi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Pi(this.__views__),e},Hr.prototype.reverse=function(){if(this.__filtered__){var e=new Hr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Wo(e),n=t<0,i=r?e.length:0,a=function(e,t,r){var n=-1,i=r.length;for(;++n<i;){var a=r[n],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=yr(t,e+o);break;case"takeRight":e=Xt(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,u=s-o,c=n?s:o-1,l=this.__iteratees__,d=l.length,f=0,h=yr(u,this.__takeCount__);if(!r||!n&&i==u&&h==u)return pi(e,this.__actions__);var p=[];e:for(;u--&&f<h;){for(var v=-1,g=e[c+=t];++v<d;){var m=l[v],y=m.iteratee,b=m.type,S=y(g);if(2==b)g=S;else if(!S){if(1==b)continue e;break e}}p[f++]=g}return p},Ur.prototype.at=po,Ur.prototype.chain=function(){return fo(this)},Ur.prototype.commit=function(){return new Vr(this.value(),this.__chain__)},Ur.prototype.next=function(){this.__values__===i&&(this.__values__=fs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Ur.prototype.plant=function(e){for(var t,r=this;r instanceof Gr;){var n=Fa(r);n.__index__=0,n.__values__=i,t?a.__wrapped__=n:t=n;var a=n;r=r.__wrapped__}return a.__wrapped__=e,t},Ur.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hr){var t=e;return this.__actions__.length&&(t=new Hr(this)),(t=t.reverse()).__actions__.push({func:ho,args:[$a],thisArg:i}),new Vr(t,this.__chain__)}return this.thru($a)},Ur.prototype.toJSON=Ur.prototype.valueOf=Ur.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Ur.prototype.first=Ur.prototype.head,Ze&&(Ur.prototype[Ze]=function(){return this}),Ur}();vt._=mr,(n=function(){return mr}.call(t,r,t,e))===i||(e.exports=n)}.call(this)},46170:function(e,t,r){var n=r(7289);e.exports=function(){return n.Date.now()}},72554:function(e){e.exports=function(){return[]}},95535:function(e){e.exports=function(){return!1}},91909:function(e,t,r){var n=r(12279),i=r(91845);e.exports=function(e,t,r){var a=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(r)&&(a="leading"in r?!!r.leading:a,o="trailing"in r?!!r.trailing:o),n(e,t,{leading:a,maxWait:t,trailing:o})}},57923:function(e,t,r){var n=r(2306),i=r(91845),a=r(72060),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):o.test(e)?NaN:+e}},12047:function(e,t,r){"use strict";var n=r(38416).default,i=r(861).default,a=r(74704).default,o=r(42122).default,s=r(70215).default,u=r(27424).default,c=r(89728).default,l=r(56690).default,d=r(61655).default,f=r(26389).default,h=r(33496).default,p=["base"],v=["padTo","floor"];Object.defineProperty(t,"__esModule",{value:!0});var g=function(e){d(r,e);var t=f(r);function r(){return l(this,r),t.apply(this,arguments)}return c(r)}(h(Error)),m=function(e){d(r,e);var t=f(r);function r(e){return l(this,r),t.call(this,"Invalid DateTime: ".concat(e.toMessage()))}return c(r)}(g),y=function(e){d(r,e);var t=f(r);function r(e){return l(this,r),t.call(this,"Invalid Interval: ".concat(e.toMessage()))}return c(r)}(g),b=function(e){d(r,e);var t=f(r);function r(e){return l(this,r),t.call(this,"Invalid Duration: ".concat(e.toMessage()))}return c(r)}(g),S=function(e){d(r,e);var t=f(r);function r(){return l(this,r),t.apply(this,arguments)}return c(r)}(g),E=function(e){d(r,e);var t=f(r);function r(e){return l(this,r),t.call(this,"Invalid unit ".concat(e))}return c(r)}(g),x=function(e){d(r,e);var t=f(r);function r(){return l(this,r),t.apply(this,arguments)}return c(r)}(g),w=function(e){d(r,e);var t=f(r);function r(){return l(this,r),t.call(this,"Zone is an abstract class")}return c(r)}(g),k="numeric",_="short",T="long",A={year:k,month:k,day:k},C={year:k,month:_,day:k},P={year:k,month:_,day:k,weekday:_},I={year:k,month:T,day:k},O={year:k,month:T,day:k,weekday:T},R={hour:k,minute:k},N={hour:k,minute:k,second:k},L={hour:k,minute:k,second:k,timeZoneName:_},j={hour:k,minute:k,second:k,timeZoneName:T},M={hour:k,minute:k,hourCycle:"h23"},D={hour:k,minute:k,second:k,hourCycle:"h23"},F={hour:k,minute:k,second:k,hourCycle:"h23",timeZoneName:_},U={hour:k,minute:k,second:k,hourCycle:"h23",timeZoneName:T},B={year:k,month:k,day:k,hour:k,minute:k},G={year:k,month:k,day:k,hour:k,minute:k,second:k},V={year:k,month:_,day:k,hour:k,minute:k},H={year:k,month:_,day:k,hour:k,minute:k,second:k},W={year:k,month:_,day:k,weekday:_,hour:k,minute:k},q={year:k,month:T,day:k,hour:k,minute:k,timeZoneName:_},z={year:k,month:T,day:k,hour:k,minute:k,second:k,timeZoneName:_},Y={year:k,month:T,day:k,weekday:T,hour:k,minute:k,timeZoneName:T},X={year:k,month:T,day:k,weekday:T,hour:k,minute:k,second:k,timeZoneName:T},K=function(){function e(){l(this,e)}return c(e,[{key:"type",get:function(){throw new w}},{key:"name",get:function(){throw new w}},{key:"ianaName",get:function(){return this.name}},{key:"isUniversal",get:function(){throw new w}},{key:"offsetName",value:function(e,t){throw new w}},{key:"formatOffset",value:function(e,t){throw new w}},{key:"offset",value:function(e){throw new w}},{key:"equals",value:function(e){throw new w}},{key:"isValid",get:function(){throw new w}}]),e}(),J=null,Z=function(e){d(r,e);var t=f(r);function r(){return l(this,r),t.apply(this,arguments)}return c(r,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"offsetName",value:function(e,t){return He(e,t.format,t.locale)}},{key:"formatOffset",value:function(e,t){return Ye(this.offset(e),t)}},{key:"offset",value:function(e){return-new Date(e).getTimezoneOffset()}},{key:"equals",value:function(e){return"system"===e.type}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===J&&(J=new r),J}}]),r}(K),Q={};var $={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};var ee={},te=function(e){d(r,e);var t=f(r);function r(e){var n;return l(this,r),(n=t.call(this)).zoneName=e,n.valid=r.isValidZone(e),n}return c(r,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"offsetName",value:function(e,t){return He(e,t.format,t.locale,this.name)}},{key:"formatOffset",value:function(e,t){return Ye(this.offset(e),t)}},{key:"offset",value:function(e){var t=new Date(e);if(isNaN(t))return NaN;var r,n=(r=this.name,Q[r]||(Q[r]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Q[r]),i=n.formatToParts?function(e,t){for(var r=e.formatToParts(t),n=[],i=0;i<r.length;i++){var a=r[i],o=a.type,s=a.value,u=$[o];"era"===o?n[u]=s:_e(u)||(n[u]=parseInt(s,10))}return n}(n,t):function(e,t){var r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),i=u(n,8),a=i[1],o=i[2];return[i[3],a,o,i[4],i[5],i[6],i[7]]}(n,t),a=u(i,7),o=a[0],s=a[1],c=a[2],l=a[3],d=a[4],f=a[5],h=a[6];"BC"===l&&(o=1-Math.abs(o));var p=+t,v=p%1e3;return(Be({year:o,month:s,day:c,hour:24===d?0:d,minute:f,second:h,millisecond:0})-(p-=v>=0?v:1e3+v))/6e4}},{key:"equals",value:function(e){return"iana"===e.type&&e.name===this.name}},{key:"isValid",get:function(){return this.valid}}],[{key:"create",value:function(e){return ee[e]||(ee[e]=new r(e)),ee[e]}},{key:"resetCache",value:function(){ee={},Q={}}},{key:"isValidSpecifier",value:function(e){return this.isValidZone(e)}},{key:"isValidZone",value:function(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(t){return!1}}}]),r}(K),re={};var ne={};function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=JSON.stringify([e,t]),n=ne[r];return n||(n=new Intl.DateTimeFormat(e,t),ne[r]=n),n}var ae={};var oe={};var se=null;function ue(e,t,r,n){var i=e.listingMode();return"error"===i?null:"en"===i?r(t):n(t)}var ce=function(){function e(t,r,n){l(this,e),this.padTo=n.padTo||0,this.floor=n.floor||!1;n.padTo,n.floor;var i=s(n,v);if(!r||Object.keys(i).length>0){var a=o({useGrouping:!1},n);n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=JSON.stringify([e,t]),n=ae[r];return n||(n=new Intl.NumberFormat(e,t),ae[r]=n),n}(t,a)}}return c(e,[{key:"format",value:function(e){if(this.inf){var t=this.floor?Math.floor(e):e;return this.inf.format(t)}return Re(this.floor?Math.floor(e):Me(e,3),this.padTo)}}]),e}(),le=function(){function e(t,r,n){l(this,e),this.opts=n,this.originalZone=void 0;var i=void 0;if(this.opts.timeZone)this.dt=t;else if("fixed"===t.zone.type){var a=t.offset/60*-1,s=a>=0?"Etc/GMT+".concat(a):"Etc/GMT".concat(a);0!==t.offset&&te.create(s).valid?(i=s,this.dt=t):(i="UTC",this.dt=0===t.offset?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else"system"===t.zone.type?this.dt=t:"iana"===t.zone.type?(this.dt=t,i=t.zone.name):(i="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);var u=o({},this.opts);u.timeZone=u.timeZone||i,this.dtf=ie(r,u)}return c(e,[{key:"format",value:function(){return this.originalZone?this.formatToParts().map((function(e){return e.value})).join(""):this.dtf.format(this.dt.toJSDate())}},{key:"formatToParts",value:function(){var e=this,t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map((function(t){if("timeZoneName"===t.type){var r=e.originalZone.offsetName(e.dt.ts,{locale:e.dt.locale,format:e.opts.timeZoneName});return o(o({},t),{},{value:r})}return t})):t}},{key:"resolvedOptions",value:function(){return this.dtf.resolvedOptions()}}]),e}(),de=function(){function e(t,r,n){l(this,e),this.opts=o({style:"long"},n),!r&&Ce()&&(this.rtf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t.base,s(t,p)),n=JSON.stringify([e,r]),i=oe[n];return i||(i=new Intl.RelativeTimeFormat(e,t),oe[n]=i),i}(t,n))}return c(e,[{key:"format",value:function(e,t){return this.rtf?this.rtf.format(e,t):function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"always",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===r&&a){var o="days"===e;switch(t){case 1:return o?"tomorrow":"next ".concat(i[e][0]);case-1:return o?"yesterday":"last ".concat(i[e][0]);case 0:return o?"today":"this ".concat(i[e][0])}}var s=Object.is(t,-0)||t<0,u=Math.abs(t),c=1===u,l=i[e],d=n?c?l[1]:l[2]||l[1]:c?i[e][0]:e;return s?"".concat(u," ").concat(d," ago"):"in ".concat(u," ").concat(d)}(t,e,this.opts.numeric,"long"!==this.opts.style)}},{key:"formatToParts",value:function(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}]),e}(),fe=function(){function e(t,r,n,i){l(this,e);var a=function(e){var t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));var r,n,i=e.indexOf("-u-");if(-1===i)return[e];try{r=ie(e).resolvedOptions(),n=e}catch(s){var a=e.substring(0,i);r=ie(a).resolvedOptions(),n=a}var o=r;return[n,o.numberingSystem,o.calendar]}(t),o=u(a,3),s=o[0],c=o[1],d=o[2];this.locale=s,this.numberingSystem=r||c||null,this.outputCalendar=n||d||null,this.intl=function(e,t,r){return r||t?(e.includes("-u-")||(e+="-u"),r&&(e+="-ca-".concat(r)),t&&(e+="-nu-".concat(t)),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}return c(e,[{key:"fastNumbers",get:function(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}},{key:"listingMode",value:function(){var e=this.isEnglish(),t=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return e&&t?"en":"intl"}},{key:"clone",value:function(t){return t&&0!==Object.getOwnPropertyNames(t).length?e.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1):this}},{key:"redefaultToEN",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone(o(o({},e),{},{defaultToEN:!0}))}},{key:"redefaultToSystem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone(o(o({},e),{},{defaultToEN:!1}))}},{key:"months",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ue(this,e,Qe,(function(){var n=r?{month:e,day:"numeric"}:{month:e},i=r?"format":"standalone";return t.monthsCache[i][e]||(t.monthsCache[i][e]=function(e){for(var t=[],r=1;r<=12;r++){var n=bn.utc(2009,r,1);t.push(e(n))}return t}((function(e){return t.extract(e,n,"month")}))),t.monthsCache[i][e]}))}},{key:"weekdays",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ue(this,e,rt,(function(){var n=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=r?"format":"standalone";return t.weekdaysCache[i][e]||(t.weekdaysCache[i][e]=function(e){for(var t=[],r=1;r<=7;r++){var n=bn.utc(2016,11,13+r);t.push(e(n))}return t}((function(e){return t.extract(e,n,"weekday")}))),t.weekdaysCache[i][e]}))}},{key:"meridiems",value:function(){var e=this;return ue(this,void 0,(function(){return nt}),(function(){if(!e.meridiemCache){var t={hour:"numeric",hourCycle:"h12"};e.meridiemCache=[bn.utc(2016,11,13,9),bn.utc(2016,11,13,19)].map((function(r){return e.extract(r,t,"dayperiod")}))}return e.meridiemCache}))}},{key:"eras",value:function(e){var t=this;return ue(this,e,st,(function(){var r={era:e};return t.eraCache[e]||(t.eraCache[e]=[bn.utc(-40,1,1),bn.utc(2017,1,1)].map((function(e){return t.extract(e,r,"era")}))),t.eraCache[e]}))}},{key:"extract",value:function(e,t,r){var n=this.dtFormatter(e,t).formatToParts().find((function(e){return e.type.toLowerCase()===r}));return n?n.value:null}},{key:"numberFormatter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ce(this.intl,e.forceSimple||this.fastNumbers,e)}},{key:"dtFormatter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new le(e,this.intl,t)}},{key:"relFormatter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new de(this.intl,this.isEnglish(),e)}},{key:"listFormatter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=JSON.stringify([e,t]),n=re[r];return n||(n=new Intl.ListFormat(e,t),re[r]=n),n}(this.intl,e)}},{key:"isEnglish",value:function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}},{key:"equals",value:function(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}],[{key:"fromOpts",value:function(t){return e.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}},{key:"create",value:function(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=t||ke.defaultLocale;return new e(a||(i?"en-US":se||(se=(new Intl.DateTimeFormat).resolvedOptions().locale)),r||ke.defaultNumberingSystem,n||ke.defaultOutputCalendar,a)}},{key:"resetCache",value:function(){se=null,ne={},ae={},oe={}}},{key:"fromObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.locale,n=t.numberingSystem,i=t.outputCalendar;return e.create(r,n,i)}}]),e}(),he=null,pe=function(e){d(r,e);var t=f(r);function r(e){var n;return l(this,r),(n=t.call(this)).fixed=e,n}return c(r,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC".concat(Ye(this.fixed,"narrow"))}},{key:"ianaName",get:function(){return 0===this.fixed?"Etc/UTC":"Etc/GMT".concat(Ye(-this.fixed,"narrow"))}},{key:"offsetName",value:function(){return this.name}},{key:"formatOffset",value:function(e,t){return Ye(this.fixed,t)}},{key:"isUniversal",get:function(){return!0}},{key:"offset",value:function(){return this.fixed}},{key:"equals",value:function(e){return"fixed"===e.type&&e.fixed===this.fixed}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return null===he&&(he=new r(0)),he}},{key:"instance",value:function(e){return 0===e?r.utcInstance:new r(e)}},{key:"parseSpecifier",value:function(e){if(e){var t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new r(We(t[1],t[2]))}return null}}]),r}(K),ve=function(e){d(r,e);var t=f(r);function r(e){var n;return l(this,r),(n=t.call(this)).zoneName=e,n}return c(r,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"offsetName",value:function(){return null}},{key:"formatOffset",value:function(){return""}},{key:"offset",value:function(){return NaN}},{key:"equals",value:function(){return!1}},{key:"isValid",get:function(){return!1}}]),r}(K);function ge(e,t){if(_e(e)||null===e)return t;if(e instanceof K)return e;if(function(e){return"string"===typeof e}(e)){var r=e.toLowerCase();return"default"===r?t:"local"===r||"system"===r?Z.instance:"utc"===r||"gmt"===r?pe.utcInstance:pe.parseSpecifier(r)||te.create(e)}return Te(e)?pe.instance(e):"object"===typeof e&&"offset"in e&&"function"===typeof e.offset?e:new ve(e)}var me,ye=function(){return Date.now()},be="system",Se=null,Ee=null,xe=null,we=60,ke=function(){function e(){l(this,e)}return c(e,null,[{key:"now",get:function(){return ye},set:function(e){ye=e}},{key:"defaultZone",get:function(){return ge(be,Z.instance)},set:function(e){be=e}},{key:"defaultLocale",get:function(){return Se},set:function(e){Se=e}},{key:"defaultNumberingSystem",get:function(){return Ee},set:function(e){Ee=e}},{key:"defaultOutputCalendar",get:function(){return xe},set:function(e){xe=e}},{key:"twoDigitCutoffYear",get:function(){return we},set:function(e){we=e%100}},{key:"throwOnInvalid",get:function(){return me},set:function(e){me=e}},{key:"resetCaches",value:function(){fe.resetCache(),te.resetCache()}}]),e}();function _e(e){return"undefined"===typeof e}function Te(e){return"number"===typeof e}function Ae(e){return"number"===typeof e&&e%1===0}function Ce(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function Pe(e,t,r){if(0!==e.length)return e.reduce((function(e,n){var i=[t(n),n];return e&&r(e[0],i[0])===e[0]?e:i}),null)[1]}function Ie(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Oe(e,t,r){return Ae(e)&&e>=t&&e<=r}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0")}function Ne(e){return _e(e)||null===e||""===e?void 0:parseInt(e,10)}function Le(e){return _e(e)||null===e||""===e?void 0:parseFloat(e)}function je(e){if(!_e(e)&&null!==e&&""!==e){var t=1e3*parseFloat("0."+e);return Math.floor(t)}}function Me(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Math.pow(10,t);return(r?Math.trunc:Math.round)(e*n)/n}function De(e){return e%4===0&&(e%100!==0||e%400===0)}function Fe(e){return De(e)?366:365}function Ue(e,t){var r=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return 2===r?De(e+(t-r)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Be(e){var t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t)).setUTCFullYear(e.year,e.month-1,e.day),+t}function Ge(e){var t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,r=e-1,n=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return 4===t||3===n?53:52}function Ve(e){return e>99?e:e>ke.twoDigitCutoffYear?1900+e:2e3+e}function He(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=new Date(e),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(a.timeZone=n);var s=o({timeZoneName:t},a),u=new Intl.DateTimeFormat(r,s).formatToParts(i).find((function(e){return"timezonename"===e.type.toLowerCase()}));return u?u.value:null}function We(e,t){var r=parseInt(e,10);Number.isNaN(r)&&(r=0);var n=parseInt(t,10)||0;return 60*r+(r<0||Object.is(r,-0)?-n:n)}function qe(e){var t=Number(e);if("boolean"===typeof e||""===e||Number.isNaN(t))throw new x("Invalid unit value ".concat(e));return t}function ze(e,t){var r={};for(var n in e)if(Ie(e,n)){var i=e[n];if(void 0===i||null===i)continue;r[t(n)]=qe(i)}return r}function Ye(e,t){var r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return"".concat(i).concat(Re(r,2),":").concat(Re(n,2));case"narrow":return"".concat(i).concat(r).concat(n>0?":".concat(n):"");case"techie":return"".concat(i).concat(Re(r,2)).concat(Re(n,2));default:throw new RangeError("Value format ".concat(t," is out of range for property format"))}}function Xe(e){return function(e,t){return t.reduce((function(t,r){return t[r]=e[r],t}),{})}(e,["hour","minute","second","millisecond"])}var Ke=["January","February","March","April","May","June","July","August","September","October","November","December"],Je=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ze=["J","F","M","A","M","J","J","A","S","O","N","D"];function Qe(e){switch(e){case"narrow":return[].concat(Ze);case"short":return[].concat(Je);case"long":return[].concat(Ke);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var $e=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],et=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],tt=["M","T","W","T","F","S","S"];function rt(e){switch(e){case"narrow":return[].concat(tt);case"short":return[].concat(et);case"long":return[].concat($e);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var nt=["AM","PM"],it=["Before Christ","Anno Domini"],at=["BC","AD"],ot=["B","A"];function st(e){switch(e){case"narrow":return[].concat(ot);case"short":return[].concat(at);case"long":return[].concat(it);default:return null}}function ut(e,t){var r,n="",i=a(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.literal?n+=o.val:n+=t(o.val)}}catch(s){i.e(s)}finally{i.f()}return n}var ct={D:A,DD:C,DDD:I,DDDD:O,t:R,tt:N,ttt:L,tttt:j,T:M,TT:D,TTT:F,TTTT:U,f:B,ff:V,fff:q,ffff:Y,F:G,FF:H,FFF:z,FFFF:X},lt=function(){function e(t,r){l(this,e),this.opts=r,this.loc=t,this.systemLoc=null}return c(e,[{key:"formatWithSystemDefault",value:function(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,o(o({},this.opts),t)).format()}},{key:"dtFormatter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.loc.dtFormatter(e,o(o({},this.opts),t))}},{key:"formatDateTime",value:function(e,t){return this.dtFormatter(e,t).format()}},{key:"formatDateTimeParts",value:function(e,t){return this.dtFormatter(e,t).formatToParts()}},{key:"formatInterval",value:function(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}},{key:"resolvedOptions",value:function(e,t){return this.dtFormatter(e,t).resolvedOptions()}},{key:"num",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.opts.forceSimple)return Re(e,t);var r=o({},this.opts);return t>0&&(r.padTo=t),this.loc.numberFormatter(r).format(e)}},{key:"formatDateTimeFromString",value:function(t,r){var n=this,i="en"===this.loc.listingMode(),a=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,o=function(e,r){return n.loc.extract(t,e,r)},s=function(e){return t.isOffsetFixed&&0===t.offset&&e.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,e.format):""},u=function(){return i?function(e){return nt[e.hour<12?0:1]}(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod")},c=function(e,r){return i?function(e,t){return Qe(t)[e.month-1]}(t,e):o(r?{month:e}:{month:e,day:"numeric"},"month")},l=function(e,r){return i?function(e,t){return rt(t)[e.weekday-1]}(t,e):o(r?{weekday:e}:{weekday:e,month:"long",day:"numeric"},"weekday")},d=function(e){return i?function(e,t){return st(t)[e.year<0?0:1]}(t,e):o({era:e},"era")};return ut(e.parseFormat(r),(function(r){switch(r){case"S":return n.num(t.millisecond);case"u":case"SSS":return n.num(t.millisecond,3);case"s":return n.num(t.second);case"ss":return n.num(t.second,2);case"uu":return n.num(Math.floor(t.millisecond/10),2);case"uuu":return n.num(Math.floor(t.millisecond/100));case"m":return n.num(t.minute);case"mm":return n.num(t.minute,2);case"h":return n.num(t.hour%12===0?12:t.hour%12);case"hh":return n.num(t.hour%12===0?12:t.hour%12,2);case"H":return n.num(t.hour);case"HH":return n.num(t.hour,2);case"Z":return s({format:"narrow",allowZ:n.opts.allowZ});case"ZZ":return s({format:"short",allowZ:n.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:n.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:n.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:n.loc.locale});case"z":return t.zoneName;case"a":return u();case"d":return a?o({day:"numeric"},"day"):n.num(t.day);case"dd":return a?o({day:"2-digit"},"day"):n.num(t.day,2);case"c":case"E":return n.num(t.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return a?o({month:"numeric",day:"numeric"},"month"):n.num(t.month);case"LL":return a?o({month:"2-digit",day:"numeric"},"month"):n.num(t.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return a?o({month:"numeric"},"month"):n.num(t.month);case"MM":return a?o({month:"2-digit"},"month"):n.num(t.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return a?o({year:"numeric"},"year"):n.num(t.year);case"yy":return a?o({year:"2-digit"},"year"):n.num(t.year.toString().slice(-2),2);case"yyyy":return a?o({year:"numeric"},"year"):n.num(t.year,4);case"yyyyyy":return a?o({year:"numeric"},"year"):n.num(t.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return n.num(t.weekYear.toString().slice(-2),2);case"kkkk":return n.num(t.weekYear,4);case"W":return n.num(t.weekNumber);case"WW":return n.num(t.weekNumber,2);case"o":return n.num(t.ordinal);case"ooo":return n.num(t.ordinal,3);case"q":return n.num(t.quarter);case"qq":return n.num(t.quarter,2);case"X":return n.num(Math.floor(t.ts/1e3));case"x":return n.num(t.ts);default:return function(r){var i=e.macroTokenToFormatOpts(r);return i?n.formatWithSystemDefault(t,i):r}(r)}}))}},{key:"formatDurationFromString",value:function(t,r){var n,a=this,o=function(e){switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=e.parseFormat(r),u=s.reduce((function(e,t){var r=t.literal,n=t.val;return r?e:e.concat(n)}),[]),c=t.shiftTo.apply(t,i(u.map(o).filter((function(e){return e}))));return ut(s,(n=c,function(e){var t=o(e);return t?a.num(n.get(t),e.length):e}))}}],[{key:"create",value:function(t){return new e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}},{key:"parseFormat",value:function(e){for(var t=null,r="",n=!1,i=[],a=0;a<e.length;a++){var o=e.charAt(a);"'"===o?(r.length>0&&i.push({literal:n||/^\s+$/.test(r),val:r}),t=null,r="",n=!n):n||o===t?r+=o:(r.length>0&&i.push({literal:/^\s+$/.test(r),val:r}),r=o,t=o)}return r.length>0&&i.push({literal:n||/^\s+$/.test(r),val:r}),i}},{key:"macroTokenToFormatOpts",value:function(e){return ct[e]}}]),e}(),dt=function(){function e(t,r){l(this,e),this.reason=t,this.explanation=r}return c(e,[{key:"toMessage",value:function(){return this.explanation?"".concat(this.reason,": ").concat(this.explanation):this.reason}}]),e}(),ft=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function ht(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.reduce((function(e,t){return e+t.source}),"");return RegExp("^".concat(n,"$"))}function pt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(t,r){var n=u(t,3),i=n[0],a=n[1],s=n[2],c=r(e,s),l=u(c,3),d=l[0],f=l[1],h=l[2];return[o(o({},i),d),f||a,h]}),[{},null,1]).slice(0,2)}}function vt(e){if(null==e)return[null,null];for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i=0,a=r;i<a.length;i++){var o=u(a[i],2),s=o[0],c=o[1],l=s.exec(e);if(l)return c(l)}return[null,null]}function gt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e,r){var n,i={};for(n=0;n<t.length;n++)i[t[n]]=Ne(e[r+n]);return[i,null,r+n]}}var mt=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,yt="(?:".concat(mt.source,"?(?:\\[(").concat(ft.source,")\\])?)?"),bt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,St=RegExp("".concat(bt.source).concat(yt)),Et=RegExp("(?:T".concat(St.source,")?")),xt=gt("weekYear","weekNumber","weekDay"),wt=gt("year","ordinal"),kt=RegExp("".concat(bt.source," ?(?:").concat(mt.source,"|(").concat(ft.source,"))?")),_t=RegExp("(?: ".concat(kt.source,")?"));function Tt(e,t,r){var n=e[t];return _e(n)?r:Ne(n)}function At(e,t){return[{hours:Tt(e,t,0),minutes:Tt(e,t+1,0),seconds:Tt(e,t+2,0),milliseconds:je(e[t+3])},null,t+4]}function Ct(e,t){var r=!e[t]&&!e[t+1],n=We(e[t+1],e[t+2]);return[{},r?null:pe.instance(n),t+3]}function Pt(e,t){return[{},e[t]?te.create(e[t]):null,t+1]}var It=RegExp("^T?".concat(bt.source,"$")),Ot=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Rt(e){var t=u(e,9),r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],d=t[8],f="-"===r[0],h=l&&"-"===l[0],p=function(e){return void 0!==e&&(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e&&f)?-e:e};return[{years:p(Le(n)),months:p(Le(i)),weeks:p(Le(a)),days:p(Le(o)),hours:p(Le(s)),minutes:p(Le(c)),seconds:p(Le(l),"-0"===l),milliseconds:p(je(d),h)}]}var Nt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Lt(e,t,r,n,i,a,o){var s={year:2===t.length?Ve(Ne(t)):Ne(t),month:Je.indexOf(r)+1,day:Ne(n),hour:Ne(i),minute:Ne(a)};return o&&(s.second=Ne(o)),e&&(s.weekday=e.length>3?$e.indexOf(e)+1:et.indexOf(e)+1),s}var jt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Mt(e){var t,r=u(e,12),n=r[1],i=r[2],a=r[3],o=r[4],s=r[5],c=r[6],l=r[7],d=r[8],f=r[9],h=r[10],p=r[11],v=Lt(n,o,a,i,s,c,l);return t=d?Nt[d]:f?0:We(h,p),[v,new pe(t)]}var Dt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Ft=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Ut=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Bt(e){var t=u(e,8),r=t[1],n=t[2],i=t[3];return[Lt(r,t[4],i,n,t[5],t[6],t[7]),pe.utcInstance]}function Gt(e){var t=u(e,8),r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],s=t[6];return[Lt(r,t[7],n,i,a,o,s),pe.utcInstance]}var Vt=ht(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Et),Ht=ht(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Et),Wt=ht(/(\d{4})-?(\d{3})/,Et),qt=ht(St),zt=pt((function(e,t){return[{year:Tt(e,t),month:Tt(e,t+1,1),day:Tt(e,t+2,1)},null,t+3]}),At,Ct,Pt),Yt=pt(xt,At,Ct,Pt),Xt=pt(wt,At,Ct,Pt),Kt=pt(At,Ct,Pt);var Jt=pt(At);var Zt=ht(/(\d{4})-(\d\d)-(\d\d)/,_t),Qt=ht(kt),$t=pt(At,Ct,Pt);var er="Invalid Duration",tr={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},rr=o({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},tr),nr=365.2425,ir=30.436875,ar=o({years:{quarters:4,months:12,weeks:52.1775,days:nr,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:ir,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},tr),or=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],sr=or.slice(0).reverse();function ur(e,t){var r={values:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?t.values:o(o({},e.values),t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new dr(r)}function cr(e,t){var r,n,i=null!=(r=t.milliseconds)?r:0,o=a(sr.slice(1));try{for(o.s();!(n=o.n()).done;){var s=n.value;t[s]&&(i+=t[s]*e[s].milliseconds)}}catch(u){o.e(u)}finally{o.f()}return i}function lr(e,t){var r=cr(e,t)<0?-1:1;or.reduceRight((function(n,i){if(_e(t[i]))return n;if(n){var a=t[n]*r,o=e[i][n],s=Math.floor(a/o);t[i]+=s*r,t[n]-=s*o*r}return i}),null),or.reduce((function(r,n){if(_e(t[n]))return r;if(r){var i=t[r]%1;t[r]-=i,t[n]+=i*e[r][n]}return n}),null)}var dr=function(){function e(t){l(this,e);var r="longterm"===t.conversionAccuracy||!1,n=r?ar:rr;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||fe.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}return c(e,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"toFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=o(o({},t),{},{floor:!1!==t.round&&!1!==t.floor});return this.isValid?lt.create(this.loc,r).formatDurationFromString(this,e):er}},{key:"toHuman",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return er;var r=or.map((function(r){var n=e.values[r];return _e(n)?null:e.loc.numberFormatter(o(o({style:"unit",unitDisplay:"long"},t),{},{unit:r.slice(0,-1)})).format(n)})).filter((function(e){return e}));return this.loc.listFormatter(o({type:"conjunction",style:t.listStyle||"narrow"},t)).format(r)}},{key:"toObject",value:function(){return this.isValid?o({},this.values):{}}},{key:"toISO",value:function(){if(!this.isValid)return null;var e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=Me(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}},{key:"toISOTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;var t=this.toMillis();return t<0||t>=864e5?null:(e=o(o({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e),{},{includeOffset:!1}),bn.fromMillis(t,{zone:"UTC"}).toISOTime(e))}},{key:"toJSON",value:function(){return this.toISO()}},{key:"toString",value:function(){return this.toISO()}},{key:"toMillis",value:function(){return this.isValid?cr(this.matrix,this.values):NaN}},{key:"valueOf",value:function(){return this.toMillis()}},{key:"plus",value:function(t){if(!this.isValid)return this;for(var r=e.fromDurationLike(t),n={},i=0,a=or;i<a.length;i++){var o=a[i];(Ie(r.values,o)||Ie(this.values,o))&&(n[o]=r.get(o)+this.get(o))}return ur(this,{values:n},!0)}},{key:"minus",value:function(t){if(!this.isValid)return this;var r=e.fromDurationLike(t);return this.plus(r.negate())}},{key:"mapUnits",value:function(e){if(!this.isValid)return this;for(var t={},r=0,n=Object.keys(this.values);r<n.length;r++){var i=n[r];t[i]=qe(e(this.values[i],i))}return ur(this,{values:t},!0)}},{key:"get",value:function(t){return this[e.normalizeUnit(t)]}},{key:"set",value:function(t){return this.isValid?ur(this,{values:o(o({},this.values),ze(t,e.normalizeUnit))}):this}},{key:"reconfigure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locale,r=e.numberingSystem,n=e.conversionAccuracy,i=e.matrix;return ur(this,{loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:i,conversionAccuracy:n})}},{key:"as",value:function(e){return this.isValid?this.shiftTo(e).get(e):NaN}},{key:"normalize",value:function(){if(!this.isValid)return this;var e=this.toObject();return lr(this.matrix,e),ur(this,{values:e},!0)}},{key:"rescale",value:function(){return this.isValid?ur(this,{values:function(e){for(var t={},r=0,n=Object.entries(e);r<n.length;r++){var i=u(n[r],2),a=i[0],o=i[1];0!==o&&(t[a]=o)}return t}(this.normalize().shiftToAll().toObject())},!0):this}},{key:"shiftTo",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!this.isValid)return this;if(0===r.length)return this;r=r.map((function(t){return e.normalizeUnit(t)}));for(var i,a={},o={},s=this.toObject(),u=0,c=or;u<c.length;u++){var l=c[u];if(r.indexOf(l)>=0){i=l;var d=0;for(var f in o)d+=this.matrix[f][l]*o[f],o[f]=0;Te(s[l])&&(d+=s[l]);var h=Math.trunc(d);a[l]=h,o[l]=(1e3*d-1e3*h)/1e3}else Te(s[l])&&(o[l]=s[l])}for(var p in o)0!==o[p]&&(a[i]+=p===i?o[p]:o[p]/this.matrix[i][p]);return lr(this.matrix,a),ur(this,{values:a},!0)}},{key:"shiftToAll",value:function(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}},{key:"negate",value:function(){if(!this.isValid)return this;for(var e={},t=0,r=Object.keys(this.values);t<r.length;t++){var n=r[t];e[n]=0===this.values[n]?0:-this.values[n]}return ur(this,{values:e},!0)}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"equals",value:function(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(var t=0,r=or;t<r.length;t++){var n=r[t];if(i=this.values[n],a=e.values[n],!(void 0===i||0===i?void 0===a||0===a:i===a))return!1}var i,a;return!0}}],[{key:"fromMillis",value:function(t,r){return e.fromObject({milliseconds:t},r)}},{key:"fromObject",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==t||"object"!==typeof t)throw new x("Duration.fromObject: argument expected to be an object, got ".concat(null===t?"null":typeof t));return new e({values:ze(t,e.normalizeUnit),loc:fe.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}},{key:"fromDurationLike",value:function(t){if(Te(t))return e.fromMillis(t);if(e.isDuration(t))return t;if("object"===typeof t)return e.fromObject(t);throw new x("Unknown duration argument ".concat(t," of type ").concat(typeof t))}},{key:"fromISO",value:function(t,r){var n=function(e){return vt(e,[Ot,Rt])}(t),i=u(n,1)[0];return i?e.fromObject(i,r):e.invalid("unparsable",'the input "'.concat(t,"\" can't be parsed as ISO 8601"))}},{key:"fromISOTime",value:function(t,r){var n=function(e){return vt(e,[It,Jt])}(t),i=u(n,1)[0];return i?e.fromObject(i,r):e.invalid("unparsable",'the input "'.concat(t,"\" can't be parsed as ISO 8601"))}},{key:"invalid",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)throw new x("need to specify a reason the Duration is invalid");var n=t instanceof dt?t:new dt(t,r);if(ke.throwOnInvalid)throw new b(n);return new e({invalid:n})}},{key:"normalizeUnit",value:function(e){var t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new E(e);return t}},{key:"isDuration",value:function(e){return e&&e.isLuxonDuration||!1}}]),e}(),fr="Invalid Interval";function hr(e,t){return e&&e.isValid?t&&t.isValid?t<e?pr.invalid("end before start","The end of an interval must be after its start, but you had start=".concat(e.toISO()," and end=").concat(t.toISO())):null:pr.invalid("missing or invalid end"):pr.invalid("missing or invalid start")}var pr=function(){function e(t){l(this,e),this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}return c(e,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"length",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds";return this.isValid?this.toDuration.apply(this,[e]).get(e):NaN}},{key:"count",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds";if(!this.isValid)return NaN;var t=this.start.startOf(e),r=this.end.startOf(e);return Math.floor(r.diff(t,e).get(e))+(r.valueOf()!==this.end.valueOf())}},{key:"hasSame",value:function(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}},{key:"isEmpty",value:function(){return this.s.valueOf()===this.e.valueOf()}},{key:"isAfter",value:function(e){return!!this.isValid&&this.s>e}},{key:"isBefore",value:function(e){return!!this.isValid&&this.e<=e}},{key:"contains",value:function(e){return!!this.isValid&&(this.s<=e&&this.e>e)}},{key:"set",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.start,n=t.end;return this.isValid?e.fromDateTimes(r||this.s,n||this.e):this}},{key:"splitAt",value:function(){var t=this;if(!this.isValid)return[];for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];for(var a=n.map(Sn).filter((function(e){return t.contains(e)})).sort(),o=[],s=this.s,u=0;s<this.e;){var c=a[u]||this.e,l=+c>+this.e?this.e:c;o.push(e.fromDateTimes(s,l)),s=l,u+=1}return o}},{key:"splitBy",value:function(t){var r=dr.fromDurationLike(t);if(!this.isValid||!r.isValid||0===r.as("milliseconds"))return[];for(var n,i=this.s,a=1,o=[];i<this.e;){var s=this.start.plus(r.mapUnits((function(e){return e*a})));n=+s>+this.e?this.e:s,o.push(e.fromDateTimes(i,n)),i=n,a+=1}return o}},{key:"divideEqually",value:function(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}},{key:"overlaps",value:function(e){return this.e>e.s&&this.s<e.e}},{key:"abutsStart",value:function(e){return!!this.isValid&&+this.e===+e.s}},{key:"abutsEnd",value:function(e){return!!this.isValid&&+e.e===+this.s}},{key:"engulfs",value:function(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)}},{key:"equals",value:function(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))}},{key:"intersection",value:function(t){if(!this.isValid)return this;var r=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return r>=n?null:e.fromDateTimes(r,n)}},{key:"union",value:function(t){if(!this.isValid)return this;var r=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return e.fromDateTimes(r,n)}},{key:"difference",value:function(){for(var t=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.xor([this].concat(n)).map((function(e){return t.intersection(e)})).filter((function(e){return e&&!e.isEmpty()}))}},{key:"toString",value:function(){return this.isValid?"[".concat(this.s.toISO()," \u2013 ").concat(this.e.toISO(),")"):fr}},{key:"toLocaleString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?lt.create(this.s.loc.clone(t),e).formatInterval(this):fr}},{key:"toISO",value:function(e){return this.isValid?"".concat(this.s.toISO(e),"/").concat(this.e.toISO(e)):fr}},{key:"toISODate",value:function(){return this.isValid?"".concat(this.s.toISODate(),"/").concat(this.e.toISODate()):fr}},{key:"toISOTime",value:function(e){return this.isValid?"".concat(this.s.toISOTime(e),"/").concat(this.e.toISOTime(e)):fr}},{key:"toFormat",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).separator,r=void 0===t?" \u2013 ":t;return this.isValid?"".concat(this.s.toFormat(e)).concat(r).concat(this.e.toFormat(e)):fr}},{key:"toDuration",value:function(e,t){return this.isValid?this.e.diff(this.s,e,t):dr.invalid(this.invalidReason)}},{key:"mapEndpoints",value:function(t){return e.fromDateTimes(t(this.s),t(this.e))}}],[{key:"invalid",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)throw new x("need to specify a reason the Interval is invalid");var n=t instanceof dt?t:new dt(t,r);if(ke.throwOnInvalid)throw new y(n);return new e({invalid:n})}},{key:"fromDateTimes",value:function(t,r){var n=Sn(t),i=Sn(r),a=hr(n,i);return null==a?new e({start:n,end:i}):a}},{key:"after",value:function(t,r){var n=dr.fromDurationLike(r),i=Sn(t);return e.fromDateTimes(i,i.plus(n))}},{key:"before",value:function(t,r){var n=dr.fromDurationLike(r),i=Sn(t);return e.fromDateTimes(i.minus(n),i)}},{key:"fromISO",value:function(t,r){var n=(t||"").split("/",2),i=u(n,2),a=i[0],o=i[1];if(a&&o){var s,c,l,d;try{c=(s=bn.fromISO(a,r)).isValid}catch(o){c=!1}try{d=(l=bn.fromISO(o,r)).isValid}catch(o){d=!1}if(c&&d)return e.fromDateTimes(s,l);if(c){var f=dr.fromISO(o,r);if(f.isValid)return e.after(s,f)}else if(d){var h=dr.fromISO(a,r);if(h.isValid)return e.before(l,h)}}return e.invalid("unparsable",'the input "'.concat(t,"\" can't be parsed as ISO 8601"))}},{key:"isInterval",value:function(e){return e&&e.isLuxonInterval||!1}},{key:"merge",value:function(e){var t=e.sort((function(e,t){return e.s-t.s})).reduce((function(e,t){var r=u(e,2),n=r[0],i=r[1];return i?i.overlaps(t)||i.abutsStart(t)?[n,i.union(t)]:[n.concat([i]),t]:[n,t]}),[[],null]),r=u(t,2),n=r[0],i=r[1];return i&&n.push(i),n}},{key:"xor",value:function(t){var r,n,o=null,s=0,u=[],c=t.map((function(e){return[{time:e.s,type:"s"},{time:e.e,type:"e"}]})),l=(r=Array.prototype).concat.apply(r,i(c)).sort((function(e,t){return e.time-t.time})),d=a(l);try{for(d.s();!(n=d.n()).done;){var f=n.value;1===(s+="s"===f.type?1:-1)?o=f.time:(o&&+o!==+f.time&&u.push(e.fromDateTimes(o,f.time)),o=null)}}catch(h){d.e(h)}finally{d.f()}return e.merge(u)}}]),e}(),vr=function(){function e(){l(this,e)}return c(e,null,[{key:"hasDST",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke.defaultZone,t=bn.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}},{key:"isValidIANAZone",value:function(e){return te.isValidZone(e)}},{key:"normalizeZone",value:function(e){return ge(e,ke.defaultZone)}},{key:"months",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.locale,n=void 0===r?null:r,i=t.numberingSystem,a=void 0===i?null:i,o=t.locObj,s=void 0===o?null:o,u=t.outputCalendar,c=void 0===u?"gregory":u;return(s||fe.create(n,a,c)).months(e)}},{key:"monthsFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.locale,n=void 0===r?null:r,i=t.numberingSystem,a=void 0===i?null:i,o=t.locObj,s=void 0===o?null:o,u=t.outputCalendar,c=void 0===u?"gregory":u;return(s||fe.create(n,a,c)).months(e,!0)}},{key:"weekdays",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.locale,n=void 0===r?null:r,i=t.numberingSystem,a=void 0===i?null:i,o=t.locObj;return((void 0===o?null:o)||fe.create(n,a,null)).weekdays(e)}},{key:"weekdaysFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.locale,n=void 0===r?null:r,i=t.numberingSystem,a=void 0===i?null:i,o=t.locObj;return((void 0===o?null:o)||fe.create(n,a,null)).weekdays(e,!0)}},{key:"meridiems",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).locale,t=void 0===e?null:e;return fe.create(t).meridiems()}},{key:"eras",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"short",t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).locale,r=void 0===t?null:t;return fe.create(r,null,"gregory").eras(e)}},{key:"features",value:function(){return{relative:Ce()}}}]),e}();function gr(e,t){var r=function(e){return e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},n=r(t)-r(e);return Math.floor(dr.fromMillis(n).as("days"))}function mr(e,t,r,a){var o=function(e,t,r){for(var n,i,a={},o=e,s=0,c=[["years",function(e,t){return t.year-e.year}],["quarters",function(e,t){return t.quarter-e.quarter+4*(t.year-e.year)}],["months",function(e,t){return t.month-e.month+12*(t.year-e.year)}],["weeks",function(e,t){var r=gr(e,t);return(r-r%7)/7}],["days",gr]];s<c.length;s++){var l=u(c[s],2),d=l[0],f=l[1];r.indexOf(d)>=0&&(n=d,a[d]=f(e,t),(i=o.plus(a))>t?(a[d]--,(e=o.plus(a))>t&&(i=e,a[d]--,e=o.plus(a))):e=i)}return[e,a,i,n]}(e,t,r),s=u(o,4),c=s[0],l=s[1],d=s[2],f=s[3],h=t-c,p=r.filter((function(e){return["hours","minutes","seconds","milliseconds"].indexOf(e)>=0}));0===p.length&&(d<t&&(d=c.plus(n({},f,1))),d!==c&&(l[f]=(l[f]||0)+h/(d-c)));var v,g=dr.fromObject(l,a);return p.length>0?(v=dr.fromMillis(h,a)).shiftTo.apply(v,i(p)).plus(g):g}var yr={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},br={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Sr=yr.hanidec.replace(/[\[|\]]/g,"").split("");function Er(e){var t=e.numberingSystem,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new RegExp("".concat(yr[t||"latn"]).concat(r))}var xr="missing Intl.DateTimeFormat.formatToParts support";function wr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{regex:e,deser:function(e){var r=u(e,1)[0];return t(function(e){var t=parseInt(e,10);if(isNaN(t)){t="";for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);if(-1!==e[r].search(yr.hanidec))t+=Sr.indexOf(e[r]);else for(var i in br){var a=u(br[i],2),o=a[0],s=a[1];n>=o&&n<=s&&(t+=n-o)}}return parseInt(t,10)}return t}(r))}}}var kr=String.fromCharCode(160),_r="[ ".concat(kr,"]"),Tr=new RegExp(_r,"g");function Ar(e){return e.replace(/\./g,"\\.?").replace(Tr,_r)}function Cr(e){return e.replace(/\./g,"").replace(Tr," ").toLowerCase()}function Pr(e,t){return null===e?null:{regex:RegExp(e.map(Ar).join("|")),deser:function(r){var n=u(r,1)[0];return e.findIndex((function(e){return Cr(n)===Cr(e)}))+t}}}function Ir(e,t){return{regex:e,deser:function(e){var t=u(e,3);return We(t[1],t[2])},groups:t}}function Or(e){return{regex:e,deser:function(e){return u(e,1)[0]}}}var Rr={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};var Nr=null;function Lr(e,t){var r;return(r=Array.prototype).concat.apply(r,i(e.map((function(e){return function(e,t){if(e.literal)return e;var r=Mr(lt.macroTokenToFormatOpts(e.val),t);return null==r||r.includes(void 0)?e:r}(e,t)}))))}function jr(e,t,r){var n=Lr(lt.parseFormat(r),e),i=n.map((function(t){return function(e,t){var r=Er(t),n=Er(t,"{2}"),i=Er(t,"{3}"),a=Er(t,"{4}"),o=Er(t,"{6}"),s=Er(t,"{1,2}"),c=Er(t,"{1,3}"),l=Er(t,"{1,6}"),d=Er(t,"{1,9}"),f=Er(t,"{2,4}"),h=Er(t,"{4,6}"),p=function(e){return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:function(e){return u(e,1)[0]},literal:!0};var t},v=function(u){if(e.literal)return p(u);switch(u.val){case"G":return Pr(t.eras("short"),0);case"GG":return Pr(t.eras("long"),0);case"y":return wr(l);case"yy":case"kk":return wr(f,Ve);case"yyyy":case"kkkk":return wr(a);case"yyyyy":return wr(h);case"yyyyyy":return wr(o);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return wr(s);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return wr(n);case"MMM":return Pr(t.months("short",!0),1);case"MMMM":return Pr(t.months("long",!0),1);case"LLL":return Pr(t.months("short",!1),1);case"LLLL":return Pr(t.months("long",!1),1);case"o":case"S":return wr(c);case"ooo":case"SSS":return wr(i);case"u":return Or(d);case"uu":return Or(s);case"uuu":case"E":case"c":return wr(r);case"a":return Pr(t.meridiems(),0);case"EEE":return Pr(t.weekdays("short",!1),1);case"EEEE":return Pr(t.weekdays("long",!1),1);case"ccc":return Pr(t.weekdays("short",!0),1);case"cccc":return Pr(t.weekdays("long",!0),1);case"Z":case"ZZ":return Ir(new RegExp("([+-]".concat(s.source,")(?::(").concat(n.source,"))?")),2);case"ZZZ":return Ir(new RegExp("([+-]".concat(s.source,")(").concat(n.source,")?")),2);case"z":return Or(/[a-z_+-/]{1,256}?/i);case" ":return Or(/[^\S\n\r]/);default:return p(u)}}(e)||{invalidReason:xr};return v.token=e,v}(t,e)})),a=i.find((function(e){return e.invalidReason}));if(a)return{input:t,tokens:n,invalidReason:a.invalidReason};var o=function(e){var t=e.map((function(e){return e.regex})).reduce((function(e,t){return"".concat(e,"(").concat(t.source,")")}),"");return["^".concat(t,"$"),e]}(i),s=u(o,2),c=s[0],l=s[1],d=RegExp(c,"i"),f=function(e,t,r){var n=e.match(t);if(n){var i={},a=1;for(var o in r)if(Ie(r,o)){var s=r[o],u=s.groups?s.groups+1:1;!s.literal&&s.token&&(i[s.token.val[0]]=s.deser(n.slice(a,a+u))),a+=u}return[n,i]}return[n,{}]}(t,d,l),h=u(f,2),p=h[0],v=h[1],g=v?function(e){var t,r=null;return _e(e.z)||(r=te.create(e.z)),_e(e.Z)||(r||(r=new pe(e.Z)),t=e.Z),_e(e.q)||(e.M=3*(e.q-1)+1),_e(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),_e(e.u)||(e.S=je(e.u)),[Object.keys(e).reduce((function(t,r){var n=function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(r);return n&&(t[n]=e[r]),t}),{}),r,t]}(v):[null,null,void 0],m=u(g,3),y=m[0],b=m[1],E=m[2];if(Ie(v,"a")&&Ie(v,"H"))throw new S("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:d,rawMatches:p,matches:v,result:y,zone:b,specificOffset:E}}function Mr(e,t){if(!e)return null;var r=lt.create(t,e).dtFormatter((Nr||(Nr=bn.fromMillis(1555555555555)),Nr)),n=r.formatToParts(),i=r.resolvedOptions();return n.map((function(t){return function(e,t,r){var n=e.type,i=e.value;if("literal"===n){var a=/^\s+$/.test(i);return{literal:!a,val:a?" ":i}}var o=t[n],s=n;"hour"===n&&(s=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":r.hour12?"hour12":"hour24");var u=Rr[s];if("object"===typeof u&&(u=u[o]),u)return{literal:!1,val:u}}(t,e,i)}))}var Dr=[0,31,59,90,120,151,181,212,243,273,304,334],Fr=[0,31,60,91,121,152,182,213,244,274,305,335];function Ur(e,t){return new dt("unit out of range","you specified ".concat(t," (of type ").concat(typeof t,") as a ").concat(e,", which is invalid"))}function Br(e,t,r){var n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);var i=n.getUTCDay();return 0===i?7:i}function Gr(e,t,r){return r+(De(e)?Fr:Dr)[t-1]}function Vr(e,t){var r=De(e)?Fr:Dr,n=r.findIndex((function(e){return e<t}));return{month:n+1,day:t-r[n]}}function Hr(e){var t,r=e.year,n=e.month,i=e.day,a=Gr(r,n,i),s=Br(r,n,i),u=Math.floor((a-s+10)/7);return u<1?u=Ge(t=r-1):u>Ge(r)?(t=r+1,u=1):t=r,o({weekYear:t,weekNumber:u,weekday:s},Xe(e))}function Wr(e){var t,r=e.weekYear,n=e.weekNumber,i=e.weekday,a=Br(r,1,4),s=Fe(r),u=7*n+i-a-3;u<1?u+=Fe(t=r-1):u>s?(t=r+1,u-=Fe(r)):t=r;var c=Vr(t,u),l=c.month,d=c.day;return o({year:t,month:l,day:d},Xe(e))}function qr(e){var t=e.year,r=Gr(t,e.month,e.day);return o({year:t,ordinal:r},Xe(e))}function zr(e){var t=e.year,r=Vr(t,e.ordinal),n=r.month,i=r.day;return o({year:t,month:n,day:i},Xe(e))}function Yr(e){var t=Ae(e.year),r=Oe(e.month,1,12),n=Oe(e.day,1,Ue(e.year,e.month));return t?r?!n&&Ur("day",e.day):Ur("month",e.month):Ur("year",e.year)}function Xr(e){var t=e.hour,r=e.minute,n=e.second,i=e.millisecond,a=Oe(t,0,23)||24===t&&0===r&&0===n&&0===i,o=Oe(r,0,59),s=Oe(n,0,59),u=Oe(i,0,999);return a?o?s?!u&&Ur("millisecond",i):Ur("second",n):Ur("minute",r):Ur("hour",t)}var Kr="Invalid DateTime",Jr=864e13;function Zr(e){return new dt("unsupported zone",'the zone "'.concat(e.name,'" is not supported'))}function Qr(e){return null===e.weekData&&(e.weekData=Hr(e.c)),e.weekData}function $r(e,t){var r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new bn(o(o(o({},r),t),{},{old:r}))}function en(e,t,r){var n=e-60*t*1e3,i=r.offset(n);if(t===i)return[n,t];n-=60*(i-t)*1e3;var a=r.offset(n);return i===a?[n,i]:[e-60*Math.min(i,a)*1e3,Math.max(i,a)]}function tn(e,t){var r=new Date(e+=60*t*1e3);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function rn(e,t,r){return en(Be(e),t,r)}function nn(e,t){var r=e.o,n=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),a=o(o({},e.c),{},{year:n,month:i,day:Math.min(e.c.day,Ue(n,i))+Math.trunc(t.days)+7*Math.trunc(t.weeks)}),s=dr.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),c=en(Be(a),r,e.zone),l=u(c,2),d=l[0],f=l[1];return 0!==s&&(d+=s,f=e.zone.offset(d)),{ts:d,o:f}}function an(e,t,r,n,i,a){var s=r.setZone,u=r.zone;if(e&&0!==Object.keys(e).length||t){var c=t||u,l=bn.fromObject(e,o(o({},r),{},{zone:c,specificOffset:a}));return s?l:l.setZone(u)}return bn.invalid(new dt("unparsable",'the input "'.concat(i,"\" can't be parsed as ").concat(n)))}function on(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.isValid?lt.create(fe.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function sn(e,t){var r=e.c.year>9999||e.c.year<0,n="";return r&&e.c.year>=0&&(n+="+"),n+=Re(e.c.year,r?6:4),t?(n+="-",n+=Re(e.c.month),n+="-",n+=Re(e.c.day)):(n+=Re(e.c.month),n+=Re(e.c.day)),n}function un(e,t,r,n,i,a){var o=Re(e.c.hour);return t?(o+=":",o+=Re(e.c.minute),0===e.c.millisecond&&0===e.c.second&&r||(o+=":")):o+=Re(e.c.minute),0===e.c.millisecond&&0===e.c.second&&r||(o+=Re(e.c.second),0===e.c.millisecond&&n||(o+=".",o+=Re(e.c.millisecond,3))),i&&(e.isOffsetFixed&&0===e.offset&&!a?o+="Z":e.o<0?(o+="-",o+=Re(Math.trunc(-e.o/60)),o+=":",o+=Re(Math.trunc(-e.o%60))):(o+="+",o+=Re(Math.trunc(e.o/60)),o+=":",o+=Re(Math.trunc(e.o%60)))),a&&(o+="["+e.zone.ianaName+"]"),o}var cn={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},ln={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},dn={ordinal:1,hour:0,minute:0,second:0,millisecond:0},fn=["year","month","day","hour","minute","second","millisecond"],hn=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],pn=["year","ordinal","hour","minute","second","millisecond"];function vn(e){var t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new E(e);return t}function gn(e,t){var r,n,i=ge(t.zone,ke.defaultZone),a=fe.fromObject(t),o=ke.now();if(_e(e.year))r=o;else{for(var s=0,c=fn;s<c.length;s++){var l=c[s];_e(e[l])&&(e[l]=cn[l])}var d=Yr(e)||Xr(e);if(d)return bn.invalid(d);var f=rn(e,i.offset(o),i),h=u(f,2);r=h[0],n=h[1]}return new bn({ts:r,zone:i,loc:a,o:n})}function mn(e,t,r){var n=!!_e(r.round)||r.round,i=function(e,i){return e=Me(e,n||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(e,i)},o=function(n){return r.calendary?t.hasSame(e,n)?0:t.startOf(n).diff(e.startOf(n),n).get(n):t.diff(e,n).get(n)};if(r.unit)return i(o(r.unit),r.unit);var s,u=a(r.units);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=o(c);if(Math.abs(l)>=1)return i(l,c)}}catch(d){u.e(d)}finally{u.f()}return i(e>t?-0:0,r.units[r.units.length-1])}function yn(e){var t,r={};return e.length>0&&"object"===typeof e[e.length-1]?(r=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[r,t]}var bn=function(){function e(t){l(this,e);var r=t.zone||ke.defaultZone,n=t.invalid||(Number.isNaN(t.ts)?new dt("invalid input"):null)||(r.isValid?null:Zr(r));this.ts=_e(t.ts)?ke.now():t.ts;var i=null,a=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r)){var o=[t.old.c,t.old.o];i=o[0],a=o[1]}else{var s=r.offset(this.ts);i=tn(this.ts,s),i=(n=Number.isNaN(i.year)?new dt("invalid input"):null)?null:i,a=n?null:s}this._zone=r,this.loc=t.loc||fe.create(),this.invalid=n,this.weekData=null,this.c=i,this.o=a,this.isLuxonDateTime=!0}return c(e,[{key:"get",value:function(e){return this[e]}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?Qr(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?Qr(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?Qr(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?qr(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?vr.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?vr.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?vr.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?vr.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"getPossibleOffsets",value:function(){if(!this.isValid||this.isOffsetFixed)return[this];var e=864e5,t=6e4,r=Be(this.c),n=this.zone.offset(r-e),i=this.zone.offset(r+e),a=this.zone.offset(r-n*t),o=this.zone.offset(r-i*t);if(a===o)return[this];var s=r-a*t,u=r-o*t,c=tn(s,a),l=tn(u,o);return c.hour===l.hour&&c.minute===l.minute&&c.second===l.second&&c.millisecond===l.millisecond?[$r(this,{ts:s}),$r(this,{ts:u})]:[this]}},{key:"isInLeapYear",get:function(){return De(this.year)}},{key:"daysInMonth",get:function(){return Ue(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?Fe(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?Ge(this.weekYear):NaN}},{key:"resolvedLocaleOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=lt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t.locale,numberingSystem:t.numberingSystem,outputCalendar:t.calendar}}},{key:"toUTC",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setZone(pe.instance(e),t)}},{key:"toLocal",value:function(){return this.setZone(ke.defaultZone)}},{key:"setZone",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.keepLocalTime,i=void 0!==n&&n,a=r.keepCalendarTime,o=void 0!==a&&a;if((t=ge(t,ke.defaultZone)).equals(this.zone))return this;if(t.isValid){var s=this.ts;if(i||o){var c=t.offset(this.ts),l=rn(this.toObject(),c,t);s=u(l,1)[0]}return $r(this,{ts:s,zone:t})}return e.invalid(Zr(t))}},{key:"reconfigure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locale,r=e.numberingSystem,n=e.outputCalendar;return $r(this,{loc:this.loc.clone({locale:t,numberingSystem:r,outputCalendar:n})})}},{key:"setLocale",value:function(e){return this.reconfigure({locale:e})}},{key:"set",value:function(e){if(!this.isValid)return this;var t,r=ze(e,vn),n=!_e(r.weekYear)||!_e(r.weekNumber)||!_e(r.weekday),i=!_e(r.ordinal),a=!_e(r.year),s=!_e(r.month)||!_e(r.day),c=a||s,l=r.weekYear||r.weekNumber;if((c||i)&&l)throw new S("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(s&&i)throw new S("Can't mix ordinal dates with month/day");n?t=Wr(o(o({},Hr(this.c)),r)):_e(r.ordinal)?(t=o(o({},this.toObject()),r),_e(r.day)&&(t.day=Math.min(Ue(t.year,t.month),t.day))):t=zr(o(o({},qr(this.c)),r));var d=rn(t,this.o,this.zone),f=u(d,2);return $r(this,{ts:f[0],o:f[1]})}},{key:"plus",value:function(e){return this.isValid?$r(this,nn(this,dr.fromDurationLike(e))):this}},{key:"minus",value:function(e){return this.isValid?$r(this,nn(this,dr.fromDurationLike(e).negate())):this}},{key:"startOf",value:function(e){if(!this.isValid)return this;var t={},r=dr.normalizeUnit(e);switch(r){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0}if("weeks"===r&&(t.weekday=1),"quarters"===r){var n=Math.ceil(this.month/3);t.month=3*(n-1)+1}return this.set(t)}},{key:"endOf",value:function(e){return this.isValid?this.plus(n({},e,1)).startOf(e).minus(1):this}},{key:"toFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?lt.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Kr}},{key:"toLocaleString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?lt.create(this.loc.clone(t),e).formatDateTime(this):Kr}},{key:"toLocaleParts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?lt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}},{key:"toISO",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,r=void 0===t?"extended":t,n=e.suppressSeconds,i=void 0!==n&&n,a=e.suppressMilliseconds,o=void 0!==a&&a,s=e.includeOffset,u=void 0===s||s,c=e.extendedZone,l=void 0!==c&&c;if(!this.isValid)return null;var d="extended"===r,f=sn(this,d);return f+="T",f+=un(this,d,i,o,u,l)}},{key:"toISODate",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).format,t=void 0===e?"extended":e;return this.isValid?sn(this,"extended"===t):null}},{key:"toISOWeekDate",value:function(){return on(this,"kkkk-'W'WW-c")}},{key:"toISOTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.suppressMilliseconds,r=void 0!==t&&t,n=e.suppressSeconds,i=void 0!==n&&n,a=e.includeOffset,o=void 0===a||a,s=e.includePrefix,u=void 0!==s&&s,c=e.extendedZone,l=void 0!==c&&c,d=e.format,f=void 0===d?"extended":d;return this.isValid?(u?"T":"")+un(this,"extended"===f,i,r,o,l):null}},{key:"toRFC2822",value:function(){return on(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}},{key:"toHTTP",value:function(){return on(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}},{key:"toSQLDate",value:function(){return this.isValid?sn(this,!0):null}},{key:"toSQLTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.includeOffset,r=void 0===t||t,n=e.includeZone,i=void 0!==n&&n,a=e.includeOffsetSpace,o="HH:mm:ss.SSS";return(i||r)&&((void 0===a||a)&&(o+=" "),i?o+="z":r&&(o+="ZZ")),on(this,o,!0)}},{key:"toSQL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?"".concat(this.toSQLDate()," ").concat(this.toSQLTime(e)):null}},{key:"toString",value:function(){return this.isValid?this.toISO():Kr}},{key:"valueOf",value:function(){return this.toMillis()}},{key:"toMillis",value:function(){return this.isValid?this.ts:NaN}},{key:"toSeconds",value:function(){return this.isValid?this.ts/1e3:NaN}},{key:"toUnixInteger",value:function(){return this.isValid?Math.floor(this.ts/1e3):NaN}},{key:"toJSON",value:function(){return this.toISO()}},{key:"toBSON",value:function(){return this.toJSDate()}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return{};var t=o({},this.c);return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}},{key:"toJSDate",value:function(){return new Date(this.isValid?this.ts:NaN)}},{key:"diff",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"milliseconds",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.isValid||!e.isValid)return dr.invalid("created by diffing an invalid DateTime");var n,i=o({locale:this.locale,numberingSystem:this.numberingSystem},r),a=(n=t,Array.isArray(n)?n:[n]).map(dr.normalizeUnit),s=e.valueOf()>this.valueOf(),u=mr(s?this:e,s?e:this,a,i);return s?u.negate():u}},{key:"diffNow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.diff(e.now(),t,r)}},{key:"until",value:function(e){return this.isValid?pr.fromDateTimes(this,e):this}},{key:"hasSame",value:function(e,t){if(!this.isValid)return!1;var r=e.valueOf(),n=this.setZone(e.zone,{keepLocalTime:!0});return n.startOf(t)<=r&&r<=n.endOf(t)}},{key:"equals",value:function(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}},{key:"toRelative",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;var r=t.base||e.fromObject({},{zone:this.zone}),n=t.padding?this<r?-t.padding:t.padding:0,i=["years","months","days","hours","minutes","seconds"],a=t.unit;return Array.isArray(t.unit)&&(i=t.unit,a=void 0),mn(r,this.plus(n),o(o({},t),{},{numeric:"always",units:i,unit:a}))}},{key:"toRelativeCalendar",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?mn(t.base||e.fromObject({},{zone:this.zone}),this,o(o({},t),{},{numeric:"auto",units:["years","months","days"],calendary:!0})):null}}],[{key:"now",value:function(){return new e({})}},{key:"local",value:function(){var e=yn(arguments),t=u(e,2),r=t[0],n=t[1],i=u(n,7);return gn({year:i[0],month:i[1],day:i[2],hour:i[3],minute:i[4],second:i[5],millisecond:i[6]},r)}},{key:"utc",value:function(){var e=yn(arguments),t=u(e,2),r=t[0],n=t[1],i=u(n,7),a=i[0],o=i[1],s=i[2],c=i[3],l=i[4],d=i[5],f=i[6];return r.zone=pe.utcInstance,gn({year:a,month:o,day:s,hour:c,minute:l,second:d,millisecond:f},r)}},{key:"fromJSDate",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(e){return"[object Date]"===Object.prototype.toString.call(e)}(t)?t.valueOf():NaN;if(Number.isNaN(n))return e.invalid("invalid input");var i=ge(r.zone,ke.defaultZone);return i.isValid?new e({ts:n,zone:i,loc:fe.fromObject(r)}):e.invalid(Zr(i))}},{key:"fromMillis",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Te(t))return t<-Jr||t>Jr?e.invalid("Timestamp out of range"):new e({ts:t,zone:ge(r.zone,ke.defaultZone),loc:fe.fromObject(r)});throw new x("fromMillis requires a numerical input, but received a ".concat(typeof t," with value ").concat(t))}},{key:"fromSeconds",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Te(t))return new e({ts:1e3*t,zone:ge(r.zone,ke.defaultZone),loc:fe.fromObject(r)});throw new x("fromSeconds requires a numerical input")}},{key:"fromObject",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=t||{};var n=ge(r.zone,ke.defaultZone);if(!n.isValid)return e.invalid(Zr(n));var i=ke.now(),o=_e(r.specificOffset)?n.offset(i):r.specificOffset,s=ze(t,vn),c=!_e(s.ordinal),l=!_e(s.year),d=!_e(s.month)||!_e(s.day),f=l||d,h=s.weekYear||s.weekNumber,p=fe.fromObject(r);if((f||c)&&h)throw new S("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&c)throw new S("Can't mix ordinal dates with month/day");var v,g,m=h||s.weekday&&!f,y=tn(i,o);m?(v=hn,g=ln,y=Hr(y)):c?(v=pn,g=dn,y=qr(y)):(v=fn,g=cn);var b,E=!1,x=a(v);try{for(x.s();!(b=x.n()).done;){var w=b.value;_e(s[w])?s[w]=E?g[w]:y[w]:E=!0}}catch(P){x.e(P)}finally{x.f()}var k=m?function(e){var t=Ae(e.weekYear),r=Oe(e.weekNumber,1,Ge(e.weekYear)),n=Oe(e.weekday,1,7);return t?r?!n&&Ur("weekday",e.weekday):Ur("week",e.week):Ur("weekYear",e.weekYear)}(s):c?function(e){var t=Ae(e.year),r=Oe(e.ordinal,1,Fe(e.year));return t?!r&&Ur("ordinal",e.ordinal):Ur("year",e.year)}(s):Yr(s),_=k||Xr(s);if(_)return e.invalid(_);var T=rn(m?Wr(s):c?zr(s):s,o,n),A=u(T,2),C=new e({ts:A[0],zone:n,o:A[1],loc:p});return s.weekday&&f&&t.weekday!==C.weekday?e.invalid("mismatched weekday","you can't specify both a weekday of ".concat(s.weekday," and a date of ").concat(C.toISO())):C}},{key:"fromISO",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(e){return vt(e,[Vt,zt],[Ht,Yt],[Wt,Xt],[qt,Kt])}(e),n=u(r,2);return an(n[0],n[1],t,"ISO 8601",e)}},{key:"fromRFC2822",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(e){return vt(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[jt,Mt])}(e),n=u(r,2);return an(n[0],n[1],t,"RFC 2822",e)}},{key:"fromHTTP",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(e){return vt(e,[Dt,Bt],[Ft,Bt],[Ut,Gt])}(e),n=u(r,2);return an(n[0],n[1],t,"HTTP",t)}},{key:"fromFormat",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(_e(t)||_e(r))throw new x("fromFormat requires an input string and a format");var i=n.locale,a=void 0===i?null:i,o=n.numberingSystem,s=void 0===o?null:o,c=function(e,t,r){var n=jr(e,t,r);return[n.result,n.zone,n.specificOffset,n.invalidReason]}(fe.fromOpts({locale:a,numberingSystem:s,defaultToEN:!0}),t,r),l=u(c,4),d=l[0],f=l[1],h=l[2],p=l[3];return p?e.invalid(p):an(d,f,n,"format ".concat(r),t,h)}},{key:"fromString",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.fromFormat(t,r,n)}},{key:"fromSQL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(e){return vt(e,[Zt,zt],[Qt,$t])}(e),n=u(r,2);return an(n[0],n[1],t,"SQL",e)}},{key:"invalid",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)throw new x("need to specify a reason the DateTime is invalid");var n=t instanceof dt?t:new dt(t,r);if(ke.throwOnInvalid)throw new m(n);return new e({invalid:n})}},{key:"isDateTime",value:function(e){return e&&e.isLuxonDateTime||!1}},{key:"parseFormatForOpts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Mr(e,fe.fromObject(t));return r?r.map((function(e){return e?e.val:null})).join(""):null}},{key:"expandFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Lr(lt.parseFormat(e),fe.fromObject(t)).map((function(e){return e.val})).join("")}},{key:"min",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.every(e.isDateTime))throw new x("min requires all arguments be DateTimes");return Pe(r,(function(e){return e.valueOf()}),Math.min)}},{key:"max",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.every(e.isDateTime))throw new x("max requires all arguments be DateTimes");return Pe(r,(function(e){return e.valueOf()}),Math.max)}},{key:"fromFormatExplain",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.locale,i=void 0===n?null:n,a=r.numberingSystem,o=void 0===a?null:a;return jr(fe.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0}),e,t)}},{key:"fromStringExplain",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.fromFormatExplain(t,r,n)}},{key:"DATE_SHORT",get:function(){return A}},{key:"DATE_MED",get:function(){return C}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return P}},{key:"DATE_FULL",get:function(){return I}},{key:"DATE_HUGE",get:function(){return O}},{key:"TIME_SIMPLE",get:function(){return R}},{key:"TIME_WITH_SECONDS",get:function(){return N}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return L}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return j}},{key:"TIME_24_SIMPLE",get:function(){return M}},{key:"TIME_24_WITH_SECONDS",get:function(){return D}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return F}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return U}},{key:"DATETIME_SHORT",get:function(){return B}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return G}},{key:"DATETIME_MED",get:function(){return V}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return H}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return W}},{key:"DATETIME_FULL",get:function(){return q}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return z}},{key:"DATETIME_HUGE",get:function(){return Y}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return X}}]),e}();function Sn(e){if(bn.isDateTime(e))return e;if(e&&e.valueOf&&Te(e.valueOf()))return bn.fromJSDate(e);if(e&&"object"===typeof e)return bn.fromObject(e);throw new x("Unknown datetime argument: ".concat(e,", of type ").concat(typeof e))}t.DateTime=bn,t.Duration=dr,t.FixedOffsetZone=pe,t.IANAZone=te,t.Info=vr,t.Interval=pr,t.InvalidZone=ve,t.Settings=ke,t.SystemZone=Z,t.VERSION="3.4.3",t.Zone=K},37199:function(e,t,r){"use strict";var n=r(74704).default,i=r(17061).default,a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(o,s)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(r(18918));function u(e){var t,r,o,u=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"maxAge",l=function(){return a(u,void 0,void 0,i().mark((function u(){var l,d,f,h,p=this;return i().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(void 0===t){u.next=2;break}return u.abrupt("return");case 2:l=function(n){return a(p,void 0,void 0,i().mark((function a(){var u;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(o=s.default(),!((u=n[1][c]-Date.now())<=0)){i.next=6;break}return e.delete(n[0]),o.resolve(),i.abrupt("return");case 6:return t=n[0],"function"===typeof(r=setTimeout((function(){e.delete(n[0]),o&&o.resolve()}),u)).unref&&r.unref(),i.abrupt("return",o.promise);case 10:case"end":return i.stop()}}),a)})))},u.prev=3,d=n(e),u.prev=5,d.s();case 7:if((f=d.n()).done){u.next=13;break}return h=f.value,u.next=11,l(h);case 11:u.next=7;break;case 13:u.next=18;break;case 15:u.prev=15,u.t0=u.catch(5),d.e(u.t0);case 18:return u.prev=18,d.f(),u.finish(18);case 21:u.next=25;break;case 23:u.prev=23,u.t1=u.catch(3);case 25:t=void 0;case 26:case"end":return u.stop()}}),u,null,[[3,23],[5,15,18,21]])})))},d=e.set.bind(e);return e.set=function(n,i){e.has(n)&&e.delete(n);var a=d(n,i);return t&&t===n&&(t=void 0,void 0!==r&&(clearTimeout(r),r=void 0),void 0!==o&&(o.reject(void 0),o=void 0)),l(),a},l(),e}t.default=u,e.exports=u,e.exports.default=u},94421:function(e,t,r){"use strict";var n=r(64458),i=r(37199),a=new WeakMap,o=new WeakMap,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.cacheKey,a=t.cache,s=void 0===a?new Map:a,u=t.maxAge;"number"===typeof u&&i(s);var c=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=r?r(n):n[0],o=s.get(a);if(o)return o.data;var c=e.apply(this,n);return s.set(a,{data:c,maxAge:u?Date.now()+u:Number.POSITIVE_INFINITY}),c};return n(c,e,{ignoreNonConfigurable:!0}),o.set(c,s),c};s.decorator=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,r,n){var i=t[r];if("function"!==typeof i)throw new TypeError("The decorated value must be a function");delete n.value,delete n.writable,n.get=function(){if(!a.has(this)){var t=s(i,e);return a.set(this,t),t}return a.get(this)}}},s.clear=function(e){var t=o.get(e);if(!t)throw new TypeError("Can't clear a function that was not memoized!");if("function"!==typeof t.clear)throw new TypeError("The cache Map can't be cleared!");t.clear()},e.exports=s},64458:function(e,t,r){"use strict";var n=r(74704).default,i=r(42122).default,a=function(e,t,r,n){if("length"!==r&&"prototype"!==r&&"arguments"!==r&&"caller"!==r){var i=Object.getOwnPropertyDescriptor(e,r),a=Object.getOwnPropertyDescriptor(t,r);!o(i,a)&&n||Object.defineProperty(e,r,a)}},o=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},s=function(e,t){return"/* Wrapped ".concat(e,"*/\n").concat(t)},u=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),c=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");e.exports=function(e,t){var r,o=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).ignoreNonConfigurable,l=void 0!==o&&o,d=e.name,f=n(Reflect.ownKeys(t));try{for(f.s();!(r=f.n()).done;){var h=r.value;a(e,t,h,l)}}catch(p){f.e(p)}finally{f.f()}return function(e,t){var r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)}(e,t),function(e,t,r){var n=""===r?"":"with ".concat(r.trim(),"() "),a=s.bind(null,n,t.toString());Object.defineProperty(a,"name",c),Object.defineProperty(e,"toString",i(i({},u),{},{value:a}))}(e,t,d),e}},22527:function(e){"use strict";var t,r={DEBUG:!1,LIB_VERSION:"2.49.0"};if("undefined"===typeof window){var n={hostname:""};t={navigator:{userAgent:""},document:{location:n,referrer:""},screen:{width:0,height:0},location:n}}else t=window;var i=Array.prototype,a=Function.prototype,o=Object.prototype,s=i.slice,u=o.toString,c=o.hasOwnProperty,l=t.console,d=t.navigator,f=t.document,h=t.opera,p=t.screen,v=d.userAgent,g=a.bind,m=i.forEach,y=i.indexOf,b=i.map,S=Array.isArray,E={},x={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},w={log:function(){if(r.DEBUG&&!x.isUndefined(l)&&l)try{l.log.apply(l,arguments)}catch(e){x.each(arguments,(function(e){l.log(e)}))}},warn:function(){if(r.DEBUG&&!x.isUndefined(l)&&l){var e=["Mixpanel warning:"].concat(x.toArray(arguments));try{l.warn.apply(l,e)}catch(t){x.each(e,(function(e){l.warn(e)}))}}},error:function(){if(r.DEBUG&&!x.isUndefined(l)&&l){var e=["Mixpanel error:"].concat(x.toArray(arguments));try{l.error.apply(l,e)}catch(t){x.each(e,(function(e){l.error(e)}))}}},critical:function(){if(!x.isUndefined(l)&&l){var e=["Mixpanel error:"].concat(x.toArray(arguments));try{l.error.apply(l,e)}catch(t){x.each(e,(function(e){l.error(e)}))}}}},k=function(e,t){return function(){return arguments[0]="["+t+"] "+arguments[0],e.apply(w,arguments)}},_=function(e){return{log:k(w.log,e),error:k(w.error,e),critical:k(w.critical,e)}};x.bind=function(e,t){var r,n;if(g&&e.bind===g)return g.apply(e,s.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return r=s.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,r.concat(s.call(arguments)));var i={};i.prototype=e.prototype;var a=new i;i.prototype=null;var o=e.apply(a,r.concat(s.call(arguments)));return Object(o)===o?o:a},n},x.each=function(e,t,r){if(null!==e&&void 0!==e)if(m&&e.forEach===m)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,i=e.length;n<i;n++)if(n in e&&t.call(r,e[n],n,e)===E)return}else for(var a in e)if(c.call(e,a)&&t.call(r,e[a],a,e)===E)return},x.extend=function(e){return x.each(s.call(arguments,1),(function(t){for(var r in t)void 0!==t[r]&&(e[r]=t[r])})),e},x.isArray=S||function(e){return"[object Array]"===u.call(e)},x.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch(t){return!1}},x.isArguments=function(e){return!(!e||!c.call(e,"callee"))},x.toArray=function(e){return e?e.toArray?e.toArray():x.isArray(e)||x.isArguments(e)?s.call(e):x.values(e):[]},x.map=function(e,t,r){if(b&&e.map===b)return e.map(t,r);var n=[];return x.each(e,(function(e){n.push(t.call(r,e))})),n},x.keys=function(e){var t=[];return null===e||x.each(e,(function(e,r){t[t.length]=r})),t},x.values=function(e){var t=[];return null===e||x.each(e,(function(e){t[t.length]=e})),t},x.include=function(e,t){var r=!1;return null===e?r:y&&e.indexOf===y?-1!=e.indexOf(t):(x.each(e,(function(e){if(r||(r=e===t))return E})),r)},x.includes=function(e,t){return-1!==e.indexOf(t)},x.inherit=function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e},x.isObject=function(e){return e===Object(e)&&!x.isArray(e)},x.isEmptyObject=function(e){if(x.isObject(e)){for(var t in e)if(c.call(e,t))return!1;return!0}return!1},x.isUndefined=function(e){return void 0===e},x.isString=function(e){return"[object String]"==u.call(e)},x.isDate=function(e){return"[object Date]"==u.call(e)},x.isNumber=function(e){return"[object Number]"==u.call(e)},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.encodeDates=function(e){return x.each(e,(function(t,r){x.isDate(t)?e[r]=x.formatDate(t):x.isObject(t)&&(e[r]=x.encodeDates(t))})),e},x.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},x.formatDate=function(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())},x.strip_empty_properties=function(e){var t={};return x.each(e,(function(e,r){x.isString(e)&&e.length>0&&(t[r]=e)})),t},x.truncate=function(e,t){var r;return"string"===typeof e?r=e.slice(0,t):x.isArray(e)?(r=[],x.each(e,(function(e){r.push(x.truncate(e,t))}))):x.isObject(e)?(r={},x.each(e,(function(e,n){r[n]=x.truncate(e,t)}))):r=e,r},x.JSONEncode=function(e){var t=function(e){var t=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.lastIndex=0,t.test(e)?'"'+e.replace(t,(function(e){var t=r[e];return"string"===typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'};return function e(r,n){var i="",a=0,o="",s="",l=0,d=i,f=[],h=n[r];switch(h&&"object"===typeof h&&"function"===typeof h.toJSON&&(h=h.toJSON(r)),typeof h){case"string":return t(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(i+="    ",f=[],"[object Array]"===u.apply(h)){for(l=h.length,a=0;a<l;a+=1)f[a]=e(a,h)||"null";return s=0===f.length?"[]":i?"[\n"+i+f.join(",\n"+i)+"\n"+d+"]":"["+f.join(",")+"]",i=d,s}for(o in h)c.call(h,o)&&(s=e(o,h))&&f.push(t(o)+(i?": ":":")+s);return s=0===f.length?"{}":i?"{"+f.join(",")+d+"}":"{"+f.join(",")+"}",i=d,s}}("",{"":e})},x.JSONDecode=function(){var e,t,r,n,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},a=function(t){var n=new SyntaxError(t);throw n.at=e,n.text=r,n},o=function(n){return n&&n!==t&&a("Expected '"+n+"' instead of '"+t+"'"),t=r.charAt(e),e+=1,t},s=function(){var e,r="";for("-"===t&&(r="-",o("-"));t>="0"&&t<="9";)r+=t,o();if("."===t)for(r+=".";o()&&t>="0"&&t<="9";)r+=t;if("e"===t||"E"===t)for(r+=t,o(),"-"!==t&&"+"!==t||(r+=t,o());t>="0"&&t<="9";)r+=t,o();if(e=+r,isFinite(e))return e;a("Bad number")},u=function(){var e,r,n,s="";if('"'===t)for(;o();){if('"'===t)return o(),s;if("\\"===t)if(o(),"u"===t){for(n=0,r=0;r<4&&(e=parseInt(o(),16),isFinite(e));r+=1)n=16*n+e;s+=String.fromCharCode(n)}else{if("string"!==typeof i[t])break;s+=i[t]}else s+=t}a("Bad string")},c=function(){for(;t&&t<=" ";)o()},l=function(){var e=[];if("["===t){if(o("["),c(),"]"===t)return o("]"),e;for(;t;){if(e.push(n()),c(),"]"===t)return o("]"),e;o(","),c()}}a("Bad array")},d=function(){var e,r={};if("{"===t){if(o("{"),c(),"}"===t)return o("}"),r;for(;t;){if(e=u(),c(),o(":"),Object.hasOwnProperty.call(r,e)&&a('Duplicate key "'+e+'"'),r[e]=n(),c(),"}"===t)return o("}"),r;o(","),c()}}a("Bad object")};return n=function(){switch(c(),t){case"{":return d();case"[":return l();case'"':return u();case"-":return s();default:return t>="0"&&t<="9"?s():function(){switch(t){case"t":return o("t"),o("r"),o("u"),o("e"),!0;case"f":return o("f"),o("a"),o("l"),o("s"),o("e"),!1;case"n":return o("n"),o("u"),o("l"),o("l"),null}a('Unexpected "'+t+'"')}()}},function(i){var o;return r=i,e=0,t=" ",o=n(),c(),t&&a("Syntax error"),o}}(),x.base64Encode=function(e){var t,r,n,i,a,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,u=0,c="",l=[];if(!e)return e;e=x.utf8Encode(e);do{t=(a=e.charCodeAt(s++)<<16|e.charCodeAt(s++)<<8|e.charCodeAt(s++))>>18&63,r=a>>12&63,n=a>>6&63,i=63&a,l[u++]=o.charAt(t)+o.charAt(r)+o.charAt(n)+o.charAt(i)}while(s<e.length);switch(c=l.join(""),e.length%3){case 1:c=c.slice(0,-2)+"==";break;case 2:c=c.slice(0,-1)+"="}return c},x.utf8Encode=function(e){var t,r,n,i,a="";for(t=r=0,n=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,i=0;i<n;i++){var o=e.charCodeAt(i),s=null;o<128?r++:s=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),null!==s&&(r>t&&(a+=e.substring(t,r)),a+=s,t=r=i+1)}return r>t&&(a+=e.substring(t,e.length)),a},x.UUID=function(){var e=function(){var e,r=1*new Date;if(t.performance&&t.performance.now)e=t.performance.now();else for(e=0;r==1*new Date;)e++;return r.toString(16)+Math.floor(e).toString(16)};return function(){var t=(p.height*p.width).toString(16);return e()+"-"+Math.random().toString(16).replace(".","")+"-"+function(){var e,t,r=v,n=[],i=0;function a(e,t){var r,i=0;for(r=0;r<t.length;r++)i|=n[r]<<8*r;return e^i}for(e=0;e<r.length;e++)t=r.charCodeAt(e),n.unshift(255&t),n.length>=4&&(i=a(i,n),n=[]);return n.length>0&&(i=a(i,n)),i.toString(16)}()+"-"+t+"-"+e()}}();var T=["ahrefsbot","ahrefssiteaudit","baiduspider","bingbot","bingpreview","chrome-lighthouse","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];x.isBlockedUA=function(e){var t;for(e=e.toLowerCase(),t=0;t<T.length;t++)if(-1!==e.indexOf(T[t]))return!0;return!1},x.HTTPBuildQuery=function(e,t){var r,n,i=[];return x.isUndefined(t)&&(t="&"),x.each(e,(function(e,t){r=encodeURIComponent(e.toString()),n=encodeURIComponent(t),i[i.length]=n+"="+r})),i.join(t)},x.getQueryParam=function(e,t){t=t.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);if(null===r||r&&"string"!==typeof r[1]&&r[1].length)return"";var n=r[1];try{n=decodeURIComponent(n)}catch(i){w.error("Skipping decoding for malformed query param: "+n)}return n.replace(/\+/g," ")},x.cookie={get:function(e){for(var t=e+"=",r=f.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}return null},parse:function(e){var t;try{t=x.JSONDecode(x.cookie.get(e))||{}}catch(r){}return t},set_seconds:function(e,t,r,n,i,a,o){var s="",u="",c="";if(o)s="; domain="+o;else if(n){var l=j(f.location.hostname);s=l?"; domain=."+l:""}if(r){var d=new Date;d.setTime(d.getTime()+1e3*r),u="; expires="+d.toGMTString()}a&&(i=!0,c="; SameSite=None"),i&&(c+="; secure"),f.cookie=e+"="+encodeURIComponent(t)+u+"; path=/"+s+c},set:function(e,t,r,n,i,a,o){var s="",u="",c="";if(o)s="; domain="+o;else if(n){var l=j(f.location.hostname);s=l?"; domain=."+l:""}if(r){var d=new Date;d.setTime(d.getTime()+24*r*60*60*1e3),u="; expires="+d.toGMTString()}a&&(i=!0,c="; SameSite=None"),i&&(c+="; secure");var h=e+"="+encodeURIComponent(t)+u+"; path=/"+s+c;return f.cookie=h,h},remove:function(e,t,r){x.cookie.set(e,"",-1,t,!1,!1,r)}};var A=null,C=function(e,t){if(null!==A&&!t)return A;var r=!0;try{e=e||window.localStorage;var n="__mplss_"+R(8);e.setItem(n,"xyz"),"xyz"!==e.getItem(n)&&(r=!1),e.removeItem(n)}catch(i){r=!1}return A=r,r};x.localStorage={is_supported:function(e){var t=C(null,e);return t||w.error("localStorage unsupported; falling back to cookie store"),t},error:function(e){w.error("localStorage error: "+e)},get:function(e){try{return window.localStorage.getItem(e)}catch(t){x.localStorage.error(t)}return null},parse:function(e){try{return x.JSONDecode(x.localStorage.get(e))||{}}catch(t){}return null},set:function(e,t){try{window.localStorage.setItem(e,t)}catch(r){x.localStorage.error(r)}},remove:function(e){try{window.localStorage.removeItem(e)}catch(t){x.localStorage.error(t)}}},x.register_event=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,r,n,i,a){if(t)if(t.addEventListener&&!i)t.addEventListener(r,n,!!a);else{var o="on"+r,s=t[o];t[o]=function(t,r,n){var i=function(i){if(i=i||e(window.event)){var a,o,s=!0;return x.isFunction(n)&&(a=n(i)),o=r.call(t,i),!1!==a&&!1!==o||(s=!1),s}};return i}(t,n,s)}else w.error("No valid element provided to register_event")}}();var P=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');x.dom_query=function(){function e(e){return e.all?e.all:e.getElementsByTagName("*")}var t=/[\t\r\n]/g;function r(e,r){var n=" "+r+" ";return(" "+e.className+" ").replace(t," ").indexOf(n)>=0}function n(t){if(!f.getElementsByTagName)return[];var n,i,a,o,s,u,c,l,d,h,p=t.split(" "),v=[f];for(u=0;u<p.length;u++)if((n=p[u].replace(/^\s+/,"").replace(/\s+$/,"")).indexOf("#")>-1){a=(i=n.split("#"))[0];var g=i[1],m=f.getElementById(g);if(!m||a&&m.nodeName.toLowerCase()!=a)return[];v=[m]}else if(n.indexOf(".")>-1){a=(i=n.split("."))[0];var y=i[1];for(a||(a="*"),o=[],s=0,c=0;c<v.length;c++)for(d="*"==a?e(v[c]):v[c].getElementsByTagName(a),l=0;l<d.length;l++)o[s++]=d[l];for(v=[],h=0,c=0;c<o.length;c++)o[c].className&&x.isString(o[c].className)&&r(o[c],y)&&(v[h++]=o[c])}else{var b=n.match(P);if(b){a=b[1];var S,E=b[2],w=b[3],k=b[4];for(a||(a="*"),o=[],s=0,c=0;c<v.length;c++)for(d="*"==a?e(v[c]):v[c].getElementsByTagName(a),l=0;l<d.length;l++)o[s++]=d[l];switch(v=[],h=0,w){case"=":S=function(e){return e.getAttribute(E)==k};break;case"~":S=function(e){return e.getAttribute(E).match(new RegExp("\\b"+k+"\\b"))};break;case"|":S=function(e){return e.getAttribute(E).match(new RegExp("^"+k+"-?"))};break;case"^":S=function(e){return 0===e.getAttribute(E).indexOf(k)};break;case"$":S=function(e){return e.getAttribute(E).lastIndexOf(k)==e.getAttribute(E).length-k.length};break;case"*":S=function(e){return e.getAttribute(E).indexOf(k)>-1};break;default:S=function(e){return e.getAttribute(E)}}for(v=[],h=0,c=0;c<o.length;c++)S(o[c])&&(v[h++]=o[c])}else{for(a=n,o=[],s=0,c=0;c<v.length;c++)for(d=v[c].getElementsByTagName(a),l=0;l<d.length;l++)o[s++]=d[l];v=o}}return v}return function(e){return x.isElement(e)?[e]:x.isObject(e)&&!x.isUndefined(e.length)?e:n.call(this,e)}}();var I=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],O=["dclid","fbclid","gclid","ko_click_id","li_fat_id","msclkid","ttclid","twclid","wbraid"];x.info={campaignParams:function(e){var t="",r={};return x.each(I,(function(n){(t=x.getQueryParam(f.URL,n)).length?r[n]=t:void 0!==e&&(r[n]=e)})),r},clickParams:function(){var e="",t={};return x.each(O,(function(r){(e=x.getQueryParam(f.URL,r)).length&&(t[r]=e)})),t},marketingParams:function(){return x.extend(x.info.campaignParams(),x.info.clickParams())},searchEngine:function(e){return 0===e.search("https?://(.*)google.([^/?]*)")?"google":0===e.search("https?://(.*)bing.com")?"bing":0===e.search("https?://(.*)yahoo.com")?"yahoo":0===e.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},searchInfo:function(e){var t=x.info.searchEngine(e),r="yahoo"!=t?"q":"p",n={};if(null!==t){n.$search_engine=t;var i=x.getQueryParam(e,r);i.length&&(n.mp_keyword=i)}return n},browser:function(e,t,r){return t=t||"",r||x.includes(e," OPR/")?x.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":x.includes(e,"IEMobile")||x.includes(e,"WPDesktop")?"Internet Explorer Mobile":x.includes(e,"SamsungBrowser/")?"Samsung Internet":x.includes(e,"Edge")||x.includes(e,"Edg/")?"Microsoft Edge":x.includes(e,"FBIOS")?"Facebook Mobile":x.includes(e,"Chrome")?"Chrome":x.includes(e,"CriOS")?"Chrome iOS":x.includes(e,"UCWEB")||x.includes(e,"UCBrowser")?"UC Browser":x.includes(e,"FxiOS")?"Firefox iOS":x.includes(t,"Apple")?x.includes(e,"Mobile")?"Mobile Safari":"Safari":x.includes(e,"Android")?"Android Mobile":x.includes(e,"Konqueror")?"Konqueror":x.includes(e,"Firefox")?"Firefox":x.includes(e,"MSIE")||x.includes(e,"Trident/")?"Internet Explorer":x.includes(e,"Gecko")?"Mozilla":""},browserVersion:function(e,t,r){var n={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/}[x.info.browser(e,t,r)];if(void 0===n)return null;var i=e.match(n);return i?parseFloat(i[i.length-2]):null},os:function(){var e=v;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"Chrome OS":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":""},referringDomain:function(e){var t=e.split("/");return t.length>=3?t[2]:""},currentUrl:function(){return t.location.href},properties:function(e){return"object"!==typeof e&&(e={}),x.extend(x.strip_empty_properties({$os:x.info.os(),$browser:x.info.browser(v,d.vendor,h),$referrer:f.referrer,$referring_domain:x.info.referringDomain(f.referrer),$device:x.info.device(v)}),{$current_url:x.info.currentUrl(),$browser_version:x.info.browserVersion(v,d.vendor,h),$screen_height:p.height,$screen_width:p.width,mp_lib:"web",$lib_version:r.LIB_VERSION,$insert_id:R(),time:x.timestamp()/1e3},x.strip_empty_properties(e))},people_properties:function(){return x.extend(x.strip_empty_properties({$os:x.info.os(),$browser:x.info.browser(v,d.vendor,h)}),{$browser_version:x.info.browserVersion(v,d.vendor,h)})},mpPageViewProperties:function(){return x.strip_empty_properties({current_page_title:f.title,current_domain:t.location.hostname,current_url_path:t.location.pathname,current_url_protocol:t.location.protocol,current_url_search:t.location.search})}};var R=function(e){var t=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return e?t.substring(0,e):t},N=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,L=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,j=function(e){var t=L,r=e.split("."),n=r[r.length-1];(n.length>4||"com"===n||"org"===n)&&(t=N);var i=e.match(t);return i?i[0]:""},M=null,D=null;"undefined"!==typeof JSON&&(M=JSON.stringify,D=JSON.parse),M=M||x.JSONEncode,D=D||x.JSONDecode,x.toArray=x.toArray,x.isObject=x.isObject,x.JSONEncode=x.JSONEncode,x.JSONDecode=x.JSONDecode,x.isBlockedUA=x.isBlockedUA,x.isEmptyObject=x.isEmptyObject,x.info=x.info,x.info.device=x.info.device,x.info.browser=x.info.browser,x.info.browserVersion=x.info.browserVersion,x.info.properties=x.info.properties;var F=function(){};F.prototype.create_properties=function(){},F.prototype.event_handler=function(){},F.prototype.after_track_handler=function(){},F.prototype.init=function(e){return this.mp=e,this},F.prototype.track=function(e,t,r,n){var i=this,a=x.dom_query(e);if(0!==a.length)return x.each(a,(function(e){x.register_event(e,this.override_event,(function(e){var a={},o=i.create_properties(r,this),s=i.mp.get_config("track_links_timeout");i.event_handler(e,this,a),window.setTimeout(i.track_callback(n,o,a,!0),s),i.mp.track(t,o,i.track_callback(n,o,a))}))}),this),!0;w.error("The DOM query ("+e+") returned 0 elements")},F.prototype.track_callback=function(e,t,r,n){n=n||!1;var i=this;return function(){r.callback_fired||(r.callback_fired=!0,e&&!1===e(n,t)||i.after_track_handler(t,r,n))}},F.prototype.create_properties=function(e,t){return"function"===typeof e?e(t):x.extend({},e)};var U=function(){this.override_event="click"};x.inherit(U,F),U.prototype.create_properties=function(e,t){var r=U.superclass.create_properties.apply(this,arguments);return t.href&&(r.url=t.href),r},U.prototype.event_handler=function(e,t,r){r.new_tab=2===e.which||e.metaKey||e.ctrlKey||"_blank"===t.target,r.href=t.href,r.new_tab||e.preventDefault()},U.prototype.after_track_handler=function(e,t){t.new_tab||setTimeout((function(){window.location=t.href}),0)};var B=function(){this.override_event="submit"};x.inherit(B,F),B.prototype.event_handler=function(e,t,r){r.element=t,e.preventDefault()},B.prototype.after_track_handler=function(e,t){setTimeout((function(){t.element.submit()}),0)};var G=_("lock"),V=function(e,t){t=t||{},this.storageKey=e,this.storage=t.storage||window.localStorage,this.pollIntervalMS=t.pollIntervalMS||100,this.timeoutMS=t.timeoutMS||2e3};V.prototype.withLock=function(e,t,r){r||"function"===typeof t||(r=t,t=null);var n=r||(new Date).getTime()+"|"+Math.random(),i=(new Date).getTime(),a=this.storageKey,o=this.pollIntervalMS,s=this.timeoutMS,u=this.storage,c=a+":X",l=a+":Y",d=a+":Z",f=function(e){t&&t(e)},h=function(e){if((new Date).getTime()-i>s)return G.error("Timeout waiting for mutex on "+a+"; clearing lock. ["+n+"]"),u.removeItem(d),u.removeItem(l),void g();setTimeout((function(){try{e()}catch(t){f(t)}}),o*(Math.random()+.1))},p=function e(t,r){t()?r():h((function(){e(t,r)}))},v=function(){var e=u.getItem(l);if(e&&e!==n)return!1;if(u.setItem(l,n),u.getItem(l)===n)return!0;if(!C(u,!0))throw new Error("localStorage support dropped while acquiring lock");return!1},g=function e(){u.setItem(c,n),p(v,(function(){u.getItem(c)!==n?h((function(){u.getItem(l)===n?p((function(){return!u.getItem(d)}),m):e()})):m()}))},m=function(){u.setItem(d,"1");try{e()}finally{u.removeItem(d),u.getItem(l)===n&&u.removeItem(l),u.getItem(c)===n&&u.removeItem(c)}};try{if(!C(u,!0))throw new Error("localStorage support check failed");g()}catch(y){f(y)}};var H=_("batch"),W=function(e,t){t=t||{},this.storageKey=e,this.storage=t.storage||window.localStorage,this.reportError=t.errorReporter||x.bind(H.error,H),this.lock=new V(e,{storage:this.storage}),this.pid=t.pid||null,this.memQueue=[]};W.prototype.enqueue=function(e,t,r){var n={id:R(),flushAfter:(new Date).getTime()+2*t,payload:e};this.lock.withLock(x.bind((function(){var t;try{var i=this.readFromStorage();i.push(n),(t=this.saveToStorage(i))&&this.memQueue.push(n)}catch(a){this.reportError("Error enqueueing item",e),t=!1}r&&r(t)}),this),x.bind((function(e){this.reportError("Error acquiring storage lock",e),r&&r(!1)}),this),this.pid)},W.prototype.fillBatch=function(e){var t=this.memQueue.slice(0,e);if(t.length<e){var r=this.readFromStorage();if(r.length){var n={};x.each(t,(function(e){n[e.id]=!0}));for(var i=0;i<r.length;i++){var a=r[i];if((new Date).getTime()>a.flushAfter&&!n[a.id]&&(a.orphaned=!0,t.push(a),t.length>=e))break}}}return t};var q=function(e,t){var r=[];return x.each(e,(function(e){e.id&&!t[e.id]&&r.push(e)})),r};W.prototype.removeItemsByID=function(e,t){var r={};x.each(e,(function(e){r[e]=!0})),this.memQueue=q(this.memQueue,r);var n=x.bind((function(){var t;try{var n=this.readFromStorage();if(n=q(n,r),t=this.saveToStorage(n)){n=this.readFromStorage();for(var i=0;i<n.length;i++){var a=n[i];if(a.id&&r[a.id])return this.reportError("Item not removed from storage"),!1}}}catch(o){this.reportError("Error removing items",e),t=!1}return t}),this);this.lock.withLock((function(){var e=n();t&&t(e)}),x.bind((function(e){var r=!1;if(this.reportError("Error acquiring storage lock",e),!C(this.storage,!0)&&!(r=n()))try{this.storage.removeItem(this.storageKey)}catch(e){this.reportError("Error clearing queue",e)}t&&t(r)}),this),this.pid)};var z=function(e,t){var r=[];return x.each(e,(function(e){var n=e.id;if(n in t){var i=t[n];null!==i&&(e.payload=i,r.push(e))}else r.push(e)})),r};W.prototype.updatePayloads=function(e,t){this.memQueue=z(this.memQueue,e),this.lock.withLock(x.bind((function(){var r;try{var n=this.readFromStorage();n=z(n,e),r=this.saveToStorage(n)}catch(i){this.reportError("Error updating items",e),r=!1}t&&t(r)}),this),x.bind((function(e){this.reportError("Error acquiring storage lock",e),t&&t(!1)}),this),this.pid)},W.prototype.readFromStorage=function(){var e;try{(e=this.storage.getItem(this.storageKey))&&(e=D(e),x.isArray(e)||(this.reportError("Invalid storage entry:",e),e=null))}catch(t){this.reportError("Error retrieving queue",t),e=null}return e||[]},W.prototype.saveToStorage=function(e){try{return this.storage.setItem(this.storageKey,M(e)),!0}catch(t){return this.reportError("Error saving queue",t),!1}},W.prototype.clear=function(){this.memQueue=[],this.storage.removeItem(this.storageKey)};var Y=_("batch"),X=function(e,t){this.errorReporter=t.errorReporter,this.queue=new W(e,{errorReporter:x.bind(this.reportError,this),storage:t.storage}),this.libConfig=t.libConfig,this.sendRequest=t.sendRequestFunc,this.beforeSendHook=t.beforeSendHook,this.stopAllBatching=t.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0,this.itemIdsSentSuccessfully={}};X.prototype.enqueue=function(e,t){this.queue.enqueue(e,this.flushInterval,t)},X.prototype.start=function(){this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()},X.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)},X.prototype.clear=function(){this.queue.clear()},X.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size},X.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)},X.prototype.scheduleFlush=function(e){this.flushInterval=e,this.stopped||(this.timeoutID=setTimeout(x.bind(this.flush,this),this.flushInterval))},X.prototype.flush=function(e){try{if(this.requestInProgress)return void Y.log("Flush: Request already in progress");e=e||{};var t=this.libConfig.batch_request_timeout_ms,n=(new Date).getTime(),i=this.batchSize,a=this.queue.fillBatch(i),o=[],s={};if(x.each(a,(function(e){var t=e.payload;if(this.beforeSendHook&&!e.orphaned&&(t=this.beforeSendHook(t)),t){t.event&&t.properties&&(t.properties=x.extend({},t.properties,{mp_sent_by_lib_version:r.LIB_VERSION}));var n=!0,i=e.id;i?(this.itemIdsSentSuccessfully[i]||0)>5&&(this.reportError("[dupe] item ID sent too many times, not sending",{item:e,batchSize:a.length,timesSent:this.itemIdsSentSuccessfully[i]}),n=!1):this.reportError("[dupe] found item with no ID",{item:e}),n&&o.push(t)}s[e.id]=t}),this),o.length<1)return void this.resetFlush();this.requestInProgress=!0;var u=x.bind((function(r){this.requestInProgress=!1;try{var o=!1;if(e.unloading)this.queue.updatePayloads(s);else if(x.isObject(r)&&"timeout"===r.error&&(new Date).getTime()-n>=t)this.reportError("Network timeout; retrying"),this.flush();else if(x.isObject(r)&&r.xhr_req&&(r.xhr_req.status>=500||429===r.xhr_req.status||"timeout"===r.error)){var u=2*this.flushInterval,c=r.xhr_req.responseHeaders;if(c){var l=c["Retry-After"];l&&(u=1e3*parseInt(l,10)||u)}u=Math.min(6e5,u),this.reportError("Error; retry in "+u+" ms"),this.scheduleFlush(u)}else if(x.isObject(r)&&r.xhr_req&&413===r.xhr_req.status)if(a.length>1){var d=Math.max(1,Math.floor(i/2));this.batchSize=Math.min(this.batchSize,d,a.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush()}else this.reportError("Single-event request too large; dropping",a),this.resetBatchSize(),o=!0;else o=!0;o&&(this.queue.removeItemsByID(x.map(a,(function(e){return e.id})),x.bind((function(e){e?(this.consecutiveRemovalFailures=0,this.flush()):(this.reportError("Failed to remove items from queue"),++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush())}),this)),x.each(a,x.bind((function(e){var t=e.id;t?(this.itemIdsSentSuccessfully[t]=this.itemIdsSentSuccessfully[t]||0,this.itemIdsSentSuccessfully[t]++,this.itemIdsSentSuccessfully[t]>5&&this.reportError("[dupe] item ID sent too many times",{item:e,batchSize:a.length,timesSent:this.itemIdsSentSuccessfully[t]})):this.reportError("[dupe] found item with no ID while removing",{item:e})}),this)))}catch(f){this.reportError("Error handling API response",f),this.resetFlush()}}),this),c={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:t};e.unloading&&(c.transport="sendBeacon"),Y.log("MIXPANEL REQUEST:",o),this.sendRequest(o,c,u)}catch(l){this.reportError("Error flushing request queue",l),this.resetFlush()}},X.prototype.reportError=function(e,t){if(Y.error.apply(Y.error,arguments),this.errorReporter)try{t instanceof Error||(t=new Error(e)),this.errorReporter(e,t)}catch(t){Y.error(t)}};var K="__mp_opt_in_out_";function J(e,t){se(!0,e,t)}function Z(e,t){se(!1,e,t)}function Q(e,t){return"1"===oe(e,t)}function $(e,r){if(function(e){if(e&&e.ignoreDnt)return!1;var r=e&&e.window||t,n=r.navigator||{},i=!1;return x.each([n.doNotTrack,n.msDoNotTrack,r.doNotTrack],(function(e){x.includes([!0,1,"1","yes"],e)&&(i=!0)})),i}(r))return w.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var n="0"===oe(e,r);return n&&w.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),n}function ee(e){return ue(e,(function(e){return this.get_config(e)}))}function te(e){return ue(e,(function(e){return this._get_config(e)}))}function re(e){return ue(e,(function(e){return this._get_config(e)}))}function ne(e,t){ie(t=t||{}).remove(ae(e,t),!!t.crossSubdomainCookie,t.cookieDomain)}function ie(e){return"localStorage"===(e=e||{}).persistenceType?x.localStorage:x.cookie}function ae(e,t){return((t=t||{}).persistencePrefix||K)+e}function oe(e,t){return ie(t).get(ae(e,t))}function se(e,t,r){x.isString(t)&&t.length?(ie(r=r||{}).set(ae(t,r),e?1:0,x.isNumber(r.cookieExpiration)?r.cookieExpiration:null,!!r.crossSubdomainCookie,!!r.secureCookie,!!r.crossSiteCookie,r.cookieDomain),r.track&&e&&r.track(r.trackEventName||"$opt_in",r.trackProperties,{send_immediately:!0})):w.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token")}function ue(e,t){return function(){var r=!1;try{var n=t.call(this,"token"),i=t.call(this,"ignore_dnt"),a=t.call(this,"opt_out_tracking_persistence_type"),o=t.call(this,"opt_out_tracking_cookie_prefix"),s=t.call(this,"window");n&&(r=$(n,{ignoreDnt:i,persistenceType:a,persistencePrefix:o,window:s}))}catch(c){w.error("Unexpected error when checking tracking opt-out status: "+c)}if(!r)return e.apply(this,arguments);var u=arguments[arguments.length-1];"function"===typeof u&&u(0)}}var ce="$set",le="$set_once",de="$unset",fe="$add",he="$append",pe="$union",ve="$remove",ge={set_action:function(e,t){var r={},n={};return x.isObject(e)?x.each(e,(function(e,t){this._is_reserved_property(t)||(n[t]=e)}),this):n[e]=t,r[ce]=n,r},unset_action:function(e){var t={},r=[];return x.isArray(e)||(e=[e]),x.each(e,(function(e){this._is_reserved_property(e)||r.push(e)}),this),t[de]=r,t},set_once_action:function(e,t){var r={},n={};return x.isObject(e)?x.each(e,(function(e,t){this._is_reserved_property(t)||(n[t]=e)}),this):n[e]=t,r[le]=n,r},union_action:function(e,t){var r={},n={};return x.isObject(e)?x.each(e,(function(e,t){this._is_reserved_property(t)||(n[t]=x.isArray(e)?e:[e])}),this):n[e]=x.isArray(t)?t:[t],r[pe]=n,r},append_action:function(e,t){var r={},n={};return x.isObject(e)?x.each(e,(function(e,t){this._is_reserved_property(t)||(n[t]=e)}),this):n[e]=t,r[he]=n,r},remove_action:function(e,t){var r={},n={};return x.isObject(e)?x.each(e,(function(e,t){this._is_reserved_property(t)||(n[t]=e)}),this):n[e]=t,r[ve]=n,r},delete_action:function(){var e={$delete:""};return e}},me=function(){};x.extend(me.prototype,ge),me.prototype._init=function(e,t,r){this._mixpanel=e,this._group_key=t,this._group_id=r},me.prototype.set=re((function(e,t,r){var n=this.set_action(e,t);return x.isObject(e)&&(r=t),this._send_request(n,r)})),me.prototype.set_once=re((function(e,t,r){var n=this.set_once_action(e,t);return x.isObject(e)&&(r=t),this._send_request(n,r)})),me.prototype.unset=re((function(e,t){var r=this.unset_action(e);return this._send_request(r,t)})),me.prototype.union=re((function(e,t,r){x.isObject(e)&&(r=t);var n=this.union_action(e,t);return this._send_request(n,r)})),me.prototype.delete=re((function(e){var t=this.delete_action();return this._send_request(t,e)})),me.prototype.remove=re((function(e,t,r){var n=this.remove_action(e,t);return this._send_request(n,r)})),me.prototype._send_request=function(e,t){e.$group_key=this._group_key,e.$group_id=this._group_id,e.$token=this._get_config("token");var r=x.encodeDates(e);return this._mixpanel._track_or_batch({type:"groups",data:r,endpoint:this._get_config("api_host")+"/"+this._get_config("api_routes").groups,batcher:this._mixpanel.request_batchers.groups},t)},me.prototype._is_reserved_property=function(e){return"$group_key"===e||"$group_id"===e},me.prototype._get_config=function(e){return this._mixpanel.get_config(e)},me.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id},me.prototype.remove=me.prototype.remove,me.prototype.set=me.prototype.set,me.prototype.set_once=me.prototype.set_once,me.prototype.union=me.prototype.union,me.prototype.unset=me.prototype.unset,me.prototype.toString=me.prototype.toString;var ye=function(){};x.extend(ye.prototype,ge),ye.prototype._init=function(e){this._mixpanel=e},ye.prototype.set=te((function(e,t,r){var n=this.set_action(e,t);return x.isObject(e)&&(r=t),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),n[ce]=x.extend({},x.info.people_properties(),n[ce]),this._send_request(n,r)})),ye.prototype.set_once=te((function(e,t,r){var n=this.set_once_action(e,t);return x.isObject(e)&&(r=t),this._send_request(n,r)})),ye.prototype.unset=te((function(e,t){var r=this.unset_action(e);return this._send_request(r,t)})),ye.prototype.increment=te((function(e,t,r){var n={},i={};return x.isObject(e)?(x.each(e,(function(e,t){if(!this._is_reserved_property(t)){if(isNaN(parseFloat(e)))return void w.error("Invalid increment value passed to mixpanel.people.increment - must be a number");i[t]=e}}),this),r=t):(x.isUndefined(t)&&(t=1),i[e]=t),n[fe]=i,this._send_request(n,r)})),ye.prototype.append=te((function(e,t,r){x.isObject(e)&&(r=t);var n=this.append_action(e,t);return this._send_request(n,r)})),ye.prototype.remove=te((function(e,t,r){x.isObject(e)&&(r=t);var n=this.remove_action(e,t);return this._send_request(n,r)})),ye.prototype.union=te((function(e,t,r){x.isObject(e)&&(r=t);var n=this.union_action(e,t);return this._send_request(n,r)})),ye.prototype.track_charge=te((function(e,t,r){if(x.isNumber(e)||(e=parseFloat(e),!isNaN(e)))return this.append("$transactions",x.extend({$amount:e},t),r);w.error("Invalid value passed to mixpanel.people.track_charge - must be a number")})),ye.prototype.clear_charges=function(e){return this.set("$transactions",[],e)},ye.prototype.delete_user=function(){if(this._identify_called()){var e={$delete:this._mixpanel.get_distinct_id()};return this._send_request(e)}w.error("mixpanel.people.delete_user() requires you to call identify() first")},ye.prototype.toString=function(){return this._mixpanel.toString()+".people"},ye.prototype._send_request=function(e,t){e.$token=this._get_config("token"),e.$distinct_id=this._mixpanel.get_distinct_id();var r=this._mixpanel.get_property("$device_id"),n=this._mixpanel.get_property("$user_id"),i=this._mixpanel.get_property("$had_persisted_distinct_id");r&&(e.$device_id=r),n&&(e.$user_id=n),i&&(e.$had_persisted_distinct_id=i);var a=x.encodeDates(e);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:a,endpoint:this._get_config("api_host")+"/"+this._get_config("api_routes").engage,batcher:this._mixpanel.request_batchers.people},t):(this._enqueue(e),x.isUndefined(t)||(this._get_config("verbose")?t({status:-1,error:null}):t(-1)),x.truncate(a,255))},ye.prototype._get_config=function(e){return this._mixpanel.get_config(e)},ye.prototype._identify_called=function(){return!0===this._mixpanel._flags.identify_called},ye.prototype._enqueue=function(e){ce in e?this._mixpanel.persistence._add_to_people_queue(ce,e):le in e?this._mixpanel.persistence._add_to_people_queue(le,e):de in e?this._mixpanel.persistence._add_to_people_queue(de,e):fe in e?this._mixpanel.persistence._add_to_people_queue(fe,e):he in e?this._mixpanel.persistence._add_to_people_queue(he,e):ve in e?this._mixpanel.persistence._add_to_people_queue(ve,e):pe in e?this._mixpanel.persistence._add_to_people_queue(pe,e):w.error("Invalid call to _enqueue():",e)},ye.prototype._flush_one_queue=function(e,t,r,n){var i=this,a=x.extend({},this._mixpanel.persistence.load_queue(e)),o=a;x.isUndefined(a)||!x.isObject(a)||x.isEmptyObject(a)||(i._mixpanel.persistence._pop_from_people_queue(e,a),i._mixpanel.persistence.save(),n&&(o=n(a)),t.call(i,o,(function(t,n){0===t&&i._mixpanel.persistence._add_to_people_queue(e,a),x.isUndefined(r)||r(t,n)})))},ye.prototype._flush=function(e,t,r,n,i,a,o){var s=this;this._flush_one_queue(ce,this.set,e),this._flush_one_queue(le,this.set_once,n),this._flush_one_queue(de,this.unset,a,(function(e){return x.keys(e)})),this._flush_one_queue(fe,this.increment,t),this._flush_one_queue(pe,this.union,i);var u=this._mixpanel.persistence.load_queue(he);if(!x.isUndefined(u)&&x.isArray(u)&&u.length)for(var c,l=function(e,t){0===e&&s._mixpanel.persistence._add_to_people_queue(he,c),x.isUndefined(r)||r(e,t)},d=u.length-1;d>=0;d--)u=this._mixpanel.persistence.load_queue(he),c=u.pop(),s._mixpanel.persistence.save(),x.isEmptyObject(c)||s.append(c,l);var f=this._mixpanel.persistence.load_queue(ve);if(!x.isUndefined(f)&&x.isArray(f)&&f.length)for(var h,p=function(e,t){0===e&&s._mixpanel.persistence._add_to_people_queue(ve,h),x.isUndefined(o)||o(e,t)},v=f.length-1;v>=0;v--)f=this._mixpanel.persistence.load_queue(ve),h=f.pop(),s._mixpanel.persistence.save(),x.isEmptyObject(h)||s.remove(h,p)},ye.prototype._is_reserved_property=function(e){return"$distinct_id"===e||"$token"===e||"$device_id"===e||"$user_id"===e||"$had_persisted_distinct_id"===e},ye.prototype.set=ye.prototype.set,ye.prototype.set_once=ye.prototype.set_once,ye.prototype.unset=ye.prototype.unset,ye.prototype.increment=ye.prototype.increment,ye.prototype.append=ye.prototype.append,ye.prototype.remove=ye.prototype.remove,ye.prototype.union=ye.prototype.union,ye.prototype.track_charge=ye.prototype.track_charge,ye.prototype.clear_charges=ye.prototype.clear_charges,ye.prototype.delete_user=ye.prototype.delete_user,ye.prototype.toString=ye.prototype.toString;var be,Se,Ee="__mps",xe="__mpso",we="__mpus",ke="__mpa",_e="__mpap",Te="__mpr",Ae="__mpu",Ce="$people_distinct_id",Pe="__alias",Ie="__timers",Oe=[Ee,xe,we,ke,_e,Te,Ae,Ce,Pe,Ie],Re=function(e){this.props={},this.campaign_params_saved=!1,e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_mixpanel";var t=e.persistence;"cookie"!==t&&"localStorage"!==t&&(w.critical("Unknown persistence type "+t+"; falling back to cookie"),t=e.persistence="cookie"),"localStorage"===t&&x.localStorage.is_supported()?this.storage=x.localStorage:this.storage=x.cookie,this.load(),this.update_config(e),this.upgrade(e),this.save()};Re.prototype.properties=function(){var e={};return this.load(),x.each(this.props,(function(t,r){x.include(Oe,r)||(e[r]=t)})),e},Re.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=x.extend({},e))}},Re.prototype.upgrade=function(e){var t,r,n=e.upgrade;n&&(t="mp_super_properties","string"===typeof n&&(t=n),r=this.storage.parse(t),this.storage.remove(t),this.storage.remove(t,!0),r&&(this.props=x.extend(this.props,r.all,r.events))),e.cookie_name||"mixpanel"===e.name||(t="mp_"+e.token+"_"+e.name,(r=this.storage.parse(t))&&(this.storage.remove(t),this.storage.remove(t,!0),this.register_once(r))),this.storage===x.localStorage&&(r=x.cookie.parse(this.name),x.cookie.remove(this.name),x.cookie.remove(this.name,!0),r&&this.register_once(r))},Re.prototype.save=function(){this.disabled||this.storage.set(this.name,x.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)},Re.prototype.load_prop=function(e){return this.load(),this.props[e]},Re.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)},Re.prototype.clear=function(){this.remove(),this.props={}},Re.prototype.register_once=function(e,t,r){return!!x.isObject(e)&&("undefined"===typeof t&&(t="None"),this.expire_days="undefined"===typeof r?this.default_expiry:r,this.load(),x.each(e,(function(e,r){this.props.hasOwnProperty(r)&&this.props[r]!==t||(this.props[r]=e)}),this),this.save(),!0)},Re.prototype.register=function(e,t){return!!x.isObject(e)&&(this.expire_days="undefined"===typeof t?this.default_expiry:t,this.load(),x.extend(this.props,e),this.save(),!0)},Re.prototype.unregister=function(e){this.load(),e in this.props&&(delete this.props[e],this.save())},Re.prototype.update_search_keyword=function(e){this.register(x.info.searchInfo(e))},Re.prototype.update_referrer_info=function(e){this.register_once({$initial_referrer:e||"$direct",$initial_referring_domain:x.info.referringDomain(e)||"$direct"},"")},Re.prototype.get_referrer_info=function(){return x.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})},Re.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cookie_domain(e.cookie_domain),this.set_cross_site(e.cross_site_cookie),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)},Re.prototype.set_disabled=function(e){this.disabled=e,this.disabled?this.remove():this.save()},Re.prototype.set_cookie_domain=function(e){e!==this.cookie_domain&&(this.remove(),this.cookie_domain=e,this.save())},Re.prototype.set_cross_site=function(e){e!==this.cross_site&&(this.cross_site=e,this.remove(),this.save())},Re.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())},Re.prototype.get_cross_subdomain=function(){return this.cross_subdomain},Re.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())},Re.prototype._add_to_people_queue=function(e,t){var r=this._get_queue_key(e),n=t[e],i=this._get_or_create_queue(ce),a=this._get_or_create_queue(le),o=this._get_or_create_queue(de),s=this._get_or_create_queue(fe),u=this._get_or_create_queue(pe),c=this._get_or_create_queue(ve,[]),l=this._get_or_create_queue(he,[]);r===Ee?(x.extend(i,n),this._pop_from_people_queue(fe,n),this._pop_from_people_queue(pe,n),this._pop_from_people_queue(de,n)):r===xe?(x.each(n,(function(e,t){t in a||(a[t]=e)})),this._pop_from_people_queue(de,n)):r===we?x.each(n,(function(e){x.each([i,a,s,u],(function(t){e in t&&delete t[e]})),x.each(l,(function(t){e in t&&delete t[e]})),o[e]=!0})):r===ke?(x.each(n,(function(e,t){t in i?i[t]+=e:(t in s||(s[t]=0),s[t]+=e)}),this),this._pop_from_people_queue(de,n)):r===Ae?(x.each(n,(function(e,t){x.isArray(e)&&(t in u||(u[t]=[]),u[t]=u[t].concat(e))})),this._pop_from_people_queue(de,n)):r===Te?(c.push(n),this._pop_from_people_queue(he,n)):r===_e&&(l.push(n),this._pop_from_people_queue(de,n)),w.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),w.log(t),this.save()},Re.prototype._pop_from_people_queue=function(e,t){var r=this.props[this._get_queue_key(e)];x.isUndefined(r)||x.each(t,(function(t,n){e===he||e===ve?x.each(r,(function(e){e[n]===t&&delete e[n]})):delete r[n]}),this)},Re.prototype.load_queue=function(e){return this.load_prop(this._get_queue_key(e))},Re.prototype._get_queue_key=function(e){return e===ce?Ee:e===le?xe:e===de?we:e===fe?ke:e===he?_e:e===ve?Te:e===pe?Ae:void w.error("Invalid queue:",e)},Re.prototype._get_or_create_queue=function(e,t){var r=this._get_queue_key(e);return t=x.isUndefined(t)?{}:t,this.props[r]||(this.props[r]=t)},Re.prototype.set_event_timer=function(e,t){var r=this.load_prop(Ie)||{};r[e]=t,this.props[Ie]=r,this.save()},Re.prototype.remove_event_timer=function(e){var t=(this.load_prop(Ie)||{})[e];return x.isUndefined(t)||(delete this.props[Ie][e],this.save()),t};var Ne=function(e){return e},Le=function(){},je="mixpanel",Me="base64",De="$device:",Fe=t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,Ue=!Fe&&-1===v.indexOf("MSIE")&&-1===v.indexOf("Mozilla"),Be=null;d.sendBeacon&&(Be=function(){return d.sendBeacon.apply(d,arguments)});var Ge={track:"track/",engage:"engage/",groups:"groups/"},Ve={api_host:"https://api-js.mixpanel.com",api_routes:Ge,api_method:"POST",api_transport:"XHR",api_payload_format:Me,app_host:"https://mixpanel.com",cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:Le,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:Le,mp_loader:null,track_marketing:!0,track_pageview:!1,skip_first_touch_marketing:!1,store_google:!0,stop_utm_persistence:!1,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{}},He=!1,We=function(){},qe=function(e,t,n){var i,a=n===je?Se:Se[n];if(a&&0===be)i=a;else{if(a&&!x.isArray(a))return void w.error("You have already initialized "+n);i=new We}if(i._cached_groups={},i._init(e,t,n),i.people=new ye,i.people._init(i),!i.get_config("skip_first_touch_marketing")){var o=x.info.campaignParams(null),s={},u=!1;x.each(o,(function(e,t){s["initial_"+t]=e,e&&(u=!0)})),u&&i.people.set_once(s)}return r.DEBUG=r.DEBUG||i.get_config("debug"),!x.isUndefined(a)&&x.isArray(a)&&(i._execute_array.call(i.people,a.people),i._execute_array(a)),i};We.prototype.init=function(e,t,r){if(x.isUndefined(r))this.report_error("You must name your new library: init(token, config, name)");else{if(r!==je){var n=qe(e,t,r);return Se[r]=n,n._loaded(),n}this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet")}},We.prototype._init=function(e,r,n){r=r||{},this.__loaded=!0,this.config={};var i={};"api_payload_format"in r||(r.api_host||Ve.api_host).match(/\.mixpanel\.com/)&&(i.api_payload_format="json");if(this.set_config(x.extend({},Ve,i,r,{name:n,token:e,callback_fn:(n===je?n:je+"."+n)+"._jsc"})),this._jsc=Le,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests)if(x.localStorage.is_supported(!0)&&Fe){if(this.init_batchers(),Be&&t.addEventListener){var a=x.bind((function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})}),this);t.addEventListener("pagehide",(function(e){e.persisted&&a()})),t.addEventListener("visibilitychange",(function(){"hidden"===f.visibilityState&&a()}))}}else this._batch_requests=!1,w.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support"),x.each(this.get_batcher_configs(),(function(e){w.log("Clearing batch queue "+e.queue_key),x.localStorage.remove(e.queue_key)}));this.persistence=this.cookie=new Re(this.config),this.unpersisted_superprops={},this._gdpr_init();var o=x.UUID();this.get_distinct_id()||this.register_once({distinct_id:De+o,$device_id:o},"");var s=this.get_config("track_pageview");s&&this._init_url_change_tracking(s)},We.prototype._loaded=function(){if(this.get_config("loaded")(this),this._set_default_superprops(),this.people.set_once(this.persistence.get_referrer_info()),this.get_config("store_google")&&this.get_config("stop_utm_persistence")){var e=x.info.campaignParams(null);x.each(e,function(e,t){this.unregister(t)}.bind(this))}},We.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(f.referrer),this.get_config("store_google")&&!this.get_config("stop_utm_persistence")&&this.register(x.info.campaignParams()),this.get_config("save_referrer")&&this.persistence.update_referrer_info(f.referrer)},We.prototype._dom_loaded=function(){x.each(this.__dom_loaded_queue,(function(e){this._track_dom.apply(this,e)}),this),this.has_opted_out_tracking()||x.each(this.__request_queue,(function(e){this._send_request.apply(this,e)}),this),delete this.__dom_loaded_queue,delete this.__request_queue},We.prototype._track_dom=function(e,t){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!He)return this.__dom_loaded_queue.push([e,t]),!1;var r=(new e).init(this);return r.track.apply(r,t)},We.prototype._init_url_change_tracking=function(e){var r="";if(this.track_pageview()&&(r=x.info.currentUrl()),x.include(["full-url","url-with-path-and-query-string","url-with-path"],e)){t.addEventListener("popstate",(function(){t.dispatchEvent(new Event("mp_locationchange"))})),t.addEventListener("hashchange",(function(){t.dispatchEvent(new Event("mp_locationchange"))}));var n=t.history.pushState;"function"===typeof n&&(t.history.pushState=function(e,r,i){n.call(t.history,e,r,i),t.dispatchEvent(new Event("mp_locationchange"))});var i=t.history.replaceState;"function"===typeof i&&(t.history.replaceState=function(e,r,n){i.call(t.history,e,r,n),t.dispatchEvent(new Event("mp_locationchange"))}),t.addEventListener("mp_locationchange",function(){var t=x.info.currentUrl(),n=!1;("full-url"===e?n=t!==r:"url-with-path-and-query-string"===e?n=t.split("#")[0]!==r.split("#")[0]:"url-with-path"===e&&(n=t.split("#")[0].split("?")[0]!==r.split("#")[0].split("?")[0]),n)&&(this.track_pageview()&&(r=t))}.bind(this))}},We.prototype._prepare_callback=function(e,t){if(x.isUndefined(e))return null;if(Fe){return function(r){e(r,t)}}var r=this._jsc,n=""+Math.floor(1e8*Math.random()),i=this.get_config("callback_fn")+"["+n+"]";return r[n]=function(i){delete r[n],e(i,t)},i},We.prototype._send_request=function(e,t,r,n){var i=!0;if(Ue)return this.__request_queue.push(arguments),i;var a={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},o=null;n||!x.isFunction(r)&&"string"!==typeof r||(n=r,r=null),r=x.extend(a,r||{}),Fe||(r.method="GET");var s="POST"===r.method,u=Be&&s&&"sendbeacon"===r.transport.toLowerCase(),c=r.verbose;t.verbose&&(c=!0),this.get_config("test")&&(t.test=1),c&&(t.verbose=1),this.get_config("img")&&(t.img=1),Fe||(n?t.callback=n:(c||this.get_config("test"))&&(t.callback="(function(){})")),t.ip=this.get_config("ip")?1:0,t._=(new Date).getTime().toString(),s&&(o="data="+encodeURIComponent(t.data),delete t.data),e+="?"+x.HTTPBuildQuery(t);var l=this;if("img"in t){var d=f.createElement("img");d.src=e,f.body.appendChild(d)}else if(u){try{i=Be(e,o)}catch(y){l.report_error(y),i=!1}try{n&&n(i?1:0)}catch(y){l.report_error(y)}}else if(Fe)try{var h=new XMLHttpRequest;h.open(r.method,e,!0);var p=this.get_config("xhr_headers");if(s&&(p["Content-Type"]="application/x-www-form-urlencoded"),x.each(p,(function(e,t){h.setRequestHeader(t,e)})),r.timeout_ms&&"undefined"!==typeof h.timeout){h.timeout=r.timeout_ms;var v=(new Date).getTime()}h.withCredentials=!0,h.onreadystatechange=function(){var e;if(4===h.readyState)if(200===h.status){if(n)if(c){var t;try{t=x.JSONDecode(h.responseText)}catch(y){if(l.report_error(y),!r.ignore_json_errors)return;t=h.responseText}n(t)}else n(Number(h.responseText))}else e=h.timeout&&!h.status&&(new Date).getTime()-v>=h.timeout?"timeout":"Bad HTTP status: "+h.status+" "+h.statusText,l.report_error(e),n&&n(c?{status:0,error:e,xhr_req:h}:0)},h.send(o)}catch(y){l.report_error(y),i=!1}else{var g=f.createElement("script");g.type="text/javascript",g.async=!0,g.defer=!0,g.src=e;var m=f.getElementsByTagName("script")[0];m.parentNode.insertBefore(g,m)}return i},We.prototype._execute_array=function(e){var t,r=[],n=[],i=[];x.each(e,(function(e){e&&(t=e[0],x.isArray(t)?i.push(e):"function"===typeof e?e.call(this):x.isArray(e)&&"alias"===t?r.push(e):x.isArray(e)&&-1!==t.indexOf("track")&&"function"===typeof this[t]?i.push(e):n.push(e))}),this);var a=function(e,t){x.each(e,(function(e){if(x.isArray(e[0])){var r=t;x.each(e,(function(e){r=r[e[0]].apply(r,e.slice(1))}))}else this[e[0]].apply(this,e.slice(1))}),t)};a(r,this),a(n,this),a(i,this)},We.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events},We.prototype.get_batcher_configs=function(){var e="__mpq_"+this.get_config("token"),t=this.get_config("api_routes");return this._batcher_configs=this._batcher_configs||{events:{type:"events",endpoint:"/"+t.track,queue_key:e+"_ev"},people:{type:"people",endpoint:"/"+t.engage,queue_key:e+"_pp"},groups:{type:"groups",endpoint:"/"+t.groups,queue_key:e+"_gr"}},this._batcher_configs},We.prototype.init_batchers=function(){if(!this.are_batchers_initialized()){var e=x.bind((function(e){return new X(e.queue_key,{libConfig:this.config,sendRequestFunc:x.bind((function(t,r,n){this._send_request(this.get_config("api_host")+e.endpoint,this._encode_data_for_request(t),r,this._prepare_callback(n,t))}),this),beforeSendHook:x.bind((function(t){return this._run_hook("before_send_"+e.type,t)}),this),errorReporter:this.get_config("error_reporter"),stopAllBatchingFunc:x.bind(this.stop_batch_senders,this)})}),this),t=this.get_batcher_configs();this.request_batchers={events:e(t.events),people:e(t.people),groups:e(t.groups)}}this.get_config("batch_autostart")&&this.start_batch_senders()},We.prototype.start_batch_senders=function(){this._batchers_were_started=!0,this.are_batchers_initialized()&&(this._batch_requests=!0,x.each(this.request_batchers,(function(e){e.start()})))},We.prototype.stop_batch_senders=function(){this._batch_requests=!1,x.each(this.request_batchers,(function(e){e.stop(),e.clear()}))},We.prototype.push=function(e){this._execute_array([e])},We.prototype.disable=function(e){"undefined"===typeof e?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e)},We.prototype._encode_data_for_request=function(e){var t=x.JSONEncode(e);return this.get_config("api_payload_format")===Me&&(t=x.base64Encode(t)),{data:t}},We.prototype._track_or_batch=function(e,t){var r=x.truncate(e.data,255),n=e.endpoint,i=e.batcher,a=e.should_send_immediately,o=e.send_request_options||{};t=t||Le;var s=!0,u=x.bind((function(){return o.skip_hooks||(r=this._run_hook("before_send_"+e.type,r)),r?(w.log("MIXPANEL REQUEST:"),w.log(r),this._send_request(n,this._encode_data_for_request(r),o,this._prepare_callback(t,r))):null}),this);return this._batch_requests&&!a?i.enqueue(r,(function(e){e?t(1,r):u()})):s=u(),s&&r},We.prototype.track=ee((function(e,t,r,n){n||"function"!==typeof r||(n=r,r=null);var i=(r=r||{}).transport;i&&(r.transport=i);var a=r.send_immediately;if("function"!==typeof n&&(n=Le),x.isUndefined(e))this.report_error("No event name provided to mixpanel.track");else{if(!this._event_is_disabled(e)){(t=x.extend({},t)).token=this.get_config("token");var o=this.persistence.remove_event_timer(e);if(!x.isUndefined(o)){var s=(new Date).getTime()-o;t.$duration=parseFloat((s/1e3).toFixed(3))}this._set_default_superprops();var u=this.get_config("track_marketing")?x.info.marketingParams():{};t=x.extend({},x.info.properties({mp_loader:this.get_config("mp_loader")}),u,this.persistence.properties(),this.unpersisted_superprops,t);var c=this.get_config("property_blacklist");x.isArray(c)?x.each(c,(function(e){delete t[e]})):this.report_error("Invalid value for property_blacklist config: "+c);var l={event:e,properties:t};return this._track_or_batch({type:"events",data:l,endpoint:this.get_config("api_host")+"/"+this.get_config("api_routes").track,batcher:this.request_batchers.events,should_send_immediately:a,send_request_options:r},n)}n(0)}})),We.prototype.set_group=ee((function(e,t,r){x.isArray(t)||(t=[t]);var n={};return n[e]=t,this.register(n),this.people.set(e,t,r)})),We.prototype.add_group=ee((function(e,t,r){var n=this.get_property(e),i={};return void 0===n?(i[e]=[t],this.register(i)):-1===n.indexOf(t)&&(n.push(t),i[e]=n,this.register(i)),this.people.union(e,t,r)})),We.prototype.remove_group=ee((function(e,t,r){var n=this.get_property(e);if(void 0!==n){var i=n.indexOf(t);i>-1&&(n.splice(i,1),this.register({group_key:n})),0===n.length&&this.unregister(e)}return this.people.remove(e,t,r)})),We.prototype.track_with_groups=ee((function(e,t,r,n){var i=x.extend({},t||{});return x.each(r,(function(e,t){null!==e&&void 0!==e&&(i[t]=e)})),this.track(e,i,n)})),We.prototype._create_map_key=function(e,t){return e+"_"+JSON.stringify(t)},We.prototype._remove_group_from_cache=function(e,t){delete this._cached_groups[this._create_map_key(e,t)]},We.prototype.get_group=function(e,t){var r=this._create_map_key(e,t),n=this._cached_groups[r];return void 0!==n&&n._group_key===e&&n._group_id===t||((n=new me)._init(this,e,t),this._cached_groups[r]=n),n},We.prototype.track_pageview=ee((function(e,t){"object"!==typeof e&&(e={});var r=(t=t||{}).event_name||"$mp_web_page_view",n=x.extend(x.info.mpPageViewProperties(),x.info.campaignParams(),x.info.clickParams()),i=x.extend({},n,e);return this.track(r,i)})),We.prototype.track_links=function(){return this._track_dom.call(this,U,arguments)},We.prototype.track_forms=function(){return this._track_dom.call(this,B,arguments)},We.prototype.time_event=function(e){x.isUndefined(e)?this.report_error("No event name provided to mixpanel.time_event"):this._event_is_disabled(e)||this.persistence.set_event_timer(e,(new Date).getTime())};var ze={persistent:!0},Ye=function(e){var t;return t=x.isObject(e)?e:x.isUndefined(e)?{}:{days:e},x.extend({},ze,t)};We.prototype.register=function(e,t){var r=Ye(t);r.persistent?this.persistence.register(e,r.days):x.extend(this.unpersisted_superprops,e)},We.prototype.register_once=function(e,t,r){var n=Ye(r);n.persistent?this.persistence.register_once(e,t,n.days):("undefined"===typeof t&&(t="None"),x.each(e,(function(e,r){this.unpersisted_superprops.hasOwnProperty(r)&&this.unpersisted_superprops[r]!==t||(this.unpersisted_superprops[r]=e)}),this))},We.prototype.unregister=function(e,t){(t=Ye(t)).persistent?this.persistence.unregister(e):delete this.unpersisted_superprops[e]},We.prototype._register_single=function(e,t){var r={};r[e]=t,this.register(r)},We.prototype.identify=function(e,t,r,n,i,a,o,s){var u=this.get_distinct_id();if(e&&u!==e){if("string"===typeof e&&0===e.indexOf(De))return this.report_error("distinct_id cannot have $device: prefix"),-1;this.register({$user_id:e})}if(!this.get_property("$device_id")){var c=u;this.register_once({$had_persisted_distinct_id:!0,$device_id:c},"")}e!==u&&e!==this.get_property(Pe)&&(this.unregister(Pe),this.register({distinct_id:e})),this._flags.identify_called=!0,this.people._flush(t,r,n,i,a,o,s),e!==u&&this.track("$identify",{distinct_id:e,$anon_distinct_id:u},{skip_hooks:!0})},We.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1;var e=x.UUID();this.register_once({distinct_id:De+e,$device_id:e},"")},We.prototype.get_distinct_id=function(){return this.get_property("distinct_id")},We.prototype.alias=function(e,t){if(e===this.get_property(Ce))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var r=this;return x.isUndefined(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(Pe,e),this.track("$create_alias",{alias:e,distinct_id:t},{skip_hooks:!0},(function(){r.identify(e)}))):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(e),-1)},We.prototype.name_tag=function(e){this._register_single("mp_name_tag",e)},We.prototype.set_config=function(e){x.isObject(e)&&(x.extend(this.config,e),e.batch_size&&x.each(this.request_batchers,(function(e){e.resetBatchSize()})),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),r.DEBUG=r.DEBUG||this.get_config("debug"))},We.prototype.get_config=function(e){return this.config[e]},We.prototype._run_hook=function(e){var t=(this.config.hooks[e]||Ne).apply(this,s.call(arguments,1));return"undefined"===typeof t&&(this.report_error(e+" hook did not return a value"),t=null),t},We.prototype.get_property=function(e){return this.persistence.load_prop([e])},We.prototype.toString=function(){var e=this.get_config("name");return e!==je&&(e=je+"."+e),e},We.prototype._event_is_disabled=function(e){return x.isBlockedUA(v)||this._flags.disable_all_events||x.include(this.__disabled_events,e)},We.prototype._gdpr_init=function(){"localStorage"===this.get_config("opt_out_tracking_persistence_type")&&x.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_tracking()||!this.get_config("opt_out_tracking_by_default")&&!x.cookie.get("mp_optout")||(x.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))},We.prototype._gdpr_update_persistence=function(e){var t;if(e&&e.clear_persistence)t=!0;else{if(!e||!e.enable_persistence)return;t=!1}this.get_config("disable_persistence")||this.persistence.disabled===t||this.persistence.set_disabled(t),t?this.stop_batch_senders():this._batchers_were_started&&this.start_batch_senders()},We.prototype._gdpr_call_func=function(e,t){return t=x.extend({track:x.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},t),x.localStorage.is_supported()||(t.persistence_type="cookie"),e(this.get_config("token"),{track:t.track,trackEventName:t.track_event_name,trackProperties:t.track_properties,persistenceType:t.persistence_type,persistencePrefix:t.cookie_prefix,cookieDomain:t.cookie_domain,cookieExpiration:t.cookie_expiration,crossSiteCookie:t.cross_site_cookie,crossSubdomainCookie:t.cross_subdomain_cookie,secureCookie:t.secure_cookie,ignoreDnt:t.ignore_dnt})},We.prototype.opt_in_tracking=function(e){e=x.extend({enable_persistence:!0},e),this._gdpr_call_func(J,e),this._gdpr_update_persistence(e)},We.prototype.opt_out_tracking=function(e){(e=x.extend({clear_persistence:!0,delete_user:!0},e)).delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(Z,e),this._gdpr_update_persistence(e)},We.prototype.has_opted_in_tracking=function(e){return this._gdpr_call_func(Q,e)},We.prototype.has_opted_out_tracking=function(e){return this._gdpr_call_func($,e)},We.prototype.clear_opt_in_out_tracking=function(e){e=x.extend({enable_persistence:!0},e),this._gdpr_call_func(ne,e),this._gdpr_update_persistence(e)},We.prototype.report_error=function(e,t){w.error.apply(w.error,arguments);try{t||e instanceof Error||(e=new Error(e)),this.get_config("error_reporter")(e,t)}catch(t){w.error(t)}},We.prototype.init=We.prototype.init,We.prototype.reset=We.prototype.reset,We.prototype.disable=We.prototype.disable,We.prototype.time_event=We.prototype.time_event,We.prototype.track=We.prototype.track,We.prototype.track_links=We.prototype.track_links,We.prototype.track_forms=We.prototype.track_forms,We.prototype.track_pageview=We.prototype.track_pageview,We.prototype.register=We.prototype.register,We.prototype.register_once=We.prototype.register_once,We.prototype.unregister=We.prototype.unregister,We.prototype.identify=We.prototype.identify,We.prototype.alias=We.prototype.alias,We.prototype.name_tag=We.prototype.name_tag,We.prototype.set_config=We.prototype.set_config,We.prototype.get_config=We.prototype.get_config,We.prototype.get_property=We.prototype.get_property,We.prototype.get_distinct_id=We.prototype.get_distinct_id,We.prototype.toString=We.prototype.toString,We.prototype.opt_out_tracking=We.prototype.opt_out_tracking,We.prototype.opt_in_tracking=We.prototype.opt_in_tracking,We.prototype.has_opted_out_tracking=We.prototype.has_opted_out_tracking,We.prototype.has_opted_in_tracking=We.prototype.has_opted_in_tracking,We.prototype.clear_opt_in_out_tracking=We.prototype.clear_opt_in_out_tracking,We.prototype.get_group=We.prototype.get_group,We.prototype.set_group=We.prototype.set_group,We.prototype.add_group=We.prototype.add_group,We.prototype.remove_group=We.prototype.remove_group,We.prototype.track_with_groups=We.prototype.track_with_groups,We.prototype.start_batch_senders=We.prototype.start_batch_senders,We.prototype.stop_batch_senders=We.prototype.stop_batch_senders,We.prototype.DEFAULT_API_ROUTES=Ge,Re.prototype.properties=Re.prototype.properties,Re.prototype.update_search_keyword=Re.prototype.update_search_keyword,Re.prototype.update_referrer_info=Re.prototype.update_referrer_info,Re.prototype.get_cross_subdomain=Re.prototype.get_cross_subdomain,Re.prototype.clear=Re.prototype.clear;var Xe={},Ke=function(){Se.init=function(e,r,n){if(n)return Se[n]||(Se[n]=Xe[n]=qe(e,r,n),Se[n]._loaded()),Se[n];var i=Se;Xe[je]?i=Xe[je]:e&&((i=qe(e,r,je))._loaded(),Xe[je]=i),Se=i,1===be&&(t[je]=Se),x.each(Xe,(function(e,t){t!==je&&(Se[t]=e)})),Se._=x}};var Je=(be=0,Se=new We,Ke(),Se.init(),function(){function e(){e.done||(e.done=!0,He=!0,Ue=!1,x.each(Xe,(function(e){e._dom_loaded()})))}if(f.addEventListener)"complete"===f.readyState?e():f.addEventListener("DOMContentLoaded",e,!1);else if(f.attachEvent){f.attachEvent("onreadystatechange",e);var r=!1;try{r=null===t.frameElement}catch(n){}f.documentElement.doScroll&&r&&function t(){try{f.documentElement.doScroll("left")}catch(n){return void setTimeout(t,1)}e()}()}x.register_event(t,"load",e,!0)}(),Se);e.exports=Je},71843:function(e){"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))r.call(a,c)&&(s[c]=a[c]);if(t){o=t(a);for(var l=0;l<o.length;l++)n.call(a,o[l])&&(s[o[l]]=a[o[l]])}}return s}},18918:function(e){"use strict";e.exports=function(){var e={};return e.promise=new Promise((function(t,r){e.resolve=t,e.reject=r})),e}},61729:function(e,t,r){"use strict";var n=r(79165);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return r.PropTypes=r,r}},75192:function(e,t,r){e.exports=r(61729)()},79165:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},61291:function(e){var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(N){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),s=new I(n||[]);return i(o,"_invoke",{value:T(e,r,s)}),o}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",v="completed",g={};function m(){}function y(){}function b(){}var S={};c(S,o,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(O([])));x&&x!==r&&n.call(x,o)&&(S=x);var w=b.prototype=m.prototype=Object.create(S);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(i,a,o,s){var u=d(e[i],e,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"===typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function T(e,t,r){var n=f;return function(i,a){if(n===p)throw new Error("Generator is already running");if(n===v){if("throw"===i)throw a;return R()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=A(o,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=d(e,t,r);if("normal"===u.type){if(n=r.done?v:h,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=v,r.method="throw",r.arg=u.arg)}}}function A(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,A(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=d(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var r=e[o];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:R}}function R(){return{value:t,done:!0}}return y.prototype=b,i(w,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(_.prototype),c(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new _(l(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(w),c(w,u,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:O(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},13341:function(e,t,r){"use strict";r(93764),r(74065),r(44210),r(23663),r(30186),r(78199),r(2481),r(82585),r(16208),r(34071),r(64383),r(26655),r(90049),r(18152),r(65025),r(88424),r(89824),r(6805),r(50237),r(73990),r(28442),r(99149),r(40798),r(75292),r(33242),r(57359),r(10944),r(72047),r(73545),r(3167),r(39026),r(593),r(16631),r(46962),r(53870),r(208),r(89575),r(95671),r(23017),r(67576),r(86425),r(61728),r(49449),r(76001),r(49796),r(49998),r(62371),r(94097),r(34480),r(15485),r(40239),r(33968),r(88616),r(89918),r(93177),r(38552),r(97263),r(25222),r(10190),r(8716),r(68388),r(32613),r(20307),r(42968),r(34738),r(63590),r(14039),r(76118),r(13090),r(23440),r(83785),r(81669),r(28092),r(67972),r(16056),r(69286),r(57794),r(46040),r(11938),r(99588),r(25596),r(55820),r(66347),r(61658),r(38737),r(86659),r(64316),r(26578),r(19943),r(84377),r(99514),r(62690),r(7251),r(84019),r(67069),r(65458),r(7734),r(246),r(85387),r(28794),r(96832),r(36438),r(8902),r(27181),r(93158),r(42803),r(99155),r(9900),r(24670),r(38142),r(8999),r(63410),r(27909),r(4541),r(91038),r(925),r(87049),r(31677),r(34897),r(6234),r(75350),r(90192),r(44826),r(34379),r(12964),r(90463),r(71577),r(44113),r(52993),r(37428),r(78754),r(16402),r(37623),r(58074),r(8532),r(27788),r(27638),r(13473),r(470),r(10056),r(18497),r(23198),r(62319),r(86728),r(11430),r(33292),r(83938),r(1278),r(85179),r(89437),r(28702),r(79478),r(45686),r(92694),r(30743),r(40643),r(95338),r(47897),r(38601),r(64048),r(48582),r(36679),r(13835),r(39532),r(22754),r(56633),r(56038),r(92995),r(55429),r(60237),r(67366),r(25507),r(17619),r(36037),r(53245),r(91642),r(61291)},30534:function(e,t,r){"use strict";var n=r(47313),i=r(62224);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,r,n,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,r,n){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,D=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=n.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function G(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case x:return"Portal";case _:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return V(e(t))}catch(r){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function z(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=q(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var r=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function J(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=W(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Z(e,t);var r=W(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&X(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+W(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(te(r)){if(1<r.length)throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:W(r)}}function ae(e,t){var r=W(t.value),n=W(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=ve(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var me=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Se=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,we=null,ke=null;function _e(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=Ei(t),xe(e.stateNode,e.type,t))}}function Te(e){we?ke?ke.push(e):ke=[e]:we=e}function Ae(){if(we){var e=we,t=ke;if(ke=we=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ce(e,t){return e(t)}function Pe(){}var Ie=!1;function Oe(e,t,r){if(Ie)return e(t,r);Ie=!0;try{return Ce(e,t,r)}finally{Ie=!1,(null!==we||null!==ke)&&(Pe(),Ae())}}function Re(e,t){var r=e.stateNode;if(null===r)return null;var n=Ei(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var Ne=!1;if(l)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(le){Ne=!1}function je(e,t,r,n,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(l){this.onError(l)}}var Me=!1,De=null,Fe=!1,Ue=null,Be={onError:function(e){Me=!0,De=e}};function Ge(e,t,r,n,i,a,o,s,u){Me=!1,De=null,je.apply(Be,arguments)}function Ve(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return We(i),e;if(o===n)return We(i),t;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,u=i.child;u;){if(u===r){s=!0,r=i,n=o;break}if(u===n){s=!0,n=i,r=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===r){s=!0,r=o,n=i;break}if(u===n){s=!0,n=o,r=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e))?ze(e):null}function ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=ze(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ze=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,rt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&r;if(0!==o){var s=o&~i;0!==s?n=dt(s):0!==(a&=o)&&(n=dt(a))}else 0!==(o=r&~i)?n=dt(o):0!==a&&(n=dt(a));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&i)&&((i=n&-n)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-ot(t)),n|=e[r],t&=~i;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function mt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var bt=0;function St(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,xt,wt,kt,_t,Tt=!1,At=[],Ct=null,Pt=null,It=null,Ot=new Map,Rt=new Map,Nt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,r,n,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Dt(e){var t=yi(e.target);if(null!==t){var r=Ve(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=He(r)))return e.blockedOn=t,void _t(e.priority,(function(){wt(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=bi(r))&&xt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Se=n,r.target.dispatchEvent(n),Se=null,t.shift()}return!0}function Ut(e,t,r){Ft(e)&&r.delete(t)}function Bt(){Tt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==It&&Ft(It)&&(It=null),Ot.forEach(Ut),Rt.forEach(Ut)}function Gt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return Gt(t,e)}if(0<At.length){Gt(At[0],e);for(var r=1;r<At.length;r++){var n=At[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Ct&&Gt(Ct,e),null!==Pt&&Gt(Pt,e),null!==It&&Gt(It,e),Ot.forEach(t),Rt.forEach(t),r=0;r<Nt.length;r++)(n=Nt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Nt.length&&null===(r=Nt[0]).blockedOn;)Dt(r),null===r.blockedOn&&Nt.shift()}var Ht=S.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,r,n){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=1,Yt(e,t,r,n)}finally{bt=i,Ht.transition=a}}function zt(e,t,r,n){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=4,Yt(e,t,r,n)}finally{bt=i,Ht.transition=a}}function Yt(e,t,r,n){if(Wt){var i=Kt(e,t,r,n);if(null===i)Wn(e,t,n,Xt,r),jt(e,n);else if(function(e,t,r,n,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,r,n,i),!0;case"dragenter":return Pt=Mt(Pt,e,t,r,n,i),!0;case"mouseover":return It=Mt(It,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n))n.stopPropagation();else if(jt(e,n),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&Et(a),null===(a=Kt(e,t,r,n))&&Wn(e,t,n,Xt,r),a===i)break;i=a}null!==i&&n.stopPropagation()}else Wn(e,t,n,null,r)}}var Xt=null;function Kt(e,t,r,n){if(Xt=null,null!==(e=yi(e=Ee(n))))if(null===(t=Ve(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case $e:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Zt=null,Qt=null,$t=null;function er(){if($t)return $t;var e,t,r=Qt,n=r.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<n&&r[e]===i[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ir(e){function t(t,r,n,i,a){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ar,or,sr,ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ir(ur),lr=D({},ur,{view:0,detail:0}),dr=ir(lr),fr=D({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&"mousemove"===e.type?(ar=e.screenX-sr.screenX,or=e.screenY-sr.screenY):or=ar=0,sr=e),ar)},movementY:function(e){return"movementY"in e?e.movementY:or}}),hr=ir(fr),pr=ir(D({},fr,{dataTransfer:0})),vr=ir(D({},lr,{relatedTarget:0})),gr=ir(D({},ur,{animationName:0,elapsedTime:0,pseudoElement:0})),mr=D({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=ir(mr),br=ir(D({},ur,{data:0})),Sr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Er={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xr[e])&&!!t[e]}function kr(){return wr}var _r=D({},lr,{key:function(e){if(e.key){var t=Sr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Er[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tr=ir(_r),Ar=ir(D({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cr=ir(D({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr})),Pr=ir(D({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ir=D({},fr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Or=ir(Ir),Rr=[9,13,27,32],Nr=l&&"CompositionEvent"in window,Lr=null;l&&"documentMode"in document&&(Lr=document.documentMode);var jr=l&&"TextEvent"in window&&!Lr,Mr=l&&(!Nr||Lr&&8<Lr&&11>=Lr),Dr=String.fromCharCode(32),Fr=!1;function Ur(e,t){switch(e){case"keyup":return-1!==Rr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gr=!1;var Vr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vr[e.type]:"textarea"===t}function Wr(e,t,r,n){Te(n),0<(t=zn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var qr=null,zr=null;function Yr(e){Fn(e,0)}function Xr(e){if(Y(Si(e)))return e}function Kr(e,t){if("change"===e)return t}var Jr=!1;if(l){var Zr;if(l){var Qr="oninput"in document;if(!Qr){var $r=document.createElement("div");$r.setAttribute("oninput","return;"),Qr="function"===typeof $r.oninput}Zr=Qr}else Zr=!1;Jr=Zr&&(!document.documentMode||9<document.documentMode)}function en(){qr&&(qr.detachEvent("onpropertychange",tn),zr=qr=null)}function tn(e){if("value"===e.propertyName&&Xr(zr)){var t=[];Wr(t,zr,e,Ee(e)),Oe(Yr,t)}}function rn(e,t,r){"focusin"===e?(en(),zr=r,(qr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xr(zr)}function an(e,t){if("click"===e)return Xr(t)}function on(e,t){if("input"===e||"change"===e)return Xr(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function un(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!d.call(t,i)||!sn(e[i],t[i]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ln(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fn(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=X((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=fn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dn(r.ownerDocument.documentElement,r)){if(null!==n&&hn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=void 0===n.end?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=ln(r,a);var o=ln(r,n);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vn=l&&"documentMode"in document&&11>=document.documentMode,gn=null,mn=null,yn=null,bn=!1;function Sn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==gn||gn!==X(n)||("selectionStart"in(n=gn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&un(yn,n)||(yn=n,0<(n=zn(mn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function En(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xn={animationend:En("Animation","AnimationEnd"),animationiteration:En("Animation","AnimationIteration"),animationstart:En("Animation","AnimationStart"),transitionend:En("Transition","TransitionEnd")},wn={},kn={};function _n(e){if(wn[e])return wn[e];if(!xn[e])return e;var t,r=xn[e];for(t in r)if(r.hasOwnProperty(t)&&t in kn)return wn[e]=r[t];return e}l&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete xn.animationend.animation,delete xn.animationiteration.animation,delete xn.animationstart.animation),"TransitionEvent"in window||delete xn.transitionend.transition);var Tn=_n("animationend"),An=_n("animationiteration"),Cn=_n("animationstart"),Pn=_n("transitionend"),In=new Map,On="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(e,t){In.set(e,t),u(t,[e])}for(var Nn=0;Nn<On.length;Nn++){var Ln=On[Nn];Rn(Ln.toLowerCase(),"on"+(Ln[0].toUpperCase()+Ln.slice(1)))}Rn(Tn,"onAnimationEnd"),Rn(An,"onAnimationIteration"),Rn(Cn,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(Pn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mn=new Set("cancel close invalid load scroll toggle".split(" ").concat(jn));function Dn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,i,o,s,u,c){if(Ge.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=De;Me=!1,De=null,Fe||(Fe=!0,Ue=l)}}(n,t,void 0,e),e.currentTarget=null}function Fn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Dn(i,s,c),a=u}else for(o=0;o<n.length;o++){if(u=(s=n[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Dn(i,s,c),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Un(e,t){var r=t[vi];void 0===r&&(r=t[vi]=new Set);var n=e+"__bubble";r.has(n)||(Hn(t,e,2,!1),r.add(n))}function Bn(e,t,r){var n=0;t&&(n|=4),Hn(r,e,n,t)}var Gn="_reactListening"+Math.random().toString(36).slice(2);function Vn(e){if(!e[Gn]){e[Gn]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mn.has(t)||Bn(t,!1,e),Bn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Gn]||(t[Gn]=!0,Bn("selectionchange",!1,t))}}function Hn(e,t,r,n){switch(Jt(t)){case 1:var i=qt;break;case 4:i=zt;break;default:i=Yt}r=i.bind(null,t,r,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Wn(e,t,r,n,i){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var s=n.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=n.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){n=a=o;continue e}s=s.parentNode}}n=n.return}Oe((function(){var n=a,i=Ee(r),o=[];e:{var s=In.get(e);if(void 0!==s){var u=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":u=Tr;break;case"focusin":c="focus",u=vr;break;case"focusout":c="blur",u=vr;break;case"beforeblur":case"afterblur":u=vr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cr;break;case Tn:case An:case Cn:u=gr;break;case Pn:u=Pr;break;case"scroll":u=dr;break;case"wheel":u=Or;break;case"copy":case"cut":case"paste":u=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Ar}var l=0!==(4&t),d=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=n;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==f&&(null!=(v=Re(p,f))&&l.push(qn(p,v,h)))),d)break;p=p.return}0<l.length&&(s=new u(s,c,null,r,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===Se||!(c=r.relatedTarget||r.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=n,null!==(c=(c=r.relatedTarget||r.toElement)?yi(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=n),u!==c)){if(l=hr,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Ar,v="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==u?s:Si(u),h=null==c?s:Si(c),(s=new l(v,p+"leave",u,r,i)).target=d,s.relatedTarget=h,v=null,yi(i)===n&&((l=new l(f,p+"enter",c,r,i)).target=h,l.relatedTarget=d,v=l),d=v,u&&c)e:{for(f=c,p=0,h=l=u;h;h=Yn(h))p++;for(h=0,v=f;v;v=Yn(v))h++;for(;0<p-h;)l=Yn(l),p--;for(;0<h-p;)f=Yn(f),h--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Yn(l),f=Yn(f)}l=null}else l=null;null!==u&&Xn(o,s,u,l,!1),null!==c&&null!==d&&Xn(o,d,c,l,!0)}if("select"===(u=(s=n?Si(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Kr;else if(Hr(s))if(Jr)g=on;else{g=nn;var m=rn}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=an);switch(g&&(g=g(e,n))?Wr(o,g,r,i):(m&&m(e,s,n),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=n?Si(n):window,e){case"focusin":(Hr(m)||"true"===m.contentEditable)&&(gn=m,mn=n,yn=null);break;case"focusout":yn=mn=gn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,Sn(o,r,i);break;case"selectionchange":if(vn)break;case"keydown":case"keyup":Sn(o,r,i)}var y;if(Nr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gr?Ur(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Mr&&"ko"!==r.locale&&(Gr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Gr&&(y=er()):(Qt="value"in(Zt=i)?Zt.value:Zt.textContent,Gr=!0)),0<(m=zn(n,b)).length&&(b=new br(b,e,null,r,i),o.push({event:b,listeners:m}),y?b.data=y:null!==(y=Br(r))&&(b.data=y))),(y=jr?function(e,t){switch(e){case"compositionend":return Br(t);case"keypress":return 32!==t.which?null:(Fr=!0,Dr);case"textInput":return(e=t.data)===Dr&&Fr?null:e;default:return null}}(e,r):function(e,t){if(Gr)return"compositionend"===e||!Nr&&Ur(e,t)?(e=er(),$t=Qt=Zt=null,Gr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=zn(n,"onBeforeInput")).length&&(i=new br("onBeforeInput","beforeinput",null,r,i),o.push({event:i,listeners:n}),i.data=y))}Fn(o,t)}))}function qn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zn(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,r))&&n.unshift(qn(e,a,i)),null!=(a=Re(e,t))&&n.push(qn(e,a,i))),e=e.return}return n}function Yn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xn(e,t,r,n,i){for(var a=t._reactName,o=[];null!==r&&r!==n;){var s=r,u=s.alternate,c=s.stateNode;if(null!==u&&u===n)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(r,a))&&o.unshift(qn(r,u,s)):i||null!=(u=Re(r,a))&&o.push(qn(r,u,s))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var Kn=/\r\n?/g,Jn=/\u0000|\uFFFD/g;function Zn(e){return("string"===typeof e?e:""+e).replace(Kn,"\n").replace(Jn,"")}function Qn(e,t,r){if(t=Zn(t),Zn(e)!==t&&r)throw Error(a(425))}function $n(){}var ei=null,ti=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ni="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ni;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return e.removeChild(i),void Vt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,vi="__reactEvents$"+di,gi="__reactListeners$"+di,mi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pi]||r[fi]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=li(e);null!==e;){if(r=e[fi])return r;e=li(e)}return t}r=(e=r).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Si(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Ei(e){return e[hi]||null}var xi=[],wi=-1;function ki(e){return{current:e}}function _i(e){0>wi||(e.current=xi[wi],xi[wi]=null,wi--)}function Ti(e,t){wi++,xi[wi]=e.current,e.current=t}var Ai={},Ci=ki(Ai),Pi=ki(!1),Ii=Ai;function Oi(e,t){var r=e.type.contextTypes;if(!r)return Ai;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in r)a[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){_i(Pi),_i(Ci)}function Li(e,t,r){if(Ci.current!==Ai)throw Error(a(168));Ti(Ci,t),Ti(Pi,r)}function ji(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return D({},r,n)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Ii=Ci.current,Ti(Ci,e),Ti(Pi,Pi.current),!0}function Di(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=ji(e,t,Ii),n.__reactInternalMemoizedMergedChildContext=e,_i(Pi),_i(Ci),Ti(Ci,e)):_i(Pi),Ti(Pi,r)}var Fi=null,Ui=!1,Bi=!1;function Gi(e){null===Fi?Fi=[e]:Fi.push(e)}function Vi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=bt;try{var r=Fi;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ye($e,Vi),i}finally{bt=t,Bi=!1}}return null}var Hi=[],Wi=0,qi=null,zi=0,Yi=[],Xi=0,Ki=null,Ji=1,Zi="";function Qi(e,t){Hi[Wi++]=zi,Hi[Wi++]=qi,qi=e,zi=t}function $i(e,t,r){Yi[Xi++]=Ji,Yi[Xi++]=Zi,Yi[Xi++]=Ki,Ki=e;var n=Ji;e=Zi;var i=32-ot(n)-1;n&=~(1<<i),r+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ji=1<<32-ot(t)+i|r<<i|n,Zi=a+e}else Ji=1<<a|r<<i|n,Zi=e}function ea(e){null!==e.return&&(Qi(e,1),$i(e,1,0))}function ta(e){for(;e===qi;)qi=Hi[--Wi],Hi[Wi]=null,zi=Hi[--Wi],Hi[Wi]=null;for(;e===Ki;)Ki=Yi[--Xi],Yi[Xi]=null,Zi=Yi[--Xi],Yi[Xi]=null,Ji=Yi[--Xi],Yi[Xi]=null}var ra=null,na=null,ia=!1,aa=null;function oa(e,t){var r=Rc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function sa(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,na=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,na=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Ki?{id:Ji,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Rc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ra=e,na=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=na;if(t){var r=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(r.nextSibling);var n=ra;t&&sa(e,t)?oa(n,r):(e.flags=-4097&e.flags|2,ia=!1,ra=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,ra=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function da(e){if(e!==ra)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=na)){if(ua(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){na=ci(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}na=null}}else na=ra?ci(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=na;e;)e=ci(e.nextSibling)}function ha(){na=ra=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=S.ReactCurrentBatchConfig;function ga(e,t){if(e&&e.defaultProps){for(var r in t=D({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var ma=ki(null),ya=null,ba=null,Sa=null;function Ea(){Sa=ba=ya=null}function xa(e){var t=ma.current;_i(ma),e._currentValue=t}function wa(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ka(e,t){ya=e,Sa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ss=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(Sa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ta=null;function Aa(e){null===Ta?Ta=[e]:Ta.push(e)}function Ca(e,t,r,n){var i=t.interleaved;return null===i?(r.next=r,Aa(t)):(r.next=i.next,i.next=r),t.interleaved=r,Pa(e,n)}function Pa(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ia=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Na(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function La(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Pu)){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Pa(e,r)}return null===(i=n.interleaved)?(t.next=t,Aa(n)):(t.next=i.next,i.next=t),n.interleaved=t,Pa(e,r)}function ja(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}function Ma(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?i=a=o:a=a.next=o,r=r.next}while(null!==r);null===a?i=a=t:a=a.next=t}else i=a=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Da(e,t,r,n){var i=e.updateQueue;Ia=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var d=i.baseState;for(o=0,l=c=u=null,s=a;;){var f=s.lane,h=s.eventTime;if((n&f)===f){null!==l&&(l=l.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,h=r,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(h,d,f):p)||void 0===f)break e;d=D({},d,f);break e;case 2:Ia=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=h,u=d):l=l.next=h,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=d),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Du|=o,e.lanes=o,e.memoizedState=d}}function Fa(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(a(191,i));i.call(n)}}}var Ua=(new n.Component).refs;function Ba(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:D({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var Ga={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=tc(),i=rc(e),a=Na(n,i);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=La(e,a,i))&&(nc(t,e,i,n),ja(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=tc(),i=rc(e),a=Na(n,i);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=La(e,a,i))&&(nc(t,e,i,n),ja(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=tc(),n=rc(e),i=Na(r,n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=La(e,i,n))&&(nc(t,e,n,r),ja(t,e,n))}};function Va(e,t,r,n,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!un(r,n)||!un(i,a))}function Ha(e,t,r){var n=!1,i=Ai,a=t.contextType;return"object"===typeof a&&null!==a?a=_a(a):(i=Ri(t)?Ii:Ci.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?Oi(e,i):Ai),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ga,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ga.enqueueReplaceState(t,t.state,null)}function qa(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=Ua,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=_a(a):(a=Ri(t)?Ii:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ga.enqueueReplaceState(i,i.state,null),Da(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function za(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var i=n,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function Ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xa(e){return(0,e._init)(e._payload)}function Ka(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,r,n){return null===t||6!==t.tag?((t=Fc(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function c(e,t,r,n){var a=r.type;return a===w?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Xa(a)===t.type)?((n=i(t,r.props)).ref=za(e,t,r),n.return=e,n):((n=jc(r.type,r.key,r.props,null,e.mode,n)).ref=za(e,t,r),n.return=e,n)}function l(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Uc(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function d(e,t,r,n,a){return null===t||7!==t.tag?((t=Mc(r,e.mode,n,a)).return=e,t):((t=i(t,r)).return=e,t)}function f(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(r=jc(t.type,t.key,t.props,null,e.mode,r)).ref=za(e,null,t),r.return=e,r;case x:return(t=Uc(t,e.mode,r)).return=e,t;case R:return f(e,(0,t._init)(t._payload),r)}if(te(t)||j(t))return(t=Mc(t,e.mode,r,null)).return=e,t;Ya(e,t)}return null}function h(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==i?null:u(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return r.key===i?c(e,t,r,n):null;case x:return r.key===i?l(e,t,r,n):null;case R:return h(e,t,(i=r._init)(r._payload),n)}if(te(r)||j(r))return null!==i?null:d(e,t,r,n,null);Ya(e,r)}return null}function p(e,t,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n)return u(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return c(t,e=e.get(null===n.key?r:n.key)||null,n,i);case x:return l(t,e=e.get(null===n.key?r:n.key)||null,n,i);case R:return p(e,t,r,(0,n._init)(n._payload),i)}if(te(n)||j(n))return d(t,e=e.get(r)||null,n,i,null);Ya(t,n)}return null}function v(i,a,s,u){for(var c=null,l=null,d=a,v=a=0,g=null;null!==d&&v<s.length;v++){d.index>v?(g=d,d=null):g=d.sibling;var m=h(i,d,s[v],u);if(null===m){null===d&&(d=g);break}e&&d&&null===m.alternate&&t(i,d),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,d=g}if(v===s.length)return r(i,d),ia&&Qi(i,v),c;if(null===d){for(;v<s.length;v++)null!==(d=f(i,s[v],u))&&(a=o(d,a,v),null===l?c=d:l.sibling=d,l=d);return ia&&Qi(i,v),c}for(d=n(i,d);v<s.length;v++)null!==(g=p(d,i,v,s[v],u))&&(e&&null!==g.alternate&&d.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return e&&d.forEach((function(e){return t(i,e)})),ia&&Qi(i,v),c}function g(i,s,u,c){var l=j(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var d=l=null,v=s,g=s=0,m=null,y=u.next();null!==v&&!y.done;g++,y=u.next()){v.index>g?(m=v,v=null):m=v.sibling;var b=h(i,v,y.value,c);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,g),null===d?l=b:d.sibling=b,d=b,v=m}if(y.done)return r(i,v),ia&&Qi(i,g),l;if(null===v){for(;!y.done;g++,y=u.next())null!==(y=f(i,y.value,c))&&(s=o(y,s,g),null===d?l=y:d.sibling=y,d=y);return ia&&Qi(i,g),l}for(v=n(i,v);!y.done;g++,y=u.next())null!==(y=p(v,i,g,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?l=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Qi(i,g),l}return function e(n,a,o,u){if("object"===typeof o&&null!==o&&o.type===w&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case E:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===w){if(7===l.tag){r(n,l.sibling),(a=i(l,o.props.children)).return=n,n=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Xa(c)===l.type){r(n,l.sibling),(a=i(l,o.props)).ref=za(n,l,o),a.return=n,n=a;break e}r(n,l);break}t(n,l),l=l.sibling}o.type===w?((a=Mc(o.props.children,n.mode,u,o.key)).return=n,n=a):((u=jc(o.type,o.key,o.props,null,n.mode,u)).ref=za(n,a,o),u.return=n,n=u)}return s(n);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){r(n,a.sibling),(a=i(a,o.children||[])).return=n,n=a;break e}r(n,a);break}t(n,a),a=a.sibling}(a=Uc(o,n.mode,u)).return=n,n=a}return s(n);case R:return e(n,a,(l=o._init)(o._payload),u)}if(te(o))return v(n,a,o,u);if(j(o))return g(n,a,o,u);Ya(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(r(n,a.sibling),(a=i(a,o)).return=n,n=a):(r(n,a),(a=Fc(o,n.mode,u)).return=n,n=a),s(n)):r(n,a)}}var Ja=Ka(!0),Za=Ka(!1),Qa={},$a=ki(Qa),eo=ki(Qa),to=ki(Qa);function ro(e){if(e===Qa)throw Error(a(174));return e}function no(e,t){switch(Ti(to,t),Ti(eo,e),Ti($a,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i($a),Ti($a,t)}function io(){_i($a),_i(eo),_i(to)}function ao(e){ro(to.current);var t=ro($a.current),r=ue(t,e.type);t!==r&&(Ti(eo,e),Ti($a,r))}function oo(e){eo.current===e&&(_i($a),_i(eo))}var so=ki(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=S.ReactCurrentDispatcher,ho=S.ReactCurrentBatchConfig,po=0,vo=null,go=null,mo=null,yo=!1,bo=!1,So=0,Eo=0;function xo(){throw Error(a(321))}function wo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function ko(e,t,r,n,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=r(n,i),bo){o=0;do{if(bo=!1,So=0,25<=o)throw Error(a(301));o+=1,mo=go=null,t.updateQueue=null,fo.current=cs,e=r(n,i)}while(bo)}if(fo.current=os,t=null!==go&&null!==go.next,po=0,mo=go=vo=null,yo=!1,t)throw Error(a(300));return e}function _o(){var e=0!==So;return So=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function Ao(){if(null===go){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,go=e;else{if(null===e)throw Error(a(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"===typeof t?t(e):t}function Po(e){var t=Ao(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=go,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(null!==i){o=i.next,n=n.baseState;var u=s=null,c=null,l=o;do{var d=l.lane;if((po&d)===d)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var f={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=n):c=c.next=f,vo.lanes|=d,Du|=d}l=l.next}while(null!==l&&l!==o);null===c?s=n:c.next=u,sn(n,t.memoizedState)||(Ss=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Du|=o,i=i.next}while(i!==e)}else null===i&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Io(e){var t=Ao(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sn(o,t.memoizedState)||(Ss=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Oo(){}function Ro(e,t){var r=vo,n=Ao(),i=t(),o=!sn(n.memoizedState,i);if(o&&(n.memoizedState=i,Ss=!0),n=n.queue,Wo(jo.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(r.flags|=2048,Uo(9,Lo.bind(null,r,n,i,t),void 0,null),null===Iu)throw Error(a(349));0!==(30&po)||No(r,t,i)}return i}function No(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Lo(e,t,r,n){t.value=r,t.getSnapshot=n,Mo(t)&&Do(e)}function jo(e,t,r){return r((function(){Mo(t)&&Do(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch(n){return!0}}function Do(e){var t=Pa(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=rs.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Bo(){return Ao().memoizedState}function Go(e,t,r,n){var i=To();vo.flags|=e,i.memoizedState=Uo(1|t,r,void 0,void 0===n?null:n)}function Vo(e,t,r,n){var i=Ao();n=void 0===n?null:n;var a=void 0;if(null!==go){var o=go.memoizedState;if(a=o.destroy,null!==n&&wo(n,o.deps))return void(i.memoizedState=Uo(t,r,a,n))}vo.flags|=e,i.memoizedState=Uo(1|t,r,a,n)}function Ho(e,t){return Go(8390656,8,e,t)}function Wo(e,t){return Vo(2048,8,e,t)}function qo(e,t){return Vo(4,2,e,t)}function zo(e,t){return Vo(4,4,e,t)}function Yo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xo(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Vo(4,4,Yo.bind(null,t,e),r)}function Ko(){}function Jo(e,t){var r=Ao();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&wo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Zo(e,t){var r=Ao();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&wo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Qo(e,t,r){return 0===(21&po)?(e.baseState&&(e.baseState=!1,Ss=!0),e.memoizedState=r):(sn(r,t)||(r=vt(),vo.lanes|=r,Du|=r,e.baseState=!0),t)}function $o(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=r,ho.transition=n}}function es(){return Ao().memoizedState}function ts(e,t,r){var n=rc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ns(e))is(t,r);else if(null!==(r=Ca(e,t,r,n))){nc(r,e,n,tc()),as(r,t,n)}}function rs(e,t,r){var n=rc(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ns(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,sn(s,o)){var u=t.interleaved;return null===u?(i.next=i,Aa(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(r=Ca(e,t,i,n))&&(nc(r,e,n,i=tc()),as(r,t,n))}}function ns(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=yo=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function as(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}var os={readContext:_a,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:_a,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:Ho,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Go(4194308,4,Yo.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Go(4194308,4,e,t)},useInsertionEffect:function(e,t){return Go(4,2,e,t)},useMemo:function(e,t){var r=To();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=To();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ts.bind(null,vo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:Ko,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=$o.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=vo,i=To();if(ia){if(void 0===r)throw Error(a(407));r=r()}else{if(r=t(),null===Iu)throw Error(a(349));0!==(30&po)||No(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,Ho(jo.bind(null,n,o,e),[e]),n.flags|=2048,Uo(9,Lo.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=To(),t=Iu.identifierPrefix;if(ia){var r=Zi;t=":"+t+"R"+(r=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+r),0<(r=So++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=Eo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:_a,useCallback:Jo,useContext:_a,useEffect:Wo,useImperativeHandle:Xo,useInsertionEffect:qo,useLayoutEffect:zo,useMemo:Zo,useReducer:Po,useRef:Bo,useState:function(){return Po(Co)},useDebugValue:Ko,useDeferredValue:function(e){return Qo(Ao(),go.memoizedState,e)},useTransition:function(){return[Po(Co)[0],Ao().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},cs={readContext:_a,useCallback:Jo,useContext:_a,useEffect:Wo,useImperativeHandle:Xo,useInsertionEffect:qo,useLayoutEffect:zo,useMemo:Zo,useReducer:Io,useRef:Bo,useState:function(){return Io(Co)},useDebugValue:Ko,useDeferredValue:function(e){var t=Ao();return null===go?t.memoizedState=e:Qo(t,go.memoizedState,e)},useTransition:function(){return[Io(Co)[0],Ao().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var r="",n=t;do{r+=G(n),n=n.return}while(n);var i=r}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,r){(r=Na(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){qu||(qu=!0,zu=n),fs(0,t)},r}function vs(e,t,r){(r=Na(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){fs(0,t),"function"!==typeof n&&(null===Yu?Yu=new Set([this]):Yu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function gs(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new hs;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Tc.bind(null,e,t,r),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,r,n,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Na(-1,1)).tag=2,La(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=S.ReactCurrentOwner,Ss=!1;function Es(e,t,r,n){t.child=null===e?Za(t,null,r,n):Ja(t,e.child,r,n)}function xs(e,t,r,n,i){r=r.render;var a=t.ref;return ka(t,i),n=ko(e,t,r,n,a,i),r=_o(),null===e||Ss?(ia&&r&&ea(t),t.flags|=1,Es(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function ws(e,t,r,n,i){if(null===e){var a=r.type;return"function"!==typeof a||Nc(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=jc(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ks(e,t,a,n,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((r=null!==(r=r.compare)?r:un)(o,n)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Lc(a,n)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,r,n,i){if(null!==e){var a=e.memoizedProps;if(un(a,n)&&e.ref===t.ref){if(Ss=!1,t.pendingProps=n=a,0===(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);0!==(131072&e.flags)&&(Ss=!0)}}return As(e,t,r,n,i)}function _s(e,t,r){var n=t.pendingProps,i=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Lu,Nu),Nu|=r;else{if(0===(1073741824&r))return e=null!==a?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Lu,Nu),Nu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==a?a.baseLanes:r,Ti(Lu,Nu),Nu|=n}else null!==a?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ti(Lu,Nu),Nu|=n;return Es(e,t,i,r),t.child}function Ts(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,r,n,i){var a=Ri(r)?Ii:Ci.current;return a=Oi(t,a),ka(t,i),r=ko(e,t,r,n,a,i),n=_o(),null===e||Ss?(ia&&n&&ea(t),t.flags|=1,Es(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Cs(e,t,r,n,i){if(Ri(r)){var a=!0;Mi(t)}else a=!1;if(ka(t,i),null===t.stateNode)Ws(e,t),Ha(t,r,n),qa(t,r,n,i),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=r.contextType;"object"===typeof c&&null!==c?c=_a(c):c=Oi(t,c=Ri(r)?Ii:Ci.current);var l=r.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||u!==c)&&Wa(t,o,n,c),Ia=!1;var f=t.memoizedState;o.state=f,Da(t,n,o,i),u=t.memoizedState,s!==n||f!==u||Pi.current||Ia?("function"===typeof l&&(Ba(t,r,l,n),u=t.memoizedState),(s=Ia||Va(t,r,s,n,f,u,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=c,n=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ga(t.type,s),o.props=c,d=t.pendingProps,f=o.context,"object"===typeof(u=r.contextType)&&null!==u?u=_a(u):u=Oi(t,u=Ri(r)?Ii:Ci.current);var h=r.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==u)&&Wa(t,o,n,u),Ia=!1,f=t.memoizedState,o.state=f,Da(t,n,o,i);var p=t.memoizedState;s!==d||f!==p||Pi.current||Ia?("function"===typeof h&&(Ba(t,r,h,n),p=t.memoizedState),(c=Ia||Va(t,r,c,n,f,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=u,n=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Ps(e,t,r,n,a,i)}function Ps(e,t,r,n,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!n&&!o)return i&&Di(t,r,!1),qs(e,t,a);n=t.stateNode,bs.current=t;var s=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,s,a)):Es(e,t,s,a),t.memoizedState=n.state,i&&Di(t,r,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),no(e,t.containerInfo)}function Os(e,t,r,n,i){return ha(),pa(i),t.flags|=256,Es(e,t,r,n),t.child}var Rs,Ns,Ls,js,Ms={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,r){var n,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((n=u)||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Dc(u,i,0,null),e=Mc(e,i,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(r),t.memoizedState=Ms,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,i,o,s){if(r)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,n=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=Dc({mode:"visible",children:n.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!==(1&t.mode)&&Ja(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(n=i.nextSibling&&i.nextSibling.dataset)var u=n.dgst;return n=u,Bs(e,t,s,n=ds(o=Error(a(419)),n,void 0))}if(u=0!==(s&e.childLanes),Ss||u){if(null!==(n=Iu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(n.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Pa(e,i),nc(n,e,i,-1))}return gc(),Bs(e,t,s,n=ds(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,na=ci(i.nextSibling),ra=t,ia=!0,aa=null,null!==e&&(Yi[Xi++]=Ji,Yi[Xi++]=Zi,Yi[Xi++]=Ki,Ji=e.id,Zi=e.overflow,Ki=t),t=Us(t,n.children),t.flags|=4096,t)}(e,t,u,i,n,o,r);if(s){s=i.fallback,u=t.mode,n=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Lc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==n?s=Lc(n,s):(s=Mc(s,u,r,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ds(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~r,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Lc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=r),i.return=t,i.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,r,n){return null!==n&&pa(n),Ja(t,e.child,null,r),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Gs(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),wa(e.return,t,r)}function Vs(e,t,r,n,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Hs(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Es(e,t,n.children,r),0!==(2&(n=so.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Gs(e,r,t);else if(19===e.tag)Gs(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ti(so,n),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===uo(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Vs(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Vs(t,!0,r,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Du|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Lc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Lc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function zs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Xs(e,t,r){var n=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(t),null;case 1:case 17:return Ri(t.type)&&Ni(),Ys(t),null;case 3:return n=t.stateNode,io(),_i(Pi),_i(Ci),lo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Ns(e,t),Ys(t),null;case 5:oo(t);var i=ro(to.current);if(r=t.type,null!==e&&null!=t.stateNode)Ls(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(a(166));return Ys(t),null}if(e=ro($a.current),da(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[fi]=t,n[hi]=o,e=0!==(1&t.mode),r){case"dialog":Un("cancel",n),Un("close",n);break;case"iframe":case"object":case"embed":Un("load",n);break;case"video":case"audio":for(i=0;i<jn.length;i++)Un(jn[i],n);break;case"source":Un("error",n);break;case"img":case"image":case"link":Un("error",n),Un("load",n);break;case"details":Un("toggle",n);break;case"input":J(n,o),Un("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Un("invalid",n);break;case"textarea":ie(n,o),Un("invalid",n)}for(var u in ye(r,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?n.textContent!==c&&(!0!==o.suppressHydrationWarning&&Qn(n.textContent,c,e),i=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Qn(n.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Un("scroll",n)}switch(r){case"input":z(n),$(n,o,!0);break;case"textarea":z(n),oe(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=$n)}n=i,t.updateQueue=n,null!==n&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),"select"===r&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r),e[fi]=t,e[hi]=n,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(r,n),r){case"dialog":Un("cancel",e),Un("close",e),i=n;break;case"iframe":case"object":case"embed":Un("load",e),i=n;break;case"video":case"audio":for(i=0;i<jn.length;i++)Un(jn[i],e);i=n;break;case"source":Un("error",e),i=n;break;case"img":case"image":case"link":Un("error",e),Un("load",e),i=n;break;case"details":Un("toggle",e),i=n;break;case"input":J(e,n),i=K(e,n),Un("invalid",e);break;case"option":default:i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=D({},n,{value:void 0}),Un("invalid",e);break;case"textarea":ie(e,n),i=ne(e,n),Un("invalid",e)}for(o in ye(r,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ge(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===o?"string"===typeof l?("textarea"!==r||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Un("scroll",e):null!=l&&b(e,o,l,u))}switch(r){case"input":z(e),$(e,n,!1);break;case"textarea":z(e),oe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+W(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?re(e,!!n.multiple,o,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$n)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ys(t),null;case 6:if(e&&null!=t.stateNode)js(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));if(r=ro(to.current),ro($a.current),da(t)){if(n=t.stateNode,r=t.memoizedProps,n[fi]=t,(o=n.nodeValue!==r)&&null!==(e=ra))switch(e.tag){case 3:Qn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qn(n.nodeValue,r,0!==(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[fi]=t,t.stateNode=n}return Ys(t),null;case 13:if(_i(so),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==na&&0!==(1&t.mode)&&0===(128&t.flags))fa(),ha(),t.flags|=98560,o=!1;else if(o=da(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ys(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===ju&&(ju=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ys(t),null);case 4:return io(),Ns(e,t),null===e&&Vn(t.stateNode.containerInfo),Ys(t),null;case 10:return xa(t.type._context),Ys(t),null;case 19:if(_i(so),null===(o=t.memoizedState))return Ys(t),null;if(n=0!==(128&t.flags),null===(u=o.rendering))if(n)zs(o,!1);else{if(0!==ju||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,zs(o,!1),null!==(n=u.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ze()>Hu&&(t.flags|=128,n=!0,zs(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=uo(u))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),zs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ys(t),null}else 2*Ze()-o.renderingStartTime>Hu&&1073741824!==r&&(t.flags|=128,n=!0,zs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(r=o.last)?r.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,r=so.current,Ti(so,n?1&r|2:1&r),t):(Ys(t),null);case 22:case 23:return fc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Nu)&&(Ys(t),6&t.subtreeFlags&&(t.flags|=8192)):Ys(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ks(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),_i(Pi),_i(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(_i(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Rs=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ns=function(){},Ls=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ro($a.current);var a,o=null;switch(r){case"input":i=K(e,i),n=K(e,n),o=[];break;case"select":i=D({},i,{value:void 0}),n=D({},n,{value:void 0}),o=[];break;case"textarea":i=ne(e,i),n=ne(e,n),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(e.onclick=$n)}for(l in ye(r,n),r=null,i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in n){var c=n[l];if(u=null!=i?i[l]:void 0,n.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(l,r)),r=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Un("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}r&&(o=o||[]).push("style",r);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},js=function(e,t,r,n){r!==n&&(t.flags|=4)};var Js=!1,Zs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,$s=null;function eu(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){_c(e,t,n)}else r.current=null}function tu(e,t,r){try{r()}catch(n){_c(e,t,n)}}var ru=!1;function nu(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,r,a)}i=i.next}while(i!==n)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function au(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[vi],delete t[gi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=$n));else if(4!==n&&null!==(e=e.child))for(cu(e,t,r),e=e.sibling;null!==e;)cu(e,t,r),e=e.sibling}function lu(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(lu(e,t,r),e=e.sibling;null!==e;)lu(e,t,r),e=e.sibling}var du=null,fu=!1;function hu(e,t,r){for(r=r.child;null!==r;)pu(e,t,r),r=r.sibling}function pu(e,t,r){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,r)}catch(s){}switch(r.tag){case 5:Zs||eu(r,t);case 6:var n=du,i=fu;du=null,hu(e,t,r),fu=i,null!==(du=n)&&(fu?(e=du,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):du.removeChild(r.stateNode));break;case 18:null!==du&&(fu?(e=du,r=r.stateNode,8===e.nodeType?ui(e.parentNode,r):1===e.nodeType&&ui(e,r),Vt(e)):ui(du,r.stateNode));break;case 4:n=du,i=fu,du=r.stateNode.containerInfo,fu=!0,hu(e,t,r),du=n,fu=i;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(r,t,o),i=i.next}while(i!==n)}hu(e,t,r);break;case 1:if(!Zs&&(eu(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){_c(r,t,s)}hu(e,t,r);break;case 21:hu(e,t,r);break;case 22:1&r.mode?(Zs=(n=Zs)||null!==r.memoizedState,hu(e,t,r),Zs=n):hu(e,t,r);break;default:hu(e,t,r)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Qs),t.forEach((function(t){var n=Pc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function gu(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:du=u.stateNode,fu=!1;break e;case 3:case 4:du=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===du)throw Error(a(160));pu(o,s,i),du=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gu(t,e),yu(e),4&n){try{nu(3,e,e.return),iu(3,e)}catch(g){_c(e,e.return,g)}try{nu(5,e,e.return)}catch(g){_c(e,e.return,g)}}break;case 1:gu(t,e),yu(e),512&n&&null!==r&&eu(r,r.return);break;case 5:if(gu(t,e),yu(e),512&n&&null!==r&&eu(r,r.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(g){_c(e,e.return,g)}}if(4&n&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==r?r.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&Z(i,o),be(u,s);var l=be(u,o);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?ge(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,l)}switch(u){case"input":Q(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?re(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?re(i,!!o.multiple,o.defaultValue,!0):re(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(g){_c(e,e.return,g)}}break;case 6:if(gu(t,e),yu(e),4&n){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){_c(e,e.return,g)}}break;case 3:if(gu(t,e),yu(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){_c(e,e.return,g)}break;case 4:default:gu(t,e),yu(e);break;case 13:gu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=Ze())),4&n&&vu(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Zs=(l=Zs)||d,gu(t,e),Zs=l):gu(t,e),yu(e),8192&n){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!d&&0!==(1&e.mode))for($s=e,d=e.child;null!==d;){for(f=$s=d;null!==$s;){switch(p=(h=$s).child,h.tag){case 0:case 11:case 14:case 15:nu(4,h,h.return);break;case 1:eu(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){_c(n,r,g)}}break;case 5:eu(h,h.return);break;case 22:if(null!==h.memoizedState){xu(f);continue}}null!==p?(p.return=h,$s=p):xu(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(g){_c(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){_c(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gu(t,e),yu(e),4&n&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(su(r)){var n=r;break e}r=r.return}throw Error(a(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(fe(i,""),n.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){_c(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,r){$s=e,Su(e,t,r)}function Su(e,t,r){for(var n=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&n){var o=null!==i.memoizedState||Js;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Zs;s=Js;var c=Zs;if(Js=o,(Zs=u)&&!c)for($s=i;null!==$s;)u=(o=$s).child,22===o.tag&&null!==o.memoizedState?wu(i):null!==u?(u.return=o,$s=u):wu(i);for(;null!==a;)$s=a,Su(a,t,r),a=a.sibling;$s=i,Js=s,Zs=c}Eu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$s=a):Eu(e)}}function Eu(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||iu(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Zs)if(null===r)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ga(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,n);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Fa(t,s,r)}break;case 5:var u=t.stateNode;if(null===r&&4&t.flags){r=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Vt(f)}}}break;default:throw Error(a(163))}Zs||512&t.flags&&au(t)}catch(h){_c(t,t.return,h)}}if(t===e){$s=null;break}if(null!==(r=t.sibling)){r.return=t.return,$s=r;break}$s=t.return}}function xu(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var r=t.sibling;if(null!==r){r.return=t.return,$s=r;break}$s=t.return}}function wu(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{iu(4,t)}catch(u){_c(t,r,u)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var i=t.return;try{n.componentDidMount()}catch(u){_c(t,i,u)}}var a=t.return;try{au(t)}catch(u){_c(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){_c(t,o,u)}}}catch(u){_c(t,t.return,u)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var ku,_u=Math.ceil,Tu=S.ReactCurrentDispatcher,Au=S.ReactCurrentOwner,Cu=S.ReactCurrentBatchConfig,Pu=0,Iu=null,Ou=null,Ru=0,Nu=0,Lu=ki(0),ju=0,Mu=null,Du=0,Fu=0,Uu=0,Bu=null,Gu=null,Vu=0,Hu=1/0,Wu=null,qu=!1,zu=null,Yu=null,Xu=!1,Ku=null,Ju=0,Zu=0,Qu=null,$u=-1,ec=0;function tc(){return 0!==(6&Pu)?Ze():-1!==$u?$u:$u=Ze()}function rc(e){return 0===(1&e.mode)?1:0!==(2&Pu)&&0!==Ru?Ru&-Ru:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,r,n){if(50<Zu)throw Zu=0,Qu=null,Error(a(185));mt(e,r,n),0!==(2&Pu)&&e===Iu||(e===Iu&&(0===(2&Pu)&&(Fu|=r),4===ju&&uc(e,Ru)),ic(e,n),1===r&&0===Pu&&0===(1&t.mode)&&(Hu=Ze()+500,Ui&&Vi()))}function ic(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&r)&&0===(s&n)||(i[o]=ht(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var n=ft(e,e===Iu?Ru:0);if(0===n)null!==r&&Xe(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Xe(r),1===t)0===e.tag?function(e){Ui=!0,Gi(e)}(cc.bind(null,e)):Gi(cc.bind(null,e)),oi((function(){0===(6&Pu)&&Vi()})),r=null;else{switch(St(n)){case 1:r=$e;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Ic(r,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ac(e,t){if($u=-1,ec=0,0!==(6&Pu))throw Error(a(327));var r=e.callbackNode;if(wc()&&e.callbackNode!==r)return null;var n=ft(e,e===Iu?Ru:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=mc(e,n);else{t=n;var i=Pu;Pu|=2;var o=vc();for(Iu===e&&Ru===t||(Wu=null,Hu=Ze()+500,hc(e,t));;)try{bc();break}catch(u){pc(e,u)}Ea(),Tu.current=o,Pu=i,null!==Ou?t=0:(Iu=null,Ru=0,t=ju)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(n=i,t=oc(e,i))),1===t)throw r=Mu,hc(e,0),uc(e,n),ic(e,Ze()),r;if(6===t)uc(e,n);else{if(i=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!sn(a(),i))return!1}catch(s){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,n))&&(0!==(o=pt(e))&&(n=o,t=oc(e,o))),1===t))throw r=Mu,hc(e,0),uc(e,n),ic(e,Ze()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Gu,Wu);break;case 3:if(uc(e,n),(130023424&n)===n&&10<(t=Vu+500-Ze())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ni(xc.bind(null,e,Gu,Wu),t);break}xc(e,Gu,Wu);break;case 4:if(uc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-ot(n);o=1<<s,(s=t[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Ze()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_u(n/1960))-n)){e.timeoutHandle=ni(xc.bind(null,e,Gu,Wu),n);break}xc(e,Gu,Wu);break;default:throw Error(a(329))}}}return ic(e,Ze()),e.callbackNode===r?ac.bind(null,e):null}function oc(e,t){var r=Bu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Gu,Gu=r,null!==t&&sc(t)),e}function sc(e){null===Gu?Gu=e:Gu.push.apply(Gu,e)}function uc(e,t){for(t&=~Uu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function cc(e){if(0!==(6&Pu))throw Error(a(327));wc();var t=ft(e,0);if(0===(1&t))return ic(e,Ze()),null;var r=mc(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=oc(e,n))}if(1===r)throw r=Mu,hc(e,0),uc(e,t),ic(e,Ze()),r;if(6===r)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Gu,Wu),ic(e,Ze()),null}function lc(e,t){var r=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=r)&&(Hu=Ze()+500,Ui&&Vi())}}function dc(e){null!==Ku&&0===Ku.tag&&0===(6&Pu)&&wc();var t=Pu;Pu|=1;var r=Cu.transition,n=bt;try{if(Cu.transition=null,bt=1,e)return e()}finally{bt=n,Cu.transition=r,0===(6&(Pu=t))&&Vi()}}function fc(){Nu=Lu.current,_i(Lu)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ii(r)),null!==Ou)for(r=Ou.return;null!==r;){var n=r;switch(ta(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ni();break;case 3:io(),_i(Pi),_i(Ci),lo();break;case 5:oo(n);break;case 4:io();break;case 13:case 19:_i(so);break;case 10:xa(n.type._context);break;case 22:case 23:fc()}r=r.return}if(Iu=e,Ou=e=Lc(e.current,null),Ru=Nu=t,ju=0,Mu=null,Uu=Fu=Du=0,Gu=Bu=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(n=(r=Ta[t]).interleaved)){r.interleaved=null;var i=n.next,a=r.pending;if(null!==a){var o=a.next;a.next=i,n.next=o}r.pending=n}Ta=null}return e}function pc(e,t){for(;;){var r=Ou;try{if(Ea(),fo.current=os,yo){for(var n=vo.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}yo=!1}if(po=0,mo=go=vo=null,bo=!1,So=0,Au.current=null,null===r||null===r.return){ju=1,Mu=t,Ou=null;break}e:{var o=e,s=r.return,u=r,c=t;if(t=Ru,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,d=u,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&gs(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}if(0===(1&t)){gs(o,l,t),gc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ys(m,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==ju&&(ju=2),null===Bu?Bu=[o]:Bu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yu||!Yu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}Ec(r)}catch(S){t=S,Ou===r&&null!==r&&(Ou=r=r.return);continue}break}}function vc(){var e=Tu.current;return Tu.current=os,null===e?os:e}function gc(){0!==ju&&3!==ju&&2!==ju||(ju=4),null===Iu||0===(268435455&Du)&&0===(268435455&Fu)||uc(Iu,Ru)}function mc(e,t){var r=Pu;Pu|=2;var n=vc();for(Iu===e&&Ru===t||(Wu=null,hc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(Ea(),Pu=r,Tu.current=n,null!==Ou)throw Error(a(261));return Iu=null,Ru=0,ju}function yc(){for(;null!==Ou;)Sc(Ou)}function bc(){for(;null!==Ou&&!Ke();)Sc(Ou)}function Sc(e){var t=ku(e.alternate,e,Nu);e.memoizedProps=e.pendingProps,null===t?Ec(e):Ou=t,Au.current=null}function Ec(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Xs(r,t,Nu)))return void(Ou=r)}else{if(null!==(r=Ks(r,t)))return r.flags&=32767,void(Ou=r);if(null===e)return ju=6,void(Ou=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ou=t);Ou=t=e}while(null!==t);0===ju&&(ju=5)}function xc(e,t,r){var n=bt,i=Cu.transition;try{Cu.transition=null,bt=1,function(e,t,r,n){do{wc()}while(null!==Ku);if(0!==(6&Pu))throw Error(a(327));r=e.finishedWork;var i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ot(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}(e,o),e===Iu&&(Ou=Iu=null,Ru=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Xu||(Xu=!0,Ic(tt,(function(){return wc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=bt;bt=1;var u=Pu;Pu|=4,Au.current=null,function(e,t){if(ei=Wt,hn(e=fn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(E){r=null;break e}var s=0,u=-1,c=-1,l=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==n&&3!==f.nodeType||(c=s+n),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++l===i&&(u=s),h===o&&++d===n&&(c=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}r=-1===u||-1===c?null:{start:u,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ti={focusedElem:e,selectionRange:r},Wt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,m=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ga(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=t.stateNode.containerInfo;1===S.nodeType?S.textContent="":9===S.nodeType&&S.documentElement&&S.removeChild(S.documentElement);break;default:throw Error(a(163))}}catch(E){_c(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}v=ru,ru=!1}(e,r),mu(r,e),pn(ti),Wt=!!ei,ti=ei=null,e.current=r,bu(r,e,i),Je(),Pu=u,bt=s,Cu.transition=o}else e.current=r;if(Xu&&(Xu=!1,Ku=e,Ju=i),o=e.pendingLanes,0===o&&(Yu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),ic(e,Ze()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(qu)throw qu=!1,e=zu,zu=null,e;0!==(1&Ju)&&0!==e.tag&&wc(),o=e.pendingLanes,0!==(1&o)?e===Qu?Zu++:(Zu=0,Qu=e):Zu=0,Vi()}(e,t,r,n)}finally{Cu.transition=i,bt=n}return null}function wc(){if(null!==Ku){var e=St(Ju),t=Cu.transition,r=bt;try{if(Cu.transition=null,bt=16>e?16:e,null===Ku)var n=!1;else{if(e=Ku,Ku=null,Ju=0,0!==(6&Pu))throw Error(a(331));var i=Pu;for(Pu|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for($s=l;null!==$s;){var d=$s;switch(d.tag){case 0:case 11:case 15:nu(8,d,o)}var f=d.child;if(null!==f)f.return=d,$s=f;else for(;null!==$s;){var h=(d=$s).sibling,p=d.return;if(ou(d),d===l){$s=null;break}if(null!==h){h.return=p,$s=h;break}$s=p}}}var v=o.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$s=y;break e}$s=o.return}}var b=e.current;for($s=b;null!==$s;){var S=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==S)S.return=s,$s=S;else e:for(s=b;null!==$s;){if(0!==(2048&(u=$s).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){_c(u,u.return,x)}if(u===s){$s=null;break e}var E=u.sibling;if(null!==E){E.return=u.return,$s=E;break e}$s=u.return}}if(Pu=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}n=!0}return n}finally{bt=r,Cu.transition=t}}return!1}function kc(e,t,r){e=La(e,t=ps(0,t=ls(r,t),1),1),t=tc(),null!==e&&(mt(e,1,t),ic(e,t))}function _c(e,t,r){if(3===e.tag)kc(e,e,r);else for(;null!==t;){if(3===t.tag){kc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Yu||!Yu.has(n))){t=La(t,e=vs(t,e=ls(r,e),1),1),e=tc(),null!==t&&(mt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&r,Iu===e&&(Ru&r)===r&&(4===ju||3===ju&&(130023424&Ru)===Ru&&500>Ze()-Vu?hc(e,0):Uu|=r),ic(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var r=tc();null!==(e=Pa(e,t))&&(mt(e,t,r),ic(e,r))}function Cc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Ac(e,r)}function Pc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(a(314))}null!==n&&n.delete(t),Ac(e,r)}function Ic(e,t){return Ye(e,t)}function Oc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,r,n){return new Oc(e,t,r,n)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var r=e.alternate;return null===r?((r=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function jc(e,t,r,n,i,o){var s=2;if(n=e,"function"===typeof e)Nc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case w:return Mc(r.children,i,o,t);case k:s=8,i|=8;break;case _:return(e=Rc(12,r,t,2|i)).elementType=_,e.lanes=o,e;case P:return(e=Rc(13,r,t,i)).elementType=P,e.lanes=o,e;case I:return(e=Rc(19,r,t,i)).elementType=I,e.lanes=o,e;case N:return Dc(r,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case A:s=9;break e;case C:s=11;break e;case O:s=14;break e;case R:s=16,n=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(s,r,t,i)).elementType=e,t.type=n,t.lanes=o,t}function Mc(e,t,r,n){return(e=Rc(7,e,n,t)).lanes=r,e}function Dc(e,t,r,n){return(e=Rc(22,e,n,t)).elementType=N,e.lanes=r,e.stateNode={isHidden:!1},e}function Fc(e,t,r){return(e=Rc(6,e,null,t)).lanes=r,e}function Uc(e,t,r){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gc(e,t,r,n,i,a,o,s,u){return e=new Bc(e,t,r,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Vc(e){if(!e)return Ai;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var r=e.type;if(Ri(r))return ji(e,r,t)}return t}function Hc(e,t,r,n,i,a,o,s,u){return(e=Gc(r,n,!0,e,0,a,0,s,u)).context=Vc(null),r=e.current,(a=Na(n=tc(),i=rc(r))).callback=void 0!==t&&null!==t?t:null,La(r,a,i),e.current.lanes=i,mt(e,i,n),ic(e,n),e}function Wc(e,t,r,n){var i=t.current,a=tc(),o=rc(i);return r=Vc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Na(a,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=La(i,t,o))&&(nc(e,i,o,a),ja(e,i,o)),o}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function zc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Yc(e,t){zc(e,t),(e=e.alternate)&&zc(e,t)}ku=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)Ss=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return Ss=!1,function(e,t,r){switch(t.tag){case 3:Is(t),ha();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:no(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ti(ma,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Fs(e,t,r):(Ti(so,1&so.current),null!==(e=qs(e,t,r))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Hs(e,t,r);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),n)break;return null;case 22:case 23:return t.lanes=0,_s(e,t,r)}return qs(e,t,r)}(e,t,r);Ss=0!==(131072&e.flags)}else Ss=!1,ia&&0!==(1048576&t.flags)&&$i(t,zi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ws(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);ka(t,r),i=ko(null,t,n,e,i,r);var o=_o();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(n)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Ga,t.stateNode=i,i._reactInternals=t,qa(t,n,e,r),t=Ps(null,t,n,!0,o,r)):(t.tag=0,ia&&o&&ea(t),Es(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,n=(i=n._init)(n._payload),t.type=n,i=t.tag=function(e){if("function"===typeof e)return Nc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(n),e=ga(n,e),i){case 0:t=As(null,t,n,e,r);break e;case 1:t=Cs(null,t,n,e,r);break e;case 11:t=xs(null,t,n,e,r);break e;case 14:t=ws(null,t,n,ga(n.type,e),r);break e}throw Error(a(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,As(e,t,n,i=t.elementType===n?i:ga(n,i),r);case 1:return n=t.type,i=t.pendingProps,Cs(e,t,n,i=t.elementType===n?i:ga(n,i),r);case 3:e:{if(Is(t),null===e)throw Error(a(387));n=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Da(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Os(e,t,n,r,i=ls(Error(a(423)),t));break e}if(n!==i){t=Os(e,t,n,r,i=ls(Error(a(424)),t));break e}for(na=ci(t.stateNode.containerInfo.firstChild),ra=t,ia=!0,aa=null,r=Za(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ha(),n===i){t=qs(e,t,r);break e}Es(e,t,n,r)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ri(n,i)?s=null:null!==o&&ri(n,o)&&(t.flags|=32),Ts(e,t),Es(e,t,s,r),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,r);case 4:return no(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Ja(t,null,n,r):Es(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,xs(e,t,n,i=t.elementType===n?i:ga(n,i),r);case 7:return Es(e,t,t.pendingProps,r),t.child;case 8:case 12:return Es(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ma,n._currentValue),n._currentValue=s,null!==o)if(sn(o.value,s)){if(o.children===i.children&&!Pi.current){t=qs(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===n){if(1===o.tag){(c=Na(-1,r&-r)).tag=2;var l=o.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),l.pending=c}}o.lanes|=r,null!==(c=o.alternate)&&(c.lanes|=r),wa(o.return,r,t),u.lanes|=r;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=r,null!==(u=s.alternate)&&(u.lanes|=r),wa(s,r,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}Es(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ka(t,r),n=n(i=_a(i)),t.flags|=1,Es(e,t,n,r),t.child;case 14:return i=ga(n=t.type,t.pendingProps),ws(e,t,n,i=ga(n.type,i),r);case 15:return ks(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ga(n,i),Ws(e,t),t.tag=1,Ri(n)?(e=!0,Mi(t)):e=!1,ka(t,r),Ha(t,n,i),qa(t,n,i,r),Ps(null,t,n,!0,e,r);case 19:return Hs(e,t,r);case 22:return _s(e,t,r)}throw Error(a(156,t.tag))};var Xc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=qc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,r,n,i){if(i){if("function"===typeof n){var a=n;n=function(){var e=qc(o);a.call(e)}}var o=Hc(t,n,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,Vn(8===e.nodeType?e.parentNode:e),dc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof n){var s=n;n=function(){var e=qc(u);s.call(e)}}var u=Gc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=u,e[pi]=u.current,Vn(8===e.nodeType?e.parentNode:e),dc((function(){Wc(t,u,r,n)})),u}(r,t,e,i,n);return qc(o)}Jc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Jc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Wc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Nt.length&&0!==t&&t<Nt[r].priority;r++);Nt.splice(r,0,e),0===r&&Dt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dt(t.pendingLanes);0!==r&&(yt(t,1|r),ic(t,Ze()),0===(6&Pu)&&(Hu=Ze()+500,Vi()))}break;case 13:dc((function(){var t=Pa(e,1);if(null!==t){var r=tc();nc(t,e,1,r)}})),Yc(e,1)}},xt=function(e){if(13===e.tag){var t=Pa(e,134217728);if(null!==t)nc(t,e,134217728,tc());Yc(e,134217728)}},wt=function(e){if(13===e.tag){var t=rc(e),r=Pa(e,t);if(null!==r)nc(r,e,t,tc());Yc(e,t)}},kt=function(){return bt},_t=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},xe=function(e,t,r){switch(t){case"input":if(Q(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ei(n);if(!i)throw Error(a(90));Y(n),Q(n,i)}}}break;case"textarea":ae(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ce=lc,Pe=dc;var tl={usingClientEntryPoint:!1,Events:[bi,Si,Ei,Te,Ae,lc]},rl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nl={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(nl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(a(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Zc(e))throw Error(a(299));var r=!1,n="",i=Xc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Gc(e,1,!1,null,0,r,0,n,i),e[pi]=t.current,Vn(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,r){if(!Qc(t))throw Error(a(200));return el(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Zc(e))throw Error(a(405));var n=null!=r&&r.hydratedSources||null,i=!1,o="",s=Xc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),t=Hc(t,null,e,1,null!=r?r:null,i,0,o,s),e[pi]=t.current,Vn(e),n)for(e=0;e<n.length;e++)i=(i=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Jc(t)},t.render=function(e,t,r){if(!Qc(t))throw Error(a(200));return el(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qc(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,r,!1,n)},t.version="18.2.0-next-9e3b772b8-20220608"},21739:function(e,t,r){"use strict";var n=r(1168);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},1168:function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(30534)},25749:function(e){window,e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.r(t);var i=!!window.fbq,a=!1,o=function(){var e;if(a){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];(e=console).info.apply(e,n(["[react-facebook-pixel]"].concat(r)))}},s=function(){var e;if(a){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];(e=console).info.apply(e,n(["[react-facebook-pixel]"].concat(r)))}},u=function(){return i||o("Pixel not initialized before using call ReactPixel.init with required params"),i},c={autoConfig:!0,debug:!1};t.default={init:function(e){var t,r,n,s,u,l,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;t=window,r=document,n="script",t.fbq||(s=t.fbq=function(){s.callMethod?s.callMethod.apply(s,arguments):s.queue.push(arguments)},t._fbq||(t._fbq=s),s.push=s,s.loaded=!0,s.version="2.0",s.queue=[],(u=r.createElement(n)).async=!0,u.src="https://connect.facebook.net/en_US/fbevents.js",(l=r.getElementsByTagName(n)[0]).parentNode.insertBefore(u,l)),e?(!1===f.autoConfig&&fbq("set","autoConfig",!1,e),fbq("init",e,d),i=!0,a=f.debug):o("Please insert pixel id for initializing")},pageView:function(){u()&&(fbq("track","PageView"),a&&s("called fbq('track', 'PageView');"))},track:function(e,t){u()&&(fbq("track",e,t),a&&(s("called fbq('track', '".concat(e,"');")),t&&s("with data",t)))},trackSingle:function(e,t,r){u()&&(fbq("trackSingle",e,t,r),a&&(s("called fbq('trackSingle', '".concat(e,"', '").concat(t,"');")),r&&s("with data",r)))},trackCustom:function(e,t){u()&&(fbq("trackCustom",e,t),a&&(s("called fbq('trackCustom', '".concat(e,"');")),t&&s("with data",t)))},trackSingleCustom:function(e,t,r){u()&&(fbq("trackSingle",e,t,r),a&&(s("called fbq('trackSingleCustom', '".concat(e,"', '").concat(t,"');")),r&&s("with data",r)))},grantConsent:function(){u()&&(fbq("consent","grant"),a&&s("called fbq('consent', 'grant');"))},revokeConsent:function(){u()&&(fbq("consent","revoke"),a&&s("called fbq('consent', 'revoke');"))},fbq:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){if(u()){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];fbq.apply(void 0,t),a&&(s("called fbq('".concat(t.slice(0,2).join("', '"),"')")),t[2]&&s("with data",t[2]))}}))}}])},46939:function(e){var t="undefined"!==typeof Element,r="function"===typeof Map,n="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var s,u,c,l;if(Array.isArray(e)){if((s=e.length)!=o.length)return!1;for(u=s;0!==u--;)if(!a(e[u],o[u]))return!1;return!0}if(r&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!o.has(u.value[0]))return!1;for(l=e.entries();!(u=l.next()).done;)if(!a(u.value[1],o.get(u.value[0])))return!1;return!0}if(n&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((s=e.length)!=o.length)return!1;for(u=s;0!==u--;)if(e[u]!==o[u])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof o.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof o.toString)return e.toString()===o.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(u=s;0!==u--;)if(!Object.prototype.hasOwnProperty.call(o,c[u]))return!1;if(t&&e instanceof Element)return!1;for(u=s;0!==u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!e.$$typeof)&&!a(e[c[u]],o[c[u]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}},95377:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=e||"";t&&(a=e.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,(function(e,t,n){return t>0&&t+e.length!==n.length&&e.search(r)>-1&&":"!==n.charAt(t-2)&&("-"!==n.charAt(t+e.length)||"-"===n.charAt(t-1))&&n.charAt(t-1).search(/[^\s-]/)<0?e.toLowerCase():e.substr(1).search(/[A-Z]|\../)>-1?e:e.charAt(0).toUpperCase()+e.substr(1)})));i&&(a=function(e){if(function(e){return"string"===typeof e&&-1!==e.indexOf("@")}(e))return console.warn("This arg looks like an email address, redacting."),n;return e}(a));return a};var r=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;var n="REDACTED (Potential Email Address)"},86585:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var n=u(r(20171)),i=u(r(95377)),a=["eventCategory","eventAction","eventLabel","eventValue","hitType"],o=["title","location"],s=["page","hitType"];function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function d(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function y(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var S=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,"reset",(function(){t.isInitialized=!1,t._testMode=!1,t._currentMeasurementId,t._hasLoadedGA=!1,t._isQueuing=!1,t._queueGtag=[]})),y(this,"_gtag",(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t._testMode||t._isQueuing?t._queueGtag.push(r):n.default.apply(void 0,r)})),y(this,"_loadGA",(function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://www.googletagmanager.com/gtag/js";if("undefined"!==typeof window&&"undefined"!==typeof document&&!t._hasLoadedGA){var i=document.createElement("script");i.async=!0,i.src="".concat(n,"?id=").concat(e),r&&i.setAttribute("nonce",r),document.body.appendChild(i),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},t._hasLoadedGA=!0}})),y(this,"_toGtagOptions",(function(e){if(e){var t={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"};return Object.entries(e).reduce((function(e,r){var n=p(r,2),i=n[0],a=n[1];return t[i]?e[t[i]]=a:e[i]=a,e}),{})}})),y(this,"initialize",(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Require GA_MEASUREMENT_ID");var n="string"===typeof e?[{trackingId:e}]:e;t._currentMeasurementId=n[0].trackingId;var i=r.gaOptions,a=r.gtagOptions,o=r.nonce,s=r.testMode,u=void 0!==s&&s,c=r.gtagUrl;if(t._testMode=u,u||t._loadGA(t._currentMeasurementId,o,c),t.isInitialized||(t._gtag("js",new Date),n.forEach((function(e){var r=h(h(h({},t._toGtagOptions(h(h({},i),e.gaOptions))),a),e.gtagOptions);Object.keys(r).length?t._gtag("config",e.trackingId,r):t._gtag("config",e.trackingId)}))),t.isInitialized=!0,!u){var l=d(t._queueGtag);for(t._queueGtag=[],t._isQueuing=!1;l.length;){var f=l.shift();t._gtag.apply(t,d(f)),"get"===f[0]&&(t._isQueuing=!0)}}})),y(this,"set",(function(e){e?"object"===l(e)?(0===Object.keys(e).length&&console.warn("empty `fieldsObject` given to .set()"),t._gaCommand("set",e)):console.warn("Expected `fieldsObject` arg to be an Object"):console.warn("`fieldsObject` is required in .set()")})),y(this,"_gaCommandSendEvent",(function(e,r,n,i,a){t._gtag("event",r,h(h({event_category:e,event_label:n,value:i},a&&{non_interaction:a.nonInteraction}),t._toGtagOptions(a)))})),y(this,"_gaCommandSendEventParameters",(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if("string"===typeof r[0])t._gaCommandSendEvent.apply(t,d(r.slice(1)));else{var i=r[0],o=i.eventCategory,s=i.eventAction,u=i.eventLabel,l=i.eventValue,f=(i.hitType,c(i,a));t._gaCommandSendEvent(o,s,u,l,f)}})),y(this,"_gaCommandSendTiming",(function(e,r,n,i){t._gtag("event","timing_complete",{name:r,value:n,event_category:e,event_label:i})})),y(this,"_gaCommandSendPageview",(function(e,r){if(r&&Object.keys(r).length){var n=t._toGtagOptions(r),i=n.title,a=n.location,s=c(n,o);t._gtag("event","page_view",h(h(h(h({},e&&{page_path:e}),i&&{page_title:i}),a&&{page_location:a}),s))}else e?t._gtag("event","page_view",{page_path:e}):t._gtag("event","page_view")})),y(this,"_gaCommandSendPageviewParameters",(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if("string"===typeof r[0])t._gaCommandSendPageview.apply(t,d(r.slice(1)));else{var i=r[0],a=i.page,o=(i.hitType,c(i,s));t._gaCommandSendPageview(a,o)}})),y(this,"_gaCommandSend",(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i="string"===typeof r[0]?r[0]:r[0].hitType;switch(i){case"event":t._gaCommandSendEventParameters.apply(t,r);break;case"pageview":t._gaCommandSendPageviewParameters.apply(t,r);break;case"timing":t._gaCommandSendTiming.apply(t,d(r.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(i));break;default:console.warn("Send command doesn't exist: ".concat(i))}})),y(this,"_gaCommandSet",(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];"string"===typeof r[0]&&(r[0]=y({},r[0],r[1])),t._gtag("set",t._toGtagOptions(r[0]))})),y(this,"_gaCommand",(function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];switch(e){case"send":t._gaCommandSend.apply(t,n);break;case"set":t._gaCommandSet.apply(t,n);break;default:console.warn("Command doesn't exist: ".concat(e))}})),y(this,"ga",(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if("string"===typeof r[0])t._gaCommand.apply(t,r);else{var i=r[0];t._gtag("get",t._currentMeasurementId,"client_id",(function(e){t._isQueuing=!1;var r=t._queueGtag;for(i({get:function(r){return"clientId"===r?e:"trackingId"===r?t._currentMeasurementId:"apiVersion"===r?"1":void 0}});r.length;){var n=r.shift();t._gtag.apply(t,d(n))}})),t._isQueuing=!0}return t.ga})),y(this,"event",(function(e,r){if("string"===typeof e)t._gtag("event",e,t._toGtagOptions(r));else{var n=e.action,a=e.category,o=e.label,s=e.value,u=e.nonInteraction,c=e.transport;if(!a||!n)return void console.warn("args.category AND args.action are required in event()");var l={hitType:"event",eventCategory:(0,i.default)(a),eventAction:(0,i.default)(n)};o&&(l.eventLabel=(0,i.default)(o)),"undefined"!==typeof s&&("number"!==typeof s?console.warn("Expected `args.value` arg to be a Number."):l.eventValue=s),"undefined"!==typeof u&&("boolean"!==typeof u?console.warn("`args.nonInteraction` must be a boolean."):l.nonInteraction=u),"undefined"!==typeof c&&("string"!==typeof c?console.warn("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(c)&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),l.transport=c)),t._gaCommand("send",l)}})),y(this,"send",(function(e){t._gaCommand("send",e)})),this.reset()}var t,r,u;return t=e,r=[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}],r&&m(t.prototype,r),u&&m(t,u),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.GA4=S;var E=new S;t.default=E},20171:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;"undefined"!==typeof window&&("undefined"===typeof window.gtag&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(n=window).gtag.apply(n,t))};t.default=r},27786:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t.ZP=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}i.default=e,r&&r.set(e,i);return i}(r(86585));function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}i.GA4;var o=i.default;t.ZP=o},15230:function(e,t){"use strict";var r,n=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case s:case o:case f:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case d:case v:case p:case u:return e;default:return t}}case i:return t}}}r=Symbol.for("react.module.reference")},86440:function(e,t,r){"use strict";r(15230)},54063:function(e,t,r){"use strict";var n,i=r(47313),a=(n=i)&&"object"===typeof n&&"default"in n?n.default:n;function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=!("undefined"===typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,r){if("function"!==typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof r&&"function"!==typeof r)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(n){if("function"!==typeof n)throw new Error("Expected WrappedComponent to be a React component.");var u,c=[];function l(){u=e(c.map((function(e){return e.props}))),d.canUseDOM?t(u):r&&(u=r(u))}var d=function(e){var t,r;function i(){return e.apply(this,arguments)||this}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.peek=function(){return u},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=u;return u=void 0,c=[],e};var o=i.prototype;return o.UNSAFE_componentWillMount=function(){c.push(this),l()},o.componentDidUpdate=function(){l()},o.componentWillUnmount=function(){var e=c.indexOf(this);c.splice(e,1),l()},o.render=function(){return a.createElement(n,this.props)},i}(i.PureComponent);return o(d,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(n)+")"),o(d,"canUseDOM",s),d}}},35918:function(e,t,r){"use strict";var n=r(47313),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,a={},c=null,l=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,n)&&!u.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},80306:function(e,t){"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function m(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}function y(){}function b(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var S=b.prototype=new y;S.constructor=b,v(S,m.prototype),S.isPureReactComponent=!0;var E=Array.isArray,x=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!k.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:r,type:e,key:o,ref:s,props:a,_owner:w.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var A=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case n:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,E(o)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),P(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(A,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",E(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=P(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=P(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function I(e,t,r){if(null==e)return e;var n=[],i=0;return P(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},N={transition:null},L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:N,ReactCurrentOwner:w};t.Children={map:I,forEach:function(e,t,r){I(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:r,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,r){return R.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,r){return R.current.useReducer(e,t,r)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return R.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},47313:function(e,t,r){"use strict";e.exports=r(80306)},46417:function(e,t,r){"use strict";e.exports=r(35918)},13095:function(e,t){"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,i=e[n];if(!(0<a(i,t)))break e;e[n]=t,e[r]=i,r=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length,o=i>>>1;n<o;){var s=2*(n+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,r))c<i&&0>a(l,u)?(e[n]=l,e[c]=r,n=c):(e[n]=u,e[s]=r,n=s);else{if(!(c<i&&0>a(l,r)))break e;e[n]=l,e[c]=r,n=c}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],d=1,f=null,h=3,p=!1,v=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function S(e){for(var t=n(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,r(c,t)}t=n(l)}}function E(e){if(g=!1,S(e),!v)if(null!==n(c))v=!0,N(x);else{var t=n(l);null!==t&&L(E,t.startTime-e)}}function x(e,r){v=!1,g&&(g=!1,y(T),T=-1),p=!0;var a=h;try{for(S(r),f=n(c);null!==f&&(!(f.expirationTime>r)||e&&!P());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?f.callback=s:f===n(c)&&i(c),S(r)}else i(c);f=n(c)}if(null!==f)var u=!0;else{var d=n(l);null!==d&&L(E,d.startTime-r),u=!1}return u}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,_=null,T=-1,A=5,C=-1;function P(){return!(t.unstable_now()-C<A)}function I(){if(null!==_){var e=t.unstable_now();C=e;var r=!0;try{r=_(!0,e)}finally{r?w():(k=!1,_=null)}}else k=!1}if("function"===typeof b)w=function(){b(I)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=I,w=function(){R.postMessage(null)}}else w=function(){m(I,0)};function N(e){_=e,k||(k=!0,w())}function L(e,r){T=m((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,N(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,r(l,e),null===n(c)&&e===n(l)&&(g?(y(T),T=-1):g=!0,L(E,a-o))):(e.sortIndex=s,r(c,e),v||p||(v=!0,N(x))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},62224:function(e,t,r){"use strict";e.exports=r(13095)},21531:function(e,t,r){"use strict";var n=r(47313);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=n.useState,o=n.useEffect,s=n.useLayoutEffect,u=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(n){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),i=n[0].inst,l=n[1];return s((function(){i.value=r,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,r,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:l},45531:function(e,t,r){"use strict";var n=r(47313),i=r(51239);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=n.useRef,u=n.useEffect,c=n.useMemo,l=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c((function(){function e(e){if(!u){if(u=!0,o=e,e=n(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var r=n(e);return void 0!==i&&i(t,r)?t:(o=e,s=r)}var o,s,u=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,r,n,i]);var h=o(e,d[0],d[1]);return u((function(){f.hasValue=!0,f.value=h}),[h]),l(h),h}},51239:function(e,t,r){"use strict";e.exports=r(21531)},37058:function(e,t,r){"use strict";e.exports=r(45531)},175:function(e,t,r){var n;!function(){function i(e,t,r){return e.call.apply(e.bind,arguments)}function a(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function o(e,t,r){return(o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:a).apply(null,arguments)}var s=Date.now||function(){return+new Date};function u(e,t){this.a=e,this.o=t||e,this.c=this.o.document}var c=!!window.FontFace;function l(e,t,r,n){if(t=e.c.createElement(t),r)for(var i in r)r.hasOwnProperty(i)&&("style"==i?t.style.cssText=r[i]:t.setAttribute(i,r[i]));return n&&t.appendChild(e.c.createTextNode(n)),t}function d(e,t,r){(e=e.c.getElementsByTagName(t)[0])||(e=document.documentElement),e.insertBefore(r,e.lastChild)}function f(e){e.parentNode&&e.parentNode.removeChild(e)}function h(e,t,r){t=t||[],r=r||[];for(var n=e.className.split(/\s+/),i=0;i<t.length;i+=1){for(var a=!1,o=0;o<n.length;o+=1)if(t[i]===n[o]){a=!0;break}a||n.push(t[i])}for(t=[],i=0;i<n.length;i+=1){for(a=!1,o=0;o<r.length;o+=1)if(n[i]===r[o]){a=!0;break}a||t.push(n[i])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function p(e,t){for(var r=e.className.split(/\s+/),n=0,i=r.length;n<i;n++)if(r[n]==t)return!0;return!1}function v(e,t,r){function n(){s&&i&&a&&(s(o),s=null)}t=l(e,"link",{rel:"stylesheet",href:t,media:"all"});var i=!1,a=!0,o=null,s=r||null;c?(t.onload=function(){i=!0,n()},t.onerror=function(){i=!0,o=Error("Stylesheet failed to load"),n()}):setTimeout((function(){i=!0,n()}),0),d(e,"head",t)}function g(e,t,r,n){var i=e.c.getElementsByTagName("head")[0];if(i){var a=l(e,"script",{src:t}),o=!1;return a.onload=a.onreadystatechange=function(){o||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(o=!0,r&&r(null),a.onload=a.onreadystatechange=null,"HEAD"==a.parentNode.tagName&&i.removeChild(a))},i.appendChild(a),setTimeout((function(){o||(o=!0,r&&r(Error("Script load timeout")))}),n||5e3),a}return null}function m(){this.a=0,this.c=null}function y(e){return e.a++,function(){e.a--,S(e)}}function b(e,t){e.c=t,S(e)}function S(e){0==e.a&&e.c&&(e.c(),e.c=null)}function E(e){this.a=e||"-"}function x(e,t){this.c=e,this.f=4,this.a="n";var r=(t||"n4").match(/^([nio])([1-9])$/i);r&&(this.a=r[1],this.f=parseInt(r[2],10))}function w(e){var t=[];e=e.split(/,\s*/);for(var r=0;r<e.length;r++){var n=e[r].replace(/['"]/g,"");-1!=n.indexOf(" ")||/^\d/.test(n)?t.push("'"+n+"'"):t.push(n)}return t.join(",")}function k(e){return e.a+e.f}function _(e){var t="normal";return"o"===e.a?t="oblique":"i"===e.a&&(t="italic"),t}function T(e){var t=4,r="n",n=null;return e&&((n=e.match(/(normal|oblique|italic)/i))&&n[1]&&(r=n[1].substr(0,1).toLowerCase()),(n=e.match(/([1-9]00|normal|bold)/i))&&n[1]&&(/bold/i.test(n[1])?t=7:/[1-9]00/.test(n[1])&&(t=parseInt(n[1].substr(0,1),10)))),r+t}function A(e,t){this.c=e,this.f=e.o.document.documentElement,this.h=t,this.a=new E("-"),this.j=!1!==t.events,this.g=!1!==t.classes}function C(e){if(e.g){var t=p(e.f,e.a.c("wf","active")),r=[],n=[e.a.c("wf","loading")];t||r.push(e.a.c("wf","inactive")),h(e.f,r,n)}P(e,"inactive")}function P(e,t,r){e.j&&e.h[t]&&(r?e.h[t](r.c,k(r)):e.h[t]())}function I(){this.c={}}function O(e,t){this.c=e,this.f=t,this.a=l(this.c,"span",{"aria-hidden":"true"},this.f)}function R(e){d(e.c,"body",e.a)}function N(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+w(e.c)+";font-style:"+_(e)+";font-weight:"+e.f+"00;"}function L(e,t,r,n,i,a){this.g=e,this.j=t,this.a=n,this.c=r,this.f=i||3e3,this.h=a||void 0}function j(e,t,r,n,i,a,o){this.v=e,this.B=t,this.c=r,this.a=n,this.s=o||"BESbswy",this.f={},this.w=i||3e3,this.u=a||null,this.m=this.j=this.h=this.g=null,this.g=new O(this.c,this.s),this.h=new O(this.c,this.s),this.j=new O(this.c,this.s),this.m=new O(this.c,this.s),e=N(e=new x(this.a.c+",serif",k(this.a))),this.g.a.style.cssText=e,e=N(e=new x(this.a.c+",sans-serif",k(this.a))),this.h.a.style.cssText=e,e=N(e=new x("serif",k(this.a))),this.j.a.style.cssText=e,e=N(e=new x("sans-serif",k(this.a))),this.m.a.style.cssText=e,R(this.g),R(this.h),R(this.j),R(this.m)}E.prototype.c=function(e){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)},L.prototype.start=function(){var e=this.c.o.document,t=this,r=s(),n=new Promise((function(n,i){!function a(){s()-r>=t.f?i():e.fonts.load(function(e){return _(e)+" "+e.f+"00 300px "+w(e.c)}(t.a),t.h).then((function(e){1<=e.length?n():setTimeout(a,25)}),(function(){i()}))}()})),i=null,a=new Promise((function(e,r){i=setTimeout(r,t.f)}));Promise.race([a,n]).then((function(){i&&(clearTimeout(i),i=null),t.g(t.a)}),(function(){t.j(t.a)}))};var M={D:"serif",C:"sans-serif"},D=null;function F(){if(null===D){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);D=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))}return D}function U(e,t,r){for(var n in M)if(M.hasOwnProperty(n)&&t===e.f[M[n]]&&r===e.f[M[n]])return!0;return!1}function B(e){var t,r=e.g.a.offsetWidth,n=e.h.a.offsetWidth;(t=r===e.f.serif&&n===e.f["sans-serif"])||(t=F()&&U(e,r,n)),t?s()-e.A>=e.w?F()&&U(e,r,n)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?G(e,e.v):G(e,e.B):function(e){setTimeout(o((function(){B(this)}),e),50)}(e):G(e,e.v)}function G(e,t){setTimeout(o((function(){f(this.g.a),f(this.h.a),f(this.j.a),f(this.m.a),t(this.a)}),e),0)}function V(e,t,r){this.c=e,this.a=t,this.f=0,this.m=this.j=!1,this.s=r}j.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),B(this)};var H=null;function W(e){0==--e.f&&e.j&&(e.m?((e=e.a).g&&h(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),P(e,"active")):C(e.a))}function q(e){this.j=e,this.a=new I,this.h=0,this.f=this.g=!0}function z(e,t,r,n,i){var a=0==--e.h;(e.f||e.g)&&setTimeout((function(){var e=i||null,s=n||{};if(0===r.length&&a)C(t.a);else{t.f+=r.length,a&&(t.j=a);var u,c=[];for(u=0;u<r.length;u++){var l=r[u],d=s[l.c],f=t.a,p=l;if(f.g&&h(f.f,[f.a.c("wf",p.c,k(p).toString(),"loading")]),P(f,"fontloading",p),f=null,null===H)if(window.FontFace){p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var v=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);H=p?42<parseInt(p[1],10):!v}else H=!1;f=H?new L(o(t.g,t),o(t.h,t),t.c,l,t.s,d):new j(o(t.g,t),o(t.h,t),t.c,l,t.s,e,d),c.push(f)}for(u=0;u<c.length;u++)c[u].start()}}),0)}function Y(e,t){this.c=e,this.a=t}function X(e,t){this.c=e,this.a=t}function K(e,t){this.c=e||J,this.a=[],this.f=[],this.g=t||""}V.prototype.g=function(e){var t=this.a;t.g&&h(t.f,[t.a.c("wf",e.c,k(e).toString(),"active")],[t.a.c("wf",e.c,k(e).toString(),"loading"),t.a.c("wf",e.c,k(e).toString(),"inactive")]),P(t,"fontactive",e),this.m=!0,W(this)},V.prototype.h=function(e){var t=this.a;if(t.g){var r=p(t.f,t.a.c("wf",e.c,k(e).toString(),"active")),n=[],i=[t.a.c("wf",e.c,k(e).toString(),"loading")];r||n.push(t.a.c("wf",e.c,k(e).toString(),"inactive")),h(t.f,n,i)}P(t,"fontinactive",e),W(this)},q.prototype.load=function(e){this.c=new u(this.j,e.context||this.j),this.g=!1!==e.events,this.f=!1!==e.classes,function(e,t,r){var n=[],i=r.timeout;!function(e){e.g&&h(e.f,[e.a.c("wf","loading")]),P(e,"loading")}(t);n=function(e,t,r){var n,i=[];for(n in t)if(t.hasOwnProperty(n)){var a=e.c[n];a&&i.push(a(t[n],r))}return i}(e.a,r,e.c);var a=new V(e.c,t,i);for(e.h=n.length,t=0,r=n.length;t<r;t++)n[t].load((function(t,r,n){z(e,a,t,r,n)}))}(this,new A(this.c,e),e)},Y.prototype.load=function(e){function t(){if(a["__mti_fntLst"+n]){var r,i=a["__mti_fntLst"+n](),o=[];if(i)for(var s=0;s<i.length;s++){var u=i[s].fontfamily;void 0!=i[s].fontStyle&&void 0!=i[s].fontWeight?(r=i[s].fontStyle+i[s].fontWeight,o.push(new x(u,r))):o.push(new x(u))}e(o)}else setTimeout((function(){t()}),50)}var r=this,n=r.a.projectId,i=r.a.version;if(n){var a=r.c.o;g(this.c,(r.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(i?"?v="+i:""),(function(i){i?e([]):(a["__MonotypeConfiguration__"+n]=function(){return r.a},t())})).id="__MonotypeAPIScript__"+n}else e([])},X.prototype.load=function(e){var t,r,n=this.a.urls||[],i=this.a.families||[],a=this.a.testStrings||{},o=new m;for(t=0,r=n.length;t<r;t++)v(this.c,n[t],y(o));var s=[];for(t=0,r=i.length;t<r;t++)if((n=i[t].split(":"))[1])for(var u=n[1].split(","),c=0;c<u.length;c+=1)s.push(new x(n[0],u[c]));else s.push(new x(n[0]));b(o,(function(){e(s,a)}))};var J="https://fonts.googleapis.com/css";function Z(e){this.f=e,this.a=[],this.c={}}var Q={latin:"BESbswy","latin-ext":"\xe7\xf6\xfc\u011f\u015f",cyrillic:"\u0439\u044f\u0416",greek:"\u03b1\u03b2\u03a3",khmer:"\u1780\u1781\u1782",Hanuman:"\u1780\u1781\u1782"},$={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ee={i:"i",italic:"i",n:"n",normal:"n"},te=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function re(e,t){this.c=e,this.a=t}var ne={Arimo:!0,Cousine:!0,Tinos:!0};function ie(e,t){this.c=e,this.a=t}function ae(e,t){this.c=e,this.f=t,this.a=[]}re.prototype.load=function(e){var t=new m,r=this.c,n=new K(this.a.api,this.a.text),i=this.a.families;!function(e,t){for(var r=t.length,n=0;n<r;n++){var i=t[n].split(":");3==i.length&&e.f.push(i.pop());var a="";2==i.length&&""!=i[1]&&(a=":"),e.a.push(i.join(a))}}(n,i);var a=new Z(i);!function(e){for(var t=e.f.length,r=0;r<t;r++){var n=e.f[r].split(":"),i=n[0].replace(/\+/g," "),a=["n4"];if(2<=n.length){var o;if(o=[],s=n[1])for(var s,u=(s=s.split(",")).length,c=0;c<u;c++){var l;if((l=s[c]).match(/^[\w-]+$/))if(null==(d=te.exec(l.toLowerCase())))l="";else{if(l=null==(l=d[2])||""==l?"n":ee[l],null==(d=d[1])||""==d)d="4";else var d=$[d]||(isNaN(d)?"4":d.substr(0,1));l=[l,d].join("")}else l="";l&&o.push(l)}0<o.length&&(a=o),3==n.length&&(o=[],0<(n=(n=n[2])?n.split(","):o).length&&(n=Q[n[0]])&&(e.c[i]=n))}for(e.c[i]||(n=Q[i])&&(e.c[i]=n),n=0;n<a.length;n+=1)e.a.push(new x(i,a[n]))}}(a),v(r,function(e){if(0==e.a.length)throw Error("No fonts to load!");if(-1!=e.c.indexOf("kit="))return e.c;for(var t=e.a.length,r=[],n=0;n<t;n++)r.push(e.a[n].replace(/ /g,"+"));return t=e.c+"?family="+r.join("%7C"),0<e.f.length&&(t+="&subset="+e.f.join(",")),0<e.g.length&&(t+="&text="+encodeURIComponent(e.g)),t}(n),y(t)),b(t,(function(){e(a.a,a.c,ne)}))},ie.prototype.load=function(e){var t=this.a.id,r=this.c.o;t?g(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",(function(t){if(t)e([]);else if(r.Typekit&&r.Typekit.config&&r.Typekit.config.fn){t=r.Typekit.config.fn;for(var n=[],i=0;i<t.length;i+=2)for(var a=t[i],o=t[i+1],s=0;s<o.length;s++)n.push(new x(a,o[s]));try{r.Typekit.load({events:!1,classes:!1,async:!0})}catch(u){}e(n)}}),2e3):e([])},ae.prototype.load=function(e){var t=this.f.id,r=this.c.o,n=this;t?(r.__webfontfontdeckmodule__||(r.__webfontfontdeckmodule__={}),r.__webfontfontdeckmodule__[t]=function(t,r){for(var i=0,a=r.fonts.length;i<a;++i){var o=r.fonts[i];n.a.push(new x(o.name,T("font-weight:"+o.weight+";font-style:"+o.style)))}e(n.a)},g(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(e){return e.o.location.hostname||e.a.location.hostname}(this.c)+"/"+t+".js",(function(t){t&&e([])}))):e([])};var oe=new q(window);oe.a.c.custom=function(e,t){return new X(t,e)},oe.a.c.fontdeck=function(e,t){return new ae(t,e)},oe.a.c.monotype=function(e,t){return new Y(t,e)},oe.a.c.typekit=function(e,t){return new ie(t,e)},oe.a.c.google=function(e,t){return new re(t,e)};var se={load:o(oe.load,oe)};void 0===(n=function(){return se}.call(t,r,t,e))||(e.exports=n)}()},92078:function(e,t,r){"use strict";e.exports=r.p+"static/media/index.node.a5aea7a5942ffc847452.cjs"},73897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},85372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},63405:function(e,t,r){var n=r(73897);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},66115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},17156:function(e){function t(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,a){var o=e.apply(r,n);function s(e){t(o,i,a,s,u,"next",e)}function u(e){t(o,i,a,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},56690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,r){var n=r(6015),i=r(69617);function a(t,r,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,r){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return r&&n(a,r.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},89728:function(e,t,r){var n=r(64062);function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}e.exports=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},74704:function(e,t,r){var n=r(86116);e.exports=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},26389:function(e,t,r){var n=r(73808),i=r(69617),a=r(94993);e.exports=function(e){var t=i();return function(){var r,i=n(e);if(t){var o=n(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return a(this,r)}},e.exports.__esModule=!0,e.exports.default=e.exports},38416:function(e,t,r){var n=r(64062);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},41588:function(e,t,r){var n=r(1753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,r){var i=n(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},73808:function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},61655:function(e,t,r){var n=r(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},46035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},69617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},79498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},68872:function(e){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},12218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},42281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},42122:function(e,t,r){var n=r(38416);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},70215:function(e,t,r){var n=r(7071);e.exports=function(e,t){if(null==e)return{};var r,i,a=n(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a},e.exports.__esModule=!0,e.exports.default=e.exports},7071:function(e){e.exports=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},94993:function(e,t,r){var n=r(18698).default,i=r(66115);e.exports=function(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},17061:function(e,t,r){var n=r(18698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},r=Object.prototype,a=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(I){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new C(n||[]);return o(a,"_invoke",{value:k(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(I){return{type:"throw",arg:I}}}t.wrap=f;var p={};function v(){}function g(){}function m(){}var y={};d(y,u,(function(){return this}));var b=Object.getPrototypeOf,S=b&&b(b(P([])));S&&S!==r&&a.call(S,u)&&(y=S);var E=m.prototype=v.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(i,o,s,u){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==n(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}})}function k(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return{value:void 0,done:!0}}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=_(o,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var i=h(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}throw new TypeError(n(e)+" is not iterable")}return g.prototype=m,o(E,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:g,configurable:!0}),g.displayName=d(m,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,d(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},x(w.prototype),d(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,a){void 0===a&&(a=Promise);var o=new w(f(e,r,n,i),a);return t.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(E),d(E,l,"Generator"),d(E,u,(function(){return this})),d(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},27424:function(e,t,r){var n=r(85372),i=r(68872),a=r(86116),o=r(12218);e.exports=function(e,t){return n(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,r){var n=r(73808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},51589:function(e,t,r){var n=r(85372),i=r(79498),a=r(86116),o=r(12218);e.exports=function(e){return n(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,r){var n=r(63405),i=r(79498),a=r(86116),o=r(42281);e.exports=function(e){return n(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},95036:function(e,t,r){var n=r(18698).default;e.exports=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},64062:function(e,t,r){var n=r(18698).default,i=r(95036);e.exports=function(e){var t=i(e,"string");return"symbol"===n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},18698:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},86116:function(e,t,r){var n=r(73897);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},33496:function(e,t,r){var n=r(73808),i=r(6015),a=r(46035),o=r(3515);function s(t){var r="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return o(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},64687:function(e,t,r){var n=r(17061)();e.exports=n;try{regeneratorRuntime=n}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},24993:function(e,t){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.debugLog=t.nodeLog=t.seekLog=void 0,t.seekLog=function(e,t){"sentence-splitter"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VIDEOGEN_ENV:"PROD",REACT_APP_NODE_ENV:"production",REACT_APP_COMMIT_INFO:'{"shortSha":"798e492","prod":295}',REACT_APP_FIREBASE_API_KEY:"AIzaSyDKIy6opqNi10RbNV5uePHWtjgVSuypBTA",REACT_APP_FIREBASE_AUTH_DOMAIN:"auth.app.videogen.io",REACT_APP_FIREBASE_PROJECT_ID:"video-gen-271828",REACT_APP_FIREBASE_STORAGE_BUCKET:"video-gen-271828.appspot.com",REACT_APP_FIREBASE_MESSAGE_SENDER_ID:"963680179378",REACT_APP_FIREBASE_APP_ID:"1:963680179378:web:b57e293eadd3eca71b25ab",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-ZQ2M5ZV1WM",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51MsyxeCL8XHlgtoh7Kqjl2DmettykCPYBF7neRAVHk6sUwuF3ergZjga5JThQE8doSUFqGJy4TCWxrZBZNuGWt1R00Wla3xUf8",REACT_APP_STRIPE_TEST_PUBLISHABLE_KEY:"pk_test_51MsyxeCL8XHlgtohdryk9S1ujT3Zit9eCMaSlipz4AIKK0ToWKmb8ozoCBN5x7qpR5P8fcricAk1wuod2uRXMa0t00RgkxBbOn"}.DEBUG&&console.log("sentence-splitter: "+e,t)},t.nodeLog=function(e,t){if("sentence-splitter"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VIDEOGEN_ENV:"PROD",REACT_APP_NODE_ENV:"production",REACT_APP_COMMIT_INFO:'{"shortSha":"798e492","prod":295}',REACT_APP_FIREBASE_API_KEY:"AIzaSyDKIy6opqNi10RbNV5uePHWtjgVSuypBTA",REACT_APP_FIREBASE_AUTH_DOMAIN:"auth.app.videogen.io",REACT_APP_FIREBASE_PROJECT_ID:"video-gen-271828",REACT_APP_FIREBASE_STORAGE_BUCKET:"video-gen-271828.appspot.com",REACT_APP_FIREBASE_MESSAGE_SENDER_ID:"963680179378",REACT_APP_FIREBASE_APP_ID:"1:963680179378:web:b57e293eadd3eca71b25ab",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-ZQ2M5ZV1WM",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51MsyxeCL8XHlgtoh7Kqjl2DmettykCPYBF7neRAVHk6sUwuF3ergZjga5JThQE8doSUFqGJy4TCWxrZBZNuGWt1R00Wla3xUf8",REACT_APP_STRIPE_TEST_PUBLISHABLE_KEY:"pk_test_51MsyxeCL8XHlgtohdryk9S1ujT3Zit9eCMaSlipz4AIKK0ToWKmb8ozoCBN5x7qpR5P8fcricAk1wuod2uRXMa0t00RgkxBbOn"}.DEBUG)if(t){var r=t.readNode();if(r){var n=(t.read()||"").replace(/\n/g,"\\n"),i=r.raw.replace(/\n/g,"\\n");console.log("sentence-splitter: "+t.offset+" "+e+" |"+n+"| "+" ".repeat(50-n.length-e.length)+i)}else console.log("sentence-splitter: "+e)}else console.log("sentence-splitter: "+e)},t.debugLog=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"sentence-splitter"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VIDEOGEN_ENV:"PROD",REACT_APP_NODE_ENV:"production",REACT_APP_COMMIT_INFO:'{"shortSha":"798e492","prod":295}',REACT_APP_FIREBASE_API_KEY:"AIzaSyDKIy6opqNi10RbNV5uePHWtjgVSuypBTA",REACT_APP_FIREBASE_AUTH_DOMAIN:"auth.app.videogen.io",REACT_APP_FIREBASE_PROJECT_ID:"video-gen-271828",REACT_APP_FIREBASE_STORAGE_BUCKET:"video-gen-271828.appspot.com",REACT_APP_FIREBASE_MESSAGE_SENDER_ID:"963680179378",REACT_APP_FIREBASE_APP_ID:"1:963680179378:web:b57e293eadd3eca71b25ab",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-ZQ2M5ZV1WM",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51MsyxeCL8XHlgtoh7Kqjl2DmettykCPYBF7neRAVHk6sUwuF3ergZjga5JThQE8doSUFqGJy4TCWxrZBZNuGWt1R00Wla3xUf8",REACT_APP_STRIPE_TEST_PUBLISHABLE_KEY:"pk_test_51MsyxeCL8XHlgtohdryk9S1ujT3Zit9eCMaSlipz4AIKK0ToWKmb8ozoCBN5x7qpR5P8fcricAk1wuod2uRXMa0t00RgkxBbOn"}.DEBUG&&console.log.apply(console,r(["sentence-splitter: "],e.map((function(e){return"string"===typeof e?e.replace(/\n/g,"\\n"):e}))))}},50029:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbbrMarker=void 0;var n=r(71991),i=function(e){return!(!e||0===e.length)&&/^[A-Z]/.test(e)},a=function(e,t){return e.toLowerCase()===t.toLowerCase()},o=function(){function e(e){void 0===e&&(e=n.English),this.lang=e}return e.prototype.getWord=function(e,t){void 0===t&&(t=0);var r=/\s/,n=e.read(-1);if(n&&!r.test(n))return"";for(var i="",a=t,o="";(o=e.read(a))&&!r.test(o);)i+=o,a++;return i},e.prototype.getPrevWord=function(e){for(var t=/\s/,r=-1,n="";(n=e.read(r))&&t.test(n);)r--;for(;(n=e.read(r))&&!t.test(n);)r--;return this.getWord(e,r+1)},e.prototype.mark=function(e){if(!e.isInContextRange()){var t=this.getWord(e);if(0!==t.length){if(/^([a-zA-Z]\.){3,}$/.test(t))return e.markContextRange([e.offset,e.offset+t.length]);if(this.lang.EXCALAMATION_WORDS.some((function(e){return a(e,t)})))return e.markContextRange([e.offset,e.offset+t.length]);if(this.lang.PREPOSITIVE_ABBREVIATIONS.some((function(e){return a(e,t)})))return e.markContextRange([e.offset,e.offset+t.length]);var r=this.lang.ABBREVIATIONS.some((function(e){return a(e,t)})),n=this.getPrevWord(e),o=this.getWord(e,t.length+1);(i(n)&&/^[A-Z]\./.test(t)&&i(o)||r&&!i(o))&&e.markContextRange([e.offset,e.offset+t.length])}}},e}();t.AbbrMarker=o},8079:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnyValueParser=void 0;var n=r(24993),i=function(){function e(e){this.parsers=e.parsers,this.markers=e.markers}return e.prototype.test=function(e){return!e.hasEnd&&this.parsers.every((function(t){return!t.test(e)}))},e.prototype.seek=function(e){var t=e.readNode();if(t)for(var r=function(){var r=e.offset;return t.range[0]<=r&&r<t.range[1]};r()&&this.test(e);)n.seekLog(e.offset,e.read()),this.markers.forEach((function(t){return t.mark(e)})),e.peek();else for(;this.test(e);)this.markers.forEach((function(t){return t.mark(e)})),e.peek()},e}();t.AnyValueParser=i},33054:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NewLineParser=void 0;var r=function(){function e(){}return e.prototype.test=function(e){var t=e.read();return!!t&&/[\r\n]/.test(t)},e.prototype.seek=function(e){for(;this.test(e);)e.peek()},e}();t.NewLineParser=r},52859:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PairMaker=void 0;var i=r(24993),a=n(r(76450)),o=function(){function e(){var e;this.pairs=((e={})['"']='"',e["\u300c"]="\u300d",e["\uff08"]="\uff09",e["("]=")",e["\u300e"]="\u300f",e["\u3010"]="\u3011",e["\u300a"]="\u300b",e),this.pairKeys=Object.keys(this.pairs),this.pairValues=a.default(this.pairs)}return e.prototype.mark=function(e){var t=e.read();if(t)if(e.isInContext()){var r=this.pairValues.indexOf(t);if(-1!==r){a=this.pairKeys[r];i.debugLog("PairMaker -> leaveContext: "+this.pairValues[r]+" ",{valueIndex:r}),e.leaveContext(a)}}else{var n=this.pairKeys.indexOf(t);if(-1!==n){var a=this.pairKeys[n];i.debugLog("PairMaker -> enterContext: "+a+" ",{keyIndex:n}),e.enterContext(a)}}},e}();t.PairMaker=o},57878:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeparatorParser=t.DefaultOptions=void 0,t.DefaultOptions={separatorCharacters:[".","\uff0e","\u3002","?","!","\uff1f","\uff01"]};var r=function(){function e(e){this.options=e,this.separatorCharacters=e&&e.separatorCharacters?e.separatorCharacters:t.DefaultOptions.separatorCharacters}return e.prototype.test=function(e){if(e.isInContext())return!1;if(e.isInContextRange())return!1;var t=e.read(),r=e.read(1);return!!t&&(!!this.separatorCharacters.includes(t)&&("."!==t||(!r||/[\s\t\r\n]/.test(r))))},e.prototype.seek=function(e){for(;this.test(e);)e.peek()},e}();t.SeparatorParser=r},88529:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SourceCode=void 0;var i=n(r(66151)),a=function(){function e(e){if(this.index=0,this.contexts=[],this.contextRanges=[],"string"===typeof e)this.textCharacters=e.split(""),this.source=new i.default(e),this.startOffset=0,this.firstChildPadding=0;else{this.sourceNode=e,this.startOffset=this.sourceNode.range[0],this.index=this.startOffset;var t=Array.from(new Array(this.sourceNode.loc.start.line-1)).fill("\n"),r=Array.from(new Array(this.startOffset-t.length)).fill("\u222f");this.textCharacters=r.concat(t,e.raw.split("")),this.source=new i.default(this.textCharacters.join("")),this.sourceNode.children[0]?this.firstChildPadding=this.sourceNode.children[0].range[0]-this.startOffset:this.firstChildPadding=0}}return e.prototype.markContextRange=function(e){this.contextRanges.push(e)},e.prototype.isInContextRange=function(){var e=this.offset;return this.contextRanges.some((function(t){return t[0]<=e&&e<t[1]}))},e.prototype.enterContext=function(e){this.contexts.push(e)},e.prototype.isInContext=function(e){return e?this.contexts.some((function(t){return t===e})):this.contexts.length>0},e.prototype.leaveContext=function(e){var t=this.contexts.lastIndexOf(e);-1!==t&&this.contexts.splice(t,1)},Object.defineProperty(e.prototype,"offset",{get:function(){return this.index+this.firstChildPadding},enumerable:!1,configurable:!0}),e.prototype.now=function(){var e=this.offset,t=this.source.indexToPosition(e);return{line:t.line,column:t.column,offset:e}},Object.defineProperty(e.prototype,"hasEnd",{get:function(){return!1===this.read()},enumerable:!1,configurable:!0}),e.prototype.read=function(e){void 0===e&&(e=0);var t=this.offset+e;return!(t<this.startOffset)&&(0<=t&&t<this.textCharacters.length&&this.textCharacters[t])},e.prototype.readNode=function(e){if(void 0===e&&(e=0),!this.sourceNode)return!1;var t=this.offset+e;if(t<this.startOffset)return!1;var r=this.sourceNode.children.filter((function(e){return e.range[0]<=t&&t<e.range[1]}));return r.length>0&&r[r.length-1]},e.prototype.peek=function(){this.index+=1},e.prototype.peekNode=function(e){this.index+=e.range[1]-e.range[0]},e.prototype.seekNext=function(e){var t=this.now();e.seek(this);var r=this.now();return{value:this.sliceRange(t.offset,r.offset),startPosition:t,endPosition:r}},e.prototype.sliceRange=function(e,t){return this.textCharacters.slice(e,t).join("")},e}();t.SourceCode=a},47652:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpaceParser=void 0;var r=function(){function e(){}return e.prototype.test=function(e){var t=e.read();return!!t&&/[^\S\n\r]/.test(t)},e.prototype.seek=function(e){for(;this.test(e);)e.peek()},e}();t.SpaceParser=r},71991:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.English=void 0,t.English={ABBREVIATIONS:["Adj.","Adm.","Adv.","Al.","Ala.","Alta.","Apr.","Arc.","Ariz.","Ark.","Art.","Assn.","Asst.","Attys.","Aug.","Ave.","Bart.","Bld.","Bldg.","Blvd.","Brig.","Bros.","Btw.","Cal.","Calif.","Capt.","Cl.","Cmdr.","Co.","Col.","Colo.","Comdr.","Con.","Conn.","Corp.","Cpl.","Cres.","Ct.","D.phil.","Dak.","Dec.","Del.","Dept.","Det.","Dist.","Dr.","Dr.phil.","Dr.philos.","Drs.","E.g.","Ens.","Esp.","Esq.","Etc.","Exp.","Expy.","Ext.","Feb.","Fed.","Fla.","Ft.","Fwy.","Fy.","Ga.","Gen.","Gov.","Hon.","Hosp.","Hr.","Hway.","Hwy.","I.e.","Ia.","Id.","Ida.","Ill.","Inc.","Ind.","Ing.","Insp.","Is.","Jan.","Jr.","Jul.","Jun.","Kan.","Kans.","Ken.","Ky.","La.","Lt.","Ltd.","Maj.","Man.","Mar.","Mass.","May.","Md.","Me.","Med.","Messrs.","Mex.","Mfg.","Mich.","Min.","Minn.","Miss.","Mlle.","Mm.","Mme.","Mo.","Mont.","Mr.","Mrs.","Ms.","Msgr.","Mssrs.","Mt.","Mtn.","Neb.","Nebr.","Nev.","No.","Nos.","Nov.","Nr.","Oct.","Ok.","Okla.","Ont.","Op.","Ord.","Ore.","P.","Pa.","Pd.","Pde.","Penn.","Penna.","Pfc.","Ph.","Ph.d.","Pl.","Plz.","Pp.","Prof.","Pvt.","Que.","Rd.","Rs.","Ref.","Rep.","Reps.","Res.","Rev.","Rt.","Sask.","Sec.","Sen.","Sens.","Sep.","Sept.","Sfc.","Sgt.","Sr.","St.","Supt.","Surg.","Tce.","Tenn.","Tex.","Univ.","Usafa.","U.S.","Ut.","Va.","V.","Ver.","Vs.","Vt.","Wash.","Wis.","Wisc.","Wy.","Wyo.","Yuk."],PREPOSITIVE_ABBREVIATIONS:["Adm.","Attys.","Brig.","Capt.","Cmdr.","Col.","Cpl.","Det.","Dr.","Gen.","Gov.","Ing.","Lt.","Maj.","Mr.","Mrs.","Ms.","Mt.","Messrs.","Mssrs.","Prof.","Ph.","Rep.","Reps.","Rev.","Sen.","Sens.","Sgt.","St.","Supt.","V.","Vs."],EXCALAMATION_WORDS:["!X\u0169","!Kung","\u01c3\u02bcO\u01c3Kung","!Xuun","!Kung-Ekoka","\u01c3Hu","\u01c3Khung","\u01c3Ku","\u01c3ung","\u01c3Xo","\u01c3X\xfb","\u01c3Xung","\u01c3X\u0169","!Xun","Yahoo!","Y!J","Yum!"]}},61865:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createNode=t.createEmptySentenceNode=t.createTextNode=t.createPunctuationNode=t.createWhiteSpaceNode=t.splitAST=t.split=t.SplitParser=t.Syntax=void 0;var i=r(14520),a=r(88529),o=r(33054),s=r(47652),u=r(57878),c=r(8079),l=r(50029),d=r(52859),f=r(24993);t.Syntax={WhiteSpace:"WhiteSpace",Punctuation:"Punctuation",Sentence:"Sentence",Str:"Str"};var h=function(){function e(e){this.nodeList=[],this.results=[],this.source=new a.SourceCode(e)}return Object.defineProperty(e.prototype,"current",{get:function(){return this.nodeList[this.nodeList.length-1]},enumerable:!1,configurable:!0}),e.prototype.pushNodeToCurrent=function(e){var t=this.current;t?t.children.push(e):this.results.push(e)},e.prototype.open=function(e){this.nodeList.push(e)},e.prototype.isOpened=function(){return this.nodeList.length>0},e.prototype.nextLine=function(e){var t=this.source.seekNext(e),r=t.value,n=t.startPosition,i=t.endPosition;return this.pushNodeToCurrent(v(r,n,i)),i},e.prototype.nextSpace=function(e){var t=this.source.seekNext(e),r=t.value,n=t.startPosition,i=t.endPosition;this.pushNodeToCurrent(b("WhiteSpace",r,n,i))},e.prototype.nextValue=function(e){var t=this.source.seekNext(e),r=t.value,n=t.startPosition,i=t.endPosition;this.pushNodeToCurrent(m(r,n,i))},e.prototype.close=function(e){var t=this.source.seekNext(e),r=t.value,n=t.startPosition,i=t.endPosition;n.offset!==i.offset&&this.pushNodeToCurrent(g(r,n,i));var a=this.nodeList.pop();if(a&&0!==a.children.length){var o=a.children[0],s=this.source.now();a.loc={start:o.loc.start,end:S(s)};var u=this.source.sliceRange(o.range[0],s.offset);a.range=[o.range[0],s.offset],a.raw=u,this.results.push(a)}},e.prototype.toList=function(){return this.results},e}();t.SplitParser=h;var p=function(e){void 0===e&&(e={});var t=new o.NewLineParser,r=new s.SpaceParser,n=new u.SeparatorParser(e.SeparatorParser),i=new l.AbbrMarker,a=new d.PairMaker;return{newLine:t,space:r,separator:n,abbrMarker:i,anyValueParser:new c.AnyValueParser({parsers:[t,n],markers:[i,a]})}};function v(e,t,r){return b("WhiteSpace",e,t,r)}function g(e,t,r){return b("Punctuation",e,t,r)}function m(e,t,r){return b("Str",e,t,r)}function y(){return{type:"Sentence",raw:"",loc:{start:{column:NaN,line:NaN},end:{column:NaN,line:NaN}},range:[NaN,NaN],children:[]}}function b(e,t,r,n){return{type:e,raw:t,value:t,loc:{start:S(r),end:S(n)},range:[r.offset,n.offset]}}function S(e){return{line:e.line,column:e.column}}t.split=function(e,t){for(var r=p(t),n=r.newLine,i=r.space,a=r.separator,o=r.anyValueParser,s=new h(e),u=s.source;!u.hasEnd;)n.test(u)?s.nextLine(n):i.test(u)?s.nextSpace(i):a.test(u)?s.close(a):(s.isOpened()||s.open(y()),s.nextValue(o));return s.close(i),s.toList()},t.splitAST=function(e,t){for(var r=p(t),a=r.newLine,o=r.space,s=r.separator,u=r.anyValueParser,c=new h(e),l=c.source;!l.hasEnd;){var d=l.readNode();if(!d)break;d.type===i.ASTNodeTypes.Str?o.test(l)?(f.nodeLog("space",l),c.nextSpace(o)):s.test(l)?(f.nodeLog("separator",l),c.close(s)):a.test(l)?(f.nodeLog("newline",l),c.nextLine(a)):(c.isOpened()||(f.nodeLog("open -> createEmptySentenceNode()"),c.open(y())),f.nodeLog("other str value",l),c.nextValue(u)):d.type===i.ASTNodeTypes.Break?(f.nodeLog("break",l),c.pushNodeToCurrent(d),l.peekNode(d)):(c.isOpened()||(f.nodeLog("open -> createEmptySentenceNode()"),c.open(y())),f.nodeLog("other node",l),c.pushNodeToCurrent(d),l.peekNode(d))}return f.nodeLog("end separator"),c.close(o),n(n({},e),{children:c.toList()})},t.createWhiteSpaceNode=v,t.createPunctuationNode=g,t.createTextNode=m,t.createEmptySentenceNode=y,t.createNode=b},26211:function(e){"use strict";e.exports=JSON.parse('{"z":["ahole","anus","ash0le","ash0les","asholes","ass","Ass Monkey","Assface","assh0le","assh0lez","asshole","assholes","assholz","asswipe","azzhole","bassterds","bastard","bastards","bastardz","basterds","basterdz","Biatch","bitch","bitches","Blow Job","boffing","butthole","buttwipe","c0ck","c0cks","c0k","Carpet Muncher","cawk","cawks","Clit","cnts","cntz","cock","cockhead","cock-head","cocks","CockSucker","cock-sucker","crap","cum","cunt","cunts","cuntz","dick","dild0","dild0s","dildo","dildos","dilld0","dilld0s","dominatricks","dominatrics","dominatrix","dyke","enema","f u c k","f u c k e r","fag","fag1t","faget","fagg1t","faggit","faggot","fagg0t","fagit","fags","fagz","faig","faigs","fart","flipping the bird","fuck","fucker","fuckin","fucking","fucks","Fudge Packer","fuk","Fukah","Fuken","fuker","Fukin","Fukk","Fukkah","Fukken","Fukker","Fukkin","g00k","God-damned","h00r","h0ar","h0re","hells","hoar","hoor","hoore","jackoff","jap","japs","jerk-off","jisim","jiss","jizm","jizz","knob","knobs","knobz","kunt","kunts","kuntz","Lezzian","Lipshits","Lipshitz","masochist","masokist","massterbait","masstrbait","masstrbate","masterbaiter","masterbate","masterbates","Motha Fucker","Motha Fuker","Motha Fukkah","Motha Fukker","Mother Fucker","Mother Fukah","Mother Fuker","Mother Fukkah","Mother Fukker","mother-fucker","Mutha Fucker","Mutha Fukah","Mutha Fuker","Mutha Fukkah","Mutha Fukker","n1gr","nastt","nigger;","nigur;","niiger;","niigr;","orafis","orgasim;","orgasm","orgasum","oriface","orifice","orifiss","packi","packie","packy","paki","pakie","paky","pecker","peeenus","peeenusss","peenus","peinus","pen1s","penas","penis","penis-breath","penus","penuus","Phuc","Phuck","Phuk","Phuker","Phukker","polac","polack","polak","Poonani","pr1c","pr1ck","pr1k","pusse","pussee","pussy","puuke","puuker","qweir","recktum","rectum","retard","sadist","scank","schlong","screwing","semen","sex","sexy","Sh!t","sh1t","sh1ter","sh1ts","sh1tter","sh1tz","shit","shits","shitter","Shitty","Shity","shitz","Shyt","Shyte","Shytty","Shyty","skanck","skank","skankee","skankey","skanks","Skanky","slag","slut","sluts","Slutty","slutz","son-of-a-bitch","tit","turd","va1jina","vag1na","vagiina","vagina","vaj1na","vajina","vullva","vulva","w0p","wh00r","wh0re","whore","xrated","xxx","b!+ch","bitch","blowjob","clit","arschloch","fuck","shit","ass","asshole","b!tch","b17ch","b1tch","bastard","bi+ch","boiolas","buceta","c0ck","cawk","chink","cipa","clits","cock","cum","cunt","dildo","dirsa","ejakulate","fatass","fcuk","fuk","fux0r","hoer","hore","jism","kawk","l3itch","l3i+ch","masturbate","masterbat*","masterbat3","motherfucker","s.o.b.","mofo","nazi","nigga","nigger","nutsack","phuck","pimpis","pusse","pussy","scrotum","sh!t","shemale","shi+","sh!+","slut","smut","teets","tits","boobs","b00bs","teez","testical","testicle","titt","w00se","jackoff","wank","whoar","whore","*damn","*dyke","*fuck*","*shit*","@$$","amcik","andskota","arse*","assrammer","ayir","bi7ch","bitch*","bollock*","breasts","butt-pirate","cabron","cazzo","chraa","chuj","Cock*","cunt*","d4mn","daygo","dego","dick*","dike*","dupa","dziwka","ejackulate","Ekrem*","Ekto","enculer","faen","fag*","fanculo","fanny","feces","feg","Felcher","ficken","fitt*","Flikker","foreskin","Fotze","Fu(*","fuk*","futkretzn","gook","guiena","h0r","h4x0r","hell","helvete","hoer*","honkey","Huevon","hui","injun","jizz","kanker*","kike","klootzak","kraut","knulle","kuk","kuksuger","Kurac","kurwa","kusi*","kyrpa*","lesbo","mamhoon","masturbat*","merd*","mibun","monkleigh","mouliewop","muie","mulkku","muschi","nazis","nepesaurio","nigger*","orospu","paska*","perse","picka","pierdol*","pillu*","pimmel","piss*","pizda","poontsee","poop","porn","p0rn","pr0n","preteen","pula","pule","puta","puto","qahbeh","queef*","rautenberg","schaffer","scheiss*","schlampe","schmuck","screw","sh!t*","sharmuta","sharmute","shipal","shiz","skribz","skurwysyn","sphencter","spic","spierdalaj","splooge","suka","b00b*","testicle*","titt*","twat","vittu","wank*","wetback*","wichser","wop*","yed","zabourah"]}')}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};r.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"===typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"===typeof n.then)return n}var a=Object.create(null);r.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return n[e]}}));return o.default=function(){return n},r.d(a,o),a}}(),r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},r.p="/",function(){"use strict";r(13341);var e,t=r(47313),n=r.t(t,2),i=r(21739);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e,t){if(e){if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function u(e){return function(e){if(Array.isArray(e))return a(e)}(e)||o(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function d(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function h(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){var t=m();return function(){var r,n=g(e);if(t){var i=g(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,r)}}function S(e,t,r){return S=m()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&p(i,r.prototype),i},S.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return S(e,arguments,g(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)},E(e)}function x(e){if(Array.isArray(e))return e}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(e,t){return x(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||s(e,t)||w()}function _(e){return x(e)||o(e)||s(e)||w()}function T(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw a}}}}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var C,P="popstate";function I(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function O(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function R(e,t){return{usr:e.state,key:e.key,idx:t}}function N(e,t,r,n){return void 0===r&&(r=null),A({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?j(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function L(e){var t=e.pathname,r=void 0===t?"/":t,n=e.search,i=void 0===n?"":n,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(r+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(r+="#"===o.charAt(0)?o:"#"+o),r}function j(e){var t={};if(e){var r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));var n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function M(t,r,n,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,d=e.Pop,f=null,h=p();function p(){return(l.state||{idx:null}).idx}function v(){d=e.Pop;var t=p(),r=null==t?null:t-h;h=t,f&&f({action:d,location:m.location,delta:r})}function g(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,r="string"===typeof e?e:L(e);return I(t,"No window.location.(origin|href) available to create URL for href: "+(r=r.replace(/ $/,"%20"))),new URL(r,t)}null==h&&(h=0,l.replaceState(A({},l.state,{idx:h}),""));var m={get action(){return d},get location(){return t(s,l)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(P,v),f=e,function(){s.removeEventListener(P,v),f=null}},createHref:function(e){return r(s,e)},createURL:g,encodeLocation:function(e){var t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,r){d=e.Push;var i=N(m.location,t,r);n&&n(i,t);var a=R(i,h=p()+1),o=m.createHref(i);try{l.pushState(a,"",o)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(o)}c&&f&&f({action:d,location:m.location,delta:1})},replace:function(t,r){d=e.Replace;var i=N(m.location,t,r);n&&n(i,t);var a=R(i,h=p()),o=m.createHref(i);l.replaceState(a,"",o),c&&f&&f({action:d,location:m.location,delta:0})},go:function(e){return l.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(C||(C={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function D(e,t,r){void 0===r&&(r="/");var n=Z(("string"===typeof t?j(t):t).pathname||"/",r);if(null==n)return null;var i=F(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var r=e.length===t.length&&e.slice(0,-1).every((function(e,r){return e===t[r]}));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o){var s=J(n);a=X(i[o],s)}return a}function F(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(I(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(n.length));var s=re([n,o.relativePath]),u=r.concat(o);e.children&&e.children.length>0&&(I(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),F(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Y(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?")){var n,a=T(U(e.path));try{for(a.s();!(n=a.n()).done;){var o=n.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function U(e){var t=e.split("/");if(0===t.length)return[];var r=_(t),n=r[0],i=r.slice(1),a=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=U(i.join("/")),c=[];return c.push.apply(c,u(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&c.push.apply(c,u(s)),c.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var B=/^:[\w-]+$/,G=3,V=2,H=1,W=10,q=-2,z=function(e){return"*"===e};function Y(e,t){var r=e.split("/"),n=r.length;return r.some(z)&&(n+=q),t&&(n+=V),r.filter((function(e){return!z(e)})).reduce((function(e,t){return e+(B.test(t)?G:""===t?H:W)}),n)}function X(e,t){for(var r=e.routesMeta,n={},i="/",a=[],o=0;o<r.length;++o){var s=r[o],u=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",l=K({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(n,l.params);var d=s.route;a.push({params:n,pathname:re([i,l.pathname]),pathnameBase:ne(re([i,l.pathnameBase])),route:d}),"/"!==l.pathnameBase&&(i=re([i,l.pathnameBase]))}return a}function K(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var r=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);O("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(function(e,t,r){return n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"}));e.endsWith("*")?(n.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,n]}(e.path,e.caseSensitive,e.end),n=k(r,2),i=n[0],a=n[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),l=a.reduce((function(e,t,r){var n=t.paramName,i=t.isOptional;if("*"===n){var a=c[r]||"";u=s.slice(0,s.length-a.length).replace(/(.)\/+$/,"$1")}var o=c[r];return e[n]=i&&!o?void 0:(o||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:u,pattern:e}}function J(e){try{return e.split("/").map((function(e){return decodeURIComponent(e).replace(/\//g,"%2F")})).join("/")}catch(t){return O(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function Q(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function $(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ee(e,t){var r=$(e);return t?r.map((function(t,r){return r===e.length-1?t.pathname:t.pathnameBase})):r.map((function(e){return e.pathnameBase}))}function te(e,t,r,n){var i;void 0===n&&(n=!1),"string"===typeof e?i=j(e):(I(!(i=A({},e)).pathname||!i.pathname.includes("?"),Q("?","pathname","search",i)),I(!i.pathname||!i.pathname.includes("#"),Q("#","pathname","hash",i)),I(!i.search||!i.search.includes("#"),Q("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(null==s)a=r;else{var u=t.length-1;if(!n&&s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var r="string"===typeof e?j(e):e,n=r.pathname,i=r.search,a=void 0===i?"":i,o=r.hash,s=void 0===o?"":o,u=n?n.startsWith("/")?n:function(e,t){var r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(n,t):t;return{pathname:u,search:ie(a),hash:ae(s)}}(i,a),d=s&&"/"!==s&&s.endsWith("/"),f=(o||"."===s)&&r.endsWith("/");return l.pathname.endsWith("/")||!d&&!f||(l.pathname+="/"),l}var re=function(e){return e.join("/").replace(/\/\/+/g,"/")},ne=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},oe=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r)}(E(Error));function se(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ue=["post","put","patch","delete"],ce=(new Set(ue),["get"].concat(ue));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},le.apply(this,arguments)}var de=t.createContext(null);var fe=t.createContext(null);var he=t.createContext(null);var pe=t.createContext(null);var ve=t.createContext(null);var ge=t.createContext({outlet:null,matches:[],isDataRoute:!1});var me=t.createContext(null);function ye(){return null!=t.useContext(ve)}function be(){return ye()||I(!1),t.useContext(ve).location}function Se(e){t.useContext(pe).static||t.useLayoutEffect(e)}function Ee(){return t.useContext(ge).isDataRoute?function(){var e=Re(Ie.UseNavigateStable).router,r=Le(Oe.UseNavigateStable),n=t.useRef(!1);Se((function(){n.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),n.current&&("number"===typeof t?e.navigate(t):e.navigate(t,le({fromRouteId:r},i)))}),[e,r]);return i}():function(){ye()||I(!1);var e=t.useContext(de),r=t.useContext(pe),n=r.basename,i=r.future,a=r.navigator,o=t.useContext(ge).matches,s=be().pathname,u=JSON.stringify(ee(o,i.v7_relativeSplatPath)),c=t.useRef(!1);Se((function(){c.current=!0}));var l=t.useCallback((function(t,r){if(void 0===r&&(r={}),c.current)if("number"!==typeof t){var i=te(t,JSON.parse(u),s,"path"===r.relative);null==e&&"/"!==n&&(i.pathname="/"===i.pathname?n:re([n,i.pathname])),(r.replace?a.replace:a.push)(i,r.state,r)}else a.go(t)}),[n,a,u,s,e]);return l}()}function xe(){var e=t.useContext(ge).matches,r=e[e.length-1];return r?r.params:{}}function we(e,r){var n=(void 0===r?{}:r).relative,i=t.useContext(pe).future,a=t.useContext(ge).matches,o=be().pathname,s=JSON.stringify(ee(a,i.v7_relativeSplatPath));return t.useMemo((function(){return te(e,JSON.parse(s),o,"path"===n)}),[e,s,o,n])}function ke(r,n,i,a){ye()||I(!1);var o,s=t.useContext(pe).navigator,u=t.useContext(ge).matches,c=u[u.length-1],l=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/"),f=(c&&c.route,be());if(n){var h,p="string"===typeof n?j(n):n;"/"===d||(null==(h=p.pathname)?void 0:h.startsWith(d))||I(!1),o=p}else o=f;var v=o.pathname||"/",g=v;if("/"!==d){var m=d.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(m.length).join("/")}var y=D(r,{pathname:g});var b=Pe(y&&y.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:re([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:re([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,i,a);return n&&b?t.createElement(ve.Provider,{value:{location:le({pathname:"/",search:"",hash:"",state:null,key:"default"},o),navigationType:e.Pop}},b):b}function _e(){var e=function(){var e,r=t.useContext(me),n=Ne(Oe.UseRouteError),i=Le(Oe.UseRouteError);if(void 0!==r)return r;return null==(e=n.errors)?void 0:e[i]}(),r=se(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},r),n?t.createElement("pre",{style:a},n):null,null)}var Te=t.createElement(_e,null),Ae=function(e){v(n,e);var r=b(n);function n(e){var t;return c(this,n),(t=r.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return h(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return void 0!==this.state.error?t.createElement(ge.Provider,{value:this.props.routeContext},t.createElement(me.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(t.Component);function Ce(e){var r=e.routeContext,n=e.match,i=e.children,a=t.useContext(de);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),t.createElement(ge.Provider,{value:r},i)}function Pe(e,r,n,i){var a;if(void 0===r&&(r=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}var s=e,u=null==(a=n)?void 0:a.errors;if(null!=u){var c=s.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));c>=0||I(!1),s=s.slice(0,Math.min(s.length,c+1))}var l=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(var f=0;f<s.length;f++){var h=s[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){var p=n,v=p.loaderData,g=p.errors,m=h.route.loader&&void 0===v[h.route.id]&&(!g||void 0===g[h.route.id]);if(h.route.lazy||m){l=!0,s=d>=0?s.slice(0,d+1):[s[0]];break}}}return s.reduceRight((function(e,i,a){var o,c=!1,f=null,h=null;n&&(o=u&&i.route.id?u[i.route.id]:void 0,f=i.route.errorElement||Te,l&&(d<0&&0===a?(!function(e,t,r){t||je[e]||(je[e]=!0)}("route-fallback",!1),c=!0,h=null):d===a&&(c=!0,h=i.route.hydrateFallbackElement||null)));var p=r.concat(s.slice(0,a+1)),v=function(){var r;return r=o?f:c?h:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Ce,{match:i,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:r})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(Ae,{location:n.location,revalidation:n.revalidation,component:f,error:o,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()}),null)}var Ie=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ie||{}),Oe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Oe||{});function Re(e){var r=t.useContext(de);return r||I(!1),r}function Ne(e){var r=t.useContext(fe);return r||I(!1),r}function Le(e){var r=function(e){var r=t.useContext(ge);return r||I(!1),r}(),n=r.matches[r.matches.length-1];return n.route.id||I(!1),n.route.id}var je={};n.startTransition;function Me(e){I(!1)}function De(r){var n=r.basename,i=void 0===n?"/":n,a=r.children,o=void 0===a?null:a,s=r.location,u=r.navigationType,c=void 0===u?e.Pop:u,l=r.navigator,d=r.static,f=void 0!==d&&d,h=r.future;ye()&&I(!1);var p=i.replace(/^\/*/,"/"),v=t.useMemo((function(){return{basename:p,navigator:l,static:f,future:le({v7_relativeSplatPath:!1},h)}}),[p,h,l,f]);"string"===typeof s&&(s=j(s));var g=s,m=g.pathname,y=void 0===m?"/":m,b=g.search,S=void 0===b?"":b,E=g.hash,x=void 0===E?"":E,w=g.state,k=void 0===w?null:w,_=g.key,T=void 0===_?"default":_,A=t.useMemo((function(){var e=Z(y,p);return null==e?null:{location:{pathname:e,search:S,hash:x,state:k,key:T},navigationType:c}}),[p,y,S,x,k,T,c]);return null==A?null:t.createElement(pe.Provider,{value:v},t.createElement(ve.Provider,{children:o,value:A}))}function Fe(e){var t=e.children,r=e.location;return ke(Ge(t),r)}var Ue=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Ue||{}),Be=new Promise((function(){}));t.Component;function Ge(e,r){void 0===r&&(r=[]);var n=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(u(r),[i]);if(e.type!==t.Fragment){e.type!==Me&&I(!1),e.props.index&&e.props.children&&I(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ge(e.props.children,a)),n.push(o)}else n.push.apply(n,Ge(e.props.children,a))}})),n}function Ve(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function He(e,t){if(null==e)return{};var r,n,i=Ve(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function We(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(r),!0).forEach((function(t){We(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ye(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Ye(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}var Xe=function(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Ye(e))&&(n&&(n+=" "),n+=t);return n},Ke=["theme","type","isLoading"],Je=function(e){return"number"==typeof e&&!isNaN(e)},Ze=function(e){return"string"==typeof e},Qe=function(e){return"function"==typeof e},$e=function(e){return Ze(e)||Qe(e)?e:null},et=function(e){return(0,t.isValidElement)(e)||Ze(e)||Qe(e)||Je(e)};function tt(e){var r=e.enter,n=e.exit,i=e.appendPosition,a=void 0!==i&&i,o=e.collapse,s=void 0===o||o,c=e.collapseDuration,l=void 0===c?300:c;return function(e){var i=e.children,o=e.position,c=e.preventExitTransition,d=e.done,f=e.nodeRef,h=e.isIn,p=e.playToast,v=a?"".concat(r,"--").concat(o):r,g=a?"".concat(n,"--").concat(o):n,m=(0,t.useRef)(0);return(0,t.useLayoutEffect)((function(){var e,t=f.current,r=v.split(" "),n=function e(n){var i;n.target===f.current&&(p(),t.removeEventListener("animationend",e),t.removeEventListener("animationcancel",e),0===m.current&&"animationcancel"!==n.type&&(i=t.classList).remove.apply(i,u(r)))};(e=t.classList).add.apply(e,u(r)),t.addEventListener("animationend",n),t.addEventListener("animationcancel",n)}),[]),(0,t.useEffect)((function(){var e=f.current,t=function t(){e.removeEventListener("animationend",t),s?function(e,t,r){void 0===r&&(r=300);var n=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=n+"px",i.transition="all ".concat(r,"ms"),requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,r)}))}))}(e,d,l):d()};h||(c?t():(m.current=1,e.className+=" ".concat(g),e.addEventListener("animationend",t)))}),[h]),t.createElement(t.Fragment,null,i)}}function rt(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}var nt=new Map,it=[],at=new Set,ot=function(e){return at.forEach((function(t){return t(e)}))},st=function(){return nt.size>0};function ut(e,t){var r;if(t)return!(null==(r=nt.get(t))||!r.isToastActive(e));var n=!1;return nt.forEach((function(t){t.isToastActive(e)&&(n=!0)})),n}function ct(e,t){et(e)&&(st()||it.push({content:e,options:t}),nt.forEach((function(r){r.buildToast(e,t)})))}function lt(e,t){nt.forEach((function(r){null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===r.id&&r.toggle(e,null==t?void 0:t.id):r.toggle(e,null==t?void 0:t.id)}))}function dt(e){var r=(0,t.useRef)(function(e){var r=e.containerId||1;return{subscribe:function(n){var i=function(e,r,n){var i=1,a=0,o=[],s=[],c=[],l=r,d=new Map,f=new Set,h=function(){c=Array.from(d.values()),f.forEach((function(e){return e()}))},p=function(e){s=null==e?[]:s.filter((function(t){return t!==e})),h()},v=function(e){var r=e.props,i=r.toastId,a=r.onOpen,o=r.updateId,c=r.children,l=null==o;e.staleId&&d.delete(e.staleId),d.set(i,e),s=[].concat(u(s),[e.props.toastId]).filter((function(t){return t!==e.staleId})),h(),n(rt(e,l?"added":"updated")),l&&Qe(a)&&a((0,t.isValidElement)(c)&&c.props)};return{id:e,props:l,observe:function(e){return f.add(e),function(){return f.delete(e)}},toggle:function(e,t){d.forEach((function(r){null!=t&&t!==r.props.toastId||Qe(r.toggle)&&r.toggle(e)}))},removeToast:p,toasts:d,clearQueue:function(){a-=o.length,o=[]},buildToast:function(r,s){if(!function(t){var r=t.containerId,n=t.toastId,i=t.updateId,a=r?r!==e:1!==e,o=d.has(n)&&null==i;return a||o}(s)){var u=s.toastId,c=s.updateId,f=s.data,g=s.staleId,m=s.delay,y=function(){p(u)},b=null==c;b&&a++;var S,E,x=ze(ze(ze({},l),{},{style:l.toastStyle,key:i++},Object.fromEntries(Object.entries(s).filter((function(e){var t=k(e,2);t[0];return null!=t[1]})))),{},{toastId:u,updateId:c,data:f,closeToast:y,isIn:!1,className:$e(s.className||l.toastClassName),bodyClassName:$e(s.bodyClassName||l.bodyClassName),progressClassName:$e(s.progressClassName||l.progressClassName),autoClose:!s.isLoading&&(S=s.autoClose,E=l.autoClose,!1===S||Je(S)&&S>0?S:E),deleteToast:function(){var e=d.get(u),r=e.props,i=r.onClose,s=r.children;Qe(i)&&i((0,t.isValidElement)(s)&&s.props),n(rt(e,"removed")),d.delete(u),--a<0&&(a=0),o.length>0?v(o.shift()):h()}});x.closeButton=l.closeButton,!1===s.closeButton||et(s.closeButton)?x.closeButton=s.closeButton:!0===s.closeButton&&(x.closeButton=!et(l.closeButton)||l.closeButton);var w=r;(0,t.isValidElement)(r)&&!Ze(r.type)?w=(0,t.cloneElement)(r,{closeToast:y,toastProps:x,data:f}):Qe(r)&&(w=r({closeToast:y,toastProps:x,data:f}));var _={content:w,props:x,staleId:g};l.limit&&l.limit>0&&a>l.limit&&b?o.push(_):Je(m)?setTimeout((function(){v(_)}),m):v(_)}},setProps:function(e){l=e},setToggle:function(e,t){d.get(e).toggle=t},isToastActive:function(e){return s.some((function(t){return t===e}))},getSnapshot:function(){return l.newestOnTop?c.reverse():c}}}(r,e,ot);nt.set(r,i);var a=i.observe(n);return it.forEach((function(e){return ct(e.content,e.options)})),it=[],function(){a(),nt.delete(r)}},setProps:function(e){var t;null==(t=nt.get(r))||t.setProps(e)},getSnapshot:function(){var e;return null==(e=nt.get(r))?void 0:e.getSnapshot()}}}(e)).current,n=r.subscribe,i=r.getSnapshot;(0,r.setProps)(e);var a=(0,t.useSyncExternalStore)(n,i,i);return{getToastToRender:function(e){if(!a)return[];var t=new Map;return a.forEach((function(e){var r=e.props.position;t.has(r)||t.set(r,[]),t.get(r).push(e)})),Array.from(t,(function(t){return e(t[0],t[1])}))},isToastActive:ut,count:null==a?void 0:a.length}}function ft(e){var r,n,i=k((0,t.useState)(!1),2),a=i[0],o=i[1],s=k((0,t.useState)(!1),2),u=s[0],c=s[1],l=(0,t.useRef)(null),d=(0,t.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,f=e.autoClose,h=e.pauseOnHover,p=e.closeToast,v=e.onClick,g=e.closeOnClick;function m(){o(!0)}function y(){o(!1)}function b(t){var r=l.current;d.canDrag&&r&&(d.didMove=!0,a&&y(),d.delta="x"===e.draggableDirection?t.clientX-d.start:t.clientY-d.start,d.start!==t.clientX&&(d.canCloseOnClick=!1),r.style.transform="translate3d(".concat("x"===e.draggableDirection?"".concat(d.delta,"px, var(--y)"):"0, calc(".concat(d.delta,"px + var(--y))"),",0)"),r.style.opacity=""+(1-Math.abs(d.delta/d.removalDistance)))}function S(){document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",S);var t=l.current;if(d.canDrag&&d.didMove&&t){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance)return c(!0),e.closeToast(),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}null==(n=nt.get((r={id:e.toastId,containerId:e.containerId,fn:o}).containerId||1))||n.setToggle(r.id,r.fn),(0,t.useEffect)((function(){if(e.pauseOnFocusLoss)return document.hasFocus()||y(),window.addEventListener("focus",m),window.addEventListener("blur",y),function(){window.removeEventListener("focus",m),window.removeEventListener("blur",y)}}),[e.pauseOnFocusLoss]);var E={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){d.didMove=!1,document.addEventListener("pointermove",b),document.addEventListener("pointerup",S);var r=l.current;d.canCloseOnClick=!0,d.canDrag=!0,r.style.transition="none","x"===e.draggableDirection?(d.start=t.clientX,d.removalDistance=r.offsetWidth*(e.draggablePercent/100)):(d.start=t.clientY,d.removalDistance=r.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){var r=l.current.getBoundingClientRect(),n=r.top,i=r.bottom,a=r.left,o=r.right;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=a&&t.clientX<=o&&t.clientY>=n&&t.clientY<=i?y():m()}};return f&&h&&(E.onMouseEnter=y,e.stacked||(E.onMouseLeave=m)),g&&(E.onClick=function(e){v&&v(e),d.canCloseOnClick&&p()}),{playToast:m,pauseToast:y,isRunning:a,preventExitTransition:u,toastRef:l,eventHandlers:E}}function ht(e){var r=e.delay,n=e.isRunning,i=e.closeToast,a=e.type,o=void 0===a?"default":a,s=e.hide,u=e.className,c=e.style,l=e.controlledProgress,d=e.progress,f=e.rtl,h=e.isIn,p=e.theme,v=s||l&&0===d,g=ze(ze({},c),{},{animationDuration:"".concat(r,"ms"),animationPlayState:n?"running":"paused"});l&&(g.transform="scaleX(".concat(d,")"));var m=Xe("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(p),"Toastify__progress-bar--".concat(o),{"Toastify__progress-bar--rtl":f}),y=Qe(u)?u({rtl:f,type:o,defaultClassName:m}):Xe(m,u),b=We({},l&&d>=1?"onTransitionEnd":"onAnimationEnd",l&&d<1?null:function(){h&&i()});return t.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":v},t.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(p," Toastify__progress-bar--").concat(o)}),t.createElement("div",ze({role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:y,style:g},b)))}var pt=1,vt=function(){return""+pt++};function gt(e){return e&&(Ze(e.toastId)||Je(e.toastId))?e.toastId:vt()}function mt(e,t){return ct(e,t),t.toastId}function yt(e,t){return ze(ze({},t),{},{type:t&&t.type||e,toastId:gt(t)})}function bt(e){return function(t,r){return mt(t,yt(e,r))}}function St(e,t){return mt(e,yt("default",t))}St.loading=function(e,t){return mt(e,yt("default",ze({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},St.promise=function(e,t,r){var n,i=t.pending,a=t.error,o=t.success;i&&(n=Ze(i)?St.loading(i,r):St.loading(i.render,ze(ze({},r),i)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=function(e,t,i){if(null!=t){var a=ze(ze(ze({type:e},s),r),{},{data:i}),o=Ze(t)?{render:t}:t;return n?St.update(n,ze(ze({},a),o)):St(o.render,ze(ze({},a),o)),i}St.dismiss(n)},c=Qe(e)?e():e;return c.then((function(e){return u("success",o,e)})).catch((function(e){return u("error",a,e)})),c},St.success=bt("success"),St.info=bt("info"),St.error=bt("error"),St.warning=bt("warning"),St.warn=St.warning,St.dark=function(e,t){return mt(e,yt("default",ze({theme:"dark"},t)))},St.dismiss=function(e){!function(e){var t;if(st()){if(null==e||Ze(t=e)||Je(t))nt.forEach((function(t){t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){var r;(null==(r=nt.get(e.containerId))?void 0:r.removeToast(e.id))||nt.forEach((function(t){t.removeToast(e.id)}))}}else it=it.filter((function(t){return null!=e&&t.options.toastId!==e}))}(e)},St.clearWaitingQueue=function(e){void 0===e&&(e={}),nt.forEach((function(t){!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()}))},St.isActive=ut,St.update=function(e,t){void 0===t&&(t={});var r=function(e,t){var r,n=t.containerId;return null==(r=nt.get(n||1))?void 0:r.toasts.get(e)}(e,t);if(r){var n=r.props,i=r.content,a=ze(ze(ze({delay:100},n),t),{},{toastId:t.toastId||e,updateId:vt()});a.toastId!==e&&(a.staleId=e);var o=a.render||i;delete a.render,mt(o,a)}},St.done=function(e){St.update(e,{progress:1})},St.onChange=function(e){return at.add(e),function(){at.delete(e)}},St.play=function(e){return lt(!0,e)},St.pause=function(e){return lt(!1,e)};var Et="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,xt=function(e){var r=e.theme,n=e.type,i=(e.isLoading,He(e,Ke));return t.createElement("svg",ze({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===r?"currentColor":"var(--toastify-icon-color-".concat(n,")")},i))},wt={info:function(e){return t.createElement(xt,ze({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(xt,ze({},e),t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(xt,ze({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(xt,ze({},e),t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}},kt=function(e){var r=ft(e),n=r.isRunning,i=r.preventExitTransition,a=r.toastRef,o=r.eventHandlers,s=r.playToast,u=e.closeButton,c=e.children,l=e.autoClose,d=e.onClick,f=e.type,h=e.hideProgressBar,p=e.closeToast,v=e.transition,g=e.position,m=e.className,y=e.style,b=e.bodyClassName,S=e.bodyStyle,E=e.progressClassName,x=e.progressStyle,w=e.updateId,k=e.role,_=e.progress,T=e.rtl,A=e.toastId,C=e.deleteToast,P=e.isIn,I=e.isLoading,O=e.closeOnClick,R=e.theme,N=Xe("Toastify__toast","Toastify__toast-theme--".concat(R),"Toastify__toast--".concat(f),{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":O}),L=Qe(m)?m({rtl:T,position:g,type:f,defaultClassName:N}):Xe(N,m),j=function(e){var r=e.theme,n=e.type,i=e.isLoading,a=e.icon,o=null,s={theme:r,type:n};return!1===a||(Qe(a)?o=a(ze(ze({},s),{},{isLoading:i})):(0,t.isValidElement)(a)?o=(0,t.cloneElement)(a,s):i?o=wt.spinner():function(e){return e in wt}(n)&&(o=wt[n](s))),o}(e),M=!!_||!l,D={closeToast:p,type:f,theme:R},F=null;return!1===u||(F=Qe(u)?u(D):(0,t.isValidElement)(u)?(0,t.cloneElement)(u,D):function(e){var r=e.closeToast,n=e.theme,i=e.ariaLabel,a=void 0===i?"close":i;return t.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:function(e){e.stopPropagation(),r(e)},"aria-label":a},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(D)),t.createElement(v,{isIn:P,done:C,position:g,preventExitTransition:i,nodeRef:a,playToast:s},t.createElement("div",ze(ze({id:A,onClick:d,"data-in":P,className:L},o),{},{style:y,ref:a}),t.createElement("div",ze(ze({},P&&{role:k}),{},{className:Qe(b)?b({type:f}):Xe("Toastify__toast-body",b),style:S}),null!=j&&t.createElement("div",{className:Xe("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},j),t.createElement("div",null,c)),F,t.createElement(ht,ze(ze({},w&&!M?{key:"pb-".concat(w)}:{}),{},{rtl:T,theme:R,delay:l,isRunning:n,isIn:P,closeToast:p,hide:h,type:f,style:x,className:E,controlledProgress:M,progress:_||0}))))},_t=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},Tt=tt(_t("bounce",!0)),At=(tt(_t("slide",!0)),tt(_t("zoom")),tt(_t("flip")),{position:"top-right",transition:Tt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"});function Ct(e){var r=ze(ze({},At),e),n=e.stacked,i=k((0,t.useState)(!0),2),a=i[0],o=i[1],s=(0,t.useRef)(null),u=dt(r),c=u.getToastToRender,l=u.isToastActive,d=u.count,f=r.className,h=r.style,p=r.rtl,v=r.containerId;function g(e){var t=Xe("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":p});return Qe(f)?f({position:e,rtl:p,defaultClassName:t}):Xe(t,$e(f))}function m(){n&&(o(!0),St.play())}return Et((function(){if(n){var e,t=s.current.querySelectorAll('[data-in="true"]'),i=null==(e=r.position)?void 0:e.includes("top"),o=0,u=0;Array.from(t).reverse().forEach((function(e,t){var r=e;r.classList.add("Toastify__toast--stacked"),t>0&&(r.dataset.collapsed="".concat(a)),r.dataset.pos||(r.dataset.pos=i?"top":"bot");var n=o*(a?.2:1)+(a?0:12*t);r.style.setProperty("--y","".concat(i?n:-1*n,"px")),r.style.setProperty("--g","".concat(12)),r.style.setProperty("--s",""+(1-(a?u:0))),o+=r.offsetHeight,u+=.025}))}}),[a,d,n]),t.createElement("div",{ref:s,className:"Toastify",id:v,onMouseEnter:function(){n&&(o(!1),St.pause())},onMouseLeave:m},c((function(e,r){var i=r.length?ze({},h):ze(ze({},h),{},{pointerEvents:"none"});return t.createElement("div",{className:g(e),style:i,key:"container-".concat(e)},r.map((function(e){var r=e.content,i=e.props;return t.createElement(kt,ze(ze({},i),{},{stacked:n,collapseAll:m,isIn:l(i.toastId,i.containerId),style:i.style,key:"toast-".concat(i.key)}),r)})))})))}function Pt(){Pt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(C){u=function(e,t,r){return e[t]=r}}function c(e,t,r,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new T(i||[]);return n(o,"_invoke",{value:x(e,r,s)}),o}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function p(){}function v(){}var g={};u(g,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(A([])));y&&y!==t&&r.call(y,a)&&(g=y);var b=v.prototype=h.prototype=Object.create(g);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(n,a,o,s){var u=d(e[n],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==l(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return{value:void 0,done:!0}}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=w(o,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=d(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function w(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=d(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(e){if(e||""===e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}throw new TypeError(l(e)+" is not iterable")}return p.prototype=v,n(b,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},S(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(c(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;_(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function It(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function Ot(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){It(a,n,i,o,s,"next",e)}function s(e){It(a,n,i,o,s,"throw",e)}o(void 0)}))}}var Rt=Math.min,Nt=Math.max,Lt=Math.round,jt=Math.floor,Mt=function(e){return{x:e,y:e}},Dt={left:"right",right:"left",bottom:"top",top:"bottom"},Ft={start:"end",end:"start"};function Ut(e,t,r){return Nt(e,Rt(t,r))}function Bt(e,t){return"function"===typeof e?e(t):e}function Gt(e){return e.split("-")[0]}function Vt(e){return e.split("-")[1]}function Ht(e){return"x"===e?"y":"x"}function Wt(e){return"y"===e?"height":"width"}function qt(e){return["top","bottom"].includes(Gt(e))?"y":"x"}function zt(e){return Ht(qt(e))}function Yt(e,t,r){void 0===r&&(r=!1);var n=Vt(e),i=zt(e),a=Wt(i),o="x"===i?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Zt(o)),[o,Zt(o)]}function Xt(e){var t=Zt(e);return[Kt(e),t,Kt(t)]}function Kt(e){return e.replace(/start|end/g,(function(e){return Ft[e]}))}function Jt(e,t,r,n){var i=Vt(e),a=function(e,t,r){var n=["left","right"],i=["right","left"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(Gt(e),"start"===r,n);return i&&(a=a.map((function(e){return e+"-"+i})),t&&(a=a.concat(a.map(Kt)))),a}function Zt(e){return e.replace(/left|right|bottom|top/g,(function(e){return Dt[e]}))}function Qt(e){return"number"!==typeof e?function(e){return ze({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function $t(e){return ze(ze({},e),{},{top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height})}var er=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],tr=["mainAxis","crossAxis","limiter"];function rr(e,t,r){var n,i=e.reference,a=e.floating,o=qt(t),s=zt(t),u=Wt(s),c=Gt(t),l="y"===o,d=i.x+i.width/2-a.width/2,f=i.y+i.height/2-a.height/2,h=i[u]/2-a[u]/2;switch(c){case"top":n={x:d,y:i.y-a.height};break;case"bottom":n={x:d,y:i.y+i.height};break;case"right":n={x:i.x+i.width,y:f};break;case"left":n={x:i.x-a.width,y:f};break;default:n={x:i.x,y:i.y}}switch(Vt(t)){case"start":n[s]-=h*(r&&l?-1:1);break;case"end":n[s]+=h*(r&&l?-1:1)}return n}var nr=function(){var e=Ot(Pt().mark((function e(t,r,n){var i,a,o,s,u,c,l,d,f,h,p,v,g,m,y,b,S,E,x,w,k,_,T,A,C,P;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.placement,a=void 0===i?"bottom":i,o=n.strategy,s=void 0===o?"absolute":o,u=n.middleware,c=void 0===u?[]:u,l=n.platform,d=c.filter(Boolean),e.next=4,null==l.isRTL?void 0:l.isRTL(r);case 4:return f=e.sent,e.next=7,l.getElementRects({reference:t,floating:r,strategy:s});case 7:h=e.sent,p=rr(h,a,f),v=p.x,g=p.y,m=a,y={},b=0,S=0;case 13:if(!(S<d.length)){e.next=45;break}return E=d[S],x=E.name,w=E.fn,e.next=17,w({x:v,y:g,initialPlacement:a,placement:m,strategy:s,middlewareData:y,rects:h,platform:l,elements:{reference:t,floating:r}});case 17:if(k=e.sent,_=k.x,T=k.y,A=k.data,C=k.reset,v=null!=_?_:v,g=null!=T?T:g,y=ze(ze({},y),{},We({},x,ze(ze({},y[x]),A))),!(C&&b<=50)){e.next=42;break}if(b++,"object"!==typeof C){e.next=41;break}if(C.placement&&(m=C.placement),!C.rects){e.next=38;break}if(!0!==C.rects){e.next=36;break}return e.next=33,l.getElementRects({reference:t,floating:r,strategy:s});case 33:e.t0=e.sent,e.next=37;break;case 36:e.t0=C.rects;case 37:h=e.t0;case 38:P=rr(h,m,f),v=P.x,g=P.y;case 41:S=-1;case 42:S++,e.next=13;break;case 45:return e.abrupt("return",{x:v,y:g,placement:m,strategy:s,middlewareData:y});case 46:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();function ir(e,t){return ar.apply(this,arguments)}function ar(){return ar=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c,l,d,f,h,p,v,g,m,y,b,S,E,x,w,k,_,T,A;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r={}),i=t.x,a=t.y,o=t.platform,s=t.rects,u=t.elements,c=t.strategy,l=Bt(r,t),d=l.boundary,f=void 0===d?"clippingAncestors":d,h=l.rootBoundary,p=void 0===h?"viewport":h,v=l.elementContext,g=void 0===v?"floating":v,m=l.altBoundary,y=void 0!==m&&m,b=l.padding,S=Qt(void 0===b?0:b),E="floating"===g?"reference":"floating",x=u[y?E:g],e.t0=$t,e.t1=o,e.next=10,null==o.isElement?void 0:o.isElement(x);case 10:if(e.t2=n=e.sent,null==e.t2){e.next=15;break}e.t3=n,e.next=16;break;case 15:e.t3=!0;case 16:if(!e.t3){e.next=20;break}e.t4=x,e.next=26;break;case 20:if(e.t5=x.contextElement,e.t5){e.next=25;break}return e.next=24,null==o.getDocumentElement?void 0:o.getDocumentElement(u.floating);case 24:e.t5=e.sent;case 25:e.t4=e.t5;case 26:return e.t6=e.t4,e.t7=f,e.t8=p,e.t9=c,e.t10={element:e.t6,boundary:e.t7,rootBoundary:e.t8,strategy:e.t9},e.next=33,e.t1.getClippingRect.call(e.t1,e.t10);case 33:return e.t11=e.sent,w=(0,e.t0)(e.t11),k="floating"===g?ze(ze({},s.floating),{},{x:i,y:a}):s.reference,e.next=38,null==o.getOffsetParent?void 0:o.getOffsetParent(u.floating);case 38:return _=e.sent,e.next=41,null==o.isElement?void 0:o.isElement(_);case 41:if(!e.sent){e.next=50;break}return e.next=44,null==o.getScale?void 0:o.getScale(_);case 44:if(e.t13=e.sent,e.t13){e.next=47;break}e.t13={x:1,y:1};case 47:e.t12=e.t13,e.next=51;break;case 50:e.t12={x:1,y:1};case 51:if(T=e.t12,e.t14=$t,!o.convertOffsetParentRelativeRectToViewportRelativeRect){e.next=59;break}return e.next=56,o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:k,offsetParent:_,strategy:c});case 56:e.t15=e.sent,e.next=60;break;case 59:e.t15=k;case 60:return e.t16=e.t15,A=(0,e.t14)(e.t16),e.abrupt("return",{top:(w.top-A.top+S.top)/T.y,bottom:(A.bottom-w.bottom+S.bottom)/T.y,left:(w.left-A.left+S.left)/T.x,right:(A.right-w.right+S.right)/T.x});case 63:case"end":return e.stop()}}),e)}))),ar.apply(this,arguments)}function or(e,t){return sr.apply(this,arguments)}function sr(){return sr=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c,l,d,f,h,p,v,g;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.placement,i=t.platform,a=t.elements,e.next=3,null==i.isRTL?void 0:i.isRTL(a.floating);case 3:return o=e.sent,s=Gt(n),u=Vt(n),c="y"===qt(n),l=["left","top"].includes(s)?-1:1,d=o&&c?-1:1,f=Bt(r,t),h="number"===typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:ze({mainAxis:0,crossAxis:0,alignmentAxis:null},f),p=h.mainAxis,v=h.crossAxis,g=h.alignmentAxis,u&&"number"===typeof g&&(v="end"===u?-1*g:g),e.abrupt("return",c?{x:v*d,y:p*l}:{x:p*l,y:v*d});case 13:case"end":return e.stop()}}),e)}))),sr.apply(this,arguments)}var ur=function(e){return void 0===e&&(e=0),{name:"offset",options:e,fn:function(t){return Ot(Pt().mark((function r(){var n,i,a,o,s,u,c;return Pt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.x,o=t.y,s=t.placement,u=t.middlewareData,r.next=3,or(t,e);case 3:if(c=r.sent,s!==(null==(n=u.offset)?void 0:n.placement)||null==(i=u.arrow)||!i.alignmentOffset){r.next=6;break}return r.abrupt("return",{});case 6:return r.abrupt("return",{x:a+c.x,y:o+c.y,data:ze(ze({},c),{},{placement:s})});case 7:case"end":return r.stop()}}),r)})))()}}};function cr(e){return fr(e)?(e.nodeName||"").toLowerCase():"#document"}function lr(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function dr(e){var t;return null==(t=(fr(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function fr(e){return e instanceof Node||e instanceof lr(e).Node}function hr(e){return e instanceof Element||e instanceof lr(e).Element}function pr(e){return e instanceof HTMLElement||e instanceof lr(e).HTMLElement}function vr(e){return"undefined"!==typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof lr(e).ShadowRoot)}function gr(e){var t=Er(e),r=t.overflow,n=t.overflowX,i=t.overflowY,a=t.display;return/auto|scroll|overlay|hidden|clip/.test(r+i+n)&&!["inline","contents"].includes(a)}function mr(e){return["table","td","th"].includes(cr(e))}function yr(e){var t=br(),r=Er(e);return"none"!==r.transform||"none"!==r.perspective||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","perspective","filter"].some((function(e){return(r.willChange||"").includes(e)}))||["paint","layout","strict","content"].some((function(e){return(r.contain||"").includes(e)}))}function br(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Sr(e){return["html","body","#document"].includes(cr(e))}function Er(e){return lr(e).getComputedStyle(e)}function xr(e){return hr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function wr(e){if("html"===cr(e))return e;var t=e.assignedSlot||e.parentNode||vr(e)&&e.host||dr(e);return vr(t)?t.host:t}function kr(e){var t=wr(e);return Sr(t)?e.ownerDocument?e.ownerDocument.body:e.body:pr(t)&&gr(t)?t:kr(t)}function _r(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);var i=kr(e),a=i===(null==(n=e.ownerDocument)?void 0:n.body),o=lr(i);return a?t.concat(o,o.visualViewport||[],gr(i)?i:[],o.frameElement&&r?_r(o.frameElement):[]):t.concat(i,_r(i,[],r))}function Tr(e){var t=Er(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,i=pr(e),a=i?e.offsetWidth:r,o=i?e.offsetHeight:n,s=Lt(r)!==a||Lt(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function Ar(e){return hr(e)?e:e.contextElement}function Cr(e){var t=Ar(e);if(!pr(t))return Mt(1);var r=t.getBoundingClientRect(),n=Tr(t),i=n.width,a=n.height,o=n.$,s=(o?Lt(r.width):r.width)/i,u=(o?Lt(r.height):r.height)/a;return s&&Number.isFinite(s)||(s=1),u&&Number.isFinite(u)||(u=1),{x:s,y:u}}var Pr=Mt(0);function Ir(e){var t=lr(e);return br()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Pr}function Or(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);var i=e.getBoundingClientRect(),a=Ar(e),o=Mt(1);t&&(n?hr(n)&&(o=Cr(n)):o=Cr(e));var s=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==lr(e))&&t}(a,r,n)?Ir(a):Mt(0),u=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,l=i.width/o.x,d=i.height/o.y;if(a)for(var f=lr(a),h=n&&hr(n)?lr(n):n,p=f,v=p.frameElement;v&&n&&h!==p;){var g=Cr(v),m=v.getBoundingClientRect(),y=Er(v),b=m.left+(v.clientLeft+parseFloat(y.paddingLeft))*g.x,S=m.top+(v.clientTop+parseFloat(y.paddingTop))*g.y;u*=g.x,c*=g.y,l*=g.x,d*=g.y,u+=b,c+=S,v=(p=lr(v)).frameElement}return $t({width:l,height:d,x:u,y:c})}var Rr=[":popover-open",":modal"];function Nr(e){return Rr.some((function(t){try{return e.matches(t)}catch(r){return!1}}))}function Lr(e){return Or(dr(e)).left+xr(e).scrollLeft}function jr(e,t,r){var n;if("viewport"===t)n=function(e,t){var r=lr(e),n=dr(e),i=r.visualViewport,a=n.clientWidth,o=n.clientHeight,s=0,u=0;if(i){a=i.width,o=i.height;var c=br();(!c||c&&"fixed"===t)&&(s=i.offsetLeft,u=i.offsetTop)}return{width:a,height:o,x:s,y:u}}(e,r);else if("document"===t)n=function(e){var t=dr(e),r=xr(e),n=e.ownerDocument.body,i=Nt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Nt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight),o=-r.scrollLeft+Lr(e),s=-r.scrollTop;return"rtl"===Er(n).direction&&(o+=Nt(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}(dr(e));else if(hr(t))n=function(e,t){var r=Or(e,!0,"fixed"===t),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=pr(e)?Cr(e):Mt(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:n*a.y}}(t,r);else{var i=Ir(e);n=ze(ze({},t),{},{x:t.x-i.x,y:t.y-i.y})}return $t(n)}function Mr(e,t){var r=wr(e);return!(r===t||!hr(r)||Sr(r))&&("fixed"===Er(r).position||Mr(r,t))}function Dr(e,t,r){var n=pr(t),i=dr(t),a="fixed"===r,o=Or(e,!0,a,t),s={scrollLeft:0,scrollTop:0},u=Mt(0);if(n||!n&&!a)if(("body"!==cr(t)||gr(i))&&(s=xr(t)),n){var c=Or(t,!0,a,t);u.x=c.x+t.clientLeft,u.y=c.y+t.clientTop}else i&&(u.x=Lr(i));return{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function Fr(e,t){return pr(e)&&"fixed"!==Er(e).position?t?t(e):e.offsetParent:null}function Ur(e,t){var r=lr(e);if(!pr(e)||Nr(e))return r;for(var n=Fr(e,t);n&&mr(n)&&"static"===Er(n).position;)n=Fr(n,t);return n&&("html"===cr(n)||"body"===cr(n)&&"static"===Er(n).position&&!yr(n))?r:n||function(e){for(var t=wr(e);pr(t)&&!Sr(t);){if(yr(t))return t;t=wr(t)}return null}(e)||r}var Br=function(){var e=Ot(Pt().mark((function e(t){var r,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getOffsetParent||Ur,n=this.getDimensions,e.t0=Dr,e.t1=t.reference,e.next=6,r(t.floating);case 6:return e.t2=e.sent,e.t3=t.strategy,e.t4=(0,e.t0)(e.t1,e.t2,e.t3),e.t5=ze,e.t6={x:0,y:0},e.next=13,n(t.floating);case 13:return e.t7=e.sent,e.t8=(0,e.t5)(e.t6,e.t7),e.abrupt("return",{reference:e.t4,floating:e.t8});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();var Gr={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){var t=e.elements,r=e.rect,n=e.offsetParent,i="fixed"===e.strategy,a=dr(n),o=!!t&&Nr(t.floating);if(n===a||o&&i)return r;var s={scrollLeft:0,scrollTop:0},u=Mt(1),c=Mt(0),l=pr(n);if((l||!l&&!i)&&(("body"!==cr(n)||gr(a))&&(s=xr(n)),pr(n))){var d=Or(n);u=Cr(n),c.x=d.x+n.clientLeft,c.y=d.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-s.scrollLeft*u.x+c.x,y:r.y*u.y-s.scrollTop*u.y+c.y}},getDocumentElement:dr,getClippingRect:function(e){var t=e.element,r=e.boundary,n=e.rootBoundary,i=e.strategy,a="clippingAncestors"===r?function(e,t){var r=t.get(e);if(r)return r;for(var n=_r(e,[],!1).filter((function(e){return hr(e)&&"body"!==cr(e)})),i=null,a="fixed"===Er(e).position,o=a?wr(e):e;hr(o)&&!Sr(o);){var s=Er(o),u=yr(o);u||"fixed"!==s.position||(i=null),(a?!u&&!i:!u&&"static"===s.position&&i&&["absolute","fixed"].includes(i.position)||gr(o)&&!u&&Mr(e,o))?n=n.filter((function(e){return e!==o})):i=s,o=wr(o)}return t.set(e,n),n}(t,this._c):[].concat(r),o=[].concat(u(a),[n]),s=o[0],c=o.reduce((function(e,r){var n=jr(t,r,i);return e.top=Nt(n.top,e.top),e.right=Rt(n.right,e.right),e.bottom=Rt(n.bottom,e.bottom),e.left=Nt(n.left,e.left),e}),jr(t,s,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:Ur,getElementRects:Br,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){var t=Tr(e);return{width:t.width,height:t.height}},getScale:Cr,isElement:hr,isRTL:function(e){return"rtl"===Er(e).direction}};function Vr(e,t,r,n){void 0===n&&(n={});var i=n,a=i.ancestorScroll,o=void 0===a||a,s=i.ancestorResize,c=void 0===s||s,l=i.elementResize,d=void 0===l?"function"===typeof ResizeObserver:l,f=i.layoutShift,h=void 0===f?"function"===typeof IntersectionObserver:f,p=i.animationFrame,v=void 0!==p&&p,g=Ar(e),m=o||c?[].concat(u(g?_r(g):[]),u(_r(t))):[];m.forEach((function(e){o&&e.addEventListener("scroll",r,{passive:!0}),c&&e.addEventListener("resize",r)}));var y,b=g&&h?function(e,t){var r,n=null,i=dr(e);function a(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return function o(s,u){void 0===s&&(s=!1),void 0===u&&(u=1),a();var c=e.getBoundingClientRect(),l=c.left,d=c.top,f=c.width,h=c.height;if(s||t(),f&&h){var p={rootMargin:-jt(d)+"px "+-jt(i.clientWidth-(l+f))+"px "+-jt(i.clientHeight-(d+h))+"px "+-jt(l)+"px",threshold:Nt(0,Rt(1,u))||1},v=!0;try{n=new IntersectionObserver(g,ze(ze({},p),{},{root:i.ownerDocument}))}catch(m){n=new IntersectionObserver(g,p)}n.observe(e)}function g(e){var t=e[0].intersectionRatio;if(t!==u){if(!v)return o();t?o(!1,t):r=setTimeout((function(){o(!1,1e-7)}),100)}v=!1}}(!0),a}(g,r):null,S=-1,E=null;d&&(E=new ResizeObserver((function(e){var n=k(e,1)[0];n&&n.target===g&&E&&(E.unobserve(t),cancelAnimationFrame(S),S=requestAnimationFrame((function(){var e;null==(e=E)||e.observe(t)}))),r()})),g&&!v&&E.observe(g),E.observe(t));var x=v?Or(e):null;return v&&function t(){var n=Or(e);!x||n.x===x.x&&n.y===x.y&&n.width===x.width&&n.height===x.height||r();x=n,y=requestAnimationFrame(t)}(),r(),function(){var e;m.forEach((function(e){o&&e.removeEventListener("scroll",r),c&&e.removeEventListener("resize",r)})),null==b||b(),null==(e=E)||e.disconnect(),E=null,v&&cancelAnimationFrame(y)}}var Hr=function(e){return void 0===e&&(e={}),{name:"shift",options:e,fn:function(t){return Ot(Pt().mark((function r(){var n,i,a,o,s,u,c,l,d,f,h,p,v,g,m,y,b,S,E,x,w,k,_,T,A;return Pt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=t.x,a=t.y,o=t.placement,s=Bt(e,t),u=s.mainAxis,c=void 0===u||u,l=s.crossAxis,d=void 0!==l&&l,f=s.limiter,h=void 0===f?{fn:function(e){return{x:e.x,y:e.y}}}:f,p=He(s,tr),v={x:i,y:a},r.next=5,ir(t,p);case 5:return g=r.sent,m=qt(Gt(o)),y=Ht(m),b=v[y],S=v[m],c&&(E="y"===y?"bottom":"right",x=b+g["y"===y?"top":"left"],w=b-g[E],b=Ut(x,b,w)),d&&(k="y"===m?"bottom":"right",_=S+g["y"===m?"top":"left"],T=S-g[k],S=Ut(_,S,T)),A=h.fn(ze(ze({},t),{},(We(n={},y,b),We(n,m,S),n))),r.abrupt("return",ze(ze({},A),{},{data:{x:A.x-i,y:A.y-a}}));case 14:case"end":return r.stop()}}),r)})))()}}},Wr=function(e){return void 0===e&&(e={}),{name:"flip",options:e,fn:function(t){return Ot(Pt().mark((function r(){var n,i,a,o,s,c,l,d,f,h,p,v,g,m,y,b,S,E,x,w,k,_,T,A,C,P,I,O,R,N,L,j,M,D,F,U,B;return Pt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=t.placement,o=t.middlewareData,s=t.rects,c=t.initialPlacement,l=t.platform,d=t.elements,f=Bt(e,t),h=f.mainAxis,p=void 0===h||h,v=f.crossAxis,g=void 0===v||v,m=f.fallbackPlacements,y=f.fallbackStrategy,b=void 0===y?"bestFit":y,S=f.fallbackAxisSideDirection,E=void 0===S?"none":S,x=f.flipAlignment,w=void 0===x||x,k=He(f,er),null==(n=o.arrow)||!n.alignmentOffset){r.next=4;break}return r.abrupt("return",{});case 4:return _=Gt(a),T=Gt(c)===c,r.next=8,null==l.isRTL?void 0:l.isRTL(d.floating);case 8:return A=r.sent,C=m||(T||!w?[Zt(c)]:Xt(c)),m||"none"===E||C.push.apply(C,u(Jt(c,w,E,A))),P=[c].concat(u(C)),r.next=14,ir(t,k);case 14:if(I=r.sent,O=[],R=(null==(i=o.flip)?void 0:i.overflows)||[],p&&O.push(I[_]),g&&(N=Yt(a,s,A),O.push(I[N[0]],I[N[1]])),R=[].concat(u(R),[{placement:a,overflows:O}]),O.every((function(e){return e<=0}))){r.next=37;break}if(M=((null==(L=o.flip)?void 0:L.index)||0)+1,!(D=P[M])){r.next=25;break}return r.abrupt("return",{data:{index:M,overflows:R},reset:{placement:D}});case 25:if(F=null==(j=R.filter((function(e){return e.overflows[0]<=0})).sort((function(e,t){return e.overflows[1]-t.overflows[1]}))[0])?void 0:j.placement,F){r.next=35;break}r.t0=b,r.next="bestFit"===r.t0?30:"initialPlacement"===r.t0?33:35;break;case 30:return B=null==(U=R.map((function(e){return[e.placement,e.overflows.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0)]})).sort((function(e,t){return e[1]-t[1]}))[0])?void 0:U[0],B&&(F=B),r.abrupt("break",35);case 33:return F=c,r.abrupt("break",35);case 35:if(a===F){r.next=37;break}return r.abrupt("return",{reset:{placement:F}});case 37:return r.abrupt("return",{});case 38:case"end":return r.stop()}}),r)})))()}}},qr=function(e){return{name:"arrow",options:e,fn:function(t){return Ot(Pt().mark((function r(){var n,i,a,o,s,u,c,l,d,f,h,p,v,g,m,y,b,S,E,x,w,k,_,T,A,C,P,I,O,R,N,L,j,M,D,F;return Pt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=t.x,o=t.y,s=t.placement,u=t.rects,c=t.platform,l=t.elements,d=t.middlewareData,f=Bt(e,t)||{},h=f.element,p=f.padding,v=void 0===p?0:p,null!=h){r.next=4;break}return r.abrupt("return",{});case 4:return g=Qt(v),m={x:a,y:o},y=zt(s),b=Wt(y),r.next=10,c.getDimensions(h);case 10:return S=r.sent,x=(E="y"===y)?"top":"left",w=E?"bottom":"right",k=E?"clientHeight":"clientWidth",_=u.reference[b]+u.reference[y]-m[y]-u.floating[b],T=m[y]-u.reference[y],r.next=19,null==c.getOffsetParent?void 0:c.getOffsetParent(h);case 19:if(A=r.sent,C=A?A[k]:0,r.t0=!C,r.t0){r.next=26;break}return r.next=25,null==c.isElement?void 0:c.isElement(A);case 25:r.t0=!r.sent;case 26:if(!r.t0){r.next=28;break}C=l.floating[k]||u.floating[b];case 28:return P=_/2-T/2,I=C/2-S[b]/2-1,O=Rt(g[x],I),R=Rt(g[w],I),N=O,L=C-S[b]-R,j=C/2-S[b]/2+P,M=Ut(N,j,L),D=!d.arrow&&null!=Vt(s)&&j!==M&&u.reference[b]/2-(j<N?O:R)-S[b]/2<0,F=D?j<N?j-N:j-L:0,r.abrupt("return",(We(i={},y,m[y]+F),We(i,"data",ze((We(n={},y,M),We(n,"centerOffset",j-M-F),n),D&&{alignmentOffset:F})),We(i,"reset",D),i));case 39:case"end":return r.stop()}}),r)})))()}}},zr=function(e,t,r){var n=new Map,i=ze({platform:Gr},r),a=ze(ze({},i.platform),{},{_c:n});return nr(e,t,ze(ze({},i),{},{platform:a}))},Yr=r(46123),Xr="react-tooltip-core-styles",Kr="react-tooltip-base-styles",Jr={core:!1,base:!1};function Zr(e){var t,r,n=e.css,i=e.id,a=void 0===i?Kr:i,o=e.type,s=void 0===o?"base":o,u=e.ref;if(n&&"undefined"!=typeof document&&!Jr[s]&&("core"!==s||"undefined"==typeof process||!(null===(t=null===process||void 0===process?void 0:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VIDEOGEN_ENV:"PROD",REACT_APP_NODE_ENV:"production",REACT_APP_COMMIT_INFO:'{"shortSha":"798e492","prod":295}',REACT_APP_FIREBASE_API_KEY:"AIzaSyDKIy6opqNi10RbNV5uePHWtjgVSuypBTA",REACT_APP_FIREBASE_AUTH_DOMAIN:"auth.app.videogen.io",REACT_APP_FIREBASE_PROJECT_ID:"video-gen-271828",REACT_APP_FIREBASE_STORAGE_BUCKET:"video-gen-271828.appspot.com",REACT_APP_FIREBASE_MESSAGE_SENDER_ID:"963680179378",REACT_APP_FIREBASE_APP_ID:"1:963680179378:web:b57e293eadd3eca71b25ab",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-ZQ2M5ZV1WM",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51MsyxeCL8XHlgtoh7Kqjl2DmettykCPYBF7neRAVHk6sUwuF3ergZjga5JThQE8doSUFqGJy4TCWxrZBZNuGWt1R00Wla3xUf8",REACT_APP_STRIPE_TEST_PUBLISHABLE_KEY:"pk_test_51MsyxeCL8XHlgtohdryk9S1ujT3Zit9eCMaSlipz4AIKK0ToWKmb8ozoCBN5x7qpR5P8fcricAk1wuod2uRXMa0t00RgkxBbOn"})||void 0===t?void 0:t.REACT_TOOLTIP_DISABLE_CORE_STYLES))&&("base"===s||"undefined"==typeof process||!(null===(r=null===process||void 0===process?void 0:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VIDEOGEN_ENV:"PROD",REACT_APP_NODE_ENV:"production",REACT_APP_COMMIT_INFO:'{"shortSha":"798e492","prod":295}',REACT_APP_FIREBASE_API_KEY:"AIzaSyDKIy6opqNi10RbNV5uePHWtjgVSuypBTA",REACT_APP_FIREBASE_AUTH_DOMAIN:"auth.app.videogen.io",REACT_APP_FIREBASE_PROJECT_ID:"video-gen-271828",REACT_APP_FIREBASE_STORAGE_BUCKET:"video-gen-271828.appspot.com",REACT_APP_FIREBASE_MESSAGE_SENDER_ID:"963680179378",REACT_APP_FIREBASE_APP_ID:"1:963680179378:web:b57e293eadd3eca71b25ab",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-ZQ2M5ZV1WM",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51MsyxeCL8XHlgtoh7Kqjl2DmettykCPYBF7neRAVHk6sUwuF3ergZjga5JThQE8doSUFqGJy4TCWxrZBZNuGWt1R00Wla3xUf8",REACT_APP_STRIPE_TEST_PUBLISHABLE_KEY:"pk_test_51MsyxeCL8XHlgtohdryk9S1ujT3Zit9eCMaSlipz4AIKK0ToWKmb8ozoCBN5x7qpR5P8fcricAk1wuod2uRXMa0t00RgkxBbOn"})||void 0===r?void 0:r.REACT_TOOLTIP_DISABLE_BASE_STYLES))){"core"===s&&(a=Xr),u||(u={});var c=u.insertAt;if(document.getElementById(a))console.warn("[react-tooltip] Element with id '".concat(a,"' already exists. Call `removeStyle()` first"));else{var l=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.id=a,d.type="text/css","top"===c&&l.firstChild?l.insertBefore(d,l.firstChild):l.appendChild(d),d.styleSheet?d.styleSheet.cssText=n:d.appendChild(document.createTextNode(n)),Jr[s]=!0}}}var Qr=function(){var e=Ot(Pt().mark((function e(t){var r,n,i,a,o,s,u,c,l,d,f,h,p,v,g,m;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.elementReference,n=void 0===r?null:r,i=t.tooltipReference,a=void 0===i?null:i,o=t.tooltipArrowReference,s=void 0===o?null:o,u=t.place,c=void 0===u?"top":u,l=t.offset,d=void 0===l?10:l,f=t.strategy,h=void 0===f?"absolute":f,p=t.middlewares,v=void 0===p?[ur(Number(d)),Wr({fallbackAxisSideDirection:"start"}),Hr({padding:5})]:p,g=t.border,n){e.next=3;break}return e.abrupt("return",{tooltipStyles:{},tooltipArrowStyles:{},place:c});case 3:if(null!==a){e.next=5;break}return e.abrupt("return",{tooltipStyles:{},tooltipArrowStyles:{},place:c});case 5:return m=v,e.abrupt("return",s?(m.push(qr({element:s,padding:5})),zr(n,a,{placement:c,strategy:h,middleware:m}).then((function(e){var t,r,n=e.x,i=e.y,a=e.placement,o=e.middlewareData,s={left:"".concat(n,"px"),top:"".concat(i,"px"),border:g},u=null!==(t=o.arrow)&&void 0!==t?t:{x:0,y:0},c=u.x,l=u.y,d=null!==(r={top:"bottom",right:"left",bottom:"top",left:"right"}[a.split("-")[0]])&&void 0!==r?r:"bottom",f=g&&{borderBottom:g,borderRight:g},h=0;if(g){var p="".concat(g).match(/(\d+)px/);h=(null==p?void 0:p[1])?Number(p[1]):1}return{tooltipStyles:s,tooltipArrowStyles:ze(ze({left:null!=c?"".concat(c,"px"):"",top:null!=l?"".concat(l,"px"):"",right:"",bottom:""},f),{},We({},d,"-".concat(4+h,"px"))),place:a}}))):zr(n,a,{placement:"bottom",strategy:h,middleware:m}).then((function(e){var t=e.x,r=e.y,n=e.placement;return{tooltipStyles:{left:"".concat(t,"px"),top:"".concat(r,"px")},tooltipArrowStyles:{},place:n}})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$r=function(e,t){return!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t)},en=function(e,t,r){var n=null,i=function(){for(var i=this,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var u=function(){n=null,r||e.apply(i,o)};r&&!n&&(e.apply(this,o),n=setTimeout(u,t)),r||(n&&clearTimeout(n),n=setTimeout(u,t))};return i.cancel=function(){n&&(clearTimeout(n),n=null)},i},tn=function(e){return null!==e&&!Array.isArray(e)&&"object"==typeof e},rn=function e(t,r){if(t===r)return!0;if(Array.isArray(t)&&Array.isArray(r))return t.length===r.length&&t.every((function(t,n){return e(t,r[n])}));if(Array.isArray(t)!==Array.isArray(r))return!1;if(!tn(t)||!tn(r))return t===r;var n=Object.keys(t),i=Object.keys(r);return n.length===i.length&&n.every((function(n){return e(t[n],r[n])}))},nn=function(e){if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;var t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some((function(e){var r=t.getPropertyValue(e);return"auto"===r||"scroll"===r}))},an=function(e){if(!e)return null;for(var t=e.parentElement;t;){if(nn(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},on="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,sn="DEFAULT_TOOLTIP_ID",un={anchorRefs:new Set,activeAnchor:{current:null},attach:function(){},detach:function(){},setActiveAnchor:function(){}},cn=(0,t.createContext)({getTooltipData:function(){return un}});function ln(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn;return(0,t.useContext)(cn).getTooltipData(e)}var dn={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},fn={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"},hn=function(e){var r,n=e.forwardRef,i=e.id,a=e.className,o=e.classNameArrow,s=e.variant,c=void 0===s?"dark":s,l=e.anchorId,d=e.anchorSelect,f=e.place,h=void 0===f?"top":f,p=e.offset,v=void 0===p?10:p,g=e.events,m=void 0===g?["hover"]:g,y=e.openOnClick,b=void 0!==y&&y,S=e.positionStrategy,E=void 0===S?"absolute":S,x=e.middlewares,w=e.wrapper,_=e.delayShow,T=void 0===_?0:_,A=e.delayHide,C=void 0===A?0:A,P=e.float,I=void 0!==P&&P,O=e.hidden,R=void 0!==O&&O,N=e.noArrow,L=void 0!==N&&N,j=e.clickable,M=void 0!==j&&j,D=e.closeOnEsc,F=void 0!==D&&D,U=e.closeOnScroll,B=void 0!==U&&U,G=e.closeOnResize,V=void 0!==G&&G,H=e.openEvents,W=e.closeEvents,q=e.globalCloseEvents,z=e.imperativeModeOnly,Y=e.style,X=e.position,K=e.afterShow,J=e.afterHide,Z=e.content,Q=e.contentWrapperRef,$=e.isOpen,ee=e.defaultIsOpen,te=void 0!==ee&&ee,re=e.setIsOpen,ne=e.activeAnchor,ie=e.setActiveAnchor,ae=e.border,oe=e.opacity,se=e.arrowColor,ue=e.role,ce=void 0===ue?"tooltip":ue,le=(0,t.useRef)(null),de=(0,t.useRef)(null),fe=(0,t.useRef)(null),he=(0,t.useRef)(null),pe=(0,t.useRef)(null),ve=k((0,t.useState)({tooltipStyles:{},tooltipArrowStyles:{},place:h}),2),ge=ve[0],me=ve[1],ye=k((0,t.useState)(!1),2),be=ye[0],Se=ye[1],Ee=k((0,t.useState)(!1),2),xe=Ee[0],we=Ee[1],ke=k((0,t.useState)(null),2),_e=ke[0],Te=ke[1],Ae=(0,t.useRef)(!1),Ce=(0,t.useRef)(null),Pe=ln(i),Ie=Pe.anchorRefs,Oe=Pe.setActiveAnchor,Re=(0,t.useRef)(!1),Ne=k((0,t.useState)([]),2),Le=Ne[0],je=Ne[1],Me=(0,t.useRef)(!1),De=b||m.includes("click"),Fe=De||(null==H?void 0:H.click)||(null==H?void 0:H.dblclick)||(null==H?void 0:H.mousedown),Ue=H?ze({},H):{mouseenter:!0,focus:!0,click:!1,dblclick:!1,mousedown:!1};!H&&De&&Object.assign(Ue,{mouseenter:!1,focus:!1,click:!0});var Be=W?ze({},W):{mouseleave:!0,blur:!0,click:!1,dblclick:!1,mouseup:!1};!W&&De&&Object.assign(Be,{mouseleave:!1,blur:!1});var Ge=q?ze({},q):{escape:F||!1,scroll:B||!1,resize:V||!1,clickOutsideAnchor:Fe||!1};z&&(Object.assign(Ue,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Be,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Ge,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),on((function(){return Me.current=!0,function(){Me.current=!1}}),[]);var Ve=function(e){Me.current&&(e&&we(!0),setTimeout((function(){Me.current&&(null==re||re(e),void 0===$&&Se(e))}),10))};(0,t.useEffect)((function(){if(void 0===$)return function(){return null};$&&we(!0);var e=setTimeout((function(){Se($)}),10);return function(){clearTimeout(e)}}),[$]),(0,t.useEffect)((function(){if(be!==Ae.current)if(pe.current&&clearTimeout(pe.current),Ae.current=be,be)null==K||K();else{var e=function(e){var t=getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay").match(/^([\d.]+)(ms|s)$/);if(!t)return 0;var r=k(t,3),n=r[1],i=r[2];return Number(n)*("ms"===i?1:1e3)}();pe.current=setTimeout((function(){we(!1),Te(null),null==J||J()}),e+25)}}),[be]);var He=function(e){me((function(t){return rn(t,e)?t:e}))},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;fe.current&&clearTimeout(fe.current),xe?Ve(!0):fe.current=setTimeout((function(){Ve(!0)}),e)},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;he.current&&clearTimeout(he.current),he.current=setTimeout((function(){Re.current||Ve(!1)}),e)},Ye=function(e){var t;if(e){var r=null!==(t=e.currentTarget)&&void 0!==t?t:e.target;if(!(null==r?void 0:r.isConnected))return ie(null),void Oe({current:null});T?We():Ve(!0),ie(r),Oe({current:r}),he.current&&clearTimeout(he.current)}},Xe=function(){M?qe(C||100):C?qe():Ve(!1),fe.current&&clearTimeout(fe.current)},Ke=function(e){var t,r=e.x,n=e.y,i={getBoundingClientRect:function(){return{x:r,y:n,width:0,height:0,top:n,left:r,right:r,bottom:n}}};Qr({place:null!==(t=null==_e?void 0:_e.place)&&void 0!==t?t:h,offset:v,elementReference:i,tooltipReference:le.current,tooltipArrowReference:de.current,strategy:E,middlewares:x,border:ae}).then((function(e){He(e)}))},Je=function(e){if(e){var t=e,r={x:t.clientX,y:t.clientY};Ke(r),Ce.current=r}},Ze=function(e){var t;if(be){var r=e.target;r.isConnected&&((null===(t=le.current)||void 0===t?void 0:t.contains(r))||[document.querySelector("[id='".concat(l,"']"))].concat(u(Le)).some((function(e){return null==e?void 0:e.contains(r)}))||(Ve(!1),fe.current&&clearTimeout(fe.current)))}},Qe=en(Ye,50,!0),$e=en(Xe,50,!0),et=function(e){$e.cancel(),Qe(e)},tt=function(){Qe.cancel(),$e()},rt=(0,t.useCallback)((function(){var e,t,r=null!==(e=null==_e?void 0:_e.position)&&void 0!==e?e:X;r?Ke(r):I?Ce.current&&Ke(Ce.current):(null==ne?void 0:ne.isConnected)&&Qr({place:null!==(t=null==_e?void 0:_e.place)&&void 0!==t?t:h,offset:v,elementReference:ne,tooltipReference:le.current,tooltipArrowReference:de.current,strategy:E,middlewares:x,border:ae}).then((function(e){Me.current&&He(e)}))}),[be,ne,Z,Y,h,null==_e?void 0:_e.place,v,E,X,null==_e?void 0:_e.position,I]);(0,t.useEffect)((function(){var e,t,r=new Set(Ie);Le.forEach((function(e){r.add({current:e})}));var n=document.querySelector("[id='".concat(l,"']"));n&&r.add({current:n});var i=function(){Ve(!1)},a=an(ne),o=an(le.current);Ge.scroll&&(window.addEventListener("scroll",i),null==a||a.addEventListener("scroll",i),null==o||o.addEventListener("scroll",i));var s=null;Ge.resize?window.addEventListener("resize",i):ne&&le.current&&(s=Vr(ne,le.current,rt,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));var u=function(e){"Escape"===e.key&&Ve(!1)};Ge.escape&&window.addEventListener("keydown",u),Ge.clickOutsideAnchor&&window.addEventListener("click",Ze);var c=[],d=function(e){be&&(null==e?void 0:e.target)===ne||Ye(e)},f=function(e){be&&(null==e?void 0:e.target)===ne&&Xe()},h=["mouseenter","mouseleave","focus","blur"],p=["click","dblclick","mousedown","mouseup"];Object.entries(Ue).forEach((function(e){var t=k(e,2),r=t[0];t[1]&&(h.includes(r)?c.push({event:r,listener:et}):p.includes(r)&&c.push({event:r,listener:d}))})),Object.entries(Be).forEach((function(e){var t=k(e,2),r=t[0];t[1]&&(h.includes(r)?c.push({event:r,listener:tt}):p.includes(r)&&c.push({event:r,listener:f}))})),I&&c.push({event:"pointermove",listener:Je});var v=function(){Re.current=!0},g=function(){Re.current=!1,Xe()};return M&&!Fe&&(null===(e=le.current)||void 0===e||e.addEventListener("mouseenter",v),null===(t=le.current)||void 0===t||t.addEventListener("mouseleave",g)),c.forEach((function(e){var t=e.event,n=e.listener;r.forEach((function(e){var r;null===(r=e.current)||void 0===r||r.addEventListener(t,n)}))})),function(){var e,t;Ge.scroll&&(window.removeEventListener("scroll",i),null==a||a.removeEventListener("scroll",i),null==o||o.removeEventListener("scroll",i)),Ge.resize?window.removeEventListener("resize",i):null==s||s(),Ge.clickOutsideAnchor&&window.removeEventListener("click",Ze),Ge.escape&&window.removeEventListener("keydown",u),M&&!Fe&&(null===(e=le.current)||void 0===e||e.removeEventListener("mouseenter",v),null===(t=le.current)||void 0===t||t.removeEventListener("mouseleave",g)),c.forEach((function(e){var t=e.event,n=e.listener;r.forEach((function(e){var r;null===(r=e.current)||void 0===r||r.removeEventListener(t,n)}))}))}}),[ne,rt,xe,Ie,Le,H,W,q,De,T,C]),(0,t.useEffect)((function(){var e,t,r=null!==(t=null!==(e=null==_e?void 0:_e.anchorSelect)&&void 0!==e?e:d)&&void 0!==t?t:"";!r&&i&&(r="[data-tooltip-id='".concat(i,"']"));var n=new MutationObserver((function(e){var t=[],n=[];e.forEach((function(e){if("attributes"===e.type&&"data-tooltip-id"===e.attributeName&&(e.target.getAttribute("data-tooltip-id")===i?t.push(e.target):e.oldValue===i&&n.push(e.target)),"childList"===e.type){if(ne){var a=u(e.removedNodes).filter((function(e){return 1===e.nodeType}));if(r)try{n.push.apply(n,u(a.filter((function(e){return e.matches(r)})))),n.push.apply(n,u(a.flatMap((function(e){return u(e.querySelectorAll(r))}))))}catch(e){}a.some((function(e){var t;return!!(null===(t=null==e?void 0:e.contains)||void 0===t?void 0:t.call(e,ne))&&(we(!1),Ve(!1),ie(null),fe.current&&clearTimeout(fe.current),he.current&&clearTimeout(he.current),!0)}))}if(r)try{var o=u(e.addedNodes).filter((function(e){return 1===e.nodeType}));t.push.apply(t,u(o.filter((function(e){return e.matches(r)})))),t.push.apply(t,u(o.flatMap((function(e){return u(e.querySelectorAll(r))}))))}catch(e){}}})),(t.length||n.length)&&je((function(e){return[].concat(u(e.filter((function(e){return!n.includes(e)}))),t)}))}));return n.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),function(){n.disconnect()}}),[i,d,null==_e?void 0:_e.anchorSelect,ne]),(0,t.useEffect)((function(){rt()}),[rt]),(0,t.useEffect)((function(){if(!(null==Q?void 0:Q.current))return function(){return null};var e=new ResizeObserver((function(){setTimeout((function(){return rt()}))}));return e.observe(Q.current),function(){e.disconnect()}}),[Z,null==Q?void 0:Q.current]),(0,t.useEffect)((function(){var e,t=document.querySelector("[id='".concat(l,"']")),r=[].concat(u(Le),[t]);ne&&r.includes(ne)||ie(null!==(e=Le[0])&&void 0!==e?e:t)}),[l,Le,ne]),(0,t.useEffect)((function(){return te&&Ve(!0),function(){fe.current&&clearTimeout(fe.current),he.current&&clearTimeout(he.current)}}),[]),(0,t.useEffect)((function(){var e,t=null!==(e=null==_e?void 0:_e.anchorSelect)&&void 0!==e?e:d;if(!t&&i&&(t="[data-tooltip-id='".concat(i,"']")),t)try{var r=Array.from(document.querySelectorAll(t));je(r)}catch(e){je([])}}),[i,d,null==_e?void 0:_e.anchorSelect]),(0,t.useEffect)((function(){fe.current&&(clearTimeout(fe.current),We(T))}),[T]);var nt=null!==(r=null==_e?void 0:_e.content)&&void 0!==r?r:Z,it=be&&Object.keys(ge.tooltipStyles).length>0;return(0,t.useImperativeHandle)(n,(function(){return{open:function(e){if(null==e?void 0:e.anchorSelect)try{document.querySelector(e.anchorSelect)}catch(n){return void console.warn('[react-tooltip] "'.concat(e.anchorSelect,'" is not a valid CSS selector'))}Te(null!=e?e:null),(null==e?void 0:e.delay)?We(e.delay):Ve(!0)},close:function(e){(null==e?void 0:e.delay)?qe(e.delay):Ve(!1)},activeAnchor:ne,place:ge.place,isOpen:Boolean(xe&&!R&&nt&&it)}})),xe&&!R&&nt?t.createElement(w,{id:i,role:ce,className:Yr("react-tooltip",dn.tooltip,fn.tooltip,fn[c],a,"react-tooltip__place-".concat(ge.place),dn[it?"show":"closing"],it?"react-tooltip__show":"react-tooltip__closing","fixed"===E&&dn.fixed,M&&dn.clickable),onTransitionEnd:function(e){pe.current&&clearTimeout(pe.current),be||"opacity"!==e.propertyName||(we(!1),Te(null),null==J||J())},style:ze(ze(ze({},Y),ge.tooltipStyles),{},{opacity:void 0!==oe&&it?oe:void 0}),ref:le},nt,t.createElement(w,{className:Yr("react-tooltip-arrow",dn.arrow,fn.arrow,o,L&&dn.noArrow),style:ze(ze({},ge.tooltipArrowStyles),{},{background:se?"linear-gradient(to right bottom, transparent 50%, ".concat(se," 50%)"):void 0}),ref:de})):null},pn=function(e){var r=e.content;return t.createElement("span",{dangerouslySetInnerHTML:{__html:r}})},vn=t.forwardRef((function(e,r){var n=e.id,i=e.anchorId,a=e.anchorSelect,o=e.content,s=e.html,u=e.render,c=e.className,l=e.classNameArrow,d=e.variant,f=void 0===d?"dark":d,h=e.place,p=void 0===h?"top":h,v=e.offset,g=void 0===v?10:v,m=e.wrapper,y=void 0===m?"div":m,b=e.children,S=void 0===b?null:b,E=e.events,x=void 0===E?["hover"]:E,w=e.openOnClick,_=void 0!==w&&w,T=e.positionStrategy,A=void 0===T?"absolute":T,C=e.middlewares,P=e.delayShow,I=void 0===P?0:P,O=e.delayHide,R=void 0===O?0:O,N=e.float,L=void 0!==N&&N,j=e.hidden,M=void 0!==j&&j,D=e.noArrow,F=void 0!==D&&D,U=e.clickable,B=void 0!==U&&U,G=e.closeOnEsc,V=void 0!==G&&G,H=e.closeOnScroll,W=void 0!==H&&H,q=e.closeOnResize,z=void 0!==q&&q,Y=e.openEvents,X=e.closeEvents,K=e.globalCloseEvents,J=e.imperativeModeOnly,Z=void 0!==J&&J,Q=e.style,$=e.position,ee=e.isOpen,te=e.defaultIsOpen,re=void 0!==te&&te,ne=e.disableStyleInjection,ie=void 0!==ne&&ne,ae=e.border,oe=e.opacity,se=e.arrowColor,ue=e.setIsOpen,ce=e.afterShow,le=e.afterHide,de=e.role,fe=void 0===de?"tooltip":de,he=k((0,t.useState)(o),2),pe=he[0],ve=he[1],ge=k((0,t.useState)(s),2),me=ge[0],ye=ge[1],be=k((0,t.useState)(p),2),Se=be[0],Ee=be[1],xe=k((0,t.useState)(f),2),we=xe[0],ke=xe[1],_e=k((0,t.useState)(g),2),Te=_e[0],Ae=_e[1],Ce=k((0,t.useState)(I),2),Pe=Ce[0],Ie=Ce[1],Oe=k((0,t.useState)(R),2),Re=Oe[0],Ne=Oe[1],Le=k((0,t.useState)(L),2),je=Le[0],Me=Le[1],De=k((0,t.useState)(M),2),Fe=De[0],Ue=De[1],Be=k((0,t.useState)(y),2),Ge=Be[0],Ve=Be[1],He=k((0,t.useState)(x),2),We=He[0],qe=He[1],Ye=k((0,t.useState)(A),2),Xe=Ye[0],Ke=Ye[1],Je=k((0,t.useState)(null),2),Ze=Je[0],Qe=Je[1],$e=k((0,t.useState)(null),2),et=$e[0],tt=$e[1],rt=(0,t.useRef)(ie),nt=ln(n),it=nt.anchorRefs,at=nt.activeAnchor,ot=function(e){return null==e?void 0:e.getAttributeNames().reduce((function(t,r){var n;return r.startsWith("data-tooltip-")&&(t[r.replace(/^data-tooltip-/,"")]=null!==(n=null==e?void 0:e.getAttribute(r))&&void 0!==n?n:null),t}),{})},st=function(e){var t={place:function(e){var t;Ee(null!==(t=e)&&void 0!==t?t:p)},content:function(e){ve(null!=e?e:o)},html:function(e){ye(null!=e?e:s)},variant:function(e){var t;ke(null!==(t=e)&&void 0!==t?t:f)},offset:function(e){Ae(null===e?g:Number(e))},wrapper:function(e){var t;Ve(null!==(t=e)&&void 0!==t?t:y)},events:function(e){var t=null==e?void 0:e.split(" ");qe(null!=t?t:x)},"position-strategy":function(e){var t;Ke(null!==(t=e)&&void 0!==t?t:A)},"delay-show":function(e){Ie(null===e?I:Number(e))},"delay-hide":function(e){Ne(null===e?R:Number(e))},float:function(e){Me(null===e?L:"true"===e)},hidden:function(e){Ue(null===e?M:"true"===e)},"class-name":function(e){Qe(e)}};Object.values(t).forEach((function(e){return e(null)})),Object.entries(e).forEach((function(e){var r,n=k(e,2),i=n[0],a=n[1];null===(r=t[i])||void 0===r||r.call(t,a)}))};(0,t.useEffect)((function(){ve(o)}),[o]),(0,t.useEffect)((function(){ye(s)}),[s]),(0,t.useEffect)((function(){Ee(p)}),[p]),(0,t.useEffect)((function(){ke(f)}),[f]),(0,t.useEffect)((function(){Ae(g)}),[g]),(0,t.useEffect)((function(){Ie(I)}),[I]),(0,t.useEffect)((function(){Ne(R)}),[R]),(0,t.useEffect)((function(){Me(L)}),[L]),(0,t.useEffect)((function(){Ue(M)}),[M]),(0,t.useEffect)((function(){Ke(A)}),[A]),(0,t.useEffect)((function(){rt.current!==ie&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[ie]),(0,t.useEffect)((function(){"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:"core"===ie,disableBase:ie}}))}),[]),(0,t.useEffect)((function(){var e,t=new Set(it),r=a;if(!r&&n&&(r="[data-tooltip-id='".concat(n,"']")),r)try{document.querySelectorAll(r).forEach((function(e){t.add({current:e})}))}catch(e){console.warn('[react-tooltip] "'.concat(r,'" is not a valid CSS selector'))}var o=document.querySelector("[id='".concat(i,"']"));if(o&&t.add({current:o}),!t.size)return function(){return null};var s=null!==(e=null!=et?et:o)&&void 0!==e?e:at.current,u=new MutationObserver((function(e){e.forEach((function(e){var t;if(s&&"attributes"===e.type&&(null===(t=e.attributeName)||void 0===t?void 0:t.startsWith("data-tooltip-"))){var r=ot(s);st(r)}}))}));if(s){var c=ot(s);st(c),u.observe(s,{attributes:!0,childList:!1,subtree:!1})}return function(){u.disconnect()}}),[it,at,et,i,a]),(0,t.useEffect)((function(){(null==Q?void 0:Q.border)&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),ae&&!$r("border","".concat(ae))&&console.warn('[react-tooltip] "'.concat(ae,'" is not a valid `border`.')),(null==Q?void 0:Q.opacity)&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),oe&&!$r("opacity","".concat(oe))&&console.warn('[react-tooltip] "'.concat(oe,'" is not a valid `opacity`.'))}),[]);var ut=S,ct=(0,t.useRef)(null);if(u){var lt=u({content:(null==et?void 0:et.getAttribute("data-tooltip-content"))||pe||null,activeAnchor:et});ut=lt?t.createElement("div",{ref:ct,className:"react-tooltip-content-wrapper"},lt):null}else pe&&(ut=pe);me&&(ut=t.createElement(pn,{content:me}));var dt={forwardRef:r,id:n,anchorId:i,anchorSelect:a,className:Yr(c,Ze),classNameArrow:l,content:ut,contentWrapperRef:ct,place:Se,variant:we,offset:Te,wrapper:Ge,events:We,openOnClick:_,positionStrategy:Xe,middlewares:C,delayShow:Pe,delayHide:Re,float:je,hidden:Fe,noArrow:F,clickable:B,closeOnEsc:V,closeOnScroll:W,closeOnResize:z,openEvents:Y,closeEvents:X,globalCloseEvents:K,imperativeModeOnly:Z,style:Q,position:$,isOpen:ee,defaultIsOpen:re,border:ae,opacity:oe,arrowColor:se,setIsOpen:ue,afterShow:ce,afterHide:le,activeAnchor:et,setActiveAnchor:function(e){return tt(e)},role:fe};return t.createElement(hn,ze({},dt))}));"undefined"!=typeof window&&window.addEventListener("react-tooltip-inject-styles",(function(e){e.detail.disableCore||Zr({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||Zr({css:"\n.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}",type:"base"})}));var gn=["title","titleId"];var mn=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,gn);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))})),yn=["title","titleId"];var bn=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,yn);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"M10.75 2.75a.75.75 0 0 0-1.5 0v8.614L6.295 8.235a.75.75 0 1 0-1.09 1.03l4.25 4.5a.75.75 0 0 0 1.09 0l4.25-4.5a.75.75 0 0 0-1.09-1.03l-2.955 3.129V2.75Z"}),t.createElement("path",{d:"M3.5 12.75a.75.75 0 0 0-1.5 0v2.5A2.75 2.75 0 0 0 4.75 18h10.5A2.75 2.75 0 0 0 18 15.25v-2.5a.75.75 0 0 0-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5Z"}))})),Sn=r(59268);function En(){return En=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},En.apply(this,arguments)}var xn=t.useLayoutEffect,wn=function(e,t){"function"!==typeof e?e.current=t:e(t)},kn=function(e,r){var n=(0,t.useRef)();return(0,t.useCallback)((function(t){e.current=t,n.current&&wn(n.current,null),n.current=r,r&&wn(r,t)}),[r])},_n={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Tn=function(e){Object.keys(_n).forEach((function(t){e.style.setProperty(t,_n[t],"important")}))},An=null,Cn=function(e,t){var r=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?r+t.borderSize:r-t.paddingSize};var Pn=function(){},In=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],On=!!document.documentElement.currentStyle,Rn=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var r,n=(r=t,In.reduce((function(e,t){return e[t]=r[t],e}),{})),i=n.boxSizing;return""===i?null:(On&&"border-box"===i&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px"),{sizingStyle:n,paddingSize:parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),borderSize:parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth)})};function Nn(e,r,n){var i=function(e){var r=t.useRef(e);return xn((function(){r.current=e})),r}(n);t.useLayoutEffect((function(){var t=function(e){return i.current(e)};if(e)return e.addEventListener(r,t),function(){return e.removeEventListener(r,t)}}),[])}var Ln=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],jn=function(e,r){var n=e.cacheMeasurements,i=e.maxRows,a=e.minRows,o=e.onChange,s=void 0===o?Pn:o,u=e.onHeightChange,c=void 0===u?Pn:u,l=Ve(e,Ln),d=void 0!==l.value,f=t.useRef(null),h=kn(f,r),p=t.useRef(0),v=t.useRef(),g=function(){var e=f.current,t=n&&v.current?v.current:Rn(e);if(t){v.current=t;var r=function(e,t,r,n){void 0===r&&(r=1),void 0===n&&(n=1/0),An||((An=document.createElement("textarea")).setAttribute("tabindex","-1"),An.setAttribute("aria-hidden","true"),Tn(An)),null===An.parentNode&&document.body.appendChild(An);var i=e.paddingSize,a=e.borderSize,o=e.sizingStyle,s=o.boxSizing;Object.keys(o).forEach((function(e){var t=e;An.style[t]=o[t]})),Tn(An),An.value=t;var u=Cn(An,e);An.value=t,u=Cn(An,e),An.value="x";var c=An.scrollHeight-i,l=c*r;"border-box"===s&&(l=l+i+a),u=Math.max(l,u);var d=c*n;return"border-box"===s&&(d=d+i+a),[u=Math.min(d,u),c]}(t,e.value||e.placeholder||"x",a,i),o=r[0],s=r[1];p.current!==o&&(p.current=o,e.style.setProperty("height",o+"px","important"),c(o,{rowHeight:s}))}};return t.useLayoutEffect(g),function(e){Nn(window,"resize",e)}(g),function(e){Nn(document.fonts,"loadingdone",e)}(g),t.createElement("textarea",En({},l,{onChange:function(e){d||g(),s(e)},ref:h}))},Mn=t.forwardRef(jn),Dn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")};function Fn(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Un(e){return!!e&&!!e[Ci]}function Bn(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===Pi}(e)||Array.isArray(e)||!!e[Ai]||!!(null===(t=e.constructor)||void 0===t?void 0:t[Ai])||Yn(e)||Xn(e))}function Gn(e,t,r){void 0===r&&(r=!1),0===Vn(e)?(r?Object.keys:Ii)(e).forEach((function(n){r&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function Vn(e){var t=e[Ci];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Yn(e)?2:Xn(e)?3:0}function Hn(e,t){return 2===Vn(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Wn(e,t){return 2===Vn(e)?e.get(t):e[t]}function qn(e,t,r){var n=Vn(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function zn(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Yn(e){return wi&&e instanceof Map}function Xn(e){return ki&&e instanceof Set}function Kn(e){return e.o||e.t}function Jn(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Oi(e);delete t[Ci];for(var r=Ii(t),n=0;n<r.length;n++){var i=r[n],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Zn(e,t){return void 0===t&&(t=!1),$n(e)||Un(e)||!Bn(e)||(Vn(e)>1&&(e.set=e.add=e.clear=e.delete=Qn),Object.freeze(e),t&&Gn(e,(function(e,t){return Zn(t,!0)}),!0)),e}function Qn(){Fn(2)}function $n(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function ei(e){var t=Ri[e];return t||Fn(18,e),t}function ti(e,t){Ri[e]||(Ri[e]=t)}function ri(){return Ei}function ni(e,t){t&&(ei("Patches"),e.u=[],e.s=[],e.v=t)}function ii(e){ai(e),e.p.forEach(si),e.p=null}function ai(e){e===Ei&&(Ei=e.l)}function oi(e){return Ei={p:[],l:Ei,h:e,m:!0,_:0}}function si(e){var t=e[Ci];0===t.i||1===t.i?t.j():t.g=!0}function ui(e,t){t._=t.p.length;var r=t.p[0],n=void 0!==e&&e!==r;return t.h.O||ei("ES5").S(t,e,n),n?(r[Ci].P&&(ii(t),Fn(4)),Bn(e)&&(e=ci(t,e),t.l||di(t,e)),t.u&&ei("Patches").M(r[Ci].t,e,t.u,t.s)):e=ci(t,r,[]),ii(t),t.u&&t.v(t.u,t.s),e!==Ti?e:void 0}function ci(e,t,r){if($n(t))return t;var n=t[Ci];if(!n)return Gn(t,(function(i,a){return li(e,n,t,i,a,r)}),!0),t;if(n.A!==e)return t;if(!n.P)return di(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=4===n.i||5===n.i?n.o=Jn(n.k):n.o,a=i,o=!1;3===n.i&&(a=new Set(i),i.clear(),o=!0),Gn(a,(function(t,a){return li(e,n,i,t,a,r,o)})),di(e,i,!1),r&&e.u&&ei("Patches").N(n,r,e.u,e.s)}return n.o}function li(e,t,r,n,i,a,o){if(Un(i)){var s=ci(e,i,a&&t&&3!==t.i&&!Hn(t.R,n)?a.concat(n):void 0);if(qn(r,n,s),!Un(s))return;e.m=!1}else o&&r.add(i);if(Bn(i)&&!$n(i)){if(!e.h.D&&e._<1)return;ci(e,i),t&&t.A.l||di(e,i)}}function di(e,t,r){void 0===r&&(r=!1),!e.l&&e.h.D&&e.m&&Zn(t,r)}function fi(e,t){var r=e[Ci];return(r?Kn(r):e)[t]}function hi(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function pi(e){e.P||(e.P=!0,e.l&&pi(e.l))}function vi(e){e.o||(e.o=Jn(e.t))}function gi(e,t,r){var n=Yn(t)?ei("MapSet").F(t,r):Xn(t)?ei("MapSet").T(t,r):e.O?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:ri(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=n,a=Ni;r&&(i=[n],a=Li);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return n.k=u,n.j=s,u}(t,r):ei("ES5").J(t,r);return(r?r.A:ri()).p.push(n),n}function mi(e){return Un(e)||Fn(22,e),function e(t){if(!Bn(t))return t;var r,n=t[Ci],i=Vn(t);if(n){if(!n.P&&(n.i<4||!ei("ES5").K(n)))return n.t;n.I=!0,r=yi(t,i),n.I=!1}else r=yi(t,i);return Gn(r,(function(t,i){n&&Wn(n.t,t)===i||qn(r,t,e(i))})),3===i?new Set(r):r}(e)}function yi(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Jn(e)}function bi(){function e(e,t){var r=i[e];return r?r.enumerable=t:i[e]=r={configurable:!0,enumerable:t,get:function(){var t=this[Ci];return Ni.get(t,e)},set:function(t){var r=this[Ci];Ni.set(r,e,t)}},r}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Ci];if(!i.P)switch(i.i){case 5:n(i)&&pi(i);break;case 4:r(i)&&pi(i)}}}function r(e){for(var t=e.t,r=e.k,n=Ii(r),i=n.length-1;i>=0;i--){var a=n[i];if(a!==Ci){var o=t[a];if(void 0===o&&!Hn(t,a))return!0;var s=r[a],u=s&&s[Ci];if(u?u.t!==o:!zn(s,o))return!0}}var c=!!t[Ci];return n.length!==Ii(t).length+(c?0:1)}function n(e){var t=e.k;if(t.length!==e.t.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);if(r&&!r.get)return!0;for(var n=0;n<t.length;n++)if(!t.hasOwnProperty(n))return!0;return!1}var i={};ti("ES5",{J:function(t,r){var n=Array.isArray(t),i=function(t,r){if(t){for(var n=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(n,""+i,e(i,!0));return n}var a=Oi(r);delete a[Ci];for(var o=Ii(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(r),a)}(n,t),a={i:n?5:4,A:r?r.A:ri(),P:!1,I:!1,R:{},l:r,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Ci,{value:a,writable:!0}),i},S:function(e,r,i){i?Un(r)&&r[Ci].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var r=t[Ci];if(r){var i=r.t,a=r.k,o=r.R,s=r.i;if(4===s)Gn(a,(function(t){t!==Ci&&(void 0!==i[t]||Hn(i,t)?o[t]||e(a[t]):(o[t]=!0,pi(r)))})),Gn(i,(function(e){void 0!==a[e]||Hn(a,e)||(o[e]=!1,pi(r))}));else if(5===s){if(n(r)&&(pi(r),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),d=0;d<l;d++)a.hasOwnProperty(d)||(o[d]=!0),void 0===o[d]&&e(a[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?r(e):n(e)}})}var Si,Ei,xi="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),wi="undefined"!=typeof Map,ki="undefined"!=typeof Set,_i="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Ti=xi?Symbol.for("immer-nothing"):((Si={})["immer-nothing"]=!0,Si),Ai=xi?Symbol.for("immer-draftable"):"__$immer_draftable",Ci=xi?Symbol.for("immer-state"):"__$immer_state",Pi=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Ii="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Oi=Object.getOwnPropertyDescriptors||function(e){var t={};return Ii(e).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})),t},Ri={},Ni={get:function(e,t){if(t===Ci)return e;var r=Kn(e);if(!Hn(r,t))return function(e,t,r){var n,i=hi(t,r);return i?"value"in i?i.value:null===(n=i.get)||void 0===n?void 0:n.call(e.k):void 0}(e,r,t);var n=r[t];return e.I||!Bn(n)?n:n===fi(e.t,t)?(vi(e),e.o[t]=gi(e.A.h,n,e)):n},has:function(e,t){return t in Kn(e)},ownKeys:function(e){return Reflect.ownKeys(Kn(e))},set:function(e,t,r){var n=hi(Kn(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=fi(Kn(e),t),a=null==i?void 0:i[Ci];if(a&&a.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(zn(r,i)&&(void 0!==r||Hn(e.t,t)))return!0;vi(e),pi(e)}return e.o[t]===r&&(void 0!==r||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==fi(e.t,t)||t in e.t?(e.R[t]=!1,vi(e),pi(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=Kn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){Fn(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Fn(12)}},Li={};Gn(Ni,(function(e,t){Li[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Li.deleteProperty=function(e,t){return Li.set.call(this,e,t,void 0)},Li.set=function(e,t,r){return Ni.set.call(this,e[0],t,r,e[0])};var ji=function(){function e(e){var t=this;this.O=_i,this.D=!0,this.produce=function(e,r,n){if("function"==typeof e&&"function"!=typeof r){var i=r;r=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var n=arguments.length,o=Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(o))}))}}var o;if("function"!=typeof r&&Fn(6),void 0!==n&&"function"!=typeof n&&Fn(7),Bn(e)){var s=oi(t),u=gi(t,e,void 0),c=!0;try{o=r(u),c=!1}finally{c?ii(s):ai(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return ni(s,n),ui(e,s)}),(function(e){throw ii(s),e})):(ni(s,n),ui(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=r(e))&&(o=e),o===Ti&&(o=void 0),t.D&&Zn(o,!0),n){var l=[],d=[];ei("Patches").M(e,o,l,d),n(l,d)}return o}Fn(21,e)},this.produceWithPatches=function(e,r){if("function"==typeof e)return function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return t.produceWithPatches(r,(function(t){return e.apply(void 0,[t].concat(i))}))};var n,i,a=t.produce(e,r,(function(e,t){n=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,n,i]})):[a,n,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Bn(e)||Fn(8),Un(e)&&(e=mi(e));var t=oi(this),r=gi(this,e,void 0);return r[Ci].C=!0,ai(t),r},t.finishDraft=function(e,t){var r=(e&&e[Ci]).A;return ni(r,t),ui(void 0,r)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!_i&&Fn(20),this.O=e},t.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var i=ei("Patches").$;return Un(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Mi=new ji,Di=Mi.produce,Fi=(Mi.produceWithPatches.bind(Mi),Mi.setAutoFreeze.bind(Mi),Mi.setUseProxies.bind(Mi),Mi.applyPatches.bind(Mi),Mi.createDraft.bind(Mi),Mi.finishDraft.bind(Mi),Di);function Ui(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Bi="function"===typeof Symbol&&Symbol.observable||"@@observable",Gi=function(){return Math.random().toString(36).substring(7).split("").join(".")},Vi={INIT:"@@redux/INIT"+Gi(),REPLACE:"@@redux/REPLACE"+Gi(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Gi()}};function Hi(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Wi(e,t,r){var n;if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(Ui(0));if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(Ui(1));return r(Wi)(e,t)}if("function"!==typeof e)throw new Error(Ui(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(Ui(3));return a}function d(e){if("function"!==typeof e)throw new Error(Ui(4));if(u)throw new Error(Ui(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(Ui(6));t=!1,c();var r=s.indexOf(e);s.splice(r,1),o=null}}}function f(e){if(!Hi(e))throw new Error(Ui(7));if("undefined"===typeof e.type)throw new Error(Ui(8));if(u)throw new Error(Ui(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,r=0;r<t.length;r++){(0,t[r])()}return e}return f({type:Vi.INIT}),(n={dispatch:f,subscribe:d,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Ui(10));i=e,f({type:Vi.REPLACE})}})[Bi]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Ui(11));function r(){e.next&&e.next(l())}return r(),{unsubscribe:t(r)}}})[Bi]=function(){return this},e},n}function qi(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];0,"function"===typeof e[i]&&(r[i]=e[i])}var a,o=Object.keys(r);try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if("undefined"===typeof r(void 0,{type:Vi.INIT}))throw new Error(Ui(12));if("undefined"===typeof r(void 0,{type:Vi.PROBE_UNKNOWN_ACTION()}))throw new Error(Ui(13))}))}(r)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var n=!1,i={},s=0;s<o.length;s++){var u=o[s],c=r[u],l=e[u],d=c(l,t);if("undefined"===typeof d){t&&t.type;throw new Error(Ui(14))}i[u]=d,n=n||d!==l}return(n=n||o.length!==Object.keys(e).length)?i:e}}function zi(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Yi(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error(Ui(15))},i={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return n=zi.apply(void 0,a)(r.dispatch),ze(ze({},r),{},{dispatch:n})}}}function Xi(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(i){return"function"===typeof i?i(r,n,e):t(i)}}}}var Ki=Xi();Ki.withExtraArgument=Xi;var Ji=Ki,Zi=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qi=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},$i=function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},ea=Object.defineProperty,ta=Object.defineProperties,ra=Object.getOwnPropertyDescriptors,na=Object.getOwnPropertySymbols,ia=Object.prototype.hasOwnProperty,aa=Object.prototype.propertyIsEnumerable,oa=function(e,t,r){return t in e?ea(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},sa=function(e,t){for(var r in t||(t={}))ia.call(t,r)&&oa(e,r,t[r]);if(na)for(var n=0,i=na(t);n<i.length;n++){r=i[n];aa.call(t,r)&&oa(e,r,t[r])}return e},ua=function(e,t){return ta(e,ra(t))},ca=function(e,t,r){return new Promise((function(n,i){var a=function(e){try{s(r.next(e))}catch(t){i(t)}},o=function(e){try{s(r.throw(e))}catch(t){i(t)}},s=function(e){return e.done?n(e.value):Promise.resolve(e.value).then(a,o)};s((r=r.apply(e,t)).next())}))},la="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?zi:zi.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function da(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var r=t;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return t===r}function fa(e,t){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(t){var i=t.apply(void 0,r);if(!i)throw new Error("prepareAction did not return an object");return sa(sa({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:r[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(t){return t.type===e},r}var ha=function(e){function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Zi(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,$i([void 0],e[0].concat(this)))):new(t.bind.apply(t,$i([void 0],e.concat(this))))},t}(Array),pa=function(e){function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Zi(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,$i([void 0],e[0].concat(this)))):new(t.bind.apply(t,$i([void 0],e.concat(this))))},t}(Array);function va(e){return Bn(e)?Fi(e,(function(){})):e}function ga(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,r=void 0===t||t,n=(e.immutableCheck,e.serializableCheck,e.actionCreatorCheck,new ha);r&&(!function(e){return"boolean"===typeof e}(r)?n.push(Ji.withExtraArgument(r.extraArgument)):n.push(Ji));0;return n}(e)}}function ma(e){var t,r={},n=[],i={addCase:function(e,t){var n="string"===typeof e?e:e.type;if(!n)throw new Error("`builder.addCase` cannot be called with an empty action type");if(n in r)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return r[n]=t,i},addMatcher:function(e,t){return n.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[r,n,t]}function ya(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var r,n="function"==typeof e.initialState?e.initialState:va(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},s={},u={};function c(){var t="function"===typeof e.extraReducers?ma(e.extraReducers):[e.extraReducers],r=t[0],i=void 0===r?{}:r,a=t[1],o=void 0===a?[]:a,u=t[2],c=void 0===u?void 0:u,l=sa(sa({},i),s);return function(e,t,r,n){void 0===r&&(r=[]);var i,a="function"===typeof t?ma(t):[t,r,n],o=a[0],s=a[1],u=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return va(e())};else{var c=va(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var r=$i([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===r.filter((function(e){return!!e})).length&&(r=[u]),r.reduce((function(e,r){if(r){var n;if(Un(e))return void 0===(n=r(e,t))?e:n;if(Bn(e))return Fi(e,(function(e){return r(e,t)}));if(void 0===(n=r(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}return e}),e)}return l.getInitialState=i,l}(n,(function(e){for(var t in l)e.addCase(t,l[t]);for(var r=0,n=o;r<n.length;r++){var i=n[r];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var r,n,a=i[e],c=t+"/"+e;"reducer"in a?(r=a.reducer,n=a.prepare):r=a,o[e]=r,s[c]=r,u[e]=n?fa(c,n):fa(c)})),{name:t,reducer:function(e,t){return r||(r=c()),r(e,t)},actions:u,caseReducers:o,getInitialState:function(){return r||(r=c()),r.getInitialState()}}}var ba=function(e){void 0===e&&(e=21);for(var t="",r=e;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Sa=["name","message","stack","code"],Ea=function(e,t){this.payload=e,this.meta=t},xa=function(e,t){this.payload=e,this.meta=t},wa=function(e){if("object"===typeof e&&null!==e){for(var t={},r=0,n=Sa;r<n.length;r++){var i=n[r];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}},ka=function(){function e(e,t,r){var n=fa(e+"/fulfilled",(function(e,t,r,n){return{payload:e,meta:ua(sa({},n||{}),{arg:r,requestId:t,requestStatus:"fulfilled"})}})),i=fa(e+"/pending",(function(e,t,r){return{payload:void 0,meta:ua(sa({},r||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=fa(e+"/rejected",(function(e,t,n,i,a){return{payload:i,error:(r&&r.serializeError||wa)(e||"Rejected"),meta:ua(sa({},a||{}),{arg:n,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,c){var l,d=(null==r?void 0:r.idGenerator)?r.idGenerator(e):ba(),f=new o;function h(e){l=e,f.abort()}var p=function(){return ca(this,null,(function(){var o,p,v,g,m,y;return Qi(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),g=null==(o=null==r?void 0:r.condition)?void 0:o.call(r,e,{getState:u,extra:c}),null===(S=g)||"object"!==typeof S||"function"!==typeof S.then?[3,2]:[4,g];case 1:g=b.sent(),b.label=2;case 2:if(!1===g||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,m=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),s(i(d,e,null==(p=null==r?void 0:r.getPendingMeta)?void 0:p.call(r,{requestId:d,arg:e},{getState:u,extra:c}))),[4,Promise.race([m,Promise.resolve(t(e,{dispatch:s,getState:u,extra:c,requestId:d,signal:f.signal,abort:h,rejectWithValue:function(e,t){return new Ea(e,t)},fulfillWithValue:function(e,t){return new xa(e,t)}})).then((function(t){if(t instanceof Ea)throw t;return t instanceof xa?n(t.payload,d,e,t.meta):n(t,d,e)}))])];case 3:return v=b.sent(),[3,5];case 4:return y=b.sent(),v=y instanceof Ea?a(null,d,e,y.payload,y.meta):a(y,d,e),[3,5];case 5:return r&&!r.dispatchConditionRejection&&a.match(v)&&v.meta.condition||s(v),[2,v]}var S}))}))}();return Object.assign(p,{abort:h,requestId:d,arg:e,unwrap:function(){return p.then(_a)}})}}),{pending:i,rejected:a,fulfilled:n,typePrefix:e})}return e.withTypes=function(){return e},e}();function _a(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var Ta="listenerMiddleware";fa(Ta+"/add"),fa(Ta+"/removeAll"),fa(Ta+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:globalThis);var Aa,Ca=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Ca(10);bi();var Pa=r(29610),Ia=r(51239),Oa=r(37058),Ra=r(1168),Na=r.t(Ra,2);var La=function(e){e()},ja=function(){return La},Ma=Symbol.for("react-redux-context"),Da="undefined"!==typeof globalThis?globalThis:{};function Fa(){var e;if(!t.createContext)return{};var r=null!=(e=Da[Ma])?e:Da[Ma]=new Map,n=r.get(t.createContext);return n||(n=t.createContext(null),r.set(t.createContext,n)),n}var Ua=Fa();function Ba(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua;return function(){return(0,t.useContext)(e)}}var Ga=Ba(),Va=function(){throw new Error("uSES not initialized!")},Ha=function(e,t){return e===t};function Wa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua,r=e===Ua?Ga:Ba(e);return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="function"===typeof n?{equalityFn:n}:n,a=i.equalityFn,o=void 0===a?Ha:a,s=i.stabilityCheck,u=void 0===s?void 0:s;i.noopCheck;var c=r(),l=c.store,d=c.subscription,f=c.getServerState,h=c.stabilityCheck,p=(c.noopCheck,(0,t.useRef)(!0),(0,t.useCallback)(We({},e.name,(function(t){return e(t)}))[e.name],[e,h,u])),v=Va(d.addNestedSub,l.getState,f||l.getState,p,o);return(0,t.useDebugValue)(v),v}}var qa=Wa();r(67861),r(86440);var za={notify:function(){},get:function(){return[]}};function Ya(e,t){var r,n=za,i=0,a=!1;function o(){c.onStateChange&&c.onStateChange()}function s(){i++,r||(r=t?t.addNestedSub(o):e.subscribe(o),n=function(){var e=ja(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],r=t;r;)e.push(r),r=r.next;return e},subscribe:function(e){var n=!0,i=r={callback:e,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){n&&null!==t&&(n=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}function u(){i--,r&&0===i&&(r(),r=void 0,n.clear(),n=za)}var c={addNestedSub:function(e){s();var t=n.subscribe(e),r=!1;return function(){r||(r=!0,t(),u())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:o,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,s())},tryUnsubscribe:function(){a&&(a=!1,u())},getListeners:function(){return n}};return c}var Xa=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var Ka=function(e){var r=e.store,n=e.context,i=e.children,a=e.serverState,o=e.stabilityCheck,s=void 0===o?"once":o,u=e.noopCheck,c=void 0===u?"once":u,l=t.useMemo((function(){var e=Ya(r);return{store:r,subscription:e,getServerState:a?function(){return a}:void 0,stabilityCheck:s,noopCheck:c}}),[r,a,s,c]),d=t.useMemo((function(){return r.getState()}),[r]);Xa((function(){var e=l.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),d!==r.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,d]);var f=n||Ua;return t.createElement(f.Provider,{value:l},i)};function Ja(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua,t=e===Ua?Ga:Ba(e);return function(){return t().store}}var Za=Ja();function Qa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua,t=e===Ua?Za:Ja(e);return function(){return t().dispatch}}var $a,eo=Qa();function to(){return to="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},to.apply(this,arguments)}!function(e){Va=e}(Oa.useSyncExternalStoreWithSelector),function(e){e}(Ia.useSyncExternalStore),$a=Ra.unstable_batchedUpdates,La=$a;var ro=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=63&i|128):55296===(64512&i)&&n+1<e.length&&56320===(64512&e.charCodeAt(n+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=63&i|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=63&i|128)}return t},no={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,d=(3&a)<<4|s>>4,f=(15&s)<<2|c>>6,h=63&c;u||(h=64,o||(f=64)),n.push(r[l],r[d],r[f],r[h])}return n.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ro(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],r=0,n=0;r<e.length;){var i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[r++];t[n++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(o>>10)),t[n++]=String.fromCharCode(56320+(1023&o))}else{var s=e[r++],u=e[r++];t[n++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[],i=0;i<e.length;){var a=r[e.charAt(i++)],o=i<e.length?r[e.charAt(i)]:0,s=++i<e.length?r[e.charAt(i)]:64,u=++i<e.length?r[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new io;var c=a<<2|o>>4;if(n.push(c),64!==s){var l=o<<4&240|s>>2;if(n.push(l),64!==u){var d=s<<6&192|u;n.push(d)}}}return n},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},io=function(e){v(r,e);var t=b(r);function r(){var e;return c(this,r),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return h(r)}(E(Error)),ao=function(e){return function(e){var t=ro(e);return no.encodeByteArray(t,!0)}(e).replace(/\./g,"")},oo=function(e){try{return no.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var so=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},uo=function(){try{return so()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VIDEOGEN_ENV:"PROD",REACT_APP_NODE_ENV:"production",REACT_APP_COMMIT_INFO:'{"shortSha":"798e492","prod":295}',REACT_APP_FIREBASE_API_KEY:"AIzaSyDKIy6opqNi10RbNV5uePHWtjgVSuypBTA",REACT_APP_FIREBASE_AUTH_DOMAIN:"auth.app.videogen.io",REACT_APP_FIREBASE_PROJECT_ID:"video-gen-271828",REACT_APP_FIREBASE_STORAGE_BUCKET:"video-gen-271828.appspot.com",REACT_APP_FIREBASE_MESSAGE_SENDER_ID:"963680179378",REACT_APP_FIREBASE_APP_ID:"1:963680179378:web:b57e293eadd3eca71b25ab",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-ZQ2M5ZV1WM",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51MsyxeCL8XHlgtoh7Kqjl2DmettykCPYBF7neRAVHk6sUwuF3ergZjga5JThQE8doSUFqGJy4TCWxrZBZNuGWt1R00Wla3xUf8",REACT_APP_STRIPE_TEST_PUBLISHABLE_KEY:"pk_test_51MsyxeCL8XHlgtohdryk9S1ujT3Zit9eCMaSlipz4AIKK0ToWKmb8ozoCBN5x7qpR5P8fcricAk1wuod2uRXMa0t00RgkxBbOn"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(r){return}var t=e&&oo(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},co=function(e){var t,r;return null===(r=null===(t=uo())||void 0===t?void 0:t.emulatorHosts)||void 0===r?void 0:r[e]},lo=function(){var e;return null===(e=uo())||void 0===e?void 0:e.config},fo=function(e){var t;return null===(t=uo())||void 0===t?void 0:t["_".concat(e)]},ho=function(){function e(){var t=this;c(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,r){t.resolve=e,t.reject=r}))}return h(e,[{key:"wrapCallback",value:function(e){var t=this;return function(r,n){r?t.reject(r):t.resolve(n),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(r):e(r,n))}}}]),e}();function po(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function vo(){return!function(){var e,t=null===(e=uo())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(r.g.process)}catch(n){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function go(){try{return"object"===typeof indexedDB}catch(e){return!1}}var mo=function(e){v(r,e);var t=b(r);function r(e,n,i){var a;return c(this,r),(a=t.call(this,n)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(y(a),r.prototype),Error.captureStackTrace&&Error.captureStackTrace(y(a),yo.prototype.create),a}return h(r)}(E(Error)),yo=function(){function e(t,r,n){c(this,e),this.service=t,this.serviceName=r,this.errors=n}return h(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},r="".concat(this.service,"/").concat(e),n=this.errors[e],i=n?function(e,t){return e.replace(bo,(function(e,r){var n=t[r];return null!=n?String(n):"<".concat(r,"?>")}))}(n,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(r,").");return new mo(r,a,t)}}]),e}();var bo=/\{\$([^}]+)}/g;function So(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Eo(e,t){if(e===t)return!0;for(var r=Object.keys(e),n=Object.keys(t),i=0,a=r;i<a.length;i++){var o=a[i];if(!n.includes(o))return!1;var s=e[o],u=t[o];if(xo(s)&&xo(u)){if(!Eo(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=n;c<l.length;c++){var d=l[c];if(!r.includes(d))return!1}return!0}function xo(e){return null!==e&&"object"===typeof e}function wo(e){for(var t=[],r=function(){var e=k(i[n],2),r=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))},n=0,i=Object.entries(e);n<i.length;n++)r();return t.length?"&"+t.join("&"):""}function ko(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var r=k(e.split("="),2),n=r[0],i=r[1];t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function _o(e){var t=e.indexOf("?");if(!t)return"";var r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}var To=function(){function e(t,r){var n=this;c(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then((function(){t(n)})).catch((function(e){n.error(e)}))}return h(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,r){var n,i=this;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");void 0===(n=function(e,t){if("object"!==typeof e||null===e)return!1;var r,n=T(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){n.e(a)}finally{n.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r}).next&&(n.next=Ao),void 0===n.error&&(n.error=Ao),void 0===n.complete&&(n.complete=Ao);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?n.error(i.finalError):n.complete()}catch(e){}})),this.observers.push(n),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var r=this;this.task.then((function(){if(void 0!==r.observers&&void 0!==r.observers[e])try{t(r.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ao(){}function Co(e){return e&&e._delegate?e._delegate:e}var Po=function(){function e(t,r,n){c(this,e),this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return h(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Io="[DEFAULT]",Oo=function(){function e(t,r){c(this,e),this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return h(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var r=new ho;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{var n=this.getOrInitializeService({instanceIdentifier:t});n&&r.resolve(n)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,r=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),n=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Io})}catch(u){}var t,r=T(this.instancesDeferred.entries());try{for(r.s();!(t=r.n()).done;){var n=k(t.value,2),i=n[0],a=n[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){r.e(c)}finally{r.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ot(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(u(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),u(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,r=void 0===t?{}:t,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:n,options:r}),o=T(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=k(i.value,2),u=s[0],c=s[1];n===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var r,n=this.normalizeInstanceIdentifier(t),i=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;i.add(e),this.onInitCallbacks.set(n,i);var a=this.instances.get(n);return a&&e(a,n),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var r=this.onInitCallbacks.get(t);if(r){var n,i=T(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,r=e.instanceIdentifier,n=e.options,i=void 0===n?{}:n,a=this.instances.get(r);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=r,t===Io?void 0:t),options:i}),this.instances.set(r,a),this.instancesOptions.set(r,i),this.invokeOnInitCallbacks(a,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io;return this.component?this.component.multipleInstances?e:Io:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ro,No,Lo=function(){function e(t){c(this,e),this.name=t,this.providers=new Map}return h(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Oo(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),jo=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(No||(No={}));var Mo={debug:No.DEBUG,verbose:No.VERBOSE,info:No.INFO,warn:No.WARN,error:No.ERROR,silent:No.SILENT},Do=No.INFO,Fo=(We(Ro={},No.DEBUG,"log"),We(Ro,No.VERBOSE,"log"),We(Ro,No.INFO,"info"),We(Ro,No.WARN,"warn"),We(Ro,No.ERROR,"error"),Ro),Uo=function(e,t){if(!(t<e.logLevel)){var r=(new Date).toISOString(),n=Fo[t];if(!n)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[n].apply(i,["[".concat(r,"]  ").concat(e.name,":")].concat(o))}},Bo=function(){function e(t){c(this,e),this.name=t,this._logLevel=Do,this._logHandler=Uo,this._userLogHandler=null,jo.push(this)}return h(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in No))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Mo[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,No.DEBUG].concat(t)),this._logHandler.apply(this,[this,No.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,No.VERBOSE].concat(t)),this._logHandler.apply(this,[this,No.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,No.INFO].concat(t)),this._logHandler.apply(this,[this,No.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,No.WARN].concat(t)),this._logHandler.apply(this,[this,No.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,No.ERROR].concat(t)),this._logHandler.apply(this,[this,No.ERROR].concat(t))}}]),e}();var Go,Vo,Ho=function(e,t){return t.some((function(t){return e instanceof t}))};var Wo=new WeakMap,qo=new WeakMap,zo=new WeakMap,Yo=new WeakMap,Xo=new WeakMap;var Ko={get:function(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return qo.get(e);if("objectStoreNames"===t)return e.objectStoreNames||zo.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Qo(e[t])},set:function(e,t,r){return e[t]=r,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Jo(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Vo||(Vo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply($o(this),r),Qo(Wo.get(this))}:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Qo(e.apply($o(this),r))}:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=e.call.apply(e,[$o(this),t].concat(n));return zo.set(a,t.sort?t.sort():[t]),Qo(a)}}function Zo(e){return"function"===typeof e?Jo(e):(e instanceof IDBTransaction&&function(e){if(!qo.has(e)){var t=new Promise((function(t,r){var n=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),n()},a=function(){r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));qo.set(e,t)}}(e),Ho(e,Go||(Go=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ko):e)}function Qo(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,r){var n=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Qo(e.result)),n()},a=function(){r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Wo.set(t,e)})).catch((function(){})),Xo.set(t,e),t}(e);if(Yo.has(e))return Yo.get(e);var t=Zo(e);return t!==e&&(Yo.set(e,t),Xo.set(t,e)),t}var $o=function(e){return Xo.get(e)};var es,ts,rs=["get","getKey","getAll","getAllKeys","count"],ns=["put","add","delete","clear"],is=new Map;function as(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(is.get(t))return is.get(t);var r=t.replace(/FromIndex$/,""),n=t!==r,i=ns.includes(r);if(r in(n?IDBIndex:IDBObjectStore).prototype&&(i||rs.includes(r))){var a=function(){var e=Ot(Pt().mark((function e(t){var a,o,s,u,c,l,d=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=d.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=d[l];return n&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[r].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return is.set(t,a),a}}}Ko=function(e){return ze(ze({},e),{},{get:function(t,r,n){return as(t,r)||e.get(t,r,n)},has:function(t,r){return!!as(t,r)||e.has(t,r)}})}(Ko);var os=function(){function e(t){c(this,e),this.container=t}return h(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ss="@firebase/app",us="0.10.5",cs=new Bo("@firebase/app"),ls="[DEFAULT]",ds=(We(es={},ss,"fire-core"),We(es,"@firebase/app-compat","fire-core-compat"),We(es,"@firebase/analytics","fire-analytics"),We(es,"@firebase/analytics-compat","fire-analytics-compat"),We(es,"@firebase/app-check","fire-app-check"),We(es,"@firebase/app-check-compat","fire-app-check-compat"),We(es,"@firebase/auth","fire-auth"),We(es,"@firebase/auth-compat","fire-auth-compat"),We(es,"@firebase/database","fire-rtdb"),We(es,"@firebase/database-compat","fire-rtdb-compat"),We(es,"@firebase/functions","fire-fn"),We(es,"@firebase/functions-compat","fire-fn-compat"),We(es,"@firebase/installations","fire-iid"),We(es,"@firebase/installations-compat","fire-iid-compat"),We(es,"@firebase/messaging","fire-fcm"),We(es,"@firebase/messaging-compat","fire-fcm-compat"),We(es,"@firebase/performance","fire-perf"),We(es,"@firebase/performance-compat","fire-perf-compat"),We(es,"@firebase/remote-config","fire-rc"),We(es,"@firebase/remote-config-compat","fire-rc-compat"),We(es,"@firebase/storage","fire-gcs"),We(es,"@firebase/storage-compat","fire-gcs-compat"),We(es,"@firebase/firestore","fire-fst"),We(es,"@firebase/firestore-compat","fire-fst-compat"),We(es,"@firebase/vertexai-preview","fire-vertex"),We(es,"fire-js","fire-js"),We(es,"firebase","fire-js-all"),es),fs=new Map,hs=new Map,ps=new Map;function vs(e,t){try{e.container.addComponent(t)}catch(r){cs.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),r)}}function gs(e){var t=e.name;if(ps.has(t))return cs.debug("There were multiple attempts to register component ".concat(t,".")),!1;ps.set(t,e);var r,n=T(fs.values());try{for(n.s();!(r=n.n()).done;){vs(r.value,e)}}catch(o){n.e(o)}finally{n.f()}var i,a=T(hs.values());try{for(a.s();!(i=a.n()).done;){vs(i.value,e)}}catch(o){a.e(o)}finally{a.f()}return!0}function ms(e,t){var r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function ys(e){return void 0!==e.settings}var bs=(We(ts={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),We(ts,"bad-app-name","Illegal App name: '{$appName}'"),We(ts,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),We(ts,"app-deleted","Firebase App named '{$appName}' already deleted"),We(ts,"server-app-deleted","Firebase Server App has been deleted"),We(ts,"no-options","Need to provide options, when not being deployed to hosting via source."),We(ts,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),We(ts,"invalid-log-argument","First argument to `onLog` must be null or a function."),We(ts,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),We(ts,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),We(ts,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),We(ts,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),We(ts,"finalization-registry-not-supported","FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry."),We(ts,"invalid-server-app-environment","FirebaseServerApp is not for use in browser environments."),ts),Ss=new yo("app","Firebase",bs),Es=function(){function e(t,r,n){var i=this;c(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Po("app",(function(){return i}),"PUBLIC"))}return h(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}]),e}(),xs="10.12.2";function ws(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;"object"!==typeof t&&(t={name:t});var n=Object.assign({name:ls,automaticDataCollectionEnabled:!1},t),i=n.name;if("string"!==typeof i||!i)throw Ss.create("bad-app-name",{appName:String(i)});if(r||(r=lo()),!r)throw Ss.create("no-options");var a=fs.get(i);if(a){if(Eo(r,a.options)&&Eo(n,a.config))return a;throw Ss.create("duplicate-app",{appName:i})}var o,s=new Lo(i),u=T(ps.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(d){u.e(d)}finally{u.f()}var l=new Es(r,n,s);return fs.set(i,l),l}function ks(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ls,t=fs.get(e);if(!t&&e===ls&&lo())return ws();if(!t)throw Ss.create("no-app",{appName:e});return t}function _s(e,t,r){var n,i=null!==(n=ds[e])&&void 0!==n?n:e;r&&(i+="-".concat(r));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void cs.warn(s.join(" "))}gs(new Po("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Ts="firebase-heartbeat-database",As=1,Cs="firebase-heartbeat-store",Ps=null;function Is(){return Ps||(Ps=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.blocked,i=r.upgrade,a=r.blocking,o=r.terminated,s=indexedDB.open(e,t),u=Qo(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Qo(s.result),e.oldVersion,e.newVersion,Qo(s.transaction),e)})),n&&s.addEventListener("blocked",(function(e){return n(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Ts,As,{upgrade:function(e,t){if(0===t)try{e.createObjectStore(Cs)}catch(r){console.warn(r)}}}).catch((function(e){throw Ss.create("idb-open",{originalErrorMessage:e.message})}))),Ps}function Os(e){return Rs.apply(this,arguments)}function Rs(){return Rs=Ot(Pt().mark((function e(t){var r,n,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Is();case 3:return r=e.sent,n=r.transaction(Cs),e.next=7,n.objectStore(Cs).get(js(t));case 7:return i=e.sent,e.next=10,n.done;case 10:return e.abrupt("return",i);case 13:e.prev=13,e.t0=e.catch(0),e.t0 instanceof mo?cs.warn(e.t0.message):(a=Ss.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),cs.warn(a.message));case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),Rs.apply(this,arguments)}function Ns(e,t){return Ls.apply(this,arguments)}function Ls(){return Ls=Ot(Pt().mark((function e(t,r){var n,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Is();case 3:return n=e.sent,i=n.transaction(Cs,"readwrite"),a=i.objectStore(Cs),e.next=8,a.put(r,js(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof mo?cs.warn(e.t0.message):(o=Ss.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),cs.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Ls.apply(this,arguments)}function js(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ms=function(){function e(t){var r=this;c(this,e),this.container=t,this._heartbeatsCache=null;var n=this.container.getProvider("app").getImmediate();this._storage=new Bs(n),this._heartbeatsCachePromise=this._storage.read().then((function(e){return r._heartbeatsCache=e,e}))}return h(e,[{key:"triggerHeartbeat",value:function(){var e=Ot(Pt().mark((function e(){var t,r,n,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.container.getProvider("platform-logger").getImmediate(),i=n.getPlatformInfoString(),a=Ds(),null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)){e.next=9;break}return e.next=6,this._heartbeatsCachePromise;case 6:if(this._heartbeatsCache=e.sent,null!=(null===(r=this._heartbeatsCache)||void 0===r?void 0:r.heartbeats)){e.next=9;break}return e.abrupt("return");case 9:if(this._heartbeatsCache.lastSentHeartbeatDate!==a&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===a}))){e.next=13;break}return e.abrupt("return");case 13:this._heartbeatsCache.heartbeats.push({date:a,agent:i});case 14:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ot(Pt().mark((function e(){var t,r,n,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(r=Ds(),n=Fs(this._heartbeatsCache.heartbeats),i=n.heartbeatsToSend,a=n.unsentEntries,o=ao(JSON.stringify({version:2,heartbeats:i})),this._heartbeatsCache.lastSentHeartbeatDate=r,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ds(){return(new Date).toISOString().substring(0,10)}function Fs(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=[],i=e.slice(),a=T(e);try{var o=function(){var e=t.value,a=n.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Gs(n)>r)return a.dates.pop(),0}else if(n.push({agent:e.agent,dates:[e.date]}),Gs(n)>r)return n.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:n,unsentEntries:i}}var Us,Bs=function(){function e(t){c(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return h(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(go()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var r=!0,n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=function(){i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=function(){r=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ot(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Os(this.app);case 9:if(!(null===(t=e.sent)||void 0===t?void 0:t.heartbeats)){e.next=14;break}return e.abrupt("return",t);case 14:return e.abrupt("return",{heartbeats:[]});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ot(Pt().mark((function e(t){var r,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return n=e.sent,e.abrupt("return",Ns(this.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:n.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ot(Pt().mark((function e(t){var r,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return n=e.sent,e.abrupt("return",Ns(this.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:n.lastSentHeartbeatDate,heartbeats:[].concat(u(n.heartbeats),u(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Gs(e){return ao(JSON.stringify({version:2,heartbeats:e})).length}Us="",gs(new Po("platform-logger",(function(e){return new os(e)}),"PRIVATE")),gs(new Po("heartbeat",(function(e){return new Ms(e)}),"PRIVATE")),_s(ss,us,Us),_s(ss,us,"esm2017"),_s("fire-js","");function Vs(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var Hs;function Ws(){return We({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var qs=Ws,zs=new yo("auth","Firebase",Ws()),Ys=new Bo("@firebase/auth");function Xs(e){if(Ys.logLevel<=No.WARN){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];Ys.warn.apply(Ys,["Auth (".concat(xs,"): ").concat(e)].concat(r))}}function Ks(e){if(Ys.logLevel<=No.ERROR){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];Ys.error.apply(Ys,["Auth (".concat(xs,"): ").concat(e)].concat(r))}}function Js(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw tu.apply(void 0,[e].concat(r))}function Zs(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return tu.apply(void 0,[e].concat(r))}function Qs(e,t,r){var n=Object.assign(Object.assign({},qs()),We({},t,r));return new yo("auth","Firebase",n).create(t,{appName:e.name})}function $s(e){return Qs(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eu(e,t,r){if(!(t instanceof r))throw r.name!==t.constructor.name&&Js(e,"argument-error"),Qs(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function tu(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if("string"!==typeof e){var i,a=r[0],o=u(r.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(u(o)))}return zs.create.apply(zs,[e].concat(r))}function ru(e,t){if(!e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];throw tu.apply(void 0,[t].concat(n))}}function nu(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ks(t),new Error(t)}function iu(e,t){e||nu(t)}function au(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ou(){return"http:"===su()||"https:"===su()}function su(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function uu(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ou()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var cu=function(){function e(t,r){c(this,e),this.shortDelay=t,this.longDelay=r,iu(r>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(po())||"object"===typeof navigator&&"ReactNative"===navigator.product}return h(e,[{key:"get",value:function(){return uu()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function lu(e,t){iu(e.emulator,"Emulator should always be set here");var r=e.emulator.url;return t?"".concat(r).concat(t.startsWith("/")?t.slice(1):t):r}var du=function(){function e(){c(this,e)}return h(e,null,[{key:"initialize",value:function(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void nu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}))},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void nu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void nu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),fu=(We(Hs={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),We(Hs,"MISSING_CUSTOM_TOKEN","internal-error"),We(Hs,"INVALID_IDENTIFIER","invalid-email"),We(Hs,"MISSING_CONTINUE_URI","internal-error"),We(Hs,"INVALID_PASSWORD","wrong-password"),We(Hs,"MISSING_PASSWORD","missing-password"),We(Hs,"INVALID_LOGIN_CREDENTIALS","invalid-credential"),We(Hs,"EMAIL_EXISTS","email-already-in-use"),We(Hs,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),We(Hs,"INVALID_IDP_RESPONSE","invalid-credential"),We(Hs,"INVALID_PENDING_TOKEN","invalid-credential"),We(Hs,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),We(Hs,"MISSING_REQ_TYPE","internal-error"),We(Hs,"EMAIL_NOT_FOUND","user-not-found"),We(Hs,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),We(Hs,"EXPIRED_OOB_CODE","expired-action-code"),We(Hs,"INVALID_OOB_CODE","invalid-action-code"),We(Hs,"MISSING_OOB_CODE","internal-error"),We(Hs,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),We(Hs,"INVALID_ID_TOKEN","invalid-user-token"),We(Hs,"TOKEN_EXPIRED","user-token-expired"),We(Hs,"USER_NOT_FOUND","user-token-expired"),We(Hs,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),We(Hs,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),We(Hs,"INVALID_CODE","invalid-verification-code"),We(Hs,"INVALID_SESSION_INFO","invalid-verification-id"),We(Hs,"INVALID_TEMPORARY_PROOF","invalid-credential"),We(Hs,"MISSING_SESSION_INFO","missing-verification-id"),We(Hs,"SESSION_EXPIRED","code-expired"),We(Hs,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),We(Hs,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),We(Hs,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),We(Hs,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),We(Hs,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),We(Hs,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),We(Hs,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),We(Hs,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),We(Hs,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),We(Hs,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),We(Hs,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),We(Hs,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),We(Hs,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),We(Hs,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),We(Hs,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),We(Hs,"MISSING_CLIENT_TYPE","missing-client-type"),We(Hs,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),We(Hs,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),We(Hs,"INVALID_REQ_TYPE","invalid-req-type"),Hs),hu=new cu(3e4,6e4);function pu(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function vu(e,t,r,n){return gu.apply(this,arguments)}function gu(){return gu=Ot(Pt().mark((function e(t,r,n,i){var a,o=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",mu(t,a,Ot(Pt().mark((function e(){var a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===r?o=i:a={body:JSON.stringify(i)}),s=wo(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",du.fetch()(Eu(t,t.config.apiHost,n,s),Object.assign({method:r,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),gu.apply(this,arguments)}function mu(e,t,r){return yu.apply(this,arguments)}function yu(){return yu=Ot(Pt().mark((function e(t,r,n){var i,a,o,s,u,c,l,d,f,h;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},fu),r),e.prev=2,a=new wu(t),e.next=6,Promise.race([n(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw ku(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=k(c,2),d=l[0],f=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw ku(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw ku(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw ku(t,"user-disabled",s);case 29:if(h=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!f){e.next=34;break}throw Qs(t,h,f);case 34:Js(t,h);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof mo)){e.next=41;break}throw e.t0;case 41:Js(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),yu.apply(this,arguments)}function bu(e,t,r,n){return Su.apply(this,arguments)}function Su(){return Su=Ot(Pt().mark((function e(t,r,n,i){var a,o,s=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,vu(t,r,n,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Js(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Su.apply(this,arguments)}function Eu(e,t,r,n){var i="".concat(t).concat(r,"?").concat(n);return e.config.emulator?lu(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function xu(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var wu=function(){function e(t){var r=this;c(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){r.timer=setTimeout((function(){return t(Zs(r.auth,"network-request-failed"))}),hu.get())}))}return h(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ku(e,t,r){var n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);var i=Zs(e,t,n);return i.customData._tokenResponse=r,i}function _u(e){return void 0!==e&&void 0!==e.enterprise}var Tu=function(){function e(t){if(c(this,e),this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}return h(e,[{key:"getProviderEnforcementState",value:function(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;var t,r=T(this.recaptchaEnforcementState);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.provider&&n.provider===e)return xu(n.enforcementState)}}catch(i){r.e(i)}finally{r.f()}return null}},{key:"isProviderEnabled",value:function(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}]),e}();function Au(e,t){return Cu.apply(this,arguments)}function Cu(){return Cu=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,"GET","/v2/recaptchaConfig",pu(t,r)));case 1:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}function Pu(e,t){return Iu.apply(this,arguments)}function Iu(){return Iu=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,"POST","/v1/accounts:delete",r));case 1:case"end":return e.stop()}}),e)}))),Iu.apply(this,arguments)}function Ou(e,t){return Ru.apply(this,arguments)}function Ru(){return Ru=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,"POST","/v1/accounts:lookup",r));case 1:case"end":return e.stop()}}),e)}))),Ru.apply(this,arguments)}function Nu(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(r){}}function Lu(){return Lu=Ot(Pt().mark((function e(t){var r,n,i,a,o,s,u=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]&&u[1],n=Co(t),e.next=4,n.getIdToken(r);case 4:return i=e.sent,ru((a=Mu(i))&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Nu(ju(a.auth_time)),issuedAtTime:Nu(ju(a.iat)),expirationTime:Nu(ju(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Lu.apply(this,arguments)}function ju(e){return 1e3*Number(e)}function Mu(e){var t=k(e.split("."),3),r=t[0],n=t[1],i=t[2];if(void 0===r||void 0===n||void 0===i)return Ks("JWT malformed, contained fewer than 3 sections"),null;try{var a=oo(n);return a?JSON.parse(a):(Ks("Failed to decode base64 JWT payload"),null)}catch(o){return Ks("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Du(e){var t=Mu(e);return ru(t,"internal-error"),ru("undefined"!==typeof t.exp,"internal-error"),ru("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}function Fu(e,t){return Uu.apply(this,arguments)}function Uu(){return Uu=Ot(Pt().mark((function e(t,r){var n=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>2&&void 0!==n[2]&&n[2])){e.next=3;break}return e.abrupt("return",r);case 3:return e.prev=3,e.next=6,r;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof mo&&Bu(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Uu.apply(this,arguments)}function Bu(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Gu=function(){function e(t){c(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return h(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}this.errorBackoff=3e4;var n=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,n)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var r=this.getInterval(t);this.timerId=setTimeout(Ot(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),r)}}},{key:"iteration",value:function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Vu=function(){function e(t,r){c(this,e),this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}return h(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Nu(this.lastLoginAt),this.creationTime=Nu(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Hu(e){return Wu.apply(this,arguments)}function Wu(){return Wu=Ot(Pt().mark((function e(t){var r,n,i,a,o,s,u,c,l,d,f;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Fu(t,Ou(n,{idToken:i}));case 6:ru(null===(a=e.sent)||void 0===a?void 0:a.users.length,n,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(r=o.providerUserInfo)||void 0===r?void 0:r.length)?Yu(o.providerUserInfo):[],u=zu(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),d=!!c&&l,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Vu(o.createdAt,o.lastLoginAt),isAnonymous:d},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),Wu.apply(this,arguments)}function qu(){return(qu=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Co(t),e.next=3,Hu(r);case 3:return e.next=5,r.auth._persistUserIfCurrent(r);case 5:r.auth._notifyListenersIfCurrent(r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zu(e,t){var r=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(u(r),u(t))}function Yu(e){return e.map((function(e){var t=e.providerId,r=Vs(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}}))}function Xu(e,t){return Ku.apply(this,arguments)}function Ku(){return Ku=Ot(Pt().mark((function e(t,r){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mu(t,{},Ot(Pt().mark((function e(){var n,i,a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wo({grant_type:"refresh_token",refresh_token:r}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Eu(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",du.fetch()(s,{method:"POST",headers:u,body:n}));case 8:case"end":return e.stop()}}),e)}))));case 2:return n=e.sent,e.abrupt("return",{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ku.apply(this,arguments)}function Ju(e,t){return Zu.apply(this,arguments)}function Zu(){return Zu=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,"POST","/v2/accounts:revokeToken",pu(t,r)));case 1:case"end":return e.stop()}}),e)}))),Zu.apply(this,arguments)}var Qu=function(){function e(){c(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return h(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ru(e.idToken,"internal-error"),ru("undefined"!==typeof e.idToken,"internal-error"),ru("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Du(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"updateFromIdToken",value:function(e){ru(0!==e.length,"internal-error");var t=Du(e);this.updateTokensAndExpiration(e,null,t)}},{key:"getToken",value:function(){var e=Ot(Pt().mark((function e(t){var r=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.length>1&&void 0!==r[1]&&r[1]||!this.accessToken||this.isExpired){e.next=3;break}return e.abrupt("return",this.accessToken);case 3:if(ru(this.refreshToken,t,"user-token-expired"),!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xu(t,r);case 2:n=e.sent,i=n.accessToken,a=n.refreshToken,o=n.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return nu("not implemented")}}],[{key:"fromJSON",value:function(t,r){var n=r.refreshToken,i=r.accessToken,a=r.expirationTime,o=new e;return n&&(ru("string"===typeof n,"internal-error",{appName:t}),o.refreshToken=n),i&&(ru("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ru("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function $u(e,t){ru("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ec=function(){function e(t){c(this,e);var r=t.uid,n=t.auth,i=t.stsTokenManager,a=Vs(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?u(a.providerData):[],this.metadata=new Vu(a.createdAt||void 0,a.lastLoginAt||void 0)}return h(e,[{key:"getIdToken",value:function(){var e=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fu(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ru(r=e.sent,this.auth,"internal-error"),this.accessToken===r){e.next=9;break}return this.accessToken=r,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Lu.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return qu.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ru(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var r=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}},{key:"_onReload",value:function(e){ru(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ot(Pt().mark((function e(t){var r,n,i=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]&&i[1],n=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),!r){e.next=6;break}return e.next=6,Hu(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:n&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ot(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ys(this.auth.app)){e.next=2;break}return e.abrupt("return",Promise.reject($s(this.auth)));case 2:return e.next=4,this.getIdToken();case 4:return t=e.sent,e.next=7,Fu(this,Pu(this.auth,{idToken:t}));case 7:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,r){var n,i,a,o,s,u,c,l,d=null!==(n=r.displayName)&&void 0!==n?n:void 0,f=null!==(i=r.email)&&void 0!==i?i:void 0,h=null!==(a=r.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=r.photoURL)&&void 0!==o?o:void 0,v=null!==(s=r.tenantId)&&void 0!==s?s:void 0,g=null!==(u=r._redirectEventId)&&void 0!==u?u:void 0,m=null!==(c=r.createdAt)&&void 0!==c?c:void 0,y=null!==(l=r.lastLoginAt)&&void 0!==l?l:void 0,b=r.uid,S=r.emailVerified,E=r.isAnonymous,x=r.providerData,w=r.stsTokenManager;ru(b&&w,t,"internal-error");var k=Qu.fromJSON(this.name,w);ru("string"===typeof b,t,"internal-error"),$u(d,t.name),$u(f,t.name),ru("boolean"===typeof S,t,"internal-error"),ru("boolean"===typeof E,t,"internal-error"),$u(h,t.name),$u(p,t.name),$u(v,t.name),$u(g,t.name),$u(m,t.name),$u(y,t.name);var _=new e({uid:b,auth:t,email:f,emailVerified:S,displayName:d,isAnonymous:E,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:k,createdAt:m,lastLoginAt:y});return x&&Array.isArray(x)&&(_.providerData=x.map((function(e){return Object.assign({},e)}))),g&&(_._redirectEventId=g),_}},{key:"_fromIdTokenResponse",value:function(){var t=Ot(Pt().mark((function t(r,n){var i,a,o,s=arguments;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Qu).updateFromServerResponse(n),o=new e({uid:n.localId,auth:r,stsTokenManager:a,isAnonymous:i}),t.next=6,Hu(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"_fromGetAccountInfoResponse",value:function(){var t=Ot(Pt().mark((function t(r,n,i){var a,o,s,u,c,l;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ru(void 0!==(a=n.users[0]).localId,"internal-error"),o=void 0!==a.providerUserInfo?Yu(a.providerUserInfo):[],s=!(a.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length),(u=new Qu).updateFromIdToken(i),c=new e({uid:a.localId,auth:r,stsTokenManager:u,isAnonymous:s}),l={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Vu(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length)},Object.assign(c,l),t.abrupt("return",c);case 10:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()}]),e}(),tc=new Map;function rc(e){iu(e instanceof Function,"Expected a class definition");var t=tc.get(e);return t?(iu(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,tc.set(e,t),t)}var nc=function(){function e(){c(this,e),this.type="NONE",this.storage={}}return h(e,[{key:"_isAvailable",value:function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=r;case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.storage[t],e.abrupt("return",void 0===r?null:r);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();nc.type="NONE";var ic=nc;function ac(e,t,r){return"firebase".concat(":",e,":").concat(t,":").concat(r)}var oc=function(){function e(t,r,n){c(this,e),this.persistence=t,this.auth=r,this.userKey=n;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ac(this.userKey,a.apiKey,o),this.fullPersistenceKey=ac("persistence",a.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return h(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ot(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ec._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return r=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!r){e.next=10;break}return e.abrupt("return",this.setCurrentUser(r));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ot(Pt().mark((function t(r,n){var i,a,o,s,u,c,l,d,f,h,p,v=arguments;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",n.length){t.next=3;break}return t.abrupt("return",new e(rc(ic),r,i));case 3:return t.next=5,Promise.all(n.map(function(){var e=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||rc(ic),s=ac(i,r.config.apiKey,r.name),u=null,c=T(n),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return d=l.value,t.prev=14,t.next=17,d._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return h=ec._fromJSON(r,f),d!==o&&(u=h),o=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,r,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(n.map(function(){var e=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,r,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,r){return t.apply(this,arguments)}}()}]),e}();function sc(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(uc(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hc(t))return"Blackberry";if(pc(t))return"Webos";if(cc(t))return"Safari";if((t.includes("chrome/")||lc(t))&&!t.includes("edge/"))return"Chrome";if(fc(t))return"Android";var r=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===r||void 0===r?void 0:r.length)?r[1]:"Other"}function uc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po();return/firefox\//i.test(e)}function cc(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:po()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po();return/crios\//i.test(e)}function dc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po();return/iemobile/i.test(e)}function fc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po();return/android/i.test(e)}function hc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po();return/blackberry/i.test(e)}function pc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po();return/webos/i.test(e)}function vc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function gc(){return function(){var e=po();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function mc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po();return vc(e)||fc(e)||pc(e)||hc(e)||/windows phone/i.test(e)||dc(e)}function yc(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=sc(po());break;case"Worker":t="".concat(sc(po()),"-").concat(e);break;default:t=e}var n=r.length?r.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(xs,"/").concat(n)}var bc=function(){function e(t){c(this,e),this.auth=t,this.queue=[]}return h(e,[{key:"pushCallback",value:function(e,t){var r=this,n=function(t){return new Promise((function(r,n){try{r(e(t))}catch(i){n(i)}}))};n.onAbort=t,this.queue.push(n);var i=this.queue.length-1;return function(){r.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ot(Pt().mark((function e(t){var r,n,i,a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,n=T(this.queue),e.prev=5,n.s();case 7:if((i=n.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&r.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),o=T(r);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(ct){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Sc(e){return Ec.apply(this,arguments)}function Ec(){return Ec=Ot(Pt().mark((function e(t){var r,n=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",vu(t,"GET","/v2/passwordPolicy",pu(t,r)));case 2:case"end":return e.stop()}}),e)}))),Ec.apply(this,arguments)}var xc=function(){function e(t){var r,n,i,a;c(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(r=o.minPasswordLength)&&void 0!==r?r:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(n=t.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return h(e,[{key:"validatePassword",value:function(e){var t,r,n,i,a,o,s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(r=s.meetsMaxPasswordLength)||void 0===r||r),s.isValid&&(s.isValid=null===(n=s.containsLowercaseLetter)||void 0===n||n),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}},{key:"validatePasswordLengthOptions",value:function(e,t){var r=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),n&&(t.meetsMaxPasswordLength=e.length<=n)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var n=0;n<e.length;n++)r=e.charAt(n),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,r,n,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),wc=function(){function e(t,r,n,i){c(this,e),this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _c(this),this.idTokenSubscription=new _c(this),this.beforeStateQueue=new bc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zs,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return h(e,[{key:"_initializeWithPersistence",value:function(e,t){var r=this;return t&&(this._popupRedirectResolver=rc(t)),this._initializationPromise=this.queue(Ot(Pt().mark((function n(){var i,a;return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r._deleted){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,oc.create(r,e);case 4:if(r.persistenceManager=n.sent,!r._deleted){n.next=7;break}return n.abrupt("return");case 7:if(!(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){n.next=15;break}return n.prev=8,n.next=11,r._popupRedirectResolver._initialize(r);case 11:n.next=15;break;case 13:n.prev=13,n.t0=n.catch(8);case 15:return n.next=17,r.initializeCurrentUser(t);case 17:if(r.lastNotifiedUid=(null===(a=r.currentUser)||void 0===a?void 0:a.uid)||null,!r._deleted){n.next=20;break}return n.abrupt("return");case 20:r._isInitialized=!0;case 21:case"end":return n.stop()}}),n,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ot(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUserFromIdToken",value:function(){var e=Ot(Pt().mark((function e(t){var r,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ou(this,{idToken:t});case 3:return r=e.sent,e.next=6,ec._fromGetAccountInfoResponse(this,r,t);case 6:return n=e.sent,e.next=9,this.directlySetCurrentUser(n);case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(0),console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e.t0),e.next=16,this.directlySetCurrentUser(null);case 16:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ot(Pt().mark((function e(t){var r,n,i,a,o,s,u,c,l=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ys(this.app)){e.next=7;break}if(!(n=this.app.settings.authIdToken)){e.next=6;break}return e.abrupt("return",new Promise((function(e){setTimeout((function(){return l.initializeCurrentUserFromIdToken(n).then(e,e)}))})));case 6:return e.abrupt("return",this.directlySetCurrentUser(null));case 7:return e.next=9,this.assertedPersistence.getCurrentUser();case 9:if(i=e.sent,a=i,o=!1,!t||!this.config.authDomain){e.next=21;break}return e.next=15,this.getOrInitRedirectPersistenceManager();case 15:return s=null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId,u=null===a||void 0===a?void 0:a._redirectEventId,e.next=19,this.tryRedirectSignIn(t);case 19:c=e.sent,s&&s!==u||!(null===c||void 0===c?void 0:c.user)||(a=c.user,o=!0);case 21:if(a){e.next=23;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 23:if(a._redirectEventId){e.next=39;break}if(!o){e.next=34;break}return e.prev=25,e.next=28,this.beforeStateQueue.runMiddleware(a);case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(25),a=i,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 34:if(!a){e.next=38;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 38:return e.abrupt("return",this.directlySetCurrentUser(null));case 39:return ru(this._popupRedirectResolver,this,"argument-error"),e.next=42,this.getOrInitRedirectPersistenceManager();case 42:if(!this.redirectUser||this.redirectUser._redirectEventId!==a._redirectEventId){e.next=44;break}return e.abrupt("return",this.directlySetCurrentUser(a));case 44:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 45:case"end":return e.stop()}}),e,this,[[25,30]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:r=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hu(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ys(this.app)){e.next=2;break}return e.abrupt("return",Promise.reject($s(this)));case 2:return(r=t?Co(t):null)&&ru(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(r&&r._clone(this)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ot(Pt().mark((function e(t){var r,n=this,i=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ru(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ys(this.app)){e.next=2;break}return e.abrupt("return",Promise.reject($s(this)));case 2:return e.next=4,this.beforeStateQueue.runMiddleware(null);case 4:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=7;break}return e.next=7,this._setRedirectUser(null);case 7:return e.abrupt("return",this._updateCurrentUser(null,!0));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return ys(this.app)?Promise.reject($s(this)):this.queue(Ot(Pt().mark((function r(){return Pt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.assertedPersistence.setPersistence(rc(e));case 2:case"end":return r.stop()}}),r)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((r=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",r.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=Ot(Pt().mark((function e(){var t,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sc(this);case 2:t=e.sent,r=new xc(t),null===this.tenantId?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new yo("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,r){if(e.currentUser)t();else var n=e.onAuthStateChanged((function(){n(),t()}),r)}))}},{key:"revokeAccessToken",value:function(){var e=Ot(Pt().mark((function e(t){var r,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.currentUser){e.next=8;break}return e.next=3,this.currentUser.getIdToken();case 3:return r=e.sent,n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r},null!=this.tenantId&&(n.tenantId=this.tenantId),e.next=8,Ju(this,n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ot(Pt().mark((function e(t,r){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(r);case 2:return n=e.sent,e.abrupt("return",null===t?n.removeCurrentUser():n.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ru(r=t&&rc(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,oc.create(this,[rc(r._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ot(Pt().mark((function e(t){var r,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(r=this._currentUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ot(Pt().mark((function e(t){var r=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,r,n){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ru(s,this,"internal-error"),s.then((function(){o||a(i.currentUser)})),"function"===typeof t){var u=e.addObserver(t,r,n);return function(){o=!0,u()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ru(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yc(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ot(Pt().mark((function e(){var t,r,n,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=We({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(n=e.sent)&&(r["X-Firebase-Client"]=n),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(r["X-Firebase-AppCheck"]=i),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Ot(Pt().mark((function e(){var t,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(r=e.sent)||void 0===r?void 0:r.error)&&Xs("Error while retrieving App Check token: ".concat(r.error)),e.abrupt("return",null===r||void 0===r?void 0:r.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function kc(e){return Co(e)}var _c=function(){function e(t){var r=this;c(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var r=new To(e,t);return r.subscribe.bind(r)}((function(e){return r.observer=e}))}return h(e,[{key:"next",get:function(){return ru(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}(),Tc={loadJS:function(){return Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Unable to load external scripts");case 1:case"end":return e.stop()}}),e)})))()},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ac(e){return Tc.loadJS(e)}function Cc(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Pc=function(){function e(t){c(this,e),this.type="recaptcha-enterprise",this.auth=kc(t)}return h(e,[{key:"verify",value:function(){var e=Ot(Pt().mark((function e(){var t,r,n,i,a,o=this,s=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,r,n){var i=window.grecaptcha;_u(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){r(e)})).catch((function(){r("NO_RECAPTCHA")}))})):n(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Ot(Pt().mark((function e(r,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Au(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Tu(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,r(i.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){n(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},n=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",r=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){n(o.auth).then((function(n){if(!r&&_u(window.grecaptcha))a(n,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));var i=Tc.recaptchaEnterpriseScript;0!==i.length&&(i+=n),Ac(i).then((function(){a(n,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ic(e,t,r){return Oc.apply(this,arguments)}function Oc(){return Oc=Ot(Pt().mark((function e(t,r,n){var i,a,o,s,u=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new Pc(t),e.prev=2,e.next=5,a.verify(n);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(n,!0);case 12:o=e.sent;case 13:return s=Object.assign({},r),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Oc.apply(this,arguments)}function Rc(e,t,r,n){return Nc.apply(this,arguments)}function Nc(){return Nc=Ot(Pt().mark((function e(t,r,n,i){var a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(a=t._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))){e.next=7;break}return e.next=3,Ic(t,r,n,"getOobCode"===n);case 3:return o=e.sent,e.abrupt("return",i(t,o));case 7:return e.abrupt("return",i(t,r).catch(function(){var e=Ot(Pt().mark((function e(a){var o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),e.next=4,Ic(t,r,n,"getOobCode"===n);case 4:return o=e.sent,e.abrupt("return",i(t,o));case 8:return e.abrupt("return",Promise.reject(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:case"end":return e.stop()}}),e)}))),Nc.apply(this,arguments)}function Lc(e,t,r){var n=kc(e);ru(n._canInitEmulator,n,"emulator-config-failed"),ru(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");var i=!!(null===r||void 0===r?void 0:r.disableWarnings),a=jc(t),o=function(e){var t=jc(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};var n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){var a=i[1];return{host:a,port:Mc(n.substr(a.length+1))}}var o=k(n.split(":"),2);return{host:o[0],port:Mc(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);n.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function jc(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Mc(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Dc=function(){function e(t,r){c(this,e),this.providerId=t,this.signInMethod=r}return h(e,[{key:"toJSON",value:function(){return nu("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return nu("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return nu("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return nu("not implemented")}}]),e}();function Fc(e,t){return Uc.apply(this,arguments)}function Uc(){return Uc=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,"POST","/v1/accounts:signUp",r));case 1:case"end":return e.stop()}}),e)}))),Uc.apply(this,arguments)}function Bc(e,t){return Gc.apply(this,arguments)}function Gc(){return Gc=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bu(t,"POST","/v1/accounts:signInWithPassword",pu(t,r)));case 1:case"end":return e.stop()}}),e)}))),Gc.apply(this,arguments)}function Vc(e,t){return Hc.apply(this,arguments)}function Hc(){return Hc=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,"POST","/v1/accounts:sendOobCode",pu(t,r)));case 1:case"end":return e.stop()}}),e)}))),Hc.apply(this,arguments)}function Wc(e,t){return qc.apply(this,arguments)}function qc(){return qc=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,r));case 1:case"end":return e.stop()}}),e)}))),qc.apply(this,arguments)}function zc(e,t){return Yc.apply(this,arguments)}function Yc(){return Yc=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,r));case 1:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}function Xc(e,t){return Kc.apply(this,arguments)}function Kc(){return Kc=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,r));case 1:case"end":return e.stop()}}),e)}))),Kc.apply(this,arguments)}function Jc(e,t){return Zc.apply(this,arguments)}function Zc(){return Zc=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bu(t,"POST","/v1/accounts:signInWithEmailLink",pu(t,r)));case 1:case"end":return e.stop()}}),e)}))),Zc.apply(this,arguments)}function Qc(e,t){return $c.apply(this,arguments)}function $c(){return $c=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bu(t,"POST","/v1/accounts:signInWithEmailLink",pu(t,r)));case 1:case"end":return e.stop()}}),e)}))),$c.apply(this,arguments)}var el=function(e){v(r,e);var t=b(r);function r(e,n,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return c(this,r),(a=t.call(this,"password",i))._email=e,a._password=n,a._tenantId=o,a}return h(r,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",Rc(t,r,"signInWithPassword",Bc));case 5:return e.abrupt("return",Jc(t,{email:this._email,oobCode:this._password}));case 6:Js(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ot(Pt().mark((function e(t,r){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",Rc(t,n,"signUpPassword",Fc));case 5:return e.abrupt("return",Qc(t,{idToken:r,email:this._email,oobCode:this._password}));case 6:Js(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new r(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new r(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),r}(Dc);function tl(e,t){return rl.apply(this,arguments)}function rl(){return rl=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bu(t,"POST","/v1/accounts:signInWithIdp",pu(t,r)));case 1:case"end":return e.stop()}}),e)}))),rl.apply(this,arguments)}var nl=function(e){v(r,e);var t=b(r);function r(){var e;return c(this,r),(e=t.apply(this,arguments)).pendingToken=null,e}return h(r,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return tl(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var r=this.buildRequest();return r.idToken=t,tl(e,r)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,tl(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wo(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new r(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Js("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,n=t.providerId,i=t.signInMethod,a=Vs(t,["providerId","signInMethod"]);if(!n||!i)return null;var o=new r(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),r}(Dc);function il(e,t){return al.apply(this,arguments)}function al(){return al=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,"POST","/v1/accounts:sendVerificationCode",pu(t,r)));case 1:case"end":return e.stop()}}),e)}))),al.apply(this,arguments)}function ol(){return ol=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bu(t,"POST","/v1/accounts:signInWithPhoneNumber",pu(t,r)));case 1:case"end":return e.stop()}}),e)}))),ol.apply(this,arguments)}function sl(){return sl=Ot(Pt().mark((function e(t,r){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bu(t,"POST","/v1/accounts:signInWithPhoneNumber",pu(t,r));case 2:if(!(n=e.sent).temporaryProof){e.next=5;break}throw ku(t,"account-exists-with-different-credential",n);case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),sl.apply(this,arguments)}var ul=We({},"USER_NOT_FOUND","user-not-found");function cl(){return cl=Ot(Pt().mark((function e(t,r){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign(Object.assign({},r),{operation:"REAUTH"}),e.abrupt("return",bu(t,"POST","/v1/accounts:signInWithPhoneNumber",pu(t,n),ul));case 2:case"end":return e.stop()}}),e)}))),cl.apply(this,arguments)}var ll=function(e){v(r,e);var t=b(r);function r(e){var n;return c(this,r),(n=t.call(this,"phone","phone")).params=e,n}return h(r,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ol.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return sl.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return cl.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,r=e.phoneNumber,n=e.verificationId,i=e.verificationCode;return t&&r?{temporaryProof:t,phoneNumber:r}:{sessionInfo:n,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new r({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new r({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,n=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||n||a||o?new r({verificationId:n,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),r}(Dc);var dl=function(){function e(t){var r,n,i,a,o,s;c(this,e);var u=ko(_o(t)),l=null!==(r=u.apiKey)&&void 0!==r?r:null,d=null!==(n=u.oobCode)&&void 0!==n?n:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);ru(l&&d&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=d,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return h(e,null,[{key:"parseLink",value:function(t){var r=function(e){var t=ko(_o(e)).link,r=t?ko(_o(t)).deep_link_id:null,n=ko(_o(e)).deep_link_id;return(n?ko(_o(n)).link:null)||n||r||t||e}(t);try{return new e(r)}catch(n){return null}}}]),e}();var fl=function(){function e(){c(this,e),this.providerId=e.PROVIDER_ID}return h(e,null,[{key:"credential",value:function(e,t){return el._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var r=dl.parseLink(t);return ru(r,"argument-error"),el._fromEmailAndCode(e,r.code,r.tenantId)}}]),e}();fl.PROVIDER_ID="password",fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password",fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var hl=function(){function e(t){c(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return h(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),pl=function(e){v(r,e);var t=b(r);function r(){var e;return c(this,r),(e=t.apply(this,arguments)).scopes=[],e}return h(r,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return u(this.scopes)}}]),r}(hl),vl=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.call(this,"facebook.com")}return h(r,null,[{key:"credential",value:function(e){return nl._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return r.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return r.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return r.credential(t.oauthAccessToken)}catch(n){return null}}}]),r}(pl);vl.FACEBOOK_SIGN_IN_METHOD="facebook.com",vl.PROVIDER_ID="facebook.com";var gl=function(e){v(r,e);var t=b(r);function r(){var e;return c(this,r),(e=t.call(this,"google.com")).addScope("profile"),e}return h(r,null,[{key:"credential",value:function(e,t){return nl._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return r.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return r.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.oauthIdToken,i=t.oauthAccessToken;if(!n&&!i)return null;try{return r.credential(n,i)}catch(a){return null}}}]),r}(pl);gl.GOOGLE_SIGN_IN_METHOD="google.com",gl.PROVIDER_ID="google.com";var ml=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.call(this,"github.com")}return h(r,null,[{key:"credential",value:function(e){return nl._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return r.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return r.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return r.credential(t.oauthAccessToken)}catch(n){return null}}}]),r}(pl);ml.GITHUB_SIGN_IN_METHOD="github.com",ml.PROVIDER_ID="github.com";var yl=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.call(this,"twitter.com")}return h(r,null,[{key:"credential",value:function(e,t){return nl._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return r.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return r.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.oauthAccessToken,i=t.oauthTokenSecret;if(!n||!i)return null;try{return r.credential(n,i)}catch(a){return null}}}]),r}(pl);function bl(e,t){return Sl.apply(this,arguments)}function Sl(){return Sl=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bu(t,"POST","/v1/accounts:signUp",pu(t,r)));case 1:case"end":return e.stop()}}),e)}))),Sl.apply(this,arguments)}yl.TWITTER_SIGN_IN_METHOD="twitter.com",yl.PROVIDER_ID="twitter.com";var El=function(){function e(t){c(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return h(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ot(Pt().mark((function t(r,n,i){var a,o,s,u,c=arguments;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ec._fromIdTokenResponse(r,i,a);case 3:return o=t.sent,s=xl(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:n}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ot(Pt().mark((function t(r,n,i){var a;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r._updateTokensIfNecessary(i,!0);case 2:return a=xl(i),t.abrupt("return",new e({user:r,providerId:a,_tokenResponse:i,operationType:n}));case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()}]),e}();function xl(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var wl=function(e){v(r,e);var t=b(r);function r(e,n,i,a){var o,s;return c(this,r),(o=t.call(this,n.code,n.message)).operationType=i,o.user=a,Object.setPrototypeOf(y(o),r.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i},o}return h(r,null,[{key:"_fromErrorAndOperation",value:function(e,t,n,i){return new r(e,t,n,i)}}]),r}(mo);function kl(e,t,r,n){return("reauthenticate"===t?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch((function(r){if(r.code==="auth/".concat("multi-factor-auth-required"))throw wl._fromErrorAndOperation(e,r,t,n);throw r}))}function _l(e,t){return Tl.apply(this,arguments)}function Tl(){return Tl=Ot(Pt().mark((function e(t,r){var n,i,a=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]&&a[2],e.t0=Fu,e.t1=t,e.t2=r,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=n,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",El._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Tl.apply(this,arguments)}function Al(e,t){return Cl.apply(this,arguments)}function Cl(){return Cl=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>2&&void 0!==c[2]&&c[2],!ys((i=t.auth).app)){e.next=4;break}return e.abrupt("return",Promise.reject($s(i)));case 4:return a="reauthenticate",e.prev=5,e.next=8,Fu(t,kl(i,a,r,t),n);case 8:return ru((o=e.sent).idToken,i,"internal-error"),ru(s=Mu(o.idToken),i,"internal-error"),u=s.sub,ru(t.uid===u,i,"user-mismatch"),e.abrupt("return",El._forOperation(t,a,o));case 17:throw e.prev=17,e.t0=e.catch(5),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Js(i,"user-mismatch"),e.t0;case 21:case"end":return e.stop()}}),e,null,[[5,17]])}))),Cl.apply(this,arguments)}function Pl(e,t){return Il.apply(this,arguments)}function Il(){return Il=Ot(Pt().mark((function e(t,r){var n,i,a,o,s=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>2&&void 0!==s[2]&&s[2],!ys(t.app)){e.next=3;break}return e.abrupt("return",Promise.reject($s(t)));case 3:return i="signIn",e.next=6,kl(t,i,r);case 6:return a=e.sent,e.next=9,El._fromIdTokenResponse(t,i,a);case 9:if(o=e.sent,n){e.next=13;break}return e.next=13,t._updateCurrentUser(o.user);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)}))),Il.apply(this,arguments)}function Ol(e,t){return Rl.apply(this,arguments)}function Rl(){return Rl=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pl(kc(t),r));case 1:case"end":return e.stop()}}),e)}))),Rl.apply(this,arguments)}function Nl(e,t){return Ll.apply(this,arguments)}function Ll(){return(Ll=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Al(Co(t),r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jl(e,t,r){var n;ru((null===(n=r.url)||void 0===n?void 0:n.length)>0,e,"invalid-continue-uri"),ru("undefined"===typeof r.dynamicLinkDomain||r.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=r.url,t.dynamicLinkDomain=r.dynamicLinkDomain,t.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(ru(r.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=r.iOS.bundleId),r.android&&(ru(r.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=r.android.installApp,t.androidMinimumVersionCode=r.android.minimumVersion,t.androidPackageName=r.android.packageName)}function Ml(e){return Dl.apply(this,arguments)}function Dl(){return Dl=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=kc(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,r._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}function Fl(e,t,r){return Ul.apply(this,arguments)}function Ul(){return Ul=Ot(Pt().mark((function e(t,r,n){var i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kc(t),a={requestType:"PASSWORD_RESET",email:r,clientType:"CLIENT_TYPE_WEB"},n&&jl(i,a,n),e.next=5,Rc(i,a,"getOobCode",zc);case 5:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}function Bl(e,t,r){return Gl.apply(this,arguments)}function Gl(){return Gl=Ot(Pt().mark((function e(t,r,n){var i,a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ys(t.app)){e.next=2;break}return e.abrupt("return",Promise.reject($s(t)));case 2:return i=kc(t),a=Rc(i,{returnSecureToken:!0,email:r,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bl),e.next=7,a.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&Ml(t),e}));case 7:return o=e.sent,e.next=10,El._fromIdTokenResponse(i,"signIn",o);case 10:return s=e.sent,e.next=13,i._updateCurrentUser(s.user);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Gl.apply(this,arguments)}function Vl(e,t,r){return ys(e.app)?Promise.reject($s(e)):Ol(Co(e),fl.credential(t,r)).catch(function(){var t=Ot(Pt().mark((function t(r){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw r.code==="auth/".concat("password-does-not-meet-requirements")&&Ml(e),r;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}function Hl(e,t){return Wl.apply(this,arguments)}function Wl(){return(Wl=Ot(Pt().mark((function e(t,r){var n,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Co(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},r&&jl(n.auth,a,r),e.next=8,Wc(n.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ql(e,t,r){return zl.apply(this,arguments)}function zl(){return(zl=Ot(Pt().mark((function e(t,r,n){var i,a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Co(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:r},n&&jl(i.auth,o,n),e.next=8,Xc(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yl(e,t){return Xl.apply(this,arguments)}function Xl(){return Xl=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,"POST","/v1/accounts:update",r));case 1:case"end":return e.stop()}}),e)}))),Xl.apply(this,arguments)}function Kl(e,t){return Jl.apply(this,arguments)}function Jl(){return(Jl=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.displayName,i=r.photoURL,void 0!==n||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Co(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:n,photoUrl:i,returnSecureToken:!0},e.next=10,Fu(a,Yl(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zl=h((function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};c(this,e),this.isNewUser=t,this.providerId=r,this.profile=n})),Ql=function(e){v(r,e);var t=b(r);function r(e,n,i,a){var o;return c(this,r),(o=t.call(this,e,n,i)).username=a,o}return h(r)}(Zl),$l=function(e){v(r,e);var t=b(r);function r(e,n){return c(this,r),t.call(this,e,"facebook.com",n)}return h(r)}(Zl),ed=function(e){v(r,e);var t=b(r);function r(e,n){return c(this,r),t.call(this,e,"github.com",n,"string"===typeof(null===n||void 0===n?void 0:n.login)?null===n||void 0===n?void 0:n.login:null)}return h(r)}(Ql),td=function(e){v(r,e);var t=b(r);function r(e,n){return c(this,r),t.call(this,e,"google.com",n)}return h(r)}(Zl),rd=function(e){v(r,e);var t=b(r);function r(e,n,i){return c(this,r),t.call(this,e,"twitter.com",n,i)}return h(r)}(Ql);function nd(e){var t=e.user,r=e._tokenResponse;return t.isAnonymous&&!r?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,r;if(!e)return null;var n=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!n&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(r=null===(t=Mu(e.idToken))||void 0===t?void 0:t.firebase)||void 0===r?void 0:r.sign_in_provider;if(o)return new Zl(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!n)return null;switch(n){case"facebook.com":return new $l(a,i);case"github.com":return new ed(a,i);case"google.com":return new td(a,i);case"twitter.com":return new rd(a,i,e.screenName||null);case"custom":case"anonymous":return new Zl(a,null);default:return new Zl(a,n,i)}}(r)}function id(e){return Co(e).signOut()}function ad(e,t){return vu(e,"POST","/v2/accounts/mfaEnrollment:start",pu(e,t))}function od(e,t){return vu(e,"POST","/v2/accounts/mfaEnrollment:start",pu(e,t))}function sd(e,t){return vu(e,"POST","/v2/accounts/mfaEnrollment:finalize",pu(e,t))}new WeakMap;var ud="__sak",cd=function(){function e(t,r){c(this,e),this.storageRetriever=t,this.type=r}return h(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ud,"1"),this.storage.removeItem(ud),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ld=function(e){v(r,e);var t=b(r);function r(){var e;return c(this,r),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,r){return e.onStorageEvent(t,r)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=po();return cc(e)||vc(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=mc(),e._shouldAllowMigration=!0,e}return h(r,[{key:"forAllChangedKeys",value:function(e){for(var t=0,r=Object.keys(this.listeners);t<r.length;t++){var n=r[t],i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var n=e.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!r)return}var a=function(){var e=t.storage.getItem(n);(r||t.localCache[n]!==e)&&t.notifyListeners(n,e)},o=this.storage.getItem(n);gc()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,r,n){t.notifyListeners(e,n)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var r=this.listeners[e];if(r)for(var n=0,i=Array.from(r);n<i.length;n++){(0,i[n])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,r,n){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ot(Pt().mark((function e(t,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to(g(r.prototype),"_set",this).call(this,t,n);case 2:this.localCache[t]=JSON.stringify(n);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ot(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to(g(r.prototype),"_get",this).call(this,t);case 2:return n=e.sent,this.localCache[t]=JSON.stringify(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to(g(r.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(cd);ld.type="LOCAL";var dd=ld,fd=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return h(r,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),r}(cd);fd.type="SESSION";var hd=fd;function pd(e){return Promise.all(e.map(function(){var e=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return r=e.sent,e.abrupt("return",{fulfilled:!0,value:r});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var vd=function(){function e(t){c(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return h(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ot(Pt().mark((function e(t){var r,n,i,a,o,s,u,c;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(r=t).data,i=n.eventId,a=n.eventType,o=n.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return r.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(r.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,pd(u);case 9:c=e.sent,r.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var r=this.receivers.find((function(e){return e.isListeningto(t)}));if(r)return r;var n=new e(t);return this.receivers.push(n),n}}]),e}();function gd(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r="",n=0;n<t;n++)r+=Math.floor(10*Math.random());return e+r}vd.receivers=[];var md=function(){function e(t){c(this,e),this.target=t,this.handlers=new Set}return h(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s=this,u=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=gd("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),n);o={messageChannel:i,onMessage:function(t){var r=t;if(r.data.eventId===c)switch(r.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(r.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:r},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();function yd(){return window}function bd(e){yd().location.href=e}function Sd(){return"undefined"!==typeof yd().WorkerGlobalScope&&"function"===typeof yd().importScripts}function Ed(){return xd.apply(this,arguments)}function xd(){return(xd=Ot(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function wd(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var kd="firebaseLocalStorageDb",_d="firebaseLocalStorage",Td="fbase_key",Ad=function(){function e(t){c(this,e),this.request=t}return h(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,r){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){r(e.request.error)}))}))}}]),e}();function Cd(e,t){return e.transaction([_d],t?"readwrite":"readonly").objectStore(_d)}function Pd(){var e=indexedDB.deleteDatabase(kd);return new Ad(e).toPromise()}function Id(){var e=indexedDB.open(kd,1);return new Promise((function(t,r){e.addEventListener("error",(function(){r(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(_d,{keyPath:Td})}catch(n){r(n)}})),e.addEventListener("success",Ot(Pt().mark((function r(){var n;return Pt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((n=e.result).objectStoreNames.contains(_d)){r.next=12;break}return n.close(),r.next=5,Pd();case 5:return r.t0=t,r.next=8,Id();case 8:r.t1=r.sent,(0,r.t0)(r.t1),r.next=13;break;case 12:t(n);case 13:case"end":return r.stop()}}),r)}))))}))}function Od(e,t,r){return Rd.apply(this,arguments)}function Rd(){return Rd=Ot(Pt().mark((function e(t,r,n){var i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Cd(t,!0).put((We(i={},Td,r),We(i,"value",n),i)),e.abrupt("return",new Ad(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Rd.apply(this,arguments)}function Nd(e,t){return Ld.apply(this,arguments)}function Ld(){return Ld=Ot(Pt().mark((function e(t,r){var n,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cd(t,!1).get(r),e.next=3,new Ad(n).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ld.apply(this,arguments)}function jd(e,t){var r=Cd(e,!0).delete(t);return new Ad(r).toPromise()}var Md=function(){function e(){c(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return h(e,[{key:"_openDb",value:function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Id();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ot(Pt().mark((function e(t){var r,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return n=e.sent,e.next=8,t(n);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(r++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sd()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ot(Pt().mark((function e(){var t=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=vd._getInstance(Sd()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ot(Pt().mark((function e(r,n){var i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(n.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ot(Pt().mark((function e(){var t,r,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ed();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new md(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(n=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(r=n[0])||void 0===r?void 0:r.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&wd()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ot(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Id();case 5:return t=e.sent,e.next=8,Od(t,ud,"1");case 8:return e.next=10,jd(t,ud);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ot(Pt().mark((function e(t,r){var n=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Od(e,t,r)}));case 2:return n.localCache[t]=r,e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Nd(e,t)}));case 2:return r=e.sent,this.localCache[t]=r,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ot(Pt().mark((function e(t){var r=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return jd(e,t)}));case 2:return delete r.localCache[t],e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ot(Pt().mark((function e(){var t,r,n,i,a,o,s,u,c,l,d;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Cd(e,!1).getAll();return new Ad(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:if(r=[],n=new Set,0!==t.length){i=T(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),r.push(s))}catch(f){i.e(f)}finally{i.f()}}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)d=l[c],this.localCache[d]&&!n.has(d)&&(this.notifyListeners(d,null),r.push(d));return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var r=this.listeners[e];if(r)for(var n=0,i=Array.from(r);n<i.length;n++){(0,i[n])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ot(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Md.type="LOCAL";var Dd=Md;function Fd(e,t){return vu(e,"POST","/v2/accounts/mfaSignIn:start",pu(e,t))}function Ud(e,t){return vu(e,"POST","/v2/accounts/mfaSignIn:finalize",pu(e,t))}Cc("rcb"),new cu(3e4,6e4);var Bd="recaptcha";function Gd(e,t,r){return Vd.apply(this,arguments)}function Vd(){return Vd=Ot(Pt().mark((function e(t,r,n){var i,a,o,s,u,c,l,d,f;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.verify();case 2:if(a=e.sent,e.prev=3,ru("string"===typeof a,t,"argument-error"),ru(n.type===Bd,t,"argument-error"),!("session"in(o="string"===typeof r?{phoneNumber:r}:r))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return ru("enroll"===s.type,t,"internal-error"),e.next=13,ad(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return ru("signin"===s.type,t,"internal-error"),ru(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Fd(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,il(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return d=e.sent,f=d.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,n._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Vd.apply(this,arguments)}var Hd=function(){function e(t){c(this,e),this.providerId=e.PROVIDER_ID,this.auth=kc(t)}return h(e,[{key:"verifyPhoneNumber",value:function(e,t){return Gd(this.auth,e,Co(t))}}],[{key:"credential",value:function(e,t){return ll._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var r=t;return e.credentialFromTaggedObject(r)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.phoneNumber,n=t.temporaryProof;return r&&n?ll._fromTokenResponse(r,n):null}}]),e}();function Wd(e,t){return t?rc(t):(ru(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Hd.PROVIDER_ID="phone",Hd.PHONE_SIGN_IN_METHOD="phone";var qd=function(e){v(r,e);var t=b(r);function r(e){var n;return c(this,r),(n=t.call(this,"custom","custom")).params=e,n}return h(r,[{key:"_getIdTokenResponse",value:function(e){return tl(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return tl(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return tl(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),r}(Dc);function zd(e){return Pl(e.auth,new qd(e),e.bypassAuthState)}function Yd(e){var t=e.auth,r=e.user;return ru(r,t,"internal-error"),Al(r,new qd(e),e.bypassAuthState)}function Xd(e){return Kd.apply(this,arguments)}function Kd(){return Kd=Ot(Pt().mark((function e(t){var r,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,ru(n=t.user,r,"internal-error"),e.abrupt("return",_l(n,new qd(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Kd.apply(this,arguments)}var Jd=function(){function e(t,r,n,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];c(this,e),this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}return h(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ot(Pt().mark((function t(r,n){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:r,reject:n},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ot(Pt().mark((function e(t){var r,n,i,a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.urlResponse,n=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zd;case"linkViaPopup":case"linkViaRedirect":return Xd;case"reauthViaPopup":case"reauthViaRedirect":return Yd;default:Js(this.auth,"internal-error")}}},{key:"resolve",value:function(e){iu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){iu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Zd=new cu(2e3,1e4);function Qd(e,t,r){return $d.apply(this,arguments)}function $d(){return $d=Ot(Pt().mark((function e(t,r,n){var i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ys(t.app)){e.next=2;break}return e.abrupt("return",Promise.reject(Zs(t,"operation-not-supported-in-this-environment")));case 2:return i=kc(t),eu(t,r,hl),a=Wd(i,n),o=new rf(i,"signInViaPopup",r,a),e.abrupt("return",o.executeNotNull());case 7:case"end":return e.stop()}}),e)}))),$d.apply(this,arguments)}function ef(e,t,r){return tf.apply(this,arguments)}function tf(){return(tf=Ot(Pt().mark((function e(t,r,n){var i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ys((i=Co(t)).auth.app)){e.next=3;break}return e.abrupt("return",Promise.reject(Zs(i.auth,"operation-not-supported-in-this-environment")));case 3:return eu(i.auth,r,hl),a=Wd(i.auth,n),o=new rf(i.auth,"reauthViaPopup",r,a,i),e.abrupt("return",o.executeNotNull());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rf=function(e){v(r,e);var t=b(r);function r(e,n,i,a,o){var s;return c(this,r),(s=t.call(this,e,n,a,o)).provider=i,s.authWindow=null,s.pollId=null,r.currentPopupAction&&r.currentPopupAction.cancel(),r.currentPopupAction=y(s),s}return h(r,[{key:"executeNotNull",value:function(){var e=Ot(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ru(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ot(Pt().mark((function e(){var t,r=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iu(1===this.filter.length,"Popup operations only handle one event"),t=gd(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){r.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||r.reject(Zs(r.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Zs(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,r.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var r,n;(null===(n=null===(r=e.authWindow)||void 0===r?void 0:r.window)||void 0===n?void 0:n.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Zs(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Zd.get())}()}}]),r}(Jd);rf.currentPopupAction=null;var nf="pendingRedirect",af=new Map,of=function(e){v(r,e);var t=b(r);function r(e,n){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c(this,r),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a)).eventId=null,i}return h(r,[{key:"execute",value:function(){var e=Ot(Pt().mark((function e(){var t,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=af.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,sf(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,to(g(r.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:n=e.t0,t=function(){return Promise.resolve(n)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:af.set(this.auth._key(),t);case 21:return this.bypassAuthState||af.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ot(Pt().mark((function e(t){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",to(g(r.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(n=e.sent)){e.next=16;break}return this.user=n,e.abrupt("return",to(g(r.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),r}(Jd);function sf(e,t){return uf.apply(this,arguments)}function uf(){return uf=Ot(Pt().mark((function e(t,r){var n,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=df(r),i=lf(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(n);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(n);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),uf.apply(this,arguments)}function cf(e,t){af.set(e._key(),t)}function lf(e){return rc(e._redirectPersistence)}function df(e){return ac(nf,e.config.apiKey,e.name)}function ff(e,t){return hf.apply(this,arguments)}function hf(){return hf=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>2&&void 0!==u[2]&&u[2],!ys(t.app)){e.next=3;break}return e.abrupt("return",Promise.reject($s(t)));case 3:return i=kc(t),a=Wd(i,r),o=new of(i,a,n),e.next=8,o.execute();case 8:if(!(s=e.sent)||n){e.next=15;break}return delete s.user._redirectEventId,e.next=13,i._persistUserIfCurrent(s.user);case 13:return e.next=15,i._setRedirectUser(null,r);case 15:return e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)}))),hf.apply(this,arguments)}var pf=function(){function e(t){c(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return h(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var r=!1;return this.consumers.forEach((function(n){t.isEventForConsumer(e,n)&&(r=!0,t.sendToConsumer(e,n),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}},{key:"sendToConsumer",value:function(e,t){var r;if(e.error&&!gf(e)){var n=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Zs(this.auth,n))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vf(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(vf(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function vf(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function gf(e){var t=e.type,r=e.error;return"unknown"===t&&(null===r||void 0===r?void 0:r.code)==="auth/".concat("no-auth-event")}function mf(e){return yf.apply(this,arguments)}function yf(){return yf=Ot(Pt().mark((function e(t){var r,n=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",vu(t,"GET","/v1/projects",r));case 2:case"end":return e.stop()}}),e)}))),yf.apply(this,arguments)}var bf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sf=/^https?/;function Ef(){return Ef=Ot(Pt().mark((function e(t){var r,n,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,mf(t);case 4:r=e.sent,n=r.authorizedDomains,i=T(n),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!xf(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Js(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Ef.apply(this,arguments)}function xf(e){var t=au(),r=new URL(t),n=r.protocol,i=r.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===i}if(!Sf.test(n))return!1;if(bf.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var wf=new cu(3e4,6e4);function kf(){var e=yd().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,r=Object.keys(e.H);t<r.length;t++){var n=r[t];if(e.H[n].r=e.H[n].r||[],e.H[n].L=e.H[n].L||[],e.H[n].r=u(e.H[n].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}function _f(e){return new Promise((function(t,r){var n,i,a;function o(){kf(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){kf(),r(Zs(e,"network-request-failed"))},timeout:wf.get()})}if(null===(i=null===(n=yd().gapi)||void 0===n?void 0:n.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=yd().gapi)||void 0===a?void 0:a.load)){var s=Cc("iframefcb");return yd()[s]=function(){gapi.load?o():r(Zs(e,"network-request-failed"))},Ac("".concat(Tc.gapiScript,"?onload=").concat(s)).catch((function(e){return r(e)}))}o()}})).catch((function(e){throw Tf=null,e}))}var Tf=null;function Af(e){return Tf=Tf||_f(e)}var Cf=new cu(5e3,15e3),Pf="__/auth/iframe",If="emulator/auth/iframe",Of={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nf(e){var t=e.config;ru(t.authDomain,e,"auth-domain-config-required");var r=t.emulator?lu(t,If):"https://".concat(e.config.authDomain,"/").concat(Pf),n={apiKey:t.apiKey,appName:e.name,v:xs},i=Rf.get(e.config.apiHost);i&&(n.eid=i);var a=e._getFrameworks();return a.length&&(n.fw=a.join(",")),"".concat(r,"?").concat(wo(n).slice(1))}function Lf(e){return jf.apply(this,arguments)}function jf(){return jf=Ot(Pt().mark((function e(t){var r,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Af(t);case 2:return r=e.sent,ru(n=yd().gapi,t,"internal-error"),e.abrupt("return",r.open({where:document.body,url:Nf(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Of,dontclear:!0},(function(e){return new Promise(function(){var r=Ot(Pt().mark((function r(n,i){var a,o,s;return Pt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=function(){yd().clearTimeout(o),n(e)},r.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Zs(t,"network-request-failed"),o=yd().setTimeout((function(){i(a)}),Cf.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),jf.apply(this,arguments)}var Mf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Df=function(){function e(t){c(this,e),this.window=t,this.associatedEvent=null}return h(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ff(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString(),s="",u=Object.assign(Object.assign({},Mf),{width:n.toString(),height:i.toString(),top:a,left:o}),c=po().toLowerCase();r&&(s=lc(c)?"_blank":r),uc(c)&&(t=t||"http://localhost",u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var r=k(t,2),n=r[0],i=r[1];return"".concat(e).concat(n,"=").concat(i,",")}),"");if(function(){var e;return vc(arguments.length>0&&void 0!==arguments[0]?arguments[0]:po())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var r=document.createElement("a");r.href=e,r.target=t;var n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}(t||"",s),new Df(null);var d=window.open(t||"",s,l);ru(d,e,"popup-blocked");try{d.focus()}catch(f){}return new Df(d)}var Uf="__/auth/handler",Bf="emulator/auth/handler",Gf=encodeURIComponent("fac");function Vf(e,t,r,n,i,a){return Hf.apply(this,arguments)}function Hf(){return Hf=Ot(Pt().mark((function e(t,r,n,i,a,o){var s,u,c,l,d,f,h,p,v,g,m,y,b;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ru(t.config.authDomain,t,"auth-domain-config-required"),ru(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:xs,eventId:a},r instanceof hl)for(r.setDefaultLanguage(t.languageCode),s.providerId=r.providerId||"",So(r.getCustomParameters())||(s.customParameters=JSON.stringify(r.getCustomParameters())),u=0,c=Object.entries(o||{});u<c.length;u++)l=k(c[u],2),d=l[0],f=l[1],s[d]=f;for(r instanceof pl&&(h=r.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=h.join(",")),t.tenantId&&(s.tid=t.tenantId),p=s,v=0,g=Object.keys(p);v<g.length;v++)m=g[v],void 0===p[m]&&delete p[m];return e.next=10,t._getAppCheckToken();case 10:return y=e.sent,b=y?"#".concat(Gf,"=").concat(encodeURIComponent(y)):"",e.abrupt("return","".concat(Wf(t),"?").concat(wo(p).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),Hf.apply(this,arguments)}function Wf(e){var t=e.config;return t.emulator?lu(t,Bf):"https://".concat(t.authDomain,"/").concat(Uf)}var qf="webStorageSupport",zf=function(){function e(){c(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hd,this._completeRedirectFn=ff,this._overrideRedirectResult=cf}return h(e,[{key:"_openPopup",value:function(){var e=Ot(Pt().mark((function e(t,r,n,i){var a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iu(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Vf(t,r,n,au(),i);case 3:return o=e.sent,e.abrupt("return",Ff(t,o,gd()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ot(Pt().mark((function e(t,r,n,i){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Vf(t,r,n,au(),i);case 4:return bd(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,r=e._key();if(this.eventManagers[r]){var n=this.eventManagers[r],i=n.manager,a=n.promise;return i?Promise.resolve(i):(iu(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[r]={promise:o},o.catch((function(){delete t.eventManagers[r]})),o}},{key:"initAndGetManager",value:function(){var e=Ot(Pt().mark((function e(t){var r,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lf(t);case 2:return r=e.sent,n=new pf(t),r.register("authEvent",(function(e){return ru(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(qf,{type:qf},(function(r){var n,i=null===(n=null===r||void 0===r?void 0:r[0])||void 0===n?void 0:n[qf];void 0!==i&&t(!!i),Js(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ef.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return mc()||cc()||vc()}}]),e}(),Yf=zf,Xf=function(){function e(t){c(this,e),this.factorId=t}return h(e,[{key:"_process",value:function(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return nu("unexpected MultiFactorSessionType")}}}]),e}(),Kf=function(e){v(r,e);var t=b(r);function r(e){var n;return c(this,r),(n=t.call(this,"phone")).credential=e,n}return h(r,[{key:"_finalizeEnroll",value:function(e,t,r){return function(e,t){return vu(e,"POST","/v2/accounts/mfaEnrollment:finalize",pu(e,t))}(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return vu(e,"POST","/v2/accounts/mfaSignIn:finalize",pu(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new r(e)}}]),r}(Xf);(function(){function e(){c(this,e)}return h(e,null,[{key:"assertion",value:function(e){return Kf._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Jf=function(){function e(){c(this,e)}return h(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Zf._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Zf._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Ot(Pt().mark((function e(t){var r,n,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ru("undefined"!==typeof(null===(r=(n=t).user)||void 0===r?void 0:r.auth),"internal-error"),e.next=4,od(n.user.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",Qf._fromStartTotpMfaEnrollmentResponse(i,n.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Jf.FACTOR_ID="totp";var Zf=function(e){v(r,e);var t=b(r);function r(e,n,i){var a;return c(this,r),(a=t.call(this,"totp")).otp=e,a.enrollmentId=n,a.secret=i,a}return h(r,[{key:"_finalizeEnroll",value:function(){var e=Ot(Pt().mark((function e(t,r,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ru("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",sd(t,{idToken:r,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Ot(Pt().mark((function e(t,r){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ru(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),n={verificationCode:this.otp},e.abrupt("return",Ud(t,{mfaPendingCredential:r,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new r(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new r(t,e)}}]),r}(Xf),Qf=function(){function e(t,r,n,i,a,o,s){c(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=r,this.codeLength=n,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return h(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var r,n=!1;return($f(e)||$f(t))&&(n=!0),n&&($f(e)&&(e=(null===(r=this.auth.currentUser)||void 0===r?void 0:r.email)||"unknownuser"),$f(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,r){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,r)}}]),e}();function $f(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var eh="@firebase/auth",th="1.7.4",rh=function(){function e(t){c(this,e),this.auth=t,this.internalListeners=new Map}return h(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return r=e.sent,e.abrupt("return",{accessToken:r});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ru(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var nh,ih=fo("authIdTokenMaxAge")||300,ah=null;!function(e){Tc=e}({loadJS:function(e){return new Promise((function(t,r){var n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=function(e){var t=Zs("internal-error");t.customData=e,r(t)},n.type="text/javascript",n.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(n)}))},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),nh="Browser",gs(new Po("auth",(function(e,t){var r=t.options,n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=n.options,s=o.apiKey,u=o.authDomain;ru(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});var c={apiKey:s,authDomain:u,clientPlatform:nh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yc(nh)},l=new wc(n,i,a,c);return function(e,t){var r=(null===t||void 0===t?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(rc);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,r),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,r){e.getProvider("auth-internal").initialize()}))),gs(new Po("auth-internal",(function(e){return function(e){return new rh(e)}(kc(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),_s(eh,th,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(nh)),_s(eh,th,"esm2017");_s("firebase","10.12.2","app");var oh,sh,uh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ch={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(e,t,r){r||(r=0);var n=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)n[i]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(i=0;16>i;++i)n[i]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=e.g[0],r=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^r&(i^a))+n[0]+3614090360&4294967295;o=(r=(i=(a=(t=(r=(i=(a=(t=(r=(i=(a=(t=(r=(i=(a=(t=(r=(i=(a=(t=(r=(i=(a=(t=(r=(i=(a=(t=(r=(i=(a=(t=(r=(i=(a=(t=(r=(i=(a=(t=(r=(i=(a=(t=(r=(i=(a=(t=(r=(i=(a=(t=(r=(i=(a=(t=(r=(i=(a=(t=r+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(r^i))+n[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(r^a&(t^r))+n[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=r+(t^i&(a^t))+n[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^r&(i^a))+n[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(r^i))+n[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(r^a&(t^r))+n[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=r+(t^i&(a^t))+n[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^r&(i^a))+n[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(r^i))+n[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(r^a&(t^r))+n[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=r+(t^i&(a^t))+n[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^r&(i^a))+n[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(r^i))+n[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(r^a&(t^r))+n[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=r+(t^i&(a^t))+n[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(r^i))+n[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(r^i&(t^r))+n[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^r&(a^t))+n[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=r+(a^t&(i^a))+n[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(r^i))+n[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(r^i&(t^r))+n[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^r&(a^t))+n[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=r+(a^t&(i^a))+n[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(r^i))+n[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(r^i&(t^r))+n[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^r&(a^t))+n[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=r+(a^t&(i^a))+n[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(r^i))+n[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(r^i&(t^r))+n[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^r&(a^t))+n[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=r+(a^t&(i^a))+n[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^i^a)+n[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^r^i)+n[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^r)+n[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=r+(i^a^t)+n[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^i^a)+n[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^r^i)+n[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^r)+n[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=r+(i^a^t)+n[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^i^a)+n[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^r^i)+n[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^r)+n[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=r+(i^a^t)+n[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^i^a)+n[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^r^i)+n[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^r)+n[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=r+(i^a^t)+n[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(r|~a))+n[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(r^(t|~i))+n[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~r))+n[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=r+(a^(i|~t))+n[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(r|~a))+n[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(r^(t|~i))+n[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~r))+n[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=r+(a^(i|~t))+n[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(r|~a))+n[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(r^(t|~i))+n[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~r))+n[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=r+(a^(i|~t))+n[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=r+((o=t+(i^(r|~a))+n[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(r^(t|~i))+n[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~r))+n[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+n[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function n(e,t){this.h=t;for(var r=[],n=!0,i=e.length-1;0<=i;i--){var a=0|e[i];n&&a==t||(r[i]=a,n=!1)}this.g=r}!function(e,t){function r(){}r.prototype=t.prototype,e.D=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.C=function(e,r,n){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[r].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,i=this.B,a=this.h,o=0;o<t;){if(0==a)for(;o<=n;)r(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[a++]=e.charCodeAt(o++),a==this.blockSize){r(this,i),a=0;break}}else for(;o<t;)if(i[a++]=e[o++],a==this.blockSize){r(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var r=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&r,r/=256;for(this.u(e),e=Array(16),t=r=0;4>t;++t)for(var n=0;32>n;n+=8)e[r++]=this.g[t]>>>n&255;return e};var i={};function a(e){return-128<=e&&128>e?function(e,t){var r=i;return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}(e,(function(e){return new n([0|e],0>e?-1:0)})):new n([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return f(o(-e));for(var t=[],r=1,i=0;e>=r;i++)t[i]=e/r|0,r*=4294967296;return new n(t,0)}var s=a(0),u=a(1),c=a(16777216);function l(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function f(e){for(var t=e.g.length,r=[],i=0;i<t;i++)r[i]=~e.g[i];return new n(r,~e.h).add(u)}function h(e,t){return e.add(f(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function v(e,t){this.g=e,this.h=t}function g(e,t){if(l(t))throw Error("division by zero");if(l(e))return new v(s,s);if(d(e))return t=g(f(e),t),new v(f(t.g),f(t.h));if(d(t))return t=g(e,f(t)),new v(f(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var r=u,n=t;0>=n.l(e);)r=m(r),n=m(n);var i=y(r,1),a=y(n,1);for(n=y(n,2),r=y(r,2);!l(n);){var c=a.add(n);0>=c.l(e)&&(i=i.add(r),a=c),n=y(n,1),r=y(r,1)}return t=h(e,i.j(t)),new v(i,t)}for(i=s;0<=e.l(t);){for(r=Math.max(1,Math.floor(e.m()/t.m())),n=48>=(n=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,n-48),c=(a=o(r)).j(t);d(c)||0<c.l(e);)c=(a=o(r-=n)).j(t);l(a)&&(a=u),i=i.add(a),e=h(e,c)}return new v(i,e)}function m(e){for(var t=e.g.length+1,r=[],i=0;i<t;i++)r[i]=e.i(i)<<1|e.i(i-1)>>>31;return new n(r,e.h)}function y(e,t){var r=t>>5;t%=32;for(var i=e.g.length-r,a=[],o=0;o<i;o++)a[o]=0<t?e.i(o+r)>>>t|e.i(o+r+1)<<32-t:e.i(o+r);return new n(a,e.h)}(e=n.prototype).m=function(){if(d(this))return-f(this).m();for(var e=0,t=1,r=0;r<this.g.length;r++){var n=this.i(r);e+=(0<=n?n:4294967296+n)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(l(this))return"0";if(d(this))return"-"+f(this).toString(e);for(var t=o(Math.pow(e,6)),r=this,n="";;){var i=g(r,t).g,a=((0<(r=h(r,i.j(t))).g.length?r.g[0]:r.h)>>>0).toString(e);if(l(r=i))return a+n;for(;6>a.length;)a="0"+a;n=a+n}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=h(this,e))?-1:l(e)?0:1},e.abs=function(){return d(this)?f(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0,a=0;a<=t;a++){var o=i+(65535&this.i(a))+(65535&e.i(a)),s=(o>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=s>>>16,o&=65535,s&=65535,r[a]=s<<16|o}return new n(r,-2147483648&r[r.length-1]?-1:0)},e.j=function(e){if(l(this)||l(e))return s;if(d(this))return d(e)?f(this).j(f(e)):f(f(this).j(e));if(d(e))return f(this.j(f(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,r=[],i=0;i<2*t;i++)r[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var u=this.i(i)>>>16,h=65535&this.i(i),v=e.i(a)>>>16,g=65535&e.i(a);r[2*i+2*a]+=h*g,p(r,2*i+2*a),r[2*i+2*a+1]+=u*g,p(r,2*i+2*a+1),r[2*i+2*a+1]+=h*v,p(r,2*i+2*a+1),r[2*i+2*a+2]+=u*v,p(r,2*i+2*a+2)}for(i=0;i<t;i++)r[i]=r[2*i+1]<<16|r[2*i];for(i=t;i<2*t;i++)r[i]=0;return new n(r,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0;i<t;i++)r[i]=this.i(i)&e.i(i);return new n(r,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0;i<t;i++)r[i]=this.i(i)|e.i(i);return new n(r,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0;i<t;i++)r[i]=this.i(i)^e.i(i);return new n(r,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,sh=ch.Md5=t,n.prototype.add=n.prototype.add,n.prototype.multiply=n.prototype.j,n.prototype.modulo=n.prototype.A,n.prototype.compare=n.prototype.l,n.prototype.toNumber=n.prototype.m,n.prototype.toString=n.prototype.toString,n.prototype.getBits=n.prototype.i,n.fromNumber=o,n.fromString=function e(t,r){if(0==t.length)throw Error("number format error: empty string");if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if("-"==t.charAt(0))return f(e(t.substring(1),r));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=o(Math.pow(r,8)),i=s,a=0;a<t.length;a+=8){var u=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+u),r);8>u?(u=o(Math.pow(r,u)),i=i.j(u).add(o(c))):i=(i=i.j(n)).add(o(c))}return i},oh=ch.Integer=n}).apply("undefined"!==typeof uh?uh:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var lh,dh,fh,hh,ph,vh,gh,mh,yh,bh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Sh={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){return e==Array.prototype||e==Object.prototype||(e[t]=r.value),e};var r=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof bh&&bh];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);!function(e,n){if(n)e:{var i=r;e=e.split(".");for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break e;i=i[o]}(n=n(a=i[e=e[e.length-1]]))!=a&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var r=0,n=!1,i={next:function(){if(!n&&r<e.length){var i=r++;return{value:t(i,e[i]),done:!1}}return n=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var n=n||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,r){return e.call.apply(e.bind,arguments)}function u(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function l(e,t,r){return(l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:u).apply(null,arguments)}function d(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function f(e,t){function r(){}r.prototype=t.prototype,e.aa=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.Qb=function(e,r,n){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[r].apply(e,i)}}function p(e){var t=e.length;if(0<t){for(var r=Array(t),n=0;n<t;n++)r[n]=e[n];return r}return[]}function m(e,t){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(a(n)){var i=e.length||0,o=n.length||0;e.length=i+o;for(var s=0;s<o;s++)e[i+s]=n[s]}else e.push(n)}}var y=function(){function e(t,r){c(this,e),this.i=t,this.j=r,this.h=0,this.g=null}return h(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function S(e){return/^[\s\xa0]*$/.test(e)}function E(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function x(e){return x[" "](e),e}x[" "]=function(){};var w=-1!=E().indexOf("Gecko")&&!(-1!=E().toLowerCase().indexOf("webkit")&&-1==E().indexOf("Edge"))&&!(-1!=E().indexOf("Trident")||-1!=E().indexOf("MSIE"))&&-1==E().indexOf("Edge");function _(e,t,r){for(var n in e)t.call(r,e[n],n,e)}function A(e){var t={};for(var r in e)t[r]=e[r];return t}var C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(e,t){for(var r,n,i=1;i<arguments.length;i++){for(r in n=arguments[i])e[r]=n[r];for(var a=0;a<C.length;a++)r=C[a],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}function I(e){var t=1;e=e.split(":");for(var r=[];0<t&&e.length;)r.push(e.shift()),t--;return e.length&&r.push(e.join(":")),r}function O(e){i.setTimeout((function(){throw e}),0)}function R(){var e=F,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var N,L=function(){function e(){c(this,e),this.h=this.g=null}return h(e,[{key:"add",value:function(e,t){var r=j.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}]),e}(),j=new y((function(){return new M}),(function(e){return e.reset()})),M=function(){function e(){c(this,e),this.next=this.g=this.h=null}return h(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}(),D=!1,F=new L,U=function(){var e=i.Promise.resolve(void 0);N=function(){e.then(B)}},B=function(){for(var e;e=R();){try{e.h.call(e.g)}catch(r){O(r)}var t=j;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}D=!1};function G(){this.s=this.s,this.C=this.C}function V(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},V.prototype.h=function(){this.defaultPrevented=!0};var H=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{var r=function(){};i.addEventListener("test",r,t),i.removeEventListener("test",r,t)}catch(r){}return e}();function W(e,t){if(V.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var r=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(w){e:{try{x(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==r?t=e.fromElement:"mouseout"==r&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:q[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&W.aa.h.call(this)}}f(W,V);var q={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),Y=0;function X(e,t,r,n,i){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!n,this.ha=i,this.key=++Y,this.da=this.fa=!1}function K(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function J(e){this.src=e,this.g={},this.h=0}function Z(e,t){var r=t.type;if(r in e.g){var n,i=e.g[r],a=Array.prototype.indexOf.call(i,t,void 0);(n=0<=a)&&Array.prototype.splice.call(i,a,1),n&&(K(t),0==e.g[r].length&&(delete e.g[r],e.h--))}}function Q(e,t,r,n){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!r&&a.ha==n)return i}return-1}J.prototype.add=function(e,t,r,n,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Q(e,t,n,i);return-1<o?(t=e[o],r||(t.fa=!1)):((t=new X(t,this.src,a,!!n,i)).fa=r,e.push(t)),t};var $="closure_lm_"+(1e6*Math.random()|0),ee={};function te(e,t,r,n,i){if(n&&n.once)return ne(e,t,r,n,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)te(e,t[a],r,n,i);return null}return r=le(r),e&&e[z]?e.K(t,r,o(n)?!!n.capture:!!n,i):re(e,t,r,!1,n,i)}function re(e,t,r,n,i,a){if(!t)throw Error("Invalid event type");var s=o(i)?!!i.capture:!!i,u=ue(e);if(u||(e[$]=u=new J(e)),(r=u.add(t,r,n,s,a)).proxy)return r;if(n=function(){function e(r){return t.call(e.src,e.listener,r)}var t=se;return e}(),r.proxy=n,n.src=e,n.listener=r,e.addEventListener)H||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),n,i);else if(e.attachEvent)e.attachEvent(oe(t.toString()),n);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(n)}return r}function ne(e,t,r,n,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ne(e,t[a],r,n,i);return null}return r=le(r),e&&e[z]?e.L(t,r,o(n)?!!n.capture:!!n,i):re(e,t,r,!0,n,i)}function ie(e,t,r,n,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ie(e,t[a],r,n,i);else n=o(n)?!!n.capture:!!n,r=le(r),e&&e[z]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(r=Q(a=e.g[t],r,n,i))&&(K(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ue(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Q(t,r,n,i)),(r=-1<e?t[e]:null)&&ae(r))}function ae(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[z])Z(t.i,e);else{var r=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(r,n,e.capture):t.detachEvent?t.detachEvent(oe(r),n):t.addListener&&t.removeListener&&t.removeListener(n),(r=ue(t))?(Z(r,e),0==r.h&&(r.src=null,t[$]=null)):K(e)}}}function oe(e){return e in ee?ee[e]:ee[e]="on"+e}function se(e,t){if(e.da)e=!0;else{t=new W(t,this);var r=e.listener,n=e.ha||e.src;e.fa&&ae(e),e=r.call(n,t)}return e}function ue(e){return(e=e[$])instanceof J?e:null}var ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function le(e){return"function"===typeof e?e:(e[ce]||(e[ce]=function(t){return e.handleEvent(t)}),e[ce])}function de(){G.call(this),this.i=new J(this),this.M=this,this.F=null}function fe(e,t){var r,n=e.F;if(n)for(r=[];n;n=n.F)r.push(n);if(e=e.M,n=t.type||t,"string"===typeof t)t=new V(t,e);else if(t instanceof V)t.target=t.target||e;else{var i=t;P(t=new V(n,e),i)}if(i=!0,r)for(var a=r.length-1;0<=a;a--){var o=t.g=r[a];i=he(o,n,!0,t)&&i}if(i=he(o=t.g=e,n,!0,t)&&i,i=he(o,n,!1,t)&&i,r)for(a=0;a<r.length;a++)i=he(o=t.g=r[a],n,!1,t)&&i}function he(e,t,r,n){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.da&&o.capture==r){var s=o.listener,u=o.ha||o.src;o.fa&&Z(e.i,o),i=!1!==s.call(u,n)&&i}}return i&&!n.defaultPrevented}function pe(e,t,r){if("function"===typeof e)r&&(e=l(e,r));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ve(e){e.g=pe((function(){e.g=null,e.i&&(e.i=!1,ve(e))}),e.l);var t=e.h;e.h=null,e.m.apply(null,t)}f(de,G),de.prototype[z]=!0,de.prototype.removeEventListener=function(e,t,r,n){ie(this,e,t,r,n)},de.prototype.N=function(){if(de.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var r=t.g[e],n=0;n<r.length;n++)K(r[n]);delete t.g[e],t.h--}}this.F=null},de.prototype.K=function(e,t,r,n){return this.i.add(String(e),t,!1,r,n)},de.prototype.L=function(e,t,r,n){return this.i.add(String(e),t,!0,r,n)};var ge=function(e){v(r,e);var t=b(r);function r(e,n){var i;return c(this,r),(i=t.call(this)).m=e,i.l=n,i.h=null,i.i=!1,i.g=null,i}return h(r,[{key:"j",value:function(e){this.h=arguments,this.g?this.i=!0:ve(this)}},{key:"N",value:function(){to(g(r.prototype),"N",this).call(this),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),r}(G);function me(e){G.call(this),this.h=e,this.g={}}f(me,G);var ye=[];function be(e){_(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ae(e)}),e),e.g={}}me.prototype.N=function(){me.aa.N.call(this),be(this)},me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Se=i.JSON.stringify,Ee=i.JSON.parse,xe=function(){function e(){c(this,e)}return h(e,[{key:"stringify",value:function(e){return i.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return i.JSON.parse(e,void 0)}}]),e}();function we(){}function ke(e){return e.h||(e.h=e.i())}function _e(){}we.prototype.h=null;var Te={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ae(){V.call(this,"d")}function Ce(){V.call(this,"c")}f(Ae,V),f(Ce,V);var Pe={},Ie=null;function Oe(){return Ie=Ie||new de}function Re(e){V.call(this,Pe.La,e)}function Ne(e){var t=Oe();fe(t,new Re(t))}function Le(e,t){V.call(this,Pe.STAT_EVENT,e),this.stat=t}function je(e){var t=Oe();fe(t,new Le(t,e))}function Me(e,t){V.call(this,Pe.Ma,e),this.size=t}function De(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Fe(){this.g=!0}function Ue(e,t,r,n){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var r=JSON.parse(t);if(r)for(e=0;e<r.length;e++)if(Array.isArray(r[e])){var n=r[e];if(!(2>n.length)){var i=n[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Se(r)}catch(et){return t}}(e,r)+(n?" "+n:"")}))}Pe.La="serverreachability",f(Re,V),Pe.STAT_EVENT="statevent",f(Le,V),Pe.Ma="timingevent",f(Me,V),Fe.prototype.xa=function(){this.g=!1},Fe.prototype.info=function(){};var Be,Ge={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ve={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function He(){}function We(e,t,r,n){this.j=e,this.i=t,this.l=r,this.R=n||1,this.U=new me(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}f(He,we),He.prototype.g=function(){return new XMLHttpRequest},He.prototype.i=function(){return{}},Be=new He;var ze={},Ye={};function Xe(e,t,r){e.L=1,e.v=kt(bt(t)),e.m=r,e.P=!0,Ke(e,null)}function Ke(e,t){e.F=Date.now(),$e(e),e.A=bt(e.v);var r=e.A,n=e.R;Array.isArray(n)||(n=[String(n)]),Dt(r.i,"t",n),e.C=0,r=e.j.J,e.h=new qe,e.g=kr(e.j,r?t:null,!e.m),0<e.O&&(e.M=new ge(l(e.Y,e,e.g),e.O)),t=e.U,r=e.g,n=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ye[0]=i.toString()),i=ye);for(var a=0;a<i.length;a++){var o=te(r,i[a],n||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?A(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ne(),function(e,t,r,n,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+n+") [attempt "+i+"]: "+t+"\n"+r+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Je(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Qe(e,t){var r=e.C,n=t.indexOf("\n",r);return-1==n?Ye:(r=Number(t.substring(r,n)),isNaN(r)?ze:(n+=1)+r>t.length?Ye:(t=t.slice(n,n+r),e.C=n+r,t))}function $e(e){e.S=Date.now()+e.I,tt(e,e.I)}function tt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=De(l(e.ba,e),t)}function rt(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function nt(e){0==e.j.G||e.J||br(e.j,e)}function it(e){rt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,be(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function at(e,t){try{var r=e.j;if(0!=r.G&&(r.g==e||dt(r.h,e)))if(!e.K&&dt(r.h,e)&&3==r.G){try{var n=r.Da.g.parse(t)}catch(a){n=null}if(Array.isArray(n)&&3==n.length){var i=n;if(0==i[0]){e:if(!r.u){if(r.g){if(!(r.g.F+3e3<e.F))break e;yr(r),ur(r)}vr(r),je(18)}}else r.za=i[1],0<r.za-r.T&&37500>i[2]&&r.F&&0==r.v&&!r.C&&(r.C=De(l(r.Za,r),6e3));if(1>=lt(r.h)&&r.ca){try{r.ca()}catch(a){}r.ca=void 0}}else Er(r,11)}else if((e.K||r.g==e)&&yr(r),!S(t))for(i=r.Da.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(r.T=a[0],a=a[1],2==r.G)if("c"==a[0]){r.K=a[1],r.ia=a[2];var o=a[3];null!=o&&(r.la=o,r.j.info("VER="+r.la));var s=a[4];null!=s&&(r.Aa=s,r.j.info("SVER="+r.Aa));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(n=1.5*u,r.L=n,r.j.info("backChannelRequestTimeoutMs_="+n)),n=r;var c=e.g;if(c){var d=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(d){var f=n.h;f.g||-1==d.indexOf("spdy")&&-1==d.indexOf("quic")&&-1==d.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(ft(f,f.h),f.h=null))}if(n.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(n.ya=h,wt(n.I,n.D,h))}}r.G=3,r.l&&r.l.ua(),r.ba&&(r.R=Date.now()-e.F,r.j.info("Handshake RTT: "+r.R+"ms"));var p=e;if((n=r).qa=wr(n,n.J?n.ia:null,n.W),p.K){ht(n.h,p);var v=p,g=n.L;g&&(v.I=g),v.B&&(rt(v),$e(v)),n.g=p}else pr(n);0<r.i.length&&lr(r)}else"stop"!=a[0]&&"close"!=a[0]||Er(r,7);else 3==r.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Er(r,7):sr(r):"noop"!=a[0]&&r.l&&r.l.ta(a),r.v=0)}Ne()}catch(a){}}We.prototype.ca=function(e){e=e.target;var t=this.M;t&&3==nr(e)?t.j():this.Y(e)},We.prototype.Y=function(e){try{if(e==this.g)e:{var t=nr(this.g),r=this.g.Ba();this.g.Z();if(!(3>t)&&(3!=t||this.g&&(this.h.h||this.g.oa()||ir(this.g)))){this.J||4!=t||7==r||Ne(),rt(this);var n=this.g.Z();this.X=n;t:if(Je(this)){var a=ir(this.g);e="";var o=a.length,s=4==nr(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){it(this),nt(this);var u="";break t}this.h.i=new i.TextDecoder}for(r=0;r<o;r++)this.h.h=!0,e+=this.h.i.decode(a[r],{stream:!(s&&r==o-1)});a.length=0,this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.oa();if(this.o=200==n,function(e,t,r,n,i,a,o){e.info((function(){return"XMLHTTP RESP ("+n+") [ attempt "+i+"]: "+t+"\n"+r+"\n"+a+" "+o}))}(this.i,this.u,this.A,this.l,this.R,t,n),this.o){if(this.T&&!this.K){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(c)){var d=c;break t}}d=null}if(!(n=d)){this.o=!1,this.s=3,je(12),it(this),nt(this);break e}Ue(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,at(this,n)}if(this.P){var f;for(n=!0;!this.J&&this.C<u.length;){if((f=Qe(this,u))==Ye){4==t&&(this.s=4,je(14),n=!1),Ue(this.i,this.l,null,"[Incomplete Response]");break}if(f==ze){this.s=4,je(15),Ue(this.i,this.l,u,"[Invalid Chunk]"),n=!1;break}Ue(this.i,this.l,f,null),at(this,f)}if(Je(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=t||0!=u.length||this.h.h||(this.s=1,je(16),n=!1),this.o=this.o&&n,n){if(0<u.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+u.length),gr(h),h.M=!0,je(11))}}else Ue(this.i,this.l,u,"[Invalid Chunked Response]"),it(this),nt(this)}else Ue(this.i,this.l,u,null),at(this,u);4==t&&it(this),this.o&&!this.J&&(4==t?br(this.j,this):(this.o=!1,$e(this)))}else(function(e){var t={};e=(e.g&&2<=nr(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var r=0;r<e.length;r++)if(!S(e[r])){var n=I(e[r]),i=n[0];if("string"===typeof(n=n[1])){n=n.trim();var a=t[i]||[];t[i]=a,a.push(n)}}!function(e,t){for(var r in e)t.call(void 0,e[r],r,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<u.indexOf("Unknown SID")?(this.s=3,je(12)):(this.s=0,je(13)),it(this),nt(this)}}}catch(t){}},We.prototype.cancel=function(){this.J=!0,it(this)},We.prototype.ba=function(){this.B=null;var e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ne(),je(17)),it(this),this.s=2,nt(this)):tt(this,this.S-e)};var ot=h((function e(t,r){c(this,e),this.g=t,this.map=r}));function ut(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ct(e){return!!e.h||!!e.g&&e.g.size>=e.j}function lt(e){return e.h?1:e.g?e.g.size:0}function dt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ft(e,t){e.g?e.g.add(t):e.h=t}function ht(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,r=e.i,n=T(e.g.values());try{for(n.s();!(t=n.n()).done;){var i=t.value;r=r.concat(i.D)}}catch(a){n.e(a)}finally{n.f()}return r}return p(e.i)}function gt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var r=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var r=0;r<e;r++)t.push(r);return t}for(var n in t=[],r=0,e)t[r++]=n;return t}}}(e),n=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],r=e.length,n=0;n<r;n++)t.push(e[n]);return t}for(n in t=[],r=0,e)t[r++]=e[n];return t}(e),i=n.length,o=0;o<i;o++)t.call(void 0,n[o],r&&r[o],e)}ut.prototype.cancel=function(){if(this.i=vt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=T(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(r){t.e(r)}finally{t.f()}this.g.clear()}};var mt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof yt){this.h=e.h,St(this,e.j),this.o=e.o,this.g=e.g,Et(this,e.s),this.l=e.l;var t=e.i,r=new Nt;r.i=t.i,t.g&&(r.g=new Map(t.g),r.h=t.h),xt(this,r),this.m=e.m}else e&&(t=String(e).match(mt))?(this.h=!1,St(this,t[1]||"",!0),this.o=_t(t[2]||""),this.g=_t(t[3]||"",!0),Et(this,t[4]),this.l=_t(t[5]||"",!0),xt(this,t[6]||"",!0),this.m=_t(t[7]||"")):(this.h=!1,this.i=new Nt(null,this.h))}function bt(e){return new yt(e)}function St(e,t,r){e.j=r?_t(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Et(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function xt(e,t,r){t instanceof Nt?(e.i=t,function(e,t){t&&!e.j&&(Lt(e),e.i=null,e.g.forEach((function(e,t){var r=t.toLowerCase();t!=r&&(jt(this,t),Dt(this,r,e))}),e)),e.j=t}(e.i,e.h)):(r||(t=Tt(t,Ot)),e.i=new Nt(t,e.h))}function wt(e,t,r){e.i.set(t,r)}function kt(e){return wt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function _t(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Tt(e,t,r){return"string"===typeof e?(e=encodeURI(e).replace(t,At),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function At(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}yt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Tt(t,Ct,!0),":");var r=this.g;return(r||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(Tt(t,Ct,!0),"@"),e.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.s)&&e.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&e.push("/"),e.push(Tt(r,"/"==r.charAt(0)?It:Pt,!0))),(r=this.i.toString())&&e.push("?",r),(r=this.m)&&e.push("#",Tt(r,Rt)),e.join("")};var Ct=/[#\/\?@]/g,Pt=/[#\?:]/g,It=/[#\?]/g,Ot=/[#\?@]/g,Rt=/#/g;function Nt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Lt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var r=0;r<e.length;r++){var n=e[r].indexOf("="),i=null;if(0<=n){var a=e[r].substring(0,n);i=e[r].substring(n+1)}else a=e[r];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,r){e.add(decodeURIComponent(t.replace(/\+/g," ")),r)})))}function jt(e,t){Lt(e),t=Ft(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Mt(e,t){return Lt(e),t=Ft(e,t),e.g.has(t)}function Dt(e,t,r){jt(e,t),0<r.length&&(e.i=null,e.g.set(Ft(e,t),p(r)),e.h+=r.length)}function Ft(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ut(e,t,r,n,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),n(r)}catch(a){}}function Bt(){this.g=new xe}function Gt(e,t,r){var n=r||"";try{gt(e,(function(e,r){var i=e;o(e)&&(i=Se(e)),t.push(n+r+"="+encodeURIComponent(i))}))}catch(i){throw t.push(n+"type="+encodeURIComponent("_badmap")),i}}function Vt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ht(e,t){de.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Wt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function qt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,zt(e)}function zt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Yt(e){var t="";return _(e,(function(e,r){t+=r,t+=":",t+=e,t+="\r\n"})),t}function Xt(e,t,r){e:{for(n in r){var n=!1;break e}n=!0}n||(r=Yt(r),"string"===typeof e?null!=r&&encodeURIComponent(String(r)):wt(e,t,r))}function Kt(e){de.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Nt.prototype).add=function(e,t){Lt(this),this.i=null,e=Ft(this,e);var r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(t),this.h+=1,this},e.forEach=function(e,t){Lt(this),this.g.forEach((function(r,n){r.forEach((function(r){e.call(t,r,n,this)}),this)}),this)},e.na=function(){Lt(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),r=[],n=0;n<t.length;n++)for(var i=e[n],a=0;a<i.length;a++)r.push(t[n]);return r},e.V=function(e){Lt(this);var t=[];if("string"===typeof e)Mt(this,e)&&(t=t.concat(this.g.get(Ft(this,e))));else{e=Array.from(this.g.values());for(var r=0;r<e.length;r++)t=t.concat(e[r])}return t},e.set=function(e,t){return Lt(this),this.i=null,Mt(this,e=Ft(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),r=0;r<t.length;r++){var n=t[r],i=encodeURIComponent(String(n)),a=this.V(n);for(n=0;n<a.length;n++){var o=i;""!==a[n]&&(o+="="+encodeURIComponent(String(a[n]))),e.push(o)}}return this.i=e.join("&")},f(Vt,we),Vt.prototype.g=function(){return new Ht(this.l,this.j)},Vt.prototype.i=function(e){return function(){return e}}({}),f(Ht,de),(e=Ht.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,zt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zt(this)),this.g&&(this.readyState=3,zt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?qt(this):zt(this),3==this.readyState&&Wt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,qt(this))},e.Qa=function(e){this.g&&(this.response=e,qt(this))},e.ga=function(){this.g&&qt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),r=t.next();!r.done;)r=r.value,e.push(r[0]+": "+r[1]),r=t.next();return e.join("\r\n")},Object.defineProperty(Ht.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),f(Kt,de);var Jt=/^https?$/i,Zt=["POST","PUT"];function Qt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,$t(e),tr(e)}function $t(e){e.A||(e.A=!0,fe(e,"complete"),fe(e,"error"))}function er(e){if(e.h&&"undefined"!=typeof n&&(!e.v[1]||4!=nr(e)||2!=e.Z()))if(e.u&&4==nr(e))pe(e.Ea,0,e);else if(fe(e,"readystatechange"),4==nr(e)){e.h=!1;try{var t,r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}if(!(t=a)){var o;if(o=0===r){var s=String(e.D).match(mt)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),o=!Jt.test(s?s.toLowerCase():"")}t=o}if(t)fe(e,"complete"),fe(e,"success");else{e.m=6;try{var u=2<nr(e)?e.g.statusText:""}catch(et){u=""}e.l=u+" ["+e.Z()+"]",$t(e)}}finally{tr(e)}}}function tr(e,t){if(e.g){rr(e);var r=e.g,n=e.v[0]?function(){}:null;e.g=null,e.v=null,t||fe(e,"ready");try{r.onreadystatechange=n}catch(i){}}}function rr(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function nr(e){return e.g?e.g.readyState:0}function ir(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(st){return null}}function ar(e,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||t}function or(e){this.Aa=0,this.i=[],this.j=new Fe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ar("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ar("baseRetryDelayMs",5e3,e),this.cb=ar("retryDelaySeedMs",1e4,e),this.Wa=ar("forwardChannelMaxRetries",2,e),this.wa=ar("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new ut(e&&e.concurrentRequestLimit),this.Da=new Bt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function sr(e){if(cr(e),3==e.G){var t=e.U++,r=bt(e.I);if(wt(r,"SID",e.K),wt(r,"RID",t),wt(r,"TYPE","terminate"),fr(e,r),(t=new We(e,e.j,t)).L=2,t.v=kt(bt(r)),r=!1,i.navigator&&i.navigator.sendBeacon)try{r=i.navigator.sendBeacon(t.v.toString(),"")}catch(Ze){}!r&&i.Image&&((new Image).src=t.v,r=!0),r||(t.g=kr(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}xr(e)}function ur(e){e.g&&(gr(e),e.g.cancel(),e.g=null)}function cr(e){ur(e),e.u&&(i.clearTimeout(e.u),e.u=null),yr(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function lr(e){if(!ct(e.h)&&!e.s){e.s=!0;var t=e.Ga;N||U(),D||(N(),D=!0),F.add(t,e),e.B=0}}function dr(e,t){var r;r=t?t.l:e.U++;var n=bt(e.I);wt(n,"SID",e.K),wt(n,"RID",r),wt(n,"AID",e.T),fr(e,n),e.m&&e.o&&Xt(n,e.m,e.o),r=new We(e,e.j,r,e.B+1),null===e.m&&(r.H=e.o),t&&(e.i=t.D.concat(e.i)),t=hr(e,r,1e3),r.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ft(e.h,r),Xe(r,n,t)}function fr(e,t){e.H&&_(e.H,(function(e,r){wt(t,r,e)})),e.l&&gt({},(function(e,r){wt(t,r,e)}))}function hr(e,t,r){r=Math.min(e.i.length,r);var n=e.l?l(e.l.Na,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+r];-1==a?0<r?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<r;u++){var c=i[u].g,d=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{Gt(d,o,"req"+c+"_")}catch(pt){n&&n(d)}}if(s){n=o.join("&");break e}}return e=e.i.splice(0,r),t.D=e,n}function pr(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;N||U(),D||(N(),D=!0),F.add(t,e),e.v=0}}function vr(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=De(l(e.Fa,e),Sr(e,e.v)),e.v++,!0)}function gr(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function mr(e){e.g=new We(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=bt(e.qa);wt(t,"RID","rpc"),wt(t,"SID",e.K),wt(t,"AID",e.T),wt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&wt(t,"TO",e.ja),wt(t,"TYPE","xmlhttp"),fr(e,t),e.m&&e.o&&Xt(t,e.m,e.o),e.L&&(e.g.I=e.L);var r=e.g;e=e.ia,r.L=1,r.v=kt(bt(t)),r.m=null,r.P=!0,Ke(r,e)}function yr(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function br(e,t){var r=null;if(e.g==t){yr(e),gr(e),e.g=null;var n=2}else{if(!dt(e.h,t))return;r=t.D,ht(e.h,t),n=1}if(0!=e.G)if(t.o)if(1==n){r=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;fe(n=Oe(),new Me(n,r)),lr(e)}else pr(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==n&&function(e,t){return!(lt(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=De(l(e.Ga,e,t),Sr(e,e.B)),e.B++,!0))}(e,t)||2==n&&vr(e)))switch(r&&0<r.length&&(t=e.h,t.i=t.i.concat(r)),i){case 1:Er(e,5);break;case 4:Er(e,10);break;case 3:Er(e,6);break;default:Er(e,2)}}function Sr(e,t){var r=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(r*=2),r*t}function Er(e,t){if(e.j.info("Error code "+t),2==t){var r=l(e.fb,e),n=e.Xa,a=!n;n=new yt(n||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||St(n,"https"),kt(n),a?function(e,t){var r=new Fe;if(i.Image){var n=new Image;n.onload=d(Ut,r,"TestLoadImage: loaded",!0,t,n),n.onerror=d(Ut,r,"TestLoadImage: error",!1,t,n),n.onabort=d(Ut,r,"TestLoadImage: abort",!1,t,n),n.ontimeout=d(Ut,r,"TestLoadImage: timeout",!1,t,n),i.setTimeout((function(){n.ontimeout&&n.ontimeout()}),1e4),n.src=e}else t(!1)}(n.toString(),r):function(e,t){new Fe;var r=new AbortController,n=setTimeout((function(){r.abort(),Ut(0,0,!1,t)}),1e4);fetch(e,{signal:r.signal}).then((function(e){clearTimeout(n),e.ok?Ut(0,0,!0,t):Ut(0,0,!1,t)})).catch((function(){clearTimeout(n),Ut(0,0,!1,t)}))}(n.toString(),r)}else je(2);e.G=0,e.l&&e.l.sa(t),xr(e),cr(e)}function xr(e){if(e.G=0,e.ka=[],e.l){var t=vt(e.h);0==t.length&&0==e.i.length||(m(e.ka,t),m(e.ka,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.ra()}}function wr(e,t,r){var n=r instanceof yt?bt(r):new yt(r);if(""!=n.g)t&&(n.g=t+"."+n.g),Et(n,n.s);else{var a=i.location;n=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var o=new yt(null);n&&St(o,n),t&&(o.g=t),a&&Et(o,a),r&&(o.l=r),n=o}return r=e.D,t=e.ya,r&&t&&wt(n,r,t),wt(n,"VER",e.la),fr(e,n),n}function kr(e,t,r){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Kt(new Vt({eb:r})):new Kt(e.pa)).Ha(e.J),t}function _r(){}function Tr(){}function Ar(e,t){de.call(this),this.g=new or(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!S(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!S(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ir(this)}function Cr(e){Ae.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var r in t){e=r;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Pr(){Ce.call(this),this.status=1}function Ir(e){this.g=e}(e=Kt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,r,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Be.g(),this.v=this.o?ke(this.o):ke(Be),this.g.onreadystatechange=l(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(u){return void Qt(this,u)}if(e=r||"",r=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var a in n)r.set(a,n[a]);else{if("function"!==typeof n.keys||"function"!==typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));var o,s=T(n.keys());try{for(s.s();!(o=s.n()).done;){var u=o.value;r.set(u,n.get(u))}}catch(v){s.e(v)}finally{s.f()}}n=Array.from(r.keys()).find((function(e){return"content-type"==e.toLowerCase()})),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Zt,t,void 0))||n||a||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,d=T(r);try{for(d.s();!(c=d.n()).done;){var f=k(c.value,2),h=f[0],p=f[1];this.g.setRequestHeader(h,p)}}catch(v){d.e(v)}finally{d.f()}this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rr(this),this.u=!0,this.g.send(e),this.u=!1}catch(u){Qt(this,u)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,fe(this,"complete"),fe(this,"abort"),tr(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tr(this,!0)),Kt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?er(this):this.bb())},e.bb=function(){er(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<nr(this)?this.g.status:-1}catch(Wn){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Wn){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ee(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=or.prototype).la=8,e.G=1,e.connect=function(e,t,r,n){je(0),this.W=e,this.H=t||{},r&&void 0!==n&&(this.H.OSID=r,this.H.OAID=n),this.F=this.X,this.I=wr(this,null,this.W),lr(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new We(this,this.j,e),r=this.o;if(this.S&&(r?P(r=A(r),this.S):r=this.S),null!==this.m||this.O||(t.H=r,r=null),this.P)e:{for(var n=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(n+=a)){n=i;break e}if(4096===n||i===this.i.length-1){n=i+1;break e}}n=1e3}else n=1e3;n=hr(this,t,n),wt(i=bt(this.I),"RID",e),wt(i,"CVER",22),this.D&&wt(i,"X-HTTP-Session-Id",this.D),fr(this,i),r&&(this.O?n="headers="+encodeURIComponent(String(Yt(r)))+"&"+n:this.m&&Xt(i,this.m,r)),ft(this.h,t),this.Ua&&wt(i,"TYPE","init"),this.P?(wt(i,"$req",n),wt(i,"SID","null"),t.T=!0,Xe(t,i,null)):Xe(t,i,n),this.G=2}}else 3==this.G&&(e?dr(this,e):0==this.i.length||ct(this.h)||dr(this))},e.Fa=function(){if(this.u=null,mr(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=De(l(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,je(10),ur(this),mr(this))},e.Za=function(){null!=this.C&&(this.C=null,ur(this),vr(this),je(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=_r.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},Tr.prototype.g=function(e,t){return new Ar(e,t)},f(Ar,de),Ar.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ar.prototype.close=function(){sr(this.g)},Ar.prototype.o=function(e){var t=this.g;if("string"===typeof e){var r={};r.__data__=e,e=r}else this.u&&((r={}).__data__=Se(e),e=r);t.i.push(new ot(t.Ya++,e)),3==t.G&&lr(t)},Ar.prototype.N=function(){this.g.l=null,delete this.j,sr(this.g),delete this.g,Ar.aa.N.call(this)},f(Cr,Ae),f(Pr,Ce),f(Ir,_r),Ir.prototype.ua=function(){fe(this.g,"a")},Ir.prototype.ta=function(e){fe(this.g,new Cr(e))},Ir.prototype.sa=function(e){fe(this.g,new Pr)},Ir.prototype.ra=function(){fe(this.g,"b")},Tr.prototype.createWebChannel=Tr.prototype.g,Ar.prototype.send=Ar.prototype.o,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,yh=Sh.createWebChannelTransport=function(){return new Tr},mh=Sh.getStatEventTarget=function(){return Oe()},gh=Sh.Event=Pe,vh=Sh.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ge.NO_ERROR=0,Ge.TIMEOUT=8,Ge.HTTP_ERROR=6,ph=Sh.ErrorCode=Ge,Ve.COMPLETE="complete",hh=Sh.EventType=Ve,_e.EventType=Te,Te.OPEN="a",Te.CLOSE="b",Te.ERROR="c",Te.MESSAGE="d",de.prototype.listen=de.prototype.K,fh=Sh.WebChannel=_e,dh=Sh.FetchXmlHttpFactory=Vt,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,lh=Sh.XhrIo=Kt}).apply("undefined"!==typeof bh?bh:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Eh="@firebase/firestore",xh=function(){function e(t){c(this,e),this.uid=t}return h(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();xh.UNAUTHENTICATED=new xh(null),xh.GOOGLE_CREDENTIALS=new xh("google-credentials-uid"),xh.FIRST_PARTY=new xh("first-party-uid"),xh.MOCK_USER=new xh("mock-user");var wh="10.12.1",kh=new Bo("@firebase/firestore");function _h(){return kh.logLevel}function Th(e){if(kh.logLevel<=No.DEBUG){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=r.map(Ph);kh.debug.apply(kh,["Firestore (".concat(wh,"): ").concat(e)].concat(u(i)))}}function Ah(e){if(kh.logLevel<=No.ERROR){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=r.map(Ph);kh.error.apply(kh,["Firestore (".concat(wh,"): ").concat(e)].concat(u(i)))}}function Ch(e){if(kh.logLevel<=No.WARN){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=r.map(Ph);kh.warn.apply(kh,["Firestore (".concat(wh,"): ").concat(e)].concat(u(i)))}}function Ph(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(Bn){return e}}function Ih(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(wh,") INTERNAL ASSERTION FAILED: ")+e;throw Ah(t),new Error(t)}function Oh(e,t){e||Ih()}function Rh(e,t){return e}var Nh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Lh=function(e){v(r,e);var t=b(r);function r(e,n){var i;return c(this,r),(i=t.call(this,e,n)).code=e,i.message=n,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return h(r)}(mo),jh=h((function e(){var t=this;c(this,e),this.promise=new Promise((function(e,r){t.resolve=e,t.reject=r}))})),Mh=h((function e(t,r){c(this,e),this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Dh=function(){function e(){c(this,e)}return h(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(xh.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Fh=function(){function e(t){c(this,e),this.token=t,this.changeListener=null}return h(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var r=this;this.changeListener=t,e.enqueueRetryable((function(){return t(r.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Uh=function(){function e(t){c(this,e),this.t=t,this.currentUser=xh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return h(e,[{key:"start",value:function(e,t){var r=this,n=this.i,i=function(e){return r.i!==n?(n=r.i,t(e)):Promise.resolve()},a=new jh;this.o=function(){r.i++,r.currentUser=r.u(),a.resolve(),a=new jh,e.enqueueRetryable((function(){return i(r.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(r.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Th("FirebaseAuthCredentialsProvider","Auth detected"),r.auth=e,r.auth.addAuthTokenListener(r.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!r.auth){var e=r.t.getImmediate({optional:!0});e?s(e):(Th("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new jh)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((function(r){return e.i!==t?(Th("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):r?(Oh("string"==typeof r.accessToken),new Mh(r.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Oh(null===e||"string"==typeof e),new xh(e)}}]),e}(),Bh=function(){function e(t,r,n){c(this,e),this.l=t,this.h=r,this.P=n,this.type="FirstParty",this.user=xh.FIRST_PARTY,this.I=new Map}return h(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Gh=function(){function e(t,r,n){c(this,e),this.l=t,this.h=r,this.P=n}return h(e,[{key:"getToken",value:function(){return Promise.resolve(new Bh(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(xh.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Vh=h((function e(t){c(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Hh=function(){function e(t){c(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return h(e,[{key:"start",value:function(e,t){var r=this,n=function(e){null!=e.error&&Th("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var n=e.token!==r.R;return r.R=e.token,Th("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return n(t)}))};var i=function(e){Th("FirebaseAppCheckTokenProvider","AppCheck detected"),r.appCheck=e,r.appCheck.addTokenListener(r.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!r.appCheck){var e=r.A.getImmediate({optional:!0});e?i(e):Th("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Oh("string"==typeof t.token),e.R=t.token,new Vh(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Wh(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(var n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}var qh=function(){function e(){c(this,e)}return h(e,null,[{key:"newId",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),r="";r.length<20;)for(var n=Wh(40),i=0;i<n.length;++i)r.length<20&&n[i]<t&&(r+=e.charAt(n[i]%62));return r}}]),e}();function zh(e,t){return e<t?-1:e>t?1:0}function Yh(e,t,r){return e.length===t.length&&e.every((function(e,n){return r(e,t[n])}))}var Xh=function(){function e(t,r){if(c(this,e),this.seconds=t,this.nanoseconds=r,r<0)throw new Lh(Nh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Lh(Nh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new Lh(Nh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Lh(Nh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return h(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?zh(this.nanoseconds,e.nanoseconds):zh(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var r=Math.floor(t/1e3);return new e(r,Math.floor(1e6*(t-1e3*r)))}}]),e}(),Kh=function(){function e(t){c(this,e),this.timestamp=t}return h(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Xh(0,0))}},{key:"max",value:function(){return new e(new Xh(253402300799,999999999))}}]),e}(),Jh=function(){function e(t,r,n){c(this,e),void 0===r?r=0:r>t.length&&Ih(),void 0===n?n=t.length-r:n>t.length-r&&Ih(),this.segments=t,this.offset=r,this.len=n}return h(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var r=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){r.push(e)})):r.push(t),this.construct(r)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var i=e.get(n),a=t.get(n);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Zh=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"construct",value:function(e,t,n){return new r(e,t,n)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"toUriEncodedString",value:function(){return this.toArray().map(encodeURIComponent).join("/")}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var a=0,o=n;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Lh(Nh.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,u(s.split("/").filter((function(e){return e.length>0}))))}return new r(e)}},{key:"emptyPath",value:function(){return new r([])}}]),r}(Jh),Qh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$h=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"construct",value:function(e,t,n){return new r(e,t,n)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),r.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Qh.test(e)}},{key:"keyField",value:function(){return new r(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],n="",i=0,a=function(){if(0===n.length)throw new Lh(Nh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Lh(Nh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Lh(Nh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new Lh(Nh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new r(t)}},{key:"emptyPath",value:function(){return new r([])}}]),r}(Jh),ep=function(){function e(t){c(this,e),this.path=t}return h(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Zh.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Zh.fromString(t))}},{key:"fromName",value:function(t){return new e(Zh.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Zh.emptyPath())}},{key:"comparator",value:function(e,t){return Zh.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Zh(t.slice()))}}]),e}(),tp=h((function e(t,r,n,i){c(this,e),this.indexId=t,this.collectionGroup=r,this.fields=n,this.indexState=i}));tp.UNKNOWN_ID=-1;function rp(e,t){var r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=Kh.fromTimestamp(1e9===n?new Xh(r+1,0):new Xh(r,n));return new ip(i,ep.empty(),t)}function np(e){return new ip(e.readTime,e.key,-1)}var ip=function(){function e(t,r,n){c(this,e),this.readTime=t,this.documentKey=r,this.largestBatchId=n}return h(e,null,[{key:"min",value:function(){return new e(Kh.min(),ep.empty(),-1)}},{key:"max",value:function(){return new e(Kh.max(),ep.empty(),-1)}}]),e}();function ap(e,t){var r=e.readTime.compareTo(t.readTime);return 0!==r?r:0!==(r=ep.comparator(e.documentKey,t.documentKey))?r:zh(e.largestBatchId,t.largestBatchId)}var op="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sp=function(){function e(){c(this,e),this.onCommittedListeners=[]}return h(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function up(e){return cp.apply(this,arguments)}function cp(){return(cp=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Nh.FAILED_PRECONDITION&&t.message===op){e.next=2;break}throw t;case 2:Th("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lp=function(){function e(t){var r=this;c(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){r.isDone=!0,r.result=e,r.nextCallback&&r.nextCallback(e)}),(function(e){r.isDone=!0,r.error=e,r.catchCallback&&r.catchCallback(e)}))}return h(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,r){var n=this;return this.callbackAttached&&Ih(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){n.nextCallback=function(r){n.wrapSuccess(t,r).next(e,i)},n.catchCallback=function(t){n.wrapFailure(r,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,r){e.next(t,r)}))}},{key:"wrapUserFunction",value:function(t){try{var r=t();return r instanceof e?r:e.resolve(r)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,r){return t?this.wrapUserFunction((function(){return t(r)})):e.resolve(r)}},{key:"wrapFailure",value:function(t,r){return t?this.wrapUserFunction((function(){return t(r)})):e.reject(r)}}],[{key:"resolve",value:function(t){return new e((function(e,r){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,r){r(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,r){var n=0,i=0,a=!1;t.forEach((function(t){++n,t.next((function(){++i,a&&i===n&&e()}),(function(e){return r(e)}))})),a=!0,i===n&&e()}))}},{key:"or",value:function(t){var r,n=e.resolve(!1),i=T(t);try{var a=function(){var t=r.value;n=n.next((function(r){return r?e.resolve(r):t()}))};for(i.s();!(r=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return n}},{key:"forEach",value:function(e,t){var r=this,n=[];return e.forEach((function(e,i){n.push(t.call(r,e,i))})),this.waitFor(n)}},{key:"mapArray",value:function(t,r){return new e((function(e,n){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;r(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return n(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,r){return new e((function(e,n){!function i(){!0===t()?r().next((function(){i()}),n):e()}()}))}}]),e}();function dp(e){var t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function fp(e){return"IndexedDbTransactionError"===e.name}var hp=function(){function e(t,r){var n=this;c(this,e),this.previousValue=t,r&&(r.sequenceNumberHandler=function(e){return n.ie(e)},this.se=function(e){return r.writeSequenceNumber(e)})}return h(e,[{key:"ie",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.se&&this.se(e),e}}]),e}();function pp(e){return null==e}function vp(e){return 0===e&&1/e==-1/0}function gp(e){return"number"==typeof e&&Number.isInteger(e)&&!vp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}hp.oe=-1;var mp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),yp=([].concat(u(mp),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),bp=yp;[].concat(bp,["indexConfiguration","indexState","indexEntries"]);function Sp(e){var t=0;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Ep(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function xp(e,t){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(t(e[n],n,e));return r}function wp(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var kp=function(){function e(t,r){c(this,e),this.comparator=t,this.root=r||Tp.EMPTY}return h(e,[{key:"insert",value:function(t,r){return new e(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Tp.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tp.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,r=this.root;!r.isEmpty();){var n=this.comparator(e,r.key);if(0===n)return t+r.left.size;n<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,r){return e(t,r),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,r){return e.push("".concat(t,":").concat(r)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new _p(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new _p(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new _p(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new _p(this.root,e,this.comparator,!0)}}]),e}(),_p=function(){function e(t,r,n,i){c(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return h(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Tp=function(){function e(t,r,n,i,a){c(this,e),this.key=t,this.value=r,this.color=null!=n?n:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return h(e,[{key:"copy",value:function(t,r,n,i,a){return new e(null!=t?t:this.key,null!=r?r:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,r){var n=this,i=r(e,n.key);return(n=i<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===i?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,r){var n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===r(t,i.key)){if(i.right.isEmpty())return e.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ih();if(this.right.isRed())throw Ih();var e=this.left.check();if(e!==this.right.check())throw Ih();return e+(this.isRed()?0:1)}}]),e}();Tp.EMPTY=null,Tp.RED=!0,Tp.BLACK=!1,Tp.EMPTY=new(function(){function e(){c(this,e),this.size=0}return h(e,[{key:"key",get:function(){throw Ih()}},{key:"value",get:function(){throw Ih()}},{key:"color",get:function(){throw Ih()}},{key:"left",get:function(){throw Ih()}},{key:"right",get:function(){throw Ih()}},{key:"copy",value:function(e,t,r,n,i){return this}},{key:"insert",value:function(e,t,r){return new Tp(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ap=function(){function e(t){c(this,e),this.comparator=t,this.data=new kp(this.comparator)}return h(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,r){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var r=this.data.getIteratorFrom(e[0]);r.hasNext();){var n=r.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}},{key:"forEachWhile",value:function(e,t){var r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Cp(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Cp(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var r=this.data.getIterator(),n=t.data.getIterator();r.hasNext();){var i=r.getNext().key,a=n.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var r=new e(this.comparator);return r.data=t,r}}]),e}(),Cp=function(){function e(t){c(this,e),this.iter=t}return h(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Pp=function(){function e(t){c(this,e),this.fields=t,t.sort($h.comparator)}return h(e,[{key:"unionWith",value:function(t){var r,n=new Ap($h.comparator),i=T(this.fields);try{for(i.s();!(r=i.n()).done;){var a=r.value;n=n.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=T(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(n.toArray())}},{key:"covers",value:function(e){var t,r=T(this.fields);try{for(r.s();!(t=r.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(n){r.e(n)}finally{r.f()}return!1}},{key:"isEqual",value:function(e){return Yh(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Ip=function(e){v(r,e);var t=b(r);function r(){var e;return c(this,r),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return h(r)}(E(Error));var Op=function(e){function t(e){c(this,t),this.binaryString=e}return h(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return function(e){return btoa(e)}(this.binaryString)}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return zh(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var r=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ip("Invalid base64 string: "+e):e}}(e);return new t(r)}},{key:"fromUint8Array",value:function(e){var r=function(e){for(var t="",r=0;r<e.length;++r)t+=String.fromCharCode(e[r]);return t}(e);return new t(r)}}]),t}();Op.EMPTY_BYTE_STRING=new Op("");var Rp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Np(e){if(Oh(!!e),"string"==typeof e){var t=0,r=Rp.exec(e);if(Oh(!!r),r[1]){var n=r[1];n=(n+"000000000").substr(0,9),t=Number(n)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Lp(e.seconds),nanos:Lp(e.nanos)}}function Lp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function jp(e){return"string"==typeof e?Op.fromBase64String(e):Op.fromUint8Array(e)}function Mp(e){var t,r;return"server_timestamp"===(null===(r=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Dp(e){var t=e.mapValue.fields.__previous_value__;return Mp(t)?Dp(t):t}function Fp(e){var t=Np(e.mapValue.fields.__local_write_time__.timestampValue);return new Xh(t.seconds,t.nanos)}var Up=h((function e(t,r,n,i,a,o,s,u,l){c(this,e),this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=l})),Bp=function(){function e(t,r){c(this,e),this.projectId=t,this.database=r||"(default)"}return h(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Gp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Mp(e)?4:tv(e)?9007199254740991:10:Ih()}function Hp(e,t){if(e===t)return!0;var r=Vp(e);if(r!==Vp(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fp(e).isEqual(Fp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var r=Np(e.timestampValue),n=Np(t.timestampValue);return r.seconds===n.seconds&&r.nanos===n.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return jp(e.bytesValue).isEqual(jp(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Lp(e.geoPointValue.latitude)===Lp(t.geoPointValue.latitude)&&Lp(e.geoPointValue.longitude)===Lp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Lp(e.integerValue)===Lp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var r=Lp(e.doubleValue),n=Lp(t.doubleValue);return r===n?vp(r)===vp(n):isNaN(r)&&isNaN(n)}return!1}(e,t);case 9:return Yh(e.arrayValue.values||[],t.arrayValue.values||[],Hp);case 10:return function(e,t){var r=e.mapValue.fields||{},n=t.mapValue.fields||{};if(Sp(r)!==Sp(n))return!1;for(var i in r)if(r.hasOwnProperty(i)&&(void 0===n[i]||!Hp(r[i],n[i])))return!1;return!0}(e,t);default:return Ih()}}function Wp(e,t){return void 0!==(e.values||[]).find((function(e){return Hp(e,t)}))}function qp(e,t){if(e===t)return 0;var r=Vp(e),n=Vp(t);if(r!==n)return zh(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return zh(e.booleanValue,t.booleanValue);case 2:return function(e,t){var r=Lp(e.integerValue||e.doubleValue),n=Lp(t.integerValue||t.doubleValue);return r<n?-1:r>n?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1}(e,t);case 3:return zp(e.timestampValue,t.timestampValue);case 4:return zp(Fp(e),Fp(t));case 5:return zh(e.stringValue,t.stringValue);case 6:return function(e,t){var r=jp(e),n=jp(t);return r.compareTo(n)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var r=e.split("/"),n=t.split("/"),i=0;i<r.length&&i<n.length;i++){var a=zh(r[i],n[i]);if(0!==a)return a}return zh(r.length,n.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var r=zh(Lp(e.latitude),Lp(t.latitude));return 0!==r?r:zh(Lp(e.longitude),Lp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var r=e.values||[],n=t.values||[],i=0;i<r.length&&i<n.length;++i){var a=qp(r[i],n[i]);if(a)return a}return zh(r.length,n.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Gp.mapValue&&t===Gp.mapValue)return 0;if(e===Gp.mapValue)return 1;if(t===Gp.mapValue)return-1;var r=e.fields||{},n=Object.keys(r),i=t.fields||{},a=Object.keys(i);n.sort(),a.sort();for(var o=0;o<n.length&&o<a.length;++o){var s=zh(n[o],a[o]);if(0!==s)return s;var u=qp(r[n[o]],i[a[o]]);if(0!==u)return u}return zh(n.length,a.length)}(e.mapValue,t.mapValue);default:throw Ih()}}function zp(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return zh(e,t);var r=Np(e),n=Np(t),i=zh(r.seconds,n.seconds);return 0!==i?i:zh(r.nanos,n.nanos)}function Yp(e){return Xp(e)}function Xp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Np(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return jp(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ep.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,r="[",n=!0,i=T(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;n?n=!1:r+=",",r+=Xp(a)}}catch(o){i.e(o)}finally{i.f()}return r+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,r="{",n=!0,i=T(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;n?n=!1:r+=",",r+="".concat(a,":").concat(Xp(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return r+"}"}(e.mapValue):Ih()}function Kp(e){return!!e&&"integerValue"in e}function Jp(e){return!!e&&"arrayValue"in e}function Zp(e){return!!e&&"nullValue"in e}function Qp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $p(e){return!!e&&"mapValue"in e}function ev(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ep(e.mapValue.fields,(function(e,r){return t.mapValue.fields[e]=ev(r)})),t}if(e.arrayValue){for(var r={arrayValue:{values:[]}},n=0;n<(e.arrayValue.values||[]).length;++n)r.arrayValue.values[n]=ev(e.arrayValue.values[n]);return r}return Object.assign({},e)}function tv(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var rv=function(){function e(t){c(this,e),this.value=t}return h(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,r=0;r<e.length-1;++r)if(!$p(t=(t.mapValue.fields||{})[e.get(r)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ev(t)}},{key:"setAll",value:function(e){var t=this,r=$h.emptyPath(),n={},i=[];e.forEach((function(e,a){if(!r.isImmediateParentOf(a)){var o=t.getFieldsMap(r);t.applyChanges(o,n,i),n={},i=[],r=a.popLast()}e?n[a.lastSegment()]=ev(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(r);this.applyChanges(a,n,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());$p(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Hp(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var r=0;r<e.length;++r){var n=t.mapValue.fields[e.get(r)];$p(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=n),t=n}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,r){Ep(t,(function(t,r){return e[t]=r}));var n,i=T(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(ev(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function nv(e){var t=[];return Ep(e.fields,(function(e,r){var n=new $h([e]);if($p(r)){var i=nv(r.mapValue).fields;if(0===i.length)t.push(n);else{var a,o=T(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(n.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(n)})),new Pp(t)}var iv=function(){function e(t,r,n,i,a,o,s){c(this,e),this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return h(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Kh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=rv.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=rv.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Kh.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Kh.min(),Kh.min(),Kh.min(),rv.empty(),0)}},{key:"newFoundDocument",value:function(t,r,n,i){return new e(t,1,r,Kh.min(),n,i,0)}},{key:"newNoDocument",value:function(t,r){return new e(t,2,r,Kh.min(),Kh.min(),rv.empty(),0)}},{key:"newUnknownDocument",value:function(t,r){return new e(t,3,r,Kh.min(),Kh.min(),rv.empty(),2)}}]),e}(),av=h((function e(t,r){c(this,e),this.position=t,this.inclusive=r}));function ov(e,t,r){for(var n=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(n=a.field.isKeyField()?ep.comparator(ep.fromName(o.referenceValue),r.key):qp(o,r.data.field(a.field)),"desc"===a.dir&&(n*=-1),0!==n)break}return n}function sv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var r=0;r<e.position.length;r++)if(!Hp(e.position[r],t.position[r]))return!1;return!0}var uv=h((function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";c(this,e),this.field=t,this.dir=r}));function cv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var lv=h((function e(){c(this,e)})),dv=function(e){v(r,e);var t=b(r);function r(e,n,i){var a;return c(this,r),(a=t.call(this)).field=e,a.op=n,a.value=i,a}return h(r,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(qp(t,this.value)):null!==t&&Vp(this.value)===Vp(t)&&this.matchesComparison(qp(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ih()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new bv(e,t,n):"array-contains"===t?new wv(e,n):"in"===t?new kv(e,n):"not-in"===t?new _v(e,n):"array-contains-any"===t?new Tv(e,n):new r(e,t,n)}},{key:"createKeyFieldInFilter",value:function(e,t,r){return"in"===t?new Sv(e,r):new Ev(e,r)}}]),r}(lv),fv=function(e){v(r,e);var t=b(r);function r(e,n){var i;return c(this,r),(i=t.call(this)).filters=e,i.op=n,i.ae=null,i}return h(r,[{key:"matches",value:function(e){return hv(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ae||(this.ae=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ae}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,t){return new r(e,t)}}]),r}(lv);function hv(e){return"and"===e.op}function pv(e){return vv(e)&&hv(e)}function vv(e){var t,r=T(e.filters);try{for(r.s();!(t=r.n()).done;){if(t.value instanceof fv)return!1}}catch(n){r.e(n)}finally{r.f()}return!0}function gv(e){if(e instanceof dv)return e.field.canonicalString()+e.op.toString()+Yp(e.value);if(pv(e))return e.filters.map((function(e){return gv(e)})).join(",");var t=e.filters.map((function(e){return gv(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function mv(e,t){return e instanceof dv?function(e,t){return t instanceof dv&&e.op===t.op&&e.field.isEqual(t.field)&&Hp(e.value,t.value)}(e,t):e instanceof fv?function(e,t){return t instanceof fv&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,r,n){return e&&mv(r,t.filters[n])}),!0)}(e,t):void Ih()}function yv(e){return e instanceof dv?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Yp(e.value))}(e):e instanceof fv?function(e){return e.op.toString()+" {"+e.getFilters().map(yv).join(" ,")+"}"}(e):"Filter"}var bv=function(e){v(r,e);var t=b(r);function r(e,n,i){var a;return c(this,r),(a=t.call(this,e,n,i)).key=ep.fromName(i.referenceValue),a}return h(r,[{key:"matches",value:function(e){var t=ep.comparator(e.key,this.key);return this.matchesComparison(t)}}]),r}(dv),Sv=function(e){v(r,e);var t=b(r);function r(e,n){var i;return c(this,r),(i=t.call(this,e,"in",n)).keys=xv("in",n),i}return h(r,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),r}(dv),Ev=function(e){v(r,e);var t=b(r);function r(e,n){var i;return c(this,r),(i=t.call(this,e,"not-in",n)).keys=xv("not-in",n),i}return h(r,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),r}(dv);function xv(e,t){var r;return((null===(r=t.arrayValue)||void 0===r?void 0:r.values)||[]).map((function(e){return ep.fromName(e.referenceValue)}))}var wv=function(e){v(r,e);var t=b(r);function r(e,n){return c(this,r),t.call(this,e,"array-contains",n)}return h(r,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Jp(t)&&Wp(t.arrayValue,this.value)}}]),r}(dv),kv=function(e){v(r,e);var t=b(r);function r(e,n){return c(this,r),t.call(this,e,"in",n)}return h(r,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Wp(this.value.arrayValue,t)}}]),r}(dv),_v=function(e){v(r,e);var t=b(r);function r(e,n){return c(this,r),t.call(this,e,"not-in",n)}return h(r,[{key:"matches",value:function(e){if(Wp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Wp(this.value.arrayValue,t)}}]),r}(dv),Tv=function(e){v(r,e);var t=b(r);function r(e,n){return c(this,r),t.call(this,e,"array-contains-any",n)}return h(r,[{key:"matches",value:function(e){var t=this,r=e.data.field(this.field);return!(!Jp(r)||!r.arrayValue.values)&&r.arrayValue.values.some((function(e){return Wp(t.value.arrayValue,e)}))}}]),r}(dv),Av=h((function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;c(this,e),this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}));function Cv(e){return new Av(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Pv(e){var t=Rh(e);if(null===t.ue){var r=t.path.canonicalString();null!==t.collectionGroup&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map((function(e){return gv(e)})).join(","),r+="|ob:",r+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),pp(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((function(e){return Yp(e)})).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((function(e){return Yp(e)})).join(",")),t.ue=r}return t.ue}function Iv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var r=0;r<e.orderBy.length;r++)if(!cv(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var n=0;n<e.filters.length;n++)if(!mv(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sv(e.startAt,t.startAt)&&sv(e.endAt,t.endAt)}function Ov(e){return ep.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Rv=h((function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;c(this,e),this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}));function Nv(e,t,r,n,i,a,o,s){return new Rv(e,t,r,n,i,a,o,s)}function Lv(e){return new Rv(e)}function jv(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Mv(e){return null!==e.collectionGroup}function Dv(e){var t=Rh(e);if(null===t.ce){t.ce=[];var r,n=new Set,i=T(t.explicitOrderBy);try{for(i.s();!(r=i.n()).done;){var a=r.value;t.ce.push(a),n.add(a.field.canonicalString())}}catch(u){i.e(u)}finally{i.f()}var o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",s=function(e){var t=new Ap($h.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);s.forEach((function(e){n.has(e.canonicalString())||e.isKeyField()||t.ce.push(new uv(e,o))})),n.has($h.keyField().canonicalString())||t.ce.push(new uv($h.keyField(),o))}return t.ce}function Fv(e){var t=Rh(e);return t.le||(t.le=Bv(t,Dv(e))),t.le}function Uv(e){var t=Rh(e);return t.he||(t.he=Bv(t,e.explicitOrderBy)),t.he}function Bv(e,t){if("F"===e.limitType)return Cv(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new uv(e.field,t)}));var r=e.endAt?new av(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new av(e.startAt.position,e.startAt.inclusive):null;return Cv(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}function Gv(e,t,r){return new Rv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Vv(e,t){return Iv(Fv(e),Fv(t))&&e.limitType===t.limitType}function Hv(e){return"".concat(Pv(Fv(e)),"|lt:").concat(e.limitType)}function Wv(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return yv(e)})).join(", "),"]")),pp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Yp(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Yp(e)})).join(",")),"Target(".concat(t,")")}(Fv(e)),"; limitType=").concat(e.limitType,")")}function qv(e,t){return t.isFoundDocument()&&function(e,t){var r=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):ep.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(e,t)&&function(e,t){var r,n=T(Dv(e));try{for(n.s();!(r=n.n()).done;){var i=r.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){n.e(a)}finally{n.f()}return!0}(e,t)&&function(e,t){var r,n=T(e.filters);try{for(n.s();!(r=n.n()).done;){if(!r.value.matches(t))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,r){var n=ov(e,t,r);return e.inclusive?n<=0:n<0}(e.startAt,Dv(e),t))&&!(e.endAt&&!function(e,t,r){var n=ov(e,t,r);return e.inclusive?n>=0:n>0}(e.endAt,Dv(e),t))}(e,t)}function zv(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Yv(e){return function(t,r){var n,i=!1,a=T(Dv(e));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=Xv(o,t,r);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Xv(e,t,r){var n=e.field.isKeyField()?ep.comparator(t.key,r.key):function(e,t,r){var n=t.data.field(e),i=r.data.field(e);return null!==n&&null!==i?qp(n,i):Ih()}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return Ih()}}var Kv=function(){function e(t,r){c(this,e),this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}return h(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r){var n,i=T(r);try{for(i.s();!(n=i.n()).done;){var a=k(n.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var r=this.mapKeyFn(e),n=this.inner[r];if(void 0===n)return this.inner[r]=[[e,t]],void this.innerSize++;for(var i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return void(n[i]=[e,t]);n.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(var n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return 1===r.length?delete this.inner[t]:r.splice(n,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ep(this.inner,(function(t,r){var n,i=T(r);try{for(i.s();!(n=i.n()).done;){var a=k(n.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return wp(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Jv=new kp(ep.comparator);function Zv(){return Jv}var Qv=new kp(ep.comparator);function $v(){for(var e=Qv,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var i=0,a=r;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function eg(e){var t=Qv;return e.forEach((function(e,r){return t=t.insert(e,r.overlayedDocument)})),t}function tg(){return ng()}function rg(){return ng()}function ng(){return new Kv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var ig=new kp(ep.comparator),ag=new Ap(ep.comparator);function og(){for(var e=ag,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var i=0,a=r;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var sg=new Ap(zh);function ug(){return sg}function cg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vp(t)?"-0":t}}function lg(e){return{integerValue:""+e}}function dg(e,t){return gp(t)?lg(t):cg(e,t)}var fg=h((function e(){c(this,e),this._=void 0}));function hg(e,t,r){return e instanceof gg?function(e,t){var r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Mp(t)&&(t=Dp(t)),t&&(r.fields.__previous_value__=t),{mapValue:r}}(r,t):e instanceof mg?yg(e,t):e instanceof bg?Sg(e,t):function(e,t){var r=vg(e,t),n=xg(r)+xg(e.Pe);return Kp(r)&&Kp(e.Pe)?lg(n):cg(e.serializer,n)}(e,t)}function pg(e,t,r){return e instanceof mg?yg(e,t):e instanceof bg?Sg(e,t):r}function vg(e,t){return e instanceof Eg?function(e){return Kp(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var gg=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r)}(fg),mg=function(e){v(r,e);var t=b(r);function r(e){var n;return c(this,r),(n=t.call(this)).elements=e,n}return h(r)}(fg);function yg(e,t){var r,n=wg(t),i=T(e.elements);try{var a=function(){var e=r.value;n.some((function(t){return Hp(t,e)}))||n.push(e)};for(i.s();!(r=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:n}}}var bg=function(e){v(r,e);var t=b(r);function r(e){var n;return c(this,r),(n=t.call(this)).elements=e,n}return h(r)}(fg);function Sg(e,t){var r,n=wg(t),i=T(e.elements);try{var a=function(){var e=r.value;n=n.filter((function(t){return!Hp(t,e)}))};for(i.s();!(r=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:n}}}var Eg=function(e){v(r,e);var t=b(r);function r(e,n){var i;return c(this,r),(i=t.call(this)).serializer=e,i.Pe=n,i}return h(r)}(fg);function xg(e){return Lp(e.integerValue||e.doubleValue)}function wg(e){return Jp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var kg=h((function e(t,r){c(this,e),this.version=t,this.transformResults=r})),_g=function(){function e(t,r){c(this,e),this.updateTime=t,this.exists=r}return h(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Tg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ag=h((function e(){c(this,e)}));function Cg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Bg(e.key,_g.none()):new Ng(e.key,e.data,_g.none());var r,n=e.data,i=rv.empty(),a=new Ap($h.comparator),o=T(t.fields);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(!a.has(s)){var u=n.field(s);null===u&&s.length>1&&(s=s.popLast(),u=n.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new Lg(e.key,i,new Pp(a.toArray()),_g.none())}function Pg(e,t,r){e instanceof Ng?function(e,t,r){var n=e.value.clone(),i=Mg(e.fieldTransforms,t,r.transformResults);n.setAll(i),t.convertToFoundDocument(r.version,n).setHasCommittedMutations()}(e,t,r):e instanceof Lg?function(e,t,r){if(Tg(e.precondition,t)){var n=Mg(e.fieldTransforms,t,r.transformResults),i=t.data;i.setAll(jg(e)),i.setAll(n),t.convertToFoundDocument(r.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(r.version)}(e,t,r):function(e,t,r){t.convertToNoDocument(r.version).setHasCommittedMutations()}(0,t,r)}function Ig(e,t,r,n){return e instanceof Ng?function(e,t,r,n){if(!Tg(e.precondition,t))return r;var i=e.value.clone(),a=Dg(e.fieldTransforms,n,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,r,n):e instanceof Lg?function(e,t,r,n){if(!Tg(e.precondition,t))return r;var i=Dg(e.fieldTransforms,n,t),a=t.data;return a.setAll(jg(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===r?null:r.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,r,n):function(e,t,r){return Tg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):r}(e,t,r)}function Og(e,t){var r,n=null,i=T(e.fieldTransforms);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=t.data.field(a.field),s=vg(a.transform,o||null);null!=s&&(null===n&&(n=rv.empty()),n.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return n||null}function Rg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Yh(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof mg&&t instanceof mg||e instanceof bg&&t instanceof bg?Yh(e.elements,t.elements,Hp):e instanceof Eg&&t instanceof Eg?Hp(e.Pe,t.Pe):e instanceof gg&&t instanceof gg}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Ng=function(e){v(r,e);var t=b(r);function r(e,n,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return c(this,r),(a=t.call(this)).key=e,a.value=n,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return h(r,[{key:"getFieldMask",value:function(){return null}}]),r}(Ag),Lg=function(e){v(r,e);var t=b(r);function r(e,n,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return c(this,r),(o=t.call(this)).key=e,o.data=n,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return h(r,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),r}(Ag);function jg(e){var t=new Map;return e.fieldMask.fields.forEach((function(r){if(!r.isEmpty()){var n=e.data.field(r);t.set(r,n)}})),t}function Mg(e,t,r){var n=new Map;Oh(e.length===r.length);for(var i=0;i<r.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);n.set(a.field,pg(o,s,r[i]))}return n}function Dg(e,t,r){var n,i=new Map,a=T(e);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.transform,u=r.data.field(o.field);i.set(o.field,hg(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Fg,Ug,Bg=function(e){v(r,e);var t=b(r);function r(e,n){var i;return c(this,r),(i=t.call(this)).key=e,i.precondition=n,i.type=2,i.fieldTransforms=[],i}return h(r,[{key:"getFieldMask",value:function(){return null}}]),r}(Ag),Gg=function(e){v(r,e);var t=b(r);function r(e,n){var i;return c(this,r),(i=t.call(this)).key=e,i.precondition=n,i.type=3,i.fieldTransforms=[],i}return h(r,[{key:"getFieldMask",value:function(){return null}}]),r}(Ag),Vg=function(){function e(t,r,n,i){c(this,e),this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}return h(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var r=t.mutationResults,n=0;n<this.mutations.length;n++){var i=this.mutations[n];i.key.isEqual(e.key)&&Pg(i,e,r[n])}}},{key:"applyToLocalView",value:function(e,t){var r,n=T(this.baseMutations);try{for(n.s();!(r=n.n()).done;){var i=r.value;i.key.isEqual(e.key)&&(t=Ig(i,e,t,this.localWriteTime))}}catch(u){n.e(u)}finally{n.f()}var a,o=T(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Ig(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var r=this,n=rg();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=r.applyToLocalView(o,a.mutatedFields),u=Cg(o,s=t.has(i.key)?null:s);null!==u&&n.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Kh.min())})),n}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),og())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Yh(this.mutations,e.mutations,(function(e,t){return Rg(e,t)}))&&Yh(this.baseMutations,e.baseMutations,(function(e,t){return Rg(e,t)}))}}]),e}(),Hg=function(){function e(t,r,n,i){c(this,e),this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}return h(e,null,[{key:"from",value:function(t,r,n){Oh(t.mutations.length===n.length);for(var i=ig,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new e(t,r,n,i)}}]),e}(),Wg=function(){function e(t,r){c(this,e),this.largestBatchId=t,this.mutation=r}return h(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),qg=h((function e(t,r,n){c(this,e),this.alias=t,this.aggregateType=r,this.fieldPath=n})),zg=h((function e(t,r){c(this,e),this.count=t,this.unchangedNames=r}));function Yg(e){switch(e){default:return Ih();case Nh.CANCELLED:case Nh.UNKNOWN:case Nh.DEADLINE_EXCEEDED:case Nh.RESOURCE_EXHAUSTED:case Nh.INTERNAL:case Nh.UNAVAILABLE:case Nh.UNAUTHENTICATED:return!1;case Nh.INVALID_ARGUMENT:case Nh.NOT_FOUND:case Nh.ALREADY_EXISTS:case Nh.PERMISSION_DENIED:case Nh.FAILED_PRECONDITION:case Nh.ABORTED:case Nh.OUT_OF_RANGE:case Nh.UNIMPLEMENTED:case Nh.DATA_LOSS:return!0}}function Xg(e){if(void 0===e)return Ah("GRPC error has no .code"),Nh.UNKNOWN;switch(e){case Fg.OK:return Nh.OK;case Fg.CANCELLED:return Nh.CANCELLED;case Fg.UNKNOWN:return Nh.UNKNOWN;case Fg.DEADLINE_EXCEEDED:return Nh.DEADLINE_EXCEEDED;case Fg.RESOURCE_EXHAUSTED:return Nh.RESOURCE_EXHAUSTED;case Fg.INTERNAL:return Nh.INTERNAL;case Fg.UNAVAILABLE:return Nh.UNAVAILABLE;case Fg.UNAUTHENTICATED:return Nh.UNAUTHENTICATED;case Fg.INVALID_ARGUMENT:return Nh.INVALID_ARGUMENT;case Fg.NOT_FOUND:return Nh.NOT_FOUND;case Fg.ALREADY_EXISTS:return Nh.ALREADY_EXISTS;case Fg.PERMISSION_DENIED:return Nh.PERMISSION_DENIED;case Fg.FAILED_PRECONDITION:return Nh.FAILED_PRECONDITION;case Fg.ABORTED:return Nh.ABORTED;case Fg.OUT_OF_RANGE:return Nh.OUT_OF_RANGE;case Fg.UNIMPLEMENTED:return Nh.UNIMPLEMENTED;case Fg.DATA_LOSS:return Nh.DATA_LOSS;default:return Ih()}}(Ug=Fg||(Fg={}))[Ug.OK=0]="OK",Ug[Ug.CANCELLED=1]="CANCELLED",Ug[Ug.UNKNOWN=2]="UNKNOWN",Ug[Ug.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ug[Ug.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ug[Ug.NOT_FOUND=5]="NOT_FOUND",Ug[Ug.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ug[Ug.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ug[Ug.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ug[Ug.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ug[Ug.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ug[Ug.ABORTED=10]="ABORTED",Ug[Ug.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ug[Ug.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ug[Ug.INTERNAL=13]="INTERNAL",Ug[Ug.UNAVAILABLE=14]="UNAVAILABLE",Ug[Ug.DATA_LOSS=15]="DATA_LOSS";var Kg=null;function Jg(){return new TextEncoder}var Zg=new oh([4294967295,4294967295],0);function Qg(e){var t=Jg().encode(e),r=new sh;return r.update(t),new Uint8Array(r.digest())}function $g(e){var t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new oh([r,n],0),new oh([i,a],0)]}var em=function(){function e(t,r,n){if(c(this,e),this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new tm("Invalid padding: ".concat(r));if(n<0)throw new tm("Invalid hash count: ".concat(n));if(t.length>0&&0===this.hashCount)throw new tm("Invalid hash count: ".concat(n));if(0===t.length&&0!==r)throw new tm("Invalid padding when bitmap length is 0: ".concat(r));this.Ie=8*t.length-r,this.Te=oh.fromNumber(this.Ie)}return h(e,[{key:"Ee",value:function(e,t,r){var n=e.add(t.multiply(oh.fromNumber(r)));return 1===n.compare(Zg)&&(n=new oh([n.getBits(0),n.getBits(1)],0)),n.modulo(this.Te).toNumber()}},{key:"de",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ie)return!1;for(var t=k($g(Qg(e)),2),r=t[0],n=t[1],i=0;i<this.hashCount;i++){var a=this.Ee(r,n,i);if(!this.de(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ie)for(var t=k($g(Qg(e)),2),r=t[0],n=t[1],i=0;i<this.hashCount;i++){var a=this.Ee(r,n,i);this.Ae(a)}}},{key:"Ae",value:function(e){var t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}],[{key:"create",value:function(t,r,n){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,r);return n.forEach((function(e){return a.insert(e)})),a}}]),e}(),tm=function(e){v(r,e);var t=b(r);function r(){var e;return c(this,r),(e=t.apply(this,arguments)).name="BloomFilterError",e}return h(r)}(E(Error)),rm=function(){function e(t,r,n,i,a){c(this,e),this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}return h(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,r,n){var i=new Map;return i.set(t,nm.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new e(Kh.min(),i,new kp(zh),Zv(),og())}}]),e}(),nm=function(){function e(t,r,n,i,a){c(this,e),this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}return h(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,r,n){return new e(n,r,og(),og(),og())}}]),e}(),im=h((function e(t,r,n,i){c(this,e),this.Re=t,this.removedTargetIds=r,this.key=n,this.Ve=i})),am=h((function e(t,r){c(this,e),this.targetId=t,this.me=r})),om=h((function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Op.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;c(this,e),this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i})),sm=function(){function e(){c(this,e),this.fe=0,this.ge=lm(),this.pe=Op.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}return h(e,[{key:"current",get:function(){return this.ye}},{key:"resumeToken",get:function(){return this.pe}},{key:"Se",get:function(){return 0!==this.fe}},{key:"be",get:function(){return this.we}},{key:"De",value:function(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}},{key:"Ce",value:function(){var e=og(),t=og(),r=og();return this.ge.forEach((function(n,i){switch(i){case 0:e=e.add(n);break;case 2:t=t.add(n);break;case 1:r=r.add(n);break;default:Ih()}})),new nm(this.pe,this.ye,e,t,r)}},{key:"ve",value:function(){this.we=!1,this.ge=lm()}},{key:"Fe",value:function(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}},{key:"Me",value:function(e){this.we=!0,this.ge=this.ge.remove(e)}},{key:"xe",value:function(){this.fe+=1}},{key:"Oe",value:function(){this.fe-=1,Oh(this.fe>=0)}},{key:"Ne",value:function(){this.we=!0,this.ye=!0}}]),e}(),um=function(){function e(t){c(this,e),this.Le=t,this.Be=new Map,this.ke=Zv(),this.qe=cm(),this.Qe=new kp(zh)}return h(e,[{key:"Ke",value:function(e){var t,r=T(e.Re);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve)}}catch(s){r.e(s)}finally{r.f()}var i,a=T(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Ue(o,e.key,e.Ve)}}catch(s){a.e(s)}finally{a.f()}}},{key:"We",value:function(e){var t=this;this.forEachTarget(e,(function(r){var n=t.Ge(r);switch(e.state){case 0:t.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||t.removeTarget(r);break;case 3:t.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:t.ze(r)&&(t.je(r),n.De(e.resumeToken));break;default:Ih()}}))}},{key:"forEachTarget",value:function(e,t){var r=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((function(e,n){r.ze(n)&&t(n)}))}},{key:"He",value:function(e){var t=e.targetId,r=e.me.count,n=this.Je(t);if(n){var i=n.target;if(Ov(i))if(0===r){var a=new ep(i.path);this.Ue(t,a,iv.newNoDocument(a,Kh.min()))}else Oh(1===r);else{var o=this.Ye(t);if(o!==r){var s=this.Ze(e),u=s?this.Xe(s,e,o):1;if(0!==u){this.je(t);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}null==Kg||Kg.et(function(e,t,r,n,i){var a,o,s,u,c,l,d={localCacheCount:e,existenceFilterCount:t.count,databaseId:r.database,projectId:r.projectId},f=t.unchangedNames;return f&&(d.bloomFilter={applied:0===i,hashCount:null!==(a=null==f?void 0:f.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(u=null===(s=null===(o=null==f?void 0:f.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(l=null===(c=null==f?void 0:f.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==n?void 0:n.mightContain(e))&&void 0!==t&&t}}),d}(o,e.me,this.Le.tt(),s,u))}}}}},{key:"Ze",value:function(e){var t=e.me.unchangedNames;if(!t||!t.bits)return null;var r,n,i=t.bits,a=i.bitmap,o=void 0===a?"":a,s=i.padding,u=void 0===s?0:s,c=t.hashCount,l=void 0===c?0:c;try{r=jp(o).toUint8Array()}catch(e){if(e instanceof Ip)return Ch("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{n=new em(r,u,l)}catch(e){return Ch(e instanceof tm?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===n.Ie?null:n}},{key:"Xe",value:function(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}},{key:"nt",value:function(e,t){var r=this,n=this.Le.getRemoteKeysForTarget(t),i=0;return n.forEach((function(n){var a=r.Le.tt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(r.Ue(t,n,null),i++)})),i}},{key:"rt",value:function(e){var t=this,r=new Map;this.Be.forEach((function(n,i){var a=t.Je(i);if(a){if(n.current&&Ov(a.target)){var o=new ep(a.target.path);null!==t.ke.get(o)||t.it(i,o)||t.Ue(i,o,iv.newNoDocument(o,e))}n.be&&(r.set(i,n.Ce()),n.ve())}}));var n=og();this.qe.forEach((function(e,r){var i=!0;r.forEachWhile((function(e){var r=t.Je(e);return!r||"TargetPurposeLimboResolution"===r.purpose||(i=!1,!1)})),i&&(n=n.add(e))})),this.ke.forEach((function(t,r){return r.setReadTime(e)}));var i=new rm(e,r,this.Qe,this.ke,n);return this.ke=Zv(),this.qe=cm(),this.Qe=new kp(zh),i}},{key:"$e",value:function(e,t){if(this.ze(e)){var r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}}},{key:"Ue",value:function(e,t,r){if(this.ze(e)){var n=this.Ge(e);this.it(e,t)?n.Fe(t,1):n.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}}},{key:"removeTarget",value:function(e){this.Be.delete(e)}},{key:"Ye",value:function(e){var t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"xe",value:function(e){this.Ge(e).xe()}},{key:"Ge",value:function(e){var t=this.Be.get(e);return t||(t=new sm,this.Be.set(e,t)),t}},{key:"st",value:function(e){var t=this.qe.get(e);return t||(t=new Ap(zh),this.qe=this.qe.insert(e,t)),t}},{key:"ze",value:function(e){var t=null!==this.Je(e);return t||Th("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Je",value:function(e){var t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}},{key:"je",value:function(e){var t=this;this.Be.set(e,new sm),this.Le.getRemoteKeysForTarget(e).forEach((function(r){t.Ue(e,r,null)}))}},{key:"it",value:function(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}]),e}();function cm(){return new kp(ep.comparator)}function lm(){return new kp(ep.comparator)}var dm={asc:"ASCENDING",desc:"DESCENDING"},fm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hm={and:"AND",or:"OR"},pm=h((function e(t,r){c(this,e),this.databaseId=t,this.useProto3Json=r}));function vm(e,t){return e.useProto3Json||pp(t)?t:{value:t}}function gm(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function mm(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ym(e,t){return gm(e,t.toTimestamp())}function bm(e){return Oh(!!e),Kh.fromTimestamp(function(e){var t=Np(e);return new Xh(t.seconds,t.nanos)}(e))}function Sm(e,t){return Em(e,t).canonicalString()}function Em(e,t){var r=function(e){return new Zh(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?r:r.child(t)}function xm(e){var t=Zh.fromString(e);return Oh(Hm(t)),t}function wm(e,t){return Sm(e.databaseId,t.path)}function km(e,t){var r=xm(t);if(r.get(1)!==e.databaseId.projectId)throw new Lh(Nh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Lh(Nh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new ep(Cm(r))}function _m(e,t){return Sm(e.databaseId,t)}function Tm(e){var t=xm(e);return 4===t.length?Zh.emptyPath():Cm(t)}function Am(e){return new Zh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Cm(e){return Oh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Pm(e,t,r){return{name:wm(e,t),fields:r.value.mapValue.fields}}function Im(e,t){var r;if(t instanceof Ng)r={update:Pm(e,t.key,t.value)};else if(t instanceof Bg)r={delete:wm(e,t.key)};else if(t instanceof Lg)r={update:Pm(e,t.key,t.data),updateMask:Vm(t.fieldMask)};else{if(!(t instanceof Gg))return Ih();r={verify:wm(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var r=t.transform;if(r instanceof gg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(r instanceof mg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:r.elements}};if(r instanceof bg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:r.elements}};if(r instanceof Eg)return{fieldPath:t.field.canonicalString(),increment:r.Pe};throw Ih()}(0,e)}))),t.precondition.isNone||(r.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ym(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ih()}(e,t.precondition)),r}function Om(e,t){return{documents:[_m(e,t.path)]}}function Rm(e,t){var r,n={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=_m(e,r);var a=function(e){if(0!==e.length)return Gm(fv.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Um(e.field),direction:Mm(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var s=vm(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:r}}function Nm(e,t,r,n){var i=Rm(e,t),a=i._t,o=i.parent,s={},u=[],c=0;return r.forEach((function(e){var t=n?e.alias:"aggregate_"+c++;s[t]=e.alias,"count"===e.aggregateType?u.push({alias:t,count:{}}):"avg"===e.aggregateType?u.push({alias:t,avg:{field:Um(e.fieldPath)}}):"sum"===e.aggregateType&&u.push({alias:t,sum:{field:Um(e.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:u,structuredQuery:a.structuredQuery},parent:a.parent},ut:s,parent:o}}function Lm(e){var t=Tm(e.parent),r=e.structuredQuery,n=r.from?r.from.length:0,i=null;if(n>0){Oh(1===n);var a=r.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];r.where&&(o=function(e){var t=jm(e);return t instanceof fv&&pv(t)?t.getFilters():[t]}(r.where));var s=[];r.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new uv(Bm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(r.orderBy));var u=null;r.limit&&(u=function(e){var t;return pp(t="object"==typeof e?e.value:e)?null:t}(r.limit));var c=null;r.startAt&&(c=function(e){var t=!!e.before,r=e.values||[];return new av(r,t)}(r.startAt));var l=null;return r.endAt&&(l=function(e){var t=!e.before,r=e.values||[];return new av(r,t)}(r.endAt)),Nv(t,i,s,o,u,"F",c,l)}function jm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Bm(e.unaryFilter.field);return dv.create(t,"==",{doubleValue:NaN});case"IS_NULL":var r=Bm(e.unaryFilter.field);return dv.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var n=Bm(e.unaryFilter.field);return dv.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Bm(e.unaryFilter.field);return dv.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ih()}}(e):void 0!==e.fieldFilter?function(e){return dv.create(Bm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ih()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return fv.create(e.compositeFilter.filters.map((function(e){return jm(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ih()}}(e.compositeFilter.op))}(e):Ih()}function Mm(e){return dm[e]}function Dm(e){return fm[e]}function Fm(e){return hm[e]}function Um(e){return{fieldPath:e.canonicalString()}}function Bm(e){return $h.fromServerFormat(e.fieldPath)}function Gm(e){return e instanceof dv?function(e){if("=="===e.op){if(Qp(e.value))return{unaryFilter:{field:Um(e.field),op:"IS_NAN"}};if(Zp(e.value))return{unaryFilter:{field:Um(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Qp(e.value))return{unaryFilter:{field:Um(e.field),op:"IS_NOT_NAN"}};if(Zp(e.value))return{unaryFilter:{field:Um(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Um(e.field),op:Dm(e.op),value:e.value}}}(e):e instanceof fv?function(e){var t=e.getFilters().map((function(e){return Gm(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Fm(e.op),filters:t}}}(e):Ih()}function Vm(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Hm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Wm=function(){function e(t,r,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Kh.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Kh.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Op.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;c(this,e),this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return h(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,r){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),qm=h((function e(t){c(this,e),this.ct=t}));function zm(e){var t=Lm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Gv(t,t.limit,"L"):t}var Ym=function(){function e(){c(this,e)}return h(e,[{key:"Pt",value:function(e,t){this.It(e,t),t.Tt()}},{key:"It",value:function(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Lp(e.integerValue));else if("doubleValue"in e){var r=Lp(e.doubleValue);isNaN(r)?this.Et(t,13):(this.Et(t,15),vp(r)?t.dt(0):t.dt(r))}else if("timestampValue"in e){var n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=Np(n)),t.At("".concat(n.seconds||"")),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(jp(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?tv(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Ih()}},{key:"Rt",value:function(e,t){this.Et(t,25),this.St(e,t)}},{key:"St",value:function(e,t){t.At(e)}},{key:"yt",value:function(e,t){var r=e.fields||{};this.Et(t,55);for(var n=0,i=Object.keys(r);n<i.length;n++){var a=i[n];this.Rt(a,t),this.It(r[a],t)}}},{key:"wt",value:function(e,t){var r=e.values||[];this.Et(t,50);var n,i=T(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;this.It(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"gt",value:function(e,t){var r=this;this.Et(t,37),ep.fromName(e).path.forEach((function(e){r.Et(t,60),r.St(e,t)}))}},{key:"Et",value:function(e,t){e.dt(t)}},{key:"Vt",value:function(e){e.dt(2)}}]),e}();Ym.bt=new Ym;var Xm=function(){function e(){c(this,e),this._n=new Km}return h(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this._n.add(t),lp.resolve()}},{key:"getCollectionParents",value:function(e,t){return lp.resolve(this._n.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return lp.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return lp.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return lp.resolve()}},{key:"createTargetIndexes",value:function(e,t){return lp.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return lp.resolve(null)}},{key:"getIndexType",value:function(e,t){return lp.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return lp.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return lp.resolve(null)}},{key:"getMinOffset",value:function(e,t){return lp.resolve(ip.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return lp.resolve(ip.min())}},{key:"updateCollectionGroup",value:function(e,t,r){return lp.resolve()}},{key:"updateIndexEntries",value:function(e,t){return lp.resolve()}}]),e}(),Km=function(){function e(){c(this,e),this.index={}}return h(e,[{key:"add",value:function(e){var t=e.lastSegment(),r=e.popLast(),n=this.index[t]||new Ap(Zh.comparator),i=!n.has(r);return this.index[t]=n.add(r),i}},{key:"has",value:function(e){var t=e.lastSegment(),r=e.popLast(),n=this.index[t];return n&&n.has(r)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ap(Zh.comparator)).toArray()}}]),e}();new Uint8Array(0);var Jm=function(){function e(t,r,n){c(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}return h(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Jm.DEFAULT_COLLECTION_PERCENTILE=10,Jm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jm.DEFAULT=new Jm(41943040,Jm.DEFAULT_COLLECTION_PERCENTILE,Jm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jm.DISABLED=new Jm(-1,0,0);var Zm=function(){function e(t){c(this,e),this.On=t}return h(e,[{key:"next",value:function(){return this.On+=2,this.On}}],[{key:"Nn",value:function(){return new e(0)}},{key:"Ln",value:function(){return new e(-1)}}]),e}();var Qm=function(){function e(){c(this,e),this.changes=new Kv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return h(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,iv.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var r=this.changes.get(t);return void 0!==r?lp.resolve(r):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var $m=h((function e(t,r){c(this,e),this.overlayedDocument=t,this.mutatedFields=r})),ey=function(){function e(t,r,n,i){c(this,e),this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}return h(e,[{key:"getDocument",value:function(e,t){var r=this,n=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return n=i,r.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==n&&Ig(n.mutation,e,Pp.empty(),Xh.now()),e}))}},{key:"getDocuments",value:function(e,t){var r=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return r.getLocalViewOfDocuments(e,t,og()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:og(),i=tg();return this.populateOverlays(e,i,t).next((function(){return r.computeViews(e,t,i,n).next((function(e){var t=$v();return e.forEach((function(e,r){t=t.insert(e,r.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var r=this,n=tg();return this.populateOverlays(e,n,t).next((function(){return r.computeViews(e,t,n,og())}))}},{key:"populateOverlays",value:function(e,t,r){var n=[];return r.forEach((function(e){t.has(e)||n.push(e)})),this.documentOverlayCache.getOverlays(e,n).next((function(e){e.forEach((function(e,r){t.set(e,r)}))}))}},{key:"computeViews",value:function(e,t,r,n){var i=Zv(),a=ng(),o=ng();return t.forEach((function(e,t){var o=r.get(t.key);n.has(t.key)&&(void 0===o||o.mutation instanceof Lg)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Ig(o.mutation,t,o.mutation.getFieldMask(),Xh.now())):a.set(t.key,Pp.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var r;return o.set(e,new $m(t,null!==(r=a.get(e))&&void 0!==r?r:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var r=this,n=ng(),i=new kp((function(e,t){return e-t})),a=og();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var r,a=T(e);try{var o=function(){var e=r.value;e.keys().forEach((function(r){var a=t.get(r);if(null!==a){var o=n.get(r)||Pp.empty();o=e.applyToLocalView(a,o),n.set(r,o);var s=(i.get(e.batchId)||og()).add(r);i=i.insert(e.batchId,s)}}))};for(a.s();!(r=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=rg();c.forEach((function(e){if(!a.has(e)){var r=Cg(t.get(e),n.get(e));null!==r&&l.set(e,r),a=a.add(e)}})),o.push(r.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return lp.waitFor(o)})).next((function(){return n}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var r=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return r.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,r,n){return function(e){return ep.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Mv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,n):this.getDocumentsMatchingCollectionQuery(e,t,r,n)}},{key:"getNextDocuments",value:function(e,t,r,n){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,n).next((function(a){var o=n-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,n-a.size):lp.resolve(tg()),s=-1,u=a;return o.next((function(t){return lp.forEach(t,(function(t,r){return s<r.largestBatchId&&(s=r.largestBatchId),a.get(t)?lp.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,og())})).next((function(e){return{batchId:s,changes:eg(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ep(t)).next((function(e){var t=$v();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,r,n){var i=this,a=t.collectionGroup,o=$v();return this.indexManager.getCollectionParents(e,a).next((function(s){return lp.forEach(s,(function(s){var u=function(e,t){return new Rv(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return i.getDocumentsMatchingCollectionQuery(e,u,r,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,r,n){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,n)})).next((function(e){i.forEach((function(t,r){var n=r.getKey();null===e.get(n)&&(e=e.insert(n,iv.newInvalidDocument(n)))}));var r=$v();return e.forEach((function(e,n){var a=i.get(e);void 0!==a&&Ig(a.mutation,n,Pp.empty(),Xh.now()),qv(t,n)&&(r=r.insert(e,n))})),r}))}}]),e}(),ty=function(){function e(t){c(this,e),this.serializer=t,this.cr=new Map,this.lr=new Map}return h(e,[{key:"getBundleMetadata",value:function(e,t){return lp.resolve(this.cr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:bm(e.createTime)}}(t)),lp.resolve()}},{key:"getNamedQuery",value:function(e,t){return lp.resolve(this.lr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:zm(e.bundledQuery),readTime:bm(e.readTime)}}(t)),lp.resolve()}}]),e}(),ry=function(){function e(){c(this,e),this.overlays=new kp(ep.comparator),this.hr=new Map}return h(e,[{key:"getOverlay",value:function(e,t){return lp.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var r=this,n=tg();return lp.forEach(t,(function(t){return r.getOverlay(e,t).next((function(e){null!==e&&n.set(t,e)}))})).next((function(){return n}))}},{key:"saveOverlays",value:function(e,t,r){var n=this;return r.forEach((function(r,i){n.ht(e,t,i)})),lp.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,r){var n=this,i=this.hr.get(r);return void 0!==i&&(i.forEach((function(e){return n.overlays=n.overlays.remove(e)})),this.hr.delete(r)),lp.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,r){for(var n=tg(),i=t.length+1,a=new ep(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>r&&n.set(s.getKey(),s)}return lp.resolve(n)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,r,n){for(var i=new kp((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>r){var s=i.get(o.largestBatchId);null===s&&(s=tg(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=tg(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=n)););return lp.resolve(u)}},{key:"ht",value:function(e,t,r){var n=this.overlays.get(r.key);if(null!==n){var i=this.hr.get(n.largestBatchId).delete(r.key);this.hr.set(n.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new Wg(t,r));var a=this.hr.get(t);void 0===a&&(a=og(),this.hr.set(t,a)),this.hr.set(t,a.add(r.key))}}]),e}(),ny=function(){function e(){c(this,e),this.Pr=new Ap(iy.Ir),this.Tr=new Ap(iy.Er)}return h(e,[{key:"isEmpty",value:function(){return this.Pr.isEmpty()}},{key:"addReference",value:function(e,t){var r=new iy(e,t);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}},{key:"dr",value:function(e,t){var r=this;e.forEach((function(e){return r.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ar(new iy(e,t))}},{key:"Rr",value:function(e,t){var r=this;e.forEach((function(e){return r.removeReference(e,t)}))}},{key:"Vr",value:function(e){var t=this,r=new ep(new Zh([])),n=new iy(r,e),i=new iy(r,e+1),a=[];return this.Tr.forEachInRange([n,i],(function(e){t.Ar(e),a.push(e.key)})),a}},{key:"mr",value:function(){var e=this;this.Pr.forEach((function(t){return e.Ar(t)}))}},{key:"Ar",value:function(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}},{key:"gr",value:function(e){var t=new ep(new Zh([])),r=new iy(t,e),n=new iy(t,e+1),i=og();return this.Tr.forEachInRange([r,n],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new iy(e,0),r=this.Pr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}]),e}(),iy=function(){function e(t,r){c(this,e),this.key=t,this.pr=r}return h(e,null,[{key:"Ir",value:function(e,t){return ep.comparator(e.key,t.key)||zh(e.pr,t.pr)}},{key:"Er",value:function(e,t){return zh(e.pr,t.pr)||ep.comparator(e.key,t.key)}}]),e}(),ay=function(){function e(t,r){c(this,e),this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.yr=1,this.wr=new Ap(iy.Ir)}return h(e,[{key:"checkEmpty",value:function(e){return lp.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,r,n){var i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Vg(i,t,r,n);this.mutationQueue.push(a);var o,s=T(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.wr=this.wr.add(new iy(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return lp.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return lp.resolve(this.Sr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var r=t+1,n=this.br(r),i=n<0?0:n;return lp.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return lp.resolve(0===this.mutationQueue.length?-1:this.yr-1)}},{key:"getAllMutationBatches",value:function(e){return lp.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var r=this,n=new iy(t,0),i=new iy(t,Number.POSITIVE_INFINITY),a=[];return this.wr.forEachInRange([n,i],(function(e){var t=r.Sr(e.pr);a.push(t)})),lp.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var r=this,n=new Ap(zh);return t.forEach((function(e){var t=new iy(e,0),i=new iy(e,Number.POSITIVE_INFINITY);r.wr.forEachInRange([t,i],(function(e){n=n.add(e.pr)}))})),lp.resolve(this.Dr(n))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var r=t.path,n=r.length+1,i=r;ep.isDocumentKey(i)||(i=i.child(""));var a=new iy(new ep(i),0),o=new Ap(zh);return this.wr.forEachWhile((function(e){var t=e.key.path;return!!r.isPrefixOf(t)&&(t.length===n&&(o=o.add(e.pr)),!0)}),a),lp.resolve(this.Dr(o))}},{key:"Dr",value:function(e){var t=this,r=[];return e.forEach((function(e){var n=t.Sr(e);null!==n&&r.push(n)})),r}},{key:"removeMutationBatch",value:function(e,t){var r=this;Oh(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();var n=this.wr;return lp.forEach(t.mutations,(function(i){var a=new iy(i.key,t.batchId);return n=n.delete(a),r.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){r.wr=n}))}},{key:"Mn",value:function(e){}},{key:"containsKey",value:function(e,t){var r=new iy(t,0),n=this.wr.firstAfterOrEqual(r);return lp.resolve(t.isEqual(n&&n.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,lp.resolve()}},{key:"Cr",value:function(e,t){return this.br(e)}},{key:"br",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Sr",value:function(e){var t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),oy=function(){function e(t){c(this,e),this.vr=t,this.docs=new kp(ep.comparator),this.size=0}return h(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var r=t.key,n=this.docs.get(r),i=n?n.size:0,a=this.vr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var r=this.docs.get(t);return lp.resolve(r?r.document.mutableCopy():iv.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var r=this,n=Zv();return t.forEach((function(e){var t=r.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():iv.newInvalidDocument(e))})),lp.resolve(n)}},{key:"getDocumentsMatchingQuery",value:function(e,t,r,n){for(var i=Zv(),a=t.path,o=new ep(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||ap(np(l),r)<=0||(n.has(l.key)||qv(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return lp.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,r,n){Ih()}},{key:"Fr",value:function(e,t){return lp.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new sy(this)}},{key:"getSize",value:function(e){return lp.resolve(this.size)}}]),e}(),sy=function(e){v(r,e);var t=b(r);function r(e){var n;return c(this,r),(n=t.call(this)).ar=e,n}return h(r,[{key:"applyChanges",value:function(e){var t=this,r=[];return this.changes.forEach((function(n,i){i.isValidDocument()?r.push(t.ar.addEntry(e,i)):t.ar.removeEntry(n)})),lp.waitFor(r)}},{key:"getFromCache",value:function(e,t){return this.ar.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ar.getEntries(e,t)}}]),r}(Qm),uy=function(){function e(t){c(this,e),this.persistence=t,this.Mr=new Kv((function(e){return Pv(e)}),Iv),this.lastRemoteSnapshotVersion=Kh.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ny,this.targetCount=0,this.Lr=Zm.Nn()}return h(e,[{key:"forEachTarget",value:function(e,t){return this.Mr.forEach((function(e,r){return t(r)})),lp.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return lp.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return lp.resolve(this.Or)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Lr.next(),lp.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Or&&(this.Or=t),lp.resolve()}},{key:"qn",value:function(e){this.Mr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Lr=new Zm(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.qn(t),this.targetCount+=1,lp.resolve()}},{key:"updateTargetData",value:function(e,t){return this.qn(t),lp.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,lp.resolve()}},{key:"removeTargets",value:function(e,t,r){var n=this,i=0,a=[];return this.Mr.forEach((function(o,s){s.sequenceNumber<=t&&null===r.get(s.targetId)&&(n.Mr.delete(o),a.push(n.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),lp.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return lp.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var r=this.Mr.get(t)||null;return lp.resolve(r)}},{key:"addMatchingKeys",value:function(e,t,r){return this.Nr.dr(t,r),lp.resolve()}},{key:"removeMatchingKeys",value:function(e,t,r){this.Nr.Rr(t,r);var n=this.persistence.referenceDelegate,i=[];return n&&t.forEach((function(t){i.push(n.markPotentiallyOrphaned(e,t))})),lp.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Nr.Vr(t),lp.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var r=this.Nr.gr(t);return lp.resolve(r)}},{key:"containsKey",value:function(e,t){return lp.resolve(this.Nr.containsKey(t))}}]),e}(),cy=function(){function e(t,r){var n=this;c(this,e),this.Br={},this.overlays={},this.kr=new hp(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new uy(this),this.indexManager=new Xm,this.remoteDocumentCache=function(e){return new oy(e)}((function(e){return n.referenceDelegate.Kr(e)})),this.serializer=new qm(r),this.$r=new ty(this.serializer)}return h(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new ry,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var r=this.Br[e.toKey()];return r||(r=new ay(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,r){var n=this;Th("MemoryPersistence","Starting transaction:",e);var i=new ly(this.kr.next());return this.referenceDelegate.Ur(),r(i).next((function(e){return n.referenceDelegate.Wr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gr",value:function(e,t){return lp.or(Object.values(this.Br).map((function(r){return function(){return r.containsKey(e,t)}})))}}]),e}(),ly=function(e){v(r,e);var t=b(r);function r(e){var n;return c(this,r),(n=t.call(this)).currentSequenceNumber=e,n}return h(r)}(sp),dy=function(){function e(t){c(this,e),this.persistence=t,this.zr=new ny,this.jr=null}return h(e,[{key:"Jr",get:function(){if(this.jr)return this.jr;throw Ih()}},{key:"addReference",value:function(e,t,r){return this.zr.addReference(r,t),this.Jr.delete(r.toString()),lp.resolve()}},{key:"removeReference",value:function(e,t,r){return this.zr.removeReference(r,t),this.Jr.add(r.toString()),lp.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Jr.add(t.toString()),lp.resolve()}},{key:"removeTarget",value:function(e,t){var r=this;this.zr.Vr(t.targetId).forEach((function(e){return r.Jr.add(e.toString())}));var n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return r.Jr.add(e.toString())}))})).next((function(){return n.removeTargetData(e,t)}))}},{key:"Ur",value:function(){this.jr=new Set}},{key:"Wr",value:function(e){var t=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lp.forEach(this.Jr,(function(n){var i=ep.fromPath(n);return t.Yr(e,i).next((function(e){e||r.removeEntry(i,Kh.min())}))})).next((function(){return t.jr=null,r.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var r=this;return this.Yr(e,t).next((function(e){e?r.Jr.delete(t.toString()):r.Jr.add(t.toString())}))}},{key:"Kr",value:function(e){return 0}},{key:"Yr",value:function(e,t){var r=this;return lp.or([function(){return lp.resolve(r.zr.containsKey(t))},function(){return r.persistence.getTargetCache().containsKey(e,t)},function(){return r.persistence.Gr(e,t)}])}}],[{key:"Hr",value:function(t){return new e(t)}}]),e}();var fy=function(){function e(t,r,n,i){c(this,e),this.targetId=t,this.fromCache=r,this.qi=n,this.Qi=i}return h(e,null,[{key:"Ki",value:function(t,r){var n,i=og(),a=og(),o=T(r.docChanges);try{for(o.s();!(n=o.n()).done;){var s=n.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,r.fromCache,i,a)}}]),e}(),hy=function(){function e(){c(this,e),this._documentReadCount=0}return h(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),py=function(){function e(){c(this,e),this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=vo()?8:dp(po())>0?6:4}return h(e,[{key:"initialize",value:function(e,t){this.zi=e,this.indexManager=t,this.$i=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,r,n){var i=this,a={result:null};return this.ji(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.Hi(e,t,n,r).next((function(e){a.result=e}))})).next((function(){if(!a.result){var r=new hy;return i.Ji(e,t,r).next((function(n){if(a.result=n,i.Ui)return i.Yi(e,t,r,n.size)}))}})).next((function(){return a.result}))}},{key:"Yi",value:function(e,t,r,n){return r.documentReadCount<this.Wi?(_h()<=No.DEBUG&&Th("QueryEngine","SDK will not create cache indexes for query:",Wv(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),lp.resolve()):(_h()<=No.DEBUG&&Th("QueryEngine","Query:",Wv(t),"scans",r.documentReadCount,"local documents and returns",n,"documents as results."),r.documentReadCount>this.Gi*n?(_h()<=No.DEBUG&&Th("QueryEngine","The SDK decides to create cache indexes for query:",Wv(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fv(t))):lp.resolve())}},{key:"ji",value:function(e,t){var r=this;if(jv(t))return lp.resolve(null);var n=Fv(t);return this.indexManager.getIndexType(e,n).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Gv(t,null,"F"),n=Fv(t)),r.indexManager.getDocumentsMatchingTarget(e,n).next((function(i){var a=og.apply(void 0,u(i));return r.zi.getDocuments(e,a).next((function(i){return r.indexManager.getMinOffset(e,n).next((function(n){var o=r.Zi(t,i);return r.Xi(t,o,a,n.readTime)?r.ji(e,Gv(t,null,"F")):r.es(e,o,t,n)}))}))})))}))}},{key:"Hi",value:function(e,t,r,n){var i=this;return jv(t)||n.isEqual(Kh.min())?lp.resolve(null):this.zi.getDocuments(e,r).next((function(a){var o=i.Zi(t,a);return i.Xi(t,o,r,n)?lp.resolve(null):(_h()<=No.DEBUG&&Th("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Wv(t)),i.es(e,o,t,rp(n,-1)).next((function(e){return e})))}))}},{key:"Zi",value:function(e,t){var r=new Ap(Yv(e));return t.forEach((function(t,n){qv(e,n)&&(r=r.add(n))})),r}},{key:"Xi",value:function(e,t,r,n){if(null===e.limit)return!1;if(r.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(n)>0)}},{key:"Ji",value:function(e,t,r){return _h()<=No.DEBUG&&Th("QueryEngine","Using full collection scan to execute query:",Wv(t)),this.zi.getDocumentsMatchingQuery(e,t,ip.min(),r)}},{key:"es",value:function(e,t,r,n){return this.zi.getDocumentsMatchingQuery(e,r,n).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),vy=function(){function e(t,r,n,i){c(this,e),this.persistence=t,this.ts=r,this.serializer=i,this.ns=new kp(zh),this.rs=new Kv((function(e){return Pv(e)}),Iv),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(n)}return h(e,[{key:"_s",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ey(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(r){return e.collect(r,t.ns)}))}}]),e}();function gy(e,t,r,n){return new vy(e,t,r,n)}function my(e,t){return yy.apply(this,arguments)}function yy(){return yy=Ot(Pt().mark((function e(t,r){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rh(t),e.next=3,n.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return n.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,n._s(r),n.mutationQueue.getAllMutationBatches(e)})).next((function(r){var i,a=[],o=[],s=og(),u=T(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,d=T(c.mutations);try{for(d.s();!(l=d.n()).done;){var f=l.value;s=s.add(f.key)}}catch(b){d.e(b)}finally{d.f()}}}catch(b){u.e(b)}finally{u.f()}var h,p=T(r);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var g,m=T(v.mutations);try{for(m.s();!(g=m.n()).done;){var y=g.value;s=s.add(y.key)}}catch(b){m.e(b)}finally{m.f()}}}catch(b){p.e(b)}finally{p.f()}return n.localDocuments.getDocuments(e,s).next((function(e){return{us:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),yy.apply(this,arguments)}function by(e,t){var r=Rh(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var n=t.batch.keys(),i=r.os.newChangeBuffer({trackRemovals:!0});return function(e,t,r,n){var i=r.batch,a=i.keys(),o=lp.resolve();return a.forEach((function(e){o=o.next((function(){return n.getEntry(t,e)})).next((function(t){var a=r.docVersions.get(e);Oh(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,r),t.isValidDocument()&&(t.setReadTime(r.commitVersion),n.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(r,e,t,i).next((function(){return i.apply(e)})).next((function(){return r.mutationQueue.performConsistencyCheck(e)})).next((function(){return r.documentOverlayCache.removeOverlaysForBatchId(e,n,t.batch.batchId)})).next((function(){return r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=og(),r=0;r<e.mutationResults.length;++r)e.mutationResults[r].transformResults.length>0&&(t=t.add(e.batch.mutations[r].key));return t}(t))})).next((function(){return r.localDocuments.getDocuments(e,n)}))}))}function Sy(e){var t=Rh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Qr.getLastRemoteSnapshotVersion(e)}))}function Ey(e,t){var r=Rh(e),n=t.snapshotVersion,i=r.ns;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=r.os.newChangeBuffer({trackRemovals:!0});i=r.ns;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(r.Qr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return r.Qr.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Op.EMPTY_BYTE_STRING,Kh.min()).withLastLimboFreeSnapshotVersion(Kh.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,n)),i=i.insert(s,c),function(e,t,r){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size>0)}(u,c,a)&&o.push(r.Qr.updateTargetData(e,c))}}));var s=Zv(),u=og();if(t.documentUpdates.forEach((function(n){t.resolvedLimboDocuments.has(n)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(e,n))})),o.push(xy(e,a,t.documentUpdates).next((function(e){s=e.cs,u=e.ls}))),!n.isEqual(Kh.min())){var c=r.Qr.getLastRemoteSnapshotVersion(e).next((function(t){return r.Qr.setTargetsMetadata(e,e.currentSequenceNumber,n)}));o.push(c)}return lp.waitFor(o).next((function(){return a.apply(e)})).next((function(){return r.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return r.ns=i,e}))}function xy(e,t,r){var n=og(),i=og();return r.forEach((function(e){return n=n.add(e)})),t.getEntries(e,n).next((function(e){var n=Zv();return r.forEach((function(r,a){var o=e.get(r);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(r)),a.isNoDocument()&&a.version.isEqual(Kh.min())?(t.removeEntry(r,a.readTime),n=n.insert(r,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),n=n.insert(r,a)):Th("LocalStore","Ignoring outdated watch update for ",r,". Current version:",o.version," Watch version:",a.version)})),{cs:n,ls:i}}))}function wy(e,t){var r=Rh(e);return r.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function ky(e,t){var r=Rh(e);return r.persistence.runTransaction("Allocate target","readwrite",(function(e){var n;return r.Qr.getTargetData(e,t).next((function(i){return i?(n=i,lp.resolve(n)):r.Qr.allocateTargetId(e).next((function(i){return n=new Wm(t,i,"TargetPurposeListen",e.currentSequenceNumber),r.Qr.addTargetData(e,n).next((function(){return n}))}))}))})).then((function(e){var n=r.ns.get(e.targetId);return(null===n||e.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(r.ns=r.ns.insert(e.targetId,e),r.rs.set(t,e.targetId)),e}))}function _y(e,t,r){return Ty.apply(this,arguments)}function Ty(){return Ty=Ot(Pt().mark((function e(t,r,n){var i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Rh(t),a=i.ns.get(r),o=n?"readwrite":"readwrite-primary",e.prev=1,e.t0=n,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),fp(e.t1)){e.next=12;break}throw e.t1;case 12:Th("LocalStore","Failed to update sequence numbers for target ".concat(r,": ").concat(e.t1));case 13:i.ns=i.ns.remove(r),i.rs.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Ty.apply(this,arguments)}function Ay(e,t,r){var n=Rh(e),i=Kh.min(),a=og();return n.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,r){var n=Rh(e),i=n.rs.get(r);return void 0!==i?lp.resolve(n.ns.get(i)):n.Qr.getTargetData(t,r)}(n,e,Fv(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,n.Qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return n.ts.getDocumentsMatchingQuery(e,t,r?i:Kh.min(),r?a:og())})).next((function(e){return Cy(n,zv(t),e),{documents:e,hs:a}}))}))}function Cy(e,t,r){var n=e.ss.get(t)||Kh.min();r.forEach((function(e,t){t.readTime.compareTo(n)>0&&(n=t.readTime)})),e.ss.set(t,n)}var Py=function(){function e(){c(this,e),this.activeTargetIds=ug()}return h(e,[{key:"As",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ds",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Iy=function(){function e(){c(this,e),this.no=new Py,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return h(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,r){}},{key:"addLocalQueryTarget",value:function(e){return this.no.As(e),this.ro[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,r){this.ro[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.no.Rs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.ro[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.no.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"start",value:function(){return this.no=new Py,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,r){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Oy=function(){function e(){c(this,e)}return h(e,[{key:"io",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ry=function(){function e(){var t=this;c(this,e),this.so=function(){return t.oo()},this._o=function(){return t.ao()},this.uo=[],this.co()}return h(e,[{key:"io",value:function(e){this.uo.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}},{key:"co",value:function(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}},{key:"oo",value:function(){Th("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=T(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(r){t.e(r)}finally{t.f()}}},{key:"ao",value:function(){Th("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=T(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(r){t.e(r)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Ny=null;function Ly(){return null===Ny?Ny=268435456+Math.round(2147483648*Math.random()):Ny++,"0x"+Ny.toString(16)}var jy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},My=function(){function e(t){c(this,e),this.lo=t.lo,this.ho=t.ho}return h(e,[{key:"Po",value:function(e){this.Io=e}},{key:"To",value:function(e){this.Eo=e}},{key:"Ao",value:function(e){this.Ro=e}},{key:"onMessage",value:function(e){this.Vo=e}},{key:"close",value:function(){this.ho()}},{key:"send",value:function(e){this.lo(e)}},{key:"mo",value:function(){this.Io()}},{key:"fo",value:function(){this.Eo()}},{key:"po",value:function(e){this.Ro(e)}},{key:"yo",value:function(e){this.Vo(e)}}]),e}(),Dy="WebChannelConnection",Fy=function(e){v(r,e);var t=b(r);function r(e){var n;return c(this,r),(n=t.call(this,e)).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n.longPollingOptions=e.longPollingOptions,n}return h(r,[{key:"Mo",value:function(e,t,r,n){var i=Ly();return new Promise((function(a,o){var s=new lh;s.setWithCredentials(!0),s.listenOnce(hh.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case ph.NO_ERROR:var t=s.getResponseJson();Th(Dy,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case ph.TIMEOUT:Th(Dy,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Lh(Nh.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:var r=s.getStatus();if(Th(Dy,"RPC '".concat(e,"' ").concat(i," failed with status:"),r,"response text:",s.getResponseText()),r>0){var n=s.getResponseJson();Array.isArray(n)&&(n=n[0]);var u=null==n?void 0:n.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Nh).indexOf(t)>=0?t:Nh.UNKNOWN}(u.status);o(new Lh(c,u.message))}else o(new Lh(Nh.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Lh(Nh.UNAVAILABLE,"Connection failed."));break;default:Ih()}}finally{Th(Dy,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(n);Th(Dy,"RPC '".concat(e,"' ").concat(i," sending request:"),n),s.send(t,"POST",u,r,15)}))}},{key:"Oo",value:function(e,t,r){var n=Ly(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=yh(),o=mh(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new dh({})),this.Fo(s.initMessageHeaders,t,r),s.encodeInitMessageHeaders=!0;var c=i.join("");Th(Dy,"Creating RPC '".concat(e,"' stream ").concat(n,": ").concat(c),s);var l=a.createWebChannel(c,s),d=!1,f=!1,h=new My({lo:function(t){f?Th(Dy,"Not sending because RPC '".concat(e,"' stream ").concat(n," is closed:"),t):(d||(Th(Dy,"Opening RPC '".concat(e,"' stream ").concat(n," transport.")),l.open(),d=!0),Th(Dy,"RPC '".concat(e,"' stream ").concat(n," sending:"),t),l.send(t))},ho:function(){return l.close()}}),p=function(e,t,r){e.listen(t,(function(e){try{r(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,fh.EventType.OPEN,(function(){f||(Th(Dy,"RPC '".concat(e,"' stream ").concat(n," transport opened.")),h.mo())})),p(l,fh.EventType.CLOSE,(function(){f||(f=!0,Th(Dy,"RPC '".concat(e,"' stream ").concat(n," transport closed")),h.po())})),p(l,fh.EventType.ERROR,(function(t){f||(f=!0,Ch(Dy,"RPC '".concat(e,"' stream ").concat(n," transport errored:"),t),h.po(new Lh(Nh.UNAVAILABLE,"The operation could not be completed")))})),p(l,fh.EventType.MESSAGE,(function(t){var r;if(!f){var i=t.data[0];Oh(!!i);var a=i,o=a.error||(null===(r=a[0])||void 0===r?void 0:r.error);if(o){Th(Dy,"RPC '".concat(e,"' stream ").concat(n," received error:"),o);var s=o.status,u=function(e){var t=Fg[e];if(void 0!==t)return Xg(t)}(s),c=o.message;void 0===u&&(u=Nh.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),f=!0,h.po(new Lh(u,c)),l.close()}else Th(Dy,"RPC '".concat(e,"' stream ").concat(n," received:"),i),h.yo(i)}})),p(o,gh.STAT_EVENT,(function(t){t.stat===vh.PROXY?Th(Dy,"RPC '".concat(e,"' stream ").concat(n," detected buffering proxy")):t.stat===vh.NOPROXY&&Th(Dy,"RPC '".concat(e,"' stream ").concat(n," detected no buffering proxy"))})),setTimeout((function(){h.fo()}),0),h}}]),r}(function(){function e(t){c(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+t.host,this.So="projects/".concat(n,"/databases/").concat(i),this.bo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(i)}return h(e,[{key:"Do",get:function(){return!1}},{key:"Co",value:function(e,t,r,n,i){var a=Ly(),o=this.vo(e,t.toUriEncodedString());Th("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,r);var s={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(s,n,i),this.Mo(e,o,s,r).then((function(t){return Th("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Ch("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",r),t}))}},{key:"xo",value:function(e,t,r,n,i,a){return this.Co(e,t,r,n,i)}},{key:"Fo",value:function(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+wh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,r){return e[r]=t})),r&&r.headers.forEach((function(t,r){return e[r]=t}))}},{key:"vo",value:function(e,t){var r=jy[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(r)}},{key:"terminate",value:function(){}}]),e}());function Uy(){return"undefined"!=typeof document?document:null}function By(e){return new pm(e,!0)}var Gy=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;c(this,e),this.oi=t,this.timerId=r,this.No=n,this.Lo=i,this.Bo=a,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}return h(e,[{key:"reset",value:function(){this.ko=0}},{key:"Ko",value:function(){this.ko=this.Bo}},{key:"$o",value:function(e){var t=this;this.cancel();var r=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),i=Math.max(0,r-n);i>0&&Th("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.ko," ms, delay with jitter: ").concat(r," ms, last attempt: ").concat(n," ms ago)")),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,(function(){return t.Qo=Date.now(),e()})),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}},{key:"Wo",value:function(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}},{key:"cancel",value:function(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}},{key:"Uo",value:function(){return(Math.random()-.5)*this.ko}}]),e}(),Vy=function(){function e(t,r,n,i,a,o,s,u){c(this,e),this.oi=t,this.Go=n,this.zo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Gy(t,r)}return h(e,[{key:"Zo",value:function(){return 1===this.state||5===this.state||this.Xo()}},{key:"Xo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.e_()}},{key:"stop",value:function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Zo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"t_",value:function(){this.state=0,this.Yo.reset()}},{key:"n_",value:function(){var e=this;this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,(function(){return e.r_()})))}},{key:"i_",value:function(e){this.s_(),this.stream.send(e)}},{key:"r_",value:function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Xo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"s_",value:function(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}},{key:"o_",value:function(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}},{key:"close",value:function(){var e=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.s_(),this.o_(),this.Yo.cancel(),this.jo++,4!==t?this.Yo.reset():r&&r.code===Nh.RESOURCE_EXHAUSTED?(Ah(r.toString()),Ah("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):r&&r.code===Nh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.__(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ao(r);case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"__",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.a_(this.jo),r=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var n=k(t,2),i=n[0],a=n[1];e.jo===r&&e.u_(i,a)}),(function(r){t((function(){var t=new Lh(Nh.UNKNOWN,"Fetching auth token failed: "+r.message);return e.c_(t)}))}))}},{key:"u_",value:function(e,t){var r=this,n=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po((function(){n((function(){return r.listener.Po()}))})),this.stream.To((function(){n((function(){return r.state=2,r.Jo=r.oi.enqueueAfterDelay(r.zo,1e4,(function(){return r.Xo()&&(r.state=3),Promise.resolve()})),r.listener.To()}))})),this.stream.Ao((function(e){n((function(){return r.c_(e)}))})),this.stream.onMessage((function(e){n((function(){return r.onMessage(e)}))}))}},{key:"e_",value:function(){var e=this;this.state=5,this.Yo.$o(Ot(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"c_",value:function(e){return Th("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"a_",value:function(e){var t=this;return function(r){t.oi.enqueueAndForget((function(){return t.jo===e?r():(Th("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Hy=function(e){v(r,e);var t=b(r);function r(e,n,i,a,o,s){var u;return c(this,r),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,s)).serializer=o,u}return h(r,[{key:"l_",value:function(e,t){return this.connection.Oo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Yo.reset();var t=function(e,t){var r;if("targetChange"in t){t.targetChange;var n=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ih()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Oh(void 0===t||"string"==typeof t),Op.fromBase64String(t||"")):(Oh(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Op.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Nh.UNKNOWN:Xg(e.code);return new Lh(t,e.message||"")}(o);r=new om(n,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=km(e,u.document.name),l=bm(u.document.updateTime),d=u.document.createTime?bm(u.document.createTime):Kh.min(),f=new rv({mapValue:{fields:u.document.fields}}),h=iv.newFoundDocument(c,l,d,f),p=u.targetIds||[],v=u.removedTargetIds||[];r=new im(p,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var g=t.documentDelete;g.document;var m=km(e,g.document),y=g.readTime?bm(g.readTime):Kh.min(),b=iv.newNoDocument(m,y),S=g.removedTargetIds||[];r=new im([],S,b.key,b)}else if("documentRemove"in t){t.documentRemove;var E=t.documentRemove;E.document;var x=km(e,E.document),w=E.removedTargetIds||[];r=new im([],w,x,null)}else{if(!("filter"in t))return Ih();t.filter;var k=t.filter;k.targetId;var _=k.count,T=void 0===_?0:_,A=k.unchangedNames,C=new zg(T,A),P=k.targetId;r=new am(P,C)}return r}(this.serializer,e),r=function(e){if(!("targetChange"in e))return Kh.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Kh.min():t.readTime?bm(t.readTime):Kh.min()}(e);return this.listener.h_(t,r)}},{key:"P_",value:function(e){var t={};t.database=Am(this.serializer),t.addTarget=function(e,t){var r,n=t.target;if((r=Ov(n)?{documents:Om(e,n)}:{query:Rm(e,n)._t}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){r.resumeToken=mm(e,t.resumeToken);var i=vm(e,t.expectedCount);null!==i&&(r.expectedCount=i)}else if(t.snapshotVersion.compareTo(Kh.min())>0){r.readTime=gm(e,t.snapshotVersion.toTimestamp());var a=vm(e,t.expectedCount);null!==a&&(r.expectedCount=a)}return r}(this.serializer,e);var r=function(e,t){var r=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ih()}}(t.purpose);return null==r?null:{"goog-listen-tags":r}}(this.serializer,e);r&&(t.labels=r),this.i_(t)}},{key:"I_",value:function(e){var t={};t.database=Am(this.serializer),t.removeTarget=e,this.i_(t)}}]),r}(Vy),Wy=function(e){v(r,e);var t=b(r);function r(e,n,i,a,o,s){var u;return c(this,r),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,s)).serializer=o,u.T_=!1,u}return h(r,[{key:"E_",get:function(){return this.T_}},{key:"start",value:function(){this.T_=!1,this.lastStreamToken=void 0,to(g(r.prototype),"start",this).call(this)}},{key:"__",value:function(){this.T_&&this.d_([])}},{key:"l_",value:function(e,t){return this.connection.Oo("Write",e,t)}},{key:"onMessage",value:function(e){if(Oh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();var t=function(e,t){return e&&e.length>0?(Oh(void 0!==t),e.map((function(e){return function(e,t){var r=e.updateTime?bm(e.updateTime):bm(t);return r.isEqual(Kh.min())&&(r=bm(t)),new kg(r,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),r=bm(e.commitTime);return this.listener.A_(r,t)}return Oh(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}},{key:"V_",value:function(){var e={};e.database=Am(this.serializer),this.i_(e)}},{key:"d_",value:function(e){var t=this,r={streamToken:this.lastStreamToken,writes:e.map((function(e){return Im(t.serializer,e)}))};this.i_(r)}}]),r}(Vy),qy=function(e){v(r,e);var t=b(r);function r(e,n,i,a){var o;return c(this,r),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=n,o.connection=i,o.serializer=a,o.m_=!1,o}return h(r,[{key:"f_",value:function(){if(this.m_)throw new Lh(Nh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Co",value:function(e,t,r,n){var i=this;return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=k(a,2),s=o[0],u=o[1];return i.connection.Co(e,Em(t,r),n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Nh.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Lh(Nh.UNKNOWN,e.toString())}))}},{key:"xo",value:function(e,t,r,n,i){var a=this;return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var s=k(o,2),u=s[0],c=s[1];return a.connection.xo(e,Em(t,r),n,u,c,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Nh.UNAUTHENTICATED&&(a.authCredentials.invalidateToken(),a.appCheckCredentials.invalidateToken()),e):new Lh(Nh.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.m_=!0,this.connection.terminate()}}]),r}(h((function e(){c(this,e)}))),zy=function(){function e(t,r){c(this,e),this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}return h(e,[{key:"w_",value:function(){var e=this;0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.p_=null,e.b_("Backend didn't respond within 10 seconds."),e.S_("Offline"),Promise.resolve()})))}},{key:"D_",value:function(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}},{key:"set",value:function(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}},{key:"S_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"b_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(Ah(t),this.y_=!1):Th("OnlineStateTracker",t)}},{key:"C_",value:function(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}]),e}(),Yy=h((function e(t,r,n,i,a){var o=this;c(this,e),this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=a,this.O_.io((function(e){n.enqueueAndForget(Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ib(o),!e.t0){e.next=5;break}return Th("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Rh(t)).M_.add(4),e.next=4,Jy(r);case 4:return r.N_.set("Unknown"),r.M_.delete(4),e.next=8,Xy(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.N_=new zy(n,i)}));function Xy(e){return Ky.apply(this,arguments)}function Ky(){return Ky=Ot(Pt().mark((function e(t){var r,n,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ib(t)){e.next=18;break}r=T(t.x_),e.prev=2,r.s();case 4:if((n=r.n()).done){e.next=10;break}return i=n.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Ky.apply(this,arguments)}function Jy(e){return Zy.apply(this,arguments)}function Zy(){return Zy=Ot(Pt().mark((function e(t){var r,n,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=T(t.x_),e.prev=1,r.s();case 3:if((n=r.n()).done){e.next=9;break}return i=n.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Zy.apply(this,arguments)}function Qy(e,t){var r=Rh(e);r.F_.has(t.targetId)||(r.F_.set(t.targetId,t),nb(r)?rb(r):jb(r).Xo()&&eb(r,t))}function $y(e,t){var r=Rh(e),n=jb(r);r.F_.delete(t),n.Xo()&&tb(r,t),0===r.F_.size&&(n.Xo()?n.n_():ib(r)&&r.N_.set("Unknown"))}function eb(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Kh.min())>0){var r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}jb(e).P_(t)}function tb(e,t){e.L_.xe(t),jb(e).I_(t)}function rb(e){e.L_=new um({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ot:function(t){return e.F_.get(t)||null},tt:function(){return e.datastore.serializer.databaseId}}),jb(e).start(),e.N_.w_()}function nb(e){return ib(e)&&!jb(e).Zo()&&e.F_.size>0}function ib(e){return 0===Rh(e).M_.size}function ab(e){e.L_=void 0}function ob(e){return sb.apply(this,arguments)}function sb(){return(sb=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.N_.set("Online");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ub(e){return cb.apply(this,arguments)}function cb(){return cb=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.F_.forEach((function(e,r){eb(t,e)}));case 1:case"end":return e.stop()}}),e)}))),cb.apply(this,arguments)}function lb(e,t){return db.apply(this,arguments)}function db(){return db=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ab(t),nb(t)?(t.N_.D_(r),rb(t)):t.N_.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),db.apply(this,arguments)}function fb(e,t,r){return hb.apply(this,arguments)}function hb(){return hb=Ot(Pt().mark((function e(t,r,n){var i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.N_.set("Online"),!(r instanceof om&&2===r.state&&r.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.cause,i=T(r.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.F_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,n);case 10:t.F_.delete(o),t.L_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,r){return e.apply(this,arguments)}}()(t,r);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Th("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),e.t0),e.next=11,pb(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(r instanceof im?t.L_.Ke(r):r instanceof am?t.L_.He(r):t.L_.We(r),n.isEqual(Kh.min())){e.next=29;break}return e.prev=14,e.next=17,Sy(t.localStore);case 17:if(i=e.sent,e.t1=n.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var r=e.L_.rt(t);return r.targetChanges.forEach((function(r,n){if(r.resumeToken.approximateByteSize()>0){var i=e.F_.get(n);i&&e.F_.set(n,i.withResumeToken(r.resumeToken,t))}})),r.targetMismatches.forEach((function(t,r){var n=e.F_.get(t);if(n){e.F_.set(t,n.withResumeToken(Op.EMPTY_BYTE_STRING,n.snapshotVersion)),tb(e,t);var i=new Wm(n.target,t,r,n.sequenceNumber);eb(e,i)}})),e.remoteSyncer.applyRemoteEvent(r)}(t,n);case 24:return e.prev=24,e.t2=e.catch(14),Th("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,pb(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),hb.apply(this,arguments)}function pb(e,t,r){return vb.apply(this,arguments)}function vb(){return vb=Ot(Pt().mark((function e(t,r,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fp(r)){e.next=2;break}throw r;case 2:return t.M_.add(1),e.next=5,Jy(t);case 5:t.N_.set("Offline"),n||(n=function(){return Sy(t.localStore)}),t.asyncQueue.enqueueRetryable(Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Th("RemoteStore","Retrying IndexedDB access"),e.next=3,n();case 3:return t.M_.delete(1),e.next=6,Xy(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),vb.apply(this,arguments)}function gb(e,t){return t().catch((function(r){return pb(e,r,t)}))}function mb(e){return yb.apply(this,arguments)}function yb(){return yb=Ot(Pt().mark((function e(t){var r,n,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Rh(t),n=Mb(r),i=r.v_.length>0?r.v_[r.v_.length-1].batchId:-1;case 2:if(!bb(r)){e.next=19;break}return e.prev=3,e.next=6,wy(r.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===r.v_.length&&n.n_(),e.abrupt("break",19);case 10:i=a.batchId,Sb(r,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,pb(r,e.t0);case 17:e.next=2;break;case 19:Eb(r)&&xb(r);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),yb.apply(this,arguments)}function bb(e){return ib(e)&&e.v_.length<10}function Sb(e,t){e.v_.push(t);var r=Mb(e);r.Xo()&&r.E_&&r.d_(t.mutations)}function Eb(e){return ib(e)&&!Mb(e).Zo()&&e.v_.length>0}function xb(e){Mb(e).start()}function wb(e){return kb.apply(this,arguments)}function kb(){return(kb=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Mb(t).V_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _b(e){return Tb.apply(this,arguments)}function Tb(){return Tb=Ot(Pt().mark((function e(t){var r,n,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Mb(t),n=T(t.v_);try{for(n.s();!(i=n.n()).done;)a=i.value,r.d_(a.mutations)}catch(o){n.e(o)}finally{n.f()}case 3:case"end":return e.stop()}}),e)}))),Tb.apply(this,arguments)}function Ab(e,t,r){return Cb.apply(this,arguments)}function Cb(){return Cb=Ot(Pt().mark((function e(t,r,n){var i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.v_.shift(),a=Hg.from(i,r,n),e.next=3,gb(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,mb(t);case 5:case"end":return e.stop()}}),e)}))),Cb.apply(this,arguments)}function Pb(e,t){return Ib.apply(this,arguments)}function Ib(){return Ib=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r&&Mb(t).E_,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ot(Pt().mark((function e(t,r){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return Yg(e)&&e!==Nh.ABORTED}(r.code)){e.next=7;break}return n=t.v_.shift(),Mb(t).t_(),e.next=5,gb(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,r)}));case 5:return e.next=7,mb(t);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()(t,r);case 4:Eb(t)&&xb(t);case 5:case"end":return e.stop()}}),e)}))),Ib.apply(this,arguments)}function Ob(e,t){return Rb.apply(this,arguments)}function Rb(){return Rb=Ot(Pt().mark((function e(t,r){var n,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Rh(t)).asyncQueue.verifyOperationInProgress(),Th("RemoteStore","RemoteStore received new credentials"),i=ib(n),n.M_.add(3),e.next=6,Jy(n);case 6:return i&&n.N_.set("Unknown"),e.next=9,n.remoteSyncer.handleCredentialChange(r);case 9:return n.M_.delete(3),e.next=12,Xy(n);case 12:case"end":return e.stop()}}),e)}))),Rb.apply(this,arguments)}function Nb(e,t){return Lb.apply(this,arguments)}function Lb(){return Lb=Ot(Pt().mark((function e(t,r){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Rh(t),!r){e.next=7;break}return n.M_.delete(2),e.next=5,Xy(n);case 5:e.next=13;break;case 7:if(e.t0=r,e.t0){e.next=13;break}return n.M_.add(2),e.next=12,Jy(n);case 12:n.N_.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Lb.apply(this,arguments)}function jb(e){return e.B_||(e.B_=function(e,t,r){var n=Rh(e);return n.f_(),new Hy(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}(e.datastore,e.asyncQueue,{Po:ob.bind(null,e),To:ub.bind(null,e),Ao:lb.bind(null,e),h_:fb.bind(null,e)}),e.x_.push(function(){var t=Ot(Pt().mark((function t(r){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=4;break}e.B_.t_(),nb(e)?rb(e):e.N_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.B_.stop();case 6:ab(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.B_}function Mb(e){return e.k_||(e.k_=function(e,t,r){var n=Rh(e);return n.f_(),new Wy(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}(e.datastore,e.asyncQueue,{Po:function(){return Promise.resolve()},To:wb.bind(null,e),Ao:Pb.bind(null,e),R_:_b.bind(null,e),A_:Ab.bind(null,e)}),e.x_.push(function(){var t=Ot(Pt().mark((function t(r){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=6;break}return e.k_.t_(),t.next=4,mb(e);case 4:t.next=9;break;case 6:return t.next=8,e.k_.stop();case 8:e.v_.length>0&&(Th("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.k_}var Db=function(){function e(t,r,n,i,a){c(this,e),this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new jh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return h(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lh(Nh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,r,n,i,a){var o=new e(t,r,Date.now()+n,i,a);return o.start(n),o}}]),e}();function Fb(e,t){if(Ah("AsyncQueue","".concat(t,": ").concat(e)),fp(e))return new Lh(Nh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Ub,Bb,Gb=function(){function e(t){c(this,e),this.comparator=t?function(e,r){return t(e,r)||ep.comparator(e.key,r.key)}:function(e,t){return ep.comparator(e.key,t.key)},this.keyedMap=$v(),this.sortedSet=new kp(this.comparator)}return h(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,r){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();r.hasNext();){var i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,r){var n=new e;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Vb=function(){function e(){c(this,e),this.q_=new kp(ep.comparator)}return h(e,[{key:"track",value:function(e){var t=e.doc.key,r=this.q_.get(t);r?0!==e.type&&3===r.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==r.type?this.q_=this.q_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.q_=this.q_.remove(t):1===e.type&&2===r.type?this.q_=this.q_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):Ih():this.q_=this.q_.insert(t,e)}},{key:"Q_",value:function(){var e=[];return this.q_.inorderTraversal((function(t,r){e.push(r)})),e}}]),e}(),Hb=function(){function e(t,r,n,i,a,o,s,u,l){c(this,e),this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=l}return h(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(var n=0;n<t.length;n++)if(t[n].type!==r[n].type||!t[n].doc.isEqual(r[n].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,r,n,i,a){var o=[];return r.forEach((function(e){o.push({type:0,doc:e})})),new e(t,r,Gb.emptySet(r),o,n,i,!0,!1,a)}}]),e}(),Wb=function(){function e(){c(this,e),this.K_=void 0,this.U_=[]}return h(e,[{key:"W_",value:function(){return this.U_.some((function(e){return e.G_()}))}}]),e}(),qb=h((function e(){c(this,e),this.queries=new Kv((function(e){return Hv(e)}),Vv),this.onlineState="Unknown",this.z_=new Set}));function zb(e,t){return Yb.apply(this,arguments)}function Yb(){return Yb=Ot(Pt().mark((function e(t,r){var n,i,a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Rh(t),i=3,a=r.query,(o=n.queries.get(a))?!o.W_()&&r.G_()&&(i=2):(o=new Wb,i=r.G_()?0:1),e.prev=5,e.t0=i,e.next=0===e.t0?9:1===e.t0?13:2===e.t0?17:19;break;case 9:return e.next=11,n.onListen(a,!0);case 11:return o.K_=e.sent,e.abrupt("break",19);case 13:return e.next=15,n.onListen(a,!1);case 15:return o.K_=e.sent,e.abrupt("break",19);case 17:return e.next=19,n.onFirstRemoteStoreListen(a);case 19:e.next=25;break;case 21:return e.prev=21,e.t1=e.catch(5),s=Fb(e.t1,"Initialization of query '".concat(Wv(r.query),"' failed")),e.abrupt("return",void r.onError(s));case 25:n.queries.set(a,o),o.U_.push(r),r.j_(n.onlineState),o.K_&&r.H_(o.K_)&&Qb(n);case 26:case"end":return e.stop()}}),e,null,[[5,21]])}))),Yb.apply(this,arguments)}function Xb(e,t){return Kb.apply(this,arguments)}function Kb(){return Kb=Ot(Pt().mark((function e(t,r){var n,i,a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Rh(t),i=r.query,a=3,(o=n.queries.get(i))&&(s=o.U_.indexOf(r))>=0&&(o.U_.splice(s,1),0===o.U_.length?a=r.G_()?0:1:!o.W_()&&r.G_()&&(a=2)),e.t0=a,e.next=0===e.t0?7:1===e.t0?8:2===e.t0?9:10;break;case 7:return e.abrupt("return",(n.queries.delete(i),n.onUnlisten(i,!0)));case 8:return e.abrupt("return",(n.queries.delete(i),n.onUnlisten(i,!1)));case 9:return e.abrupt("return",n.onLastRemoteStoreUnlisten(i));case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e)}))),Kb.apply(this,arguments)}function Jb(e,t){var r,n=Rh(e),i=!1,a=T(t);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.query,u=n.queries.get(s);if(u){var c,l=T(u.U_);try{for(l.s();!(c=l.n()).done;){c.value.H_(o)&&(i=!0)}}catch(d){l.e(d)}finally{l.f()}u.K_=o}}}catch(d){a.e(d)}finally{a.f()}i&&Qb(n)}function Zb(e,t,r){var n=Rh(e),i=n.queries.get(t);if(i){var a,o=T(i.U_);try{for(o.s();!(a=o.n()).done;){a.value.onError(r)}}catch(s){o.e(s)}finally{o.f()}}n.queries.delete(t)}function Qb(e){e.z_.forEach((function(e){e.next()}))}(Bb=Ub||(Ub={})).J_="default",Bb.Cache="cache";var $b=function(){function e(t,r,n){c(this,e),this.query=t,this.Y_=r,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}return h(e,[{key:"H_",value:function(e){if(!this.options.includeMetadataChanges){var t,r=[],n=T(e.docChanges);try{for(n.s();!(t=n.n()).done;){var i=t.value;3!==i.type&&r.push(i)}}catch(o){n.e(o)}finally{n.f()}e=new Hb(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),a=!0):this.ta(e,this.onlineState)&&(this.na(e),a=!0),this.X_=e,a}},{key:"onError",value:function(e){this.Y_.error(e)}},{key:"j_",value:function(e){this.onlineState=e;var t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}},{key:"ta",value:function(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;var r="Offline"!==t;return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"ea",value:function(e){if(e.docChanges.length>0)return!0;var t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"na",value:function(e){e=Hb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}},{key:"G_",value:function(){return this.options.source!==Ub.Cache}}]),e}();var eS=h((function e(t){c(this,e),this.key=t})),tS=h((function e(t){c(this,e),this.key=t})),rS=function(){function e(t,r){c(this,e),this.query=t,this.la=r,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=og(),this.mutatedKeys=og(),this.Ia=Yv(t),this.Ta=new Gb(this.Ia)}return h(e,[{key:"Ea",get:function(){return this.la}},{key:"da",value:function(e,t){var r=this,n=t?t.Aa:new Vb,i=t?t.Ta:this.Ta,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),d=qv(r.query,t)?t:null,f=!!l&&r.mutatedKeys.has(l.key),h=!!d&&(d.hasLocalMutations||r.mutatedKeys.has(d.key)&&d.hasCommittedMutations),p=!1;l&&d?l.data.isEqual(d.data)?f!==h&&(n.track({type:3,doc:d}),p=!0):r.Ra(l,d)||(n.track({type:2,doc:d}),p=!0,(u&&r.Ia(d,u)>0||c&&r.Ia(d,c)<0)&&(s=!0)):!l&&d?(n.track({type:0,doc:d}),p=!0):l&&!d&&(n.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(d?(o=o.add(d),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),n.track({type:1,doc:l})}return{Ta:o,Aa:n,Xi:s,mutatedKeys:a}}},{key:"Ra",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,r,n){var i=this,a=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;var o=e.Aa.Q_();o.sort((function(e,t){return function(e,t){var r=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ih()}};return r(e)-r(t)}(e.type,t.type)||i.Ia(e.doc,t.doc)})),this.Va(r),n=null!=n&&n;var s=t&&!n?this.ma():[],u=0===this.Pa.size&&this.current&&!n?1:0,c=u!==this.ha;return this.ha=u,0!==o.length||c?{snapshot:new Hb(this.query,e.Ta,a,o,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:s}:{fa:s}}},{key:"j_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Vb,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}},{key:"ga",value:function(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}},{key:"Va",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.la=t.la.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.la=t.la.delete(e)})),this.current=e.current)}},{key:"ma",value:function(){var e=this;if(!this.current)return[];var t=this.Pa;this.Pa=og(),this.Ta.forEach((function(t){e.ga(t.key)&&(e.Pa=e.Pa.add(t.key))}));var r=[];return t.forEach((function(t){e.Pa.has(t)||r.push(new tS(t))})),this.Pa.forEach((function(e){t.has(e)||r.push(new eS(e))})),r}},{key:"pa",value:function(e){this.la=e.hs,this.Pa=og();var t=this.da(e.documents);return this.applyChanges(t,!0)}},{key:"ya",value:function(){return Hb.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}]),e}(),nS=h((function e(t,r,n){c(this,e),this.query=t,this.targetId=r,this.view=n})),iS=h((function e(t){c(this,e),this.key=t,this.wa=!1})),aS=function(){function e(t,r,n,i,a,o){c(this,e),this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Kv((function(e){return Hv(e)}),Vv),this.Da=new Map,this.Ca=new Set,this.va=new kp(ep.comparator),this.Fa=new Map,this.Ma=new ny,this.xa={},this.Oa=new Map,this.Na=Zm.Ln(),this.onlineState="Unknown",this.La=void 0}return h(e,[{key:"isPrimaryClient",get:function(){return!0===this.La}}]),e}();function oS(e,t){return sS.apply(this,arguments)}function sS(){return sS=Ot(Pt().mark((function e(t,r){var n,i,a,o,s=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(s.length>2&&void 0!==s[2])||s[2],i=GS(t),!(o=i.ba.get(r))){e.next=7;break}i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.ya(),e.next=10;break;case 7:return e.next=9,lS(i,r,n,!0);case 9:a=e.sent;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)}))),sS.apply(this,arguments)}function uS(e,t){return cS.apply(this,arguments)}function cS(){return cS=Ot(Pt().mark((function e(t,r){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=GS(t),e.next=3,lS(n,r,!0,!1);case 3:case"end":return e.stop()}}),e)}))),cS.apply(this,arguments)}function lS(e,t,r,n){return dS.apply(this,arguments)}function dS(){return dS=Ot(Pt().mark((function e(t,r,n,i){var a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ky(t.localStore,Fv(r));case 2:if(a=e.sent,o=a.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",e.t0=i,!e.t0){e.next=10;break}return e.next=9,fS(t,r,o,"current"===s,a.resumeToken);case 9:u=e.sent;case 10:return t.isPrimaryClient&&n&&Qy(t.remoteStore,a),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),dS.apply(this,arguments)}function fS(e,t,r,n,i){return hS.apply(this,arguments)}function hS(){return hS=Ot(Pt().mark((function e(t,r,n,i,a){var o,s,u,c,l,d;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Ba=function(e,r,n){return function(){var e=Ot(Pt().mark((function e(t,r,n,i){var a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.view.da(n),e.t0=a.Xi,!e.t0){e.next=6;break}return e.next=5,Ay(t.localStore,r.query,!1).then((function(e){var t=e.documents;return r.view.da(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(r.targetId),s=i&&null!=i.targetMismatches.get(r.targetId),u=r.view.applyChanges(a,t.isPrimaryClient,o,s),e.abrupt("return",(NS(t,r.targetId,u.fa),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,r,n,i){return e.apply(this,arguments)}}()(t,e,r,n)},e.next=3,Ay(t.localStore,r,!0);case 3:return o=e.sent,s=new rS(r,o.hs),u=s.da(o.documents),c=nm.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),NS(t,n,l.fa),d=new nS(r,n,s),e.abrupt("return",(t.ba.set(r,d),t.Da.has(n)?t.Da.get(n).push(r):t.Da.set(n,[r]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),hS.apply(this,arguments)}function pS(e,t,r){return vS.apply(this,arguments)}function vS(){return vS=Ot(Pt().mark((function e(t,r,n){var i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Rh(t),a=i.ba.get(r),!((o=i.Da.get(a.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(i.Da.set(a.targetId,o.filter((function(e){return!Vv(e,r)}))),void i.ba.delete(r)));case 3:if(!i.isPrimaryClient){e.next=11;break}if(i.sharedClientState.removeLocalQueryTarget(a.targetId),e.t0=i.sharedClientState.isActiveQueryTarget(a.targetId),e.t0){e.next=9;break}return e.next=9,_y(i.localStore,a.targetId,!1).then((function(){i.sharedClientState.clearQueryState(a.targetId),n&&$y(i.remoteStore,a.targetId),OS(i,a.targetId)})).catch(up);case 9:e.next=14;break;case 11:return OS(i,a.targetId),e.next=14,_y(i.localStore,a.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),vS.apply(this,arguments)}function gS(e,t){return mS.apply(this,arguments)}function mS(){return mS=Ot(Pt().mark((function e(t,r){var n,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Rh(t),i=n.ba.get(r),a=n.Da.get(i.targetId),n.isPrimaryClient&&1===a.length&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),$y(n.remoteStore,i.targetId));case 2:case"end":return e.stop()}}),e)}))),mS.apply(this,arguments)}function yS(e,t,r){return bS.apply(this,arguments)}function bS(){return bS=Ot(Pt().mark((function e(t,r,n){var i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=VS(t),e.prev=1,e.next=4,function(e,t){var r,n,i=Rh(e),a=Xh.now(),o=t.reduce((function(e,t){return e.add(t.key)}),og());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Zv(),u=og();return i.os.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(n){r=n;var o,s=[],u=T(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Og(c,r.get(c.key).overlayedDocument);null!=l&&s.push(new Lg(c.key,l,nv(l.value.mapValue),_g.exists(!0)))}}catch(d){u.e(d)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){n=t;var a=t.applyToLocalDocumentSet(r,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:n.batchId,changes:eg(r)}}))}(i.localStore,r);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,r){var n=e.xa[e.currentUser.toKey()];n||(n=new kp(zh)),n=n.insert(t,r),e.xa[e.currentUser.toKey()]=n}(i,a.batchId,n),e.next=9,MS(i,a.changes);case 9:return e.next=11,mb(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Fb(e.t0,"Failed to persist write"),n.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),bS.apply(this,arguments)}function SS(e,t){return ES.apply(this,arguments)}function ES(){return ES=Ot(Pt().mark((function e(t,r){var n,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rh(t),e.prev=1,e.next=4,Ey(n.localStore,r);case 4:return i=e.sent,r.targetChanges.forEach((function(e,t){var r=n.Fa.get(t);r&&(Oh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?Oh(r.wa):e.removedDocuments.size>0&&(Oh(r.wa),r.wa=!1))})),e.next=8,MS(n,i,r);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,up(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),ES.apply(this,arguments)}function xS(e,t,r){var n=Rh(e);if(n.isPrimaryClient&&0===r||!n.isPrimaryClient&&1===r){var i=[];n.ba.forEach((function(e,r){var n=r.view.j_(t);n.snapshot&&i.push(n.snapshot)})),function(e,t){var r=Rh(e);r.onlineState=t;var n=!1;r.queries.forEach((function(e,r){var i,a=T(r.U_);try{for(a.s();!(i=a.n()).done;){i.value.j_(t)&&(n=!0)}}catch(o){a.e(o)}finally{a.f()}})),n&&Qb(r)}(n.eventManager,t),i.length&&n.Sa.h_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}function wS(e,t,r){return kS.apply(this,arguments)}function kS(){return kS=Ot(Pt().mark((function e(t,r,n){var i,a,o,s,u,c;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Rh(t)).sharedClientState.updateQueryState(r,"rejected",n),a=i.Fa.get(r),!(o=a&&a.key)){e.next=14;break}return s=(s=new kp(ep.comparator)).insert(o,iv.newNoDocument(o,Kh.min())),u=og().add(o),c=new rm(Kh.min(),new Map,new kp(zh),s,u),e.next=9,SS(i,c);case 9:i.va=i.va.remove(o),i.Fa.delete(r),jS(i),e.next=16;break;case 14:return e.next=16,_y(i.localStore,r,!1).then((function(){return OS(i,r,n)})).catch(up);case 16:case"end":return e.stop()}}),e)}))),kS.apply(this,arguments)}function _S(e,t){return TS.apply(this,arguments)}function TS(){return TS=Ot(Pt().mark((function e(t,r){var n,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rh(t),i=r.batch.batchId,e.prev=1,e.next=4,by(n.localStore,r);case 4:return a=e.sent,IS(n,i,null),PS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,MS(n,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,up(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),TS.apply(this,arguments)}function AS(e,t,r){return CS.apply(this,arguments)}function CS(){return CS=Ot(Pt().mark((function e(t,r,n){var i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rh(t),e.prev=1,e.next=4,function(e,t){var r=Rh(e);return r.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var n;return r.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Oh(null!==t),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t)})).next((function(){return r.mutationQueue.performConsistencyCheck(e)})).next((function(){return r.documentOverlayCache.removeOverlaysForBatchId(e,n,t)})).next((function(){return r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)})).next((function(){return r.localDocuments.getDocuments(e,n)}))}))}(i.localStore,r);case 4:return a=e.sent,IS(i,r,n),PS(i,r),i.sharedClientState.updateMutationState(r,"rejected",n),e.next=10,MS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,up(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),CS.apply(this,arguments)}function PS(e,t){(e.Oa.get(t)||[]).forEach((function(e){e.resolve()})),e.Oa.delete(t)}function IS(e,t,r){var n=Rh(e),i=n.xa[n.currentUser.toKey()];if(i){var a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.xa[n.currentUser.toKey()]=i}}function OS(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var n,i=T(e.Da.get(t));try{for(i.s();!(n=i.n()).done;){var a=n.value;e.ba.delete(a),r&&e.Sa.ka(a,r)}}catch(o){i.e(o)}finally{i.f()}e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach((function(t){e.Ma.containsKey(t)||RS(e,t)}))}function RS(e,t){e.Ca.delete(t.path.canonicalString());var r=e.va.get(t);null!==r&&($y(e.remoteStore,r),e.va=e.va.remove(t),e.Fa.delete(r),jS(e))}function NS(e,t,r){var n,i=T(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;a instanceof eS?(e.Ma.addReference(a.key,t),LS(e,a)):a instanceof tS?(Th("SyncEngine","Document no longer in limbo: "+a.key),e.Ma.removeReference(a.key,t),e.Ma.containsKey(a.key)||RS(e,a.key)):Ih()}}catch(o){i.e(o)}finally{i.f()}}function LS(e,t){var r=t.key,n=r.path.canonicalString();e.va.get(r)||e.Ca.has(n)||(Th("SyncEngine","New document in limbo: "+r),e.Ca.add(n),jS(e))}function jS(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){var t=e.Ca.values().next().value;e.Ca.delete(t);var r=new ep(Zh.fromString(t)),n=e.Na.next();e.Fa.set(n,new iS(r)),e.va=e.va.insert(r,n),Qy(e.remoteStore,new Wm(Fv(Lv(r.path)),n,"TargetPurposeLimboResolution",hp.oe))}}function MS(e,t,r){return DS.apply(this,arguments)}function DS(){return DS=Ot(Pt().mark((function e(t,r,n){var i,a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Rh(t),a=[],o=[],s=[],e.t0=i.ba.isEmpty(),e.t0){e.next=9;break}return i.ba.forEach((function(e,t){s.push(i.Ba(t,r,n).then((function(e){if((e||n)&&i.isPrimaryClient){var r=e&&!e.fromCache;i.sharedClientState.updateQueryState(t.targetId,r?"current":"not-current")}if(e){a.push(e);var s=fy.Ki(t.targetId,e);o.push(s)}})))})),e.next=6,Promise.all(s);case 6:return i.Sa.h_(a),e.next=9,function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c,l;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rh(t),e.prev=1,e.next=4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return lp.forEach(r,(function(t){return lp.forEach(t.qi,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return lp.forEach(t.Qi,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),fp(e.t0)){e.next=10;break}throw e.t0;case 10:Th("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=T(r);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=n.ns.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.ns=n.ns.insert(s,l))}catch(d){i.e(d)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,r){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),DS.apply(this,arguments)}function FS(e,t){return US.apply(this,arguments)}function US(){return US=Ot(Pt().mark((function e(t,r){var n,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Rh(t)).currentUser.isEqual(r)){e.next=11;break}return Th("SyncEngine","User change. New user:",r.toKey()),e.next=5,my(n.localStore,r);case 5:return i=e.sent,n.currentUser=r,function(e,t){e.Oa.forEach((function(e){e.forEach((function(e){e.reject(new Lh(Nh.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(r,i.removedBatchIds,i.addedBatchIds),e.next=11,MS(n,i.us);case 11:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}function BS(e,t){var r=Rh(e),n=r.Fa.get(t);if(n&&n.wa)return og().add(n.key);var i=og(),a=r.Da.get(t);if(!a)return i;var o,s=T(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=r.ba.get(u);i=i.unionWith(c.view.Ea)}}catch(l){s.e(l)}finally{s.f()}return i}function GS(e){var t=Rh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=SS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wS.bind(null,t),t.Sa.h_=Jb.bind(null,t.eventManager),t.Sa.ka=Zb.bind(null,t.eventManager),t}function VS(e){var t=Rh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_S.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AS.bind(null,t),t}var HS=function(){function e(){c(this,e),this.synchronizeTabs=!1}return h(e,[{key:"initialize",value:function(){var e=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=By(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return gy(this.persistence,new py,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new cy(dy.Hr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Iy}},{key:"terminate",value:function(){var e=Ot(Pt().mark((function e(){var t,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(r=this.indexBackfillerScheduler)||void 0===r||r.stop(),this.sharedClientState.shutdown(),e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),WS=function(){function e(){c(this,e)}return h(e,[{key:"initialize",value:function(){var e=Ot(Pt().mark((function e(t,r){var n=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return xS(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=FS.bind(null,this.syncEngine),e.next=12,Nb(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new qb}},{key:"createDatastore",value:function(e){var t=By(e.databaseInfo.databaseId),r=function(e){return new Fy(e)}(e.databaseInfo);return function(e,t,r,n){return new qy(e,t,r,n)}(e.authCredentials,e.appCheckCredentials,r,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,r,n,i){return new Yy(e,t,r,n,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return xS(t.syncEngine,e,0)}),Ry.D()?new Ry:new Oy)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,r,n,i,a,o){var s=new aS(e,t,r,n,i,a);return o&&(s.La=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){var e=Ot(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rh(t),Th("RemoteStore","RemoteStore shutting down."),r.M_.add(5),e.next=5,Jy(r);case 5:r.O_.shutdown(),r.N_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore);case 2:null===(t=this.datastore)||void 0===t||t.terminate();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();var qS=function(){function e(t){c(this,e),this.observer=t,this.muted=!1}return h(e,[{key:"next",value:function(e){this.observer.next&&this.Ka(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ka(this.observer.error,e):Ah("Uncaught Error in snapshot listener:",e.toString())}},{key:"$a",value:function(){this.muted=!0}},{key:"Ka",value:function(e,t){var r=this;this.muted||setTimeout((function(){r.muted||e(t)}),0)}}]),e}(),zS=function(){function e(t,r,n,i){var a=this;c(this,e),this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=xh.UNAUTHENTICATED,this.clientId=qh.newId(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(n,function(){var e=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Th("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(n,(function(e){return Th("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return h(e,[{key:"configuration",get:function(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Lh(Nh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new jh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ot(Pt().mark((function r(){var n;return Pt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,r.t0=e._onlineComponents,!r.t0){r.next=5;break}return r.next=5,e._onlineComponents.terminate();case 5:if(r.t1=e._offlineComponents,!r.t1){r.next=9;break}return r.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),r.next=18;break;case 14:r.prev=14,r.t2=r.catch(0),n=Fb(r.t2,"Failed to shutdown persistence"),t.reject(n);case 18:case"end":return r.stop()}}),r,null,[[0,14]])})))),t.promise}}]),e}();function YS(e,t){return XS.apply(this,arguments)}function XS(){return XS=Ot(Pt().mark((function e(t,r){var n,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Th("FirestoreClient","Initializing OfflineComponentProvider"),n=t.configuration,e.next=4,r.initialize(n);case 4:i=n.initialUser,t.setCredentialChangeListener(function(){var e=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,my(r.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=r;case 6:case"end":return e.stop()}}),e)}))),XS.apply(this,arguments)}function KS(e,t){return JS.apply(this,arguments)}function JS(){return JS=Ot(Pt().mark((function e(t,r){var n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,QS(t);case 3:return n=e.sent,Th("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,r.initialize(n,t.configuration);case 7:t.setCredentialChangeListener((function(e){return Ob(r.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Ob(r.remoteStore,t)})),t._onlineComponents=r;case 10:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}function ZS(e){return"FirebaseError"===e.name?e.code===Nh.FAILED_PRECONDITION||e.code===Nh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function QS(e){return $S.apply(this,arguments)}function $S(){return($S=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Th("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,YS(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),ZS(r=e.t0)){e.next=13;break}throw r;case 13:return Ch("Error using user provided cache. Falling back to memory cache: "+r),e.next=16,YS(t,new HS);case 16:e.next=21;break;case 18:return Th("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,YS(t,new HS);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function eE(e){return tE.apply(this,arguments)}function tE(){return(tE=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Th("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,KS(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Th("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,KS(t,new WS);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rE(e){return eE(e).then((function(e){return e.syncEngine}))}function nE(e){return eE(e).then((function(e){return e.datastore}))}function iE(e){return aE.apply(this,arguments)}function aE(){return aE=Ot(Pt().mark((function e(t){var r,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eE(t);case 2:return r=e.sent,n=r.eventManager,e.abrupt("return",(n.onListen=oS.bind(null,r.syncEngine),n.onUnlisten=pS.bind(null,r.syncEngine),n.onFirstRemoteStoreListen=uS.bind(null,r.syncEngine),n.onLastRemoteStoreUnlisten=gS.bind(null,r.syncEngine),n));case 5:case"end":return e.stop()}}),e)}))),aE.apply(this,arguments)}function oE(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new jh;return e.asyncQueue.enqueueAndForget(Ot(Pt().mark((function i(){return Pt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,r,n,i){var a=new qS({next:function(a){t.enqueueAndForget((function(){return Xb(e,o)}));var s=a.docs.has(r);!s&&a.fromCache?i.reject(new Lh(Nh.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&n&&"server"===n.source?i.reject(new Lh(Nh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new $b(Lv(r.path),a,{includeMetadataChanges:!0,ra:!0});return zb(e,o)},i.next=3,iE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=r,i.t5=n,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),n.promise}function sE(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new jh;return e.asyncQueue.enqueueAndForget(Ot(Pt().mark((function i(){return Pt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,r,n,i){var a=new qS({next:function(r){t.enqueueAndForget((function(){return Xb(e,o)})),r.fromCache&&"server"===n.source?i.reject(new Lh(Nh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(r)},error:function(e){return i.reject(e)}}),o=new $b(r,a,{includeMetadataChanges:!0,ra:!0});return zb(e,o)},i.next=3,iE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=r,i.t5=n,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),n.promise}function uE(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var cE=new Map;function lE(e,t,r){if(!r)throw new Lh(Nh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function dE(e){if(!ep.isDocumentKey(e))throw new Lh(Nh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function fE(e){if(ep.isDocumentKey(e))throw new Lh(Nh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function hE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ih()}function pE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Lh(Nh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var r=hE(e);throw new Lh(Nh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(r))}return e}var vE=function(){function e(t){var r,n;if(c(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Lh(Nh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(r=t.ssl)||void 0===r||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Lh(Nh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,r,n){if(!0===t&&!0===n)throw new Lh(Nh.INVALID_ARGUMENT,"".concat(e," and ").concat(r," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uE(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Lh(Nh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Lh(Nh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Lh(Nh.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return h(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),gE=function(){function e(t,r,n,i){c(this,e),this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vE({}),this._settingsFrozen=!1}return h(e,[{key:"app",get:function(){if(!this._app)throw new Lh(Nh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Lh(Nh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Dh;switch(e.type){case"firstParty":return new Gh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Lh(Nh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=cE.get(e);t&&(Th("ComponentProvider","Removing Datastore"),cE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function mE(e,t,r){var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=pE(e,gE))._getSettings(),o="".concat(t,":").concat(r);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Ch("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=xh.MOCK_USER;else{s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var r=t||"demo-project",n=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(r),aud:r,iat:n,exp:n+3600,auth_time:n,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ao(JSON.stringify({alg:"none",type:"JWT"})),ao(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(n=e._app)||void 0===n?void 0:n.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Lh(Nh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new xh(c)}e._authCredentials=new Fh(new Mh(s,u))}}var yE=function(){function e(t,r,n){c(this,e),this.converter=r,this._query=n,this.type="query",this.firestore=t}return h(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),bE=function(){function e(t,r,n){c(this,e),this.converter=r,this._key=n,this.type="document",this.firestore=t}return h(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new SE(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),SE=function(e){v(r,e);var t=b(r);function r(e,n,i){var a;return c(this,r),(a=t.call(this,e,n,Lv(i)))._path=i,a.type="collection",a}return h(r,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new bE(this.firestore,null,new ep(e))}},{key:"withConverter",value:function(e){return new r(this.firestore,e,this._path)}}]),r}(yE);function EE(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if(e=Co(e),lE("collection","path",t),e instanceof gE){var a=Zh.fromString.apply(Zh,[t].concat(n));return fE(a),new SE(e,null,a)}if(!(e instanceof bE||e instanceof SE))throw new Lh(Nh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Zh.fromString.apply(Zh,[t].concat(n)));return fE(o),new SE(e.firestore,null,o)}function xE(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if(e=Co(e),1===arguments.length&&(t=qh.newId()),lE("doc","path",t),e instanceof gE){var a=Zh.fromString.apply(Zh,[t].concat(n));return dE(a),new bE(e,null,new ep(a))}if(!(e instanceof bE||e instanceof SE))throw new Lh(Nh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Zh.fromString.apply(Zh,[t].concat(n)));return dE(o),new bE(e.firestore,e instanceof SE?e.converter:null,new ep(o))}var wE=function(){function e(){var t=this;c(this,e),this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Gy(this,"async_queue_retry"),this.hu=function(){var e=Uy();e&&Th("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Yo.Wo()};var r=Uy();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.hu)}return h(e,[{key:"isShuttingDown",get:function(){return this.ou}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pu(),this.Iu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ou){this.ou=!0,this.cu=e||!1;var t=Uy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pu(),this.ou)return new Promise((function(){}));var r=new jh;return this.Iu((function(){return t.ou&&t.cu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)})).then((function(){return r.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.su.push(e),t.Tu()}))}},{key:"Tu",value:function(){var e=Ot(Pt().mark((function e(){var t=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.su.length){e.next=14;break}return e.prev=1,e.next=4,this.su[0]();case 4:this.su.shift(),this.Yo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),fp(e.t0)){e.next=12;break}throw e.t0;case 12:Th("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.su.length>0&&this.Yo.$o((function(){return t.Tu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Iu",value:function(e){var t=this,r=this.iu.then((function(){return t.uu=!0,e().catch((function(e){t.au=e,t.uu=!1;var r=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ah("INTERNAL UNHANDLED ERROR: ",r),e})).then((function(e){return t.uu=!1,e}))}));return this.iu=r,r}},{key:"enqueueAfterDelay",value:function(e,t,r){var n=this;this.Pu(),this.lu.indexOf(e)>-1&&(t=0);var i=Db.createAndSchedule(this,e,t,r,(function(e){return n.Eu(e)}));return this._u.push(i),i}},{key:"Pu",value:function(){this.au&&Ih()}},{key:"verifyOperationInProgress",value:function(){}},{key:"du",value:function(){var e=Ot(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.iu,e.next=3,t;case 3:if(t!==this.iu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Au",value:function(e){var t,r=T(this._u);try{for(r.s();!(t=r.n()).done;){if(t.value.timerId===e)return!0}}catch(n){r.e(n)}finally{r.f()}return!1}},{key:"Ru",value:function(e){var t=this;return this.du().then((function(){t._u.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var r,n=T(t._u);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){n.e(a)}finally{n.f()}return t.du()}))}},{key:"Vu",value:function(e){this.lu.push(e)}},{key:"Eu",value:function(e){var t=this._u.indexOf(e);this._u.splice(t,1)}}]),e}();function kE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var r,n=e,i=T(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a in n&&"function"==typeof n[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var _E=function(e){v(r,e);var t=b(r);function r(e,n,i,a){var o;return c(this,r),(o=t.call(this,e,n,i,a)).type="firestore",o._queue=new wE,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return h(r,[{key:"_terminate",value:function(){return this._firestoreClient||AE(this),this._firestoreClient.terminate()}}]),r}(gE);function TE(e){return e._firestoreClient||AE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function AE(e){var t,r,n,i=e._freezeSettings(),a=function(e,t,r,n){return new Up(e,t,r,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling,uE(n.experimentalLongPollingOptions),n.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new zS(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(r=i.localCache)||void 0===r?void 0:r._offlineComponentProvider)&&(null===(n=i.localCache)||void 0===n?void 0:n._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var CE=h((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"count",r=arguments.length>1?arguments[1]:void 0;c(this,e),this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=t})),PE=function(){function e(t,r,n){c(this,e),this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=t}return h(e,[{key:"data",value:function(){return this._userDataWriter.convertObjectMap(this._data)}}]),e}(),IE=function(){function e(t){c(this,e),this._byteString=t}return h(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Op.fromBase64String(t))}catch(t){throw new Lh(Nh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Op.fromUint8Array(t))}}]),e}(),OE=function(){function e(){c(this,e);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var i=0;i<r.length;++i)if(0===r[i].length)throw new Lh(Nh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $h(r)}return h(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var RE=h((function e(t){c(this,e),this._methodName=t})),NE=function(){function e(t,r){if(c(this,e),!isFinite(t)||t<-90||t>90)throw new Lh(Nh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Lh(Nh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}return h(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return zh(this._lat,e._lat)||zh(this._long,e._long)}}]),e}(),LE=/^__.*__$/,jE=function(){function e(t,r,n){c(this,e),this.data=t,this.fieldMask=r,this.fieldTransforms=n}return h(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Lg(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ng(e,this.data,t,this.fieldTransforms)}}]),e}();function ME(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ih()}}var DE=function(){function e(t,r,n,i,a,o){c(this,e),this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===a&&this.mu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return h(e,[{key:"path",get:function(){return this.settings.path}},{key:"fu",get:function(){return this.settings.fu}},{key:"gu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"pu",value:function(e){var t,r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.gu({path:r,yu:!1});return n.wu(e),n}},{key:"Su",value:function(e){var t,r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.gu({path:r,yu:!1});return n.mu(),n}},{key:"bu",value:function(e){return this.gu({path:void 0,yu:!0})}},{key:"Du",value:function(e){return XE(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"mu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.wu(this.path.get(e))}},{key:"wu",value:function(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(ME(this.fu)&&LE.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}]),e}(),FE=function(){function e(t,r,n){c(this,e),this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||By(t)}return h(e,[{key:"Fu",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new DE({fu:e,methodName:t,vu:r,path:$h.emptyPath(),yu:!1,Cu:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function UE(e){var t=e._freezeSettings(),r=By(e._databaseId);return new FE(e._databaseId,!!t.ignoreUndefinedProperties,r)}function BE(e,t,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Fu(a.merge||a.mergeFields?2:0,t,r,i);WE("Data must be an object, but it was:",o,n);var s,u,c=VE(n,o);if(a.merge)s=new Pp(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,d=[],f=T(a.mergeFields);try{for(f.s();!(l=f.n()).done;){var h=qE(t,l.value,r);if(!o.contains(h))throw new Lh(Nh.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));KE(d,h)||d.push(h)}}catch(p){f.e(p)}finally{f.f()}s=new Pp(d),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new jE(new rv(c),s,u)}function GE(e,t){if(HE(e=Co(e)))return WE("Unsupported field value:",t,e),VE(e,t);if(e instanceof RE)return function(e,t){if(!ME(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));var r=e._toFieldTransform(t);r&&t.fieldTransforms.push(r)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){var r,n=[],i=0,a=T(e);try{for(a.s();!(r=a.n()).done;){var o=GE(r.value,t.bu(i));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Co(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return dg(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var r=Xh.fromDate(e);return{timestampValue:gm(t.serializer,r)}}if(e instanceof Xh){var n=new Xh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:gm(t.serializer,n)}}if(e instanceof NE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof IE)return{bytesValue:mm(t.serializer,e._byteString)};if(e instanceof bE){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Du("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Sm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat(hE(e)))}(e,t)}function VE(e,t){var r={};return wp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ep(e,(function(e,n){var i=GE(n,t.pu(e));null!=i&&(r[e]=i)})),{mapValue:{fields:r}}}function HE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Xh||e instanceof NE||e instanceof IE||e instanceof bE||e instanceof RE)}function WE(e,t,r){if(!HE(r)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(r)){var n=hE(r);throw"an object"===n?t.Du(e+" a custom object"):t.Du(e+" "+n)}}function qE(e,t,r){if((t=Co(t))instanceof OE)return t._internalPath;if("string"==typeof t)return YE(e,t);throw XE("Field path arguments must be of type string or ",e,!1,void 0,r)}var zE=new RegExp("[~\\*/\\[\\]]");function YE(e,t,r){if(t.search(zE)>=0)throw XE("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,r);try{return S(OE,u(t.split(".")))._internalPath}catch(Ye){throw XE("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,r)}}function XE(e,t,r,n,i){var a=n&&!n.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");r&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(n)),o&&(u+=" in document ".concat(i)),u+=")"),new Lh(Nh.INVALID_ARGUMENT,s+e+u)}function KE(e,t){return e.some((function(e){return e.isEqual(t)}))}var JE=function(){function e(t,r,n,i,a){c(this,e),this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}return h(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new bE(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new ZE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(QE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),ZE=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"data",value:function(){return to(g(r.prototype),"data",this).call(this)}}]),r}(JE);function QE(e,t){return"string"==typeof t?YE(e,t):t instanceof OE?t._internalPath:t._delegate._internalPath}function $E(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Lh(Nh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ex=function(){function e(){c(this,e)}return h(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Vp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ih()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",n={};return Ep(e,(function(e,i){n[e]=t.convertValue(i,r)})),n}},{key:"convertGeoPoint",value:function(e){return new NE(Lp(e.latitude),Lp(e.longitude))}},{key:"convertArray",value:function(e,t){var r=this;return(e.values||[]).map((function(e){return r.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var r=Dp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Fp(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Np(e);return new Xh(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var r=Zh.fromString(e);Oh(Hm(r));var n=new Bp(r.get(1),r.get(3)),i=new ep(r.popFirst(5));return n.isEqual(t)||Ah("Document ".concat(i," contains a document reference within a different database (").concat(n.projectId,"/").concat(n.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function tx(e,t,r){return e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t}var rx=function(){function e(t,r){c(this,e),this.hasPendingWrites=t,this.fromCache=r}return h(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),nx=function(e){v(r,e);var t=b(r);function r(e,n,i,a,o,s){var u;return c(this,r),(u=t.call(this,e,n,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return h(r,[{key:"exists",value:function(){return to(g(r.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new ix(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var r=this._document.data.field(QE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}]),r}(JE),ix=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return to(g(r.prototype),"data",this).call(this,e)}}]),r}(nx),ax=function(){function e(t,r,n,i){c(this,e),this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new rx(i.hasPendingWrites,i.fromCache),this.query=n}return h(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var r=this;this._snapshot.docs.forEach((function(n){e.call(t,new ix(r._firestore,r._userDataWriter,n.key,n,new rx(r._snapshot.mutatedKeys.has(n.key),r._snapshot.fromCache),r.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Lh(Nh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var r=0;return e._snapshot.docChanges.map((function(t){var n=new ix(e._firestore,e._userDataWriter,t.doc.key,t.doc,new rx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:n,oldIndex:-1,newIndex:r++}}))}var n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var r=new ix(e._firestore,e._userDataWriter,t.doc.key,t.doc,new rx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(a=(n=n.add(t.doc)).indexOf(t.doc.key)),{type:ox(t.type),doc:r,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function ox(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ih()}}function sx(e){e=pE(e,bE);var t=pE(e.firestore,_E);return oE(TE(t),e._key).then((function(r){return hx(t,e,r)}))}var ux=function(e){v(r,e);var t=b(r);function r(e){var n;return c(this,r),(n=t.call(this)).firestore=e,n}return h(r,[{key:"convertBytes",value:function(e){return new IE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new bE(this.firestore,null,t)}}]),r}(ex);function cx(e){e=pE(e,yE);var t=pE(e.firestore,_E),r=TE(t),n=new ux(t);return $E(e._query),sE(r,e._query).then((function(r){return new ax(t,n,e,r)}))}function lx(e,t,r){e=pE(e,bE);var n=pE(e.firestore,_E),i=tx(e.converter,t,r);return fx(n,[BE(UE(n),"setDoc",e._key,i,null!==e.converter,r).toMutation(e._key,_g.none())])}function dx(e){return fx(pE(e.firestore,_E),[new Bg(e._key,_g.none())])}function fx(e,t){return function(e,t){var r=new jh;return e.asyncQueue.enqueueAndForget(Ot(Pt().mark((function n(){return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=yS,n.next=3,rE(e);case 3:return n.t1=n.sent,n.t2=t,n.t3=r,n.abrupt("return",(0,n.t0)(n.t1,n.t2,n.t3));case 7:case"end":return n.stop()}}),n)})))),r.promise}(TE(e),t)}function hx(e,t,r){var n=r.docs.get(t._key),i=new ux(e);return new nx(e,i,t._key,n,new rx(r.hasPendingWrites,r.fromCache),t.converter)}function px(e){return function(e,t){var r=pE(e.firestore,_E),n=TE(r),i=xp(t,(function(e,t){return new qg(t,e.aggregateType,e._internalFieldPath)}));return function(e,t,r){var n=new jh;return e.asyncQueue.enqueueAndForget(Ot(Pt().mark((function i(){var a;return Pt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,nE(e);case 3:a=i.sent,n.resolve(function(){var e=Ot(Pt().mark((function e(t,r,n){var i,a,o,s,u,c,l,d;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Rh(t),o=Nm(a.serializer,Uv(r),n),s=o.request,u=o.ut,c=o.parent,a.connection.Do||delete s.parent,e.next=4,a.xo("RunAggregationQuery",a.serializer.databaseId,c,s,1);case 4:return l=e.sent.filter((function(e){return!!e.result})),Oh(1===l.length),d=null===(i=l[0].result)||void 0===i?void 0:i.aggregateFields,e.abrupt("return",Object.keys(d).reduce((function(e,t){return e[u[t]]=d[t],e}),{}));case 8:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()(a,t,r)),i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),n.reject(i.t0);case 10:case"end":return i.stop()}}),i,null,[[0,7]])})))),n.promise}(n,e._query,i).then((function(t){return function(e,t,r){var n=new ux(e);return new PE(t,n,r)}(r,e,t)}))}(e,{count:new CE("count")})}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){wh=e}(xs),gs(new Po("firestore",(function(e,r){var n=r.instanceIdentifier,i=r.options,a=e.getProvider("app").getImmediate(),o=new _E(new Uh(e.getProvider("auth-internal")),new Hh(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Lh(Nh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bp(e.options.projectId,t)}(a,n),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),_s(Eh,"4.6.3",e),_s(Eh,"4.6.3","esm2017")}();var vx,gx=ws({apiKey:"AIzaSyDKIy6opqNi10RbNV5uePHWtjgVSuypBTA",authDomain:"auth.app.videogen.io",projectId:"video-gen-271828",storageBucket:"video-gen-271828.appspot.com",messagingSenderId:"963680179378",appId:"1:963680179378:web:b57e293eadd3eca71b25ab",measurementId:"G-ZQ2M5ZV1WM"}),mx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ks(),t=ms(e,"auth");if(t.isInitialized())return t.getImmediate();var r,n=function(e,t){var r=ms(e,"auth");if(r.isInitialized()){var n=r.getImmediate();if(Eo(r.getOptions(),null!==t&&void 0!==t?t:{}))return n;Js(n,"already-initialized")}return r.initialize({options:t})}(e,{popupRedirectResolver:Yf,persistence:[Dd,dd,hd]}),i=fo("authTokenSyncURL");if(i&&"boolean"===typeof isSecureContext&&isSecureContext){var a=new URL(i,location.origin);if(location.origin===a.origin){var o=(r=a.toString(),function(){var e=Ot(Pt().mark((function e(t){var n,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=5;break}return e.next=4,t.getIdTokenResult();case 4:e.t0=e.sent;case 5:if(n=e.t0,!((i=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3)&&i>ih)){e.next=9;break}return e.abrupt("return");case 9:if(a=null===n||void 0===n?void 0:n.token,ah!==a){e.next=12;break}return e.abrupt("return");case 12:return ah=a,e.next=15,fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());!function(e,t,r){Co(e).beforeAuthStateChanged(t,r)}(n,o,(function(){return o(n.currentUser)})),function(e,t,r,n){Co(e).onIdTokenChanged(t,r,n)}(n,(function(e){return o(e)}))}}var s=co("auth");return s&&Lc(n,"http://".concat(s)),n}(gx),yx=function(e,t){var r="string"==typeof e?e:t||"(default)",n=ms("object"==typeof e?e:ks(),"firestore").getImmediate({identifier:r});if(!n._initialized){var i=function(e){var t=co(e);if(t){var r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]}}("firestore");i&&mE.apply(void 0,[n].concat(u(i)))}return n}(gx),bx={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},Sx=new Uint8Array(16);function Ex(){if(!vx&&!(vx="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vx(Sx)}for(var xx=[],wx=0;wx<256;++wx)xx.push((wx+256).toString(16).slice(1));function kx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(xx[e[t+0]]+xx[e[t+1]]+xx[e[t+2]]+xx[e[t+3]]+"-"+xx[e[t+4]]+xx[e[t+5]]+"-"+xx[e[t+6]]+xx[e[t+7]]+"-"+xx[e[t+8]]+xx[e[t+9]]+"-"+xx[e[t+10]]+xx[e[t+11]]+xx[e[t+12]]+xx[e[t+13]]+xx[e[t+14]]+xx[e[t+15]]).toLowerCase()}var _x=function(e,t,r){if(bx.randomUUID&&!t&&!e)return bx.randomUUID();var n=(e=e||{}).random||(e.rng||Ex)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return kx(n)},Tx=function(e){var t=e.generator,r=e.workspaceId,n=e.projectId,i=e.aspectRatio,a=Sn.TimeH.getCurrentSecondsSinceEpoch();return{metadata:{title:"Untitled",workspaceId:r,projectId:n,creationSecondsSinceEpoch:a,lastEditSecondsSinceEpoch:a,aspectRatio:i},generator:t,brandId:null}},Ax=function(e){var t=e.metadata.title.trim().toLowerCase();return""===t||"untitled"===t},Cx=r(22527),Px=r.n(Cx),Ix=Sn.ConfigH.getEnvironment({nodeEnv:"production",videogenEnv:"PROD"}),Ox=Sn.ConfigH.getIsUsingTestStripe({env:Ix,stripeMode:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VIDEOGEN_ENV:"PROD",REACT_APP_NODE_ENV:"production",REACT_APP_COMMIT_INFO:'{"shortSha":"798e492","prod":295}',REACT_APP_FIREBASE_API_KEY:"AIzaSyDKIy6opqNi10RbNV5uePHWtjgVSuypBTA",REACT_APP_FIREBASE_AUTH_DOMAIN:"auth.app.videogen.io",REACT_APP_FIREBASE_PROJECT_ID:"video-gen-271828",REACT_APP_FIREBASE_STORAGE_BUCKET:"video-gen-271828.appspot.com",REACT_APP_FIREBASE_MESSAGE_SENDER_ID:"963680179378",REACT_APP_FIREBASE_APP_ID:"1:963680179378:web:b57e293eadd3eca71b25ab",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-ZQ2M5ZV1WM",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51MsyxeCL8XHlgtoh7Kqjl2DmettykCPYBF7neRAVHk6sUwuF3ergZjga5JThQE8doSUFqGJy4TCWxrZBZNuGWt1R00Wla3xUf8",REACT_APP_STRIPE_TEST_PUBLISHABLE_KEY:"pk_test_51MsyxeCL8XHlgtohdryk9S1ujT3Zit9eCMaSlipz4AIKK0ToWKmb8ozoCBN5x7qpR5P8fcricAk1wuod2uRXMa0t00RgkxBbOn"}.REACT_APP_STRIPE_MODE}),Rx=r(27786);Px().init(Sn.AnalyticsC.MIXPANEL_TOKEN,{debug:!1,track_pageview:!1,persistence:"localStorage"});var Nx=Ix===Sn.ConfigT.Environment.PROD,Lx=function(e){Nx&&Px().time_event(e)},jx=function(e){Nx&&(Px().identify(e),Rx.ZP.initialize([{trackingId:Sn.AnalyticsC.GOOGLE_ANALYTICS_ID,gtagOptions:{userId:e}}]))},Mx=function(e,t){Nx&&("page_view"!==e&&Px().track(e,t),Rx.ZP.event(e,t),window.uetq=window.uetq||[],window.uetq.push("event",e,t))},Dx=function(e){Nx&&(Px().people.set(e),Rx.ZP.set(e))},Fx=function(){Nx&&(Px().reset(),Rx.ZP.reset())},Ux=function(e){Nx&&Px().register(e)},Bx=function(e){return ze(ze({},Object.fromEntries(Object.entries(e.groupIdentifierNumberRecord).map((function(e){var t=k(e,2),r=t[0],n=t[1];return["groupNumber".concat(r),n]})))),{},{workspaceId:e.workspaceId,referralData:e.referralData})},Gx=r(91909),Vx=r.n(Gx),Hx=ya({name:"error",initialState:{recentHandledErrors:[]},reducers:{addRecentHandledError:function(e,t){var r=t.payload.knownError,n=Sn.TimeH.getCurrentSecondsSinceEpoch(),i={knownError:r,dispatchSecondsSinceEpoch:n};e.recentHandledErrors=[].concat(u(e.recentHandledErrors),[i]).filter((function(e){return e.dispatchSecondsSinceEpoch>=n-3}))}}}),Wx=Hx.actions,qx=Hx,zx=r(38504),Yx=r.n(zx),Xx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultErr,r=e.forceHidden;return{serializeError:function(e){return Sn.ErrorH.convertUnknownErrorToSecretKnownError(e,{defaultErr:t,forceHidden:r})}}},Kx=function(e){return{displayName:e.displayName,email:e.email,photoURL:e.photoURL,emailVerified:e.emailVerified,providerId:e.providerId,providerData:e.providerData}},Jx=function(){var e=new URLSearchParams(window.location.search);return Sn.PathH.urlSearchParamsToParamsRecord(e)},Zx="NOT_FOUND";var Qx=function(e,t){return e===t};function $x(e,t){var r="object"===typeof t?t:{equalityCheck:t},n=r.equalityCheck,i=void 0===n?Qx:n,a=r.maxSize,o=void 0===a?1:a,s=r.resultEqualityCheck,u=function(e){return function(t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,i=0;i<n;i++)if(!e(t[i],r[i]))return!1;return!0}}(i),c=1===o?function(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:Zx},put:function(e,r){t={key:e,value:r}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(u):function(e,t){var r=[];function n(e){var n=r.findIndex((function(r){return t(e,r.key)}));if(n>-1){var i=r[n];return n>0&&(r.splice(n,1),r.unshift(i)),i.value}return Zx}return{get:n,put:function(t,i){n(t)===Zx&&(r.unshift({key:t,value:i}),r.length>e&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(o,u);function l(){var t=c.get(arguments);if(t===Zx){if(t=e.apply(null,arguments),s){var r=c.getEntries().find((function(e){return s(e.value,t)}));r&&(t=r.value)}c.put(arguments,t)}return t}return l.clearCache=function(){return c.clear()},l}function ew(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a,o=0,s={memoizeOptions:void 0},u=n.pop();if("object"===typeof u&&(s=u,u=n.pop()),"function"!==typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var c=s.memoizeOptions,l=void 0===c?r:c,d=Array.isArray(l)?l:[l],f=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var r=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return t}(n),h=e.apply(void 0,[function(){return o++,u.apply(null,arguments)}].concat(d)),p=e((function(){for(var e=[],t=f.length,r=0;r<t;r++)e.push(f[r].apply(null,arguments));return a=h.apply(null,e)}));return Object.assign(p,{resultFunc:u,memoizedResultFunc:h,dependencies:f,lastResult:function(){return a},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),p}}var tw,rw=ew($x),nw=function(e){return e.account.countryCode},iw=function(e){return e.account.areAllCurrenciesEnabled},aw={selectSimpleUser:function(e){return e.account.simpleUser},selectIsUserFetched:function(e){return e.account.isUserFetched},selectWorkspaceInfo:function(e){return e.account.workspaceInfo},selectPrivateSimpleUser:function(e){if(null==e.account.simpleUser)throw Sn.ErrorH.newHiddenError("selectPrivateSimpleUser must be called within PrivateGate.");return e.account.simpleUser},selectPrivateWorkspaceInfo:function(e){if(null==e.account.workspaceInfo)throw Sn.ErrorH.newHiddenError("selectPrivateWorkspaceInfo must be called within PrivateGate.");return e.account.workspaceInfo},selectInitialPrivatePageUrlPath:function(e){return e.account.initialPrivatePageUrlPath},selectHasShownInitialPrivatePageUrlPath:function(e){return e.account.hasShownInitialPrivatePageUrlPath},selectCountryCode:nw,selectAreAllCurrenciesEnabled:iw,selectCountryCurrencies:rw([nw,iw,function(e){var t,r;return null!==(t=null===(r=e.account.workspaceInfo)||void 0===r?void 0:r.subscription)&&void 0!==t?t:null},function(e){var t,r;return null!==(t=null===(r=e.account.workspaceInfo)||void 0===r?void 0:r.stripeInvoiceSummaries)&&void 0!==t?t:null}],(function(e,t,r,n){var i;if(null!=r)return[r.stripeCurrency];var a=null===(i=Sn.ArrayH.arrGetLastOrOmit(null!==n&&void 0!==n?n:void 0))||void 0===i?void 0:i.currency;if(null!=a)return[a];if(t)return Sn.PaymentC.ALL_STRIPE_CURRENCIES;switch(e){case"IN":return["inr","usd"];case"BR":return["brl","usd"];case"VN":return["vnd","usd"];case"PK":return["pkr","usd"];case"AT":case"BE":case"CY":case"EE":case"FI":case"FR":case"DE":case"GR":case"IE":case"IT":case"LV":case"LT":case"LU":case"MT":case"NL":case"PT":case"SK":case"SI":case"ES":case"ME":case"XK":case"MC":case"SM":case"VA":return["eur","usd"];case"GB":return["gbp","eur","usd"];case"AU":return["aud","usd"];case"NG":return["ngn","usd"];case"MX":return["mxn","usd"];case"CH":case"LI":return["chf","eur","usd"];case"CA":return["cad","usd"];case"PH":return["php","usd"];case"ID":return["idr","usd"];case"BD":return["bdt","usd"];default:return["usd"]}}))},ow=r(25749),sw=r.n(ow),uw=r(46417),cw=["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IS","IT","LI","LT","LU","LV","MT","NL","NO","PL","PT","RO","SE","SI","SK"],lw=function(){try{Rx.ZP.gtag("consent","update",{ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted",analytics_storage:"granted"}),sw().grantConsent(),Pa.CookieH.setCookie({key:"cookieConsent",value:"true",activeDuration:{years:1}})}catch(e){console.error(e)}},dw=function(){return"true"===Pa.CookieH.getCookie("cookieConsent")},fw=function(){var e=MD(aw.selectCountryCode),r=k((0,t.useState)(!1),2),n=r[0],i=r[1],a=(0,t.useCallback)((function(){i(!1),function(){try{Rx.ZP.gtag("consent","update",{ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",analytics_storage:"denied"}),sw().revokeConsent(),Pa.CookieH.deleteCookie("cookieConsent")}catch(e){console.error(e)}}()}),[i]),o=(0,t.useCallback)((function(){i(!1),lw()}),[i]);return(0,t.useEffect)((function(){if(null!=e){var t=cw.includes(e.toUpperCase()),r=dw();t&&!r?i(!0):t?r&&lw():lw()}else dw()?lw():i(!0)}),[e,i]),n?(0,uw.jsxs)("div",{className:"fixed inset-x-0 bottom-0 flex flex-col justify-between gap-x-8 gap-y-4 bg-white p-6 ring-1 ring-gray-900/10 md:flex-row md:items-center lg:px-8",children:[(0,uw.jsxs)("p",{className:"max-w-4xl text-sm leading-6 text-gray-900",children:["We use essential cookies to ensure VideoGen functions properly, personalize your experience, tailor advertising, and analyze our website's performance. By signing up, you agree to our"," ",(0,uw.jsx)("a",{href:"/privacy-policy",target:"_blank",className:"text-main-600",children:"Privacy Policy"}),"."]}),(0,uw.jsxs)("div",{className:"flex flex-none items-center gap-x-5",children:[(0,uw.jsx)("button",{type:"button",onClick:o,className:"rounded-xl bg-gray-900 px-3 py-2 text-base font-medium text-white shadow-sm transition-colors hover:bg-gray-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-900",children:"Accept all"}),(0,uw.jsx)("button",{type:"button",onClick:a,className:"text-base font-medium leading-6 text-gray-500",children:"Reject all"})]})]}):(0,uw.jsx)(uw.Fragment,{})},hw=function(e){return e.UPGRADE="UPGRADE",e.DELETE_ACCOUNT="DELETE_ACCOUNT",e.MANAGE_SUBSCRIPTION="MANAGE_SUBSCRIPTION",e.EXPORT="EXPORT",e.EXPORT_JOBS="EXPORT_JOBS",e.STORAGE_FILE_PREVIEW="STORAGE_FILE_PREVIEW",e.INITIAL_FEEDBACK="INITIAL_FEEDBACK",e.ACADEMY="ACADEMY",e.EDIT_BRAND="EDIT_BRAND",e.REFRESH_TO_UPDATE="REFRESH_TO_UPDATE",e.VIEW_SIGN_UP_CTA="VIEW_SIGN_UP_CTA",e.CREATE_API_KEY="CREATE_API_KEY",e}({}),pw=(We(tw={},hw.UPGRADE,{showX:!0,requiresProject:!1,isClosable:!0,isPrivate:!0}),We(tw,hw.DELETE_ACCOUNT,{showX:!1,requiresProject:!1,isClosable:!0,isPrivate:!0}),We(tw,hw.MANAGE_SUBSCRIPTION,{showX:!0,requiresProject:!1,isClosable:!0,isPrivate:!0}),We(tw,hw.EXPORT,{showX:!0,requiresProject:!0,isClosable:!0,isPrivate:!0}),We(tw,hw.EXPORT_JOBS,{showX:!0,requiresProject:!0,isClosable:!0,isPrivate:!0}),We(tw,hw.STORAGE_FILE_PREVIEW,{showX:!0,requiresProject:!1,isClosable:!0,isPrivate:!0}),We(tw,hw.INITIAL_FEEDBACK,{showX:!1,requiresProject:!0,isClosable:!0,isPrivate:!0}),We(tw,hw.ACADEMY,{showX:!0,requiresProject:!1,isClosable:!0,isPrivate:!1}),We(tw,hw.EDIT_BRAND,{showX:!0,requiresProject:!1,isClosable:!0,isPrivate:!0}),We(tw,hw.REFRESH_TO_UPDATE,{showX:!1,requiresProject:!1,isClosable:!1,isPrivate:!1}),We(tw,hw.VIEW_SIGN_UP_CTA,{showX:!0,requiresProject:!1,isClosable:!0,isPrivate:!1}),We(tw,hw.CREATE_API_KEY,{showX:!0,requiresProject:!1,isClosable:!0,isPrivate:!0}),tw),vw=ya({name:"modal",initialState:{isModalOpen:!1,modalData:null},reducers:{setModalState:function(e,t){var r=t.payload,n=r.newIsModalOpen,i=r.newModalData;(null==e.modalData||pw[e.modalData.type].isClosable)&&(void 0!==n&&(e.isModalOpen=n),void 0!==i&&(e.modalData=i))}}}),gw=vw.actions,mw=vw,yw=function(e){var t=e.upgradeAction;return function(e,r){Mx("open_upgrade_modal"),e(gw.setModalState({newIsModalOpen:!0,newModalData:{type:hw.UPGRADE,upgradeAction:t}}))}},bw=function(){return function(e,t){Mx("open_delete_account_modal"),e(gw.setModalState({newIsModalOpen:!0,newModalData:{type:hw.DELETE_ACCOUNT}}))}},Sw=function(){return function(e,t){Mx("open_manage_subscription_modal"),e(gw.setModalState({newIsModalOpen:!0,newModalData:{type:hw.MANAGE_SUBSCRIPTION}}))}},Ew=function(){return function(e,t){Mx("open_export_modal"),e(gw.setModalState({newIsModalOpen:!0,newModalData:{type:hw.EXPORT}}))}},xw=function(){return function(e,t){Mx("open_export_jobs_modal"),e(gw.setModalState({newIsModalOpen:!0,newModalData:{type:hw.EXPORT_JOBS}}))}},ww=function(e){var t=e.storageFileId;return function(e,r){Mx("open_storage_file_preview_modal"),e(gw.setModalState({newIsModalOpen:!0,newModalData:{type:hw.STORAGE_FILE_PREVIEW,storageFileId:t}}))}},kw=function(){return function(e,t){Mx("open_initial_feedback_modal"),localStorage.setItem("hasSeenInitialFeedbackModal","true"),e(gw.setModalState({newIsModalOpen:!0,newModalData:{type:hw.INITIAL_FEEDBACK}}))}},_w=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preSelectedTutorialCollection;return function(t,r){Mx("open_resources_modal",{preSelectedTutorialCollection:e}),t(gw.setModalState({newIsModalOpen:!0,newModalData:{type:hw.ACADEMY,preSelectedTutorialCollection:e}}))}},Tw=function(e){var t=e.initialBrand,r=e.isBrandNew;return function(e,n){Mx("open_edit_brand_modal",{initialBrand:t}),e(gw.setModalState({newIsModalOpen:!0,newModalData:{type:hw.EDIT_BRAND,initialBrand:t,isBrandNew:r}}))}},Aw=function(){return function(e,t){Mx("open_refresh_to_update_modal"),e(gw.setModalState({newIsModalOpen:!0,newModalData:{type:hw.REFRESH_TO_UPDATE}}))}},Cw=function(){return function(e,t){Mx("open_view_sign_up_cta_modal"),e(gw.setModalState({newIsModalOpen:!0,newModalData:{type:hw.VIEW_SIGN_UP_CTA}}))}},Pw=function(){return function(e,t){Mx("open_create_api_key_modal"),e(gw.setModalState({newIsModalOpen:!0,newModalData:{type:hw.CREATE_API_KEY}}))}},Iw=function(){return function(e,t){var r=t().modal.modalData;null!=r&&pw[r.type].isClosable&&e(gw.setModalState({newIsModalOpen:!1}))}},Ow=ka("account/signUpWithEmailPassword",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.email,i=t.password,Sn.StringH.isStrValidEmail(n)){e.next=3;break}throw Sn.ErrorH.newWarningError("Invalid email address.");case 3:if(i){e.next=5;break}throw Sn.ErrorH.newWarningError("Password cannot be empty.");case 5:return lw(),e.next=8,Bl(mx,n,i);case 8:return a=e.sent,o=a.user,s=null==o.metadata.creationTime?new Date:new Date(o.metadata.creationTime),u=null==o.metadata.lastSignInTime?new Date:new Date(o.metadata.lastSignInTime),jx(o.uid),Mx("sign_up",{$email:o.email,$name:o.displayName,$created:s,$provider:o.providerId}),Dx({$email:o.email,$name:o.displayName,$created:s,$last_login:u}),window.uetq=window.uetq||[],window.uetq.push("set",{pid:{em:o.email}}),r.dispatch(Yw.sendVerificationEmail({user:o})),r.dispatch(Yw.createWorkspace()),e.abrupt("return",{simpleUser:Kx(o)});case 20:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to create new account.")})),Rw=ka("account/signInWithEmailPassword",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.email,o=t.password,Sn.StringH.isStrValidEmail(a)){e.next=3;break}throw Sn.ErrorH.newWarningError("Invalid email address.");case 3:if(o){e.next=5;break}throw Sn.ErrorH.newWarningError("Password cannot be empty.");case 5:return lw(),e.next=8,Vl(mx,a,o);case 8:return s=e.sent,u=s.user,c=null==u.metadata.lastSignInTime?new Date:new Date(u.metadata.lastSignInTime),jx(null!==(n=null===(i=mx.currentUser)||void 0===i?void 0:i.uid)&&void 0!==n?n:""),Mx("sign_in",{$email:u.email,$name:u.displayName,$last_login:c,$provider:u.providerId}),u.emailVerified||r.dispatch(Yw.sendVerificationEmail({user:u})),e.abrupt("return",{simpleUser:Kx(u)});case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to sign in to account.")})),Nw=ka("account/signInWithGoogle",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new gl,lw(),e.next=4,Qd(mx,n);case 4:return i=e.sent,a=i.user,jx(a.uid),o=null==a.metadata.creationTime?new Date:new Date(a.metadata.creationTime),s=null==a.metadata.lastSignInTime?new Date:new Date(a.metadata.lastSignInTime),null!==(u=nd(i))&&void 0!==u&&u.isNewUser&&(Mx("sign_up",{$email:a.email,$name:a.displayName,$created:o,$provider:a.providerId}),r.dispatch(Yw.createWorkspace())),Dx({$email:a.email,$name:a.displayName,$created:o,$last_login:s}),window.uetq=window.uetq||[],window.uetq.push("set",{pid:{em:a.email}}),e.abrupt("return",{simpleUser:Kx(a)});case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to sign in with Google.")})),Lw=ka("account/reauthenticateUser",Ot(Pt().mark((function e(){var t,r,n,i,a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=mx.currentUser){e.next=2;break}throw Sn.ErrorH.newWarningError("Please sign in to perform this action.");case 2:if(lw(),!mx.currentUser.providerData.some((function(e){return"google.com"===e.providerId}))){e.next=11;break}return t=new gl,e.next=7,ef(mx.currentUser,t);case 7:return r=e.sent,e.abrupt("return",{newSimpleUser:Kx(r.user)});case 11:if(!mx.currentUser.providerData.some((function(e){return"password"===e.providerId}))){e.next=26;break}if(n=prompt("Enter your VideoGen password.")){e.next=15;break}throw Sn.ErrorH.newWarningError("Password cannot be empty.");case 15:if(null!=mx.currentUser.email){e.next=17;break}throw Sn.ErrorH.newInternalError("Failed to get email for account with email password sign in.");case 17:return i=fl.credential(mx.currentUser.email,n),e.next=20,Nl(mx.currentUser,i);case 20:return a=e.sent,o=a.user,s=null==o.metadata.lastSignInTime?new Date:new Date(o.metadata.lastSignInTime),Dx({$email:o.email,$name:o.displayName,$last_login:s}),jx(o.uid),e.abrupt("return",{newSimpleUser:Kx(a.user)});case 26:throw Sn.ErrorH.newInternalError("Cannot reauthenticate user without any supported provider ids.",{rawData:{providerData:mx.currentUser.providerData}});case 27:case"end":return e.stop()}}),e)}))),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to reauthenticate account. Try logging out and signing back in.")})),jw=ka("account/reloadUser",Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==mx.currentUser){e.next=5;break}return lw(),e.next=4,mx.currentUser.reload();case 4:jx(mx.currentUser.uid);case 5:return e.abrupt("return",{newSimpleUser:null==mx.currentUser?null:Kx(mx.currentUser)});case 6:case"end":return e.stop()}}),e)}))),Xx({defaultErr:Sn.ErrorH.newHiddenError("Failed to reload user.")})),Mw=ka("account/resetPassword",function(){var e=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.email){e.next=3;break}throw Sn.ErrorH.newWarningError("Email for password reset cannot be empty.");case 3:return Mx("reset_password_attempt",{$email:r}),e.next=6,Fl(mx,r);case 6:return St.info("Email link sent to ".concat(r," for password reset. Check spam if it doesn't appear in your inbox.")),e.abrupt("return",void 0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to reset password.")})),Dw=ka("account/checkEmailVerified",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=mx.currentUser){e.next=2;break}throw Sn.ErrorH.newWarningError("Sign in to perform this action.");case 2:if(!mx.currentUser.emailVerified){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,r.dispatch(jw()).unwrap();case 6:if(i=e.sent,null===(a=i.newSimpleUser)||void 0===a||!a.emailVerified){e.next=10;break}return e.abrupt("return");case 10:throw Sn.ErrorH.newWarningError("Please verify your email using the link sent to ".concat(null!==(n=null===a||void 0===a?void 0:a.email)&&void 0!==n?n:"your email","."));case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newHiddenError("Failed to check if email is verified.")})),Fw=ka("account/sendVerificationEmail",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.user,null!=(a=null!==i&&void 0!==i?i:mx.currentUser)){e.next=4;break}throw Sn.ErrorH.newWarningError("Please sign in to verify your email.");case 4:if(!a.emailVerified){e.next=6;break}return e.abrupt("return");case 6:return Mx("send_verification_email"),o=Ix===Sn.ConfigT.Environment.LOCAL?Sn.ConfigT.Environment.PROD:Ix,e.next=10,Hl(a,{url:Sn.AppH.getAppBasePath(o)});case 10:return St.success("Email verification link sent to ".concat(null!==(n=a.email)&&void 0!==n?n:"your email",". It may be in your spam folder.")),e.abrupt("return",void 0);case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to send verification email.")})),Uw=function(){var e=Ot(Pt().mark((function e(t){var r,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,n=t.actionCallback,e.prev=1,e.next=4,n();case 4:e.next=15;break;case 6:if(e.prev=6,e.t0=e.catch(1),"auth/requires-recent-login"!==Sn.ErrorT.castAsFirebaseError(e.t0).code){e.next=14;break}return e.next=12,r(Yw.reauthenticateUser()).unwrap();case 12:return e.next=14,n();case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),Bw=ka("account/updateUserEmail",function(){var e=Ot(Pt().mark((function e(t,r){var n,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.newEmail,null!=mx.currentUser){e.next=3;break}throw Sn.ErrorH.newWarningError("Please sign in to update your user profile.");case 3:if(i=mx.currentUser,n){e.next=6;break}throw Sn.ErrorH.newWarningError("Email cannot be empty.");case 6:if(Sn.StringH.isStrValidEmail(n)){e.next=8;break}throw Sn.ErrorH.newWarningError("Invalid email address.");case 8:if(n!==i.email){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Uw({dispatch:r.dispatch,actionCallback:function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ql(i,n);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 12:St.info("Confirm your email change using the link sent to ".concat(n,"."));case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to update email.")})),Gw=ka("account/updateUserProfile",function(){var e=Ot(Pt().mark((function e(t,r){var n,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.newDisplayName,null!=mx.currentUser){e.next=3;break}throw Sn.ErrorH.newWarningError("Please sign in to update your user profile.");case 3:if(i=mx.currentUser,n){e.next=6;break}throw Sn.ErrorH.newWarningError("Display name cannot be empty.");case 6:if(n!==i.displayName){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,Uw({dispatch:r.dispatch,actionCallback:function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kl(i,{displayName:n});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 10:St.success("Successfully updated user profile!");case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to update user profile.")})),Vw=ka("account/logOut",Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mx("logout"),Fx(),e.next=4,id(mx);case 4:return Pa.CookieH.setCookie({key:"authState",value:"logged-out",activeDuration:{years:1}}),e.abrupt("return",void 0);case 6:case"end":return e.stop()}}),e)}))),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to log out.")})),Hw=ka("account/createWorkspace",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c,l,d,f;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Jx(),s={internalReferrerPath:null!==(n=o.internalReferrerPath)&&void 0!==n?n:null,externalReferrerUrl:null!==(i=Pa.CookieH.getCookie("externalReferrerUrl"))&&void 0!==i?i:null,source:null!==(a=Pa.CookieH.getCookie("source"))&&void 0!==a?a:null},e.next=4,Xw({dispatch:r.dispatch});case 4:return u=e.sent,e.next=7,Sn.ApiWorkspaceE.CreateWorkspace.call(u,{referralData:s});case 7:return c=e.sent,l=c.resData,d=l.newWorkspaceInfo,f=Bx(d),Mx("create_workspace",f),r.dispatch(yw({upgradeAction:null})),Dx(f),e.abrupt("return",{newWorkspaceInfo:d});case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newHiddenError("Failed to create workspace."),forceHidden:!0})),Ww=ka("account/getWorkspaceContext",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.getState(),i=n.account,a=null==i.workspaceInfo?{type:Sn.ApiT.WorkspaceContextType.UNAUTHED}:{type:Sn.ApiT.WorkspaceContextType.AUTHED,workspaceInfo:i.workspaceInfo},e.abrupt("return",{workspaceContext:a});case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newInternalError("Failed to get workspace context.")})),qw=ka("account/completeOnboardingTask",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.task,i=r.getState(),null!=(a=i.account).workspaceInfo&&null==a.workspaceInfo.onboardingTaskCompletionTimeRecord[n]){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Xw({dispatch:r.dispatch});case 6:return o=e.sent,e.next=9,Sn.ApiWorkspaceE.CompleteOnboardingTask.call(o,{task:n});case 9:Mx("complete_onboarding_task",{task:n});case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newHiddenError("Failed to save onboarding task completion."),forceHidden:!0})),zw=ka("account/getCountryCode",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ix===Sn.ConfigT.Environment.LOCAL?"http://ip-api.com/json?fields=countryCode":"https://pro.ip-api.com/json?key=lRgQP8ny7I0J2dF&fields=countryCode",e.next=3,fetch(n);case 3:return i=e.sent,e.next=6,i.json();case 6:if(a=e.sent,!(Sn.TypeT.isObject(a)&&"countryCode"in a&&Sn.TypeT.isString(a.countryCode))){e.next=9;break}return e.abrupt("return",{countryCode:a.countryCode});case 9:throw Sn.ErrorH.newHiddenError("Failed to get geolocation data in expected format",{rawData:{geolocationData:a}});case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newHiddenError("Failed to get country code."),forceHidden:!0})),Yw={signUpWithEmailPassword:Ow,signInWithEmailPassword:Rw,signInWithGoogle:Nw,reauthenticateUser:Lw,reloadUser:jw,resetPassword:Mw,checkEmailVerified:Dw,sendVerificationEmail:Fw,updateUserEmail:Bw,updateUserProfile:Gw,logOut:Vw,createWorkspace:Hw,getWorkspaceContext:Ww,completeOnboardingTask:qw,getCountryCode:zw},Xw=function(){var e=Ot(Pt().mark((function e(t){var r,n,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,e.next=3,n(Yw.getWorkspaceContext()).unwrap();case 3:return i=e.sent,a=i.workspaceContext,e.t0=Ix,e.t1=a,e.t2=function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(Yw.checkEmailVerified()).unwrap();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=10,null===(r=mx.currentUser)||void 0===r?void 0:r.getIdToken();case 10:return e.t3=e.sent,o={env:e.t0,workspaceContext:e.t1,checkEmailVerified:e.t2,userIdToken:e.t3},e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kw=ka("payment/getPromotionCodeSummary",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.stripePromotionCode,e.prev=1,e.next=4,Xw({dispatch:r.dispatch});case 4:return i=e.sent,e.next=7,Sn.ApiPaymentE.GetPromotionCodeSummary.call(i,{stripePromotionCode:n});case 7:return a=e.sent,o=a.resData,s=o.stripePromotionCodeSummary,e.abrupt("return",{stripePromotionCodeSummary:s});case 13:throw e.prev=13,e.t0=e.catch(1),Sn.ErrorH.convertUnknownErrorToSecretKnownError(e.t0,{defaultErr:Sn.ErrorH.newPromotionCodeError("Failed to apply promotion code ".concat(n,"."),{invalidStripePromotionCode:n})});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newWarningError("Failed to apply promotion code.")})),Jw=ka("payment/voidInvoice",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.stripeInvoiceId,e.next=3,Xw({dispatch:r.dispatch});case 3:return i=e.sent,e.next=6,Sn.ApiPaymentE.VoidInvoice.call(i,{stripeInvoiceId:n});case 6:return a=e.sent,o=a.resData,s=o.stripeInvoiceSummary,e.abrupt("return",{stripeInvoiceSummary:s});case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newWarningError("Failed to void invoice.")})),Zw={getPromotionCodeSummary:Kw,voidInvoice:Jw,trackUpgradeSuccess:function(e){var t=e.upgradeSubscriptionType,r=e.upgradeSubscriptionPaymentFrequency,n=e.upgradeStripeCurrency,i=e.upgradeSubscriptionStatus;return function(e,a){try{var o=a().account.workspaceInfo;if(null==o)throw Sn.ErrorH.newInternalError("trackUpgradeSuccess must be called within PrivateGate");var s=Sn.PaymentH.getDefaultPriceUnitAmount({groupIdentifierNumberRecord:o.groupIdentifierNumberRecord,workspaceCreationSse:o.creationSecondsSinceEpoch,subscriptionType:t,subscriptionPaymentFrequency:r,stripeCurrency:"usd"});if(null==s)return;var u=s/100,c=function(){switch(r){case Sn.PaymentT.SubscriptionPaymentFrequency.MONTHLY:return 5*u;case Sn.PaymentT.SubscriptionPaymentFrequency.YEARLY:return 1.5*u;default:return Sn.ErrorH.assertNever(r)}}(),l=Sn.PaymentC.STRIPE_CURRENCY_TIER_MAP[n],d=c*function(){if(Sn.PaymentH.subscriptionTypeComparator.isGreaterThanOrEqualTo(t,Sn.PaymentT.SubscriptionType.BUSINESS))switch(l){case"1":case"2":return 1;case"3":return r===Sn.PaymentT.SubscriptionPaymentFrequency.YEARLY?.75:1;default:return Sn.ErrorH.assertNever(l)}else switch(l){case"1":return 1;case"2":return.6;case"3":return r===Sn.PaymentT.SubscriptionPaymentFrequency.YEARLY?.3:.4;default:return Sn.ErrorH.assertNever(l)}}()*function(){switch(i){case"active":return 1;case"trialing":return.2;default:return Sn.ErrorH.assertNever(i)}}();Mx("upgrade_success",{value:d,revenue_value:d,currency:"USD",transaction_id:"T_".concat(o.workspaceId,"_").concat(t,"_").concat(r,"_upgrade_success_1"),upgradeSubscriptionType:t,upgradeSubscriptionPaymentFrequency:r,upgradeStripeCurrency:n}),sw().pageView(),sw().track("Purchase",{value:d,currency:"USD"}),Dx({subscriptionType:t,subscriptionPaymentFrequency:r}),Ux({subscriptionType:t,subscriptionPaymentFrequency:r})}catch(f){e(UM.handleError(f,{defaultErr:Sn.ErrorH.newHiddenError("Failed to track upgrade success."),forceHidden:!0}))}}}},Qw={inputtedStripePromotionCode:null,stripePromotionCodeSummaryRecord:Sn.TypeT.getEmptyPartialRecord(),isStripePromotionCodeLoading:!1,rewardfulInfo:null},$w=function(e){var t=e.state,r=e.invalidStripePromotionCode;t.inputtedStripePromotionCode===r&&(t.inputtedStripePromotionCode=null),t.stripePromotionCodeSummaryRecord[r]=void 0},ek=ya({name:"payment",initialState:Qw,reducers:{setInputtedStripePromotionCode:function(e,t){var r=t.payload.newInputtedStripePromotionCode;e.inputtedStripePromotionCode=null==r?null:r.toUpperCase()},showStripePromotionCodeInput:function(e,t){null==e.inputtedStripePromotionCode&&(e.inputtedStripePromotionCode="")},handleInvalidStripePromotionCode:function(e,t){var r=t.payload.invalidStripePromotionCode;$w({state:e,invalidStripePromotionCode:r})},setRewardfulInfo:function(e,t){var r=t.payload.newRewardfulInfo;e.rewardfulInfo=r}},extraReducers:function(e){e.addCase(Zw.getPromotionCodeSummary.pending,(function(e,t){e.isStripePromotionCodeLoading=!0})).addCase(Zw.getPromotionCodeSummary.fulfilled,(function(e,t){var r=t.meta.arg.stripePromotionCode,n=t.payload.stripePromotionCodeSummary;e.isStripePromotionCodeLoading=!1,e.stripePromotionCodeSummaryRecord[r]=n})).addCase(Zw.getPromotionCodeSummary.rejected,(function(e,t){var r=t.meta.arg.stripePromotionCode;$w({state:e,invalidStripePromotionCode:r}),e.isStripePromotionCodeLoading=!1}))}}),tk=ek.actions,rk=ek,nk=function(){try{return Sn.CommitT.castAsCommitInfo(JSON.parse('{"shortSha":"798e492","prod":295}'))}catch(e){return null}}(),ik=function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ix!==Sn.ConfigT.Environment.LOCAL){e.next=2;break}throw Sn.ErrorH.newInternalError("Cannot access frontend latest commit info locally");case 2:return e.prev=2,e.next=5,Sn.CommitH.getServiceLatestCommitInfo({serviceType:"frontend",remoteEnv:Ix});case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(2),Sn.ErrorH.convertUnknownErrorToSecretKnownError(e.t0,{defaultErr:Sn.ErrorH.newHiddenError("Failed to fetch latest commit info."),forceHidden:!0});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),ak=function(e){return e.IS_PAUSED="IS_PAUSED",e.IS_PLAYING="IS_PLAYING",e.IS_AT_END="IS_AT_END",e.IS_STALE="IS_STALE",e}({}),ok=r(1905),sk=r.n(ok),uk=function(e){if(null==e.project.project)throw Sn.ErrorH.newHiddenError("selectProjectGenerator must be called within ProjectGate.");return e.project.project.generator},ck=function(e){var t,r;return null!==(t=null===(r=e.project.project)||void 0===r?void 0:r.generator.block)&&void 0!==t?t:null},lk=function(e){if(null==e.project.project)throw Sn.ErrorH.newHiddenError("selectProjectBlock must be called within ProjectGate.");return e.project.project.generator.block},dk=function(e){if(null==e.project.project)throw Sn.ErrorH.newHiddenError("selectProjectBackground must be called within ProjectGate.");return e.project.project.generator.background},fk=function(e){if(null==e.project.project)throw Sn.ErrorH.newHiddenError("selectProjectVoice must be called within ProjectGate.");return e.project.project.generator.voice},hk=function(e){if(null==e.project.project)throw Sn.ErrorH.newHiddenError("selectProjectCaptionStyle must be called within ProjectGate.");return e.project.project.generator.captionStyle},pk=function(e){if(null==e.project.project)throw Sn.ErrorH.newHiddenError("selectProjectLastProjectwideGenerationInput must be called within ProjectGate.");return e.project.project.generator.lastProjectwideGenerationInput},vk=function(e){return e.project.expandedGeneratedScriptElements},gk=function(e){return e.project.timelineCurrentTime},mk=function(e){return e.project.isPreviewPlaying},yk=rw([ck],(function(e){return null==e?0:Sn.ProjectH.getBlockDuration(e)})),bk=rw([vk],(function(e){return null==e?null:Sn.ScriptH.expandedGeneratedScriptElementsToAudioAssetReferences(e)})),Sk=rw([vk,hk],(function(e,t){return null==e?null:Sn.ScriptH.expandedGeneratedScriptElementsToExpandedCaptions({expandedGeneratedScriptElements:e,captionStyle:t})})),Ek=rw([aw.selectPrivateWorkspaceInfo,uk],(function(e,t){return null==Sn.GeneratorH.getGeneratorErrorMessage(t,{workspaceInfo:e})})),xk=rw([lk,fk],(function(e,t){return Sn.ScriptH.parseScriptElements({scriptText:e.draftText,isVgmlEnabled:!0,defaultTtsVoice:t.ttsVoice,defaultVolume:t.volume})})),wk=rw([lk,dk,fk,pk,xk],(function(e,t,r,n,i){var a=e.backgroundVisualAssetReferences,o=e.generatedScriptElements;if(null==n||null==a||null==o||i.length!==o.length)return!0;if(!sk()(t,n.background))return!0;if(!sk()(r,n.voice))return!0;var s=i.some((function(e,t){var r=Sn.ArrayH.arrGet(o,t),n=function(){switch(r.tag){case Sn.ScriptT.ScriptTag.SPEECH:return{tag:r.tag,text:r.text,voice:r.voice,volume:r.volume,hidden:r.hidden};case Sn.ScriptT.ScriptTag.PAUSE:return{tag:r.tag,time:r.time};default:return Sn.ErrorH.assertNever(r)}}();return!sk()(e,n)}));return!!s})),kk={selectIsProjectLoaded:function(e){return null!=e.project.project},selectOptionalProjectId:function(e){var t,r;return null!==(t=null===(r=e.project.project)||void 0===r?void 0:r.metadata.projectId)&&void 0!==t?t:null},selectProjectId:function(e){if(null==e.project.project)throw Sn.ErrorH.newHiddenError("selectProjectId must be called within ProjectGate.");return e.project.project.metadata.projectId},selectProjectTitle:function(e){if(null==e.project.project)throw Sn.ErrorH.newHiddenError("selectProjectTitle must be called within ProjectGate.");return e.project.project.metadata.title},selectProjectAspectRatio:function(e){if(null==e.project.project)throw Sn.ErrorH.newHiddenError("selectProjectAspectRatio must be called within ProjectGate.");return e.project.project.metadata.aspectRatio},selectProjectLastEditSecondsSinceEpoch:function(e){if(null==e.project.project)throw Sn.ErrorH.newHiddenError("selectProjectLastEditSecondsSinceEpoch must be called within ProjectGate.");return e.project.project.metadata.lastEditSecondsSinceEpoch},selectProjectGenerator:uk,selectOptionalBlock:ck,selectProjectBlock:lk,selectProjectBackground:dk,selectProjectMusic:function(e){if(null==e.project.project)throw Sn.ErrorH.newHiddenError("selectProjectMusic must be called within ProjectGate.");return e.project.project.generator.music},selectProjectVoice:fk,selectProjectCaptionStyle:hk,selectProjectLastProjectwideGenerationInput:pk,selectOptionalProjectInternalInfo:function(e){return e.project.projectInternalInfo},selectExpandedGeneratedScriptElements:vk,selectExpandedBackgroundVisualAssetReferences:function(e){return e.project.expandedBackgroundVisualAssetReferences},selectTimelineCurrentTime:gk,selectIsPreviewPlaying:mk,selectLastSavedEditSecondsSinceEpoch:function(e){return e.project.lastSavedEditSecondsSinceEpoch},selectFailedProjectSaveAttemptsStreak:function(e){return e.project.failedSaveAttemptsStreak},selectIsShowingGeneratorErrors:function(e){return e.project.isShowingGeneratorErrors},selectIsGenerationLoading:function(e){return e.project.isGenerationLoading},selectIsExportInitiationLoading:function(e){return e.project.isExportInitiationLoading},selectIsPreGeneratorLoading:function(e){return e.project.isPreGeneratorLoading},selectHasTriggeredUpgradeFromPause:function(e){return e.project.hasTriggeredUpgradeFromPause},selectProjectSidePanelSelection:function(e){return e.project.projectSidePanelSelection},selectIsProjectSidePanelOpen:function(e){return e.project.isProjectSidePanelOpen},selectFocusedBackgroundRefId:function(e){return e.project.focusedBackgroundRefId},selectSelectedBackgroundRefId:function(e){return e.project.selectedBackgroundRefId},selectTimelineDuration:yk,selectExpandedAudioAssetReferences:bk,selectProjectExpandedCaptions:Sk,selectProjectIsGeneratorValid:Ek,selectProjectIsGenerationRequired:wk,selectActionButtonState:rw([wk,gk,yk,mk],(function(e,t,r,n){return e?ak.IS_STALE:t>=r?ak.IS_AT_END:n?ak.IS_PLAYING:ak.IS_PAUSED}))},_k=function(e){return e.media.storageFileSearchQueries},Tk=function(e){return e.media.storageIdFileRecord},Ak=rw([_k],(function(e){var t=e.flatMap((function(e){return e.resultStorageFileIds}));return Array.from(new Set(t))})),Ck={selectStorageFileSearchQueries:_k,selectStorageIdFileRecord:Tk,selectStockVisualAssetMetadataStore:function(e){return e.media.stockVisualAssetMetadataStore},selectIsUploadLoading:function(e){return e.media.isUploadLoading},selectAllStorageFileIds:Ak,selectAllStorageFiles:rw([Ak,Tk],(function(e,t){return Sn.TypeT.getArrayWithoutOmissions(e.map((function(e){return t[e]})))}))},Pk=ka("media/getHydratedStorageFiles",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c,l,d,f,h;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.unionSearchFilters,i=t.includeSignedWriteUrls,a=t.includeThumbnailSignedUrls,o=r.getState(),s=o.media,u=Sn.TimeH.getCurrentMillisecondsSinceEpoch(),0!==(c=n.filter((function(e){return!s.storageFileSearchQueries.some((function(t){return sk()(t.searchFilter,e)&&t.lastCompletedQueryIncludedSignedWriteUrls===i&&t.lastCompletedQueryIncludedThumbnailSignedUrls===a&&null!=t.lastCompletedQueryMsSinceEpoch&&t.lastCompletedQueryMsSinceEpoch>u-1e3}))}))).length){e.next=7;break}return e.abrupt("return",{});case 7:return e.next=9,Xw({dispatch:r.dispatch});case 9:return l=e.sent,e.next=12,Sn.ApiStorageE.GetHydratedWorkspaceStorageFiles.call(l,{unionSearchFilters:c,includeSignedWriteUrls:i,includeThumbnailSignedUrls:a});case 12:return d=e.sent,f=d.resData,h=f.hydratedStorageFiles,e.abrupt("return",{hydratedStorageFiles:h});case 16:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to get media files.")})),Ik=ka("media/hydrateStorageFiles",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c,l,d,f,h;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.storageFilesOrFileIds,i=t.includeSignedWriteUrls,a=t.includeThumbnailSignedUrls,o=r.getState(),s=o.media,0!==(u=Sn.TypeT.getArrayWithoutOmissions(n.map((function(e){return Sn.TypeT.isString(e)?s.storageIdFileRecord[e]:e})))).length){e.next=5;break}return e.abrupt("return",{hydratedStorageFiles:u});case 5:return c=u.map((function(e){return Sn.StorageH.constructStorageFileHydrationRequest({storageFile:e,includeSignedWriteUrls:i,includeThumbnailSignedUrls:a})})),e.next=8,Xw({dispatch:r.dispatch});case 8:return l=e.sent,e.next=11,Sn.ApiStorageE.HydrateWorkspaceStorageFiles.call(l,{storageFileHydrationRequests:c,storageFiles:u,includeSignedWriteUrls:i,includeThumbnailSignedUrls:a});case 11:return d=e.sent,f=d.resData,h=f.hydratedStorageFiles,e.abrupt("return",{hydratedStorageFiles:h});case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to load media files.")})),Ok=ka("media/rehydrateExpiringReadUrls",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c,l,d,f;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.expirationBufferMilliseconds,i=r.getState(),a=Ck.selectAllStorageFiles(i),o=!1,s=[],a.forEach((function(e){var t=Sn.StorageH.isHydratedUrlExpiring({hydratedUrl:e.storageFileMetadata.hydratedUrlRecord[Sn.StorageT.WorkspaceStorageFileSignedUrlType.READ],expirationBufferMilliseconds:n}),r=Sn.StorageH.isHydratedUrlExpiring({hydratedUrl:e.storageFileMetadata.hydratedUrlRecord[Sn.StorageT.WorkspaceStorageFileSignedUrlType.THUMBNAIL_READ],expirationBufferMilliseconds:n});(t||r)&&s.push(e),r&&(o=!0)})),0!==s.length){e.next=8;break}return e.abrupt("return",{rehydratedStorageFiles:[]});case 8:return u=s.map((function(e){return Sn.StorageH.constructStorageFileHydrationRequest({storageFile:e,includeSignedWriteUrls:!1,includeThumbnailSignedUrls:o})})),e.next=11,Xw({dispatch:r.dispatch});case 11:return c=e.sent,e.next=14,Sn.ApiStorageE.HydrateWorkspaceStorageFiles.call(c,{storageFileHydrationRequests:u,storageFiles:s,includeSignedWriteUrls:!1,includeThumbnailSignedUrls:o});case 14:return l=e.sent,d=l.resData,f=d.hydratedStorageFiles,e.abrupt("return",{rehydratedStorageFiles:f});case 18:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newHiddenError("Failed to rehydrate expiring read urls."),forceHidden:!0})),Rk=ka("media/uploadStorageFiles",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c,l,d,f,h,p,v,g,m;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(a=t.fileList).length){e.next=3;break}return e.abrupt("return",{hydratedUploadedStorageFiles:[]});case 3:if(o=null!==(n=null===(i=r.getState().project.project)||void 0===i?void 0:i.metadata.projectId)&&void 0!==n?n:null,s={type:Sn.StorageT.WorkspaceStorageScopeType.GLOBAL},!(a.length>Sn.StorageC.MAX_CONCURRENT_GLOBAL_UPLOADS)){e.next=7;break}throw Sn.ErrorH.newWarningError("Cannot upload more than ".concat(Sn.StorageC.MAX_CONCURRENT_GLOBAL_UPLOADS," files at once."),{rawData:{numNewUploadSummaries:a.length}});case 7:return u=Sn.TypeT.getEmptyPartialRecord(),c=Sn.TypeT.getEmptyPartialRecord(),e.next=11,Promise.all(Array.from(a).map(function(){var e=Ot(Pt().mark((function e(t){var r,n,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn.StorageH.webFileToWorkspaceStorageFileWithThumbnail({file:t,storageScope:s,sourceProjectId:o});case 2:return r=e.sent,n=r.storageFile,i=r.thumbnailFile,u[n.storageFileId]=t,null!=i&&(c[n.storageFileId]=i),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:return l=e.sent,e.next=14,r.dispatch(Ik({storageFilesOrFileIds:l,includeSignedWriteUrls:!0,includeThumbnailSignedUrls:!0})).unwrap();case 14:return d=e.sent,f=d.hydratedStorageFiles,e.next=18,Xw({dispatch:r.dispatch});case 18:h=e.sent,p=[],v=T(f),e.prev=21,m=Pt().mark((function e(){var t,n,i,a,o,l,d,f,v,m,y,b,S,E,x,w;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=g.value,e.prev=1,n=t.storageFileMetadata,i=n.fileBytes,a=n.hydratedUrlRecord,o=n.thumbnailMetadata,null!=(l=a[Sn.StorageT.WorkspaceStorageFileSignedUrlType.WRITE])){e.next=7;break}throw Sn.ErrorH.newInternalError("hydratedStorageFile does not have write url.");case 7:if(null!=(d=u[t.storageFileId])){e.next=10;break}throw Sn.ErrorH.newInternalError("Failed to get file from uploadedStorageIdWebFileRecord.");case 10:if(null!=(f=c[t.storageFileId])||null==o){e.next=13;break}throw Sn.ErrorH.newInternalError("Failed to get thumbnail file for storage file with thumbnailMetadata.");case 13:if(null==f||null!=o){e.next=15;break}throw Sn.ErrorH.newInternalError("Mistakenly generated thumbnail file for storage file without thumbnailMetadata.");case 15:return v=Sn.StorageH.storageFileToDisplayFileName({storageFile:t,storageFileSubtype:Sn.StorageT.WorkspaceStorageFileSubtype.PRIMARY}),m=function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn.ApiH.fetchWithTimeout({url:l.signedUrl,requestInit:{method:"PUT",body:d,headers:{"Content-Type":"application/octet-stream","X-Upload-Content-Length":"".concat(i),"Content-Disposition":'attachment; filename="'.concat(v,'"')}},resContentType:Sn.ApiT.ResContentType.TEXT,castAsResData:Sn.TypeT.castAsUnknown,timeoutSeconds:Sn.StorageC.STORAGE_UPLOAD_TIMEOUT_SECONDS,throwSecretError:!1});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Ot(Pt().mark((function e(){var r,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=o&&null!=f){e.next=2;break}return e.abrupt("return");case 2:if(null!=(r=a[Sn.StorageT.WorkspaceStorageFileSignedUrlType.THUMBNAIL_WRITE])){e.next=5;break}throw Sn.ErrorH.newInternalError("hydratedStorageFile with thumbnailMetadata does not have thumbnail write url.");case 5:return n=Sn.StorageH.storageFileToDisplayFileName({storageFile:t,storageFileSubtype:Sn.StorageT.WorkspaceStorageFileSubtype.THUMBNAIL}),e.next=8,Sn.ApiH.fetchWithTimeout({url:r.signedUrl,requestInit:{method:"PUT",body:f,headers:{"Content-Type":"application/octet-stream","X-Upload-Content-Length":"".concat(o.fileBytes),"Content-Disposition":'attachment; filename="'.concat(n,'"')}},resContentType:Sn.ApiT.ResContentType.TEXT,castAsResData:Sn.TypeT.castAsUnknown,timeoutSeconds:Sn.StorageC.STORAGE_UPLOAD_TIMEOUT_SECONDS,throwSecretError:!1});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=20,Promise.all([m(),y()]);case 20:return e.next=22,Sn.ApiStorageE.ConfirmWorkspaceStorageFilesUpload.call(h,{storageScope:s,completedStorageFileIds:[t.storageFileId]});case 22:b=e.sent,S=b.resData,E=S.uploadedStorageFiles,x=Sn.ArrayH.arrGetFirst(E),r.dispatch(Uk.addHydratedStorageFiles({newHydratedStorageFiles:[x]})),p.push(x),e.next=37;break;case 30:e.prev=30,e.t0=e.catch(1),r.dispatch(UM.handleError(e.t0,{defaultErr:Sn.ErrorH.newFatalError('Failed to upload file "'.concat(t.storageFileMetadata.displayName,'".'),{rawData:{hydratedStorageFile:t}})})),(w=Yx()(t)).storageFileMetadata.isDeleted=!0,r.dispatch(Uk.addHydratedStorageFiles({newHydratedStorageFiles:[w]})),p.push(w);case 37:case"end":return e.stop()}}),e,null,[[1,30]])})),v.s();case 24:if((g=v.n()).done){e.next=28;break}return e.delegateYield(m(),"t0",26);case 26:e.next=24;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(21),v.e(e.t1);case 33:return e.prev=33,v.f(),e.finish(33);case 36:return e.abrupt("return",{hydratedUploadedStorageFiles:p});case 37:case"end":return e.stop()}}),e,null,[[21,30,33,36]])})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to upload file.")})),Nk=ka("media/deleteStorageFiles",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.storageScope,i=t.storageFileIds,e.next=3,Xw({dispatch:r.dispatch});case 3:return a=e.sent,e.next=6,Sn.ApiStorageE.DeleteWorkspaceStorageFiles.call(a,{storageScope:n,storageFileIds:i});case 6:return o=e.sent,s=o.resData,u=s.deletedStorageFiles,(c=s.failedStorageFileIds).length>=1&&r.dispatch(UM.handleError(Sn.ErrorH.newFatalError("Failed to delete ".concat(c.length>1?"some files":"file","."),{rawData:{failedStorageFileIds:c}}))),e.abrupt("return",{deletedStorageFiles:u,failedStorageFileIds:c});case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to delete file.")})),Lk={getHydratedStorageFiles:Pk,hydrateStorageFiles:Ik,rehydrateExpiringReadUrls:Ok,uploadStorageFiles:Rk,deleteStorageFiles:Nk},jk={storageFileSearchQueries:[],storageIdFileRecord:Sn.TypeT.getEmptyPartialRecord(),stockVisualAssetMetadataStore:{coreRecordIdMetadataRecord:Sn.TypeT.getEmptyPartialRecord(),gettyRecordIdMetadataRecord:Sn.TypeT.getEmptyPartialRecord()},isUploadLoading:!1},Mk=function(e){var t=e.state,r=e.searchQueryRequest,n=t.storageFileSearchQueries.find((function(e){return sk()(e.searchFilter,r.searchFilter)})),i=r.loadingState===Sn.LoadingT.LoadingState.FULFILLED||r.loadingState===Sn.LoadingT.LoadingState.REJECTED;null==n?t.storageFileSearchQueries.push({searchFilter:r.searchFilter,resultStorageFileIds:[],loadingState:r.loadingState,lastCompletedQueryMsSinceEpoch:i?Sn.TimeH.getCurrentMillisecondsSinceEpoch():null,lastCompletedQueryIncludedSignedWriteUrls:i?r.includeSignedWriteUrls:null,lastCompletedQueryIncludedThumbnailSignedUrls:i?r.includeThumbnailSignedUrls:null}):(n.loadingState=r.loadingState,i&&(n.resultStorageFileIds=[],n.lastCompletedQueryMsSinceEpoch=Sn.TimeH.getCurrentMillisecondsSinceEpoch(),n.lastCompletedQueryIncludedSignedWriteUrls=r.includeSignedWriteUrls,n.lastCompletedQueryIncludedThumbnailSignedUrls=r.includeThumbnailSignedUrls))},Dk=function(e){var t=e.state,r=e.newStorageFiles;e.searchQueryRequests.forEach((function(e){Mk({state:t,searchQueryRequest:e})}));var n=t.storageFileSearchQueries.map((function(e){return new Set(e.resultStorageFileIds)})),i=new Set;r.forEach((function(e){if(e.storageFileMetadata.isDeleted)return t.storageIdFileRecord[e.storageFileId]=void 0,void i.add(e.storageFileId);var r=Yx()(e.storageFileMetadata.hydratedUrlRecord);Sn.TypeT.strictObjectToEntries(e.storageFileMetadata.hydratedUrlRecord).forEach((function(n){var i,a=k(n,2),o=a[0],s=a[1],u=null===(i=t.storageIdFileRecord[e.storageFileId])||void 0===i?void 0:i.storageFileMetadata.hydratedUrlRecord,c=null==u?null:u[o];null!=c&&(null==s||s.expirationMillisecondsSinceEpoch<c.expirationMillisecondsSinceEpoch)&&(r[o]=c)})),t.storageIdFileRecord[e.storageFileId]=ze(ze({},e),{},{storageFileMetadata:ze(ze({},e.storageFileMetadata),{},{hydratedUrlRecord:r})}),t.storageFileSearchQueries.forEach((function(t,r){if(Sn.StorageH.storageFileSatisfiesSearchFilter({storageFile:e,searchFilter:t.searchFilter})){var i=Sn.ArrayH.arrGetOrOmit(n,r);null==i||i.has(e.storageFileId)||t.resultStorageFileIds.unshift(e.storageFileId)}}))})),t.storageFileSearchQueries.forEach((function(e){e.resultStorageFileIds=e.resultStorageFileIds.filter((function(e){return!i.has(e)}))}))},Fk=ya({name:"media",initialState:jk,reducers:{addHydratedStorageFiles:function(e,t){var r=t.payload.newHydratedStorageFiles;Dk({state:e,newStorageFiles:r,searchQueryRequests:[]})},addStockVisualAssetMetadataStore:function(e,t){!function(e){var t=e.state,r=e.newStockVisualAssetMetadataStore;t.stockVisualAssetMetadataStore={coreRecordIdMetadataRecord:ze(ze({},t.stockVisualAssetMetadataStore.coreRecordIdMetadataRecord),r.coreRecordIdMetadataRecord),gettyRecordIdMetadataRecord:ze(ze({},t.stockVisualAssetMetadataStore.gettyRecordIdMetadataRecord),r.gettyRecordIdMetadataRecord)}}({state:e,newStockVisualAssetMetadataStore:t.payload.newStockVisualAssetMetadataStore})}},extraReducers:function(e){e.addCase(Lk.getHydratedStorageFiles.pending,(function(e,t){var r=t.meta.arg,n=r.unionSearchFilters,i=r.includeSignedWriteUrls,a=r.includeThumbnailSignedUrls;n.map((function(e){return{searchFilter:e,loadingState:Sn.LoadingT.LoadingState.LOADING,includeSignedWriteUrls:i,includeThumbnailSignedUrls:a}})).forEach((function(t){Mk({state:e,searchQueryRequest:t})}))})).addCase(Lk.getHydratedStorageFiles.fulfilled,(function(e,t){var r=t.payload.hydratedStorageFiles,n=t.meta.arg,i=n.unionSearchFilters,a=n.includeSignedWriteUrls,o=n.includeThumbnailSignedUrls;if(null!=r){var s=i.map((function(e){return{searchFilter:e,loadingState:Sn.LoadingT.LoadingState.FULFILLED,includeSignedWriteUrls:a,includeThumbnailSignedUrls:o}}));Dk({state:e,newStorageFiles:r,searchQueryRequests:s})}})).addCase(Lk.getHydratedStorageFiles.rejected,(function(e,t){var r=t.meta.arg,n=r.unionSearchFilters,i=r.includeSignedWriteUrls,a=r.includeThumbnailSignedUrls,o=n.map((function(e){return{searchFilter:e,loadingState:Sn.LoadingT.LoadingState.REJECTED,includeSignedWriteUrls:i,includeThumbnailSignedUrls:a}}));Dk({state:e,newStorageFiles:[],searchQueryRequests:o})})).addCase(Lk.hydrateStorageFiles.fulfilled,(function(e,t){var r=t.payload.hydratedStorageFiles;Dk({state:e,newStorageFiles:r,searchQueryRequests:[]})})).addCase(Lk.rehydrateExpiringReadUrls.fulfilled,(function(e,t){var r=t.payload.rehydratedStorageFiles;Dk({state:e,newStorageFiles:r,searchQueryRequests:[]})})).addCase(Lk.uploadStorageFiles.pending,(function(e,t){e.isUploadLoading=!0})).addCase(Lk.uploadStorageFiles.fulfilled,(function(e,t){var r=t.payload.hydratedUploadedStorageFiles;Dk({state:e,newStorageFiles:r,searchQueryRequests:[]}),e.isUploadLoading=!1})).addCase(Lk.uploadStorageFiles.rejected,(function(e,t){e.isUploadLoading=!1})).addCase(Lk.deleteStorageFiles.fulfilled,(function(e,t){var r=t.payload.deletedStorageFiles;Dk({state:e,newStorageFiles:r,searchQueryRequests:[]})}))}}),Uk=Fk.actions,Bk=Fk,Gk=r(40918),Vk=function(e){var t=e.url,r=e.fileName,n=document.createElement("a");n.style.display="none",n.href=t,n.download=r,document.body.appendChild(n),n.click(),document.body.removeChild(n)},Hk=function(e){var t=e.jobId,r=e.jobType;return"".concat(r.toLowerCase(),"-job-").concat(t)},Wk=function(e){var t=e.type;switch(t){case Sn.JobT.JobType.EXPORT:var r=e.primaryHydratedExportUrl,n=e.exportFileDisplayName;return void(null==r||Sn.StorageH.isHydratedUrlExpiring({hydratedUrl:r,expirationBufferMilliseconds:Sn.TimeC.MILLISECONDS_PER_SECOND})||Vk({url:r.signedUrl,fileName:Sn.StorageH.constructStorageFileDisplayFileName({displayName:n,subtypeFileExtension:Sn.FileH.getFileExtension(r.signedUrl),storageFileSubtype:Sn.StorageT.WorkspaceStorageFileSubtype.PRIMARY})}));case Sn.JobT.JobType.GENERATE:return;default:return Sn.ErrorH.assertNever(t)}},qk=ya({name:"job",initialState:{currentSessionHandledCompletedJobIds:Sn.TypeT.getEmptyPartialRecord(),jobIdInitialJobMap:Sn.TypeT.getEmptyPartialRecord()},reducers:{markCurrentSessionJobCompletionsHandled:function(e,t){t.payload.jobIds.forEach((function(t){e.currentSessionHandledCompletedJobIds[t]=!0}))}},extraReducers:function(e){e.addCase(Jk.initiateJob.fulfilled,(function(e,t){var r=t.payload.initialJob;e.jobIdInitialJobMap[r.metadata.jobId]=r}))}}),zk=qk.actions,Yk=qk,Xk=ka("job/initiateJob",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c,l,d,f,h,p,v,g,m;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.jobInput,i=r.getState(),null!=(a=i.account).workspaceInfo){e.next=4;break}throw Sn.ErrorH.newInternalError("initiateJob must be called within PrivateGate.");case 4:return Sn.WorkspaceH.checkWorkspaceInfoSatisfiesAuthLevel({workspaceInfo:a.workspaceInfo,requiredWorkspaceAuthLevel:Sn.JobC.JOB_TYPE_MIN_WORKSPACE_AUTH_LEVEL_MAP[n.type],upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:Sn.JobC.JOB_TYPE_UPGRADE_MESSAGE_MAP[n.type]}),o=Sn.UuidH.generateUuid(),s=Sn.JobH.getInitialJob({jobId:o,jobInput:n,initiationSse:Sn.TimeH.getCurrentSecondsSinceEpoch()}),Lx(Hk({jobId:o,jobType:n.type})),u=Gk.lW.from(JSON.stringify(n),"utf-8"),c=u.length,l=c<=Sn.JobC.JOB_INPUT_MAX_NUM_BYTES_TRANSMITTABLE_ACROSS_API?n:null,Mx("job_input_prepared",{jobInputNumBytes:c,initialJob:s}),e.next=14,Xw({dispatch:r.dispatch});case 14:return d=e.sent,e.next=17,Sn.ApiJobE.InitiateJob.call(d,{initialJob:s,transmittableJobInput:l,jobInputNumBytes:c});case 17:if(f=e.sent,h=f.resData,null==(p=h.unwrittenJobInputSignedWriteUrl)){e.next=34;break}return e.prev=21,e.next=24,Sn.JobH.uploadJobInput({jobInputBuffer:u,jobInputSignedWriteUrl:p});case 24:e.next=34;break;case 26:return e.prev=26,e.t0=e.catch(21),e.next=30,Sn.ApiJobE.MarkJobMetadataKey.call(d,{jobIds:[o],jobMetadataKeyToMark:"isJobInputMissing"});case 30:throw v=e.sent,g=v.resData,m=g.markedJobIds,Sn.ErrorH.convertUnknownErrorToSecretKnownError(e.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to communicate with the server. Please check your Internet connection and try again.",{rawData:{initialJob:s,jobInput:n,markedJobIds:m}})});case 34:return e.abrupt("return",{initialJob:s});case 35:case"end":return e.stop()}}),e,null,[[21,26]])})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newInternalError("Failed to initiate job.")})),Kk=ka("job/handleJobCompletions",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c,l,d,f;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.jobIds,i=t.performCompletionAction,a=r.getState(),null!=(o=a.account.workspaceInfo)){e.next=5;break}throw Sn.ErrorH.newInternalError("initiateJob must be called within PrivateGate");case 5:return s=Sn.TypeT.getArrayWithoutOmissions(n.map((function(e){return o.recentInitiatedIdJobRecord[e]}))),u=s.filter((function(e){if(a.job.currentSessionHandledCompletedJobIds[e.metadata.jobId])return!1;var t=Sn.JobH.getJobLoadingInfo(e),n=t.loadingState;if(n!==Sn.LoadingT.LoadingState.FULFILLED&&n!==Sn.LoadingT.LoadingState.REJECTED)return!1;if(i)try{switch(n){case Sn.LoadingT.LoadingState.FULFILLED:var o=t.fulfilledJobResult;Wk(o);break;case Sn.LoadingT.LoadingState.REJECTED:var s=t.errorDisplayMessage;r.dispatch(UM.handleError(Sn.ErrorH.newFatalError(s)));break;default:return Sn.ErrorH.assertNever(n)}return!0}catch(u){return r.dispatch(UM.handleError(u,{defaultErr:Sn.ErrorH.newHiddenError("Failed to perform job completion action.")})),!1}return!0})).map((function(e){return e.metadata.jobId})),r.dispatch(zk.markCurrentSessionJobCompletionsHandled({jobIds:u})),e.next=10,Xw({dispatch:r.dispatch});case 10:return c=e.sent,e.next=13,Sn.ApiJobE.MarkJobMetadataKey.call(c,{jobIds:u,jobMetadataKeyToMark:"isCompletionHandled"});case 13:return l=e.sent,d=l.resData,f=d.markedJobIds,Mx("handle_job_completions",{jobs:s,jobIdsToMark:u,markedJobIds:f}),e.abrupt("return",{markedJobIds:f});case 18:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newInternalError("Failed to mark job completion handled.")})),Jk={initiateJob:Xk,handleJobCompletions:Kk};function Zk(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qk(Object(r),!0).forEach((function(t){Zk(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function e_(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function t_(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var r_,n_=h((function e(){c(this,e),Zk(this,"browserShadowBlurConstant",1),Zk(this,"DPI",96),Zk(this,"devicePixelRatio","undefined"!=typeof window?window.devicePixelRatio:1),Zk(this,"perfLimitSizeTotal",2097152),Zk(this,"maxCacheSideLimit",4096),Zk(this,"minCacheSideLimit",256),Zk(this,"disableStyleCopyPaste",!1),Zk(this,"enableGLFiltering",!0),Zk(this,"textureSize",4096),Zk(this,"forceGLPutImageData",!1),Zk(this,"cachesBoundsOfCurve",!0),Zk(this,"fontPaths",{}),Zk(this,"NUM_FRACTION_DIGITS",4)})),i_=new(function(e){v(r,e);var t=b(r);function r(e){var n;return c(this,r),(n=t.call(this)).configure(e),n}return h(r,[{key:"configure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this,e)}},{key:"addFonts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.fontPaths=$k($k({},this.fontPaths),e)}},{key:"removeFonts",value:function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){delete e.fontPaths[t]}))}},{key:"clearFonts",value:function(){this.fontPaths={}}},{key:"restoreDefaults",value:function(e){var t=new n_,r=(null==e?void 0:e.reduce((function(e,r){return e[r]=t[r],e}),{}))||t;this.configure(r)}}]),r}(n_)),a_=function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return(t=console)[e].apply(t,["fabric"].concat(n))},o_=function(e){v(r,e);var t=b(r);function r(e,n){return c(this,r),t.call(this,"fabric: ".concat(e),n)}return h(r)}(E(Error)),s_=function(e){v(r,e);var t=b(r);function r(e){return c(this,r),t.call(this,"".concat(e," 'options.signal' is in 'aborted' state"))}return h(r)}(o_),u_=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"testPrecision",value:function(e,t){var r="precision ".concat(t," float;\nvoid main(){}"),n=e.createShader(e.FRAGMENT_SHADER);return!!n&&(e.shaderSource(n,r),e.compileShader(n),!!e.getShaderParameter(n,e.COMPILE_STATUS))}},{key:"queryWebGL",value:function(e){var t=this,r=e.getContext("webgl");r&&(this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find((function(e){return t.testPrecision(r,e)})),r.getExtension("WEBGL_lose_context").loseContext(),a_("log","WebGL: max texture size ".concat(this.maxTextureSize)))}},{key:"isSupported",value:function(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}}]),r}(h((function e(){c(this,e)}))),c_={},l_=function(){return r_||(r_={document:document,window:window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new u_,dispose:function(){},copyPasteData:c_})},d_=function(){return l_().document},f_=function(){return l_().window},h_=function(){var e;return Math.max(null!==(e=i_.devicePixelRatio)&&void 0!==e?e:f_().devicePixelRatio,1)},p_=new(function(){function e(){c(this,e),Zk(this,"charWidthsCache",{}),Zk(this,"boundsOfCurveCache",{})}return h(e,[{key:"getFontCache",value:function(e){var t=e.fontFamily,r=e.fontStyle,n=e.fontWeight;t=t.toLowerCase(),this.charWidthsCache[t]||(this.charWidthsCache[t]={});var i=this.charWidthsCache[t],a="".concat(r.toLowerCase(),"_").concat((n+"").toLowerCase());return i[a]||(i[a]={}),i[a]}},{key:"clearFontCache",value:function(e){(e=(e||"").toLowerCase())?this.charWidthsCache[e]&&delete this.charWidthsCache[e]:this.charWidthsCache={}}},{key:"limitDimsByArea",value:function(e){var t=i_.perfLimitSizeTotal,r=Math.sqrt(t*e);return[Math.floor(r),Math.floor(t/r)]}}]),e}()),v_="6.4.1";function g_(){}var m_=Math.PI/2,y_=2*Math.PI,b_=Math.PI/180,S_=Object.freeze([1,0,0,1,0,0]),E_=.4477152502,x_="center",w_="left",k_="top",__="bottom",T_="right",A_="none",C_=/\r?\n/,P_="moving",I_="scaling",O_="rotating",R_="rotate",N_="skewing",L_="resizing",j_="modifyPoly",M_="modifyPath",D_="changed",F_="scale",U_="scaleX",B_="scaleY",G_="skewX",V_="skewY",H_="fill",W_="stroke",q_="modified",z_="json",Y_="svg",X_=new(function(){function e(){c(this,e),this[z_]=new Map,this[Y_]=new Map}return h(e,[{key:"has",value:function(e){return this[z_].has(e)}},{key:"getClass",value:function(e){var t=this[z_].get(e);if(!t)throw new o_("No class registered for ".concat(e));return t}},{key:"setClass",value:function(e,t){t?this[z_].set(t,e):(this[z_].set(e.type,e),this[z_].set(e.type.toLowerCase(),e))}},{key:"getSVGClass",value:function(e){return this[Y_].get(e)}},{key:"setSVGClass",value:function(e,t){this[Y_].set(null!=t?t:e.type.toLowerCase(),e)}}]),e}()),K_=new(function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"remove",value:function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)}},{key:"cancelAll",value:function(){var e=this.splice(0);return e.forEach((function(e){return e.abort()})),e}},{key:"cancelByCanvas",value:function(e){if(!e)return[];var t=this.filter((function(t){var r;return t.target===e||"object"==typeof t.target&&(null===(r=t.target)||void 0===r?void 0:r.canvas)===e}));return t.forEach((function(e){return e.abort()})),t}},{key:"cancelByTarget",value:function(e){if(!e)return[];var t=this.filter((function(t){return t.target===e}));return t.forEach((function(e){return e.abort()})),t}}]),r}(E(Array))),J_=function(){function e(){c(this,e),Zk(this,"__eventListeners",{})}return h(e,[{key:"on",value:function(e,t){var r=this;if(this.__eventListeners||(this.__eventListeners={}),"object"==typeof e)return Object.entries(e).forEach((function(e){var t=k(e,2),n=t[0],i=t[1];r.on(n,i)})),function(){return r.off(e)};if(t){var n=e;return this.__eventListeners[n]||(this.__eventListeners[n]=[]),this.__eventListeners[n].push(t),function(){return r.off(n,t)}}return function(){return!1}}},{key:"once",value:function(e,t){var r=this;if("object"==typeof e){var n=[];return Object.entries(e).forEach((function(e){var t=k(e,2),i=t[0],a=t[1];n.push(r.once(i,a))})),function(){return n.forEach((function(e){return e()}))}}if(t){var i=this.on(e,(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.call.apply(t,[this].concat(r)),i()}));return i}return function(){return!1}}},{key:"_removeEventListener",value:function(e,t){if(this.__eventListeners[e])if(t){var r=this.__eventListeners[e],n=r.indexOf(t);n>-1&&r.splice(n,1)}else this.__eventListeners[e]=[]}},{key:"off",value:function(e,t){var r=this;if(this.__eventListeners)if(void 0===e)for(var n in this.__eventListeners)this._removeEventListener(n);else"object"==typeof e?Object.entries(e).forEach((function(e){var t=k(e,2),n=t[0],i=t[1];r._removeEventListener(n,i)})):this._removeEventListener(e,t)}},{key:"fire",value:function(e,t){var r;if(this.__eventListeners){var n=null===(r=this.__eventListeners[e])||void 0===r?void 0:r.concat();if(n)for(var i=0;i<n.length;i++)n[i].call(this,t||{})}}}]),e}(),Z_=function(e,t){var r=e.indexOf(t);return-1!==r&&e.splice(r,1),e},Q_=function(e){if(0===e)return 1;switch(Math.abs(e)/m_){case 1:case 3:return 0;case 2:return-1}return Math.cos(e)},$_=function(e){if(0===e)return 0;var t=e/m_,r=Math.sign(e);switch(t){case 1:return r;case 2:return 0;case 3:return-r}return Math.sin(e)},eT=function(){function e(){c(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;"object"==typeof t?(this.x=t.x,this.y=t.y):(this.x=t,this.y=r)}return h(e,[{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"addEquals",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"scalarAdd",value:function(t){return new e(this.x+t,this.y+t)}},{key:"scalarAddEquals",value:function(e){return this.x+=e,this.y+=e,this}},{key:"subtract",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"subtractEquals",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"scalarSubtract",value:function(t){return new e(this.x-t,this.y-t)}},{key:"scalarSubtractEquals",value:function(e){return this.x-=e,this.y-=e,this}},{key:"multiply",value:function(t){return new e(this.x*t.x,this.y*t.y)}},{key:"scalarMultiply",value:function(t){return new e(this.x*t,this.y*t)}},{key:"scalarMultiplyEquals",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(t){return new e(this.x/t.x,this.y/t.y)}},{key:"scalarDivide",value:function(t){return new e(this.x/t,this.y/t)}},{key:"scalarDivideEquals",value:function(e){return this.x/=e,this.y/=e,this}},{key:"eq",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"lt",value:function(e){return this.x<e.x&&this.y<e.y}},{key:"lte",value:function(e){return this.x<=e.x&&this.y<=e.y}},{key:"gt",value:function(e){return this.x>e.x&&this.y>e.y}},{key:"gte",value:function(e){return this.x>=e.x&&this.y>=e.y}},{key:"lerp",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return r=Math.max(Math.min(1,r),0),new e(this.x+(t.x-this.x)*r,this.y+(t.y-this.y)*r)}},{key:"distanceFrom",value:function(e){var t=this.x-e.x,r=this.y-e.y;return Math.sqrt(t*t+r*r)}},{key:"midPointFrom",value:function(e){return this.lerp(e)}},{key:"min",value:function(t){return new e(Math.min(this.x,t.x),Math.min(this.y,t.y))}},{key:"max",value:function(t){return new e(Math.max(this.x,t.x),Math.max(this.y,t.y))}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y)}},{key:"setXY",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setFromPoint",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"swap",value:function(e){var t=this.x,r=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=r}},{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"rotate",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tT,n=$_(t),i=Q_(t),a=this.subtract(r);return new e(a.x*i-a.y*n,a.x*n+a.y*i).add(r)}},{key:"transform",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new e(t[0]*this.x+t[2]*this.y+(r?0:t[4]),t[1]*this.x+t[3]*this.y+(r?0:t[5]))}}]),e}(),tT=new eT(0,0),rT=function(e){return!!e&&Array.isArray(e._objects)};function nT(e){var t=function(e){v(r,e);var t=b(r);function r(){var e;return c(this,r),Zk(y(e=t.apply(this,arguments)),"_objects",[]),e}return h(r,[{key:"_onObjectAdded",value:function(e){}},{key:"_onObjectRemoved",value:function(e){}},{key:"_onStackOrderChanged",value:function(e){}},{key:"add",value:function(){for(var e,t=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=(e=this._objects).push.apply(e,n);return n.forEach((function(e){return t._onObjectAdded(e)})),a}},{key:"insertAt",value:function(e){for(var t,r=this,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return(t=this._objects).splice.apply(t,[e,0].concat(i)),i.forEach((function(e){return r._onObjectAdded(e)})),this._objects.length}},{key:"remove",value:function(){for(var e=this,t=this._objects,r=[],n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return i.forEach((function(n){var i=t.indexOf(n);-1!==i&&(t.splice(i,1),r.push(n),e._onObjectRemoved(n))})),r}},{key:"forEachObject",value:function(e){this.getObjects().forEach((function(t,r,n){return e(t,r,n)}))}},{key:"getObjects",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?u(this._objects):this._objects.filter((function(e){return e.isType.apply(e,t)}))}},{key:"item",value:function(e){return this._objects[e]}},{key:"isEmpty",value:function(){return 0===this._objects.length}},{key:"size",value:function(){return this._objects.length}},{key:"contains",value:function(e,t){return!!this._objects.includes(e)||!!t&&this._objects.some((function(t){return t instanceof r&&t.contains(e,!0)}))}},{key:"complexity",value:function(){return this._objects.reduce((function(e,t){return e+(t.complexity?t.complexity():0)}),0)}},{key:"sendObjectToBack",value:function(e){return!(!e||e===this._objects[0])&&(Z_(this._objects,e),this._objects.unshift(e),this._onStackOrderChanged(e),!0)}},{key:"bringObjectToFront",value:function(e){return!(!e||e===this._objects[this._objects.length-1])&&(Z_(this._objects,e),this._objects.push(e),this._onStackOrderChanged(e),!0)}},{key:"sendObjectBackwards",value:function(e,t){if(!e)return!1;var r=this._objects.indexOf(e);if(0!==r){var n=this.findNewLowerIndex(e,r,t);return Z_(this._objects,e),this._objects.splice(n,0,e),this._onStackOrderChanged(e),!0}return!1}},{key:"bringObjectForward",value:function(e,t){if(!e)return!1;var r=this._objects.indexOf(e);if(r!==this._objects.length-1){var n=this.findNewUpperIndex(e,r,t);return Z_(this._objects,e),this._objects.splice(n,0,e),this._onStackOrderChanged(e),!0}return!1}},{key:"moveObjectTo",value:function(e,t){return e!==this._objects[t]&&(Z_(this._objects,e),this._objects.splice(t,0,e),this._onStackOrderChanged(e),!0)}},{key:"findNewLowerIndex",value:function(e,t,r){var n;if(r){n=t;for(var i=t-1;i>=0;--i)if(e.isOverlapping(this._objects[i])){n=i;break}}else n=t-1;return n}},{key:"findNewUpperIndex",value:function(e,t,r){var n;if(r){n=t;for(var i=t+1;i<this._objects.length;++i)if(e.isOverlapping(this._objects[i])){n=i;break}}else n=t+1;return n}},{key:"collectObjects",value:function(e){for(var t=e.left,r=e.top,n=e.width,i=e.height,a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).includeIntersecting,o=void 0===a||a,s=[],u=new eT(t,r),c=u.add(new eT(n,i)),l=this._objects.length-1;l>=0;l--){var d=this._objects[l];d.selectable&&d.visible&&(o&&d.intersectsWithRect(u,c)||d.isContainedWithinRect(u,c)||o&&d.containsPoint(u)||o&&d.containsPoint(c))&&s.push(d)}return s}}]),r}(e);return t}var iT=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"_setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)this.set(t,e[t])}},{key:"_setObject",value:function(e){for(var t in e)this._set(t,e[t])}},{key:"set",value:function(e,t){return"object"==typeof e?this._setObject(e):this._set(e,t),this}},{key:"_set",value:function(e,t){this[e]=t}},{key:"toggle",value:function(e){var t=this.get(e);return"boolean"==typeof t&&this.set(e,!t),this}},{key:"get",value:function(e){return this[e]}}]),r}(J_);function aT(e){return f_().requestAnimationFrame(e)}function oT(e){return f_().cancelAnimationFrame(e)}var sT=0,uT=function(){return sT++},cT=function(){var e=d_().createElement("canvas");if(!e||void 0===e.getContext)throw new o_("Failed to create `canvas` element");return e},lT=function(){return d_().createElement("img")},dT=function(e,t,r){return e.toDataURL("image/".concat(t),r)},fT=function(e){return e*b_},hT=function(e){return e/b_},pT=function(e){return e.every((function(e,t){return e===S_[t]}))},vT=function(e,t,r){return new eT(e).transform(t,r)},gT=function(e){var t=1/(e[0]*e[3]-e[1]*e[2]),r=[t*e[3],-t*e[1],-t*e[2],t*e[0],0,0],n=new eT(e[4],e[5]).transform(r,!0),i=n.x,a=n.y;return r[4]=-i,r[5]=-a,r},mT=function(e,t,r){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],r?0:e[0]*t[4]+e[2]*t[5]+e[4],r?0:e[1]*t[4]+e[3]*t[5]+e[5]]},yT=function(e,t){return e.reduceRight((function(e,r){return r&&e?mT(r,e,t):r||e}),void 0)||S_.concat()},bT=function(e){var t=k(e,2),r=t[0],n=t[1];return Math.atan2(n,r)},ST=function(e){var t=bT(e),r=Math.pow(e[0],2)+Math.pow(e[1],2),n=Math.sqrt(r),i=(e[0]*e[3]-e[2]*e[1])/n,a=Math.atan2(e[0]*e[2]+e[1]*e[3],r);return{angle:hT(t),scaleX:n,scaleY:i,skewX:hT(a),skewY:0,translateX:e[4]||0,translateY:e[5]||0}},ET=function(e){return[1,0,0,1,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0]};function xT(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).angle,t=void 0===e?0:e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.x,i=void 0===n?0:n,a=r.y,o=void 0===a?0:a,s=fT(t),u=Q_(s),c=$_(s);return[u,c,-c,u,i?i-(u*i-c*o):0,o?o-(c*i+u*o):0]}var wT=function(e){return[e,0,0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,0,0]},kT=function(e){return Math.tan(fT(e))},_T=function(e){return[1,0,kT(e),1,0,0]},TT=function(e){return[1,kT(e),0,1,0,0]},AT=function(e){var t=e.scaleX,r=void 0===t?1:t,n=e.scaleY,i=void 0===n?1:n,a=e.flipX,o=void 0!==a&&a,s=e.flipY,u=void 0!==s&&s,c=e.skewX,l=void 0===c?0:c,d=e.skewY,f=void 0===d?0:d,h=wT(o?-r:r,u?-i:i);return l&&(h=mT(h,_T(l),!0)),f&&(h=mT(h,TT(f),!0)),h},CT=function(e){var t=e.translateX,r=void 0===t?0:t,n=e.translateY,i=void 0===n?0:n,a=e.angle,o=void 0===a?0:a,s=ET(r,i);o&&(s=mT(s,xT({angle:o})));var u=AT(e);return pT(u)||(s=mT(s,u)),s},PT=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.signal,n=t.crossOrigin,i=void 0===n?null:n;return new Promise((function(t,n){if(r&&r.aborted)return n(new s_("loadImage"));var a,o=lT();r&&(a=function(e){o.src="",n(e)},r.addEventListener("abort",a,{once:!0}));var s=function(){o.onload=o.onerror=null,a&&(null==r||r.removeEventListener("abort",a)),t(o)};e?(o.onload=s,o.onerror=function(){a&&(null==r||r.removeEventListener("abort",a)),n(new o_("Error loading ".concat(o.src)))},i&&(o.crossOrigin=i),o.src=e):s()}))},IT=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.signal,n=t.reviver,i=void 0===n?g_:n;return new Promise((function(t,n){var a=[];r&&r.addEventListener("abort",n,{once:!0}),Promise.all(e.map((function(e){return X_.getClass(e.type).fromObject(e,{signal:r}).then((function(t){return i(e,t),a.push(t),t}))}))).then(t).catch((function(e){a.forEach((function(e){e.dispose&&e.dispose()})),n(e)})).finally((function(){r&&r.removeEventListener("abort",n)}))}))},OT=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).signal;return new Promise((function(r,n){var i=[];t&&t.addEventListener("abort",n,{once:!0});var a=Object.values(e).map((function(e){return e&&e.type&&X_.has(e.type)?IT([e],{signal:t}).then((function(e){var t=k(e,1)[0];return i.push(t),t})):e})),o=Object.keys(e);Promise.all(a).then((function(e){return e.reduce((function(e,t,r){return e[o[r]]=t,e}),{})})).then(r).catch((function(e){i.forEach((function(e){e.dispose&&e.dispose()})),n(e)})).finally((function(){t&&t.removeEventListener("abort",n)}))}))},RT=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce((function(t,r){return r in e&&(t[r]=e[r]),t}),{})},NT=function(e,t){return Object.keys(e).reduce((function(r,n){return t(e[n],n,e)&&(r[n]=e[n]),r}),{})},LT={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},jT=function(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e},MT=function(e,t,r,n){e/=255,t/=255,r/=255;var i,a,o=Math.max(e,t,r),s=Math.min(e,t,r),u=(o+s)/2;if(o===s)i=a=0;else{var c=o-s;switch(a=u>.5?c/(2-o-s):c/(o+s),o){case e:i=(t-r)/c+(t<r?6:0);break;case t:i=(r-e)/c+2;break;case r:i=(e-t)/c+4}i/=6}return[Math.round(360*i),Math.round(100*a),Math.round(100*u),n]},DT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1";return parseFloat(e)/(e.endsWith("%")?100:1)},FT=function(e){return Math.min(Math.round(e),255).toString(16).toUpperCase().padStart(2,"0")},UT=function(e){var t=k(e,4),r=t[0],n=t[1],i=t[2],a=t[3],o=void 0===a?1:a,s=Math.round(.3*r+.59*n+.11*i);return[s,s,s,o]},BT=function(){function e(t){if(c(this,e),Zk(this,"isUnrecognised",!1),t)if(t instanceof e)this.setSource(u(t._source));else if(Array.isArray(t)){var r=k(t,4),n=r[0],i=r[1],a=r[2],o=r[3],s=void 0===o?1:o;this.setSource([n,i,a,s])}else this.setSource(this._tryParsingColor(t));else this.setSource([0,0,0,1])}return h(e,[{key:"_tryParsingColor",value:function(t){return t in LT&&(t=LT[t]),"transparent"===t?[255,255,255,0]:e.sourceFromHex(t)||e.sourceFromRgb(t)||e.sourceFromHsl(t)||(this.isUnrecognised=!0)&&[0,0,0,1]}},{key:"getSource",value:function(){return this._source}},{key:"setSource",value:function(e){this._source=e}},{key:"toRgb",value:function(){var e=k(this.getSource(),3),t=e[0],r=e[1],n=e[2];return"rgb(".concat(t,",").concat(r,",").concat(n,")")}},{key:"toRgba",value:function(){return"rgba(".concat(this.getSource().join(","),")")}},{key:"toHsl",value:function(){var e=k(MT.apply(void 0,u(this.getSource())),3),t=e[0],r=e[1],n=e[2];return"hsl(".concat(t,",").concat(r,"%,").concat(n,"%)")}},{key:"toHsla",value:function(){var e=k(MT.apply(void 0,u(this.getSource())),4),t=e[0],r=e[1],n=e[2],i=e[3];return"hsla(".concat(t,",").concat(r,"%,").concat(n,"%,").concat(i,")")}},{key:"toHex",value:function(){return this.toHexa().slice(0,6)}},{key:"toHexa",value:function(){var e=k(this.getSource(),4),t=e[0],r=e[1],n=e[2],i=e[3];return"".concat(FT(t)).concat(FT(r)).concat(FT(n)).concat(FT(Math.round(255*i)))}},{key:"getAlpha",value:function(){return this.getSource()[3]}},{key:"setAlpha",value:function(e){return this._source[3]=e,this}},{key:"toGrayscale",value:function(){return this.setSource(UT(this.getSource())),this}},{key:"toBlackWhite",value:function(e){var t=k(UT(this.getSource()),4),r=t[0],n=t[3],i=r<(e||127)?0:255;return this.setSource([i,i,i,n]),this}},{key:"overlayWith",value:function(t){t instanceof e||(t=new e(t));var r=this.getSource(),n=t.getSource(),i=r.map((function(e,t){return Math.round(.5*e+.5*n[t])})),a=k(i,3),o=a[0],s=a[1],u=a[2];return this.setSource([o,s,u,r[3]]),this}}],[{key:"fromRgb",value:function(t){return e.fromRgba(t)}},{key:"fromRgba",value:function(t){return new e(e.sourceFromRgb(t))}},{key:"sourceFromRgb",value:function(e){var t=e.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(t){var r=t.slice(1,4).map((function(e){var t=parseFloat(e);return e.endsWith("%")?Math.round(2.55*t):t})),n=k(r,3);return[n[0],n[1],n[2],DT(t[4])]}}},{key:"fromHsl",value:function(t){return e.fromHsla(t)}},{key:"fromHsla",value:function(t){return new e(e.sourceFromHsl(t))}},{key:"sourceFromHsl",value:function(t){var r=t.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(r){var n,i,a,o=(e.parseAngletoDegrees(r[1])%360+360)%360/360,s=parseFloat(r[2])/100,u=parseFloat(r[3])/100;if(0===s)n=i=a=u;else{var c=u<=.5?u*(s+1):u+s-u*s,l=2*u-c;n=jT(l,c,o+1/3),i=jT(l,c,o),a=jT(l,c,o-1/3)}return[Math.round(255*n),Math.round(255*i),Math.round(255*a),DT(r[4])]}}},{key:"fromHex",value:function(t){return new e(e.sourceFromHex(t))}},{key:"sourceFromHex",value:function(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){var t,r=e.slice(e.indexOf("#")+1);t=r.length<=4?r.split("").map((function(e){return e+e})):r.match(/.{2}/g);var n=t.map((function(e){return parseInt(e,16)})),i=k(n,4),a=i[0],o=i[1],s=i[2],u=i[3];return[a,o,s,(void 0===u?255:u)/255]}}},{key:"parseAngletoDegrees",value:function(e){var t=e.toLowerCase(),r=parseFloat(t);return t.includes("rad")?hT(r):t.includes("turn")?360*r:r}}]),e}(),GT=function(e,t){return parseFloat(Number(e).toFixed(t))},VT=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,r=/\D{0,2}$/.exec(e),n=parseFloat(e),i=i_.DPI;switch(null==r?void 0:r[0]){case"mm":return n*i/25.4;case"cm":return n*i/2.54;case"in":return n*i;case"pt":return n*i/72;case"pc":return n*i/72*12;case"em":return n*t;default:return n}},HT=function(e){var t,r=k(e.trim().split(" "),2),n=r[0],i=r[1],a=k((t=n)&&t!==A_?[t.slice(1,4),t.slice(5,8)]:t===A_?[t,t]:["Mid","Mid"],2);return{meetOrSlice:i||"meet",alignX:a[0],alignY:a[1]}},WT=function(e){return"matrix("+e.map((function(e){return GT(e,i_.NUM_FRACTION_DIGITS)})).join(" ")+")"},qT=function(e,t){var r,n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t)if(t.toLive)r="url(#SVGID_".concat(t.id,")");else{var a=new BT(t),o=a.getAlpha();r=a.toRgb(),1!==o&&(n=o.toString())}else r="none";return i?"".concat(e,": ").concat(r,"; ").concat(n?"".concat(e,"-opacity: ").concat(n,"; "):""):"".concat(e,'="').concat(r,'" ').concat(n?"".concat(e,'-opacity="').concat(n,'" '):"")},zT=function(e){return!!e&&void 0!==e.toLive},YT=function(e){return!!e&&"function"==typeof e.toObject},XT=function(e){return!!e&&void 0!==e.offsetX&&"source"in e},KT=function(e){return!!e&&"function"==typeof e._renderText},JT=function(e){return!!e&&"multiSelectionStacking"in e};function ZT(e){var t=e&&QT(e),r=0,n=0;if(!e||!t)return{left:r,top:n};for(var i=e,a=t.documentElement,o=t.body||{scrollLeft:0,scrollTop:0};i&&(i.parentNode||i.host)&&((i=i.parentNode||i.host)===t?(r=o.scrollLeft||a.scrollLeft||0,n=o.scrollTop||a.scrollTop||0):(r+=i.scrollLeft||0,n+=i.scrollTop||0),1!==i.nodeType||"fixed"!==i.style.position););return{left:r,top:n}}var QT=function(e){return e.ownerDocument||null},$T=function(e){var t;return(null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView)||null},eA=function(e,t,r){var n=r.width,i=r.height,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;e.width=n,e.height=i,a>1&&(e.setAttribute("width",(n*a).toString()),e.setAttribute("height",(i*a).toString()),t.scale(a,a))},tA=function(e,t){var r=t.width,n=t.height;r&&(e.style.width="number"==typeof r?"".concat(r,"px"):r),n&&(e.style.height="number"==typeof n?"".concat(n,"px"):n)};function rA(e){return void 0!==e.onselectstart&&(e.onselectstart=function(){return!1}),e.style.userSelect=A_,e}var nA=function(){function e(t){c(this,e),Zk(this,"_originalCanvasStyle",void 0),Zk(this,"lower",void 0);var r=this.createLowerCanvas(t);this.lower={el:r,ctx:r.getContext("2d")}}return h(e,[{key:"createLowerCanvas",value:function(e){var t,r=(t=e)&&void 0!==t.getContext?e:e&&d_().getElementById(e)||cT();if(r.hasAttribute("data-fabric"))throw new o_("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=r.style.cssText,r.setAttribute("data-fabric","main"),r.classList.add("lower-canvas"),r}},{key:"cleanupDOM",value:function(e){var t=e.width,r=e.height,n=this.lower.el;n.classList.remove("lower-canvas"),n.removeAttribute("data-fabric"),n.setAttribute("width","".concat(t)),n.setAttribute("height","".concat(r)),n.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}},{key:"setDimensions",value:function(e,t){var r=this.lower,n=r.el,i=r.ctx;eA(n,i,e,t)}},{key:"setCSSDimensions",value:function(e){tA(this.lower.el,e)}},{key:"calcOffset",value:function(){return function(e){var t,r=e&&QT(e),n={left:0,top:0};if(!r)return n;var i=(null===(t=$T(e))||void 0===t?void 0:t.getComputedStyle(e,null))||{};n.left+=parseInt(i.borderLeftWidth,10)||0,n.top+=parseInt(i.borderTopWidth,10)||0,n.left+=parseInt(i.paddingLeft,10)||0,n.top+=parseInt(i.paddingTop,10)||0;var a={left:0,top:0},o=r.documentElement;void 0!==e.getBoundingClientRect&&(a=e.getBoundingClientRect());var s=ZT(e);return{left:a.left+s.left-(o.clientLeft||0)+n.left,top:a.top+s.top-(o.clientTop||0)+n.top}}(this.lower.el)}},{key:"dispose",value:function(){l_().dispose(this.lower.el),delete this.lower}}]),e}(),iA={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:u(S_)},aA=function(e){v(r,e);var t=b(r);function r(e){var n;c(this,r);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=t.call(this),Object.assign(y(n),n.constructor.getDefaults()),n.set(i),n.initElements(e),n._setDimensionsImpl({width:n.width||n.elements.lower.el.width||0,height:n.height||n.elements.lower.el.height||0}),n.skipControlsDrawing=!1,n.viewportTransform=u(n.viewportTransform),n.calcViewportBoundaries(),n}return h(r,[{key:"lowerCanvasEl",get:function(){var e;return null===(e=this.elements.lower)||void 0===e?void 0:e.el}},{key:"contextContainer",get:function(){var e;return null===(e=this.elements.lower)||void 0===e?void 0:e.ctx}},{key:"initElements",value:function(e){this.elements=new nA(e)}},{key:"add",value:function(){var e=to(g(r.prototype),"add",this).apply(this,arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}},{key:"insertAt",value:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var o=(t=to(g(r.prototype),"insertAt",this)).call.apply(t,[this,e].concat(i));return i.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),o}},{key:"remove",value:function(){var e=to(g(r.prototype),"remove",this).apply(this,arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}},{key:"_onObjectAdded",value:function(e){e.canvas&&e.canvas!==this&&(a_("warn","Canvas is trying to add an object that belongs to a different canvas.\nResulting to default behavior: removing object from previous canvas and adding to new canvas"),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}},{key:"_onObjectRemoved",value:function(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}},{key:"_onStackOrderChanged",value:function(){this.renderOnAddRemove&&this.requestRenderAll()}},{key:"getRetinaScaling",value:function(){return this.enableRetinaScaling?h_():1}},{key:"calcOffset",value:function(){return this._offset=this.elements.calcOffset()}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"setWidth",value:function(e,t){return this.setDimensions({width:e},t)}},{key:"setHeight",value:function(e,t){return this.setDimensions({height:e},t)}},{key:"_setDimensionsImpl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.cssOnly,n=void 0!==r&&r,i=t.backstoreOnly,a=void 0!==i&&i;if(!n){var o=$k({width:this.width,height:this.height},e);this.elements.setDimensions(o,this.getRetinaScaling()),this.hasLostContext=!0,this.width=o.width,this.height=o.height}a||this.elements.setCSSDimensions(e),this.calcOffset()}},{key:"setDimensions",value:function(e,t){this._setDimensionsImpl(e,t),t&&t.cssOnly||this.requestRenderAll()}},{key:"getZoom",value:function(){return this.viewportTransform[0]}},{key:"setViewportTransform",value:function(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}},{key:"zoomToPoint",value:function(e,t){var r=e,n=u(this.viewportTransform),i=vT(e,gT(n));n[0]=t,n[3]=t;var a=vT(i,n);n[4]+=r.x-a.x,n[5]+=r.y-a.y,this.setViewportTransform(n)}},{key:"setZoom",value:function(e){this.zoomToPoint(new eT(0,0),e)}},{key:"absolutePan",value:function(e){var t=u(this.viewportTransform);return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)}},{key:"relativePan",value:function(e){return this.absolutePan(new eT(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}},{key:"getElement",value:function(){return this.elements.lower.el}},{key:"clearContext",value:function(e){e.clearRect(0,0,this.width,this.height)}},{key:"getContext",value:function(){return this.elements.lower.ctx}},{key:"clear",value:function(){this.remove.apply(this,u(this.getObjects())),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}},{key:"renderAll",value:function(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}},{key:"renderAndReset",value:function(){this.nextRenderHandle=0,this.renderAll()}},{key:"requestRenderAll",value:function(){var e=this;this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=aT((function(){return e.renderAndReset()})))}},{key:"calcViewportBoundaries",value:function(){var e=this.width,t=this.height,r=gT(this.viewportTransform),n=vT({x:0,y:0},r),i=vT({x:e,y:t},r),a=n.min(i),o=n.max(i);return this.vptCoords={tl:a,tr:new eT(o.x,a.y),bl:new eT(a.x,o.y),br:o}}},{key:"cancelRequestedRender",value:function(){this.nextRenderHandle&&(oT(this.nextRenderHandle),this.nextRenderHandle=0)}},{key:"drawControls",value:function(e){}},{key:"renderCanvas",value:function(e,t){if(!this.destroyed){var r=this.viewportTransform,n=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this._renderObjects(e,t),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),n&&(n._set("canvas",this),n.shouldCache(),n._transformDone=!0,n.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,n)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}}},{key:"drawClipPathOnCanvas",value:function(e,t){var r=this.viewportTransform;e.save(),e.transform.apply(e,u(r)),e.globalCompositeOperation="destination-in",t.transform(e),e.scale(1/t.zoomX,1/t.zoomY),e.drawImage(t._cacheCanvas,-t.cacheTranslationX,-t.cacheTranslationY),e.restore()}},{key:"_renderObjects",value:function(e,t){for(var r=0,n=t.length;r<n;++r)t[r]&&t[r].render(e)}},{key:"_renderBackgroundOrOverlay",value:function(e,t){var r=this["".concat(t,"Color")],n=this["".concat(t,"Image")],i=this.viewportTransform,a=this["".concat(t,"Vpt")];if(r||n){var o=zT(r);if(r){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=o?r.toLive(e):r,a&&e.transform.apply(e,u(i)),o){e.transform(1,0,0,1,r.offsetX||0,r.offsetY||0);var s=r.gradientTransform||r.patternTransform;s&&e.transform.apply(e,u(s))}e.fill(),e.restore()}if(n){e.save();var c=this.skipOffscreen;this.skipOffscreen=a,a&&e.transform.apply(e,u(i)),n.render(e),this.skipOffscreen=c,e.restore()}}}},{key:"_renderBackground",value:function(e){this._renderBackgroundOrOverlay(e,"background")}},{key:"_renderOverlay",value:function(e){this._renderBackgroundOrOverlay(e,"overlay")}},{key:"getCenter",value:function(){return{top:this.height/2,left:this.width/2}}},{key:"getCenterPoint",value:function(){return new eT(this.width/2,this.height/2)}},{key:"centerObjectH",value:function(e){return this._centerObject(e,new eT(this.getCenterPoint().x,e.getCenterPoint().y))}},{key:"centerObjectV",value:function(e){return this._centerObject(e,new eT(e.getCenterPoint().x,this.getCenterPoint().y))}},{key:"centerObject",value:function(e){return this._centerObject(e,this.getCenterPoint())}},{key:"viewportCenterObject",value:function(e){return this._centerObject(e,this.getVpCenter())}},{key:"viewportCenterObjectH",value:function(e){return this._centerObject(e,new eT(this.getVpCenter().x,e.getCenterPoint().y))}},{key:"viewportCenterObjectV",value:function(e){return this._centerObject(e,new eT(e.getCenterPoint().x,this.getVpCenter().y))}},{key:"getVpCenter",value:function(){return vT(this.getCenterPoint(),gT(this.viewportTransform))}},{key:"_centerObject",value:function(e,t){e.setXY(t,x_,x_),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}},{key:"toDatalessJSON",value:function(e){return this.toDatalessObject(e)}},{key:"toObject",value:function(e){return this._toObjectMethod("toObject",e)}},{key:"toJSON",value:function(){return this.toObject()}},{key:"toDatalessObject",value:function(e){return this._toObjectMethod("toDatalessObject",e)}},{key:"_toObjectMethod",value:function(e,t){var r=this,n=this.clipPath,i=n&&!n.excludeFromExport?this._toObject(n,e,t):null;return $k($k($k({version:v_},RT(this,t)),{},{objects:this._objects.filter((function(e){return!e.excludeFromExport})).map((function(n){return r._toObject(n,e,t)}))},this.__serializeBgOverlay(e,t)),i?{clipPath:i}:null)}},{key:"_toObject",value:function(e,t,r){var n;this.includeDefaultValues||(n=e.includeDefaultValues,e.includeDefaultValues=!1);var i=e[t](r);return this.includeDefaultValues||(e.includeDefaultValues=!!n),i}},{key:"__serializeBgOverlay",value:function(e,t){var r={},n=this.backgroundImage,i=this.overlayImage,a=this.backgroundColor,o=this.overlayColor;return zT(a)?a.excludeFromExport||(r.background=a.toObject(t)):a&&(r.background=a),zT(o)?o.excludeFromExport||(r.overlay=o.toObject(t)):o&&(r.overlay=o),n&&!n.excludeFromExport&&(r.backgroundImage=this._toObject(n,e,t)),i&&!i.excludeFromExport&&(r.overlayImage=this._toObject(i,e,t)),r}},{key:"toSVG",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;e.reviver=t;var r=[];return this._setSVGPreamble(r,e),this._setSVGHeader(r,e),this.clipPath&&r.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,')" >\n')),this._setSVGBgOverlayColor(r,"background"),this._setSVGBgOverlayImage(r,"backgroundImage",t),this._setSVGObjects(r,t),this.clipPath&&r.push("</g>\n"),this._setSVGBgOverlayColor(r,"overlay"),this._setSVGBgOverlayImage(r,"overlayImage",t),r.push("</svg>"),r.join("")}},{key:"_setSVGPreamble",value:function(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')}},{key:"_setSVGHeader",value:function(e,t){var r,n=t.width||"".concat(this.width),i=t.height||"".concat(this.height),a=i_.NUM_FRACTION_DIGITS,o=t.viewBox;if(o)r='viewBox="'.concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height,'" ');else if(this.svgViewportTransformation){var s=this.viewportTransform;r='viewBox="'.concat(GT(-s[4]/s[0],a)," ").concat(GT(-s[5]/s[3],a)," ").concat(GT(this.width/s[0],a)," ").concat(GT(this.height/s[3],a),'" ')}else r='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',i,'" ',r,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",v_,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),"</defs>\n")}},{key:"createSVGClipPathMarkup",value:function(e){var t=this.clipPath;return t?(t.clipPathId="CLIPPATH_".concat(uT()),'<clipPath id="'.concat(t.clipPathId,'" >\n').concat(t.toClipPathSVG(e.reviver),"</clipPath>\n")):""}},{key:"createSVGRefElementsMarkup",value:function(){var e=this;return["background","overlay"].map((function(t){var r=e["".concat(t,"Color")];if(zT(r)){var n=e["".concat(t,"Vpt")],i=e.viewportTransform,a={isType:function(){return!1},width:e.width/(n?i[0]:1),height:e.height/(n?i[3]:1)};return r.toSVG(a,{additionalTransform:n?WT(i):""})}})).join("")}},{key:"createSVGFontFacesMarkup",value:function(){var e=[],t={},r=i_.fontPaths;this._objects.forEach((function t(r){e.push(r),rT(r)&&r._objects.forEach(t)})),e.forEach((function(e){if(KT(e)){var n=e.styles,i=e.fontFamily;!t[i]&&r[i]&&(t[i]=!0,n&&Object.values(n).forEach((function(e){Object.values(e).forEach((function(e){var n=e.fontFamily,i=void 0===n?"":n;!t[i]&&r[i]&&(t[i]=!0)}))})))}}));var n=Object.keys(t).map((function(e){return"\t\t@font-face {\n\t\t\tfont-family: '".concat(e,"';\n\t\t\tsrc: url('").concat(r[e],"');\n\t\t}\n")})).join("");return n?'\t<style type="text/css"><![CDATA[\n'.concat(n,"]]></style>\n"):""}},{key:"_setSVGObjects",value:function(e,t){var r=this;this.forEachObject((function(n){n.excludeFromExport||r._setSVGObject(e,n,t)}))}},{key:"_setSVGObject",value:function(e,t,r){e.push(t.toSVG(r))}},{key:"_setSVGBgOverlayImage",value:function(e,t,r){var n=this[t];n&&!n.excludeFromExport&&n.toSVG&&e.push(n.toSVG(r))}},{key:"_setSVGBgOverlayColor",value:function(e,t){var r=this["".concat(t,"Color")];if(r)if(zT(r)){var n=r.repeat||"",i=this.width,a=this.height,o=this["".concat(t,"Vpt")]?WT(gT(this.viewportTransform)):"";e.push('<rect transform="'.concat(o," translate(").concat(i/2,",").concat(a/2,')" x="').concat(r.offsetX-i/2,'" y="').concat(r.offsetY-a/2,'" width="').concat("repeat-y"!==n&&"no-repeat"!==n||!XT(r)?i:r.source.width,'" height="').concat("repeat-x"!==n&&"no-repeat"!==n||!XT(r)?a:r.source.height,'" fill="url(#SVGID_').concat(r.id,')"></rect>\n'))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',r,'"',"></rect>\n")}},{key:"loadFromJSON",value:function(e,t){var r=this,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).signal;if(!e)return Promise.reject(new o_("`json` is undefined"));var i="string"==typeof e?JSON.parse(e):e,a=i.objects,o=void 0===a?[]:a,s=i.backgroundImage,c=i.background,l=i.overlayImage,d=i.overlay,f=i.clipPath,h=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([IT(o,{reviver:t,signal:n}),OT({backgroundImage:s,backgroundColor:c,overlayImage:l,overlayColor:d,clipPath:f},{signal:n})]).then((function(e){var t=k(e,2),n=t[0],a=t[1];return r.clear(),r.add.apply(r,u(n)),r.set(i),r.set(a),r.renderOnAddRemove=h,r}))}},{key:"clone",value:function(e){var t=this.toObject(e);return this.cloneWithoutData().loadFromJSON(t)}},{key:"cloneWithoutData",value:function(){var e=cT();return e.width=this.width,e.height=this.height,new this.constructor(e)}},{key:"toDataURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,r=void 0===t?"png":t,n=e.quality,i=void 0===n?1:n,a=e.multiplier,o=void 0===a?1:a,s=e.enableRetinaScaling,u=o*(void 0!==s&&s?this.getRetinaScaling():1);return dT(this.toCanvasElement(u,e),r,i)}},{key:"toCanvasElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.width,n=t.height,i=t.left,a=t.top,o=t.filter,s=(r||this.width)*e,u=(n||this.height)*e,c=this.getZoom(),l=this.width,d=this.height,f=this.skipControlsDrawing,h=c*e,p=this.viewportTransform,v=[h,0,0,h,(p[4]-(i||0))*e,(p[5]-(a||0))*e],g=this.enableRetinaScaling,m=cT(),y=o?this._objects.filter((function(e){return o(e)})):this._objects;return m.width=s,m.height=u,this.enableRetinaScaling=!1,this.viewportTransform=v,this.width=s,this.height=u,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(m.getContext("2d"),y),this.viewportTransform=p,this.width=l,this.height=d,this.calcViewportBoundaries(),this.enableRetinaScaling=g,this.skipControlsDrawing=f,m}},{key:"dispose",value:function(){var e=this;return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),K_.cancelByCanvas(this),this.disposed=!0,new Promise((function(t,r){var n=function(){e.destroy(),t(!0)};n.kill=r,e.__cleanupTask&&e.__cleanupTask.kill("aborted"),e.destroyed?t(!1):e.nextRenderHandle?e.__cleanupTask=n:n()}))}},{key:"destroy",value:function(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject((function(e){return e.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}},{key:"toString",value:function(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}],[{key:"getDefaults",value:function(){return r.ownDefaults}}]),r}(nT(iT));Zk(aA,"ownDefaults",iA);var oA=["touchstart","touchmove","touchend"],sA=function(e){var t=ZT(e.target),r=function(e){var t=e.changedTouches;return t&&t[0]?t[0]:e}(e);return new eT(r.clientX+t.left,r.clientY+t.top)},uA=function(e){return oA.includes(e.type)||"touch"===e.pointerType},cA=function(e){e.preventDefault(),e.stopPropagation()},lA=function(e){if(0===e.length)return{left:0,top:0,width:0,height:0};var t=e.reduce((function(e,t){var r=e.min,n=e.max;return{min:r.min(t),max:n.max(t)}}),{min:new eT(e[0]),max:new eT(e[0])}),r=t.min,n=t.max.subtract(r);return{left:r.x,top:r.y,width:n.x,height:n.y}},dA=["translateX","translateY","scaleX","scaleY"],fA=function(e,t){return hA(e,mT(t,e.calcOwnMatrix()))},hA=function(e,t){var r=ST(t),n=r.translateX,i=r.translateY,a=r.scaleX,o=r.scaleY,s=e_(r,dA),u=new eT(n,i);e.flipX=!1,e.flipY=!1,Object.assign(e,s),e.set({scaleX:a,scaleY:o}),e.setPositionByOrigin(u,x_,x_)},pA=function(e){e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.flipX=!1,e.flipY=!1,e.rotate(0)},vA=function(e){return{scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,angle:e.angle,left:e.left,flipX:e.flipX,flipY:e.flipY,top:e.top}},gA=function(e,t,r){var n=e/2,i=t/2,a=[new eT(-n,-i),new eT(n,-i),new eT(-n,i),new eT(n,i)].map((function(e){return e.transform(r)})),o=lA(a);return new eT(o.width,o.height)},mA=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S_;return mT(gT(arguments.length>1&&void 0!==arguments[1]?arguments[1]:S_),e)},yA=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S_,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S_;return e.transform(mA(t,r))},bA=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S_,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S_;return e.transform(mA(t,r),!0)},SA=function(e,t,r){var n=mA(t,r);return hA(e,mT(n,e.calcOwnMatrix())),n},EA=function(e,t){var r,n=t.transform.target;null===(r=n.canvas)||void 0===r||r.fire("object:".concat(e),$k($k({},t),{},{target:n})),n.fire(e,t)},xA={left:-.5,top:-.5,center:0,bottom:.5,right:.5},wA=function(e){return"string"==typeof e?xA[e]:e-.5},kA="not-allowed";function _A(e){return wA(e.originX)===wA(x_)&&wA(e.originY)===wA(x_)}function TA(e){return.5-wA(e)}var AA=function(e,t){return e[t]},CA=function(e,t,r,n){return{e:e,transform:t,pointer:new eT(r,n)}};function PA(e,t){var r=e.getTotalAngle()+hT(Math.atan2(t.y,t.x))+360;return Math.round(r%360/45)}function IA(e,t,r,n,i){var a,o=e.target,s=e.corner,u=o.controls[s],c=(null===(a=o.canvas)||void 0===a?void 0:a.getZoom())||1,l=o.padding/c,d=function(e,t,r,n){var i=e.getRelativeCenterPoint(),a=void 0!==r&&void 0!==n?e.translateToGivenOrigin(i,x_,x_,r,n):new eT(e.left,e.top);return(e.angle?t.rotate(-fT(e.angle),i):t).subtract(a)}(o,new eT(n,i),t,r);return d.x>=l&&(d.x-=l),d.x<=-l&&(d.x+=l),d.y>=l&&(d.y-=l),d.y<=l&&(d.y+=l),d.x-=u.offsetX,d.y-=u.offsetY,d}var OA,RA,NA=function(e,t,r,n){var i=t.target,a=r-t.offsetX,o=n-t.offsetY,s=!AA(i,"lockMovementX")&&i.left!==a,u=!AA(i,"lockMovementY")&&i.top!==o;return s&&i.set(w_,a),u&&i.set(k_,o),(s||u)&&EA(P_,CA(e,t,r,n)),s||u},LA=function(){function e(){c(this,e)}return h(e,[{key:"getSvgStyles",value:function(e){var t=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",n=this.strokeDashArray?this.strokeDashArray.join(" "):A_,i=this.strokeDashOffset?this.strokeDashOffset:"0",a=this.strokeLineCap?this.strokeLineCap:"butt",o=this.strokeLineJoin?this.strokeLineJoin:"miter",s=this.strokeMiterLimit?this.strokeMiterLimit:"4",u=void 0!==this.opacity?this.opacity:"1",c=this.visible?"":" visibility: hidden;",l=e?"":this.getSvgFilter(),d=qT(H_,this.fill);return[qT(W_,this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",n,"; ","stroke-linecap: ",a,"; ","stroke-dashoffset: ",i,"; ","stroke-linejoin: ",o,"; ","stroke-miterlimit: ",s,"; ",d,"fill-rule: ",t,"; ","opacity: ",u,";",l,c].join("")}},{key:"getSvgFilter",value:function(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}},{key:"getSvgCommons",value:function(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}},{key:"getSvgTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e?this.calcTransformMatrix():this.calcOwnMatrix(),n='transform="'.concat(WT(r));return"".concat(n).concat(t,'" ')}},{key:"_toSVG",value:function(e){return[""]}},{key:"toSVG",value:function(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}},{key:"toClipPathSVG",value:function(e){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}},{key:"_createBaseClipPathSVGMarkup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.reviver,n=t.additionalTransform,i=void 0===n?"":n,a=[this.getSvgTransform(!0,i),this.getSvgCommons()].join(""),o=e.indexOf("COMMON_PARTS");return e[o]=a,r?r(e.join("")):e.join("")}},{key:"_createBaseSVGMarkup",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.noStyle,i=r.reviver,a=r.withShadow,o=r.additionalTransform,s=n?"":'style="'.concat(this.getSvgStyles(),'" '),u=a?'style="'.concat(this.getSvgFilter(),'" '):"",c=this.clipPath,l=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",d=c&&c.absolutePositioned,f=this.stroke,h=this.fill,p=this.shadow,v=[],g=e.indexOf("COMMON_PARTS");c&&(c.clipPathId="CLIPPATH_".concat(uT()),t='<clipPath id="'.concat(c.clipPathId,'" >\n').concat(c.toClipPathSVG(i),"</clipPath>\n")),d&&v.push("<g ",u,this.getSvgCommons()," >\n"),v.push("<g ",this.getSvgTransform(!1),d?"":u+this.getSvgCommons()," >\n");var m=[s,l,n?"":this.addPaintOrder()," ",o?'transform="'.concat(o,'" '):""].join("");return e[g]=m,zT(h)&&v.push(h.toSVG(this)),zT(f)&&v.push(f.toSVG(this)),p&&v.push(p.toSVG(this)),c&&v.push(t),v.push(e.join("")),v.push("</g>\n"),d&&v.push("</g>\n"),i?i(v.join("")):v.join("")}},{key:"addPaintOrder",value:function(){return this.paintFirst!==H_?' paint-order="'.concat(this.paintFirst,'" '):""}}]),e}();function jA(e){return new RegExp("^("+e.join("|")+")\\b","i")}var MA=String.raw(OA||(OA=t_(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"])));String.raw(RA||(RA=t_(["(?:s+,?s*|,s*|$)"],["(?:\\s+,?\\s*|,\\s*|$)"])));var DA=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+MA+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+MA+"))?\\s+(.*)"),FA={cx:w_,x:w_,r:"radius",cy:k_,y:k_,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},UA="font-size",BA="clip-path",GA=(jA(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),jA(["symbol","image","marker","pattern","view","svg"]),jA(["symbol","g","a","svg","clipPath","defs"])),VA=(new RegExp("^\\s*("+MA+"+)\\s*,?\\s*("+MA+"+)\\s*,?\\s*("+MA+"+)\\s*,?\\s*("+MA+"+)\\s*$"),new eT(1,0)),HA=new eT,WA=function(e,t){return e.rotate(t)},qA=function(e,t){return new eT(t).subtract(e)},zA=function(e){return e.distanceFrom(HA)},YA=function(e,t){return Math.atan2(ZA(e,t),QA(e,t))},XA=function(e){return YA(VA,e)},KA=function(e){return e.eq(HA)?e:e.scalarDivide(zA(e))},JA=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return KA(new eT(-e.y,e.x).scalarMultiply(t?1:-1))},ZA=function(e,t){return e.x*t.y-e.y*t.x},QA=function(e,t){return e.x*t.x+e.y*t.y},$A=function(e,t,r){if(e.eq(t)||e.eq(r))return!0;var n=ZA(t,r),i=ZA(t,e),a=ZA(r,e);return n>=0?i>=0&&a<=0:!(i<=0&&a>=0)},eC="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",tC=new RegExp("(?:\\s|^)"+eC+eC+"("+MA+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)"),rC=function(){function e(t){c(this,e);var r="string"==typeof t?e.parseShadow(t):t;Object.assign(this,e.ownDefaults,r),this.id=uT()}return h(e,[{key:"toString",value:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}},{key:"toSVG",value:function(e){var t=WA(new eT(this.offsetX,this.offsetY),fT(-e.angle)),r=new BT(this.color),n=40,i=40;return e.width&&e.height&&(n=100*GT((Math.abs(t.x)+this.blur)/e.width,i_.NUM_FRACTION_DIGITS)+20,i=100*GT((Math.abs(t.y)+this.blur)/e.height,i_.NUM_FRACTION_DIGITS)+20),e.flipX&&(t.x*=-1),e.flipY&&(t.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(i,'%" height="').concat(100+2*i,'%" x="-').concat(n,'%" width="').concat(100+2*n,'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="').concat(GT(this.blur?this.blur/2:0,i_.NUM_FRACTION_DIGITS),'"></feGaussianBlur>\n\t<feOffset dx="').concat(GT(t.x,i_.NUM_FRACTION_DIGITS),'" dy="').concat(GT(t.y,i_.NUM_FRACTION_DIGITS),'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="').concat(r.toRgb(),'" flood-opacity="').concat(r.getAlpha(),'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n')}},{key:"toObject",value:function(){var t={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},r=e.ownDefaults;return this.includeDefaultValues?t:NT(t,(function(e,t){return e!==r[t]}))}}],[{key:"parseShadow",value:function(e){var t=e.trim(),r=(tC.exec(t)||[]).map((function(e){return parseFloat(e)||0})),n=k(r,4),i=n[1],a=void 0===i?0:i,o=n[2],s=void 0===o?0:o,u=n[3],c=void 0===u?0:u;return{color:(t.replace(tC,"")||"rgb(0,0,0)").trim(),offsetX:a,offsetY:s,blur:c}}},{key:"fromObject",value:function(){var e=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new this(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Zk(rC,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),Zk(rC,"type","shadow"),X_.setClass(rC,"shadow");var nC=function(e,t,r){return Math.max(e,Math.min(t,r))},iC=[k_,w_,U_,B_,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",G_,V_],aC=[H_,W_,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],oC={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:w_,originY:k_,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:H_,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},sC=function(e,t,r,n){return e<Math.abs(t)?(e=t,n=r/4):n=0===t&&0===e?r/y_*Math.asin(1):r/y_*Math.asin(t/e),{a:e,c:t,p:r,s:n}},uC=function(e,t,r,n,i){return e*Math.pow(2,10*(n-=1))*Math.sin((n*i-t)*y_/r)},cC=function(e,t,r,n){return-r*Math.cos(e/n*m_)+r+t},lC=function(e,t,r,n){return(e/=n)<1/2.75?r*(7.5625*e*e)+t:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+.9375)+t:r*(7.5625*(e-=2.625/2.75)*e+.984375)+t},dC=function(e,t,r,n){return r-lC(n-e,0,r,n)+t},fC=Object.freeze({__proto__:null,defaultEasing:cC,easeInBack:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return r*(e/=n)*e*((i+1)*e-i)+t},easeInBounce:dC,easeInCirc:function(e,t,r,n){return-r*(Math.sqrt(1-(e/=n)*e)-1)+t},easeInCubic:function(e,t,r,n){return r*Math.pow(e/n,3)+t},easeInElastic:function(e,t,r,n){var i=0;if(0===e)return t;if(1===(e/=n))return t+r;i||(i=.3*n);var a=sC(r,r,i,1.70158),o=a.a,s=a.s,u=a.p;return-uC(o,s,u,e,n)+t},easeInExpo:function(e,t,r,n){return 0===e?t:r*Math.pow(2,10*(e/n-1))+t},easeInOutBack:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return(e/=n/2)<1?r/2*(e*e*((1+(i*=1.525))*e-i))+t:r/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},easeInOutBounce:function(e,t,r,n){return e<n/2?.5*dC(2*e,0,r,n)+t:.5*lC(2*e-n,0,r,n)+.5*r+t},easeInOutCirc:function(e,t,r,n){return(e/=n/2)<1?-r/2*(Math.sqrt(1-Math.pow(e,2))-1)+t:r/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInOutCubic:function(e,t,r,n){return(e/=n/2)<1?r/2*Math.pow(e,3)+t:r/2*(Math.pow(e-2,3)+2)+t},easeInOutElastic:function(e,t,r,n){var i=0;if(0===e)return t;if(2===(e/=n/2))return t+r;i||(i=n*(.3*1.5));var a=sC(r,r,i,1.70158),o=a.a,s=a.s,u=a.p,c=a.c;return e<1?-.5*uC(o,s,u,e,n)+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*n-s)*y_/u)*.5+c+t},easeInOutExpo:function(e,t,r,n){return 0===e?t:e===n?t+r:(e/=n/2)<1?r/2*Math.pow(2,10*(e-1))+t:r/2*-(Math.pow(2,-10*--e)+2)+t},easeInOutQuad:function(e,t,r,n){return(e/=n/2)<1?r/2*Math.pow(e,2)+t:-r/2*(--e*(e-2)-1)+t},easeInOutQuart:function(e,t,r,n){return(e/=n/2)<1?r/2*Math.pow(e,4)+t:-r/2*((e-=2)*Math.pow(e,3)-2)+t},easeInOutQuint:function(e,t,r,n){return(e/=n/2)<1?r/2*Math.pow(e,5)+t:r/2*(Math.pow(e-2,5)+2)+t},easeInOutSine:function(e,t,r,n){return-r/2*(Math.cos(Math.PI*e/n)-1)+t},easeInQuad:function(e,t,r,n){return r*(e/=n)*e+t},easeInQuart:function(e,t,r,n){return r*(e/=n)*Math.pow(e,3)+t},easeInQuint:function(e,t,r,n){return r*Math.pow(e/n,5)+t},easeInSine:function(e,t,r,n){return-r*Math.cos(e/n*m_)+r+t},easeOutBack:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.70158;return r*((e=e/n-1)*e*((i+1)*e+i)+1)+t},easeOutBounce:lC,easeOutCirc:function(e,t,r,n){return r*Math.sqrt(1-(e=e/n-1)*e)+t},easeOutCubic:function(e,t,r,n){return r*(Math.pow(e/n-1,3)+1)+t},easeOutElastic:function(e,t,r,n){var i=0;if(0===e)return t;if(1===(e/=n))return t+r;i||(i=.3*n);var a=sC(r,r,i,1.70158),o=a.a,s=a.s,u=a.p,c=a.c;return o*Math.pow(2,-10*e)*Math.sin((e*n-s)*y_/u)+c+t},easeOutExpo:function(e,t,r,n){return e===n?t+r:r*-(Math.pow(2,-10*e/n)+1)+t},easeOutQuad:function(e,t,r,n){return-r*(e/=n)*(e-2)+t},easeOutQuart:function(e,t,r,n){return-r*((e=e/n-1)*Math.pow(e,3)-1)+t},easeOutQuint:function(e,t,r,n){return r*(Math.pow(e/n-1,5)+1)+t},easeOutSine:function(e,t,r,n){return r*Math.sin(e/n*m_)+t}}),hC=function(){return!1},pC=function(){function e(t){c(this,e);var r=t.startValue,n=t.byValue,i=t.duration,a=void 0===i?500:i,o=t.delay,s=void 0===o?0:o,u=t.easing,l=void 0===u?cC:u,d=t.onStart,f=void 0===d?g_:d,h=t.onChange,p=void 0===h?g_:h,v=t.onComplete,g=void 0===v?g_:v,m=t.abort,y=void 0===m?hC:m,b=t.target;Zk(this,"_state","pending"),Zk(this,"durationProgress",0),Zk(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=a,this.delay=s,this.easing=l,this._onStart=f,this._onChange=p,this._onComplete=g,this._abort=y,this.target=b,this.startValue=r,this.byValue=n,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}return h(e,[{key:"state",get:function(){return this._state}},{key:"isDone",value:function(){return"aborted"===this._state||"completed"===this._state}},{key:"start",value:function(){var e=this,t=function(t){"pending"===e._state&&(e.startTime=t||+new Date,e._state="running",e._onStart(),e.tick(e.startTime))};this.register(),this.delay>0?setTimeout((function(){return aT(t)}),this.delay):aT(t)}},{key:"tick",value:function(e){var t=(e||+new Date)-this.startTime,r=Math.min(t,this.duration);this.durationProgress=r/this.duration;var n=this.calculate(r),i=n.value,a=n.valueProgress;this.value=Object.freeze(i),this.valueProgress=a,"aborted"!==this._state&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):t>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),aT(this.tick)))}},{key:"register",value:function(){K_.push(this)}},{key:"unregister",value:function(){K_.remove(this)}},{key:"abort",value:function(){this._state="aborted",this.unregister()}}]),e}(),vC=["startValue","endValue"],gC=function(e){v(r,e);var t=b(r);function r(e){c(this,r);var n=e.startValue,i=void 0===n?0:n,a=e.endValue,o=void 0===a?100:a;return t.call(this,$k($k({},e_(e,vC)),{},{startValue:i,byValue:o-i}))}return h(r,[{key:"calculate",value:function(e){var t=this.easing(e,this.startValue,this.byValue,this.duration);return{value:t,valueProgress:Math.abs((t-this.startValue)/this.byValue)}}}]),r}(pC),mC=["startValue","endValue"],yC=function(e){v(r,e);var t=b(r);function r(e){c(this,r);var n=e.startValue,i=void 0===n?[0]:n,a=e.endValue,o=void 0===a?[100]:a;return t.call(this,$k($k({},e_(e,mC)),{},{startValue:i,byValue:o.map((function(e,t){return e-i[t]}))}))}return h(r,[{key:"calculate",value:function(e){var t=this,r=this.startValue.map((function(r,n){return t.easing(e,r,t.byValue[n],t.duration,n)}));return{value:r,valueProgress:Math.abs((r[0]-this.startValue[0])/this.byValue[0])}}}]),r}(pC),bC=["startValue","endValue","easing","onChange","onComplete","abort"],SC=function(e,t,r,n){return t+r*(1-Math.cos(e/n*m_))},EC=function(e){return e&&function(t,r,n){return e(new BT(t).toRgba(),r,n)}},xC=function(e){v(r,e);var t=b(r);function r(e){c(this,r);var n=e.startValue,i=e.endValue,a=e.easing,o=void 0===a?SC:a,s=e.onChange,u=e.onComplete,l=e.abort,d=e_(e,bC),f=new BT(n).getSource(),h=new BT(i).getSource();return t.call(this,$k($k({},d),{},{startValue:f,byValue:h.map((function(e,t){return e-f[t]})),easing:o,onChange:EC(s),onComplete:EC(u),abort:EC(l)}))}return h(r,[{key:"calculate",value:function(e){var t=this,r=this.startValue.map((function(r,n){return t.easing(e,r,t.byValue[n],t.duration,n)})),n=k(r,4),i=n[0],a=n[1],o=n[2],s=n[3],c=[].concat(u([i,a,o].map(Math.round)),[nC(0,s,1)]);return{value:c,valueProgress:c.map((function(e,r){return 0!==t.byValue[r]?Math.abs((e-t.startValue[r])/t.byValue[r]):0})).find((function(e){return 0!==e}))||0}}}]),r}(pC);function wC(e){var t=function(e){return Array.isArray(e.startValue)||Array.isArray(e.endValue)}(e)?new yC(e):new gC(e);return t.start(),t}function kC(e){var t=new xC(e);return t.start(),t}var _C=function(){function e(t){c(this,e),this.status=t,this.points=[]}return h(e,[{key:"includes",value:function(e){return this.points.some((function(t){return t.eq(e)}))}},{key:"append",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.points=this.points.concat(r.filter((function(t){return!e.includes(t)}))),this}}],[{key:"isPointContained",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t.eq(r))return e.eq(t);if(t.x===r.x)return e.x===t.x&&(n||e.y>=Math.min(t.y,r.y)&&e.y<=Math.max(t.y,r.y));if(t.y===r.y)return e.y===t.y&&(n||e.x>=Math.min(t.x,r.x)&&e.x<=Math.max(t.x,r.x));var i=qA(t,r),a=qA(t,e).divide(i);return n?Math.abs(a.x)===Math.abs(a.y):a.x===a.y&&a.x>=0&&a.x<=1}},{key:"isPointInPolygon",value:function(e,t){for(var r=new eT(e).setX(Math.min.apply(Math,[e.x-1].concat(u(t.map((function(e){return e.x})))))),n=0,i=0;i<t.length;i++){var a=this.intersectSegmentSegment(t[i],t[(i+1)%t.length],e,r);if(a.includes(e))return!0;n+=Number("Intersection"===a.status)}return n%2==1}},{key:"intersectLineLine",value:function(t,r,n,i){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=r.x-t.x,u=r.y-t.y,c=i.x-n.x,l=i.y-n.y,d=t.x-n.x,f=t.y-n.y,h=c*f-l*d,p=s*f-u*d,v=l*s-c*u;if(0!==v){var g=h/v,m=p/v;return(a||0<=g&&g<=1)&&(o||0<=m&&m<=1)?new e("Intersection").append(new eT(t.x+g*s,t.y+g*u)):new e}if(0===h||0===p){var y=a||o||e.isPointContained(t,n,i)||e.isPointContained(r,n,i)||e.isPointContained(n,t,r)||e.isPointContained(i,t,r);return new e(y?"Coincident":void 0)}return new e("Parallel")}},{key:"intersectSegmentLine",value:function(t,r,n,i){return e.intersectLineLine(t,r,n,i,!1,!0)}},{key:"intersectSegmentSegment",value:function(t,r,n,i){return e.intersectLineLine(t,r,n,i,!1,!1)}},{key:"intersectLinePolygon",value:function(t,r,n){for(var i,a,o,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=new e,l=n.length,d=0;d<l;d++){if(i=n[d],a=n[(d+1)%l],"Coincident"===(o=e.intersectLineLine(t,r,i,a,s,!1)).status)return o;c.append.apply(c,u(o.points))}return c.points.length>0&&(c.status="Intersection"),c}},{key:"intersectSegmentPolygon",value:function(t,r,n){return e.intersectLinePolygon(t,r,n,!1)}},{key:"intersectPolygonPolygon",value:function(t,r){for(var n=new e,i=t.length,a=[],o=0;o<i;o++){var s=t[o],c=t[(o+1)%i],l=e.intersectSegmentPolygon(s,c,r);"Coincident"===l.status?(a.push(l),n.append(s,c)):n.append.apply(n,u(l.points))}return a.length>0&&a.length===t.length?new e("Coincident"):(n.points.length>0&&(n.status="Intersection"),n)}},{key:"intersectPolygonRectangle",value:function(t,r,n){var i=r.min(n),a=r.max(n),o=new eT(a.x,i.y),s=new eT(i.x,a.y);return e.intersectPolygonPolygon(t,[i,o,a,s])}}]),e}(),TC=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"getX",value:function(){return this.getXY().x}},{key:"setX",value:function(e){this.setXY(this.getXY().setX(e))}},{key:"getY",value:function(){return this.getXY().y}},{key:"setY",value:function(e){this.setXY(this.getXY().setY(e))}},{key:"getRelativeX",value:function(){return this.left}},{key:"setRelativeX",value:function(e){this.left=e}},{key:"getRelativeY",value:function(){return this.top}},{key:"setRelativeY",value:function(e){this.top=e}},{key:"getXY",value:function(){var e=this.getRelativeXY();return this.group?vT(e,this.group.calcTransformMatrix()):e}},{key:"setXY",value:function(e,t,r){this.group&&(e=vT(e,gT(this.group.calcTransformMatrix()))),this.setRelativeXY(e,t,r)}},{key:"getRelativeXY",value:function(){return new eT(this.left,this.top)}},{key:"setRelativeXY",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.originX,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.originY;this.setPositionByOrigin(e,t,r)}},{key:"isStrokeAccountedForInDimensions",value:function(){return!1}},{key:"getCoords",value:function(){var e=this.aCoords||(this.aCoords=this.calcACoords()),t=[e.tl,e.tr,e.br,e.bl];if(this.group){var r=this.group.calcTransformMatrix();return t.map((function(e){return vT(e,r)}))}return t}},{key:"intersectsWithRect",value:function(e,t){return"Intersection"===_C.intersectPolygonRectangle(this.getCoords(),e,t).status}},{key:"intersectsWithObject",value:function(e){var t=_C.intersectPolygonPolygon(this.getCoords(),e.getCoords());return"Intersection"===t.status||"Coincident"===t.status||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}},{key:"isContainedWithinObject",value:function(e){return this.getCoords().every((function(t){return e.containsPoint(t)}))}},{key:"isContainedWithinRect",value:function(e,t){var r=this.getBoundingRect(),n=r.left,i=r.top,a=r.width,o=r.height;return n>=e.x&&n+a<=t.x&&i>=e.y&&i+o<=t.y}},{key:"isOverlapping",value:function(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}},{key:"containsPoint",value:function(e){return _C.isPointInPolygon(e,this.getCoords())}},{key:"isOnScreen",value:function(){if(!this.canvas)return!1;var e=this.canvas.vptCoords,t=e.tl,r=e.br;return!!this.getCoords().some((function(e){return e.x<=r.x&&e.x>=t.x&&e.y<=r.y&&e.y>=t.y}))||!!this.intersectsWithRect(t,r)||this.containsPoint(t.midPointFrom(r))}},{key:"isPartiallyOnScreen",value:function(){if(!this.canvas)return!1;var e=this.canvas.vptCoords,t=e.tl,r=e.br;return!!this.intersectsWithRect(t,r)||this.getCoords().every((function(e){return(e.x>=r.x||e.x<=t.x)&&(e.y>=r.y||e.y<=t.y)}))&&this.containsPoint(t.midPointFrom(r))}},{key:"getBoundingRect",value:function(){return lA(this.getCoords())}},{key:"getScaledWidth",value:function(){return this._getTransformedDimensions().x}},{key:"getScaledHeight",value:function(){return this._getTransformedDimensions().y}},{key:"scale",value:function(e){this._set(U_,e),this._set(B_,e),this.setCoords()}},{key:"scaleToWidth",value:function(e){var t=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/t)}},{key:"scaleToHeight",value:function(e){var t=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/t)}},{key:"getCanvasRetinaScaling",value:function(){var e;return(null===(e=this.canvas)||void 0===e?void 0:e.getRetinaScaling())||1}},{key:"getTotalAngle",value:function(){return this.group?hT(bT(this.calcTransformMatrix())):this.angle}},{key:"getViewportTransform",value:function(){var e;return(null===(e=this.canvas)||void 0===e?void 0:e.viewportTransform)||S_.concat()}},{key:"calcACoords",value:function(){var e=xT({angle:this.angle}),t=this.getRelativeCenterPoint(),r=t.x,n=t.y,i=ET(r,n),a=mT(i,e),o=this._getTransformedDimensions(),s=o.x/2,u=o.y/2;return{tl:vT({x:-s,y:-u},a),tr:vT({x:s,y:-u},a),bl:vT({x:-s,y:u},a),br:vT({x:s,y:u},a)}}},{key:"setCoords",value:function(){this.aCoords=this.calcACoords()}},{key:"transformMatrixKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];return!e&&this.group&&(t=this.group.transformMatrixKey(e)),t.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,wA(this.originX),wA(this.originY)),t}},{key:"calcTransformMatrix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.calcOwnMatrix();if(e||!this.group)return t;var r=this.transformMatrixKey(e),n=this.matrixCache;return n&&n.key.every((function(e,t){return e===r[t]}))?n.value:(this.group&&(t=mT(this.group.calcTransformMatrix(!1),t)),this.matrixCache={key:r,value:t},t)}},{key:"calcOwnMatrix",value:function(){var e=this.transformMatrixKey(!0),t=this.ownMatrixCache;if(t&&t.key===e)return t.value;var r=this.getRelativeCenterPoint(),n={angle:this.angle,translateX:r.x,translateY:r.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},i=CT(n);return this.ownMatrixCache={key:e,value:i},i}},{key:"_getNonTransformedDimensions",value:function(){return new eT(this.width,this.height).scalarAdd(this.strokeWidth)}},{key:"_calculateCurrentDimensions",value:function(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}},{key:"_getTransformedDimensions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=$k({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),r=t.strokeWidth,n=r,i=0;this.strokeUniform&&(n=0,i=r);var a=t.width+n,o=t.height+n;return(0===t.skewX&&0===t.skewY?new eT(a*t.scaleX,o*t.scaleY):gA(a,o,AT(t))).scalarAdd(i)}},{key:"translateToGivenOrigin",value:function(e,t,r,n,i){var a=e.x,o=e.y,s=wA(n)-wA(t),u=wA(i)-wA(r);if(s||u){var c=this._getTransformedDimensions();a+=s*c.x,o+=u*c.y}return new eT(a,o)}},{key:"translateToCenterPoint",value:function(e,t,r){if(t===x_&&r===x_)return e;var n=this.translateToGivenOrigin(e,t,r,x_,x_);return this.angle?n.rotate(fT(this.angle),e):n}},{key:"translateToOriginPoint",value:function(e,t,r){var n=this.translateToGivenOrigin(e,x_,x_,t,r);return this.angle?n.rotate(fT(this.angle),e):n}},{key:"getCenterPoint",value:function(){var e=this.getRelativeCenterPoint();return this.group?vT(e,this.group.calcTransformMatrix()):e}},{key:"getRelativeCenterPoint",value:function(){return this.translateToCenterPoint(new eT(this.left,this.top),this.originX,this.originY)}},{key:"getPointByOrigin",value:function(e,t){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,t)}},{key:"setPositionByOrigin",value:function(e,t,r){var n=this.translateToCenterPoint(e,t,r),i=this.translateToOriginPoint(n,this.originX,this.originY);this.set({left:i.x,top:i.y})}},{key:"_getLeftTopCoords",value:function(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),w_,k_)}}]),r}(iT),AC=["type"],CC=["extraParam"],PC=function(e){v(r,e);var t=b(r);function r(e){var n;return c(this,r),Zk(y(n=t.call(this)),"_cacheContext",null),Object.assign(y(n),r.ownDefaults),n.setOptions(e),n}return h(r,[{key:"type",get:function(){var e=this.constructor.type;return"FabricObject"===e?"object":e.toLowerCase()},set:function(e){a_("warn","Setting type has no effect",e)}},{key:"_createCacheCanvas",value:function(){this._cacheCanvas=cT(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}},{key:"_limitCacheSize",value:function(e){var t=e.width,r=e.height,n=i_.maxCacheSideLimit,i=i_.minCacheSideLimit;if(t<=n&&r<=n&&t*r<=i_.perfLimitSizeTotal)return t<i&&(e.width=i),r<i&&(e.height=i),e;var a=t/r,o=k(p_.limitDimsByArea(a),2),s=o[0],u=o[1],c=nC(i,s,n),l=nC(i,u,n);return t>c&&(e.zoomX/=t/c,e.width=c,e.capped=!0),r>l&&(e.zoomY/=r/l,e.height=l,e.capped=!0),e}},{key:"_getCacheCanvasDimensions",value:function(){var e=this.getTotalObjectScaling(),t=this._getTransformedDimensions({skewX:0,skewY:0}),r=t.x*e.x/this.scaleX,n=t.y*e.y/this.scaleY;return{width:r+2,height:n+2,zoomX:e.x,zoomY:e.y,x:r,y:n}}},{key:"_updateCacheCanvas",value:function(){var e=this._cacheCanvas,t=this._cacheContext,r=this._limitCacheSize(this._getCacheCanvasDimensions()),n=i_.minCacheSideLimit,i=r.width,a=r.height,o=r.zoomX,s=r.zoomY,u=i!==e.width||a!==e.height,c=this.zoomX!==o||this.zoomY!==s;if(!e||!t)return!1;var l,d,f=u||c,h=0,p=0,v=!1;if(u){var g=this._cacheCanvas.width,m=this._cacheCanvas.height,y=i>g||a>m;v=y||(i<.9*g||a<.9*m)&&g>n&&m>n,y&&!r.capped&&(i>n||a>n)&&(h=.1*i,p=.1*a)}return KT(this)&&this.path&&(f=!0,v=!0,h+=this.getHeightOfLine(0)*this.zoomX,p+=this.getHeightOfLine(0)*this.zoomY),!!f&&(v?(e.width=Math.ceil(i+h),e.height=Math.ceil(a+p)):(t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height)),l=r.x/2,d=r.y/2,this.cacheTranslationX=Math.round(e.width/2-l)+l,this.cacheTranslationY=Math.round(e.height/2-d)+d,t.translate(this.cacheTranslationX,this.cacheTranslationY),t.scale(o,s),this.zoomX=o,this.zoomY=s,!0)}},{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setOptions(e)}},{key:"transform",value:function(e){var t=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,r=this.calcTransformMatrix(!t);e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}},{key:"getObjectScaling",value:function(){if(!this.group)return new eT(Math.abs(this.scaleX),Math.abs(this.scaleY));var e=ST(this.calcTransformMatrix());return new eT(Math.abs(e.scaleX),Math.abs(e.scaleY))}},{key:"getTotalObjectScaling",value:function(){var e=this.getObjectScaling();if(this.canvas){var t=this.canvas.getZoom(),r=this.getCanvasRetinaScaling();return e.scalarMultiply(t*r)}return e}},{key:"getObjectOpacity",value:function(){var e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}},{key:"_constrainScale",value:function(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:0===e?1e-4:e}},{key:"_set",value:function(e,t){e!==U_&&e!==B_||(t=this._constrainScale(t)),e===U_&&t<0?(this.flipX=!this.flipX,t*=-1):"scaleY"===e&&t<0?(this.flipY=!this.flipY,t*=-1):"shadow"!==e||!t||t instanceof rC||(t=new rC(t));var r=this[e]!==t;return this[e]=t,r&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||r&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}},{key:"isNotVisible",value:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible}},{key:"render",value:function(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e),this.dirty=!1),e.restore())}},{key:"drawSelectionBackground",value:function(e){}},{key:"renderCache",value:function(e){e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext&&(this.drawObject(this._cacheContext,e.forClipping),this.dirty=!1)}},{key:"_removeCacheCanvas",value:function(){this._cacheCanvas=void 0,this._cacheContext=null}},{key:"hasStroke",value:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth}},{key:"hasFill",value:function(){return this.fill&&"transparent"!==this.fill}},{key:"needsItsOwnCache",value:function(){return!!(this.paintFirst===W_&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}},{key:"shouldCache",value:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.parent||!this.parent.isOnACache()),this.ownCaching}},{key:"willDrawShadow",value:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)}},{key:"drawClipPathOnCache",value:function(e,t){if(e.save(),t.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",t.absolutePositioned){var r=gT(this.calcTransformMatrix());e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}t.transform(e),e.scale(1/t.zoomX,1/t.zoomY),e.drawImage(t._cacheCanvas,-t.cacheTranslationX,-t.cacheTranslationY),e.restore()}},{key:"drawObject",value:function(e,t){var r=this.fill,n=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath),this.fill=r,this.stroke=n}},{key:"_drawClipPath",value:function(e,t){t&&(t._set("canvas",this.canvas),t.shouldCache(),t._transformDone=!0,t.renderCache({forClipping:!0}),this.drawClipPathOnCache(e,t))}},{key:"drawCacheOnCanvas",value:function(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}},{key:"isCacheDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isNotVisible())return!1;var t=this._cacheCanvas,r=this._cacheContext;return!(!t||!r||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(t&&r&&!e&&(r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),r.restore()),!0)}},{key:"_renderBackground",value:function(e){if(this.backgroundColor){var t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}}},{key:"_setOpacity",value:function(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}},{key:"_setStrokeStyles",value:function(e,t){var r=t.stroke;r&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,zT(r)?"percentage"===r.gradientUnits||r.gradientTransform||r.patternTransform?this._applyPatternForTransformedGradient(e,r):(e.strokeStyle=r.toLive(e),this._applyPatternGradientTransform(e,r)):e.strokeStyle=t.stroke)}},{key:"_setFillStyles",value:function(e,t){var r=t.fill;r&&(zT(r)?(e.fillStyle=r.toLive(e),this._applyPatternGradientTransform(e,r)):e.fillStyle=r)}},{key:"_setClippingProperties",value:function(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}},{key:"_setLineDash",value:function(e,t){t&&0!==t.length&&(1&t.length&&t.push.apply(t,u(t)),e.setLineDash(t))}},{key:"_setShadow",value:function(e){if(this.shadow){var t=this.shadow,r=this.canvas,n=this.getCanvasRetinaScaling(),i=k((null==r?void 0:r.viewportTransform)||S_,4),a=i[0]*n,o=i[3]*n,s=t.nonScaling?new eT(1,1):this.getObjectScaling();e.shadowColor=t.color,e.shadowBlur=t.blur*i_.browserShadowBlurConstant*(a+o)*(s.x+s.y)/4,e.shadowOffsetX=t.offsetX*a*s.x,e.shadowOffsetY=t.offsetY*o*s.y}}},{key:"_removeShadow",value:function(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}},{key:"_applyPatternGradientTransform",value:function(e,t){if(!zT(t))return{offsetX:0,offsetY:0};var r=t.gradientTransform||t.patternTransform,n=-this.width/2+t.offsetX||0,i=-this.height/2+t.offsetY||0;return"percentage"===t.gradientUnits?e.transform(this.width,0,0,this.height,n,i):e.transform(1,0,0,1,n,i),r&&e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),{offsetX:n,offsetY:i}}},{key:"_renderPaintInOrder",value:function(e){this.paintFirst===W_?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}},{key:"_render",value:function(e){}},{key:"_renderFill",value:function(e){this.fill&&(e.save(),this._setFillStyles(e,this),"evenodd"===this.fillRule?e.fill("evenodd"):e.fill(),e.restore())}},{key:"_renderStroke",value:function(e){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){var t=this.getObjectScaling();e.scale(1/t.x,1/t.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}},{key:"_applyPatternForTransformedGradient",value:function(e,t){var r,n=this._limitCacheSize(this._getCacheCanvasDimensions()),i=cT(),a=this.getCanvasRetinaScaling(),o=n.x/this.scaleX/a,s=n.y/this.scaleY/a;i.width=Math.ceil(o),i.height=Math.ceil(s);var u=i.getContext("2d");u&&(u.beginPath(),u.moveTo(0,0),u.lineTo(o,0),u.lineTo(o,s),u.lineTo(0,s),u.closePath(),u.translate(o/2,s/2),u.scale(n.zoomX/this.scaleX/a,n.zoomY/this.scaleY/a),this._applyPatternGradientTransform(u,t),u.fillStyle=t.toLive(e),u.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(a*this.scaleX/n.zoomX,a*this.scaleY/n.zoomY),e.strokeStyle=null!==(r=u.createPattern(i,"no-repeat"))&&void 0!==r?r:"")}},{key:"_findCenterFromElement",value:function(){return new eT(this.left+this.width/2,this.top+this.height/2)}},{key:"clone",value:function(e){var t=this.toObject(e);return this.constructor.fromObject(t)}},{key:"cloneAsImage",value:function(e){var t=this.toCanvasElement(e);return new(X_.getClass("image"))(t)}},{key:"toCanvasElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=vA(this),r=this.group,n=this.shadow,i=Math.abs,a=e.enableRetinaScaling?h_():1,o=(e.multiplier||1)*a,s=e.canvasProvider||function(e){return new aA(e,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1})};delete this.group,e.withoutTransform&&pA(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&SA(this,this.getViewportTransform()),this.setCoords();var u=cT(),c=this.getBoundingRect(),l=this.shadow,d=new eT;if(l){var f=l.blur,h=l.nonScaling?new eT(1,1):this.getObjectScaling();d.x=2*Math.round(i(l.offsetX)+f)*i(h.x),d.y=2*Math.round(i(l.offsetY)+f)*i(h.y)}var p=c.width+d.x,v=c.height+d.y;u.width=Math.ceil(p),u.height=Math.ceil(v);var g=s(u);"jpeg"===e.format&&(g.backgroundColor="#fff"),this.setPositionByOrigin(new eT(g.width/2,g.height/2),x_,x_);var m=this.canvas;g._objects=[this],this.set("canvas",g),this.setCoords();var y=g.toCanvasElement(o||1,e);return this.set("canvas",m),this.shadow=n,r&&(this.group=r),this.set(t),this.setCoords(),g._objects=[],g.destroy(),y}},{key:"toDataURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return dT(this.toCanvasElement(e),e.format||"png",e.quality||1)}},{key:"isType",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.includes(this.constructor.type)||t.includes(this.type)}},{key:"complexity",value:function(){return 1}},{key:"toJSON",value:function(){return this.toObject()}},{key:"rotate",value:function(e){var t=this.centeredRotation,r=this.originX,n=this.originY;if(t){var i=this.getRelativeCenterPoint(),a=i.x,o=i.y;this.originX=x_,this.originY=x_,this.left=a,this.top=o}if(this.set("angle",e),t){var s=this.translateToOriginPoint(this.getRelativeCenterPoint(),r,n),u=s.x,c=s.y;this.left=u,this.top=c,this.originX=r,this.originY=n}}},{key:"setOnGroup",value:function(){}},{key:"_setupCompositeOperation",value:function(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}},{key:"dispose",value:function(){K_.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&l_().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}},{key:"animate",value:function(e,t){var r=this;return Object.entries(e).reduce((function(e,n){var i=k(n,2),a=i[0],o=i[1];return e[a]=r._animate(a,o,t),e}),{})}},{key:"_animate",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.split("."),a=this.constructor.colorProperties.includes(i[i.length-1]),o=n.abort,s=n.startValue,u=n.onChange,c=n.onComplete,l=$k($k({},n),{},{target:this,startValue:null!=s?s:i.reduce((function(e,t){return e[t]}),this),endValue:t,abort:null==o?void 0:o.bind(this),onChange:function(e,t,n){i.reduce((function(t,r,n){return n===i.length-1&&(t[r]=e),t[r]}),r),u&&u(e,t,n)},onComplete:function(e,t,n){r.setCoords(),c&&c(e,t,n)}});return a?kC(l):wC(l)}},{key:"isDescendantOf",value:function(e){var t=this.parent,r=this.group;return t===e||r===e||!!t&&t.isDescendantOf(e)||!!r&&r!==t&&r.isDescendantOf(e)}},{key:"getAncestors",value:function(){var e=[],t=this;do{(t=t.parent)&&e.push(t)}while(t);return e}},{key:"findCommonAncestors",value:function(e){if(this===e)return{fork:[],otherFork:[],common:[this].concat(u(this.getAncestors()))};var t=this.getAncestors(),r=e.getAncestors();if(0===t.length&&r.length>0&&this===r[r.length-1])return{fork:[],otherFork:[e].concat(u(r.slice(0,r.length-1))),common:[this]};for(var n,i=0;i<t.length;i++){if((n=t[i])===e)return{fork:[this].concat(u(t.slice(0,i))),otherFork:[],common:t.slice(i)};for(var a=0;a<r.length;a++){if(this===r[a])return{fork:[],otherFork:[e].concat(u(r.slice(0,a))),common:[this].concat(u(t))};if(n===r[a])return{fork:[this].concat(u(t.slice(0,i))),otherFork:[e].concat(u(r.slice(0,a))),common:t.slice(i)}}}return{fork:[this].concat(u(t)),otherFork:[e].concat(u(r)),common:[]}}},{key:"hasCommonAncestors",value:function(e){var t=this.findCommonAncestors(e);return t&&!!t.common.length}},{key:"isInFrontOf",value:function(e){if(this!==e){var t=this.findCommonAncestors(e);if(t.fork.includes(e))return!0;if(t.otherFork.includes(this))return!1;var r=t.common[0]||this.canvas;if(r){var n=t.fork.pop(),i=t.otherFork.pop(),a=r._objects.indexOf(n),o=r._objects.indexOf(i);return a>-1&&a>o}}}},{key:"toObject",value:function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).concat(r.customProperties,this.constructor.customProperties||[]),n=i_.NUM_FRACTION_DIGITS,i=this.clipPath,a=this.fill,o=this.stroke,s=this.shadow,u=this.strokeDashArray,c=this.left,l=this.top,d=this.originX,f=this.originY,h=this.width,p=this.height,v=this.strokeWidth,g=this.strokeLineCap,m=this.strokeDashOffset,y=this.strokeLineJoin,b=this.strokeUniform,S=this.strokeMiterLimit,E=this.scaleX,x=this.scaleY,w=this.angle,k=this.flipX,_=this.flipY,T=this.opacity,A=this.visible,C=this.backgroundColor,P=this.fillRule,I=this.paintFirst,O=this.globalCompositeOperation,R=this.skewX,N=this.skewY;i&&!i.excludeFromExport&&(e=i.toObject(t.concat("inverted","absolutePositioned")));var L=function(e){return GT(e,n)},j=$k($k({},RT(this,t)),{},{type:this.constructor.type,version:v_,originX:d,originY:f,left:L(c),top:L(l),width:L(h),height:L(p),fill:YT(a)?a.toObject():a,stroke:YT(o)?o.toObject():o,strokeWidth:L(v),strokeDashArray:u?u.concat():u,strokeLineCap:g,strokeDashOffset:m,strokeLineJoin:y,strokeUniform:b,strokeMiterLimit:L(S),scaleX:L(E),scaleY:L(x),angle:L(w),flipX:k,flipY:_,opacity:L(T),shadow:s?s.toObject():s,visible:A,backgroundColor:C,fillRule:P,paintFirst:I,globalCompositeOperation:O,skewX:L(R),skewY:L(N)},e?{clipPath:e}:null);return this.includeDefaultValues?j:this._removeDefaultValues(j)}},{key:"toDatalessObject",value:function(e){return this.toObject(e)}},{key:"_removeDefaultValues",value:function(e){var t=this.constructor.getDefaults(),r=Object.keys(t).length>0?t:Object.getPrototypeOf(this);return NT(e,(function(e,t){if(t===w_||t===k_||"type"===t)return!0;var n=r[t];return e!==n&&!(Array.isArray(e)&&Array.isArray(n)&&0===e.length&&0===n.length)}))}},{key:"toString",value:function(){return"#<".concat(this.constructor.type,">")}}],[{key:"getDefaults",value:function(){return r.ownDefaults}},{key:"_fromObject",value:function(e){var t=this,r=e_(e,AC),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.extraParam,a=e_(n,CC);return OT(r,a).then((function(e){return i?(delete e[i],new t(r[i],e)):new t(e)}))}},{key:"fromObject",value:function(e,t){return this._fromObject(e,t)}}]),r}(TC);Zk(PC,"stateProperties",iC),Zk(PC,"cacheProperties",aC),Zk(PC,"ownDefaults",oC),Zk(PC,"type","FabricObject"),Zk(PC,"colorProperties",[H_,W_,"backgroundColor"]),Zk(PC,"customProperties",[]),X_.setClass(PC),X_.setClass(PC,"object");var IC=function(e,t,r){return function(n,i,a,o){var s=t(n,i,a,o);return s&&EA(e,$k($k({},CA(n,i,a,o)),r)),s}};function OC(e){return function(t,r,n,i){var a=r.target,o=r.originX,s=r.originY,u=a.getRelativeCenterPoint(),c=a.translateToOriginPoint(u,o,s),l=e(t,r,n,i);return a.setPositionByOrigin(c,r.originX,r.originY),l}}var RC=IC(L_,OC((function(e,t,r,n){var i=IA(t,t.originX,t.originY,r,n);if(wA(t.originX)===wA(x_)||wA(t.originX)===wA(T_)&&i.x<0||wA(t.originX)===wA(w_)&&i.x>0){var a=t.target,o=a.strokeWidth/(a.strokeUniform?a.scaleX:1),s=_A(t)?2:1,u=a.width,c=Math.ceil(Math.abs(i.x*s/a.scaleX)-o);return a.set("width",Math.max(c,0)),u!==a.width}return!1})));function NC(e,t,r,n,i){n=n||{};var a,o=this.sizeX||n.cornerSize||i.cornerSize,s=this.sizeY||n.cornerSize||i.cornerSize,u=void 0!==n.transparentCorners?n.transparentCorners:i.transparentCorners,c=u?W_:H_,l=!u&&(n.cornerStrokeColor||i.cornerStrokeColor),d=t,f=r;e.save(),e.fillStyle=n.cornerColor||i.cornerColor||"",e.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",o>s?(a=o,e.scale(1,s/o),f=r*o/s):s>o?(a=s,e.scale(o/s,1),d=t*s/o):a=o,e.lineWidth=1,e.beginPath(),e.arc(d,f,a/2,0,y_,!1),e[c](),l&&e.stroke(),e.restore()}function LC(e,t,r,n,i){n=n||{};var a=this.sizeX||n.cornerSize||i.cornerSize,o=this.sizeY||n.cornerSize||i.cornerSize,s=void 0!==n.transparentCorners?n.transparentCorners:i.transparentCorners,u=s?W_:H_,c=!s&&(n.cornerStrokeColor||i.cornerStrokeColor),l=a/2,d=o/2;e.save(),e.fillStyle=n.cornerColor||i.cornerColor||"",e.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",e.lineWidth=1,e.translate(t,r);var f=i.getTotalAngle();e.rotate(fT(f)),e["".concat(u,"Rect")](-l,-d,a,o),c&&e.strokeRect(-l,-d,a,o),e.restore()}var jC=function(){function e(t){c(this,e),Zk(this,"visible",!0),Zk(this,"actionName",F_),Zk(this,"angle",0),Zk(this,"x",0),Zk(this,"y",0),Zk(this,"offsetX",0),Zk(this,"offsetY",0),Zk(this,"sizeX",0),Zk(this,"sizeY",0),Zk(this,"touchSizeX",0),Zk(this,"touchSizeY",0),Zk(this,"cursorStyle","crosshair"),Zk(this,"withConnection",!1),Object.assign(this,t)}return h(e,[{key:"shouldActivate",value:function(e,t,r,n){var i,a=n.tl,o=n.tr,s=n.br,u=n.bl;return(null===(i=t.canvas)||void 0===i?void 0:i.getActiveObject())===t&&t.isControlVisible(e)&&_C.isPointInPolygon(r,[a,o,s,u])}},{key:"getActionHandler",value:function(e,t,r){return this.actionHandler}},{key:"getMouseDownHandler",value:function(e,t,r){return this.mouseDownHandler}},{key:"getMouseUpHandler",value:function(e,t,r){return this.mouseUpHandler}},{key:"cursorStyleHandler",value:function(e,t,r){return t.cursorStyle}},{key:"getActionName",value:function(e,t,r){return t.actionName}},{key:"getVisibility",value:function(e,t){var r,n;return null!==(r=null===(n=e._controlsVisibility)||void 0===n?void 0:n[t])&&void 0!==r?r:this.visible}},{key:"setVisibility",value:function(e,t,r){this.visible=e}},{key:"positionHandler",value:function(e,t,r,n){return new eT(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(t)}},{key:"calcCornerCoords",value:function(e,t,r,n,i,a){var o=yT([ET(r,n),xT({angle:e}),wT((i?this.touchSizeX:this.sizeX)||t,(i?this.touchSizeY:this.sizeY)||t)]);return{tl:new eT(-.5,-.5).transform(o),tr:new eT(.5,-.5).transform(o),br:new eT(.5,.5).transform(o),bl:new eT(-.5,.5).transform(o)}}},{key:"render",value:function(e,t,r,n,i){"circle"===((n=n||{}).cornerStyle||i.cornerStyle)?NC.call(this,e,t,r,n,i):LC.call(this,e,t,r,n,i)}}]),e}(),MC=function(e,t,r){return r.lockRotation?kA:t.cursorStyle},DC=IC(O_,OC((function(e,t,r,n){var i=t.target,a=t.ex,o=t.ey,s=t.theta,u=t.originX,c=t.originY,l=i.translateToOriginPoint(i.getRelativeCenterPoint(),u,c);if(AA(i,"lockRotation"))return!1;var d=Math.atan2(o-l.y,a-l.x),f=Math.atan2(n-l.y,r-l.x),h=hT(f-d+s);if(i.snapAngle&&i.snapAngle>0){var p=i.snapAngle,v=i.snapThreshold||p,g=Math.ceil(h/p)*p,m=Math.floor(h/p)*p;Math.abs(h-m)<v?h=m:Math.abs(h-g)<v&&(h=g)}h<0&&(h=360+h),h%=360;var y=i.angle!==h;return i.angle=h,y})));function FC(e,t){var r=t.canvas,n=e[r.uniScaleKey];return r.uniformScaling&&!n||!r.uniformScaling&&n}function UC(e,t,r){var n=AA(e,"lockScalingX"),i=AA(e,"lockScalingY");if(n&&i)return!0;if(!t&&(n||i)&&r)return!0;if(n&&"x"===t)return!0;if(i&&"y"===t)return!0;var a=e.width,o=e.height,s=e.strokeWidth;return 0===a&&0===s&&"y"!==t||0===o&&0===s&&"x"!==t}var BC=["e","se","s","sw","w","nw","n","ne","e"],GC=function(e,t,r){var n=FC(e,r);if(UC(r,0!==t.x&&0===t.y?"x":0===t.x&&0!==t.y?"y":"",n))return kA;var i=PA(r,t);return"".concat(BC[i],"-resize")};function VC(e,t,r,n){var i,a,o,s,u,c,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},d=t.target,f=l.by,h=FC(e,d);if(UC(d,f,h))return!1;if(t.gestureScale)a=t.scaleX*t.gestureScale,o=t.scaleY*t.gestureScale;else{if(i=IA(t,t.originX,t.originY,r,n),u="y"!==f?Math.sign(i.x||t.signX||1):1,c="x"!==f?Math.sign(i.y||t.signY||1):1,t.signX||(t.signX=u),t.signY||(t.signY=c),AA(d,"lockScalingFlip")&&(t.signX!==u||t.signY!==c))return!1;if(s=d._getTransformedDimensions(),h&&!f){var p=Math.abs(i.x)+Math.abs(i.y),v=t.original,g=p/(Math.abs(s.x*v.scaleX/d.scaleX)+Math.abs(s.y*v.scaleY/d.scaleY));a=v.scaleX*g,o=v.scaleY*g}else a=Math.abs(i.x*d.scaleX/s.x),o=Math.abs(i.y*d.scaleY/s.y);_A(t)&&(a*=2,o*=2),t.signX!==u&&"y"!==f&&(t.originX=TA(t.originX),a*=-1,t.signX=u),t.signY!==c&&"x"!==f&&(t.originY=TA(t.originY),o*=-1,t.signY=c)}var m=d.scaleX,y=d.scaleY;return f?("x"===f&&d.set(U_,a),"y"===f&&d.set(B_,o)):(!AA(d,"lockScalingX")&&d.set(U_,a),!AA(d,"lockScalingY")&&d.set(B_,o)),m!==d.scaleX||y!==d.scaleY}var HC=IC(I_,OC((function(e,t,r,n){return VC(e,t,r,n)}))),WC=IC(I_,OC((function(e,t,r,n){return VC(e,t,r,n,{by:"x"})}))),qC=IC(I_,OC((function(e,t,r,n){return VC(e,t,r,n,{by:"y"})}))),zC=["target","ex","ey","skewingSide"],YC={x:{counterAxis:"y",scale:U_,skew:G_,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:B_,skew:V_,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},XC=["ns","nesw","ew","nwse"],KC=function(e,t,r){if(0!==t.x&&AA(r,"lockSkewingY"))return kA;if(0!==t.y&&AA(r,"lockSkewingX"))return kA;var n=PA(r,t)%4;return"".concat(XC[n],"-resize")};function JC(e,t,r,n,i){var a,o=r.target,s=YC[e],u=s.counterAxis,c=s.origin,l=s.lockSkewing,d=s.skew,f=s.flip;if(AA(o,l))return!1;var h=YC[u],p=h.origin,v=h.flip,g=wA(r[p])*(o[v]?-1:1),m=-Math.sign(g)*(o[f]?-1:1),y=-(0===o[d]&&IA(r,x_,x_,n,i)[e]>0||o[d]>0?1:-1)*m*.5+.5,b=IC(N_,OC((function(t,r,n,i){return function(e,t,r){var n=t.target,i=t.ex,a=t.ey,o=t.skewingSide,s=e_(t,zC),u=YC[e].skew,c=r.subtract(new eT(i,a)).divide(new eT(n.scaleX,n.scaleY))[e],l=n[u],d=s[u],f=Math.tan(fT(d)),h="y"===e?n._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:n._getTransformedDimensions({scaleX:1,scaleY:1}).y,p=2*c*o/Math.max(h,1)+f,v=hT(Math.atan(p));n.set(u,v);var g=l!==n[u];if(g&&"y"===e){var m=n.skewX,y=n.scaleX,b=n._getTransformedDimensions({skewY:l}),S=n._getTransformedDimensions(),E=0!==m?b.x/S.x:1;1!==E&&n.set(U_,E*y)}return g}(e,r,new eT(n,i))})));return b(t,$k($k({},r),{},(We(a={},c,y),We(a,"skewingSide",m),a)),n,i)}var ZC=function(e,t,r,n){return JC("x",e,t,r,n)},QC=function(e,t,r,n){return JC("y",e,t,r,n)};function $C(e,t){return e[t.canvas.altActionKey]}var eP=function(e,t,r){var n=$C(e,r);return 0===t.x?n?G_:B_:0===t.y?n?V_:U_:""},tP=function(e,t,r){return $C(e,r)?KC(0,t,r):GC(e,t,r)},rP=function(e,t,r,n){return $C(e,t.target)?QC(e,t,r,n):WC(e,t,r,n)},nP=function(e,t,r,n){return $C(e,t.target)?ZC(e,t,r,n):qC(e,t,r,n)},iP=function(){return{ml:new jC({x:-.5,y:0,cursorStyleHandler:tP,actionHandler:rP,getActionName:eP}),mr:new jC({x:.5,y:0,cursorStyleHandler:tP,actionHandler:rP,getActionName:eP}),mb:new jC({x:0,y:.5,cursorStyleHandler:tP,actionHandler:nP,getActionName:eP}),mt:new jC({x:0,y:-.5,cursorStyleHandler:tP,actionHandler:nP,getActionName:eP}),tl:new jC({x:-.5,y:-.5,cursorStyleHandler:GC,actionHandler:HC}),tr:new jC({x:.5,y:-.5,cursorStyleHandler:GC,actionHandler:HC}),bl:new jC({x:-.5,y:.5,cursorStyleHandler:GC,actionHandler:HC}),br:new jC({x:.5,y:.5,cursorStyleHandler:GC,actionHandler:HC}),mtr:new jC({x:0,y:-.5,actionHandler:DC,cursorStyleHandler:MC,offsetY:-40,withConnection:!0,actionName:R_})}},aP=function(){return{mr:new jC({x:.5,y:0,actionHandler:RC,cursorStyleHandler:tP,actionName:L_}),ml:new jC({x:-.5,y:0,actionHandler:RC,cursorStyleHandler:tP,actionName:L_})}},oP=function(){return $k($k({},iP()),aP())},sP=function(e){v(r,e);var t=b(r);function r(e){var n;return c(this,r),n=t.call(this),Object.assign(y(n),n.constructor.createControls(),r.ownDefaults),n.setOptions(e),n}return h(r,[{key:"_updateCacheCanvas",value:function(){var e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){var t=e._currentTransform,n=t.target,i=t.action;if(this===n&&i&&i.startsWith(F_))return!1}return to(g(r.prototype),"_updateCacheCanvas",this).call(this)}},{key:"getActiveControl",value:function(){var e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}},{key:"findControl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.hasControls&&this.canvas){this.__corner=void 0;for(var r=Object.entries(this.oCoords),n=r.length-1;n>=0;n--){var i=k(r[n],2),a=i[0],o=i[1],s=this.controls[a];if(s.shouldActivate(a,this,e,t?o.touchCorner:o.corner))return this.__corner=a,{key:a,control:s,coord:this.oCoords[a]}}}}},{key:"calcOCoords",value:function(){var e=this,t=this.getViewportTransform(),r=this.getCenterPoint(),n=ET(r.x,r.y),i=xT({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),a=mT(n,i),o=mT(t,a),s=mT(o,[1/t[0],0,0,1/t[3],0,0]),u=this.group?ST(this.calcTransformMatrix()):void 0;u&&(u.scaleX=Math.abs(u.scaleX),u.scaleY=Math.abs(u.scaleY));var c=this._calculateCurrentDimensions(u),l={};return this.forEachControl((function(t,r){var n=t.positionHandler(c,s,e,t);l[r]=Object.assign(n,e._calcCornerCoords(t,n))})),l}},{key:"_calcCornerCoords",value:function(e,t){var r=this.getTotalAngle();return{corner:e.calcCornerCoords(r,this.cornerSize,t.x,t.y,!1,this),touchCorner:e.calcCornerCoords(r,this.touchCornerSize,t.x,t.y,!0,this)}}},{key:"setCoords",value:function(){to(g(r.prototype),"setCoords",this).call(this),this.canvas&&(this.oCoords=this.calcOCoords())}},{key:"forEachControl",value:function(e){for(var t in this.controls)e(this.controls[t],t,this)}},{key:"drawSelectionBackground",value:function(e){if(this.selectionBackgroundColor&&(!this.canvas||this.canvas._activeObject===this)){e.save();var t=this.getRelativeCenterPoint(),r=this._calculateCurrentDimensions(),n=this.getViewportTransform();e.translate(t.x,t.y),e.scale(1/n[0],1/n[3]),e.rotate(fT(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),e.restore()}}},{key:"strokeBorders",value:function(e,t){e.strokeRect(-t.x/2,-t.y/2,t.x,t.y)}},{key:"_drawBorders",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=$k({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},r);e.save(),e.strokeStyle=n.borderColor,this._setLineDash(e,n.borderDashArray),this.strokeBorders(e,t),n.hasControls&&this.drawControlsConnectingLines(e,t),e.restore()}},{key:"_renderControls",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=$k({hasBorders:this.hasBorders,hasControls:this.hasControls},t),n=this.getViewportTransform(),i=r.hasBorders,a=r.hasControls,o=mT(n,this.calcTransformMatrix()),s=ST(o);e.save(),e.translate(s.translateX,s.translateY),e.lineWidth=1*this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(s.angle-=180),e.rotate(fT(this.group?s.angle:this.angle)),i&&this.drawBorders(e,s,t),a&&this.drawControls(e,t),e.restore()}},{key:"drawBorders",value:function(e,t,r){var n;if(r&&r.forActiveSelection||this.group){var i=gA(this.width,this.height,AT(t)),a=this.isStrokeAccountedForInDimensions()?tT:(this.strokeUniform?(new eT).scalarAdd(this.canvas?this.canvas.getZoom():1):new eT(t.scaleX,t.scaleY)).scalarMultiply(this.strokeWidth);n=i.add(a).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else n=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,n,r)}},{key:"drawControlsConnectingLines",value:function(e,t){var r=this,n=!1;e.beginPath(),this.forEachControl((function(i,a){i.withConnection&&i.getVisibility(r,a)&&(n=!0,e.moveTo(i.x*t.x,i.y*t.y),e.lineTo(i.x*t.x+i.offsetX,i.y*t.y+i.offsetY))})),n&&e.stroke()}},{key:"drawControls",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.save();var n=this.getCanvasRetinaScaling(),i=$k({cornerStrokeColor:this.cornerStrokeColor,cornerDashArray:this.cornerDashArray,cornerColor:this.cornerColor},r);e.setTransform(n,0,0,n,0,0),e.strokeStyle=e.fillStyle=i.cornerColor,this.transparentCorners||(e.strokeStyle=i.cornerStrokeColor),this._setLineDash(e,i.cornerDashArray),this.forEachControl((function(r,n){if(r.getVisibility(t,n)){var a=t.oCoords[n];r.render(e,a.x,a.y,i,t)}})),e.restore()}},{key:"isControlVisible",value:function(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}},{key:"setControlVisible",value:function(e,t){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=t}},{key:"setControlsVisibility",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.entries(t).forEach((function(t){var r=k(t,2),n=r[0],i=r[1];return e.setControlVisible(n,i)}))}},{key:"clearContextTop",value:function(e){if(this.canvas){var t=this.canvas.contextTop;if(t){var r=this.canvas.viewportTransform;t.save(),t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this.transform(t);var n=this.width+4,i=this.height+4;return t.clearRect(-n/2,-i/2,n,i),e||t.restore(),t}}}},{key:"onDeselect",value:function(e){return!1}},{key:"onSelect",value:function(e){return!1}},{key:"shouldStartDragging",value:function(e){return!1}},{key:"onDragStart",value:function(e){return!1}},{key:"canDrop",value:function(e){return!1}},{key:"renderDragSourceEffect",value:function(e){}},{key:"renderDropTargetEffect",value:function(e){}}],[{key:"getDefaults",value:function(){return $k($k({},to(g(r),"getDefaults",this).call(this)),r.ownDefaults)}},{key:"createControls",value:function(){return{controls:iP()}}}]),r}(PC);function uP(e,t){return t.forEach((function(t){Object.getOwnPropertyNames(t.prototype).forEach((function(r){"constructor"!==r&&Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(t.prototype,r)||Object.create(null))}))})),e}Zk(sP,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});var cP=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r)}(sP);uP(cP,[LA]),X_.setClass(cP),X_.setClass(cP,"object");var lP=function(e,t,r,n){for(var i=2*(n=Math.round(n))+1,a=e.getImageData(t-n,r-n,i,i).data,o=3;o<a.length;o+=4)if(a[o]>0)return!1;return!0},dP=function(){function e(t){c(this,e),this.options=t,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new eT(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new eT(1/this.options.scaleX,1/this.options.scaleY):new eT(1,1)}return h(e,[{key:"createSideVector",value:function(e,t){var r=qA(e,t);return this.options.strokeUniform?r.multiply(this.scale):r}},{key:"projectOrthogonally",value:function(e,t,r){return this.applySkew(e.add(this.calcOrthogonalProjection(e,t,r)))}},{key:"isSkewed",value:function(){return 0!==this.options.skewX||0!==this.options.skewY}},{key:"applySkew",value:function(e){var t=new eT(e);return t.y+=t.x*Math.tan(fT(this.options.skewY)),t.x+=t.y*Math.tan(fT(this.options.skewX)),t}},{key:"scaleUnitVector",value:function(e,t){return e.multiply(this.strokeUniformScalar).scalarMultiply(t)}}]),e}(),fP=new eT,hP=function(e){v(r,e);var t=b(r);function r(e,n,i,a){var o;return c(this,r),Zk(y(o=t.call(this,a)),"AB",void 0),Zk(y(o),"AC",void 0),Zk(y(o),"alpha",void 0),Zk(y(o),"bisector",void 0),o.A=new eT(e),o.B=new eT(n),o.C=new eT(i),o.AB=o.createSideVector(o.A,o.B),o.AC=o.createSideVector(o.A,o.C),o.alpha=YA(o.AB,o.AC),o.bisector=KA(WA(o.AB.eq(fP)?o.AC:o.AB,o.alpha/2)),o}return h(r,[{key:"calcOrthogonalProjection",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.strokeProjectionMagnitude,i=this.createSideVector(e,t),a=JA(i),o=r.getOrthogonalRotationFactor(a,this.bisector);return this.scaleUnitVector(a,n*o)}},{key:"projectBevel",value:function(){var e=this,t=[];return(this.alpha%y_==0?[this.B]:[this.B,this.C]).forEach((function(r){t.push(e.projectOrthogonally(e.A,r)),t.push(e.projectOrthogonally(e.A,r,-e.strokeProjectionMagnitude))})),t}},{key:"projectMiter",value:function(){var e=[],t=Math.abs(this.alpha),r=1/Math.sin(t/2),n=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*r),i=this.options.strokeUniform?zA(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return zA(n)/this.strokeProjectionMagnitude<=i&&e.push(this.applySkew(this.A.add(n))),e.push.apply(e,u(this.projectBevel())),e}},{key:"projectRoundNoSkew",value:function(e,t){var n=this,i=[],a=new eT(r.getOrthogonalRotationFactor(this.bisector),r.getOrthogonalRotationFactor(new eT(this.bisector.y,this.bisector.x)));return[new eT(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(a),new eT(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(a)].forEach((function(r){$A(r,e,t)&&i.push(n.A.add(r))})),i}},{key:"projectRoundWithSkew",value:function(e,t){var r=this,n=[],i=this.options,a=i.skewX,o=i.skewY,s=i.scaleX,u=i.scaleY,c=i.strokeUniform,l=new eT(Math.tan(fT(a)),Math.tan(fT(o))),d=this.strokeProjectionMagnitude,f=c?d/u/Math.sqrt(1/Math.pow(u,2)+1/Math.pow(s,2)*Math.pow(l.y,2)):d/Math.sqrt(1+Math.pow(l.y,2)),h=new eT(Math.sqrt(Math.max(Math.pow(d,2)-Math.pow(f,2),0)),f),p=c?d/Math.sqrt(1+Math.pow(l.x,2)*Math.pow(1/u,2)/Math.pow(1/s+1/s*l.x*l.y,2)):d/Math.sqrt(1+Math.pow(l.x,2)/Math.pow(1+l.x*l.y,2)),v=new eT(p,Math.sqrt(Math.max(Math.pow(d,2)-Math.pow(p,2),0)));return[v,v.scalarMultiply(-1),h,h.scalarMultiply(-1)].map((function(e){return r.applySkew(c?e.multiply(r.strokeUniformScalar):e)})).forEach((function(i){$A(i,e,t)&&n.push(r.applySkew(r.A).add(i))})),n}},{key:"projectRound",value:function(){var e=[];e.push.apply(e,u(this.projectBevel()));var t=this.alpha%y_==0,r=this.applySkew(this.A),n=e[t?0:2].subtract(r),i=e[t?1:0].subtract(r),a=t?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),o=ZA(n,a)>0,s=o?n:i,c=o?i:n;return this.isSkewed()?e.push.apply(e,u(this.projectRoundWithSkew(s,c))):e.push.apply(e,u(this.projectRoundNoSkew(s,c))),e}},{key:"projectPoints",value:function(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}},{key:"project",value:function(){var e=this;return this.projectPoints().map((function(t){return{originPoint:e.A,projectedPoint:t,angle:e.alpha,bisector:e.bisector}}))}}],[{key:"getOrthogonalRotationFactor",value:function(e,t){var r=t?YA(e,t):XA(e);return Math.abs(r)<m_?-1:1}}]),r}(dP),pP=function(e){v(r,e);var t=b(r);function r(e,n,i){var a;return c(this,r),(a=t.call(this,i)).A=new eT(e),a.T=new eT(n),a}return h(r,[{key:"calcOrthogonalProjection",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.strokeProjectionMagnitude,n=this.createSideVector(e,t);return this.scaleUnitVector(JA(n),r)}},{key:"projectButt",value:function(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}},{key:"projectRound",value:function(){var e=[];if(!this.isSkewed()&&this.A.eq(this.T)){var t=new eT(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(t)),this.applySkew(this.A.subtract(t)))}else e.push.apply(e,u(new hP(this.A,this.T,this.T,this.options).projectRound()));return e}},{key:"projectSquare",value:function(){var e=this,t=[];if(this.A.eq(this.T)){var r=new eT(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.A.add(r),this.A.subtract(r))}else{var n=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),i=this.scaleUnitVector(KA(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),a=this.A.add(i);t.push(a.add(n),a.subtract(n))}return t.map((function(t){return e.applySkew(t)}))}},{key:"projectPoints",value:function(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}},{key:"project",value:function(){var e=this;return this.projectPoints().map((function(t){return{originPoint:e.A,projectedPoint:t}}))}}]),r}(dP),vP=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[];if(0===e.length)return n;var i=e.reduce((function(e,t){return e[e.length-1].eq(t)||e.push(new eT(t)),e}),[new eT(e[0])]);if(1===i.length)r=!0;else if(!r){var a=i[0],o=function(e,t){for(var r=e.length-1;r>=0;r--)if(t(e[r]))return r;return-1}(i,(function(e){return!e.eq(a)}));i.splice(o+1)}return i.forEach((function(e,i,a){var o,s;0===i?(s=a[1],o=r?e:a[a.length-1]):i===a.length-1?(o=a[i-1],s=r?e:a[0]):(o=a[i-1],s=a[i+1]),r&&1===a.length?n.push.apply(n,u(new pP(e,e,t).project())):!r||0!==i&&i!==a.length-1?n.push.apply(n,u(new hP(e,o,s,t).project())):n.push.apply(n,u(new pP(e,0===i?s:o,t).project()))})),n},gP=function(e){var t={};return Object.keys(e).forEach((function(r){t[r]={},Object.keys(e[r]).forEach((function(n){t[r][n]=$k({},e[r][n])}))})),t},mP=function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},yP=function(e){for(var t,r=[],n=0;n<e.length;n++)!1!==(t=bP(e,n))&&r.push(t);return r},bP=function(e,t){var r=e.charCodeAt(t);if(isNaN(r))return"";if(r<55296||r>57343)return e.charAt(t);if(55296<=r&&r<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";var n=e.charCodeAt(t+1);if(56320>n||n>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}if(0===t)throw"Low surrogate without preceding high surrogate";var i=e.charCodeAt(t-1);if(55296>i||i>56319)throw"Low surrogate without preceding high surrogate";return!1},SP=Object.freeze({__proto__:null,capitalize:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"".concat(e.charAt(0).toUpperCase()).concat(t?e.slice(1):e.slice(1).toLowerCase())},escapeXml:mP,graphemeSplit:yP}),EP=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.fill!==t.fill||e.stroke!==t.stroke||e.strokeWidth!==t.strokeWidth||e.fontSize!==t.fontSize||e.fontFamily!==t.fontFamily||e.fontWeight!==t.fontWeight||e.fontStyle!==t.fontStyle||e.textBackgroundColor!==t.textBackgroundColor||e.deltaY!==t.deltaY||r&&(e.overline!==t.overline||e.underline!==t.underline||e.linethrough!==t.linethrough)},xP=function(e,t){var r=t.split("\n"),n=[],i=-1,a={};e=gP(e);for(var o=0;o<r.length;o++){var s=yP(r[o]);if(e[o])for(var u=0;u<s.length;u++){i++;var c=e[o][u];c&&Object.keys(c).length>0&&(EP(a,c,!0)?n.push({start:i,end:i+1,style:c}):n[n.length-1].end++),a=c||{}}else i+=s.length,a={}}return n},wP=function(e,t){if(!Array.isArray(e))return gP(e);for(var r=t.split(C_),n={},i=-1,a=0,o=0;o<r.length;o++)for(var s=yP(r[o]),u=0;u<s.length;u++)i++,e[a]&&e[a].start<=i&&i<e[a].end&&(n[o]=n[o]||{},n[o][u]=$k({},e[a].style),i===e[a].end-1&&a++);return n},kP=["display","transform",H_,"fill-opacity","fill-rule","opacity",W_,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function _P(e,t){var r,n=e.nodeName,i=e.getAttribute("class"),a=e.getAttribute("id"),o="(?![a-zA-Z\\-]+)";if(r=new RegExp("^"+n,"i"),t=t.replace(r,""),a&&t.length&&(r=new RegExp("#"+a+o,"i"),t=t.replace(r,"")),i&&t.length)for(var s=i.split(" "),u=s.length;u--;)r=new RegExp("\\."+s[u]+o,"i"),t=t.replace(r,"");return 0===t.length}function TP(e,t){var r=!0,n=_P(e,t.pop());return n&&t.length&&(r=function(e,t){for(var r,n=!0;e.parentElement&&1===e.parentElement.nodeType&&t.length;)n&&(r=t.pop()),n=_P(e=e.parentElement,r);return 0===t.length}(e,t)),n&&r&&0===t.length}var AP,CP,PP,IP,OP,RP,NP,LP=function(e){var t;return null!==(t=FA[e])&&void 0!==t?t:e},jP=new RegExp("(".concat(MA,")"),"gi"),MP=function(e){return e.replace(jP," $1 ").replace(/,/gi," ").replace(/\s+/gi," ")},DP="(".concat(MA,")"),FP=String.raw(AP||(AP=t_(["(skewX)(",")"],["(skewX)\\(","\\)"])),DP),UP=String.raw(CP||(CP=t_(["(skewY)(",")"],["(skewY)\\(","\\)"])),DP),BP=String.raw(PP||(PP=t_(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),DP,DP,DP),GP=String.raw(IP||(IP=t_(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),DP,DP),VP=String.raw(OP||(OP=t_(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),DP,DP),HP=String.raw(RP||(RP=t_(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),DP,DP,DP,DP,DP,DP),WP="(?:".concat(HP,"|").concat(VP,"|").concat(BP,"|").concat(GP,"|").concat(FP,"|").concat(UP,")"),qP="(?:".concat(WP,"*)"),zP=String.raw(NP||(NP=t_(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),qP),YP=new RegExp(zP),XP=new RegExp(WP),KP=new RegExp(WP,"g");function JP(e){var t=[];if(!(e=MP(e).replace(/\s*([()])\s*/gi,"$1"))||e&&!YP.test(e))return u(S_);var r,n=T(e.matchAll(KP));try{for(n.s();!(r=n.n()).done;){var i=r.value,a=XP.exec(i[0]);if(a){var o=S_,s=a.filter((function(e){return!!e})),c=_(s),l=c[1],d=c.slice(2).map((function(e){return parseFloat(e)})),f=k(d,6),h=f[0],p=f[1],v=f[2],g=f[3],m=f[4],y=f[5];switch(l){case"translate":o=ET(h,p);break;case R_:o=xT({angle:h},{x:p,y:v});break;case F_:o=wT(h,p);break;case G_:o=_T(h);break;case V_:o=TT(h);break;case"matrix":o=[h,p,v,g,m,y]}t.push(o)}}}catch(b){n.e(b)}finally{n.f()}return yT(t)}function ZP(e,t,r,n){var i,a=Array.isArray(t),o=t;if(e!==H_&&e!==W_||t!==A_){if("strokeUniform"===e)return"non-scaling-stroke"===t;if("strokeDashArray"===e)o=t===A_?null:t.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===e)o=r&&r.transformMatrix?mT(r.transformMatrix,JP(t)):JP(t);else if("visible"===e)o=t!==A_&&"hidden"!==t,r&&!1===r.visible&&(o=!1);else if("opacity"===e)o=parseFloat(t),r&&void 0!==r.opacity&&(o*=r.opacity);else if("textAnchor"===e)o="start"===t?w_:"end"===t?T_:x_;else if("charSpacing"===e)i=VT(t,n)/n*1e3;else if("paintFirst"===e){var s=t.indexOf(H_),u=t.indexOf(W_);o=H_,(s>-1&&u>-1&&u<s||-1===s&&u>-1)&&(o=W_)}else{if("href"===e||"xlink:href"===e||"font"===e||"id"===e)return t;if("imageSmoothing"===e)return"optimizeQuality"===t;i=a?t.map(VT):VT(t,n)}}else o="";return!a&&isNaN(i)?o:i}function QP(e,t){e.replace(/;\s*$/,"").split(";").forEach((function(e){if(e){var r=k(e.split(":"),2),n=r[0],i=r[1];t[n.trim().toLowerCase()]=i.trim()}}))}var $P={stroke:"strokeOpacity",fill:"fillOpacity"};function eI(e,t,r){if(!e)return{};var n,i={},a=16;e.parentNode&&GA.test(e.parentNode.nodeName)&&((i=eI(e.parentElement,t,r)).fontSize&&(n=a=VT(i.fontSize)));var o=$k($k($k({},t.reduce((function(t,r){var n=e.getAttribute(r);return n&&(t[r]=n),t}),{})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};for(var n in t)TP(e,n.split(" "))&&(r=$k($k({},r),t[n]));return r}(e,r)),function(e){var t={},r=e.getAttribute("style");return r?("string"==typeof r?QP(r,t):function(e,t){Object.entries(e).forEach((function(e){var r=k(e,2),n=r[0],i=r[1];void 0!==i&&(t[n.toLowerCase()]=i)}))}(r,t),t):t}(e));o[BA]&&e.setAttribute(BA,o[BA]),o[UA]&&(n=VT(o[UA],a),o[UA]="".concat(n));var s={};for(var u in o){var c=LP(u),l=ZP(c,o[u],i,n);s[c]=l}s&&s.font&&function(e,t){var r=e.match(DA);if(r){var n=r[1],i=r[3],a=r[4],o=r[5],s=r[6];n&&(t.fontStyle=n),i&&(t.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),a&&(t.fontSize=VT(a)),s&&(t.fontFamily=s),o&&(t.lineHeight="normal"===o?1:o)}}(s.font,s);var d=$k($k({},i),s);return GA.test(e.nodeName)?d:function(e){var t=cP.getDefaults();return Object.entries($P).forEach((function(r){var n=k(r,2),i=n[0],a=n[1];if(void 0!==e[a]&&""!==e[i]){if(void 0===e[i]){if(!t[i])return;e[i]=t[i]}if(0!==e[i].indexOf("url(")){var o=new BT(e[i]);e[i]=o.setAlpha(GT(o.getAlpha()*e[a],2)).toRgba()}}})),e}(d)}var tI=["left","top","width","height","visible"],rI=["rx","ry"],nI=function(e){v(r,e);var t=b(r);function r(e){var n;return c(this,r),n=t.call(this),Object.assign(y(n),r.ownDefaults),n.setOptions(e),n._initRxRy(),n}return h(r,[{key:"_initRxRy",value:function(){var e=this.rx,t=this.ry;e&&!t?this.ry=e:t&&!e&&(this.rx=t)}},{key:"_render",value:function(e){var t=this.width,r=this.height,n=-t/2,i=-r/2,a=this.rx?Math.min(this.rx,t/2):0,o=this.ry?Math.min(this.ry,r/2):0,s=0!==a||0!==o;e.beginPath(),e.moveTo(n+a,i),e.lineTo(n+t-a,i),s&&e.bezierCurveTo(n+t-E_*a,i,n+t,i+E_*o,n+t,i+o),e.lineTo(n+t,i+r-o),s&&e.bezierCurveTo(n+t,i+r-E_*o,n+t-E_*a,i+r,n+t-a,i+r),e.lineTo(n+a,i+r),s&&e.bezierCurveTo(n+E_*a,i+r,n,i+r-E_*o,n,i+r-o),e.lineTo(n,i+o),s&&e.bezierCurveTo(n,i+E_*o,n+E_*a,i,n+a,i),e.closePath(),this._renderPaintInOrder(e)}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return to(g(r.prototype),"toObject",this).call(this,[].concat(rI,u(e)))}},{key:"_toSVG",value:function(){var e=this.width,t=this.height,r=this.rx,n=this.ry;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-t/2,'" rx="').concat(r,'" ry="').concat(n,'" width="').concat(e,'" height="').concat(t,'" />\n')]}}],[{key:"getDefaults",value:function(){return $k($k({},to(g(r),"getDefaults",this).call(this)),r.ownDefaults)}},{key:"fromElement",value:function(){var e=Ot(Pt().mark((function e(t,r,n){var i,a,o,s,u,c,l,d,f,h,p,v;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=eI(t,this.ATTRIBUTE_NAMES,n),a=i.left,o=void 0===a?0:a,s=i.top,u=void 0===s?0:s,c=i.width,l=void 0===c?0:c,d=i.height,f=void 0===d?0:d,h=i.visible,p=void 0===h||h,v=e_(i,tI),e.abrupt("return",new this($k($k($k({},r),v),{},{left:o,top:u,width:l,height:f,visible:Boolean(p&&l&&f)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()}]),r}(cP);Zk(nI,"type","Rect"),Zk(nI,"cacheProperties",[].concat(aC,rI)),Zk(nI,"ownDefaults",{rx:0,ry:0}),Zk(nI,"ATTRIBUTE_NAMES",[].concat(kP,["x","y","rx","ry","width","height"])),X_.setClass(nI),X_.setSVGClass(nI);var iI="initialization",aI="added",oI="removed",sI="imperative",uI=function(e,t){var r=t.strokeUniform,n=t.strokeWidth,i=t.width,a=t.height,o=t.group,s=o&&o!==e?mA(o.calcTransformMatrix(),e.calcTransformMatrix()):null,u=s?t.getRelativeCenterPoint().transform(s):t.getRelativeCenterPoint(),c=!t.isStrokeAccountedForInDimensions(),l=r&&c?bA(new eT(n,n),void 0,e.calcTransformMatrix()):tT,d=!r&&c?n:0,f=gA(i+d,a+d,yT([s,t.calcOwnMatrix()],!0)).add(l).scalarDivide(2);return[u.subtract(f),u.add(f)]},cI=function(){function e(){c(this,e)}return h(e,[{key:"calcLayoutResult",value:function(e,t){if(this.shouldPerformLayout(e))return this.calcBoundingBox(t,e)}},{key:"shouldPerformLayout",value:function(e){var t=e.type,r=e.prevStrategy,n=e.strategy;return t===iI||t===sI||!!r&&n!==r}},{key:"shouldLayoutClipPath",value:function(e){var t=e.type,r=e.target.clipPath;return t!==iI&&r&&!r.absolutePositioned}},{key:"getInitialSize",value:function(e,t){return t.size}},{key:"calcBoundingBox",value:function(e,t){var r=t.type,n=t.target;if(r===sI&&t.overrides)return t.overrides;if(0!==e.length){var i=lA(e.map((function(e){return uI(n,e)})).reduce((function(e,t){return e.concat(t)}),[])),a=i.left,o=i.top,s=i.width,u=i.height,c=new eT(s,u),l=new eT(a,o).add(c.scalarDivide(2));if(r===iI){var d=this.getInitialSize(t,{size:c,center:l});return{center:l,relativeCorrection:new eT(0,0),size:d}}return{center:l.transform(n.calcOwnMatrix()),size:c}}}}]),e}();Zk(cI,"type","strategy");var lI=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"shouldPerformLayout",value:function(e){return!0}}]),r}(cI);Zk(lI,"type","fit-content"),X_.setClass(lI);var dI=["strategy"],fI=["target","strategy","bubbles","prevStrategy"],hI="layoutManager",pI=function(){function e(){c(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new lI;Zk(this,"strategy",void 0),this.strategy=t,this._subscriptions=new Map}return h(e,[{key:"performLayout",value:function(e){var t=$k($k({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation:function(){this.bubbles=!1}});this.onBeforeLayout(t);var r=this.getLayoutResult(t);r&&this.commitLayout(t,r),this.onAfterLayout(t,r),this._prevLayoutStrategy=t.strategy}},{key:"attachHandlers",value:function(e,t){var r=this,n=t.target;return[q_,P_,L_,O_,I_,N_,D_,j_,M_].map((function(t){return e.on(t,(function(e){return r.performLayout(t===q_?{type:"object_modified",trigger:t,e:e,target:n}:{type:"object_modifying",trigger:t,e:e,target:n})}))}))}},{key:"subscribe",value:function(e,t){this.unsubscribe(e,t);var r=this.attachHandlers(e,t);this._subscriptions.set(e,r)}},{key:"unsubscribe",value:function(e,t){(this._subscriptions.get(e)||[]).forEach((function(e){return e()})),this._subscriptions.delete(e)}},{key:"unsubscribeTargets",value:function(e){var t=this;e.targets.forEach((function(r){return t.unsubscribe(r,e)}))}},{key:"subscribeTargets",value:function(e){var t=this;e.targets.forEach((function(r){return t.subscribe(r,e)}))}},{key:"onBeforeLayout",value:function(e){var t=e.target,r=e.type,n=t.canvas;if(r===iI||r===aI?this.subscribeTargets(e):r===oI&&this.unsubscribeTargets(e),t.fire("layout:before",{context:e}),n&&n.fire("object:layout:before",{target:t,context:e}),r===sI&&e.deep){var i=e_(e,dI);t.forEachObject((function(e){return e.layoutManager&&e.layoutManager.performLayout($k($k({},i),{},{bubbles:!1,target:e}))}))}}},{key:"getLayoutResult",value:function(e){var t=e.target,r=e.strategy,n=e.type,i=r.calcLayoutResult(e,t.getObjects());if(i){var a=n===iI?new eT:t.getRelativeCenterPoint(),o=i.center,s=i.correction,u=void 0===s?new eT:s,c=i.relativeCorrection,l=void 0===c?new eT:c,d=a.subtract(o).add(u).transform(n===iI?S_:gT(t.calcOwnMatrix()),!0).add(l);return{result:i,prevCenter:a,nextCenter:o,offset:d}}}},{key:"commitLayout",value:function(e,t){var r,n,i=e.target,a=t.result.size,o=t.nextCenter;i.set({width:a.x,height:a.y}),this.layoutObjects(e,t),e.type===iI?i.set({left:null!==(r=e.x)&&void 0!==r?r:o.x+a.x*wA(i.originX),top:null!==(n=e.y)&&void 0!==n?n:o.y+a.y*wA(i.originY)}):(i.setPositionByOrigin(o,x_,x_),i.setCoords(),i.set("dirty",!0))}},{key:"layoutObjects",value:function(e,t){var r=this,n=e.target;n.forEachObject((function(i){i.group===n&&r.layoutObject(e,t,i)})),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,t,n.clipPath)}},{key:"layoutObject",value:function(e,t,r){var n=t.offset;r.set({left:r.left+n.x,top:r.top+n.y})}},{key:"onAfterLayout",value:function(e,t){var r=e.target,n=(e.strategy,e.bubbles),i=(e.prevStrategy,e_(e,fI)),a=r.canvas;r.fire("layout:after",{context:e,result:t}),a&&a.fire("object:layout:after",{context:e,result:t,target:r});var o=r.parent;n&&null!=o&&o.layoutManager&&((i.path||(i.path=[])).push(r),o.layoutManager.performLayout($k($k({},i),{},{target:o}))),r.set("dirty",!0)}},{key:"dispose",value:function(){var e=this._subscriptions;e.forEach((function(e){return e.forEach((function(e){return e()}))})),e.clear()}},{key:"toObject",value:function(){return{type:hI,strategy:this.strategy.constructor.type}}},{key:"toJSON",value:function(){return this.toObject()}}]),e}();X_.setClass(pI,hI);var vI=["type","objects","layoutManager"],gI=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"performLayout",value:function(){}}]),r}(pI),mI=function(e){v(r,e);var t=b(r);function r(){var e;c(this,r);var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Zk(y(e=t.call(this)),"_activeObjects",[]),Zk(y(e),"__objectSelectionTracker",void 0),Zk(y(e),"__objectSelectionDisposer",void 0),Object.assign(y(e),r.ownDefaults),e.setOptions(i),e.groupInit(n,i),e}return h(r,[{key:"groupInit",value:function(e,t){var r,n=this;this._objects=u(e),this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject((function(e){n.enterGroup(e,!1)})),this.layoutManager=null!==(r=t.layoutManager)&&void 0!==r?r:new pI,this.layoutManager.performLayout({type:iI,target:this,targets:u(e),x:t.left,y:t.top})}},{key:"canEnterGroup",value:function(e){return e===this||this.isDescendantOf(e)?(a_("error","Group: circular object trees are not supported, this call has no effect"),!1):-1===this._objects.indexOf(e)||(a_("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}},{key:"_filterObjectsBeforeEnteringGroup",value:function(e){var t=this;return e.filter((function(e,r,n){return t.canEnterGroup(e)&&n.indexOf(e)===r}))}},{key:"add",value:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=this._filterObjectsBeforeEnteringGroup(n),o=(e=to(g(r.prototype),"add",this)).call.apply(e,[this].concat(u(a)));return this._onAfterObjectsChange(aI,a),o}},{key:"insertAt",value:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var o=this._filterObjectsBeforeEnteringGroup(i),s=(t=to(g(r.prototype),"insertAt",this)).call.apply(t,[this,e].concat(u(o)));return this._onAfterObjectsChange(aI,o),s}},{key:"remove",value:function(){var e=to(g(r.prototype),"remove",this).apply(this,arguments);return this._onAfterObjectsChange(oI,e),e}},{key:"_onObjectAdded",value:function(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}},{key:"_onObjectRemoved",value:function(e,t){this.exitGroup(e,t),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}},{key:"_onAfterObjectsChange",value:function(e,t){this.layoutManager.performLayout({type:e,targets:t,target:this})}},{key:"_onStackOrderChanged",value:function(){this._set("dirty",!0)}},{key:"_set",value:function(e,t){var n=this[e];return to(g(r.prototype),"_set",this).call(this,e,t),"canvas"===e&&n!==t&&(this._objects||[]).forEach((function(r){r._set(e,t)})),this}},{key:"_shouldSetNestedCoords",value:function(){return this.subTargetCheck}},{key:"removeAll",value:function(){return this._activeObjects=[],this.remove.apply(this,u(this._objects))}},{key:"__objectSelectionMonitor",value:function(e,t){var r=t.target,n=this._activeObjects;if(e)n.push(r),this._set("dirty",!0);else if(n.length>0){var i=n.indexOf(r);i>-1&&(n.splice(i,1),this._set("dirty",!0))}}},{key:"_watchObject",value:function(e,t){e&&this._watchObject(!1,t),e?(t.on("selected",this.__objectSelectionTracker),t.on("deselected",this.__objectSelectionDisposer)):(t.off("selected",this.__objectSelectionTracker),t.off("deselected",this.__objectSelectionDisposer))}},{key:"enterGroup",value:function(e,t){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,t)}},{key:"_enterGroup",value:function(e,t){t&&hA(e,mT(gT(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);var r=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();r&&(r===e||e.isDescendantOf(r))&&this._activeObjects.push(e)}},{key:"exitGroup",value:function(e,t){this._exitGroup(e,t),e._set("parent",void 0),e._set("canvas",void 0)}},{key:"_exitGroup",value:function(e,t){e._set("group",void 0),t||(hA(e,mT(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);var r=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;r>-1&&this._activeObjects.splice(r,1)}},{key:"shouldCache",value:function(){var e=cP.prototype.shouldCache.call(this);if(e)for(var t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return this.ownCaching=!1,!1;return e}},{key:"willDrawShadow",value:function(){if(to(g(r.prototype),"willDrawShadow",this).call(this))return!0;for(var e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}},{key:"isOnACache",value:function(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}},{key:"drawObject",value:function(e){this._renderBackground(e);for(var t=0;t<this._objects.length;t++){var r;null!==(r=this.canvas)&&void 0!==r&&r.preserveObjectStacking&&this._objects[t].group!==this?(e.save(),e.transform.apply(e,u(gT(this.calcTransformMatrix()))),this._objects[t].render(e),e.restore()):this._objects[t].group===this&&this._objects[t].render(e)}this._drawClipPath(e,this.clipPath)}},{key:"setCoords",value:function(){to(g(r.prototype),"setCoords",this).call(this),this._shouldSetNestedCoords()&&this.forEachObject((function(e){return e.setCoords()}))}},{key:"triggerLayout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.layoutManager.performLayout($k({target:this,type:sI},e))}},{key:"render",value:function(e){this._transformDone=!0,to(g(r.prototype),"render",this).call(this,e),this._transformDone=!1}},{key:"__serializeObjects",value:function(e,t){var r=this.includeDefaultValues;return this._objects.filter((function(e){return!e.excludeFromExport})).map((function(n){var i=n.includeDefaultValues;n.includeDefaultValues=r;var a=n[e||"toObject"](t);return n.includeDefaultValues=i,a}))}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.layoutManager.toObject();return $k($k($k({},to(g(r.prototype),"toObject",this).call(this,["subTargetCheck","interactive"].concat(u(e)))),"fit-content"!==t.strategy||this.includeDefaultValues?{layoutManager:t}:{}),{},{objects:this.__serializeObjects("toObject",e)})}},{key:"toString",value:function(){return"#<Group: (".concat(this.complexity(),")>")}},{key:"dispose",value:function(){var e=this;this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject((function(t){e._watchObject(!1,t),t.dispose()})),to(g(r.prototype),"dispose",this).call(this)}},{key:"_createSVGBgRect",value:function(e){if(!this.backgroundColor)return"";var t=nI.prototype._toSVG.call(this),r=t.indexOf("COMMON_PARTS");t[r]='for="group" ';var n=t.join("");return e?e(n):n}},{key:"_toSVG",value:function(e){var t=["<g ","COMMON_PARTS"," >\n"],r=this._createSVGBgRect(e);r&&t.push("\t\t",r);for(var n=0;n<this._objects.length;n++)t.push("\t\t",this._objects[n].toSVG(e));return t.push("</g>\n"),t}},{key:"getSvgStyles",value:function(){var e=void 0!==this.opacity&&1!==this.opacity?"opacity: ".concat(this.opacity,";"):"",t=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),t].join("")}},{key:"toClipPathSVG",value:function(e){var t=[],r=this._createSVGBgRect(e);r&&t.push("\t",r);for(var n=0;n<this._objects.length;n++)t.push("\t",this._objects[n].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}}],[{key:"getDefaults",value:function(){return $k($k({},to(g(r),"getDefaults",this).call(this)),r.ownDefaults)}},{key:"fromObject",value:function(e,t){var r=this,n=(e.type,e.objects),i=void 0===n?[]:n,a=e.layoutManager,o=e_(e,vI);return Promise.all([IT(i,t),OT(o,t)]).then((function(e){var t=k(e,2),n=t[0],i=t[1],s=new r(n,$k($k($k({},o),i),{},{layoutManager:new gI}));if(a){var u=X_.getClass(a.type),c=X_.getClass(a.strategy);s.layoutManager=new u(new c)}else s.layoutManager=new pI;return s.layoutManager.subscribeTargets({type:iI,target:s,targets:s.getObjects()}),s.setCoords(),s}))}}]),r}(nT(cP));Zk(mI,"type","Group"),Zk(mI,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),X_.setClass(mI);var yI,bI=function(e,t){return Math.min(t.width/e.width,t.height/e.height)},SI=function(e,t){return Math.max(t.width/e.width,t.height/e.height)},EI="(".concat(MA,")"),xI="(M) (?:".concat(EI," ").concat(EI," ?)+"),wI="(L) (?:".concat(EI," ").concat(EI," ?)+"),kI="(H) (?:".concat(EI," ?)+"),_I="(V) (?:".concat(EI," ?)+"),TI=String.raw(yI||(yI=t_(["(Z)s*"],["(Z)\\s*"]))),AI="(C) (?:".concat(EI," ").concat(EI," ").concat(EI," ").concat(EI," ").concat(EI," ").concat(EI," ?)+"),CI="(S) (?:".concat(EI," ").concat(EI," ").concat(EI," ").concat(EI," ?)+"),PI="(Q) (?:".concat(EI," ").concat(EI," ").concat(EI," ").concat(EI," ?)+"),II="(T) (?:".concat(EI," ").concat(EI," ?)+"),OI="(A) (?:".concat(EI," ").concat(EI," ").concat(EI," ([01]) ?([01]) ").concat(EI," ").concat(EI," ?)+"),RI="(?:(?:".concat(xI,")")+"|(?:".concat(wI,")")+"|(?:".concat(kI,")")+"|(?:".concat(_I,")")+"|(?:".concat(TI,")")+"|(?:".concat(AI,")")+"|(?:".concat(CI,")")+"|(?:".concat(PI,")")+"|(?:".concat(II,")")+"|(?:".concat(OI,"))"),NI={m:"l",M:"L"},LI=function(e,t,r,n,i,a,o,s,u,c,l){var d=Q_(e),f=$_(e),h=Q_(t),p=$_(t),v=r*i*h-n*a*p+o,g=n*i*h+r*a*p+s;return["C",c+u*(-r*i*f-n*a*d),l+u*(-n*i*f+r*a*d),v+u*(r*i*p+n*a*h),g+u*(n*i*p-r*a*h),v,g]},jI=function(e,t,r,n){var i=Math.atan2(t,e),a=Math.atan2(n,r);return a>=i?a-i:2*Math.PI-(i-a)};function MI(e,t,r,n,i,a,o,s){var c;if(i_.cachesBoundsOfCurve&&(c=Array.prototype.slice.call(arguments).join(),p_.boundsOfCurveCache[c]))return p_.boundsOfCurveCache[c];for(var l=Math.sqrt,d=Math.abs,f=[],h=[[0,0],[0,0]],p=6*e-12*r+6*i,v=-3*e+9*r-9*i+3*o,g=3*r-3*e,m=0;m<2;++m)if(m>0&&(p=6*t-12*n+6*a,v=-3*t+9*n-9*a+3*s,g=3*n-3*t),d(v)<1e-12){if(d(p)<1e-12)continue;var y=-g/p;0<y&&y<1&&f.push(y)}else{var b=p*p-4*g*v;if(!(b<0)){var S=l(b),E=(-p+S)/(2*v);0<E&&E<1&&f.push(E);var x=(-p-S)/(2*v);0<x&&x<1&&f.push(x)}}for(var w=f.length,k=w,_=BI(e,t,r,n,i,a,o,s);w--;){var T=_(f[w]),A=T.x,C=T.y;h[0][w]=A,h[1][w]=C}h[0][k]=e,h[1][k]=t,h[0][k+1]=o,h[1][k+1]=s;var P=[new eT(Math.min.apply(Math,u(h[0])),Math.min.apply(Math,u(h[1]))),new eT(Math.max.apply(Math,u(h[0])),Math.max.apply(Math,u(h[1])))];return i_.cachesBoundsOfCurve&&(p_.boundsOfCurveCache[c]=P),P}var DI=function(e,t,r){for(var n=k(r,8),i=(n[0],n[1]),a=n[2],o=n[3],s=n[4],u=n[5],c=function(e,t,r,n,i,a,o){if(0===r||0===n)return[];var s=0,u=0,c=0,l=Math.PI,d=o*b_,f=$_(d),h=Q_(d),p=.5*(-h*e-f*t),v=.5*(-h*t+f*e),g=Math.pow(r,2),m=Math.pow(n,2),y=Math.pow(v,2),b=Math.pow(p,2),S=g*m-g*y-m*b,E=Math.abs(r),x=Math.abs(n);if(S<0){var w=Math.sqrt(1-S/(g*m));E*=w,x*=w}else c=(i===a?-1:1)*Math.sqrt(S/(g*y+m*b));var k=c*E*v/x,_=-c*x*p/E,T=h*k-f*_+.5*e,A=f*k+h*_+.5*t,C=jI(1,0,(p-k)/E,(v-_)/x),P=jI((p-k)/E,(v-_)/x,(-p-k)/E,(-v-_)/x);0===a&&P>0?P-=2*l:1===a&&P<0&&(P+=2*l);for(var I=Math.ceil(Math.abs(P/l*2)),O=[],R=P/I,N=8/3*Math.sin(R/4)*Math.sin(R/4)/Math.sin(R/2),L=C+R,j=0;j<I;j++)O[j]=LI(C,L,h,f,E,x,T,A,N,s,u),s=O[j][5],u=O[j][6],C=L,L+=R;return O}(n[6]-e,n[7]-t,i,a,s,u,o),l=0,d=c.length;l<d;l++)c[l][1]+=e,c[l][2]+=t,c[l][3]+=e,c[l][4]+=t,c[l][5]+=e,c[l][6]+=t;return c},FI=function(e){var t,r,n=0,i=0,a=0,o=0,s=[],c=0,l=0,d=T(e);try{for(d.s();!(r=d.n()).done;){var f=u(r.value),h=void 0;switch(f[0]){case"l":f[1]+=n,f[2]+=i;case"L":h=["L",n=f[1],i=f[2]];break;case"h":f[1]+=n;case"H":h=["L",n=f[1],i];break;case"v":f[1]+=i;case"V":h=["L",n,i=f[1]];break;case"m":f[1]+=n,f[2]+=i;case"M":n=f[1],i=f[2],a=f[1],o=f[2],h=["M",n,i];break;case"c":f[1]+=n,f[2]+=i,f[3]+=n,f[4]+=i,f[5]+=n,f[6]+=i;case"C":c=f[3],l=f[4],n=f[5],i=f[6],h=["C",f[1],f[2],c,l,n,i];break;case"s":f[1]+=n,f[2]+=i,f[3]+=n,f[4]+=i;case"S":"C"===t?(c=2*n-c,l=2*i-l):(c=n,l=i),n=f[3],i=f[4],c=(h=["C",c,l,f[1],f[2],n,i])[3],l=h[4];break;case"q":f[1]+=n,f[2]+=i,f[3]+=n,f[4]+=i;case"Q":h=["Q",c=f[1],l=f[2],n=f[3],i=f[4]];break;case"t":f[1]+=n,f[2]+=i;case"T":"Q"===t?(c=2*n-c,l=2*i-l):(c=n,l=i),h=["Q",c,l,n=f[1],i=f[2]];break;case"a":f[6]+=n,f[7]+=i;case"A":DI(n,i,f).forEach((function(e){return s.push(e)})),n=f[6],i=f[7];break;case"z":case"Z":n=a,i=o,h=["Z"]}h?(s.push(h),t=h[0]):t=""}}catch(p){d.e(p)}finally{d.f()}return s},UI=function(e,t,r,n){return Math.sqrt(Math.pow(r-e,2)+Math.pow(n-t,2))},BI=function(e,t,r,n,i,a,o,s){return function(u){var c=Math.pow(u,3),l=function(e){return 3*Math.pow(e,2)*(1-e)}(u),d=function(e){return 3*e*Math.pow(1-e,2)}(u),f=function(e){return Math.pow(1-e,3)}(u);return new eT(o*c+i*l+r*d+e*f,s*c+a*l+n*d+t*f)}},GI=function(e){return Math.pow(e,2)},VI=function(e){return 2*e*(1-e)},HI=function(e){return Math.pow(1-e,2)},WI=function(e,t,r,n,i,a,o,s){return function(u){var c=GI(u),l=VI(u),d=HI(u),f=3*(d*(r-e)+l*(i-r)+c*(o-i)),h=3*(d*(n-t)+l*(a-n)+c*(s-a));return Math.atan2(h,f)}},qI=function(e,t,r,n,i,a){return function(o){var s=GI(o),u=VI(o),c=HI(o);return new eT(i*s+r*u+e*c,a*s+n*u+t*c)}},zI=function(e,t,r,n,i,a){return function(o){var s=1-o,u=2*(s*(r-e)+o*(i-r)),c=2*(s*(n-t)+o*(a-n));return Math.atan2(c,u)}},YI=function(e,t,r){for(var n=new eT(t,r),i=0,a=1;a<=100;a+=1){var o=e(a/100);i+=UI(n.x,n.y,o.x,o.y),n=o}return i},XI=function(e){var t,r,n,i=0,a=0,o=0,s=0,u=0,c=[],l=T(e);try{for(l.s();!(n=l.n()).done;){var d=n.value,f={x:a,y:o,command:d[0],length:0};switch(d[0]){case"M":(r=f).x=s=a=d[1],r.y=u=o=d[2];break;case"L":(r=f).length=UI(a,o,d[1],d[2]),a=d[1],o=d[2];break;case"C":t=BI(a,o,d[1],d[2],d[3],d[4],d[5],d[6]),(r=f).iterator=t,r.angleFinder=WI(a,o,d[1],d[2],d[3],d[4],d[5],d[6]),r.length=YI(t,a,o),a=d[5],o=d[6];break;case"Q":t=qI(a,o,d[1],d[2],d[3],d[4]),(r=f).iterator=t,r.angleFinder=zI(a,o,d[1],d[2],d[3],d[4]),r.length=YI(t,a,o),a=d[3],o=d[4];break;case"Z":(r=f).destX=s,r.destY=u,r.length=UI(a,o,s,u),a=s,o=u}i+=r.length,c.push(r)}}catch(h){l.e(h)}finally{l.f()}return c.push({length:i,x:a,y:o}),c},KI=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:XI(e),n=0;t-r[n].length>0&&n<r.length-2;)t-=r[n].length,n++;var i=r[n],a=t/i.length,o=e[n];switch(i.command){case"M":return{x:i.x,y:i.y,angle:0};case"Z":return $k($k({},new eT(i.x,i.y).lerp(new eT(i.destX,i.destY),a)),{},{angle:Math.atan2(i.destY-i.y,i.destX-i.x)});case"L":return $k($k({},new eT(i.x,i.y).lerp(new eT(o[1],o[2]),a)),{},{angle:Math.atan2(o[2]-i.y,o[1]-i.x)});case"C":case"Q":return function(e,t){for(var r,n=0,i=0,a={x:e.x,y:e.y},o=$k({},a),s=.01,u=0,c=e.iterator,l=e.angleFinder;i<t&&s>1e-4;)o=c(n),u=n,(r=UI(a.x,a.y,o.x,o.y))+i>t?(n-=s,s/=2):(a=o,n+=s,i+=r);return $k($k({},o),{},{angle:l(u)})}(i,t)}},JI=new RegExp(RI,"gi"),ZI=new RegExp(RI,"i"),QI=function(e){e=MP(e);var t,r=[],n=T(e.matchAll(JI));try{for(n.s();!(t=n.n()).done;){var i=k(t.value,1)[0],a=[],o=void 0;do{if(!(o=ZI.exec(i)))break;var s=o.filter((function(e){return e}));s.shift();var u=s.map((function(e){var t=Number.parseFloat(e);return Number.isNaN(t)?e:t}));if(a.push(u),s.length<=1)break;s.shift(),i=i.replace(new RegExp("".concat(s.join(" ?")," ?$")),"")}while(o);a.reverse().forEach((function(e,t){var n=NI[e[0]];t>0&&("l"==n||"L"==n)&&(e[0]=n),r.push(e)}))}}catch(c){n.e(c)}finally{n.f()}return r},$I=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new eT(e[0]),i=new eT(e[1]),a=1,o=0,s=[],u=e.length,c=u>2;for(c&&(a=e[2].x<i.x?-1:e[2].x===i.x?0:1,o=e[2].y<i.y?-1:e[2].y===i.y?0:1),s.push(["M",n.x-a*r,n.y-o*r]),t=1;t<u;t++){if(!n.eq(i)){var l=n.midPointFrom(i);s.push(["Q",n.x,n.y,l.x,l.y])}n=e[t],t+1<e.length&&(i=e[t+1])}return c&&(a=n.x>e[t-2].x?1:n.x===e[t-2].x?0:-1,o=n.y>e[t-2].y?1:n.y===e[t-2].y?0:-1),s.push(["L",n.x+a*r,n.y+o*r]),s},eO=function(e,t){return e.map((function(e){return e.map((function(e,r){return 0===r||void 0===t?e:GT(e,t)})).join(" ")})).join(" ")};function tO(e,t){var r=e.style;r&&t&&("string"==typeof t?r.cssText+=";"+t:Object.entries(t).forEach((function(e){var t=k(e,2),n=t[0],i=t[1];return r.setProperty(n,i)})))}var rO=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};function nO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onComplete||g_,n=new(f_().XMLHttpRequest),i=t.signal,a=function(){n.abort()},o=function(){i&&i.removeEventListener("abort",a),n.onerror=n.ontimeout=g_};if(i&&i.aborted)throw new s_("request");return i&&i.addEventListener("abort",a,{once:!0}),n.onreadystatechange=function(){4===n.readyState&&(o(),r(n),n.onreadystatechange=g_)},n.onerror=n.ontimeout=o,n.open("get",e,!0),n.send(),n}var iO=function(e,t){var r=e._findCenterFromElement();e.transformMatrix&&(function(e){if(e.transformMatrix){var t=ST(e.transformMatrix),r=t.scaleX,n=t.scaleY,i=t.angle,a=t.skewX;e.flipX=!1,e.flipY=!1,e.set(U_,r),e.set(B_,n),e.angle=i,e.skewX=a,e.skewY=0}}(e),r=r.transform(e.transformMatrix)),delete e.transformMatrix,t&&(e.scaleX*=t.scaleX,e.scaleY*=t.scaleY,e.cropX=t.cropX,e.cropY=t.cropY,r.x+=t.offsetLeft,r.y+=t.offsetTop,e.width=t.width,e.height=t.height),e.setPositionByOrigin(r,x_,x_)},aO=(Object.freeze({__proto__:null,addTransformToObject:fA,animate:wC,animateColor:kC,applyTransformToObject:hA,calcAngleBetweenVectors:YA,calcDimensionsMatrix:AT,calcPlaneChangeMatrix:mA,calcVectorRotation:XA,cancelAnimFrame:oT,capValue:nC,composeMatrix:CT,copyCanvasElement:function(e){var t,r=cT();return r.width=e.width,r.height=e.height,null===(t=r.getContext("2d"))||void 0===t||t.drawImage(e,0,0),r},cos:Q_,createCanvasElement:cT,createImage:lT,createRotateMatrix:xT,createScaleMatrix:wT,createSkewXMatrix:_T,createSkewYMatrix:TT,createTranslateMatrix:ET,createVector:qA,crossProduct:ZA,degreesToRadians:fT,dotProduct:QA,ease:fC,enlivenObjectEnlivables:OT,enlivenObjects:IT,findScaleToCover:SI,findScaleToFit:bI,getBoundsOfCurve:MI,getOrthonormalVector:JA,getPathSegmentsInfo:XI,getPointOnPath:KI,getPointer:sA,getRandomInt:rO,getRegularPolygonPath:function(e,t){var r=2*Math.PI/e,n=-m_;e%2==0&&(n+=r/2);for(var i=new Array(e+1),a=0;a<e;a++){var o=a*r+n,s=new eT(Q_(o),$_(o)).scalarMultiply(t),u=s.x,c=s.y;i[a]=[0===a?"M":"L",u,c]}return i[e]=["Z"],i},getSmoothPathFromPoints:$I,getSvgAttributes:function(e){var t=["instantiated_by_use","style","id","class"];switch(e){case"linearGradient":return t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return t.concat(["offset","stop-color","stop-opacity"])}return t},getUnitVector:KA,groupSVGElements:function(e,t){return e&&1===e.length?e[0]:new mI(e,t)},hasStyleChanged:EP,invertTransform:gT,isBetweenVectors:$A,isIdentityMatrix:pT,isTouchEvent:uA,isTransparent:lP,joinPath:eO,loadImage:PT,magnitude:zA,makeBoundingBoxFromPoints:lA,makePathSimpler:FI,matrixToSVG:WT,mergeClipPaths:function(e,t){var r,n=e,i=t;n.inverted&&!i.inverted&&(n=t,i=e),SA(i,null===(r=i.group)||void 0===r?void 0:r.calcTransformMatrix(),n.calcTransformMatrix());var a=n.inverted&&i.inverted;return a&&(n.inverted=i.inverted=!1),new mI([n],{clipPath:i,inverted:a})},multiplyTransformMatrices:mT,multiplyTransformMatrixArray:yT,parsePath:QI,parsePreserveAspectRatioAttribute:HT,parseUnit:VT,pick:RT,projectStrokeOnPoints:vP,qrDecompose:ST,radiansToDegrees:hT,removeFromArray:Z_,removeTransformFromObject:function(e,t){var r=gT(t),n=mT(r,e.calcOwnMatrix());hA(e,n)},removeTransformMatrixForSvgParsing:iO,request:nO,requestAnimFrame:aT,resetObjectTransform:pA,rotatePoint:function(e,t,r){return e.rotate(r,t)},rotateVector:WA,saveObjectTransform:vA,sendObjectToPlane:SA,sendPointToPlane:yA,sendVectorToPlane:bA,setStyle:tO,sin:$_,sizeAfterTransform:gA,string:SP,stylesFromArray:wP,stylesToArray:xP,toDataURL:dT,toFixed:GT,transformPath:function(e,t,r){return r&&(t=mT(t,[1,0,0,1,-r.x,-r.y])),e.map((function(e){for(var r=u(e),n=1;n<e.length-1;n+=2){var i=vT({x:e[n],y:e[n+1]},t),a=i.x,o=i.y;r[n]=a,r[n+1]=o}return r}))},transformPoint:vT}),function(e){v(r,e);var t=b(r);function r(e){var n;c(this,r);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.allowTouchScrolling,o=void 0!==a&&a,s=i.containerClass,u=void 0===s?"":s;Zk(y(n=t.call(this,e)),"upper",void 0),Zk(y(n),"container",void 0);var l=n.lower.el,d=n.createUpperCanvas();n.upper={el:d,ctx:d.getContext("2d")},n.applyCanvasStyle(l,{allowTouchScrolling:o}),n.applyCanvasStyle(d,{allowTouchScrolling:o,styles:{position:"absolute",left:"0",top:"0"}});var f=n.createContainerElement();return f.classList.add(u),l.parentNode&&l.parentNode.replaceChild(f,l),f.append(l,d),n.container=f,n}return h(r,[{key:"createUpperCanvas",value:function(){var e=this.lower.el,t=cT();return t.className=e.className,t.classList.remove("lower-canvas"),t.classList.add("upper-canvas"),t.setAttribute("data-fabric","top"),t.style.cssText=e.style.cssText,t.setAttribute("draggable","true"),t}},{key:"createContainerElement",value:function(){var e=d_().createElement("div");return e.setAttribute("data-fabric","wrapper"),tO(e,{position:"relative"}),rA(e),e}},{key:"applyCanvasStyle",value:function(e,t){var r=t.styles,n=t.allowTouchScrolling;tO(e,$k($k({},r),{},{"touch-action":n?"manipulation":A_})),rA(e)}},{key:"setDimensions",value:function(e,t){to(g(r.prototype),"setDimensions",this).call(this,e,t);var n=this.upper,i=n.el,a=n.ctx;eA(i,a,e,t)}},{key:"setCSSDimensions",value:function(e){to(g(r.prototype),"setCSSDimensions",this).call(this,e),tA(this.upper.el,e),tA(this.container,e)}},{key:"cleanupDOM",value:function(e){var t=this.container,n=this.lower.el,i=this.upper.el;to(g(r.prototype),"cleanupDOM",this).call(this,e),t.removeChild(i),t.removeChild(n),t.parentNode&&t.parentNode.replaceChild(n,t)}},{key:"dispose",value:function(){to(g(r.prototype),"dispose",this).call(this),l_().dispose(this.upper.el),delete this.upper,delete this.container}}]),r}(nA)),oO=function(e){v(r,e);var t=b(r);function r(){var e;return c(this,r),Zk(y(e=t.apply(this,arguments)),"targets",[]),Zk(y(e),"_hoveredTargets",[]),Zk(y(e),"_objectsToRender",void 0),Zk(y(e),"_currentTransform",null),Zk(y(e),"_groupSelector",null),Zk(y(e),"contextTopDirty",!1),e}return h(r,[{key:"upperCanvasEl",get:function(){var e;return null===(e=this.elements.upper)||void 0===e?void 0:e.el}},{key:"contextTop",get:function(){var e;return null===(e=this.elements.upper)||void 0===e?void 0:e.ctx}},{key:"wrapperEl",get:function(){return this.elements.container}},{key:"initElements",value:function(e){this.elements=new aO(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}},{key:"_onObjectAdded",value:function(e){this._objectsToRender=void 0,to(g(r.prototype),"_onObjectAdded",this).call(this,e)}},{key:"_onObjectRemoved",value:function(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),to(g(r.prototype),"_onObjectRemoved",this).call(this,e)}},{key:"_onStackOrderChanged",value:function(){this._objectsToRender=void 0,to(g(r.prototype),"_onStackOrderChanged",this).call(this)}},{key:"_chooseObjectsToRender",value:function(){var e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter((function(t){return!t.group&&t!==e})).concat(e):this._objects}},{key:"renderAll",value:function(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}},{key:"renderTopLayer",value:function(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}},{key:"renderTop",value:function(){var e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}},{key:"setTargetFindTolerance",value:function(e){e=Math.round(e),this.targetFindTolerance=e;var t=this.getRetinaScaling(),r=Math.ceil((2*e+1)*t);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=r,this.pixelFindContext.scale(t,t)}},{key:"isTargetTransparent",value:function(e,t,r){var n=this.targetFindTolerance,i=this.pixelFindContext;this.clearContext(i),i.save(),i.translate(-t+n,-r+n),i.transform.apply(i,u(this.viewportTransform));var a=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(i),e.selectionBackgroundColor=a,i.restore();var o=Math.round(n*this.getRetinaScaling());return lP(i,o,o,o)}},{key:"_isSelectionKeyPressed",value:function(e){var t=this.selectionKey;return!!t&&(Array.isArray(t)?!!t.find((function(t){return!!t&&!0===e[t]})):e[t])}},{key:"_shouldClearSelection",value:function(e,t){var r=this.getActiveObjects(),n=this._activeObject;return!!(!t||t&&n&&r.length>1&&-1===r.indexOf(t)&&n!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&n&&n!==t)}},{key:"_shouldCenterTransform",value:function(e,t,r){var n;if(e)return t===F_||t===U_||t===B_||t===L_?n=this.centeredScaling||e.centeredScaling:t===R_&&(n=this.centeredRotation||e.centeredRotation),n?!r:r}},{key:"_getOriginFromCorner",value:function(e,t){var r={x:e.originX,y:e.originY};return t?(["ml","tl","bl"].includes(t)?r.x=T_:["mr","tr","br"].includes(t)&&(r.x=w_),["tl","mt","tr"].includes(t)?r.y=__:["bl","mb","br"].includes(t)&&(r.y=k_),r):r}},{key:"_setupCurrentTransform",value:function(e,t,r){var n,i=t.group?yA(this.getScenePoint(e),void 0,t.group.calcTransformMatrix()):this.getScenePoint(e),a=t.getActiveControl()||{},o=a.key,s=void 0===o?"":o,u=a.control,c=r&&u?null===(n=u.getActionHandler(e,t,u))||void 0===n?void 0:n.bind(u):NA,l=function(e,t,r,n){if(!t||!e)return"drag";var i=n.controls[t];return i.getActionName(r,i,n)}(r,s,e,t),d=e[this.centeredKey],f=this._shouldCenterTransform(t,l,d)?{x:x_,y:x_}:this._getOriginFromCorner(t,s),h={target:t,action:l,actionHandler:c,actionPerformed:!1,corner:s,scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,offsetX:i.x-t.left,offsetY:i.y-t.top,originX:f.x,originY:f.y,ex:i.x,ey:i.y,lastX:i.x,lastY:i.y,theta:fT(t.angle),width:t.width,height:t.height,shiftKey:e.shiftKey,altKey:d,original:$k($k({},vA(t)),{},{originX:f.x,originY:f.y})};this._currentTransform=h,this.fire("before:transform",{e:e,transform:h})}},{key:"setCursor",value:function(e){this.upperCanvasEl.style.cursor=e}},{key:"_drawSelection",value:function(e){var t=this._groupSelector,r=t.x,n=t.y,i=t.deltaX,a=t.deltaY,o=new eT(r,n).transform(this.viewportTransform),s=new eT(r+i,n+a).transform(this.viewportTransform),u=this.selectionLineWidth/2,c=Math.min(o.x,s.x),l=Math.min(o.y,s.y),d=Math.max(o.x,s.x),f=Math.max(o.y,s.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(c,l,d-c,f-l)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,c+=u,l+=u,d-=u,f-=u,cP.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(c,l,d-c,f-l))}},{key:"findTarget",value:function(e){if(!this.skipTargetFind){var t=this.getViewportPoint(e),r=this._activeObject,n=this.getActiveObjects();if(this.targets=[],r&&n.length>=1){if(r.findControl(t,uA(e)))return r;if(n.length>1&&this.searchPossibleTargets([r],t))return r;if(r===this.searchPossibleTargets([r],t)){if(this.preserveObjectStacking){var i=this.targets;this.targets=[];var a=this.searchPossibleTargets(this._objects,t);return e[this.altSelectionKey]&&a&&a!==r?(this.targets=i,r):a}return r}}return this.searchPossibleTargets(this._objects,t)}}},{key:"_pointIsInObjectSelectionArea",value:function(e,t){var r=e.getCoords(),n=this.getZoom(),i=e.padding/n;if(i){var a=k(r,4),o=a[0],s=a[1],u=a[2],c=a[3],l=Math.atan2(s.y-o.y,s.x-o.x),d=Q_(l)*i,f=$_(l)*i,h=d+f,p=d-f;r=[new eT(o.x-p,o.y-h),new eT(s.x+h,s.y-p),new eT(u.x+p,u.y+h),new eT(c.x-h,c.y+p)]}return _C.isPointInPolygon(t,r)}},{key:"_checkTarget",value:function(e,t){if(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,yA(t,void 0,this.viewportTransform))){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;if(!this.isTargetTransparent(e,t.x,t.y))return!0}return!1}},{key:"_searchPossibleTargets",value:function(e,t){for(var r=e.length;r--;){var n=e[r];if(this._checkTarget(n,t)){if(rT(n)&&n.subTargetCheck){var i=this._searchPossibleTargets(n._objects,t);i&&this.targets.push(i)}return n}}}},{key:"searchPossibleTargets",value:function(e,t){var r=this._searchPossibleTargets(e,t);if(r&&rT(r)&&r.interactive&&this.targets[0]){for(var n=this.targets,i=n.length-1;i>0;i--){var a=n[i];if(!rT(a)||!a.interactive)return a}return n[0]}return r}},{key:"getViewportPoint",value:function(e){return this._pointer?this._pointer:this.getPointer(e,!0)}},{key:"getScenePoint",value:function(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}},{key:"getPointer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.upperCanvasEl,n=r.getBoundingClientRect(),i=sA(e),a=n.width||0,o=n.height||0;a&&o||(k_ in n&&__ in n&&(o=Math.abs(n.top-n.bottom)),T_ in n&&w_ in n&&(a=Math.abs(n.right-n.left))),this.calcOffset(),i.x=i.x-this._offset.left,i.y=i.y-this._offset.top,t||(i=yA(i,void 0,this.viewportTransform));var s=this.getRetinaScaling();1!==s&&(i.x/=s,i.y/=s);var u=0===a||0===o?new eT(1,1):new eT(r.width/a,r.height/o);return i.multiply(u)}},{key:"_setDimensionsImpl",value:function(e,t){this._resetTransformEventData(),to(g(r.prototype),"_setDimensionsImpl",this).call(this,e,t),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}},{key:"_createCacheCanvas",value:function(){this.pixelFindCanvasEl=cT(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}},{key:"getTopContext",value:function(){return this.elements.upper.ctx}},{key:"getSelectionContext",value:function(){return this.elements.upper.ctx}},{key:"getSelectionElement",value:function(){return this.elements.upper.el}},{key:"getActiveObject",value:function(){return this._activeObject}},{key:"getActiveObjects",value:function(){var e=this._activeObject;return JT(e)?e.getObjects():e?[e]:[]}},{key:"_fireSelectionEvents",value:function(e,t){var r=!1,n=!1,i=this.getActiveObjects(),a=[],o=[];e.forEach((function(e){i.includes(e)||(r=!0,e.fire("deselected",{e:t,target:e}),o.push(e))})),i.forEach((function(n){e.includes(n)||(r=!0,n.fire("selected",{e:t,target:n}),a.push(n))})),e.length>0&&i.length>0?(n=!0,r&&this.fire("selection:updated",{e:t,selected:a,deselected:o})):i.length>0?(n=!0,this.fire("selection:created",{e:t,selected:a})):e.length>0&&(n=!0,this.fire("selection:cleared",{e:t,deselected:o})),n&&(this._objectsToRender=void 0)}},{key:"setActiveObject",value:function(e,t){var r=this.getActiveObjects(),n=this._setActiveObject(e,t);return this._fireSelectionEvents(r,t),n}},{key:"_setActiveObject",value:function(e,t){var r=this._activeObject;return r!==e&&!(!this._discardActiveObject(t,e)&&this._activeObject)&&!e.onSelect({e:t})&&(this._activeObject=e,JT(e)&&r!==e&&e.set("canvas",this),e.setCoords(),!0)}},{key:"_discardActiveObject",value:function(e,t){var r=this._activeObject;return!!r&&!r.onDeselect({e:e,object:t})&&(this._currentTransform&&this._currentTransform.target===r&&this.endCurrentTransform(e),JT(r)&&r===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}},{key:"discardActiveObject",value:function(e){var t=this.getActiveObjects(),r=this.getActiveObject();t.length&&this.fire("before:selection:cleared",{e:e,deselected:[r]});var n=this._discardActiveObject(e);return this._fireSelectionEvents(t,e),n}},{key:"endCurrentTransform",value:function(e){var t=this._currentTransform;this._finalizeCurrentTransform(e),t&&t.target&&(t.target.isMoving=!1),this._currentTransform=null}},{key:"_finalizeCurrentTransform",value:function(e){var t=this._currentTransform,r=t.target,n={e:e,target:r,transform:t,action:t.action};r._scaling&&(r._scaling=!1),r.setCoords(),t.actionPerformed&&(this.fire("object:modified",n),r.fire(q_,n))}},{key:"setViewportTransform",value:function(e){to(g(r.prototype),"setViewportTransform",this).call(this,e);var t=this._activeObject;t&&t.setCoords()}},{key:"destroy",value:function(){var e=this._activeObject;JT(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,to(g(r.prototype),"destroy",this).call(this),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}},{key:"clear",value:function(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),to(g(r.prototype),"clear",this).call(this)}},{key:"drawControls",value:function(e){var t=this._activeObject;t&&t._renderControls(e)}},{key:"_toObject",value:function(e,t,n){var i=this._realizeGroupTransformOnObject(e),a=to(g(r.prototype),"_toObject",this).call(this,e,t,n);return e.set(i),a}},{key:"_realizeGroupTransformOnObject",value:function(e){var t=e.group;if(t&&JT(t)&&this._activeObject===t){var r=RT(e,["angle","flipX","flipY",w_,U_,B_,G_,V_,k_]);return fA(e,t.calcOwnMatrix()),r}return{}}},{key:"_setSVGObject",value:function(e,t,n){var i=this._realizeGroupTransformOnObject(t);to(g(r.prototype),"_setSVGObject",this).call(this,e,t,n),t.set(i)}}],[{key:"getDefaults",value:function(){return $k($k({},to(g(r),"getDefaults",this).call(this)),r.ownDefaults)}}]),r}(aA);Zk(oO,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});var sO=function(){function e(t){c(this,e),Zk(this,"targets",[]),Zk(this,"__disposer",void 0);var r=function(){var e=(t.getActiveObject()||{}).hiddenTextarea;e&&e.focus()},n=t.upperCanvasEl;n.addEventListener("click",r),this.__disposer=function(){return n.removeEventListener("click",r)}}return h(e,[{key:"exitTextEditing",value:function(){this.target=void 0,this.targets.forEach((function(e){e.isEditing&&e.exitEditing()}))}},{key:"add",value:function(e){this.targets.push(e)}},{key:"remove",value:function(e){this.unregister(e),Z_(this.targets,e)}},{key:"register",value:function(e){this.target=e}},{key:"unregister",value:function(e){e===this.target&&(this.target=void 0)}},{key:"onMouseMove",value:function(e){var t;(null===(t=this.target)||void 0===t?void 0:t.isEditing)&&this.target.updateSelectionOnMouseMove(e)}},{key:"clear",value:function(){this.targets=[],this.target=void 0}},{key:"dispose",value:function(){this.clear(),this.__disposer(),delete this.__disposer}}]),e}(),uO=["target","oldTarget","fireCanvas","e"],cO={passive:!1},lO=function(e,t){var r=e.getViewportPoint(t),n=e.getScenePoint(t);return{viewportPoint:r,scenePoint:n,pointer:r,absolutePointer:n}},dO=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.addEventListener.apply(e,r)},fO=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.removeEventListener.apply(e,r)},hO={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}},pO=function(e){v(r,e);var t=b(r);function r(e){var n;return c(this,r),Zk(y(n=t.call(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})),"_isClick",void 0),Zk(y(n),"textEditingManager",new sO(y(n))),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach((function(e){n[e]=n[e].bind(y(n))})),n.addOrRemove(dO,"add"),n}return h(r,[{key:"_getEventPrefix",value:function(){return this.enablePointerEvents?"pointer":"mouse"}},{key:"addOrRemove",value:function(e,t){var r=this.upperCanvasEl,n=this._getEventPrefix();e($T(r),"resize",this._onResize),e(r,n+"down",this._onMouseDown),e(r,"".concat(n,"move"),this._onMouseMove,cO),e(r,"".concat(n,"out"),this._onMouseOut),e(r,"".concat(n,"enter"),this._onMouseEnter),e(r,"wheel",this._onMouseWheel),e(r,"contextmenu",this._onContextMenu),e(r,"dblclick",this._onDoubleClick),e(r,"dragstart",this._onDragStart),e(r,"dragend",this._onDragEnd),e(r,"dragover",this._onDragOver),e(r,"dragenter",this._onDragEnter),e(r,"dragleave",this._onDragLeave),e(r,"drop",this._onDrop),this.enablePointerEvents||e(r,"touchstart",this._onTouchStart,cO)}},{key:"removeListeners",value:function(){this.addOrRemove(fO,"remove");var e=this._getEventPrefix(),t=QT(this.upperCanvasEl);fO(t,"".concat(e,"up"),this._onMouseUp),fO(t,"touchend",this._onTouchEnd,cO),fO(t,"".concat(e,"move"),this._onMouseMove,cO),fO(t,"touchmove",this._onMouseMove,cO)}},{key:"_onMouseWheel",value:function(e){this.__onMouseWheel(e)}},{key:"_onMouseOut",value:function(e){var t=this,r=this._hoveredTarget,n=$k({e:e},lO(this,e));this.fire("mouse:out",$k($k({},n),{},{target:r})),this._hoveredTarget=void 0,r&&r.fire("mouseout",$k({},n)),this._hoveredTargets.forEach((function(e){t.fire("mouse:out",$k($k({},n),{},{target:e})),e&&e.fire("mouseout",$k({},n))})),this._hoveredTargets=[]}},{key:"_onMouseEnter",value:function(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",$k({e:e},lO(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}},{key:"_onDragStart",value:function(e){this._isClick=!1;var t=this.getActiveObject();if(t&&t.onDragStart(e)){this._dragSource=t;var r={e:e,target:t};return this.fire("dragstart",r),t.fire("dragstart",r),void dO(this.upperCanvasEl,"drag",this._onDragProgress)}cA(e)}},{key:"_renderDragEffects",value:function(e,t,r){var n=!1,i=this._dropTarget;i&&i!==t&&i!==r&&(i.clearContextTop(),n=!0),null==t||t.clearContextTop(),r!==t&&(null==r||r.clearContextTop());var a=this.contextTop;a.save(),a.transform.apply(a,u(this.viewportTransform)),t&&(a.save(),t.transform(a),t.renderDragSourceEffect(e),a.restore(),n=!0),r&&(a.save(),r.transform(a),r.renderDropTargetEffect(e),a.restore(),n=!0),a.restore(),n&&(this.contextTopDirty=!0)}},{key:"_onDragEnd",value:function(e){var t=!!e.dataTransfer&&e.dataTransfer.dropEffect!==A_,r=t?this._activeObject:void 0,n={e:e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:t,dropTarget:r};fO(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",n),this._dragSource&&this._dragSource.fire("dragend",n),delete this._dragSource,this._onMouseUp(e)}},{key:"_onDragProgress",value:function(e){var t={e:e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",t),this._dragSource&&this._dragSource.fire("drag",t)}},{key:"findDragTargets",value:function(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:u(this.targets)}}},{key:"_onDragOver",value:function(e){var t,r="dragover",n=this.findDragTargets(e),i=n.target,a=n.targets,o=this._dragSource,s={e:e,target:i,subTargets:a,dragSource:o,canDrop:!1,dropTarget:void 0};this.fire(r,s),this._fireEnterLeaveEvents(i,s),i&&(i.canDrop(e)&&(t=i),i.fire(r,s));for(var u=0;u<a.length;u++){var c=a[u];c.canDrop(e)&&(t=c),c.fire(r,s)}this._renderDragEffects(e,o,t),this._dropTarget=t}},{key:"_onDragEnter",value:function(e){var t=this.findDragTargets(e),r=t.target,n={e:e,target:r,subTargets:t.targets,dragSource:this._dragSource};this.fire("dragenter",n),this._fireEnterLeaveEvents(r,n)}},{key:"_onDragLeave",value:function(e){var t={e:e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",t),this._fireEnterLeaveEvents(void 0,t),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}},{key:"_onDrop",value:function(e){var t=this.findDragTargets(e),r=t.target,n=t.targets,i=this._basicEventHandler("drop:before",$k({e:e,target:r,subTargets:n,dragSource:this._dragSource},lO(this,e)));i.didDrop=!1,i.dropTarget=void 0,this._basicEventHandler("drop",i),this.fire("drop:after",i)}},{key:"_onContextMenu",value:function(e){var t=this.findTarget(e),r=this.targets||[],n=this._basicEventHandler("contextmenu:before",{e:e,target:t,subTargets:r});return this.stopContextMenu&&cA(e),this._basicEventHandler("contextmenu",n),!1}},{key:"_onDoubleClick",value:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"dblclick"),this._resetTransformEventData()}},{key:"getPointerId",value:function(e){var t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1}},{key:"_isMainEvent",value:function(e){return!0===e.isPrimary||!1!==e.isPrimary&&("touchend"===e.type&&0===e.touches.length||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}},{key:"_onTouchStart",value:function(e){e.preventDefault(),void 0===this.mainTouchId&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),this._resetTransformEventData();var t=this.upperCanvasEl,r=this._getEventPrefix(),n=QT(t);dO(n,"touchend",this._onTouchEnd,cO),dO(n,"touchmove",this._onMouseMove,cO),fO(t,"".concat(r,"down"),this._onMouseDown)}},{key:"_onMouseDown",value:function(e){this.__onMouseDown(e),this._resetTransformEventData();var t=this.upperCanvasEl,r=this._getEventPrefix();fO(t,"".concat(r,"move"),this._onMouseMove,cO);var n=QT(t);dO(n,"".concat(r,"up"),this._onMouseUp),dO(n,"".concat(r,"move"),this._onMouseMove,cO)}},{key:"_onTouchEnd",value:function(e){var t=this;if(!(e.touches.length>0)){this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;var r=this._getEventPrefix(),n=QT(this.upperCanvasEl);fO(n,"touchend",this._onTouchEnd,cO),fO(n,"touchmove",this._onMouseMove,cO),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){dO(t.upperCanvasEl,"".concat(r,"down"),t._onMouseDown),t._willAddMouseDown=0}),400)}}},{key:"_onMouseUp",value:function(e){this.__onMouseUp(e),this._resetTransformEventData();var t=this.upperCanvasEl,r=this._getEventPrefix();if(this._isMainEvent(e)){var n=QT(this.upperCanvasEl);fO(n,"".concat(r,"up"),this._onMouseUp),fO(n,"".concat(r,"move"),this._onMouseMove,cO),dO(t,"".concat(r,"move"),this._onMouseMove,cO)}}},{key:"_onMouseMove",value:function(e){var t=this.getActiveObject();!this.allowTouchScrolling&&(!t||!t.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}},{key:"_onResize",value:function(){this.calcOffset(),this._resetTransformEventData()}},{key:"_shouldRender",value:function(e){var t=this.getActiveObject();return!!t!=!!e||t&&e&&t!==e}},{key:"__onMouseUp",value:function(e){var t;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");var r=this._currentTransform,n=this._isClick,i=this._target,a=e.button;if(a)return(this.fireMiddleClick&&1===a||this.fireRightClick&&2===a)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(e);else if(this._isMainEvent(e)){var o,s,u=!1;if(r&&(this._finalizeCurrentTransform(e),u=r.actionPerformed),!n){var c=i===this._activeObject;this.handleSelection(e),u||(u=this._shouldRender(i)||!c&&i===this._activeObject)}if(i){var l=i.findControl(this.getViewportPoint(e),uA(e))||{},d=l.key,f=l.control;if(s=d,i.selectable&&i!==this._activeObject&&"up"===i.activeOn)this.setActiveObject(i,e),u=!0;else if(f){var h=f.getMouseUpHandler(e,i,f);h&&(o=this.getScenePoint(e),h.call(f,e,r,o.x,o.y))}i.isMoving=!1}if(r&&(r.target!==i||r.corner!==s)){var p=r.target&&r.target.controls[r.corner],v=p&&p.getMouseUpHandler(e,r.target,p);o=o||this.getScenePoint(e),v&&v.call(p,e,r,o.x,o.y)}this._setCursorFromEvent(e,i),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,i&&(i.__corner=void 0),u?this.requestRenderAll():n||null!==(t=this._activeObject)&&void 0!==t&&t.isEditing||this.renderTop()}}},{key:"_basicEventHandler",value:function(e,t){var r=t.target,n=t.subTargets,i=void 0===n?[]:n;this.fire(e,t),r&&r.fire(e,t);for(var a=0;a<i.length;a++)i[a]!==r&&i[a].fire(e,t);return t}},{key:"_handleEvent",value:function(e,t){var r=this._target,n=this.targets||[],i=$k($k({e:e,target:r,subTargets:n},lO(this,e)),{},{transform:this._currentTransform},"up:before"===t||"up"===t?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(t),i),r&&r.fire("mouse".concat(t),i);for(var a=0;a<n.length;a++)n[a]!==r&&n[a].fire("mouse".concat(t),i)}},{key:"_onMouseDownInDrawingMode",value:function(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());var t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(t,{e:e,pointer:t}),this._handleEvent(e,"down")}},{key:"_onMouseMoveInDrawingMode",value:function(e){if(this._isCurrentlyDrawing){var t=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(t,{e:e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}},{key:"_onMouseUpInDrawingMode",value:function(e){var t=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:e,pointer:t}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}},{key:"__onMouseDown",value:function(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");var t=this._target,r=e.button;if(r)return(this.fireMiddleClick&&1===r||this.fireRightClick&&2===r)&&this._handleEvent(e,"down"),void this._resetTransformEventData();if(this.isDrawingMode)this._onMouseDownInDrawingMode(e);else if(this._isMainEvent(e)&&!this._currentTransform){var n=this._shouldRender(t),i=!1;if(this.handleMultiSelection(e,t)?(t=this._activeObject,i=!0,n=!0):this._shouldClearSelection(e,t)&&this.discardActiveObject(e),this.selection&&(!t||!t.selectable&&!t.isEditing&&t!==this._activeObject)){var a=this.getScenePoint(e);this._groupSelector={x:a.x,y:a.y,deltaY:0,deltaX:0}}if(t){var o=t===this._activeObject;t.selectable&&"down"===t.activeOn&&this.setActiveObject(t,e);var s=t.findControl(this.getViewportPoint(e),uA(e));if(t===this._activeObject&&(s||!i)){this._setupCurrentTransform(e,t,o);var u=s?s.control:void 0,c=this.getScenePoint(e),l=u&&u.getMouseDownHandler(e,t,u);l&&l.call(u,e,this._currentTransform,c.x,c.y)}}n&&(this._objectsToRender=void 0),this._handleEvent(e,"down"),n&&this.requestRenderAll()}}},{key:"_resetTransformEventData",value:function(){this._target=void 0,this._pointer=void 0,this._absolutePointer=void 0}},{key:"_cacheTransformEventData",value:function(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=yA(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}},{key:"__onMouseMove",value:function(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)this._onMouseMoveInDrawingMode(e);else if(this._isMainEvent(e)){var t=this._groupSelector;if(t){var r=this.getScenePoint(e);t.deltaX=r.x-t.x,t.deltaY=r.y-t.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{var n=this.findTarget(e);this._setCursorFromEvent(e,n),this._fireOverOutEvents(e,n)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}}},{key:"_fireOverOutEvents",value:function(e,t){var r=this._hoveredTarget,n=this._hoveredTargets,i=this.targets,a=Math.max(n.length,i.length);this.fireSyntheticInOutEvents("mouse",{e:e,target:t,oldTarget:r,fireCanvas:!0});for(var o=0;o<a;o++)this.fireSyntheticInOutEvents("mouse",{e:e,target:i[o],oldTarget:n[o]});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()}},{key:"_fireEnterLeaveEvents",value:function(e,t){var r=this._draggedoverTarget,n=this._hoveredTargets,i=this.targets,a=Math.max(n.length,i.length);this.fireSyntheticInOutEvents("drag",$k($k({},t),{},{target:e,oldTarget:r,fireCanvas:!0}));for(var o=0;o<a;o++)this.fireSyntheticInOutEvents("drag",$k($k({},t),{},{target:i[o],oldTarget:n[o]}));this._draggedoverTarget=e}},{key:"fireSyntheticInOutEvents",value:function(e,t){var r=t.target,n=t.oldTarget,i=t.fireCanvas,a=t.e,o=e_(t,uO),s=hO[e],u=s.targetIn,c=s.targetOut,l=s.canvasIn,d=s.canvasOut,f=n!==r;if(n&&f){var h=$k($k({},o),{},{e:a,target:n,nextTarget:r},lO(this,a));i&&this.fire(d,h),n.fire(c,h)}if(r&&f){var p=$k($k({},o),{},{e:a,target:r,previousTarget:n},lO(this,a));i&&this.fire(l,p),r.fire(u,p)}}},{key:"__onMouseWheel",value:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}},{key:"_transformObject",value:function(e){var t=this.getScenePoint(e),r=this._currentTransform,n=r.target,i=n.group?yA(t,void 0,n.group.calcTransformMatrix()):t;r.shiftKey=e.shiftKey,r.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,r,i),r.actionPerformed&&this.requestRenderAll()}},{key:"_performTransformAction",value:function(e,t,r){var n=t.action,i=t.actionHandler,a=t.target,o=!!i&&i(e,t,r.x,r.y);o&&a.setCoords(),"drag"===n&&o&&(t.target.isMoving=!0,this.setCursor(t.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||o}},{key:"_setCursorFromEvent",value:function(e,t){if(t){var r=t.hoverCursor||this.hoverCursor,n=JT(this._activeObject)?this._activeObject:null,i=(!n||t.group!==n)&&t.findControl(this.getViewportPoint(e));if(i){var a=i.control;this.setCursor(a.cursorStyleHandler(e,a,t))}else t.subTargetCheck&&this.targets.concat().reverse().map((function(e){r=e.hoverCursor||r})),this.setCursor(r)}else this.setCursor(this.defaultCursor)}},{key:"handleMultiSelection",value:function(e,t){var r=this._activeObject,n=JT(r);if(r&&this._isSelectionKeyPressed(e)&&this.selection&&t&&t.selectable&&(r!==t||n)&&(n||!t.isDescendantOf(r)&&!r.isDescendantOf(t))&&!t.onSelect({e:e})&&!r.getActiveControl()){if(n){var i=r.getObjects();if(t===r){var a=this.getViewportPoint(e);if(!(t=this.searchPossibleTargets(i,a)||this.searchPossibleTargets(this._objects,a))||!t.selectable)return!1}t.group===r?(r.remove(t),this._hoveredTarget=t,this._hoveredTargets=u(this.targets),1===r.size()&&this._setActiveObject(r.item(0),e)):(r.multiSelectAdd(t),this._hoveredTarget=r,this._hoveredTargets=u(this.targets)),this._fireSelectionEvents(i,e)}else{r.exitEditing&&r.exitEditing();var o=new(X_.getClass("ActiveSelection"))([],{canvas:this});o.multiSelectAdd(r,t),this._hoveredTarget=o,this._setActiveObject(o,e),this._fireSelectionEvents([r],e)}return!0}return!1}},{key:"handleSelection",value:function(e){if(!this.selection||!this._groupSelector)return!1;var t=this._groupSelector,r=t.x,n=t.y,i=t.deltaX,a=t.deltaY,o=new eT(r,n),s=o.add(new eT(i,a)),u=o.min(s),c=o.max(s).subtract(u),l=this.collectObjects({left:u.x,top:u.y,width:c.x,height:c.y},{includeIntersecting:!this.selectionFullyContained}),d=o.eq(s)?l[0]?[l[0]]:[]:l.length>1?l.filter((function(t){return!t.onSelect({e:e})})).reverse():l;if(1===d.length)this.setActiveObject(d[0],e);else if(d.length>1){var f=X_.getClass("ActiveSelection");this.setActiveObject(new f(d,{canvas:this}),e)}return this._groupSelector=null,!0}},{key:"clear",value:function(){this.textEditingManager.clear(),to(g(r.prototype),"clear",this).call(this)}},{key:"destroy",value:function(){this.removeListeners(),this.textEditingManager.dispose(),to(g(r.prototype),"destroy",this).call(this)}}]),r}(oO),vO={x1:0,y1:0,x2:0,y2:0},gO=$k($k({},vO),{},{r1:0,r2:0}),mO=function(e,t){return isNaN(e)&&"number"==typeof t?t:e},yO=/^(\d+\.\d+)%|(\d+)%$/;function bO(e){return e&&yO.test(e)}function SO(e,t){var r="number"==typeof e?e:"string"==typeof e?parseFloat(e)/(bO(e)?100:1):NaN;return nC(0,mO(r,t),1)}var EO=/\s*;\s*/,xO=/\s*:\s*/;function wO(e,t){var r,n,i=e.getAttribute("style");if(i){var a=i.split(EO);""===a[a.length-1]&&a.pop();for(var o=a.length;o--;){var s=a[o].split(xO).map((function(e){return e.trim()})),u=k(s,2),c=u[0],l=u[1];"stop-color"===c?r=l:"stop-opacity"===c&&(n=l)}}var d=new BT(r||e.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:SO(e.getAttribute("offset"),0),color:d.toRgb(),opacity:mO(parseFloat(n||e.getAttribute("stop-opacity")||""),1)*d.getAlpha()*t}}function kO(e,t){for(var r=[],n=e.getElementsByTagName("stop"),i=SO(t,1),a=n.length;a--;)r.push(wO(n[a],i));return r}function _O(e){return"linearGradient"===e.nodeName||"LINEARGRADIENT"===e.nodeName?"linear":"radial"}function TO(e){return"userSpaceOnUse"===e.getAttribute("gradientUnits")?"pixels":"percentage"}function AO(e,t){return e.getAttribute(t)}function CO(e,t){return function(e,t){var r,n=t.width,i=t.height,a=t.gradientUnits;return Object.keys(e).reduce((function(t,o){var s=e[o];return"Infinity"===s?r=1:"-Infinity"===s?r=0:(r="string"==typeof s?parseFloat(s):s,"string"==typeof s&&bO(s)&&(r*=.01,"pixels"===a&&("x1"!==o&&"x2"!==o&&"r2"!==o||(r*=n),"y1"!==o&&"y2"!==o||(r*=i)))),t[o]=r,t}),{})}("linear"===_O(e)?function(e){return{x1:AO(e,"x1")||0,y1:AO(e,"y1")||0,x2:AO(e,"x2")||"100%",y2:AO(e,"y2")||0}}(e):function(e){return{x1:AO(e,"fx")||AO(e,"cx")||"50%",y1:AO(e,"fy")||AO(e,"cy")||"50%",r1:0,x2:AO(e,"cx")||"50%",y2:AO(e,"cy")||"50%",r2:AO(e,"r")||"50%"}}(e),$k($k({},t),{},{gradientUnits:TO(e)}))}var PO=function(){function e(t){c(this,e);var r=t||{},n=r.type,i=void 0===n?"linear":n,a=r.gradientUnits,o=void 0===a?"pixels":a,s=r.coords,u=void 0===s?{}:s,l=r.colorStops,d=void 0===l?[]:l,f=r.offsetX,h=void 0===f?0:f,p=r.offsetY,v=void 0===p?0:p,g=r.gradientTransform,m=r.id;Object.assign(this,{type:i,gradientUnits:o,coords:$k($k({},"radial"===i?gO:vO),u),colorStops:d,offsetX:h,offsetY:v,gradientTransform:g,id:m?"".concat(m,"_").concat(uT()):uT()})}return h(e,[{key:"addColorStop",value:function(e){for(var t in e){var r=new BT(e[t]);this.colorStops.push({offset:parseFloat(t),color:r.toRgb(),opacity:r.getAlpha()})}return this}},{key:"toObject",value:function(e){return $k($k({},RT(this,e)),{},{type:this.type,coords:$k({},this.coords),colorStops:this.colorStops.map((function(e){return $k({},e)})),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?u(this.gradientTransform):void 0})}},{key:"toSVG",value:function(e){var t,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).additionalTransform,n=[],i=this.gradientTransform?this.gradientTransform.concat():S_.concat(),a="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox",o=this.colorStops.map((function(e){return $k({},e)})).sort((function(e,t){return e.offset-t.offset})),s=-this.offsetX,u=-this.offsetY;"objectBoundingBox"===a?(s/=e.width,u/=e.height):(s+=e.width/2,u+=e.height/2),(t=e)&&"function"==typeof t._renderPathCommands&&"percentage"!==this.gradientUnits&&(s-=e.pathOffset.x,u-=e.pathOffset.y),i[4]-=s,i[5]-=u;var c=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(a,'"'),'gradientTransform="'.concat(r?r+" ":"").concat(WT(i),'"'),""].join(" ");if("linear"===this.type){var l=this.coords,d=l.x1,f=l.y1,h=l.x2,p=l.y2;n.push("<linearGradient ",c,' x1="',d,'" y1="',f,'" x2="',h,'" y2="',p,'">\n')}else if("radial"===this.type){var v=this.coords,g=v.x1,m=v.y1,y=v.x2,b=v.y2,S=v.r1,E=v.r2,x=S>E;n.push("<radialGradient ",c,' cx="',x?g:y,'" cy="',x?m:b,'" r="',x?S:E,'" fx="',x?y:g,'" fy="',x?b:m,'">\n'),x&&(o.reverse(),o.forEach((function(e){e.offset=1-e.offset})));var w=Math.min(S,E);if(w>0){var k=w/Math.max(S,E);o.forEach((function(e){e.offset+=k*(1-e.offset)}))}}return o.forEach((function(e){var t=e.color,r=e.offset,i=e.opacity;n.push("<stop ",'offset="',100*r+"%",'" style="stop-color:',t,void 0!==i?";stop-opacity: "+i:";",'"/>\n')})),n.push("linear"===this.type?"</linearGradient>":"</radialGradient>","\n"),n.join("")}},{key:"toLive",value:function(e){var t=this.coords,r=t.x1,n=t.y1,i=t.x2,a=t.y2,o=t.r1,s=t.r2,u="linear"===this.type?e.createLinearGradient(r,n,i,a):e.createRadialGradient(r,n,o,i,a,s);return this.colorStops.forEach((function(e){var t=e.color,r=e.opacity,n=e.offset;u.addColorStop(n,void 0!==r?new BT(t).setAlpha(r).toRgba():t)})),u}}],[{key:"fromObject",value:function(){var e=Ot(Pt().mark((function e(t){var r,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.colorStops,n=t.gradientTransform,e.abrupt("return",new this($k($k({},t),{},{colorStops:r?r.map((function(e){return $k({},e)})):void 0,gradientTransform:n?u(n):void 0})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fromElement",value:function(e,t,r){var n=TO(e),i=t._findCenterFromElement();return new this($k({id:e.getAttribute("id")||void 0,type:_O(e),coords:CO(e,{width:r.viewBoxWidth||r.width,height:r.viewBoxHeight||r.height}),colorStops:kO(e,r.opacity),gradientUnits:n,gradientTransform:JP(e.getAttribute("gradientTransform")||"")},"pixels"===n?{offsetX:t.width/2-i.x,offsetY:t.height/2-i.y}:{offsetX:0,offsetY:0}))}}]),e}();Zk(PO,"type","Gradient"),X_.setClass(PO,"gradient"),X_.setClass(PO,"linear"),X_.setClass(PO,"radial");var IO=["type","source","patternTransform"],OO=function(){function e(t){c(this,e),Zk(this,"repeat","repeat"),Zk(this,"offsetX",0),Zk(this,"offsetY",0),Zk(this,"crossOrigin",""),this.id=uT(),Object.assign(this,t)}return h(e,[{key:"type",get:function(){return"pattern"},set:function(e){a_("warn","Setting type has no effect",e)}},{key:"isImageSource",value:function(){return!!this.source&&"string"==typeof this.source.src}},{key:"isCanvasSource",value:function(){return!!this.source&&!!this.source.toDataURL}},{key:"sourceToString",value:function(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}},{key:"toLive",value:function(e){return this.source&&(!this.isImageSource()||this.source.complete&&0!==this.source.naturalWidth&&0!==this.source.naturalHeight)?e.createPattern(this.source,this.repeat):null}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.repeat,r=this.crossOrigin;return $k($k({},RT(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:t,crossOrigin:r,offsetX:GT(this.offsetX,i_.NUM_FRACTION_DIGITS),offsetY:GT(this.offsetY,i_.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?u(this.patternTransform):null})}},{key:"toSVG",value:function(e){var t=e.width,r=e.height,n=this.source,i=this.repeat,a=this.id,o=mO(this.offsetX/t,0),s=mO(this.offsetY/r,0),u="repeat-y"===i||"no-repeat"===i?1+Math.abs(o||0):mO(n.width/t,0),c="repeat-x"===i||"no-repeat"===i?1+Math.abs(s||0):mO(n.height/r,0);return['<pattern id="SVGID_'.concat(a,'" x="').concat(o,'" y="').concat(s,'" width="').concat(u,'" height="').concat(c,'">'),'<image x="0" y="0" width="'.concat(n.width,'" height="').concat(n.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join("\n")}}],[{key:"fromObject",value:function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.type,n=t.source,i=t.patternTransform,a=e_(t,IO),e.next=3,PT(n,$k($k({},r),{},{crossOrigin:a.crossOrigin}));case 3:return o=e.sent,e.abrupt("return",new this($k($k({},a),{},{patternTransform:i&&i.slice(0),source:o})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();Zk(OO,"type","Pattern"),X_.setClass(OO),X_.setClass(OO,"pattern");var RO=["path","left","top"],NO=["d"],LO=function(e){v(r,e);var t=b(r);function r(e){var n;c(this,r);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(i.path,i.left),o=i.top,s=e_(i,RO);return n=t.call(this),Object.assign(y(n),r.ownDefaults),n.setOptions(s),n._setPath(e||[],!0),"number"==typeof a&&n.set(w_,a),"number"==typeof o&&n.set(k_,o),n}return h(r,[{key:"_setPath",value:function(e,t){this.path=FI(Array.isArray(e)?e:QI(e)),this.setBoundingBox(t)}},{key:"_findCenterFromElement",value:function(){var e=this._calcBoundsFromPath();return new eT(e.left+e.width/2,e.top+e.height/2)}},{key:"_renderPathCommands",value:function(e){var t=-this.pathOffset.x,r=-this.pathOffset.y;e.beginPath();var n,i=T(this.path);try{for(i.s();!(n=i.n()).done;){var a=n.value;switch(a[0]){case"L":e.lineTo(a[1]+t,a[2]+r);break;case"M":e.moveTo(a[1]+t,a[2]+r);break;case"C":e.bezierCurveTo(a[1]+t,a[2]+r,a[3]+t,a[4]+r,a[5]+t,a[6]+r);break;case"Q":e.quadraticCurveTo(a[1]+t,a[2]+r,a[3]+t,a[4]+r);break;case"Z":e.closePath()}}}catch(o){i.e(o)}finally{i.f()}}},{key:"_render",value:function(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}},{key:"toString",value:function(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return $k($k({},to(g(r.prototype),"toObject",this).call(this,e)),{},{path:this.path.map((function(e){return e.slice()}))})}},{key:"toDatalessObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.toObject(e);return this.sourcePath&&(delete t.path,t.sourcePath=this.sourcePath),t}},{key:"_toSVG",value:function(){var e=eO(this.path,i_.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,'" stroke-linecap="round" />\n')]}},{key:"_getOffsetTransform",value:function(){var e=i_.NUM_FRACTION_DIGITS;return" translate(".concat(GT(-this.pathOffset.x,e),", ").concat(GT(-this.pathOffset.y,e),")")}},{key:"toClipPathSVG",value:function(e){var t=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}},{key:"toSVG",value:function(e){var t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})}},{key:"complexity",value:function(){return this.path.length}},{key:"setDimensions",value:function(){this.setBoundingBox()}},{key:"setBoundingBox",value:function(e){var t=this._calcDimensions(),r=t.width,n=t.height,i=t.pathOffset;this.set({width:r,height:n,pathOffset:i}),e&&this.setPositionByOrigin(i,x_,x_)}},{key:"_calcBoundsFromPath",value:function(){var e,t=[],r=0,n=0,i=0,a=0,o=T(this.path);try{for(o.s();!(e=o.n()).done;){var s=e.value;switch(s[0]){case"L":i=s[1],a=s[2],t.push(new eT(r,n),new eT(i,a));break;case"M":i=s[1],a=s[2],r=i,n=a;break;case"C":t.push.apply(t,u(MI(i,a,s[1],s[2],s[3],s[4],s[5],s[6]))),i=s[5],a=s[6];break;case"Q":t.push.apply(t,u(MI(i,a,s[1],s[2],s[1],s[2],s[3],s[4]))),i=s[3],a=s[4];break;case"Z":i=r,a=n}}}catch(c){o.e(c)}finally{o.f()}return lA(t)}},{key:"_calcDimensions",value:function(){var e=this._calcBoundsFromPath();return $k($k({},e),{},{pathOffset:new eT(e.left+e.width/2,e.top+e.height/2)})}}],[{key:"fromObject",value:function(e){return this._fromObject(e,{extraParam:"path"})}},{key:"fromElement",value:function(){var e=Ot(Pt().mark((function e(t,r,n){var i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=eI(t,this.ATTRIBUTE_NAMES,n),a=i.d,e.abrupt("return",new this(a,$k($k($k({},e_(i,NO)),r),{},{left:void 0,top:void 0})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()}]),r}(cP);Zk(LO,"type","Path"),Zk(LO,"cacheProperties",[].concat(aC,["path","fillRule"])),Zk(LO,"ATTRIBUTE_NAMES",[].concat(kP,["d"])),X_.setClass(LO),X_.setSVGClass(LO);var jO=["left","top","radius"],MO=["radius","startAngle","endAngle","counterClockwise"],DO=function(e){v(r,e);var t=b(r);function r(e){var n;return c(this,r),n=t.call(this),Object.assign(y(n),r.ownDefaults),n.setOptions(e),n}return h(r,[{key:"_set",value:function(e,t){return to(g(r.prototype),"_set",this).call(this,e,t),"radius"===e&&this.setRadius(t),this}},{key:"_render",value:function(e){e.beginPath(),e.arc(0,0,this.radius,fT(this.startAngle),fT(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}},{key:"getRadiusX",value:function(){return this.get("radius")*this.get(U_)}},{key:"getRadiusY",value:function(){return this.get("radius")*this.get(B_)}},{key:"setRadius",value:function(e){this.radius=e,this.set({width:2*e,height:2*e})}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return to(g(r.prototype),"toObject",this).call(this,[].concat(MO,u(e)))}},{key:"_toSVG",value:function(){var e=(this.endAngle-this.startAngle)%360;if(0===e)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),'" />\n'];var t=this.radius,r=fT(this.startAngle),n=fT(this.endAngle),i=Q_(r)*t,a=$_(r)*t,o=Q_(n)*t,s=$_(n)*t,u=e>180?1:0,c=this.counterClockwise?0:1;return['<path d="M '.concat(i," ").concat(a," A ").concat(t," ").concat(t," 0 ").concat(u," ").concat(c," ").concat(o," ").concat(s,'" '),"COMMON_PARTS"," />\n"]}}],[{key:"getDefaults",value:function(){return $k($k({},to(g(r),"getDefaults",this).call(this)),r.ownDefaults)}},{key:"fromElement",value:function(){var e=Ot(Pt().mark((function e(t,r,n){var i,a,o,s,u,c,l;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=eI(t,this.ATTRIBUTE_NAMES,n),a=i.left,o=void 0===a?0:a,s=i.top,u=void 0===s?0:s,c=i.radius,l=void 0===c?0:c,e.abrupt("return",new this($k($k({},e_(i,jO)),{},{radius:l,left:o-l,top:u-l})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"fromObject",value:function(e){return to(g(r),"_fromObject",this).call(this,e)}}]),r}(cP);Zk(DO,"type","Circle"),Zk(DO,"cacheProperties",[].concat(aC,MO)),Zk(DO,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),Zk(DO,"ATTRIBUTE_NAMES",["cx","cy","r"].concat(kP)),X_.setClass(DO),X_.setSVGClass(DO);var FO=["x1","y1","x2","y2"],UO=["x1","y1","x2","y2"],BO=["x1","x2","y1","y2"],GO=function(e){v(r,e);var t=b(r);function r(){var e;c(this,r);var n=k(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0],4),i=n[0],a=n[1],o=n[2],s=n[3],u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=t.call(this),Object.assign(y(e),r.ownDefaults),e.setOptions(u),e.x1=i,e.x2=o,e.y1=a,e.y2=s,e._setWidthHeight();var l=u.left,d=u.top;return"number"==typeof l&&e.set(w_,l),"number"==typeof d&&e.set(k_,d),e}return h(r,[{key:"_setWidthHeight",value:function(){var e=this.x1,t=this.y1,r=this.x2,n=this.y2;this.width=Math.abs(r-e),this.height=Math.abs(n-t);var i=lA([{x:e,y:t},{x:r,y:n}]),a=i.left,o=i.top,s=i.width,u=i.height,c=new eT(a+s/2,o+u/2);this.setPositionByOrigin(c,x_,x_)}},{key:"_set",value:function(e,t){return to(g(r.prototype),"_set",this).call(this,e,t),BO.includes(e)&&this._setWidthHeight(),this}},{key:"_render",value:function(e){e.beginPath();var t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=this.strokeWidth;var r,n=e.strokeStyle;zT(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=null!==(r=this.stroke)&&void 0!==r?r:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n}},{key:"_findCenterFromElement",value:function(){return new eT((this.x1+this.x2)/2,(this.y1+this.y2)/2)}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return $k($k({},to(g(r.prototype),"toObject",this).call(this,e)),this.calcLinePoints())}},{key:"_getNonTransformedDimensions",value:function(){var e=to(g(r.prototype),"_getNonTransformedDimensions",this).call(this);return"butt"===this.strokeLineCap&&(0===this.width&&(e.y-=this.strokeWidth),0===this.height&&(e.x-=this.strokeWidth)),e}},{key:"calcLinePoints",value:function(){var e=this.x1,t=this.x2,r=this.y1,n=this.y2,i=this.width,a=this.height,o=e<=t?-1:1,s=r<=n?-1:1;return{x1:o*i/2,x2:o*-i/2,y1:s*a/2,y2:s*-a/2}}},{key:"_toSVG",value:function(){var e=this.calcLinePoints(),t=e.x1,r=e.x2,n=e.y1,i=e.y2;return["<line ","COMMON_PARTS",'x1="'.concat(t,'" y1="').concat(n,'" x2="').concat(r,'" y2="').concat(i,'" />\n')]}}],[{key:"fromElement",value:function(){var e=Ot(Pt().mark((function e(t,r,n){var i,a,o,s,u,c,l,d,f;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=eI(t,this.ATTRIBUTE_NAMES,n),a=i.x1,o=void 0===a?0:a,s=i.y1,u=void 0===s?0:s,c=i.x2,l=void 0===c?0:c,d=i.y2,f=void 0===d?0:d,e.abrupt("return",new this([o,u,l,f],e_(i,FO)));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"fromObject",value:function(e){var t=e.x1,r=e.y1,n=e.x2,i=e.y2,a=e_(e,UO);return this._fromObject($k($k({},a),{},{points:[t,r,n,i]}),{extraParam:"points"})}}]),r}(cP);Zk(GO,"type","Line"),Zk(GO,"cacheProperties",[].concat(aC,BO)),Zk(GO,"ATTRIBUTE_NAMES",kP.concat(BO)),X_.setClass(GO),X_.setSVGClass(GO);var VO=function(e){v(r,e);var t=b(r);function r(e){var n;return c(this,r),n=t.call(this),Object.assign(y(n),r.ownDefaults),n.setOptions(e),n}return h(r,[{key:"_render",value:function(e){var t=this.width/2,r=this.height/2;e.beginPath(),e.moveTo(-t,r),e.lineTo(0,-r),e.lineTo(t,r),e.closePath(),this._renderPaintInOrder(e)}},{key:"_toSVG",value:function(){var e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(t,",0 ").concat(-t,",").concat(e," ").concat(t),'" />']}}],[{key:"getDefaults",value:function(){return $k($k({},to(g(r),"getDefaults",this).call(this)),r.ownDefaults)}}]),r}(cP);Zk(VO,"type","Triangle"),Zk(VO,"ownDefaults",{width:100,height:100}),X_.setClass(VO),X_.setSVGClass(VO);var HO=["rx","ry"],WO=function(e){v(r,e);var t=b(r);function r(e){var n;return c(this,r),n=t.call(this),Object.assign(y(n),r.ownDefaults),n.setOptions(e),n}return h(r,[{key:"_set",value:function(e,t){switch(to(g(r.prototype),"_set",this).call(this,e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this}},{key:"getRx",value:function(){return this.get("rx")*this.get(U_)}},{key:"getRy",value:function(){return this.get("ry")*this.get(B_)}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return to(g(r.prototype),"toObject",this).call(this,[].concat(HO,u(e)))}},{key:"_toSVG",value:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,'" />\n')]}},{key:"_render",value:function(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,y_,!1),e.restore(),this._renderPaintInOrder(e)}}],[{key:"getDefaults",value:function(){return $k($k({},to(g(r),"getDefaults",this).call(this)),r.ownDefaults)}},{key:"fromElement",value:function(){var e=Ot(Pt().mark((function e(t,r,n){var i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=eI(t,this.ATTRIBUTE_NAMES,n),e.abrupt("return",(i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,new this(i)));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()}]),r}(cP);function qO(e){if(!e)return[];for(var t=e.replace(/,/g," ").trim().split(/\s+/),r=[],n=0;n<t.length;n+=2)r.push({x:parseFloat(t[n]),y:parseFloat(t[n+1])});return r}Zk(WO,"type","Ellipse"),Zk(WO,"cacheProperties",[].concat(aC,HO)),Zk(WO,"ownDefaults",{rx:0,ry:0}),Zk(WO,"ATTRIBUTE_NAMES",[].concat(kP,["cx","cy","rx","ry"])),X_.setClass(WO),X_.setSVGClass(WO);var zO=["left","top"],YO={exactBoundingBox:!1},XO=function(e){v(r,e);var t=b(r);function r(){var e;c(this,r);var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Zk(y(e=t.call(this)),"strokeDiff",void 0),Object.assign(y(e),r.ownDefaults),e.setOptions(i),e.points=n;var a=i.left,o=i.top;return e.initialized=!0,e.setBoundingBox(!0),"number"==typeof a&&e.set(w_,a),"number"==typeof o&&e.set(k_,o),e}return h(r,[{key:"isOpen",value:function(){return!0}},{key:"_projectStrokeOnPoints",value:function(e){return vP(this.points,e,this.isOpen())}},{key:"_calcDimensions",value:function(e){e=$k({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});var t=this.exactBoundingBox?this._projectStrokeOnPoints(e).map((function(e){return e.projectedPoint})):this.points;if(0===t.length)return{left:0,top:0,width:0,height:0,pathOffset:new eT,strokeOffset:new eT,strokeDiff:new eT};var r=lA(t),n=AT($k($k({},e),{},{scaleX:1,scaleY:1})),i=lA(this.points.map((function(e){return vT(e,n,!0)}))),a=new eT(this.scaleX,this.scaleY),o=r.left+r.width/2,s=r.top+r.height/2;return this.exactBoundingBox&&(s-=(o-=s*Math.tan(fT(this.skewX)))*Math.tan(fT(this.skewY))),$k($k({},r),{},{pathOffset:new eT(o,s),strokeOffset:new eT(i.left,i.top).subtract(new eT(r.left,r.top)).multiply(a),strokeDiff:new eT(r.width,r.height).subtract(new eT(i.width,i.height)).multiply(a)})}},{key:"_findCenterFromElement",value:function(){var e=lA(this.points);return new eT(e.left+e.width/2,e.top+e.height/2)}},{key:"setDimensions",value:function(){this.setBoundingBox()}},{key:"setBoundingBox",value:function(e){var t=this._calcDimensions(),r=t.left,n=t.top,i=t.width,a=t.height,o=t.pathOffset,s=t.strokeOffset,u=t.strokeDiff;this.set({width:i,height:a,pathOffset:o,strokeOffset:s,strokeDiff:u}),e&&this.setPositionByOrigin(new eT(r+i/2,n+a/2),x_,x_)}},{key:"isStrokeAccountedForInDimensions",value:function(){return this.exactBoundingBox}},{key:"_getNonTransformedDimensions",value:function(){return this.exactBoundingBox?new eT(this.width,this.height):to(g(r.prototype),"_getNonTransformedDimensions",this).call(this)}},{key:"_getTransformedDimensions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.exactBoundingBox){var n;if(Object.keys(t).some((function(t){return e.strokeUniform||e.constructor.layoutProperties.includes(t)}))){var i,a,o=this._calcDimensions(t),s=o.width,u=o.height;n=new eT(null!==(i=t.width)&&void 0!==i?i:s,null!==(a=t.height)&&void 0!==a?a:u)}else{var c,l;n=new eT(null!==(c=t.width)&&void 0!==c?c:this.width,null!==(l=t.height)&&void 0!==l?l:this.height)}return n.multiply(new eT(t.scaleX||this.scaleX,t.scaleY||this.scaleY))}return to(g(r.prototype),"_getTransformedDimensions",this).call(this,t)}},{key:"_set",value:function(e,t){var n=this.initialized&&this[e]!==t,i=to(g(r.prototype),"_set",this).call(this,e,t);return this.exactBoundingBox&&n&&((e===U_||e===B_)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),i}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return $k($k({},to(g(r.prototype),"toObject",this).call(this,e)),{},{points:this.points.map((function(e){return{x:e.x,y:e.y}}))})}},{key:"_toSVG",value:function(){for(var e=[],t=this.pathOffset.x,r=this.pathOffset.y,n=i_.NUM_FRACTION_DIGITS,i=0,a=this.points.length;i<a;i++)e.push(GT(this.points[i].x-t,n),",",GT(this.points[i].y-r,n)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),'" />\n')]}},{key:"_render",value:function(e){var t=this.points.length,r=this.pathOffset.x,n=this.pathOffset.y;if(t&&!isNaN(this.points[t-1].y)){e.beginPath(),e.moveTo(this.points[0].x-r,this.points[0].y-n);for(var i=0;i<t;i++){var a=this.points[i];e.lineTo(a.x-r,a.y-n)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}},{key:"complexity",value:function(){return this.points.length}}],[{key:"getDefaults",value:function(){return $k($k({},to(g(r),"getDefaults",this).call(this)),r.ownDefaults)}},{key:"fromElement",value:function(){var e=Ot(Pt().mark((function e(t,r,n){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new this(qO(t.getAttribute("points")),$k($k({},e_(eI(t,this.ATTRIBUTE_NAMES,n),zO)),r)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"fromObject",value:function(e){return this._fromObject(e,{extraParam:"points"})}}]),r}(cP);Zk(XO,"ownDefaults",YO),Zk(XO,"type","Polyline"),Zk(XO,"layoutProperties",[G_,V_,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),Zk(XO,"cacheProperties",[].concat(aC,["points"])),Zk(XO,"ATTRIBUTE_NAMES",[].concat(kP)),X_.setClass(XO),X_.setSVGClass(XO);var KO=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"isOpen",value:function(){return!1}}]),r}(XO);Zk(KO,"ownDefaults",YO),Zk(KO,"type","Polygon"),X_.setClass(KO),X_.setSVGClass(KO);var JO=["fontSize","fontWeight","fontFamily","fontStyle"],ZO=["underline","overline","linethrough"],QO=[].concat(JO,["lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"]),$O=[].concat(u(QO),ZO,["textBackgroundColor","direction"]),eR=[].concat(JO,ZO,[W_,"strokeWidth",H_,"deltaY","textBackgroundColor"]),tR={_reNewline:C_,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:w_,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:w_,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},rR="justify",nR="justify-left",iR="justify-right",aR="justify-center",oR=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"isEmptyStyles",value:function(e){if(!this.styles)return!0;if(void 0!==e&&!this.styles[e])return!0;var t=void 0===e?this.styles:{line:this.styles[e]};for(var r in t)for(var n in t[r])for(var i in t[r][n])return!1;return!0}},{key:"styleHas",value:function(e,t){if(!this.styles)return!1;if(void 0!==t&&!this.styles[t])return!1;var r=void 0===t?this.styles:{0:this.styles[t]};for(var n in r)for(var i in r[n])if(void 0!==r[n][i][e])return!0;return!1}},{key:"cleanStyle",value:function(e){if(!this.styles)return!1;var t,r,n=this.styles,i=0,a=!0,o=0;for(var s in n){for(var u in t=0,n[s]){var c=n[s][u]||{};i++,void 0!==c[e]?(r?c[e]!==r&&(a=!1):r=c[e],c[e]===this[e]&&delete c[e]):a=!1,0!==Object.keys(c).length?t++:delete n[s][u]}0===t&&delete n[s]}for(var l=0;l<this._textLines.length;l++)o+=this._textLines[l].length;a&&i===o&&(this[e]=r,this.removeStyle(e))}},{key:"removeStyle",value:function(e){if(this.styles){var t,r,n,i=this.styles;for(r in i){for(n in t=i[r])delete t[n][e],0===Object.keys(t[n]).length&&delete t[n];0===Object.keys(t).length&&delete i[r]}}}},{key:"_extendStyles",value:function(e,t){var r=this.get2DCursorLocation(e),n=r.lineIndex,i=r.charIndex;this._getLineStyle(n)||this._setLineStyle(n);var a=NT($k($k({},this._getStyleDeclaration(n,i)),t),(function(e){return void 0!==e}));this._setStyleDeclaration(n,i,a)}},{key:"getSelectionStyles",value:function(e,t,r){for(var n=[],i=e;i<(t||e);i++)n.push(this.getStyleAtPosition(i,r));return n}},{key:"getStyleAtPosition",value:function(e,t){var r=this.get2DCursorLocation(e),n=r.lineIndex,i=r.charIndex;return t?this.getCompleteStyleDeclaration(n,i):this._getStyleDeclaration(n,i)}},{key:"setSelectionStyles",value:function(e,t,r){for(var n=t;n<(r||t);n++)this._extendStyles(n,e);this._forceClearCache=!0}},{key:"_getStyleDeclaration",value:function(e,t){var r,n=this.styles&&this.styles[e];return n&&null!==(r=n[t])&&void 0!==r?r:{}}},{key:"getCompleteStyleDeclaration",value:function(e,t){return $k($k({},RT(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,t))}},{key:"_setStyleDeclaration",value:function(e,t,r){this.styles[e][t]=r}},{key:"_deleteStyleDeclaration",value:function(e,t){delete this.styles[e][t]}},{key:"_getLineStyle",value:function(e){return!!this.styles[e]}},{key:"_setLineStyle",value:function(e){this.styles[e]={}}},{key:"_deleteLineStyle",value:function(e){delete this.styles[e]}}]),r}(cP);Zk(oR,"_styleProperties",eR);var sR=/  +/g,uR=/"/g;function cR(e,t,r,n,i){return"\t\t".concat(function(e,t){var r=t.left,n=t.top,i=t.width,a=t.height,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i_.NUM_FRACTION_DIGITS,s=qT(H_,e,!1),u=[r,n,i,a].map((function(e){return GT(e,o)})),c=k(u,4),l=c[0],d=c[1],f=c[2],h=c[3];return"<rect ".concat(s,' x="').concat(l,'" y="').concat(d,'" width="').concat(f,'" height="').concat(h,'"></rect>')}(e,{left:t,top:r,width:n,height:i}),"\n")}var lR,dR=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"],fR=function(e){v(r,e);var t=b(r);function r(e,n){var i;return c(this,r),Zk(y(i=t.call(this)),"__charBounds",[]),Object.assign(y(i),r.ownDefaults),i.setOptions(n),i.styles||(i.styles={}),i.text=e,i.initialized=!0,i.path&&i.setPathInfo(),i.initDimensions(),i.setCoords(),i}return h(r,[{key:"setPathInfo",value:function(){var e=this.path;e&&(e.segmentsInfo=XI(e.path))}},{key:"_splitText",value:function(){var e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}},{key:"initDimensions",value:function(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(rR)&&this.enlargeSpaces()}},{key:"enlargeSpaces",value:function(){for(var e,t,r,n,i,a,o,s=0,u=this._textLines.length;s<u;s++)if((this.textAlign===rR||s!==u-1&&!this.isEndOfWrapping(s))&&(n=0,i=this._textLines[s],(t=this.getLineWidth(s))<this.width&&(o=this.textLines[s].match(this._reSpacesAndTabs)))){r=o.length,e=(this.width-t)/r;for(var c=0;c<=i.length;c++)a=this.__charBounds[s][c],this._reSpaceAndTab.test(i[c])?(a.width+=e,a.kernedWidth+=e,a.left+=n,n+=e):a.left+=n}}},{key:"isEndOfWrapping",value:function(e){return e===this._textLines.length-1}},{key:"missingNewlineOffset",value:function(e){return 1}},{key:"get2DCursorLocation",value:function(e,t){var r,n=t?this._unwrappedTextLines:this._textLines;for(r=0;r<n.length;r++){if(e<=n[r].length)return{lineIndex:r,charIndex:e};e-=n[r].length+this.missingNewlineOffset(r,t)}return{lineIndex:r-1,charIndex:n[r-1].length<e?n[r-1].length:e}}},{key:"toString",value:function(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}},{key:"_getCacheCanvasDimensions",value:function(){var e=to(g(r.prototype),"_getCacheCanvasDimensions",this).call(this),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e}},{key:"_render",value:function(e){var t=this.path;t&&!t.isNotVisible()&&t._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}},{key:"_renderText",value:function(e){this.paintFirst===W_?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}},{key:"_setTextStyles",value:function(e,t,r){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case x_:e.textBaseline="middle";break;case"ascender":e.textBaseline=k_;break;case"descender":e.textBaseline=__}e.font=this._getFontDeclaration(t,r)}},{key:"calcTextWidth",value:function(){for(var e=this.getLineWidth(0),t=1,r=this._textLines.length;t<r;t++){var n=this.getLineWidth(t);n>e&&(e=n)}return e}},{key:"_renderTextLine",value:function(e,t,r,n,i,a){this._renderChars(e,t,r,n,i,a)}},{key:"_renderTextLinesBackground",value:function(e){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var t=e.fillStyle,r=this._getLeftOffset(),n=this._getTopOffset(),i=0,a=this._textLines.length;i<a;i++){var o=this.getHeightOfLine(i);if(this.textBackgroundColor||this.styleHas("textBackgroundColor",i)){for(var s=this._textLines[i].length,u=this._getLineLeftOffset(i),c=void 0,l=void 0,d=0,f=0,h=this.getValueOfPropertyAt(i,0,"textBackgroundColor"),p=0;p<s;p++){var v=this.__charBounds[i][p];l=this.getValueOfPropertyAt(i,p,"textBackgroundColor"),this.path?(e.save(),e.translate(v.renderLeft,v.renderTop),e.rotate(v.angle),e.fillStyle=l,l&&e.fillRect(-v.width/2,-o/this.lineHeight*(1-this._fontSizeFraction),v.width,o/this.lineHeight),e.restore()):l!==h?(c=r+u+f,"rtl"===this.direction&&(c=this.width-c-d),e.fillStyle=h,h&&e.fillRect(c,n,d,o/this.lineHeight),f=v.left,d=v.width,h=l):d+=v.kernedWidth}l&&!this.path&&(c=r+u+f,"rtl"===this.direction&&(c=this.width-c-d),e.fillStyle=l,e.fillRect(c,n,d,o/this.lineHeight)),n+=o}else n+=o}e.fillStyle=t,this._removeShadow(e)}}},{key:"_measureChar",value:function(e,t,r,n){var i,a,o,s,u=p_.getFontCache(t),c=this._getFontDeclaration(t),l=r+e,d=r&&c===this._getFontDeclaration(n),f=t.fontSize/this.CACHE_FONT_SIZE;if(r&&void 0!==u[r]&&(o=u[r]),void 0!==u[e]&&(s=i=u[e]),d&&void 0!==u[l]&&(s=(a=u[l])-o),void 0===i||void 0===o||void 0===a){var h=function(){if(!lR){var e=cT();e.width=e.height=0,lR=e.getContext("2d")}return lR}();this._setTextStyles(h,t,!0),void 0===i&&(s=i=h.measureText(e).width,u[e]=i),void 0===o&&d&&r&&(o=h.measureText(r).width,u[r]=o),d&&void 0===a&&(a=h.measureText(l).width,u[l]=a,s=a-o)}return{width:i*f,kernedWidth:s*f}}},{key:"getHeightOfChar",value:function(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")}},{key:"measureLine",value:function(e){var t=this._measureLine(e);return 0!==this.charSpacing&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t}},{key:"_measureLine",value:function(e){var t,r,n=0,i=this.pathSide===T_,a=this.path,o=this._textLines[e],s=o.length,u=new Array(s);this.__charBounds[e]=u;for(var c=0;c<s;c++){var l=o[c];r=this._getGraphemeBox(l,e,c,t),u[c]=r,n+=r.kernedWidth,t=l}if(u[s]={left:r?r.left+r.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},a&&a.segmentsInfo){var d=0,f=a.segmentsInfo[a.segmentsInfo.length-1].length;switch(this.textAlign){case w_:d=i?f-n:0;break;case x_:d=(f-n)/2;break;case T_:d=i?0:f-n}d+=this.pathStartOffset*(i?-1:1);for(var h=i?s-1:0;i?h>=0:h<s;i?h--:h++)r=u[h],d>f?d%=f:d<0&&(d+=f),this._setGraphemeOnPath(d,r),d+=r.kernedWidth}return{width:n,numOfSpaces:0}}},{key:"_setGraphemeOnPath",value:function(e,t){var r=e+t.kernedWidth/2,n=this.path,i=KI(n.path,r,n.segmentsInfo);t.renderLeft=i.x-n.pathOffset.x,t.renderTop=i.y-n.pathOffset.y,t.angle=i.angle+(this.pathSide===T_?Math.PI:0)}},{key:"_getGraphemeBox",value:function(e,t,r,n,i){var a,o=this.getCompleteStyleDeclaration(t,r),s=n?this.getCompleteStyleDeclaration(t,r-1):{},u=this._measureChar(e,o,n,s),c=u.kernedWidth,l=u.width;0!==this.charSpacing&&(l+=a=this._getWidthOfCharSpacing(),c+=a);var d={width:l,left:0,height:o.fontSize,kernedWidth:c,deltaY:o.deltaY};if(r>0&&!i){var f=this.__charBounds[t][r-1];d.left=f.left+f.width+u.kernedWidth-u.width}return d}},{key:"getHeightOfLine",value:function(e){if(this.__lineHeights[e])return this.__lineHeights[e];for(var t=this.getHeightOfChar(e,0),r=1,n=this._textLines[e].length;r<n;r++)t=Math.max(this.getHeightOfChar(e,r),t);return this.__lineHeights[e]=t*this.lineHeight*this._fontSizeMult}},{key:"calcTextHeight",value:function(){for(var e,t=0,r=0,n=this._textLines.length;r<n;r++)e=this.getHeightOfLine(r),t+=r===n-1?e/this.lineHeight:e;return t}},{key:"_getLeftOffset",value:function(){return"ltr"===this.direction?-this.width/2:this.width/2}},{key:"_getTopOffset",value:function(){return-this.height/2}},{key:"_renderTextCommon",value:function(e,t){e.save();for(var r=0,n=this._getLeftOffset(),i=this._getTopOffset(),a=0,o=this._textLines.length;a<o;a++){var s=this.getHeightOfLine(a),u=s/this.lineHeight,c=this._getLineLeftOffset(a);this._renderTextLine(t,e,this._textLines[a],n+c,i+r+u,a),r+=s}e.restore()}},{key:"_renderTextFill",value:function(e){(this.fill||this.styleHas(H_))&&this._renderTextCommon(e,"fillText")}},{key:"_renderTextStroke",value:function(e){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}},{key:"_renderChars",value:function(e,t,r,n,i,a){var o,s,u,c,l,d=this.getHeightOfLine(a),f=this.textAlign.includes(rR),h=this.path,p=!f&&0===this.charSpacing&&this.isEmptyStyles(a)&&!h,v="ltr"===this.direction,g="ltr"===this.direction?1:-1,m=t.direction,y="",b=0;if(t.save(),m!==this.direction&&(t.canvas.setAttribute("dir",v?"ltr":"rtl"),t.direction=v?"ltr":"rtl",t.textAlign=v?w_:T_),i-=d*this._fontSizeFraction/this.lineHeight,p)return this._renderChar(e,t,a,0,r.join(""),n,i),void t.restore();for(var S=0,E=r.length-1;S<=E;S++)c=S===E||this.charSpacing||h,y+=r[S],u=this.__charBounds[a][S],0===b?(n+=g*(u.kernedWidth-u.width),b+=u.width):b+=u.kernedWidth,f&&!c&&this._reSpaceAndTab.test(r[S])&&(c=!0),c||(o=o||this.getCompleteStyleDeclaration(a,S),s=this.getCompleteStyleDeclaration(a,S+1),c=EP(o,s,!1)),c&&(h?(t.save(),t.translate(u.renderLeft,u.renderTop),t.rotate(u.angle),this._renderChar(e,t,a,S,y,-b/2,0),t.restore()):(l=n,this._renderChar(e,t,a,S,y,l,i)),y="",o=s,n+=g*b,b=0);t.restore()}},{key:"_applyPatternGradientTransformText",value:function(e){var t=cT(),r=this.width+this.strokeWidth,n=this.height+this.strokeWidth,i=t.getContext("2d");return t.width=r,t.height=n,i.beginPath(),i.moveTo(0,0),i.lineTo(r,0),i.lineTo(r,n),i.lineTo(0,n),i.closePath(),i.translate(r/2,n/2),i.fillStyle=e.toLive(i),this._applyPatternGradientTransform(i,e),i.fill(),i.createPattern(t,"no-repeat")}},{key:"handleFiller",value:function(e,t,r){var n,i;return zT(r)?"percentage"===r.gradientUnits||r.gradientTransform||r.patternTransform?(n=-this.width/2,i=-this.height/2,e.translate(n,i),e[t]=this._applyPatternGradientTransformText(r),{offsetX:n,offsetY:i}):(e[t]=r.toLive(e),this._applyPatternGradientTransform(e,r)):(e[t]=r,{offsetX:0,offsetY:0})}},{key:"_setStrokeStyles",value:function(e,t){var r=t.stroke,n=t.strokeWidth;return e.lineWidth=n,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",r)}},{key:"_setFillStyles",value:function(e,t){var r=t.fill;return this.handleFiller(e,"fillStyle",r)}},{key:"_renderChar",value:function(e,t,r,n,i,a,o){var s=this._getStyleDeclaration(r,n),u=this.getCompleteStyleDeclaration(r,n),c="fillText"===e&&u.fill,l="strokeText"===e&&u.stroke&&u.strokeWidth;if(l||c){if(t.save(),t.font=this._getFontDeclaration(u),s.textBackgroundColor&&this._removeShadow(t),s.deltaY&&(o+=s.deltaY),c){var d=this._setFillStyles(t,u);t.fillText(i,a-d.offsetX,o-d.offsetY)}if(l){var f=this._setStrokeStyles(t,u);t.strokeText(i,a-f.offsetX,o-f.offsetY)}t.restore()}}},{key:"setSuperscript",value:function(e,t){this._setScript(e,t,this.superscript)}},{key:"setSubscript",value:function(e,t){this._setScript(e,t,this.subscript)}},{key:"_setScript",value:function(e,t,r){var n=this.get2DCursorLocation(e,!0),i=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"fontSize"),a=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"deltaY"),o={fontSize:i*r.size,deltaY:a+i*r.baseline};this.setSelectionStyles(o,e,t)}},{key:"_getLineLeftOffset",value:function(e){var t=this.getLineWidth(e),r=this.width-t,n=this.textAlign,i=this.direction,a=this.isEndOfWrapping(e),o=0;return n===rR||n===aR&&!a||n===iR&&!a||n===nR&&!a?0:(n===x_&&(o=r/2),n===T_&&(o=r),n===aR&&(o=r/2),n===iR&&(o=r),"rtl"===i&&(n===T_||n===rR||n===iR?o=0:n===w_||n===nR?o=-r:n!==x_&&n!==aR||(o=-r/2)),o)}},{key:"_clearCache",value:function(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}},{key:"getLineWidth",value:function(e){if(void 0!==this.__lineWidths[e])return this.__lineWidths[e];var t=this.measureLine(e).width;return this.__lineWidths[e]=t,t}},{key:"_getWidthOfCharSpacing",value:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0}},{key:"getValueOfPropertyAt",value:function(e,t,r){var n;return null!==(n=this._getStyleDeclaration(e,t)[r])&&void 0!==n?n:this[r]}},{key:"_renderTextDecoration",value:function(e,t){if(this[t]||this.styleHas(t)){for(var r=this._getTopOffset(),n=this._getLeftOffset(),i=this.path,a=this._getWidthOfCharSpacing(),o=this.offsets[t],s=0,u=this._textLines.length;s<u;s++){var c=this.getHeightOfLine(s);if(this[t]||this.styleHas(t,s)){for(var l=this._textLines[s],d=c/this.lineHeight,f=this._getLineLeftOffset(s),h=void 0,p=void 0,v=0,g=0,m=this.getValueOfPropertyAt(s,0,t),y=this.getValueOfPropertyAt(s,0,H_),b=r+d*(1-this._fontSizeFraction),S=this.getHeightOfChar(s,0),E=this.getValueOfPropertyAt(s,0,"deltaY"),x=0,w=l.length;x<w;x++){var k=this.__charBounds[s][x];h=this.getValueOfPropertyAt(s,x,t),p=this.getValueOfPropertyAt(s,x,H_);var _=this.getHeightOfChar(s,x),T=this.getValueOfPropertyAt(s,x,"deltaY");if(i&&h&&p)e.save(),e.fillStyle=y,e.translate(k.renderLeft,k.renderTop),e.rotate(k.angle),e.fillRect(-k.kernedWidth/2,o*_+T,k.kernedWidth,this.fontSize/15),e.restore();else if((h!==m||p!==y||_!==S||T!==E)&&g>0){var A=n+f+v;"rtl"===this.direction&&(A=this.width-A-g),m&&y&&(e.fillStyle=y,e.fillRect(A,b+o*S+E,g,this.fontSize/15)),v=k.left,g=k.width,m=h,y=p,S=_,E=T}else g+=k.kernedWidth}var C=n+f+v;"rtl"===this.direction&&(C=this.width-C-g),e.fillStyle=p,h&&p&&e.fillRect(C,b+o*S+E,g-a,this.fontSize/15),r+=c}else r+=c}this._removeShadow(e)}}},{key:"_getFontDeclaration",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fontFamily,n=void 0===t?this.fontFamily:t,i=e.fontStyle,a=void 0===i?this.fontStyle:i,o=e.fontWeight,s=void 0===o?this.fontWeight:o,u=e.fontSize,c=void 0===u?this.fontSize:u,l=arguments.length>1?arguments[1]:void 0,d=n.includes("'")||n.includes('"')||n.includes(",")||r.genericFonts.includes(n.toLowerCase())?n:'"'.concat(n,'"');return[a,s,"".concat(l?this.CACHE_FONT_SIZE:c,"px"),d].join(" ")}},{key:"render",value:function(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),to(g(r.prototype),"render",this).call(this,e)))}},{key:"graphemeSplit",value:function(e){return yP(e)}},{key:"_splitTextIntoLines",value:function(e){for(var t=e.split(this._reNewline),r=new Array(t.length),n=["\n"],i=[],a=0;a<t.length;a++)r[a]=this.graphemeSplit(t[a]),i=i.concat(r[a],n);return i.pop(),{_unwrappedLines:r,lines:t,graphemeText:i,graphemeLines:r}}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return $k($k({},to(g(r.prototype),"toObject",this).call(this,[].concat(u($O),u(e)))),{},{styles:xP(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}},{key:"set",value:function(e,t){var n=this.constructor.textLayoutProperties;to(g(r.prototype),"set",this).call(this,e,t);var i=!1,a=!1;if("object"==typeof e)for(var o in e)"path"===o&&this.setPathInfo(),i=i||n.includes(o),a=a||"path"===o;else i=n.includes(e),a="path"===e;return a&&this.setPathInfo(),i&&this.initialized&&(this.initDimensions(),this.setCoords()),this}},{key:"complexity",value:function(){return 1}}],[{key:"getDefaults",value:function(){return $k($k({},to(g(r),"getDefaults",this).call(this)),r.ownDefaults)}},{key:"fromElement",value:function(){var e=Ot(Pt().mark((function e(t,n,i){var a,o,s,u,c,l,d,f,h,p,v,g,m,y,b,S,E,x,w,k,_,T,A,C;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=eI(t,r.ATTRIBUTE_NAMES,i),o=$k($k({},n),a),s=o.textAnchor,u=void 0===s?w_:s,c=o.textDecoration,l=void 0===c?"":c,d=o.dx,f=void 0===d?0:d,h=o.dy,p=void 0===h?0:h,v=o.top,g=void 0===v?0:v,m=o.left,y=void 0===m?0:m,b=o.fontSize,S=void 0===b?16:b,E=o.strokeWidth,x=void 0===E?1:E,w=e_(o,dR),k=new this((t.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),$k({left:y+f,top:g+p,underline:l.includes("underline"),overline:l.includes("overline"),linethrough:l.includes("line-through"),strokeWidth:0,fontSize:S},w)),_=k.getScaledHeight()/k.height,T=((k.height+k.strokeWidth)*k.lineHeight-k.height)*_,A=k.getScaledHeight()+T,C=0,e.abrupt("return",(u===x_&&(C=k.getScaledWidth()/2),u===T_&&(C=k.getScaledWidth()),k.set({left:k.left-C,top:k.top-(A-k.fontSize*(.07+k._fontSizeFraction))/k.lineHeight,strokeWidth:x}),k));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"fromObject",value:function(e){return this._fromObject($k($k({},e),{},{styles:wP(e.styles||{},e.text)}),{extraParam:"text"})}}]),r}(oR);Zk(fR,"textLayoutProperties",QO),Zk(fR,"cacheProperties",[].concat(aC,u($O))),Zk(fR,"ownDefaults",tR),Zk(fR,"type","Text"),Zk(fR,"genericFonts",["sans-serif","serif","cursive","fantasy","monospace"]),Zk(fR,"ATTRIBUTE_NAMES",kP.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),uP(fR,[function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"_toSVG",value:function(){var e=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(e.textTop,e.textLeft);return this._wrapSVGTextAndBg(t)}},{key:"toSVG",value:function(e){return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,noStyle:!0,withShadow:!0})}},{key:"_getSVGLeftTopOffsets",value:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}},{key:"_wrapSVGTextAndBg",value:function(e){var t=e.textBgRects,r=e.textSpans,n=this.getSvgTextDecoration(this);return[t.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(uR,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",n?'text-decoration="'.concat(n,'" '):"","rtl"===this.direction?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",r.join(""),"</text>\n"]}},{key:"_getSVGTextAndBg",value:function(e,t){var r,n=[],i=[],a=e;this.backgroundColor&&i.push.apply(i,u(cR(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height)));for(var o=0,s=this._textLines.length;o<s;o++)r=this._getLineLeftOffset(o),"rtl"===this.direction&&(r+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(i,o,t+r,a),this._setSVGTextLineText(n,o,t+r,a),a+=this.getHeightOfLine(o);return{textSpans:n,textBgRects:i}}},{key:"_createTextCharSpan",value:function(e,t,r,n){var i=this.getSvgSpanStyles(t,e!==e.trim()||!!e.match(sR)),a=i?'style="'.concat(i,'"'):"",o=t.deltaY,s=o?' dy="'.concat(GT(o,i_.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(GT(r,i_.NUM_FRACTION_DIGITS),'" y="').concat(GT(n,i_.NUM_FRACTION_DIGITS),'" ').concat(s).concat(a,">").concat(mP(e),"</tspan>")}},{key:"_setSVGTextLineText",value:function(e,t,r,n){var i,a,o,s,u,c=this.getHeightOfLine(t),l=this.textAlign.includes(rR),d=this._textLines[t],f="",h=0;n+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var p=0,v=d.length-1;p<=v;p++)u=p===v||this.charSpacing,f+=d[p],o=this.__charBounds[t][p],0===h?(r+=o.kernedWidth-o.width,h+=o.width):h+=o.kernedWidth,l&&!u&&this._reSpaceAndTab.test(d[p])&&(u=!0),u||(i=i||this.getCompleteStyleDeclaration(t,p),a=this.getCompleteStyleDeclaration(t,p+1),u=EP(i,a,!0)),u&&(s=this._getStyleDeclaration(t,p),e.push(this._createTextCharSpan(f,s,r,n)),f="",i=a,"rtl"===this.direction?r-=h:r+=h,h=0)}},{key:"_setSVGTextLineBg",value:function(e,t,r,n){for(var i,a=this._textLines[t],o=this.getHeightOfLine(t)/this.lineHeight,s=0,c=0,l=this.getValueOfPropertyAt(t,0,"textBackgroundColor"),d=0;d<a.length;d++){var f=this.__charBounds[t][d],h=f.left,p=f.width,v=f.kernedWidth;(i=this.getValueOfPropertyAt(t,d,"textBackgroundColor"))!==l?(l&&e.push.apply(e,u(cR(l,r+c,n,s,o))),c=h,s=p,l=i):s+=v}i&&e.push.apply(e,u(cR(l,r+c,n,s,o)))}},{key:"_getSVGLineTopOffset",value:function(e){var t,r=0;for(t=0;t<e;t++)r+=this.getHeightOfLine(t);var n=this.getHeightOfLine(t);return{lineTop:r,offset:(this._fontSizeMult-this._fontSizeFraction)*n/(this.lineHeight*this._fontSizeMult)}}},{key:"getSvgStyles",value:function(e){return"".concat(to(g(r.prototype),"getSvgStyles",this).call(this,e)," white-space: pre;")}},{key:"getSvgSpanStyles",value:function(e,t){var r=e.fontFamily,n=e.strokeWidth,i=e.stroke,a=e.fill,o=e.fontSize,s=e.fontStyle,u=e.fontWeight,c=e.deltaY,l=this.getSvgTextDecoration(e);return[i?qT(W_,i):"",n?"stroke-width: ".concat(n,"; "):"",r?"font-family: ".concat(r.includes("'")||r.includes('"')?r:"'".concat(r,"'"),"; "):"",o?"font-size: ".concat(o,"px; "):"",s?"font-style: ".concat(s,"; "):"",u?"font-weight: ".concat(u,"; "):"",l?"text-decoration: ".concat(l,"; "):l,a?qT(H_,a):"",c?"baseline-shift: ".concat(-c,"; "):"",t?"white-space: pre; ":""].join("")}},{key:"getSvgTextDecoration",value:function(e){return["overline","underline","line-through"].filter((function(t){return e[t.replace("-","")]})).join(" ")}}]),r}(LA)]),X_.setClass(fR),X_.setSVGClass(fR);var hR=function(){function e(t){var r=this;c(this,e),Zk(this,"target",void 0),Zk(this,"__mouseDownInPlace",!1),Zk(this,"__dragStartFired",!1),Zk(this,"__isDraggingOver",!1),Zk(this,"__dragStartSelection",void 0),Zk(this,"__dragImageDisposer",void 0),Zk(this,"_dispose",void 0),this.target=t;var n=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=function(){n.forEach((function(e){return e()})),r._dispose=void 0}}return h(e,[{key:"isPointerOverSelection",value:function(e){var t=this.target,r=t.getSelectionStartFromPointer(e);return t.isEditing&&r>=t.selectionStart&&r<=t.selectionEnd&&t.selectionStart<t.selectionEnd}},{key:"start",value:function(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}},{key:"isActive",value:function(){return this.__mouseDownInPlace}},{key:"end",value:function(e){var t=this.isActive();return t&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,t}},{key:"getDragStartSelection",value:function(){return this.__dragStartSelection}},{key:"setDragImage",value:function(e,t){var r,n=t.selectionStart,i=t.selectionEnd,a=this.target,o=a.canvas,s=new eT(a.flipX?-1:1,a.flipY?-1:1),u=a._getCursorBoundaries(n),c=new eT(u.left+u.leftOffset,u.top+u.topOffset).multiply(s).transform(a.calcTransformMatrix()),l=o.getScenePoint(e).subtract(c),d=a.getCanvasRetinaScaling(),f=a.getBoundingRect(),h=c.subtract(new eT(f.left,f.top)),p=o.viewportTransform,v=h.add(l).transform(p,!0),g=a.backgroundColor,m=gP(a.styles);a.backgroundColor="";var y={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};a.setSelectionStyles(y,0,n),a.setSelectionStyles(y,i,a.text.length),a.dirty=!0;var b=a.toCanvasElement({enableRetinaScaling:o.enableRetinaScaling,viewportTransform:!0});a.backgroundColor=g,a.styles=m,a.dirty=!0,tO(b,{position:"fixed",left:"".concat(-b.width,"px"),border:A_,width:"".concat(b.width/d,"px"),height:"".concat(b.height/d,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=function(){b.remove()},QT(e.target||this.target.hiddenTextarea).body.appendChild(b),null===(r=e.dataTransfer)||void 0===r||r.setDragImage(b,v.x,v.y)}},{key:"onDragStart",value:function(e){this.__dragStartFired=!0;var t=this.target,r=this.isActive();if(r&&e.dataTransfer){var n=this.__dragStartSelection={selectionStart:t.selectionStart,selectionEnd:t.selectionEnd},i=t._text.slice(n.selectionStart,n.selectionEnd).join(""),a=$k({text:t.text,value:i},n);e.dataTransfer.setData("text/plain",i),e.dataTransfer.setData("application/fabric",JSON.stringify({value:i,styles:t.getSelectionStyles(n.selectionStart,n.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,a)}return t.abortCursorAnimation(),r}},{key:"canDrop",value:function(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){var t=this.target.getSelectionStartFromPointer(e),r=this.__dragStartSelection;return t<r.selectionStart||t>r.selectionEnd}return!0}return!1}},{key:"targetCanDrop",value:function(e){return this.target.canDrop(e)}},{key:"dragEnterHandler",value:function(e){var t=e.e,r=this.targetCanDrop(t);!this.__isDraggingOver&&r&&(this.__isDraggingOver=!0)}},{key:"dragOverHandler",value:function(e){var t=e.e,r=this.targetCanDrop(t);!this.__isDraggingOver&&r?this.__isDraggingOver=!0:this.__isDraggingOver&&!r&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(t.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}},{key:"dragLeaveHandler",value:function(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}},{key:"dropHandler",value:function(e){var t,r=e.e,n=r.defaultPrevented;this.__isDraggingOver=!1,r.preventDefault();var i=null===(t=r.dataTransfer)||void 0===t?void 0:t.getData("text/plain");if(i&&!n){var a=this.target,o=a.canvas,s=a.getSelectionStartFromPointer(r),u=(r.dataTransfer.types.includes("application/fabric")?JSON.parse(r.dataTransfer.getData("application/fabric")):{}).styles,c=i[Math.max(0,i.length-1)];if(this.__dragStartSelection){var l=this.__dragStartSelection.selectionStart,d=this.__dragStartSelection.selectionEnd;s>l&&s<=d?s=l:s>d&&(s-=d-l),a.removeChars(l,d),delete this.__dragStartSelection}a._reNewline.test(c)&&(a._reNewline.test(a._text[s])||s===a._text.length)&&(i=i.trimEnd()),e.didDrop=!0,e.dropTarget=a,a.insertChars(i,u,s),o.setActiveObject(a),a.enterEditing(r),a.selectionStart=Math.min(s+0,a._text.length),a.selectionEnd=Math.min(a.selectionStart+i.length,a._text.length),a.hiddenTextarea.value=a.text,a._updateTextarea(),a.hiddenTextarea.focus(),a.fire(D_,{index:s+0,action:"drop"}),o.fire("text:changed",{target:a}),o.contextTopDirty=!0,o.requestRenderAll()}}},{key:"dragEndHandler",value:function(e){var t=e.e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var r,n=this.target,i=this.target.canvas,a=this.__dragStartSelection,o=a.selectionStart,s=a.selectionEnd,u=(null===(r=t.dataTransfer)||void 0===r?void 0:r.dropEffect)||A_;u===A_?(n.selectionStart=o,n.selectionEnd=s,n._updateTextarea(),n.hiddenTextarea.focus()):(n.clearContextTop(),"move"===u&&(n.removeChars(o,s),n.selectionStart=n.selectionEnd=o,n.hiddenTextarea&&(n.hiddenTextarea.value=n.text),n._updateTextarea(),n.fire(D_,{index:o,action:"dragend"}),i.fire("text:changed",{target:n}),i.requestRenderAll()),n.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}},{key:"dispose",value:function(){this._dispose&&this._dispose()}}]),e}(),pR=/[ \n\.,;!\?\-]/,vR=function(e){v(r,e);var t=b(r);function r(){var e;return c(this,r),Zk(y(e=t.apply(this,arguments)),"_currentCursorOpacity",1),e}return h(r,[{key:"initBehavior",value:function(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}},{key:"onDeselect",value:function(e){return this.isEditing&&this.exitEditing(),this.selected=!1,to(g(r.prototype),"onDeselect",this).call(this,e)}},{key:"_animateCursor",value:function(e){var t=this,r=e.toValue,n=e.duration,i=e.delay,a=e.onComplete;return wC({startValue:this._currentCursorOpacity,endValue:r,duration:n,delay:i,onComplete:a,abort:function(){return!t.canvas||t.selectionStart!==t.selectionEnd},onChange:function(e){t._currentCursorOpacity=e,t.renderCursorOrSelection()}})}},{key:"_tick",value:function(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}},{key:"_onTickComplete",value:function(){var e;null===(e=this._currentTickCompleteState)||void 0===e||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}},{key:"initDelayedCursor",value:function(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}},{key:"abortCursorAnimation",value:function(){var e=!1;[this._currentTickState,this._currentTickCompleteState].forEach((function(t){t&&!t.isDone()&&(e=!0,t.abort())})),this._currentCursorOpacity=1,e&&this.clearContextTop()}},{key:"restartCursorIfNeeded",value:function(){[this._currentTickState,this._currentTickCompleteState].some((function(e){return!e||e.isDone()}))&&this.initDelayedCursor()}},{key:"selectAll",value:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}},{key:"getSelectedText",value:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}},{key:"findWordBoundaryLeft",value:function(e){var t=0,r=e-1;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)t++,r--;for(;/\S/.test(this._text[r])&&r>-1;)t++,r--;return e-t}},{key:"findWordBoundaryRight",value:function(e){var t=0,r=e;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)t++,r++;for(;/\S/.test(this._text[r])&&r<this._text.length;)t++,r++;return e+t}},{key:"findLineBoundaryLeft",value:function(e){for(var t=0,r=e-1;!/\n/.test(this._text[r])&&r>-1;)t++,r--;return e-t}},{key:"findLineBoundaryRight",value:function(e){for(var t=0,r=e;!/\n/.test(this._text[r])&&r<this._text.length;)t++,r++;return e+t}},{key:"searchWordBoundary",value:function(e,t){for(var r=this._text,n=e>0&&this._reSpace.test(r[e])&&(-1===t||!C_.test(r[e-1]))?e-1:e,i=r[n];n>0&&n<r.length&&!pR.test(i);)i=r[n+=t];return-1===t&&pR.test(i)&&n++,n}},{key:"selectWord",value:function(e){e=e||this.selectionStart;var t=this.searchWordBoundary(e,-1),r=Math.max(t,this.searchWordBoundary(e,1));this.selectionStart=t,this.selectionEnd=r,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}},{key:"selectLine",value:function(e){e=e||this.selectionStart;var t=this.findLineBoundaryLeft(e),r=this.findLineBoundaryRight(e);return this.selectionStart=t,this.selectionEnd=r,this._fireSelectionChanged(),this._updateTextarea(),this}},{key:"enterEditing",value:function(e){!this.isEditing&&this.editable&&(this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered",e?{e:e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:e}),this.canvas.requestRenderAll()))}},{key:"updateSelectionOnMouseMove",value:function(e){if(!this.getActiveControl()){var t=this.hiddenTextarea;QT(t).activeElement!==t&&t.focus();var r=this.getSelectionStartFromPointer(e),n=this.selectionStart,i=this.selectionEnd;(r===this.__selectionStartOnMouseDown&&n!==i||n!==r&&i!==r)&&(r>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=r):(this.selectionStart=r,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===i||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}}},{key:"_setEditingProps",value:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}},{key:"fromStringToGraphemeSelection",value:function(e,t,r){var n=r.slice(0,e),i=this.graphemeSplit(n).length;if(e===t)return{selectionStart:i,selectionEnd:i};var a=r.slice(e,t);return{selectionStart:i,selectionEnd:i+this.graphemeSplit(a).length}}},{key:"fromGraphemeToStringSelection",value:function(e,t,r){var n=r.slice(0,e).join("").length;return e===t?{selectionStart:n,selectionEnd:n}:{selectionStart:n,selectionEnd:n+r.slice(e,t).join("").length}}},{key:"_updateTextarea",value:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}},{key:"updateFromTextArea",value:function(){if(this.hiddenTextarea){this.cursorOffsetCache={};var e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();var t=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}}},{key:"updateTextareaPosition",value:function(){if(this.selectionStart===this.selectionEnd){var e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}},{key:"_calcTextareaPosition",value:function(){if(!this.canvas)return{left:"1px",top:"1px"};var e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),r=this.get2DCursorLocation(e),n=r.lineIndex,i=r.charIndex,a=this.getValueOfPropertyAt(n,i,"fontSize")*this.lineHeight,o=t.leftOffset,s=this.getCanvasRetinaScaling(),u=this.canvas.upperCanvasEl,c=u.width/s,l=u.height/s,d=c-a,f=l-a,h=new eT(t.left+o,t.top+t.topOffset+a).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new eT(u.clientWidth/c,u.clientHeight/l));return h.x<0&&(h.x=0),h.x>d&&(h.x=d),h.y<0&&(h.y=0),h.y>f&&(h.y=f),h.x+=this.canvas._offset.left,h.y+=this.canvas._offset.top,{left:"".concat(h.x,"px"),top:"".concat(h.y,"px"),fontSize:"".concat(a,"px"),charHeight:a}}},{key:"_saveEditingProps",value:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}},{key:"_restoreEditingProps",value:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}},{key:"_exitEditing",value:function(){var e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}},{key:"exitEditing",value:function(){var e=this._textBeforeEdit!==this.text;return this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),e&&this.fire(q_),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}},{key:"_removeExtraneousStyles",value:function(){for(var e in this.styles)this._textLines[e]||delete this.styles[e]}},{key:"removeStyleFromTo",value:function(e,t){var r=this.get2DCursorLocation(e,!0),n=r.lineIndex,i=r.charIndex,a=this.get2DCursorLocation(t,!0),o=a.lineIndex,s=a.charIndex;if(n!==o){if(this.styles[n])for(var u=i;u<this._unwrappedTextLines[n].length;u++)delete this.styles[n][u];if(this.styles[o])for(var c=s;c<this._unwrappedTextLines[o].length;c++){var l=this.styles[o][c];l&&(this.styles[n]||(this.styles[n]={}),this.styles[n][i+c-s]=l)}for(var d=n+1;d<=o;d++)delete this.styles[d];this.shiftLineStyles(o,n-o)}else if(this.styles[n]){for(var f=this.styles[n],h=s-i,p=i;p<s;p++)delete f[p];for(var v in this.styles[n]){var g=parseInt(v,10);g>=s&&(f[g-h]=f[v],delete f[v])}}}},{key:"shiftLineStyles",value:function(e,t){var r=Object.assign({},this.styles);for(var n in this.styles){var i=parseInt(n,10);i>e&&(this.styles[i+t]=r[i],r[i-t]||delete this.styles[i])}}},{key:"insertNewlineStyleObject",value:function(e,t,r,n){var i={},a=this._unwrappedTextLines[e].length,o=a===t,s=!1;r||(r=1),this.shiftLineStyles(e,r);var u=this.styles[e]?this.styles[e][0===t?t:t-1]:void 0;for(var c in this.styles[e]){var l=parseInt(c,10);l>=t&&(s=!0,i[l-t]=this.styles[e][c],o&&0===t||delete this.styles[e][c])}var d=!1;for(s&&!o&&(this.styles[e+r]=i,d=!0),(d||a>t)&&r--;r>0;)n&&n[r-1]?this.styles[e+r]={0:$k({},n[r-1])}:u?this.styles[e+r]={0:$k({},u)}:delete this.styles[e+r],r--;this._forceClearCache=!0}},{key:"insertCharStyleObject",value:function(e,t,r,n){this.styles||(this.styles={});var i=this.styles[e],a=i?$k({},i):{};for(var o in r||(r=1),a){var s=parseInt(o,10);s>=t&&(i[s+r]=a[s],a[s-r]||delete i[s])}if(this._forceClearCache=!0,n)for(;r--;)Object.keys(n[r]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][t+r]=$k({},n[r]));else if(i)for(var u=i[t?t-1:1];u&&r--;)this.styles[e][t+r]=$k({},u)}},{key:"insertNewStyleBlock",value:function(e,t,r){for(var n,i=this.get2DCursorLocation(t,!0),a=[0],o=0,s=0;s<e.length;s++)"\n"===e[s]?a[++o]=0:a[o]++;for(a[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,a[0],r),r=r&&r.slice(a[0]+1)),o&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+a[0],o),n=1;n<o;n++)a[n]>0?this.insertCharStyleObject(i.lineIndex+n,0,a[n],r):r&&this.styles[i.lineIndex+n]&&r[0]&&(this.styles[i.lineIndex+n][0]=r[0]),r=r&&r.slice(a[n]+1);a[n]>0&&this.insertCharStyleObject(i.lineIndex+n,0,a[n],r)}},{key:"removeChars",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e+1;this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}},{key:"insertChars",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;n>r&&this.removeStyleFromTo(r,n);var i=this.graphemeSplit(e);this.insertNewStyleBlock(i,r,t),this._text=[].concat(u(this._text.slice(0,r)),u(i),u(this._text.slice(n))),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}},{key:"setSelectionStartEndWithShift",value:function(e,t,r){r<=e?(t===e?this._selectionDirection=w_:this._selectionDirection===T_&&(this._selectionDirection=w_,this.selectionEnd=e),this.selectionStart=r):r>e&&r<t?this._selectionDirection===T_?this.selectionEnd=r:this.selectionStart=r:(t===e?this._selectionDirection=T_:this._selectionDirection===w_&&(this._selectionDirection=T_,this.selectionStart=t),this.selectionEnd=r)}}]),r}(fR),gR=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"initHiddenTextarea",value:function(){var e=this,t=this.canvas&&QT(this.canvas.getElement())||d_(),r=t.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map((function(e){var t=k(e,2),n=t[0],i=t[1];return r.setAttribute(n,i)}));var n=this._calcTextareaPosition(),i=n.top,a=n.left,o=n.fontSize;r.style.cssText="position: absolute; top: ".concat(i,"; left: ").concat(a,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(o,";"),(this.hiddenTextareaContainer||t.body).appendChild(r),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map((function(t){var n=k(t,2),i=n[0],a=n[1];return r.addEventListener(i,e[a].bind(e))})),this.hiddenTextarea=r}},{key:"blur",value:function(){this.abortCursorAnimation()}},{key:"onKeyDown",value:function(e){if(this.isEditing){var t="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(e.keyCode in t)this[t[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}}},{key:"onKeyUp",value:function(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}},{key:"onInput",value:function(e){var t=this,r=this.fromPaste;if(this.fromPaste=!1,e&&e.stopPropagation(),this.isEditing){var n=function(){t.updateFromTextArea(),t.fire(D_),t.canvas&&(t.canvas.fire("text:changed",{target:t}),t.canvas.requestRenderAll())};if(""===this.hiddenTextarea.value)return this.styles={},void n();var i,a,o,s,u=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,c=this._text.length,l=u.length,d=this.selectionStart,f=this.selectionEnd,h=d!==f,p=l-c,v=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),g=d>v.selectionStart;h?(a=this._text.slice(d,f),p+=f-d):l<c&&(a=g?this._text.slice(f+p,f):this._text.slice(d,d-p));var m=u.slice(v.selectionEnd-p,v.selectionEnd);if(a&&a.length&&(m.length&&(i=this.getSelectionStyles(d,d+1,!1),i=m.map((function(){return i[0]}))),h?(o=d,s=f):g?(o=f-a.length,s=f):(o=f,s=f+a.length),this.removeStyleFromTo(o,s)),m.length){var y=l_().copyPasteData;r&&m.join("")===y.copiedText&&!i_.disableStyleCopyPaste&&(i=y.copiedTextStyle),this.insertNewStyleBlock(m,d,i)}n()}}},{key:"onCompositionStart",value:function(){this.inCompositionMode=!0}},{key:"onCompositionEnd",value:function(){this.inCompositionMode=!1}},{key:"onCompositionUpdate",value:function(e){var t=e.target,r=t.selectionStart,n=t.selectionEnd;this.compositionStart=r,this.compositionEnd=n,this.updateTextareaPosition()}},{key:"copy",value:function(){if(this.selectionStart!==this.selectionEnd){var e=l_().copyPasteData;e.copiedText=this.getSelectedText(),i_.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}}},{key:"paste",value:function(){this.fromPaste=!0}},{key:"_getWidthBeforeCursor",value:function(e,t){var r,n=this._getLineLeftOffset(e);return t>0&&(n+=(r=this.__charBounds[e][t-1]).left+r.width),n}},{key:"getDownCursorOffset",value:function(e,t){var r=this._getSelectionForOffset(e,t),n=this.get2DCursorLocation(r),i=n.lineIndex;if(i===this._textLines.length-1||e.metaKey||34===e.keyCode)return this._text.length-r;var a=n.charIndex,o=this._getWidthBeforeCursor(i,a),s=this._getIndexOnLine(i+1,o);return this._textLines[i].slice(a).length+s+1+this.missingNewlineOffset(i)}},{key:"_getSelectionForOffset",value:function(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart}},{key:"getUpCursorOffset",value:function(e,t){var r=this._getSelectionForOffset(e,t),n=this.get2DCursorLocation(r),i=n.lineIndex;if(0===i||e.metaKey||33===e.keyCode)return-r;var a=n.charIndex,o=this._getWidthBeforeCursor(i,a),s=this._getIndexOnLine(i-1,o),u=this._textLines[i].slice(0,a),c=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+s-u.length+(1-c)}},{key:"_getIndexOnLine",value:function(e,t){for(var r,n,i=this._textLines[e],a=this._getLineLeftOffset(e),o=0,s=0,u=i.length;s<u;s++)if((a+=r=this.__charBounds[e][s].width)>t){n=!0;var c=a-r,l=a,d=Math.abs(c-t);o=Math.abs(l-t)<d?s:s-1;break}return n||(o=i.length-1),o}},{key:"moveCursorDown",value:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}},{key:"moveCursorUp",value:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",e)}},{key:"_moveCursorUpOrDown",value:function(e,t){var r=this["get".concat(e,"CursorOffset")](t,this._selectionDirection===T_);if(t.shiftKey?this.moveCursorWithShift(r):this.moveCursorWithoutShift(r),0!==r){var n=this.text.length;this.selectionStart=nC(0,this.selectionStart,n),this.selectionEnd=nC(0,this.selectionEnd,n),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}},{key:"moveCursorWithShift",value:function(e){var t=this._selectionDirection===w_?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t),0!==e}},{key:"moveCursorWithoutShift",value:function(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),0!==e}},{key:"moveCursorLeft",value:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",e)}},{key:"_move",value:function(e,t,r){var n;if(e.altKey)n=this["findWordBoundary".concat(r)](this[t]);else{if(!e.metaKey&&35!==e.keyCode&&36!==e.keyCode)return this[t]+="Left"===r?-1:1,!0;n=this["findLineBoundary".concat(r)](this[t])}return void 0!==n&&this[t]!==n&&(this[t]=n,!0)}},{key:"_moveLeft",value:function(e,t){return this._move(e,t,"Left")}},{key:"_moveRight",value:function(e,t){return this._move(e,t,"Right")}},{key:"moveCursorLeftWithoutShift",value:function(e){var t=!0;return this._selectionDirection=w_,this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t}},{key:"moveCursorLeftWithShift",value:function(e){return this._selectionDirection===T_&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection=w_,this._moveLeft(e,"selectionStart")):void 0}},{key:"moveCursorRight",value:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}},{key:"_moveCursorLeftOrRight",value:function(e,t){var r="moveCursor".concat(e).concat(t.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[r](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}},{key:"moveCursorRightWithShift",value:function(e){return this._selectionDirection===w_&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=T_,this._moveRight(e,"selectionEnd")):void 0}},{key:"moveCursorRightWithoutShift",value:function(e){var t=!0;return this._selectionDirection=T_,this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t}}]),r}(vR),mR=function(e){return!!e.button},yR=function(e){v(r,e);var t=b(r);function r(){var e;return c(this,r),Zk(y(e=t.apply(this,arguments)),"draggableTextDelegate",void 0),e}return h(r,[{key:"initBehavior",value:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new hR(this),to(g(r.prototype),"initBehavior",this).call(this)}},{key:"shouldStartDragging",value:function(){return this.draggableTextDelegate.isActive()}},{key:"onDragStart",value:function(e){return this.draggableTextDelegate.onDragStart(e)}},{key:"canDrop",value:function(e){return this.draggableTextDelegate.canDrop(e)}},{key:"onMouseDown",value:function(e){if(this.canvas){this.__newClickTime=+new Date;var t=e.pointer;this.isTripleClick(t)&&(this.fire("tripleclick",e),cA(e.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=t,this.__lastSelected=this.selected&&!this.getActiveControl()}}},{key:"isTripleClick",value:function(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y}},{key:"doubleClickHandler",value:function(e){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(e.e))}},{key:"tripleClickHandler",value:function(e){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(e.e))}},{key:"_mouseDownHandler",value:function(e){var t=e.e;this.canvas&&this.editable&&!mR(t)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(t)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(t)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}},{key:"_mouseDownHandlerBefore",value:function(e){var t=e.e;this.canvas&&this.editable&&!mR(t)&&(this.selected=this===this.canvas._activeObject)}},{key:"mouseUpHandler",value:function(e){var t=e.e,r=e.transform,n=this.draggableTextDelegate.end(t);if(this.canvas){this.canvas.textEditingManager.unregister(this);var i=this.canvas._activeObject;if(i&&i!==this)return}!this.editable||this.group&&!this.group.interactive||r&&r.actionPerformed||mR(t)||n||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(t),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}},{key:"setCursorByClick",value:function(e){var t=this.getSelectionStartFromPointer(e),r=this.selectionStart,n=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(r,n,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}},{key:"getSelectionStartFromPointer",value:function(e){for(var t=this.canvas.getScenePoint(e).transform(gT(this.calcTransformMatrix())).add(new eT(-this._getLeftOffset(),-this._getTopOffset())),r=0,n=0,i=0,a=0;a<this._textLines.length&&r<=t.y;a++)r+=this.getHeightOfLine(a),i=a,a>0&&(n+=this._textLines[a-1].length+this.missingNewlineOffset(a-1));for(var o=Math.abs(this._getLineLeftOffset(i)),s=this._textLines[i].length,u=this.__charBounds[i],c=0;c<s;c++){var l=o+u[c].kernedWidth;if(t.x<=l){Math.abs(t.x-l)<=Math.abs(t.x-o)&&n++;break}o=l,n++}return Math.min(this.flipX?s-n:n,this._text.length)}}]),r}(gR),bR="moveCursorUp",SR="moveCursorDown",ER="moveCursorLeft",xR="moveCursorRight",wR="exitEditing",kR=$k({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:wR,27:wR,33:bR,34:SR,35:xR,36:ER,37:ER,38:bR,39:xR,40:SR},keysMapRtl:{9:wR,27:wR,33:bR,34:SR,35:ER,36:xR,37:xR,38:bR,39:ER,40:SR},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1}),_R=function(e){v(r,e);var t=b(r);function r(e,n){var i;return c(this,r),(i=t.call(this,e,$k($k({},r.ownDefaults),n))).initBehavior(),i}return h(r,[{key:"type",get:function(){var e=to(g(r.prototype),"type",this);return"itext"===e?"i-text":e}},{key:"_set",value:function(e,t){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=t,this):("canvas"===e&&(this.canvas instanceof pO&&this.canvas.textEditingManager.remove(this),t instanceof pO&&t.textEditingManager.add(this)),to(g(r.prototype),"_set",this).call(this,e,t))}},{key:"setSelectionStart",value:function(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}},{key:"setSelectionEnd",value:function(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}},{key:"_updateAndFire",value:function(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()}},{key:"_fireSelectionChanged",value:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}},{key:"initDimensions",value:function(){this.isEditing&&this.initDelayedCursor(),to(g(r.prototype),"initDimensions",this).call(this)}},{key:"getSelectionStyles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart||0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selectionEnd,n=arguments.length>2?arguments[2]:void 0;return to(g(r.prototype),"getSelectionStyles",this).call(this,e,t,n)}},{key:"setSelectionStyles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selectionStart||0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.selectionEnd;return to(g(r.prototype),"setSelectionStyles",this).call(this,e,t,n)}},{key:"get2DCursorLocation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0;return to(g(r.prototype),"get2DCursorLocation",this).call(this,e,t)}},{key:"render",value:function(e){to(g(r.prototype),"render",this).call(this,e),this.cursorOffsetCache={},this.renderCursorOrSelection()}},{key:"toCanvasElement",value:function(e){var t=this.isEditing;this.isEditing=!1;var n=to(g(r.prototype),"toCanvasElement",this).call(this,e);return this.isEditing=t,n}},{key:"renderCursorOrSelection",value:function(){if(this.isEditing){var e=this.clearContextTop(!0);if(e){var t=this._getCursorBoundaries();this.selectionStart===this.selectionEnd?this.renderCursor(e,t):this.renderSelection(e,t),this.canvas.contextTopDirty=!0,e.restore()}}}},{key:"_getCursorBoundaries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionStart,t=arguments.length>1?arguments[1]:void 0,r=this._getLeftOffset(),n=this._getTopOffset(),i=this._getCursorBoundariesOffsets(e,t);return{left:r,top:n,leftOffset:i.left,topOffset:i.top}}},{key:"_getCursorBoundariesOffsets",value:function(e,t){return t?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}},{key:"__getCursorBoundariesOffsets",value:function(e){for(var t=0,r=0,n=this.get2DCursorLocation(e),i=n.charIndex,a=n.lineIndex,o=0;o<a;o++)t+=this.getHeightOfLine(o);var s=this._getLineLeftOffset(a),u=this.__charBounds[a][i];u&&(r=u.left),0!==this.charSpacing&&i===this._textLines[a].length&&(r-=this._getWidthOfCharSpacing());var c={top:t,left:s+(r>0?r:0)};return"rtl"===this.direction&&(this.textAlign===T_||this.textAlign===rR||this.textAlign===iR?c.left*=-1:this.textAlign===w_||this.textAlign===nR?c.left=s-(r>0?r:0):this.textAlign!==x_&&this.textAlign!==aR||(c.left=s-(r>0?r:0))),c}},{key:"renderCursorAt",value:function(e){var t=this._getCursorBoundaries(e,!0);this._renderCursor(this.canvas.contextTop,t,e)}},{key:"renderCursor",value:function(e,t){this._renderCursor(e,t,this.selectionStart)}},{key:"_renderCursor",value:function(e,t,r){var n=this.get2DCursorLocation(r),i=n.lineIndex,a=n.charIndex>0?n.charIndex-1:0,o=this.getValueOfPropertyAt(i,a,"fontSize"),s=this.getObjectScaling().x*this.canvas.getZoom(),u=this.cursorWidth/s,c=this.getValueOfPropertyAt(i,a,"deltaY"),l=t.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-o*(1-this._fontSizeFraction);this.inCompositionMode&&this.renderSelection(e,t),e.fillStyle=this.cursorColor||this.getValueOfPropertyAt(i,a,H_),e.globalAlpha=this._currentCursorOpacity,e.fillRect(t.left+t.leftOffset-u/2,l+t.top+c,u,o)}},{key:"renderSelection",value:function(e,t){var r={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,r,t)}},{key:"renderDragSourceEffect",value:function(){var e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}},{key:"renderDropTargetEffect",value:function(e){var t=this.getSelectionStartFromPointer(e);this.renderCursorAt(t)}},{key:"_renderSelection",value:function(e,t,r){for(var n=t.selectionStart,i=t.selectionEnd,a=this.textAlign.includes(rR),o=this.get2DCursorLocation(n),s=this.get2DCursorLocation(i),u=o.lineIndex,c=s.lineIndex,l=o.charIndex<0?0:o.charIndex,d=s.charIndex<0?0:s.charIndex,f=u;f<=c;f++){var h,p=this._getLineLeftOffset(f)||0,v=this.getHeightOfLine(f),g=0,m=0;if(f===u&&(g=this.__charBounds[u][l].left),f>=u&&f<c)m=a&&!this.isEndOfWrapping(f)?this.width:this.getLineWidth(f)||5;else if(f===c)if(0===d)m=this.__charBounds[c][d].left;else{var y=this._getWidthOfCharSpacing();m=this.__charBounds[c][d-1].left+this.__charBounds[c][d-1].width-y}h=v,(this.lineHeight<1||f===c&&this.lineHeight>1)&&(v/=this.lineHeight);var b=r.left+p+g,S=v,E=0,x=m-g;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",S=1,E=v):e.fillStyle=this.selectionColor,"rtl"===this.direction&&(this.textAlign===T_||this.textAlign===rR||this.textAlign===iR?b=this.width-b-x:this.textAlign===w_||this.textAlign===nR?b=r.left+p-m:this.textAlign!==x_&&this.textAlign!==aR||(b=r.left+p-m)),e.fillRect(b,r.top+r.topOffset+E,x,S),r.topOffset+=h}}},{key:"getCurrentCharFontSize",value:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}},{key:"getCurrentCharColor",value:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,H_)}},{key:"_getCurrentCharIndex",value:function(){var e=this.get2DCursorLocation(this.selectionStart,!0),t=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:t}}},{key:"dispose",value:function(){this._exitEditing(),this.draggableTextDelegate.dispose(),to(g(r.prototype),"dispose",this).call(this)}}],[{key:"getDefaults",value:function(){return $k($k({},to(g(r),"getDefaults",this).call(this)),r.ownDefaults)}}]),r}(yR);Zk(_R,"ownDefaults",kR),Zk(_R,"type","IText"),X_.setClass(_R),X_.setClass(_R,"i-text");var TR=function(e){v(r,e);var t=b(r);function r(e,n){return c(this,r),t.call(this,e,$k($k({},r.ownDefaults),n))}return h(r,[{key:"initDimensions",value:function(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(rR)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}},{key:"_generateStyleMap",value:function(e){for(var t=0,r=0,n=0,i={},a=0;a<e.graphemeLines.length;a++)"\n"===e.graphemeText[n]&&a>0?(r=0,n++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[n])&&a>0&&(r++,n++),i[a]={line:t,offset:r},n+=e.graphemeLines[a].length,r+=e.graphemeLines[a].length;return i}},{key:"styleHas",value:function(e,t){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[t];n&&(t=n.line)}return to(g(r.prototype),"styleHas",this).call(this,e,t)}},{key:"isEmptyStyles",value:function(e){if(!this.styles)return!0;var t,r=0,n=!1,i=this._styleMap[e],a=this._styleMap[e+1];i&&(e=i.line,r=i.offset),a&&(n=a.line===e,t=a.offset);var o=void 0===e?this.styles:{line:this.styles[e]};for(var s in o)for(var u in o[s]){var c=parseInt(u,10);if(c>=r&&(!n||c<t))for(var l in o[s][u])return!1}return!0}},{key:"_getStyleDeclaration",value:function(e,t){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[e];if(!n)return{};e=n.line,t=n.offset+t}return to(g(r.prototype),"_getStyleDeclaration",this).call(this,e,t)}},{key:"_setStyleDeclaration",value:function(e,t,n){var i=this._styleMap[e];to(g(r.prototype),"_setStyleDeclaration",this).call(this,i.line,i.offset+t,n)}},{key:"_deleteStyleDeclaration",value:function(e,t){var n=this._styleMap[e];to(g(r.prototype),"_deleteStyleDeclaration",this).call(this,n.line,n.offset+t)}},{key:"_getLineStyle",value:function(e){var t=this._styleMap[e];return!!this.styles[t.line]}},{key:"_setLineStyle",value:function(e){var t=this._styleMap[e];to(g(r.prototype),"_setLineStyle",this).call(this,t.line)}},{key:"_wrapText",value:function(e,t){this.isWrapping=!0;for(var r=this.getGraphemeDataForRender(e),n=[],i=0;i<r.wordsData.length;i++)n.push.apply(n,u(this._wrapLine(i,t,r)));return this.isWrapping=!1,n}},{key:"getGraphemeDataForRender",value:function(e){var t=this,r=this.splitByGrapheme,n=r?"":" ",i=0;return{wordsData:e.map((function(e,a){var o=0,s=r?t.graphemeSplit(e):t.wordSplit(e);return 0===s.length?[{word:[],width:0}]:s.map((function(e){var s=r?[e]:t.graphemeSplit(e),u=t._measureWord(s,a,o);return i=Math.max(u,i),o+=s.length+n.length,{word:s,width:u}}))})),largestWordWidth:i}}},{key:"_measureWord",value:function(e,t){for(var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=0,a=0,o=e.length;a<o;a++)i+=this._getGraphemeBox(e[a],t,a+n,r,!0).kernedWidth,r=e[a];return i}},{key:"wordSplit",value:function(e){return e.split(this._wordJoiners)}},{key:"_wrapLine",value:function(e,t,r){var n=r.largestWordWidth,i=r.wordsData,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=this._getWidthOfCharSpacing(),s=this.splitByGrapheme,u=[],c=s?"":" ",l=0,d=[],f=0,h=0,p=!0;t-=a;var v,g=Math.max(t,n,this.dynamicMinWidth),m=i[e];for(f=0,v=0;v<m.length;v++){var y=m[v],b=y.word,S=y.width;f+=b.length,(l+=h+S-o)>g&&!p?(u.push(d),d=[],l=S,p=!0):l+=o,p||s||d.push(c),d=d.concat(b),h=s?0:this._measureWord([c],e,f),f++,p=!1}return v&&u.push(d),n+a>this.dynamicMinWidth&&(this.dynamicMinWidth=n-o+a),u}},{key:"isEndOfWrapping",value:function(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}},{key:"missingNewlineOffset",value:function(e,t){return this.splitByGrapheme&&!t?this.isEndOfWrapping(e)?1:0:1}},{key:"_splitTextIntoLines",value:function(e){for(var t=to(g(r.prototype),"_splitTextIntoLines",this).call(this,e),n=this._wrapText(t.lines,this.width),i=new Array(n.length),a=0;a<n.length;a++)i[a]=n[a].join("");return t.lines=i,t.graphemeLines=n,t}},{key:"getMinWidth",value:function(){return Math.max(this.minWidth,this.dynamicMinWidth)}},{key:"_removeExtraneousStyles",value:function(){var e=new Map;for(var t in this._styleMap){var r=parseInt(t,10);if(this._textLines[r]){var n=this._styleMap[t].line;e.set("".concat(n),!0)}}for(var i in this.styles)e.has(i)||delete this.styles[i]}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return to(g(r.prototype),"toObject",this).call(this,["minWidth","splitByGrapheme"].concat(u(e)))}}],[{key:"getDefaults",value:function(){return $k($k({},to(g(r),"getDefaults",this).call(this)),r.ownDefaults)}},{key:"createControls",value:function(){return{controls:oP()}}}]),r}(_R);Zk(TR,"type","Textbox"),Zk(TR,"textLayoutProperties",[].concat(u(_R.textLayoutProperties),["width"])),Zk(TR,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),X_.setClass(TR);var AR=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"shouldPerformLayout",value:function(e){return!!e.target.clipPath&&to(g(r.prototype),"shouldPerformLayout",this).call(this,e)}},{key:"shouldLayoutClipPath",value:function(){return!1}},{key:"calcLayoutResult",value:function(e,t){var r=e.target,n=r.clipPath,i=r.group;if(n&&this.shouldPerformLayout(e)){var a=lA(uI(r,n)),o=a.width,s=a.height,u=new eT(o,s);if(n.absolutePositioned)return{center:yA(n.getRelativeCenterPoint(),void 0,i?i.calcTransformMatrix():void 0),size:u};var c=n.getRelativeCenterPoint().transform(r.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){var l=this.calcBoundingBox(t,e)||{},d=l.center,f=void 0===d?new eT:d,h=l.correction,p=void 0===h?new eT:h;return{center:f.add(c),correction:p.subtract(c),size:u}}return{center:r.getRelativeCenterPoint().add(c),size:u}}}}]),r}(cI);Zk(AR,"type","clip-path"),X_.setClass(AR);var CR=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"getInitialSize",value:function(e,t){var r=e.target,n=t.size;return new eT(r.width||n.x,r.height||n.y)}}]),r}(cI);Zk(CR,"type","fixed"),X_.setClass(CR);var PR=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"subscribeTargets",value:function(e){var t=e.target;e.targets.reduce((function(e,t){return t.parent&&e.add(t.parent),e}),new Set).forEach((function(e){e.layoutManager.subscribeTargets({target:e,targets:[t]})}))}},{key:"unsubscribeTargets",value:function(e){var t=e.target,r=t.getObjects();e.targets.reduce((function(e,t){return t.parent&&e.add(t.parent),e}),new Set).forEach((function(e){!r.some((function(t){return t.parent===e}))&&e.layoutManager.unsubscribeTargets({target:e,targets:[t]})}))}}]),r}(pI),IR=function(e){v(r,e);var t=b(r);function r(){var e;c(this,r);var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=t.call(this),Object.assign(y(e),r.ownDefaults),e.setOptions(i);var a=i.left,o=i.top,s=i.layoutManager;return e.groupInit(n,{left:a,top:o,layoutManager:null!=s?s:new PR}),e}return h(r,[{key:"_shouldSetNestedCoords",value:function(){return!0}},{key:"__objectSelectionMonitor",value:function(){}},{key:"multiSelectAdd",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];"selection-order"===this.multiSelectionStacking?this.add.apply(this,r):r.forEach((function(t){var r=e._objects.findIndex((function(e){return e.isInFrontOf(t)})),n=-1===r?e.size():r;e.insertAt(n,t)}))}},{key:"canEnterGroup",value:function(e){return this.getObjects().some((function(t){return t.isDescendantOf(e)||e.isDescendantOf(t)}))?(a_("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):to(g(r.prototype),"canEnterGroup",this).call(this,e)}},{key:"enterGroup",value:function(e,t){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,t)}},{key:"exitGroup",value:function(e,t){this._exitGroup(e,t),e.parent&&e.parent._enterGroup(e,!0)}},{key:"_onAfterObjectsChange",value:function(e,t){to(g(r.prototype),"_onAfterObjectsChange",this).call(this,e,t);var n=new Set;t.forEach((function(e){var t=e.parent;t&&n.add(t)})),e===oI?n.forEach((function(e){e._onAfterObjectsChange(aI,t)})):n.forEach((function(e){e._set("dirty",!0)}))}},{key:"onDeselect",value:function(){return this.removeAll(),!1}},{key:"toString",value:function(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}},{key:"shouldCache",value:function(){return!1}},{key:"isOnACache",value:function(){return!1}},{key:"_renderControls",value:function(e,t,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;for(var i=$k($k({hasControls:!1},n),{},{forActiveSelection:!0}),a=0;a<this._objects.length;a++)this._objects[a]._renderControls(e,i);to(g(r.prototype),"_renderControls",this).call(this,e,t),e.restore()}}],[{key:"getDefaults",value:function(){return $k($k({},to(g(r),"getDefaults",this).call(this)),r.ownDefaults)}}]),r}(mI);Zk(IR,"type","ActiveSelection"),Zk(IR,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),X_.setClass(IR),X_.setClass(IR,"activeSelection");var OR,RR=function(){function e(){c(this,e),Zk(this,"resources",{})}return h(e,[{key:"applyFilters",value:function(e,t,r,n,i){var a=i.getContext("2d");if(a){a.drawImage(t,0,0,r,n);var o={sourceWidth:r,sourceHeight:n,imageData:a.getImageData(0,0,r,n),originalEl:t,originalImageData:a.getImageData(0,0,r,n),canvasEl:i,ctx:a,filterBackend:this};e.forEach((function(e){e.applyTo(o)}));var s=o.imageData;return s.width===r&&s.height===n||(i.width=s.width,i.height=s.height),a.putImageData(s,0,0),o}}}]),e}(),NR=function(){function e(){c(this,e);var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).tileSize,r=void 0===t?i_.textureSize:t;Zk(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),Zk(this,"resources",{}),this.tileSize=r,this.setupGLContext(r,r),this.captureGPUInfo()}return h(e,[{key:"setupGLContext",value:function(e,t){this.dispose(),this.createWebGLCanvas(e,t)}},{key:"createWebGLCanvas",value:function(e,t){var r=cT();r.width=e,r.height=t;var n=r.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});n&&(n.clearColor(0,0,0,0),this.canvas=r,this.gl=n)}},{key:"applyFilters",value:function(e,t,r,n,i,a){var o=this.gl,s=i.getContext("2d");if(o&&s){var u;a&&(u=this.getCachedTexture(a,t));var c={originalWidth:t.width||t.originalWidth||0,originalHeight:t.height||t.originalHeight||0,sourceWidth:r,sourceHeight:n,destinationWidth:r,destinationHeight:n,context:o,sourceTexture:this.createTexture(o,r,n,u?void 0:t),targetTexture:this.createTexture(o,r,n),originalTexture:u||this.createTexture(o,r,n,u?void 0:t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:i},l=o.createFramebuffer();return o.bindFramebuffer(o.FRAMEBUFFER,l),e.forEach((function(e){e&&e.applyTo(c)})),function(e){var t=e.targetCanvas,r=t.width,n=t.height,i=e.destinationWidth,a=e.destinationHeight;r===i&&n===a||(t.width=i,t.height=a)}(c),this.copyGLTo2D(o,c),o.bindTexture(o.TEXTURE_2D,null),o.deleteTexture(c.sourceTexture),o.deleteTexture(c.targetTexture),o.deleteFramebuffer(l),s.setTransform(1,0,0,1,0,0),c}}},{key:"dispose",value:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}},{key:"clearWebGLCaches",value:function(){this.programCache={},this.textureCache={}}},{key:"createTexture",value:function(e,t,r,n,i){var a=e.NEAREST,o=e.TEXTURE_2D,s=e.RGBA,u=e.UNSIGNED_BYTE,c=e.CLAMP_TO_EDGE,l=e.TEXTURE_MAG_FILTER,d=e.TEXTURE_MIN_FILTER,f=e.TEXTURE_WRAP_S,h=e.TEXTURE_WRAP_T,p=e.createTexture();return e.bindTexture(o,p),e.texParameteri(o,l,i||a),e.texParameteri(o,d,i||a),e.texParameteri(o,f,c),e.texParameteri(o,h,c),n?e.texImage2D(o,0,s,s,u,n):e.texImage2D(o,0,s,t,r,0,s,u,null),p}},{key:"getCachedTexture",value:function(e,t,r){var n=this.textureCache;if(n[e])return n[e];var i=this.createTexture(this.gl,t.width,t.height,t,r);return i&&(n[e]=i),i}},{key:"evictCachesForKey",value:function(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}},{key:"copyGLTo2D",value:function(e,t){var r=e.canvas,n=t.targetCanvas,i=n.getContext("2d");if(i){i.translate(0,n.height),i.scale(1,-1);var a=r.height-n.height;i.drawImage(r,0,a,n.width,n.height,0,0,n.width,n.height)}}},{key:"copyGLTo2DPutImageData",value:function(e,t){var r=t.targetCanvas.getContext("2d"),n=t.destinationWidth,i=t.destinationHeight,a=n*i*4;if(r){var o=new Uint8Array(this.imageBuffer,0,a),s=new Uint8ClampedArray(this.imageBuffer,0,a);e.readPixels(0,0,n,i,e.RGBA,e.UNSIGNED_BYTE,o);var u=new ImageData(s,n,i);r.putImageData(u,0,0)}}},{key:"captureGPUInfo",value:function(){if(this.gpuInfo)return this.gpuInfo;var e=this.gl,t={renderer:"",vendor:""};if(!e)return t;var r=e.getExtension("WEBGL_debug_renderer_info");if(r){var n=e.getParameter(r.UNMASKED_RENDERER_WEBGL),i=e.getParameter(r.UNMASKED_VENDOR_WEBGL);n&&(t.renderer=n.toLowerCase()),i&&(t.vendor=i.toLowerCase())}return this.gpuInfo=t,t}}]),e}();function LR(){return!OR&&(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(OR=function(){var e=l_().WebGLProbe;return e.queryWebGL(cT()),i_.enableGLFiltering&&e.isSupported(i_.textureSize)?new NR({tileSize:i_.textureSize}):new RR}()),OR}var jR=["filters","resizeFilter","src","crossOrigin","type"],MR=["cropX","cropY"],DR=function(e){v(r,e);var t=b(r);function r(e,n){var i;return c(this,r),Zk(y(i=t.call(this)),"_lastScaleX",1),Zk(y(i),"_lastScaleY",1),Zk(y(i),"_filterScalingX",1),Zk(y(i),"_filterScalingY",1),i.filters=[],Object.assign(y(i),r.ownDefaults),i.setOptions(n),i.cacheKey="texture".concat(uT()),i.setElement("string"==typeof e?(i.canvas&&QT(i.canvas.getElement())||d_()).getElementById(e):e,n),i}return h(r,[{key:"getElement",value:function(){return this._element}},{key:"setElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(t),e.classList.add(r.CSS_CANVAS),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}},{key:"removeTexture",value:function(e){var t=LR(!1);t instanceof NR&&t.evictCachesForKey(e)}},{key:"dispose",value:function(){var e=this;to(g(r.prototype),"dispose",this).call(this),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(t){var r=e[t];r&&l_().dispose(r),e[t]=void 0}))}},{key:"getCrossOrigin",value:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)}},{key:"getOriginalSize",value:function(){var e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}},{key:"_stroke",value:function(e){if(this.stroke&&0!==this.strokeWidth){var t=this.width/2,r=this.height/2;e.beginPath(),e.moveTo(-t,-r),e.lineTo(t,-r),e.lineTo(t,r),e.lineTo(-t,r),e.lineTo(-t,-r),e.closePath()}}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return this.filters.forEach((function(e){e&&t.push(e.toObject())})),$k($k({},to(g(r.prototype),"toObject",this).call(this,[].concat(MR,u(e)))),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:t},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}},{key:"hasCrop",value:function(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}},{key:"_toSVG",value:function(){var e=[],t=this._element,r=-this.width/2,n=-this.height/2,i=[],a=[],o="",s="";if(!t)return[];if(this.hasCrop()){var u=uT();i.push('<clipPath id="imageCrop_'+u+'">\n','\t<rect x="'+r+'" y="'+n+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),o=' clip-path="url(#imageCrop_'+u+')" '}if(this.imageSmoothing||(s=' image-rendering="optimizeSpeed"'),e.push("\t<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(r-this.cropX,'" y="').concat(n-this.cropY,'" width="').concat(t.width||t.naturalWidth,'" height="').concat(t.height||t.naturalHeight,'"').concat(s).concat(o,"></image>\n")),this.stroke||this.strokeDashArray){var c=this.fill;this.fill=null,a=['\t<rect x="'.concat(r,'" y="').concat(n,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),'" />\n')],this.fill=c}return i=this.paintFirst!==H_?i.concat(a,e):i.concat(e,a)}},{key:"getSrc",value:function(e){var t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src")||"":t.src:this.src||""}},{key:"getSvgSrc",value:function(e){return this.getSrc(e)}},{key:"setSrc",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.crossOrigin,i=r.signal;return PT(e,{crossOrigin:n,signal:i}).then((function(e){void 0!==n&&t.set({crossOrigin:n}),t.setElement(e)}))}},{key:"toString",value:function(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}},{key:"applyResizeFilters",value:function(){var e=this.resizeFilter,t=this.minimumScaleTrigger,r=this.getTotalObjectScaling(),n=r.x,i=r.y,a=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||n>t&&i>t)return this._element=a,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=n,void(this._lastScaleY=i);var o=cT(),s=a.width,u=a.height;o.width=s,o.height=u,this._element=o,this._lastScaleX=e.scaleX=n,this._lastScaleY=e.scaleY=i,LR().applyFilters([e],a,s,u,this._element),this._filterScalingX=o.width/this._originalElement.width,this._filterScalingY=o.height/this._originalElement.height}},{key:"applyFilters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.filters||[];if(e=e.filter((function(e){return e&&!e.isNeutralState()})),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),0===e.length)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);var t=this._originalElement,r=t.naturalWidth||t.width,n=t.naturalHeight||t.height;if(this._element===this._originalElement){var i=cT();i.width=r,i.height=n,this._element=i,this._filteredEl=i}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,r,n),this._lastScaleX=1,this._lastScaleY=1);LR().applyFilters(e,this._originalElement,r,n,this._element),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}},{key:"_render",value:function(e){e.imageSmoothingEnabled=this.imageSmoothing,!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}},{key:"drawCacheOnCanvas",value:function(e){e.imageSmoothingEnabled=this.imageSmoothing,to(g(r.prototype),"drawCacheOnCanvas",this).call(this,e)}},{key:"shouldCache",value:function(){return this.needsItsOwnCache()}},{key:"_renderFill",value:function(e){var t=this._element;if(t){var r=this._filterScalingX,n=this._filterScalingY,i=this.width,a=this.height,o=Math.max(this.cropX,0),s=Math.max(this.cropY,0),u=t.naturalWidth||t.width,c=t.naturalHeight||t.height,l=o*r,d=s*n,f=Math.min(i*r,u-l),h=Math.min(a*n,c-d),p=-i/2,v=-a/2,g=Math.min(i,u/r-o),m=Math.min(a,c/n-s);t&&e.drawImage(t,l,d,f,h,p,v,g,m)}}},{key:"_needsResize",value:function(){var e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}},{key:"_resetWidthHeight",value:function(){this.set(this.getOriginalSize())}},{key:"_setWidthHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,r=e.height,n=this.getOriginalSize();this.width=t||n.width,this.height=r||n.height}},{key:"parsePreserveAspectRatioAttribute",value:function(){var e,t=HT(this.preserveAspectRatio||""),r=this.width,n=this.height,i={width:r,height:n},a=this._element.width,o=this._element.height,s=1,u=1,c=0,l=0,d=0,f=0;return!t||t.alignX===A_&&t.alignY===A_?(s=r/a,u=n/o):("meet"===t.meetOrSlice&&(e=(r-a*(s=u=bI(this._element,i)))/2,"Min"===t.alignX&&(c=-e),"Max"===t.alignX&&(c=e),e=(n-o*u)/2,"Min"===t.alignY&&(l=-e),"Max"===t.alignY&&(l=e)),"slice"===t.meetOrSlice&&(e=a-r/(s=u=SI(this._element,i)),"Mid"===t.alignX&&(d=e/2),"Max"===t.alignX&&(d=e),e=o-n/u,"Mid"===t.alignY&&(f=e/2),"Max"===t.alignY&&(f=e),a=r/s,o=n/u)),{width:a,height:o,scaleX:s,scaleY:u,offsetLeft:c,offsetTop:l,cropX:d,cropY:f}}}],[{key:"getDefaults",value:function(){return $k($k({},to(g(r),"getDefaults",this).call(this)),r.ownDefaults)}},{key:"fromObject",value:function(e,t){var r=this,n=e.filters,i=e.resizeFilter,a=e.src,o=e.crossOrigin,s=(e.type,e_(e,jR));return Promise.all([PT(a,$k($k({},t),{},{crossOrigin:o})),n&&IT(n,t),i&&IT([i],t),OT(s,t)]).then((function(e){var t=k(e,4),n=t[0],i=t[1],o=void 0===i?[]:i,u=t[2],c=k(void 0===u?[]:u,1)[0],l=t[3],d=void 0===l?{}:l;return new r(n,$k($k({},s),{},{src:a,filters:o,resizeFilter:c},d))}))}},{key:"fromURL",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.crossOrigin,i=void 0===n?null:n,a=r.signal,o=arguments.length>2?arguments[2]:void 0;return PT(e,{crossOrigin:i,signal:a}).then((function(e){return new t(e,o)}))}},{key:"fromElement",value:function(){var e=Ot(Pt().mark((function e(t){var r,n,i,a=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2?a[2]:void 0,i=eI(t,this.ATTRIBUTE_NAMES,n),e.abrupt("return",this.fromURL(i["xlink:href"],r,i).catch((function(e){return a_("log","Unable to parse Image",e),null})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(cP);Zk(DR,"type","Image"),Zk(DR,"cacheProperties",[].concat(aC,MR)),Zk(DR,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),Zk(DR,"CSS_CANVAS","canvas-img"),Zk(DR,"ATTRIBUTE_NAMES",[].concat(kP,["x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"])),X_.setClass(DR),X_.setSVGClass(DR);jA(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);var FR=j_,UR=function(e){return function(t,r,n){var i=n.points,a=n.pathOffset;return new eT(i[e]).subtract(a).transform(mT(n.getViewportTransform(),n.calcTransformMatrix()))}},BR=function(e,t,r,n){var i=t.target,a=t.pointIndex,o=i,s=yA(new eT(r,n),void 0,o.calcOwnMatrix());return o.points[a]=s.add(o.pathOffset),o.setDimensions(),!0},GR=function(e,t){return function(r,n,i,a){var o=n.target,s=new eT(o.points[(e>0?e:o.points.length)-1]),u=s.subtract(o.pathOffset).transform(o.calcOwnMatrix()),c=t(r,$k($k({},n),{},{pointIndex:e}),i,a),l=s.subtract(o.pathOffset).transform(o.calcOwnMatrix()).subtract(u);return o.left-=l.x,o.top-=l.y,c}},VR=function(e){return IC(FR,GR(e,BR))},HR=function(e,t,r){var n=e.path,i=e.pathOffset,a=n[t];return new eT(a[r]-i.x,a[r+1]-i.y).transform(mT(e.getViewportTransform(),e.calcTransformMatrix()))};function WR(e,t,r){var n=this.commandIndex,i=this.pointIndex;return HR(r,n,i)}function qR(e,t,r,n){var i=t.target,a=this.commandIndex,o=this.pointIndex,s=function(e,t,r,n,i){var a=e.path,o=e.pathOffset,s=a[(n>0?n:a.length)-1],u=new eT(s[i],s[i+1]),c=u.subtract(o).transform(e.calcOwnMatrix()),l=yA(new eT(t,r),void 0,e.calcOwnMatrix());a[n][i]=l.x+o.x,a[n][i+1]=l.y+o.y,e.setDimensions();var d=u.subtract(e.pathOffset).transform(e.calcOwnMatrix()).subtract(c);return e.left-=d.x,e.top-=d.y,e.set("dirty",!0),!0}(i,r,n,a,o);return EA(this.actionName,$k($k({},CA(e,t,r,n)),{},{commandIndex:a,pointIndex:o})),s}var zR=function(e){v(r,e);var t=b(r);function r(e){return c(this,r),t.call(this,e)}return h(r,[{key:"render",value:function(e,t,n,i,a){var o=$k($k({},i),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});to(g(r.prototype),"render",this).call(this,e,t,n,o,a)}}]),r}(jC),YR=function(e){v(r,e);var t=b(r);function r(e){return c(this,r),t.call(this,e)}return h(r,[{key:"render",value:function(e,t,n,i,a){var o=a.path,s=this.commandIndex,u=this.pointIndex,c=this.connectToCommandIndex,l=this.connectToPointIndex;e.save(),e.strokeStyle=this.controlStroke,this.connectionDashArray&&e.setLineDash(this.connectionDashArray);var d=k(o[s],1)[0],f=HR(a,c,l);if("Q"===d){var h=HR(a,s,u+2);e.moveTo(h.x,h.y),e.lineTo(t,n)}else e.moveTo(t,n);e.lineTo(f.x,f.y),e.stroke(),e.restore(),to(g(r.prototype),"render",this).call(this,e,t,n,i,a)}}]),r}(zR),XR=function(e,t,r,n,i,a){return new(r?YR:zR)($k($k({commandIndex:e,pointIndex:t,actionName:"modifyPath",positionHandler:WR,actionHandler:qR,connectToCommandIndex:i,connectToPointIndex:a},n),r?n.controlPointStyle:n.pointStyle))},KR=(Object.freeze({__proto__:null,changeWidth:RC,createObjectDefaultControls:iP,createPathControls:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n="M";return e.path.forEach((function(e,i){var a=e[0];switch("Z"!==a&&(r["c_".concat(i,"_").concat(a)]=XR(i,e.length-2,!1,t)),a){case"C":r["c_".concat(i,"_C_CP_1")]=XR(i,1,!0,t,i-1,function(e){return"C"===e?5:"Q"===e?3:1}(n)),r["c_".concat(i,"_C_CP_2")]=XR(i,3,!0,t,i,5);break;case"Q":r["c_".concat(i,"_Q_CP_1")]=XR(i,1,!0,t,i,3)}n=a})),r},createPolyActionHandler:VR,createPolyControls:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=0;n<("number"==typeof e?e:e.points.length);n++)r["p".concat(n)]=new jC($k({actionName:FR,positionHandler:UR(n),actionHandler:VR(n)},t));return r},createPolyPositionHandler:UR,createResizeControls:aP,createTextboxDefaultControls:oP,dragHandler:NA,factoryPolyActionHandler:GR,getLocalPoint:IA,polyActionHandler:BR,renderCircleControl:NC,renderSquareControl:LC,rotationStyleHandler:MC,rotationWithSnapping:DC,scaleCursorStyleHandler:GC,scaleOrSkewActionName:eP,scaleSkewCursorStyleHandler:tP,scalingEqually:HC,scalingX:WC,scalingXOrSkewingY:rP,scalingY:qC,scalingYOrSkewingX:nP,skewCursorStyleHandler:KC,skewHandlerX:ZC,skewHandlerY:QC,wrapWithFireEvent:IC,wrapWithFixedAnchor:OC}),function(e){return void 0!==e.webgl}),JR="precision highp float",ZR="\n    ".concat(JR,";\n    varying vec2 vTexCoord;\n    uniform sampler2D uTexture;\n    void main() {\n      gl_FragColor = texture2D(uTexture, vTexCoord);\n    }"),QR=["type"],$R=["type"],eN=new RegExp(JR,"g"),tN=function(){function e(){c(this,e);var t=e_(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},QR);Object.assign(this,this.constructor.defaults,t)}return h(e,[{key:"type",get:function(){return this.constructor.type}},{key:"getFragmentSource",value:function(){return ZR}},{key:"getVertexSource",value:function(){return"\n    attribute vec2 aPosition;\n    varying vec2 vTexCoord;\n    void main() {\n      vTexCoord = aPosition;\n      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n    }"}},{key:"createProgram",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getFragmentSource(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getVertexSource(),n=l_().WebGLProbe.GLPrecision,i=void 0===n?"highp":n;"highp"!==i&&(t=t.replace(eN,JR.replace("highp",i)));var a=e.createShader(e.VERTEX_SHADER),o=e.createShader(e.FRAGMENT_SHADER),s=e.createProgram();if(!a||!o||!s)throw new o_("Vertex, fragment shader or program creation error");if(e.shaderSource(a,r),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS))throw new o_("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(a)));if(e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new o_("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(o)));if(e.attachShader(s,a),e.attachShader(s,o),e.linkProgram(s),!e.getProgramParameter(s,e.LINK_STATUS))throw new o_('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(s)));var u=this.getUniformLocations(e,s)||{};return u.uStepW=e.getUniformLocation(s,"uStepW"),u.uStepH=e.getUniformLocation(s,"uStepH"),{program:s,attributeLocations:this.getAttributeLocations(e,s),uniformLocations:u}}},{key:"getAttributeLocations",value:function(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}}},{key:"getUniformLocations",value:function(e,t){for(var r=this.constructor.uniformLocations,n={},i=0;i<r.length;i++)n[r[i]]=e.getUniformLocation(t,r[i]);return n}},{key:"sendAttributeData",value:function(e,t,r){var n=t.aPosition,i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),e.enableVertexAttribArray(n),e.vertexAttribPointer(n,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW)}},{key:"_setupFrameBuffer",value:function(e){var t=e.context;if(e.passes>1){var r=e.destinationWidth,n=e.destinationHeight;e.sourceWidth===r&&e.sourceHeight===n||(t.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(t,r,n)),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e.targetTexture,0)}else t.bindFramebuffer(t.FRAMEBUFFER,null),t.finish()}},{key:"_swapTextures",value:function(e){e.passes--,e.pass++;var t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t}},{key:"isNeutralState",value:function(e){return!1}},{key:"applyTo",value:function(e){KR(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}},{key:"applyTo2d",value:function(e){}},{key:"getCacheKey",value:function(){return this.type}},{key:"retrieveShader",value:function(e){var t=this.getCacheKey();return e.programCache[t]||(e.programCache[t]=this.createProgram(e.context)),e.programCache[t]}},{key:"applyToWebGL",value:function(e){var t=e.context,r=this.retrieveShader(e);0===e.pass&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(r.program),this.sendAttributeData(t,r.attributeLocations,e.aPosition),t.uniform1f(r.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(r.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,r.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)}},{key:"bindAdditionalTexture",value:function(e,t,r){e.activeTexture(r),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)}},{key:"unbindAdditionalTexture",value:function(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}},{key:"sendUniformData",value:function(e,t){}},{key:"createHelpLayer",value:function(e){if(!e.helpLayer){var t=cT();t.width=e.sourceWidth,t.height=e.sourceHeight,e.helpLayer=t}}},{key:"toObject",value:function(){var e=this,t=Object.keys(this.constructor.defaults||{});return $k({type:this.type},t.reduce((function(t,r){return t[r]=e[r],t}),{}))}},{key:"toJSON",value:function(){return this.toObject()}}],[{key:"fromObject",value:function(){var e=Ot(Pt().mark((function e(t,r){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new this(e_(t,$R)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();Zk(tN,"type","BaseFilter"),Zk(tN,"uniformLocations",[]);var rN={multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",difference:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"\n    if (uColor.r < 0.5) {\n      gl_FragColor.r *= 2.0 * uColor.r;\n    } else {\n      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n    }\n    if (uColor.g < 0.5) {\n      gl_FragColor.g *= 2.0 * uColor.g;\n    } else {\n      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n    }\n    if (uColor.b < 0.5) {\n      gl_FragColor.b *= 2.0 * uColor.b;\n    } else {\n      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n    }\n    ",tint:"\n    gl_FragColor.rgb *= (1.0 - uColor.a);\n    gl_FragColor.rgb += uColor.rgb;\n    "},nN=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"getCacheKey",value:function(){return"".concat(this.type,"_").concat(this.mode)}},{key:"getFragmentSource",value:function(){return"\n      precision highp float;\n      uniform sampler2D uTexture;\n      uniform vec4 uColor;\n      varying vec2 vTexCoord;\n      void main() {\n        vec4 color = texture2D(uTexture, vTexCoord);\n        gl_FragColor = color;\n        if (color.a > 0.0) {\n          ".concat(rN[this.mode],"\n        }\n      }\n      ")}},{key:"applyTo2d",value:function(e){for(var t=e.imageData.data,r=new BT(this.color).getSource(),n=r[0]*this.alpha,i=r[1]*this.alpha,a=r[2]*this.alpha,o=1-this.alpha,s=0;s<t.length;s+=4){var u=t[s],c=t[s+1],l=t[s+2];switch(this.mode){case"multiply":t[s]=u*n/255,t[s+1]=c*i/255,t[s+2]=l*a/255;break;case"screen":t[s]=255-(255-u)*(255-n)/255,t[s+1]=255-(255-c)*(255-i)/255,t[s+2]=255-(255-l)*(255-a)/255;break;case"add":t[s]=u+n,t[s+1]=c+i,t[s+2]=l+a;break;case"difference":t[s]=Math.abs(u-n),t[s+1]=Math.abs(c-i),t[s+2]=Math.abs(l-a);break;case"subtract":t[s]=u-n,t[s+1]=c-i,t[s+2]=l-a;break;case"darken":t[s]=Math.min(u,n),t[s+1]=Math.min(c,i),t[s+2]=Math.min(l,a);break;case"lighten":t[s]=Math.max(u,n),t[s+1]=Math.max(c,i),t[s+2]=Math.max(l,a);break;case"overlay":t[s]=n<128?2*u*n/255:255-2*(255-u)*(255-n)/255,t[s+1]=i<128?2*c*i/255:255-2*(255-c)*(255-i)/255,t[s+2]=a<128?2*l*a/255:255-2*(255-l)*(255-a)/255;break;case"exclusion":t[s]=n+u-2*n*u/255,t[s+1]=i+c-2*i*c/255,t[s+2]=a+l-2*a*l/255;break;case"tint":t[s]=n+u*o,t[s+1]=i+c*o,t[s+2]=a+l*o}}}},{key:"sendUniformData",value:function(e,t){var r=new BT(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,e.uniform4fv(t.uColor,r)}}]),r}(tN);Zk(nN,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),Zk(nN,"type","BlendColor"),Zk(nN,"uniformLocations",["uColor"]),X_.setClass(nN);var iN={multiply:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform sampler2D uImage;\n    uniform vec4 uColor;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      vec4 color2 = texture2D(uImage, vTexCoord2);\n      color.rgba *= color2.rgba;\n      gl_FragColor = color;\n    }\n    ",mask:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform sampler2D uImage;\n    uniform vec4 uColor;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      vec4 color2 = texture2D(uImage, vTexCoord2);\n      color.a = color2.a;\n      gl_FragColor = color;\n    }\n    "},aN=["type","image"],oN=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"getCacheKey",value:function(){return"".concat(this.type,"_").concat(this.mode)}},{key:"getFragmentSource",value:function(){return iN[this.mode]}},{key:"getVertexSource",value:function(){return"\n    attribute vec2 aPosition;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    uniform mat3 uTransformMatrix;\n    void main() {\n      vTexCoord = aPosition;\n      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\n      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n    }\n    "}},{key:"applyToWebGL",value:function(e){var t=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,n,t.TEXTURE1),to(g(r.prototype),"applyToWebGL",this).call(this,e),this.unbindAdditionalTexture(t,t.TEXTURE1)}},{key:"createTexture",value:function(e,t){return e.getCachedTexture(t.cacheKey,t.getElement())}},{key:"calculateMatrix",value:function(){var e=this.image,t=e.getElement(),r=t.width,n=t.height;return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/r,-e.top/n,1]}},{key:"applyTo2d",value:function(e){var t=e.imageData,r=t.data,n=t.width,i=t.height,a=e.filterBackend.resources,o=this.image;a.blendImage||(a.blendImage=cT());var s=a.blendImage,u=s.getContext("2d");s.width!==n||s.height!==i?(s.width=n,s.height=i):u.clearRect(0,0,n,i),u.setTransform(o.scaleX,0,0,o.scaleY,o.left,o.top),u.drawImage(o.getElement(),0,0,n,i);for(var c=u.getImageData(0,0,n,i).data,l=0;l<r.length;l+=4){var d=r[l],f=r[l+1],h=r[l+2],p=r[l+3],v=c[l],g=c[l+1],m=c[l+2],y=c[l+3];switch(this.mode){case"multiply":r[l]=d*v/255,r[l+1]=f*g/255,r[l+2]=h*m/255,r[l+3]=p*y/255;break;case"mask":r[l+3]=y}}}},{key:"sendUniformData",value:function(e,t){var r=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,r)}},{key:"toObject",value:function(){return $k($k({},to(g(r.prototype),"toObject",this).call(this)),{},{image:this.image&&this.image.toObject()})}}],[{key:"fromObject",value:function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a=this;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.type,n=t.image,i=e_(t,aN),e.abrupt("return",DR.fromObject(n,r).then((function(e){return new a($k($k({},i),{},{image:e}))})));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(tN);Zk(oN,"type","BlendImage"),Zk(oN,"defaults",{mode:"multiply",alpha:1}),Zk(oN,"uniformLocations",["uTransformMatrix","uImage"]),X_.setClass(oN);var sN=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"getFragmentSource",value:function(){return"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform vec2 uDelta;\n    varying vec2 vTexCoord;\n    const float nSamples = 15.0;\n    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);\n    float random(vec3 scale) {\n      /* use the fragment position for a different seed per-pixel */\n      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n    }\n    void main() {\n      vec4 color = vec4(0.0);\n      float total = 0.0;\n      float offset = random(v3offset);\n      for (float t = -nSamples; t <= nSamples; t++) {\n        float percent = (t + offset - 0.5) / nSamples;\n        float weight = 1.0 - abs(percent);\n        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\n        total += weight;\n      }\n      gl_FragColor = color / total;\n    }\n  "}},{key:"applyTo",value:function(e){KR(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}},{key:"applyTo2d",value:function(e){e.imageData=this.simpleBlur(e)}},{key:"simpleBlur",value:function(e){var t=e.ctx,r=e.imageData,n=e.filterBackend.resources,i=r.width,a=r.height;n.blurLayer1||(n.blurLayer1=cT(),n.blurLayer2=cT());var o=n.blurLayer1,s=n.blurLayer2;o.width===i&&o.height===a||(s.width=o.width=i,s.height=o.height=a);var u,c,l,d,f=o.getContext("2d"),h=s.getContext("2d"),p=.06*this.blur*.5;for(f.putImageData(r,0,0),h.clearRect(0,0,i,a),d=-15;d<=15;d++)l=p*(c=d/15)*i+(u=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(c),h.drawImage(o,l,u),f.drawImage(s,0,0),h.globalAlpha=1,h.clearRect(0,0,s.width,s.height);for(d=-15;d<=15;d++)l=p*(c=d/15)*a+(u=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(c),h.drawImage(o,u,l),f.drawImage(s,0,0),h.globalAlpha=1,h.clearRect(0,0,s.width,s.height);t.drawImage(o,0,0);var v=t.getImageData(0,0,o.width,o.height);return f.globalAlpha=1,f.clearRect(0,0,o.width,o.height),v}},{key:"sendUniformData",value:function(e,t){var r=this.chooseRightDelta();e.uniform2fv(t.uDelta,r)}},{key:"isNeutralState",value:function(){return 0===this.blur}},{key:"chooseRightDelta",value:function(){var e=1,t=[0,0];this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio);var r=e*this.blur*.12;return this.horizontal?t[0]=r:t[1]=r,t}}]),r}(tN);Zk(sN,"type","Blur"),Zk(sN,"defaults",{blur:0}),Zk(sN,"uniformLocations",["uDelta"]),X_.setClass(sN);var uN=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"getFragmentSource",value:function(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uBrightness;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color.rgb += uBrightness;\n    gl_FragColor = color;\n  }\n"}},{key:"applyTo2d",value:function(e){for(var t=e.imageData.data,r=Math.round(255*this.brightness),n=0;n<t.length;n+=4)t[n]=t[n]+r,t[n+1]=t[n+1]+r,t[n+2]=t[n+2]+r}},{key:"isNeutralState",value:function(){return 0===this.brightness}},{key:"sendUniformData",value:function(e,t){e.uniform1f(t.uBrightness,this.brightness)}}]),r}(tN);Zk(uN,"type","Brightness"),Zk(uN,"defaults",{brightness:0}),Zk(uN,"uniformLocations",["uBrightness"]),X_.setClass(uN);var cN=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"getFragmentSource",value:function(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  varying vec2 vTexCoord;\n  uniform mat4 uColorMatrix;\n  uniform vec4 uConstants;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color *= uColorMatrix;\n    color += uConstants;\n    gl_FragColor = color;\n  }"}},{key:"applyTo2d",value:function(e){for(var t=e.imageData.data,r=this.matrix,n=this.colorsOnly,i=0;i<t.length;i+=4){var a=t[i],o=t[i+1],s=t[i+2];if(n)t[i]=a*r[0]+o*r[1]+s*r[2]+255*r[4],t[i+1]=a*r[5]+o*r[6]+s*r[7]+255*r[9],t[i+2]=a*r[10]+o*r[11]+s*r[12]+255*r[14];else{var u=t[i+3];t[i]=a*r[0]+o*r[1]+s*r[2]+u*r[3]+255*r[4],t[i+1]=a*r[5]+o*r[6]+s*r[7]+u*r[8]+255*r[9],t[i+2]=a*r[10]+o*r[11]+s*r[12]+u*r[13]+255*r[14],t[i+3]=a*r[15]+o*r[16]+s*r[17]+u*r[18]+255*r[19]}}}},{key:"sendUniformData",value:function(e,t){var r=this.matrix,n=[r[0],r[1],r[2],r[3],r[5],r[6],r[7],r[8],r[10],r[11],r[12],r[13],r[15],r[16],r[17],r[18]],i=[r[4],r[9],r[14],r[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,n),e.uniform4fv(t.uConstants,i)}},{key:"toObject",value:function(){return $k($k({},to(g(r.prototype),"toObject",this).call(this)),{},{matrix:u(this.matrix)})}}]),r}(tN);function lN(e,t){var r,n=(Zk(r=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"toObject",value:function(){return{type:this.type,colorsOnly:this.colorsOnly}}}]),r}(cN),"type",e),Zk(r,"defaults",{colorsOnly:!1,matrix:t}),r);return X_.setClass(n,e),n}Zk(cN,"type","ColorMatrix"),Zk(cN,"defaults",{matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0}),Zk(cN,"uniformLocations",["uColorMatrix","uConstants"]),X_.setClass(cN);var dN=lN("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]),fN=lN("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]),hN=lN("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]),pN=lN("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]),vN=lN("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]),gN=lN("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]),mN=lN("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]),yN=function(e){v(r,e);var t=b(r);function r(){var e;c(this,r);var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=t.call(this,n)).subFilters=n.subFilters||[],e}return h(r,[{key:"applyTo",value:function(e){KR(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach((function(t){t.applyTo(e)}))}},{key:"toObject",value:function(){return{type:this.type,subFilters:this.subFilters.map((function(e){return e.toObject()}))}}},{key:"isNeutralState",value:function(){return!this.subFilters.some((function(e){return!e.isNeutralState()}))}}],[{key:"fromObject",value:function(e,t){var r=this;return Promise.all((e.subFilters||[]).map((function(e){return X_.getClass(e.type).fromObject(e,t)}))).then((function(e){return new r({subFilters:e})}))}}]),r}(tN);Zk(yN,"type","Composed"),X_.setClass(yN);var bN=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"getFragmentSource",value:function(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uContrast;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\n    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;\n    gl_FragColor = color;\n  }"}},{key:"isNeutralState",value:function(){return 0===this.contrast}},{key:"applyTo2d",value:function(e){for(var t=e.imageData.data,r=Math.floor(255*this.contrast),n=259*(r+255)/(255*(259-r)),i=0;i<t.length;i+=4)t[i]=n*(t[i]-128)+128,t[i+1]=n*(t[i+1]-128)+128,t[i+2]=n*(t[i+2]-128)+128}},{key:"sendUniformData",value:function(e,t){e.uniform1f(t.uContrast,this.contrast)}}]),r}(tN);Zk(bN,"type","Contrast"),Zk(bN,"defaults",{contrast:0}),Zk(bN,"uniformLocations",["uContrast"]),X_.setClass(bN);var SN={Convolute_3_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[9];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 3.0; h+=1.0) {\n        for (float w = 0.0; w < 3.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_3_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[9];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 3.0; h+=1.0) {\n        for (float w = 0.0; w < 3.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",Convolute_5_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[25];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 5.0; h+=1.0) {\n        for (float w = 0.0; w < 5.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_5_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[25];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 5.0; h+=1.0) {\n        for (float w = 0.0; w < 5.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",Convolute_7_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[49];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 7.0; h+=1.0) {\n        for (float w = 0.0; w < 7.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_7_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[49];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 7.0; h+=1.0) {\n        for (float w = 0.0; w < 7.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",Convolute_9_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[81];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 9.0; h+=1.0) {\n        for (float w = 0.0; w < 9.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_9_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[81];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 9.0; h+=1.0) {\n        for (float w = 0.0; w < 9.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    "},EN=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"getCacheKey",value:function(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}},{key:"getFragmentSource",value:function(){return SN[this.getCacheKey()]}},{key:"applyTo2d",value:function(e){var t,r,n,i,a,o,s,u,c,l,d,f,h,p=e.imageData,v=p.data,g=this.matrix,m=Math.round(Math.sqrt(g.length)),y=Math.floor(m/2),b=p.width,S=p.height,E=e.ctx.createImageData(b,S),x=E.data,w=this.opaque?1:0;for(d=0;d<S;d++)for(l=0;l<b;l++){for(a=4*(d*b+l),t=0,r=0,n=0,i=0,h=0;h<m;h++)for(f=0;f<m;f++)o=l+f-y,(s=d+h-y)<0||s>=S||o<0||o>=b||(u=4*(s*b+o),c=g[h*m+f],t+=v[u]*c,r+=v[u+1]*c,n+=v[u+2]*c,w||(i+=v[u+3]*c));x[a]=t,x[a+1]=r,x[a+2]=n,x[a+3]=w?v[a+3]:i}e.imageData=E}},{key:"sendUniformData",value:function(e,t){e.uniform1fv(t.uMatrix,this.matrix)}},{key:"toObject",value:function(){return $k($k({},to(g(r.prototype),"toObject",this).call(this)),{},{opaque:this.opaque,matrix:u(this.matrix)})}}]),r}(tN);Zk(EN,"type","Convolute"),Zk(EN,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),Zk(EN,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),X_.setClass(EN);var xN="Gamma",wN=function(e){v(r,e);var t=b(r);function r(){var e;c(this,r);var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=t.call(this,n)).gamma=n.gamma||e.constructor.defaults.gamma.concat(),e}return h(r,[{key:"getFragmentSource",value:function(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform vec3 uGamma;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    vec3 correction = (1.0 / uGamma);\n    color.r = pow(color.r, correction.r);\n    color.g = pow(color.g, correction.g);\n    color.b = pow(color.b, correction.b);\n    gl_FragColor = color;\n    gl_FragColor.rgb *= color.a;\n  }\n"}},{key:"applyTo2d",value:function(e){var t=e.imageData.data,r=this.gamma,n=1/r[0],i=1/r[1],a=1/r[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});for(var o=this.rgbValues,s=0;s<256;s++)o.r[s]=255*Math.pow(s/255,n),o.g[s]=255*Math.pow(s/255,i),o.b[s]=255*Math.pow(s/255,a);for(var u=0;u<t.length;u+=4)t[u]=o.r[t[u]],t[u+1]=o.g[t[u+1]],t[u+2]=o.b[t[u+2]]}},{key:"sendUniformData",value:function(e,t){e.uniform3fv(t.uGamma,this.gamma)}},{key:"isNeutralState",value:function(){var e=this.gamma;return 1===e[0]&&1===e[1]&&1===e[2]}},{key:"toObject",value:function(){return{type:xN,gamma:this.gamma.concat()}}}]),r}(tN);Zk(wN,"type",xN),Zk(wN,"defaults",{gamma:[1,1,1]}),Zk(wN,"uniformLocations",["uGamma"]),X_.setClass(wN);var kN={average:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      float average = (color.r + color.b + color.g) / 3.0;\n      gl_FragColor = vec4(average, average, average, color.a);\n    }\n    ",lightness:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform int uMode;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 col = texture2D(uTexture, vTexCoord);\n      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\n      gl_FragColor = vec4(average, average, average, col.a);\n    }\n    ",luminosity:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform int uMode;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 col = texture2D(uTexture, vTexCoord);\n      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\n      gl_FragColor = vec4(average, average, average, col.a);\n    }\n    "},_N=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"applyTo2d",value:function(e){for(var t,r=e.imageData.data,n=0;n<r.length;n+=4){switch(this.mode){case"average":t=(r[n]+r[n+1]+r[n+2])/3;break;case"lightness":t=(Math.min(r[n],r[n+1],r[n+2])+Math.max(r[n],r[n+1],r[n+2]))/2;break;case"luminosity":t=.21*r[n]+.72*r[n+1]+.07*r[n+2]}r[n]=t,r[n+1]=t,r[n+2]=t}}},{key:"getCacheKey",value:function(){return"".concat(this.type,"_").concat(this.mode)}},{key:"getFragmentSource",value:function(){return kN[this.mode]}},{key:"sendUniformData",value:function(e,t){e.uniform1i(t.uMode,1)}},{key:"isNeutralState",value:function(){return!1}}]),r}(tN);Zk(_N,"type","Grayscale"),Zk(_N,"defaults",{mode:"average"}),Zk(_N,"uniformLocations",["uMode"]),X_.setClass(_N);var TN=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"calculateMatrix",value:function(){var e=this.rotation*Math.PI,t=Q_(e),r=$_(e),n=1/3,i=Math.sqrt(n)*r,a=1-t;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=t+a/3,this.matrix[1]=n*a-i,this.matrix[2]=n*a+i,this.matrix[5]=n*a+i,this.matrix[6]=t+n*a,this.matrix[7]=n*a-i,this.matrix[10]=n*a-i,this.matrix[11]=n*a+i,this.matrix[12]=t+n*a}},{key:"isNeutralState",value:function(){return 0===this.rotation}},{key:"applyTo",value:function(e){this.calculateMatrix(),to(g(r.prototype),"applyTo",this).call(this,e)}},{key:"toObject",value:function(){return{type:this.type,rotation:this.rotation}}}]),r}(cN);Zk(TN,"type","HueRotation"),Zk(TN,"defaults",{rotation:0}),X_.setClass(TN);var AN=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"applyTo2d",value:function(e){for(var t=e.imageData.data,r=0;r<t.length;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2],this.alpha&&(t[r+3]=255-t[r+3])}},{key:"getFragmentSource",value:function(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform int uInvert;\n  uniform int uAlpha;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    if (uInvert == 1) {\n      if (uAlpha == 1) {\n        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);\n      } else {\n        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n      }\n    } else {\n      gl_FragColor = color;\n    }\n  }\n"}},{key:"isNeutralState",value:function(){return!this.invert}},{key:"sendUniformData",value:function(e,t){e.uniform1i(t.uInvert,Number(this.invert)),e.uniform1i(t.uAlpha,Number(this.alpha))}}]),r}(tN);Zk(AN,"type","Invert"),Zk(AN,"defaults",{alpha:!1,invert:!0}),Zk(AN,"uniformLocations",["uInvert","uAlpha"]),X_.setClass(AN);var CN=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"getFragmentSource",value:function(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uStepH;\n  uniform float uNoise;\n  uniform float uSeed;\n  varying vec2 vTexCoord;\n  float rand(vec2 co, float seed, float vScale) {\n    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n  }\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\n    gl_FragColor = color;\n  }\n"}},{key:"applyTo2d",value:function(e){for(var t=e.imageData.data,r=this.noise,n=0;n<t.length;n+=4){var i=(.5-Math.random())*r;t[n]+=i,t[n+1]+=i,t[n+2]+=i}}},{key:"sendUniformData",value:function(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())}},{key:"isNeutralState",value:function(){return 0===this.noise}}]),r}(tN);Zk(CN,"type","Noise"),Zk(CN,"defaults",{noise:0}),Zk(CN,"uniformLocations",["uNoise","uSeed"]),X_.setClass(CN);var PN=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"applyTo2d",value:function(e){for(var t=e.imageData,r=t.data,n=t.width,i=t.height,a=0;a<i;a+=this.blocksize)for(var o=0;o<n;o+=this.blocksize)for(var s=4*a*n+4*o,u=r[s],c=r[s+1],l=r[s+2],d=r[s+3],f=a;f<Math.min(a+this.blocksize,i);f++)for(var h=o;h<Math.min(o+this.blocksize,n);h++){var p=4*f*n+4*h;r[p]=u,r[p+1]=c,r[p+2]=l,r[p+3]=d}}},{key:"isNeutralState",value:function(){return 1===this.blocksize}},{key:"getFragmentSource",value:function(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uBlocksize;\n  uniform float uStepW;\n  uniform float uStepH;\n  varying vec2 vTexCoord;\n  void main() {\n    float blockW = uBlocksize * uStepW;\n    float blockH = uBlocksize * uStepH;\n    int posX = int(vTexCoord.x / blockW);\n    int posY = int(vTexCoord.y / blockH);\n    float fposX = float(posX);\n    float fposY = float(posY);\n    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\n    vec4 color = texture2D(uTexture, squareCoords);\n    gl_FragColor = color;\n  }\n"}},{key:"sendUniformData",value:function(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}]),r}(tN);Zk(PN,"type","Pixelate"),Zk(PN,"defaults",{blocksize:4}),Zk(PN,"uniformLocations",["uBlocksize"]),X_.setClass(PN);var IN=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"getFragmentSource",value:function(){return"\nprecision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\n  gl_FragColor = texture2D(uTexture, vTexCoord);\n  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\n    gl_FragColor.a = 0.0;\n  }\n}\n"}},{key:"applyTo2d",value:function(e){for(var t=e.imageData.data,r=255*this.distance,n=new BT(this.color).getSource(),i=[n[0]-r,n[1]-r,n[2]-r],a=[n[0]+r,n[1]+r,n[2]+r],o=0;o<t.length;o+=4){var s=t[o],u=t[o+1],c=t[o+2];s>i[0]&&u>i[1]&&c>i[2]&&s<a[0]&&u<a[1]&&c<a[2]&&(t[o+3]=0)}}},{key:"sendUniformData",value:function(e,t){var r=new BT(this.color).getSource(),n=this.distance,i=[0+r[0]/255-n,0+r[1]/255-n,0+r[2]/255-n,1],a=[r[0]/255+n,r[1]/255+n,r[2]/255+n,1];e.uniform4fv(t.uLow,i),e.uniform4fv(t.uHigh,a)}}]),r}(tN);Zk(IN,"type","RemoveColor"),Zk(IN,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),Zk(IN,"uniformLocations",["uLow","uHigh"]),X_.setClass(IN);var ON=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"sendUniformData",value:function(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)}},{key:"getFilterWindow",value:function(){var e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}},{key:"getCacheKey",value:function(){var e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}},{key:"getFragmentSource",value:function(){var e=this.getFilterWindow();return this.generateShader(e)}},{key:"getTaps",value:function(){for(var e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,r=this.getFilterWindow(),n=new Array(r),i=1;i<=r;i++)n[i-1]=e(i*t);return n}},{key:"generateShader",value:function(e){for(var t=new Array(e),r=1;r<=e;r++)t[r-1]="".concat(r,".0 * uDelta");return"\n      precision highp float;\n      uniform sampler2D uTexture;\n      uniform vec2 uDelta;\n      varying vec2 vTexCoord;\n      uniform float uTaps[".concat(e,"];\n      void main() {\n        vec4 color = texture2D(uTexture, vTexCoord);\n        float sum = 1.0;\n        ").concat(t.map((function(e,t){return"\n              color += texture2D(uTexture, vTexCoord + ".concat(e,") * uTaps[").concat(t,"] + texture2D(uTexture, vTexCoord - ").concat(e,") * uTaps[").concat(t,"];\n              sum += 2.0 * uTaps[").concat(t,"];\n            ")})).join("\n"),"\n        gl_FragColor = color / sum;\n      }\n    ")}},{key:"applyToForWebgl",value:function(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,to(g(r.prototype),"applyTo",this).call(this,e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,to(g(r.prototype),"applyTo",this).call(this,e),e.sourceHeight=e.destinationHeight}},{key:"applyTo",value:function(e){KR(e)?this.applyToForWebgl(e):this.applyTo2d(e)}},{key:"isNeutralState",value:function(){return 1===this.scaleX&&1===this.scaleY}},{key:"lanczosCreate",value:function(e){return function(t){if(t>=e||t<=-e)return 0;if(t<1.1920929e-7&&t>-1.1920929e-7)return 1;var r=(t*=Math.PI)/e;return Math.sin(t)/t*Math.sin(r)/r}}},{key:"applyTo2d",value:function(e){var t=e.imageData,r=this.scaleX,n=this.scaleY;this.rcpScaleX=1/r,this.rcpScaleY=1/n;var i,a=t.width,o=t.height,s=Math.round(a*r),u=Math.round(o*n);i="sliceHack"===this.resizeType?this.sliceByTwo(e,a,o,s,u):"hermite"===this.resizeType?this.hermiteFastResize(e,a,o,s,u):"bilinear"===this.resizeType?this.bilinearFiltering(e,a,o,s,u):"lanczos"===this.resizeType?this.lanczosResize(e,a,o,s,u):new ImageData(s,u),e.imageData=i}},{key:"sliceByTwo",value:function(e,t,r,n,i){var a=e.imageData,o=.5,s=!1,u=!1,c=t*o,l=r*o,d=e.filterBackend.resources,f=0,h=0,p=t,v=0;d.sliceByTwo||(d.sliceByTwo=cT());var g=d.sliceByTwo;(g.width<1.5*t||g.height<r)&&(g.width=1.5*t,g.height=r);var m=g.getContext("2d");for(m.clearRect(0,0,1.5*t,r),m.putImageData(a,0,0),n=Math.floor(n),i=Math.floor(i);!s||!u;)t=c,r=l,n<Math.floor(c*o)?c=Math.floor(c*o):(c=n,s=!0),i<Math.floor(l*o)?l=Math.floor(l*o):(l=i,u=!0),m.drawImage(g,f,h,t,r,p,v,c,l),f=p,h=v,v+=l;return m.getImageData(f,h,n,i)}},{key:"lanczosResize",value:function(e,t,r,n,i){var a=e.imageData.data,o=e.ctx.createImageData(n,i),s=o.data,u=this.lanczosCreate(this.lanczosLobes),c=this.rcpScaleX,l=this.rcpScaleY,d=2/this.rcpScaleX,f=2/this.rcpScaleY,h=Math.ceil(c*this.lanczosLobes/2),p=Math.ceil(l*this.lanczosLobes/2),v={},g={x:0,y:0},m={x:0,y:0};return function e(y){var b,S,E,x,w,k,_,T,A,C,P;for(g.x=(y+.5)*c,m.x=Math.floor(g.x),b=0;b<i;b++){for(g.y=(b+.5)*l,m.y=Math.floor(g.y),w=0,k=0,_=0,T=0,A=0,S=m.x-h;S<=m.x+h;S++)if(!(S<0||S>=t)){C=Math.floor(1e3*Math.abs(S-g.x)),v[C]||(v[C]={});for(var I=m.y-p;I<=m.y+p;I++)I<0||I>=r||(P=Math.floor(1e3*Math.abs(I-g.y)),v[C][P]||(v[C][P]=u(Math.sqrt(Math.pow(C*d,2)+Math.pow(P*f,2))/1e3)),(E=v[C][P])>0&&(w+=E,k+=E*a[x=4*(I*t+S)],_+=E*a[x+1],T+=E*a[x+2],A+=E*a[x+3]))}s[x=4*(b*n+y)]=k/w,s[x+1]=_/w,s[x+2]=T/w,s[x+3]=A/w}return++y<n?e(y):o}(0)}},{key:"bilinearFiltering",value:function(e,t,r,n,i){var a,o,s,u,c,l,d,f,h,p=0,v=this.rcpScaleX,g=this.rcpScaleY,m=4*(t-1),y=e.imageData.data,b=e.ctx.createImageData(n,i),S=b.data;for(s=0;s<i;s++)for(u=0;u<n;u++)for(c=v*u-(a=Math.floor(v*u)),l=g*s-(o=Math.floor(g*s)),h=4*(o*t+a),d=0;d<4;d++)f=y[h+d]*(1-c)*(1-l)+y[h+4+d]*c*(1-l)+y[h+m+d]*l*(1-c)+y[h+m+4+d]*c*l,S[p++]=f;return b}},{key:"hermiteFastResize",value:function(e,t,r,n,i){for(var a=this.rcpScaleX,o=this.rcpScaleY,s=Math.ceil(a/2),u=Math.ceil(o/2),c=e.imageData.data,l=e.ctx.createImageData(n,i),d=l.data,f=0;f<i;f++)for(var h=0;h<n;h++){for(var p=4*(h+f*n),v=0,g=0,m=0,y=0,b=0,S=0,E=0,x=(f+.5)*o,w=Math.floor(f*o);w<(f+1)*o;w++)for(var k=Math.abs(x-(w+.5))/u,_=(h+.5)*a,T=k*k,A=Math.floor(h*a);A<(h+1)*a;A++){var C=Math.abs(_-(A+.5))/s,P=Math.sqrt(T+C*C);P>1&&P<-1||(v=2*P*P*P-3*P*P+1)>0&&(E+=v*c[(C=4*(A+w*t))+3],m+=v,c[C+3]<255&&(v=v*c[C+3]/250),y+=v*c[C],b+=v*c[C+1],S+=v*c[C+2],g+=v)}d[p]=y/g,d[p+1]=b/g,d[p+2]=S/g,d[p+3]=E/m}return l}}]),r}(tN);Zk(ON,"type","Resize"),Zk(ON,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),Zk(ON,"uniformLocations",["uDelta","uTaps"]),X_.setClass(ON);var RN=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"getFragmentSource",value:function(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uSaturation;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float rgMax = max(color.r, color.g);\n    float rgbMax = max(rgMax, color.b);\n    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\n    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\n    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\n    gl_FragColor = color;\n  }\n"}},{key:"applyTo2d",value:function(e){for(var t=e.imageData.data,r=-this.saturation,n=0;n<t.length;n+=4){var i=Math.max(t[n],t[n+1],t[n+2]);t[n]+=i!==t[n]?(i-t[n])*r:0,t[n+1]+=i!==t[n+1]?(i-t[n+1])*r:0,t[n+2]+=i!==t[n+2]?(i-t[n+2])*r:0}}},{key:"sendUniformData",value:function(e,t){e.uniform1f(t.uSaturation,-this.saturation)}},{key:"isNeutralState",value:function(){return 0===this.saturation}}]),r}(tN);Zk(RN,"type","Saturation"),Zk(RN,"defaults",{saturation:0}),Zk(RN,"uniformLocations",["uSaturation"]),X_.setClass(RN);var NN=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"getFragmentSource",value:function(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uVibrance;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float max = max(color.r, max(color.g, color.b));\n    float avg = (color.r + color.g + color.b) / 3.0;\n    float amt = (abs(max - avg) * 2.0) * uVibrance;\n    color.r += max != color.r ? (max - color.r) * amt : 0.00;\n    color.g += max != color.g ? (max - color.g) * amt : 0.00;\n    color.b += max != color.b ? (max - color.b) * amt : 0.00;\n    gl_FragColor = color;\n  }\n"}},{key:"applyTo2d",value:function(e){for(var t=e.imageData.data,r=-this.vibrance,n=0;n<t.length;n+=4){var i=Math.max(t[n],t[n+1],t[n+2]),a=(t[n]+t[n+1]+t[n+2])/3,o=2*Math.abs(i-a)/255*r;t[n]+=i!==t[n]?(i-t[n])*o:0,t[n+1]+=i!==t[n+1]?(i-t[n+1])*o:0,t[n+2]+=i!==t[n+2]?(i-t[n+2])*o:0}}},{key:"sendUniformData",value:function(e,t){e.uniform1f(t.uVibrance,-this.vibrance)}},{key:"isNeutralState",value:function(){return 0===this.vibrance}}]),r}(tN);Zk(NN,"type","Vibrance"),Zk(NN,"defaults",{vibrance:0}),Zk(NN,"uniformLocations",["uVibrance"]),X_.setClass(NN);Object.freeze({__proto__:null,BaseFilter:tN,BlackWhite:mN,BlendColor:nN,BlendImage:oN,Blur:sN,Brightness:uN,Brownie:dN,ColorMatrix:cN,Composed:yN,Contrast:bN,Convolute:EN,Gamma:wN,Grayscale:_N,HueRotation:TN,Invert:AN,Kodachrome:hN,Noise:CN,Pixelate:PN,Polaroid:vN,RemoveColor:IN,Resize:ON,Saturation:RN,Sepia:gN,Technicolor:pN,Vibrance:NN,Vintage:fN});var LN=new aA("fabric-generation-canvas"),jN=ka("project/createProject",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.generator,i=t.aspectRatio,a=r.getState(),null!=(o=a.account.workspaceInfo)){e.next=5;break}throw Sn.ErrorH.newInternalError("Workspace info must be defined to create a project.");case 5:return e.next=7,r.dispatch(Yw.checkEmailVerified()).unwrap();case 7:return e.next=9,WM({generator:n,workspaceInfo:o,aspectRatio:i});case 9:return s=e.sent,r.dispatch(Yw.completeOnboardingTask({task:Sn.WorkspaceT.OnboardingTask.CREATE_PROJECT})),e.abrupt("return",{newProject:s});case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to create project.")})),MN=ka("project/loadProject",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c,l,d,f,h;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectId,i=r.getState(),a=i.account,o=i.media,null!=(s=a.workspaceInfo)){e.next=5;break}throw Sn.ErrorH.newInternalError("Workspace info must be defined to load a project.");case 5:return u=function(){var e=Ot(Pt().mark((function e(){var t,i,a,u,c,l,d;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zM({workspaceId:s.workspaceId,projectId:n});case 2:if(t=e.sent,!((i=Sn.ProjectH.getAllUnhydratedProjectAssetLocators(t,{storageIdFileRecord:o.storageIdFileRecord,stockVisualAssetMetadataStore:o.stockVisualAssetMetadataStore})).length>0)){e.next=21;break}return e.prev=5,e.next=8,Xw({dispatch:r.dispatch});case 8:return a=e.sent,e.next=11,Sn.ApiLibraryE.HydrateAssets.call(a,{assetLocators:i,requireAllLocatorsSucceed:!1});case 11:u=e.sent,c=u.resData,l=c.hydratedStorageFiles,d=c.stockVisualAssetMetadataStore,r.dispatch(Uk.addHydratedStorageFiles({newHydratedStorageFiles:l})),r.dispatch(Uk.addStockVisualAssetMetadataStore({newStockVisualAssetMetadataStore:d})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),r.dispatch(UM.handleError(e.t0,{defaultErr:Sn.ErrorH.newHiddenError("Failed to hydrate project assets."),forceHidden:!0}));case 21:return e.abrupt("return",t);case 22:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,YM({workspaceId:s.workspaceId,projectId:n});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),r.dispatch(UM.handleError(e.t0,{defaultErr:Sn.ErrorH.newHiddenError("Failed to get project internal info."),forceHidden:!0})),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),e.next=9,Sn.PromiseH.promisifyAll([u(),c()]);case 9:return l=e.sent,d=k(l,2),f=d[0],h=d[1],e.abrupt("return",{project:f,projectInternalInfo:h});case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to load project.")})),DN=function(){return function(e,t){var r=t().project.isGenerationLoading;Mx("play_preview"),e(r?ZN.setIsPreviewPlaying({newIsPreviewPlaying:!1}):ZN.setIsPreviewPlaying({newIsPreviewPlaying:!0}))}},FN=function(){return function(e,t){var r=t(),n=aw.selectPrivateWorkspaceInfo(r),i=(Sn.WorkspaceH.getNextHighestWorkspaceAuthLevel(Sn.WorkspaceH.getWorkspaceAuthLevel(n)),kk.selectHasTriggeredUpgradeFromPause(r));Mx("pause_preview");var a=r.project.timelineCurrentTime,o=kk.selectTimelineDuration(r);0!==o&&((a>=10||a>=o/2)&&(e(ZN.setHasTriggeredUpgradeFromPause({newHasTriggeredUpgradeFromPause:!0})),i||Sn.WorkspaceH.getWorkspaceAuthLevel(n)!==Sn.WorkspaceT.WorkspaceAuthLevel.FREE||e(kw())));e(ZN.setIsPreviewPlaying({newIsPreviewPlaying:!1}))}},UN=function(e){var t=e.newTimelineCurrentTime;return function(e,r){var n=r(),i=Sn.MathH.clip({num:t,min:0,max:kk.selectTimelineDuration(n)});e(ZN.setTimelineCurrentTime({newTimelineCurrentTime:i}))}},BN=ka("project/generateProject",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c,l,d,f,h,p,v;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectOverride,i=r.getState(),a=Yx()(null!==n&&void 0!==n?n:i.project.project),e.prev=3,null!=a){e.next=6;break}throw Sn.ErrorH.newInternalError("generateProject must be called within ProjectGate.");case 6:if(o=a.generator,null!=(s=i.account.workspaceInfo)){e.next=10;break}throw Sn.ErrorH.newInternalError("generateProject must be called within PrivateGate.");case 10:if(r.dispatch(FN()),r.dispatch(UN({newTimelineCurrentTime:0})),null==(u=Sn.GeneratorH.getGeneratorErrorMessage(o,{workspaceInfo:s}))){e.next=15;break}throw Sn.ErrorH.newWarningError(u);case 15:return Lx("generate"),r.dispatch(WN.generateTitle({})),e.next=19,Xw({dispatch:r.dispatch});case 19:return c=e.sent,e.next=22,Sn.ApiProjectE.GenerateProject.call(c,{project:a});case 22:return l=e.sent,d=l.resData,f=d.generatedBlock,h=d.newHydratedStorageFiles,p=d.newStockVisualAssetMetadataStore,r.dispatch(Uk.addHydratedStorageFiles({newHydratedStorageFiles:h})),r.dispatch(Uk.addStockVisualAssetMetadataStore({newStockVisualAssetMetadataStore:p})),r.dispatch(Yw.completeOnboardingTask({task:Sn.WorkspaceT.OnboardingTask.GENERATE})),Mx("generate",{status:"success",projectId:a.metadata.projectId,project:a}),e.abrupt("return",{initialProjectId:a.metadata.projectId,projectwideGenerationInput:{voice:Yx()(a.generator.voice),background:Yx()(a.generator.background),aspectRatio:Yx()(a.metadata.aspectRatio)},generatedBlock:f,newHydratedStorageFiles:h,newStockVisualAssetMetadataStore:p});case 32:if(e.prev=32,e.t0=e.catch(3),null!==Sn.ErrorH.convertUnknownErrorToPublicKnownError(e.t0).action){e.next=37;break}throw e.t0;case 37:throw Mx("generate",{status:"failure",projectId:null===a||void 0===a||null===(v=a.metadata)||void 0===v?void 0:v.projectId,project:a,error:e.t0}),e.t0;case 39:case"end":return e.stop()}}),e,null,[[3,32]])})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to generate video.")})),GN=ka("project/initiateExport",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c,l,d,f,h,p,v,g,m,y;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.minDimensionPixels,i=r.getState(),a=i.project,o=i.media,s=i.account,null!=a.project){e.next=5;break}throw Sn.ErrorH.newInternalError("initiateExport must be called within ProjectGate.");case 5:if(null!=s.workspaceInfo){e.next=7;break}throw Sn.ErrorH.newInternalError("initiateExport must be called within PrivateGate.");case 7:if(Sn.WorkspaceH.checkWorkspaceInfoSatisfiesAuthLevel({workspaceInfo:s.workspaceInfo,requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.STARTER,upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"download and share videos"}),null!=a.project.generator.block.generatedScriptElements&&null!=a.project.generator.block.backgroundVisualAssetReferences){e.next=10;break}throw Sn.ErrorH.newWarningError("Cannot download project until it is generated.");case 10:if(!isNaN(n)){e.next=12;break}throw Sn.ErrorH.newWarningError("Must select resolution to download.");case 12:return e.next=14,Xw({dispatch:r.dispatch});case 14:return u=e.sent,e.next=17,Sn.ApiExportE.CreateUnfulfilledExport.call(u,{exportProjectId:a.project.metadata.projectId});case 17:return c=e.sent,l=c.resData,d=l.newUnfulfilledExportInfo,f=kk.selectProjectExpandedCaptions(i),h=a.project.metadata.aspectRatio,p=function(){try{var e,t=Sn.AssetH.calculateWidthAndHeightPixels({minDimensionPixels:n,aspectRatio:h}),i=t.widthPixels,a=t.heightPixels;return LN.width=i,LN.height=a,null!==(e=null===f||void 0===f?void 0:f.map((function(e){return e.captionStyle.isHidden?null:(Sn.CanvasH.drawTextOnCanvas({fabricCanvas:LN,text:e.captionText,captionStyle:e.captionStyle,isPreview:!1,useNodeFabric:!1}),LN.toDataURL())})))&&void 0!==e?e:[]}catch(o){return r.dispatch(UM.handleError(o,{defaultErr:Sn.ErrorH.newHiddenError("Failed to generate foreground data URLs"),forceHidden:!0})),[]}}(),v={type:Sn.JobT.JobType.EXPORT,storageIdFileRecord:Yx()(o.storageIdFileRecord),stockVisualAssetMetadataStore:Yx()(o.stockVisualAssetMetadataStore),project:Yx()(a.project),minDimensionPixels:n,foregroundDataUrls:p,exportId:d.exportId},e.next=26,r.dispatch(Jk.initiateJob({jobInput:v})).unwrap();case 26:return g=e.sent,m=g.initialJob,y=Sn.PathH.addQueryParamsToUrl(Sn.AppH.getAppUrlForPath(Ix,"/view/".concat(d.exportId)),{initialJob:JSON.stringify(m)}),window.open(y,"_blank"),e.abrupt("return",{exportJobId:m.metadata.jobId});case 31:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to download video.")})),VN=ka("project/generateTitle",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c,l,d;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.scriptTextOverride,i=r.getState(),null!=(a=i.project.project)){e.next=5;break}throw Sn.ErrorH.newHiddenError("generateTitle must be called within ProjectGate.");case 5:if(o=a.metadata.projectId,Ax(a)){e.next=8;break}return e.abrupt("return",{initialProjectId:o});case 8:if(s=null!==n&&void 0!==n?n:a.generator.block.draftText){e.next=11;break}return e.abrupt("return",{initialProjectId:o});case 11:return e.next=13,Xw({dispatch:r.dispatch});case 13:return u=e.sent,e.next=16,Sn.ApiNlpE.GenerateTitle.call(u,{script:s});case 16:return c=e.sent,l=c.resData,d=l.title,e.abrupt("return",{initialProjectId:o,generatedTitle:d});case 20:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newHiddenError("Failed to generate title."),forceHidden:!0})),HN=ka("project/regenerateAsset",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c,l,d,f,h,p,v,g,m,y,b,S,E,x,w;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.backgroundRefId,a=r.getState(),null!=(o=a.project.project)){e.next=5;break}throw Sn.ErrorH.newHiddenError("regenerateAsset must be called within ProjectGate.");case 5:if(s=o.generator,u=o.metadata,c=s.background,l=s.block,null!=(d=null===(n=l.backgroundVisualAssetReferences)||void 0===n?void 0:n.find((function(e){return e.refId===i})))){e.next=10;break}return e.abrupt("return",{initialProjectId:u.projectId});case 10:return e.next=12,Xw({dispatch:r.dispatch});case 12:if(f=e.sent,!c.config.useCartoon){e.next=25;break}return h={type:Sn.StorageT.WorkspaceStorageScopeType.PROJECT,projectId:u.projectId},e.next=17,Sn.ApiDiffusionE.GenerateImage.call(f,{prompt:l.draftText,dalleImageSize:Sn.DiffusionH.aspectRatioToDalleImageSize({aspectRatio:u.aspectRatio}),storageScope:h});case 17:return p=e.sent,v=p.resData,g=v.hydratedStorageImageFile,r.dispatch(Uk.addHydratedStorageFiles({newHydratedStorageFiles:[g]})),m={type:Sn.AssetT.AssetLocatorType.STORAGE,storageScope:g.storageFileMetadata.storageScope,storageFileId:g.storageFileId},e.abrupt("return",{initialProjectId:u.projectId,newVisualAssetLocator:m});case 25:return e.next=27,Sn.ApiLibraryE.SearchLibrary.call(f,{query:l.draftText,aspectRatio:u.aspectRatio,libraryType:Sn.LibraryT.LibraryType.CORE});case 27:return y=e.sent,b=y.resData,S=b.stockVisualAssetLocators,E=b.stockVisualAssetMetadataStore,r.dispatch(Uk.addStockVisualAssetMetadataStore({newStockVisualAssetMetadataStore:E})),15,x=S.filter((function(e){return!sk()(d.locator,e)})).slice(0,15),w=Sn.ArrayH.selectRandomArrElement(x),e.abrupt("return",{initialProjectId:u.projectId,newVisualAssetLocator:w});case 35:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to regenerate asset.")})),WN={createProject:jN,loadProject:MN,revertToLastGeneratedProject:function(){return function(e,t){var r=t().project.project;if(null==r||null==r.generator.lastProjectwideGenerationInput||null==r.generator.block.generatedScriptElements)throw Sn.ErrorH.newWarningError("Last generated project either doesn't exist or is no longer available.");var n=Sn.ScriptH.generationToVgmlStr({scriptElements:r.generator.block.generatedScriptElements,generatedVoiceData:r.generator.lastProjectwideGenerationInput.voice});e(ZN.setProjectwideGenerationInput({newProjectwideGenerationInput:Yx()(r.generator.lastProjectwideGenerationInput)})),e(ZN.setBlockDraftText({newDraftText:n}))}},playPreview:DN,pausePreview:FN,moveAndAlignTimeline:UN,handleActionButtonPress:function(){return function(e,t){var r=t(),n=r.project;switch(kk.selectActionButtonState(r)){case ak.IS_STALE:e(FN()),n.isGenerationLoading||e(BN({}));break;case ak.IS_AT_END:e(UN({newTimelineCurrentTime:0})),e(DN());break;case ak.IS_PAUSED:e(DN());break;case ak.IS_PLAYING:e(FN())}}},handleTimeUpdate:function(e){var t=e.deltaMs;return function(e,r){var n=r(),i=n.project;if(null!=i.project){var a=kk.selectTimelineDuration(n);if(i.isPreviewPlaying){var o=Math.min(i.timelineCurrentTime+t/Sn.TimeC.MILLISECONDS_PER_SECOND,a);e(ZN.setTimelineCurrentTime({newTimelineCurrentTime:o})),o>=a&&e(FN())}}}},generateProject:BN,initiateExport:GN,generateTitle:VN,dragBackgroundAssetStartTime:function(e){var t=e.backgroundRefId,r=e.startTimeShift;return function(e,n){var i=n().project.project;if(null==i)throw Sn.ErrorH.newHiddenError("dragBackgroundAssetStartTime must be called within ProjectGate.");var a=i.generator.block.backgroundVisualAssetReferences;if(null!=a){var o=Sn.AssetH.dragBackgroundAssetTime({backgroundVisualAssetReferences:Yx()(a),backgroundRefId:t,dragType:"start",timeShift:r});e(ZN.setBlockBackgroundVisualAssetReferences({newBackgroundVisualAssetReferences:o}))}}},dragBackgroundAssetEndTime:function(e){var t=e.backgroundRefId,r=e.endTimeShift;return function(e,n){var i=n().project.project;if(null==i)throw Sn.ErrorH.newHiddenError("dragBackgroundAssetEndTime must be called within ProjectGate.");var a=i.generator.block.backgroundVisualAssetReferences;if(null!=a){var o=Sn.AssetH.dragBackgroundAssetTime({backgroundVisualAssetReferences:Yx()(a),backgroundRefId:t,dragType:"end",timeShift:r});e(ZN.setBlockBackgroundVisualAssetReferences({newBackgroundVisualAssetReferences:o}))}}},splitBackgroundAsset:function(e){var t=e.backgroundRefId;return function(e,r){var n=r().project.project;if(null==n)throw Sn.ErrorH.newHiddenError("splitBackgroundAsset must be called within ProjectGate.");var i=n.generator.block.backgroundVisualAssetReferences;null!=i&&e(ZN.setBlockBackgroundVisualAssetReferences({newBackgroundVisualAssetReferences:Sn.AssetH.splitBackgroundAsset({backgroundVisualAssetReferences:Yx()(i),backgroundRefId:t})}))}},deleteBackgroundAsset:function(e){var t=e.backgroundRefId;return function(e,r){var n=r().project.project;if(null==n)throw Sn.ErrorH.newHiddenError("deleteBackgroundAsset must be called within ProjectGate.");var i=n.generator.block.backgroundVisualAssetReferences;null!=i&&e(ZN.setBlockBackgroundVisualAssetReferences({newBackgroundVisualAssetReferences:Sn.AssetH.deleteBackgroundAsset({backgroundVisualAssetReferences:Yx()(i),backgroundRefId:t})}))}},regenerateAsset:HN},qN=function(e){return e.BACKGROUND="BACKGROUND",e}({}),zN={project:null,projectInternalInfo:null,expandedGeneratedScriptElements:null,expandedBackgroundVisualAssetReferences:null,timelineCurrentTime:0,isPreviewPlaying:!1,lastSavedEditSecondsSinceEpoch:null,failedSaveAttemptsStreak:0,isShowingGeneratorErrors:!1,isGenerationLoading:!1,isExportInitiationLoading:!1,isPreGeneratorLoading:!1,hasTriggeredUpgradeFromPause:!1,projectSidePanelSelection:null,isProjectSidePanelOpen:!1,selectedBackgroundRefId:null,focusedBackgroundRefId:null},YN=function(e){var t=e.state;Sn.TypeT.assignSourceToTarget({source:Yx()(zN),target:t})},XN=function(e){var t=e.state,r=e.newBackgroundVisualAssetReferences;null!=t.project&&(t.project.generator.block.backgroundVisualAssetReferences=null==r?null:Sn.AssetH.mapAssetReferencesToHaveUniqueRefIds(r))},KN=function(e){var t=e.state,r=e.backgroundRefId,n=e.transformBackgroundVisualAssetReference;if(null!=t.project){var i=t.project.generator.block.backgroundVisualAssetReferences;if(null!=i){var a=i.map((function(e){return e.refId===r?n(e):e}));XN({state:t,newBackgroundVisualAssetReferences:a})}}},JN=ya({name:"project",initialState:Yx()(zN),reducers:{resetProjectState:function(e,t){YN({state:e})},setBlockDraftText:function(e,t){var r=t.payload.newDraftText;null!=e.project&&(e.project.generator.block.draftText=r)},setBlockBackgroundVisualAssetReferences:function(e,t){var r=t.payload.newBackgroundVisualAssetReferences;XN({state:e,newBackgroundVisualAssetReferences:r})},setBlockBackgroundVisualAssetLocator:function(e,t){var r=t.payload,n=r.backgroundRefId,i=r.newVisualAssetLocator;KN({state:e,backgroundRefId:n,transformBackgroundVisualAssetReference:function(e){return ze(ze({},e),{},{locator:i})}})},setBlockBackgroundContainAndBlur:function(e,t){var r=t.payload,n=r.backgroundRefId,i=r.newContainAndBlur;KN({state:e,backgroundRefId:n,transformBackgroundVisualAssetReference:function(e){return ze(ze({},e),{},{containAndBlur:i})}})},setBlockBackgroundAnimationType:function(e,t){var r=t.payload,n=r.backgroundRefId,i=r.newAnimationType;KN({state:e,backgroundRefId:n,transformBackgroundVisualAssetReference:function(e){return ze(ze({},e),{},{animationType:i})}})},setBlockBackgroundTrimStartProportion:function(e,t){var r=t.payload,n=r.backgroundRefId,i=r.newTrimStartProportion;KN({state:e,backgroundRefId:n,transformBackgroundVisualAssetReference:function(e){var t,r,n=null!==(t=null===(r=e.trim)||void 0===r?void 0:r.endProportion)&&void 0!==t?t:1;return n-i<Sn.AssetC.MIN_TRIM_PROPORTION_GAP?e:ze(ze({},e),{},{trim:{startProportion:i,endProportion:n}})}})},setBlockBackgroundTrimEndProportion:function(e,t){var r=t.payload,n=r.backgroundRefId,i=r.newTrimEndProportion;KN({state:e,backgroundRefId:n,transformBackgroundVisualAssetReference:function(e){var t,r,n=null!==(t=null===(r=e.trim)||void 0===r?void 0:r.startProportion)&&void 0!==t?t:0;return i-n<Sn.AssetC.MIN_TRIM_PROPORTION_GAP?e:ze(ze({},e),{},{trim:{startProportion:n,endProportion:i}})}})},setProjectwideGenerationInput:function(e,t){var r=t.payload.newProjectwideGenerationInput;null!=e.project&&(e.project.generator.voice=r.voice,e.project.generator.background=r.background,e.project.metadata.aspectRatio=r.aspectRatio)},setBackground:function(e,t){var r=t.payload.newBackground;null!=e.project&&(e.project.generator.background=r)},setBackgroundSceneWordLengthThreshold:function(e,t){var r=t.payload.newSceneWordLengthThreshold;null!=e.project&&(e.project.generator.background.config.sceneWordLengthThreshold=r)},setBackgroundUseGetty:function(e,t){var r=t.payload.newUseGetty;null!=e.project&&(e.project.generator.background.config.useGetty=r)},setBackgroundUseCartoon:function(e,t){var r=t.payload.newUseCartoon;null!=e.project&&(e.project.generator.background.config.useCartoon=r)},setMusic:function(e,t){var r=t.payload.newMusic;null!=e.project&&(e.project.generator.music=r)},setMusicToVideoGenMusicSource:function(e,t){var r,n,i,a,o=t.payload.newVideoGenMusicSource;null!=e.project&&(e.project.generator.music={musicInfo:{title:o.title,artist:"AI Composer",licenseUrl:null},musicAssetReference:{refId:null!==(r=null===(n=e.project.generator.music)||void 0===n?void 0:n.musicAssetReference.refId)&&void 0!==r?r:Sn.AssetH.generateRandomRefId(),locator:{type:Sn.AssetT.AssetLocatorType.URL,url:o.audioUrl,thumbUrl:o.imgUrl},volume:null!==(i=null===(a=e.project.generator.music)||void 0===a?void 0:a.musicAssetReference.volume)&&void 0!==i?i:Sn.GeneratorC.DEFAULT_MUSIC_VOLUME}})},setMusicToStorageAudioFile:function(e,t){var r,n,i,a,o=t.payload.newStorageAudioFile;if(null!=e.project){var s=o.storageFileMetadata,u=o.storageFileId,c=s.storageScope,l=s.displayName;e.project.generator.music={musicInfo:{title:l,artist:"Your Media",licenseUrl:null},musicAssetReference:{refId:null!==(r=null===(n=e.project.generator.music)||void 0===n?void 0:n.musicAssetReference.refId)&&void 0!==r?r:Sn.AssetH.generateRandomRefId(),locator:{type:Sn.AssetT.AssetLocatorType.STORAGE,storageScope:c,storageFileId:u},volume:null!==(i=null===(a=e.project.generator.music)||void 0===a?void 0:a.musicAssetReference.volume)&&void 0!==i?i:Sn.GeneratorC.DEFAULT_MUSIC_VOLUME}}}},setMusicVolume:function(e,t){var r,n,i=t.payload.newMusicVolume;null!=(null===(r=e.project)||void 0===r||null===(n=r.generator.music)||void 0===n?void 0:n.musicAssetReference.volume)&&(e.project.generator.music.musicAssetReference.volume=Sn.MathH.clip({num:i,min:0,max:1}))},setVoiceTtsVoice:function(e,t){var r=t.payload.newTtsVoice;null!=e.project&&(e.project.generator.voice.ttsVoice=r)},setVoiceVolume:function(e,t){var r=t.payload.newVoiceVolume;null!=e.project&&(e.project.generator.voice.volume=r)},setVoicePronunciationReplacements:function(e,t){var r=t.payload.newPronunciationReplacements;null!=e.project&&(e.project.generator.voice.pronunciationReplacements=r)},setCaptionStyle:function(e,t){var r=t.payload.newCaptionStyle;null!=e.project&&(e.project.generator.captionStyle=r)},setCaptionStyleFontName:function(e,t){var r=t.payload.newFontName;null!=e.project&&(e.project.generator.captionStyle.font.fontName=r,e.project.generator.captionStyle.isHidden=!1)},setCaptionStyleFontSize:function(e,t){var r=t.payload.newFontSize;null!=e.project&&(e.project.generator.captionStyle.font.fontSize=r,e.project.generator.captionStyle.isHidden=!1)},toggleCaptionStyleFontWeightBold:function(e,t){null!=e.project&&(e.project.generator.captionStyle.font.fontWeight>=500?e.project.generator.captionStyle.font.fontWeight=400:e.project.generator.captionStyle.font.fontWeight=700,e.project.generator.captionStyle.isHidden=!1)},setCaptionStyleTextColor:function(e,t){var r=t.payload.newTextColor;null!=e.project&&(e.project.generator.captionStyle.textColor=r,e.project.generator.captionStyle.isHidden=!1)},setCaptionStyleTextJustification:function(e,t){var r=t.payload.newTextJustification;null!=e.project&&(e.project.generator.captionStyle.textJustification=r,e.project.generator.captionStyle.isHidden=!1)},setCaptionStyleVerticalAlignment:function(e,t){var r=t.payload.newVerticalAlignment;null!=e.project&&(e.project.generator.captionStyle.verticalAlignment=r,e.project.generator.captionStyle.isHidden=!1)},setCaptionStyleStrokeColor:function(e,t){var r=t.payload.newStrokeColor;null!=e.project&&(e.project.generator.captionStyle.strokeColor=r,e.project.generator.captionStyle.isHidden=!1)},setCaptionStyleStrokeWeight:function(e,t){var r=t.payload.newStrokeWeight;null!=e.project&&(e.project.generator.captionStyle.strokeWeight=r,e.project.generator.captionStyle.isHidden=!1)},toggleCaptionStyleIsHidden:function(e,t){null!=e.project&&(e.project.generator.captionStyle.isHidden=!e.project.generator.captionStyle.isHidden)},nullifyCaptionStyleBackgroundStyle:function(e,t){null!=e.project&&(e.project.generator.captionStyle.backgroundStyle=null,e.project.generator.captionStyle.isHidden=!1)},setCaptionStyleBackgroundColor:function(e,t){var r=t.payload.newBackgroundColor;null!=e.project&&(null==e.project.generator.captionStyle.backgroundStyle?e.project.generator.captionStyle.backgroundStyle={type:Sn.CanvasT.TextBackgroundStyleType.RECT,backgroundColor:r,borderRadiusProportion:.5,opacityProportion:1}:e.project.generator.captionStyle.backgroundStyle.backgroundColor=r,e.project.generator.captionStyle.isHidden=!1)},setCaptionStyleBackgroundStyleType:function(e,t){var r=t.payload.newBackgroundStyleType;null!=e.project&&null!=e.project.generator.captionStyle.backgroundStyle&&(e.project.generator.captionStyle.backgroundStyle.type=r,e.project.generator.captionStyle.isHidden=!1)},setCaptionStyleBackgroundStyleOpacity:function(e,t){var r=t.payload.newBackgroundOpacityProportion;null!=e.project&&null!=e.project.generator.captionStyle.backgroundStyle&&(e.project.generator.captionStyle.backgroundStyle.opacityProportion=r,e.project.generator.captionStyle.isHidden=!1)},setCaptionStyleBackgroundStyleBorderRadius:function(e,t){var r=t.payload.newBackgroundBorderRadiusProportion;null!=e.project&&null!=e.project.generator.captionStyle.backgroundStyle&&(e.project.generator.captionStyle.backgroundStyle.borderRadiusProportion=r,e.project.generator.captionStyle.isHidden=!1)},setTitle:function(e,t){if(null!=e.project){var r=t.payload.newTitle;e.project.metadata.title=r}},setAspectRatio:function(e,t){var r=t.payload.newAspectRatio;null!=e.project&&(e.project.metadata.aspectRatio=r)},setLastEditTime:function(e,t){var r=t.payload.newLastEditSecondsSinceEpoch;null!=e.project&&(e.project.metadata.lastEditSecondsSinceEpoch=r)},setExpandedGeneratedScriptElements:function(e,t){var r=t.payload.newExpandedGeneratedScriptElements;e.expandedGeneratedScriptElements=r},setExpandedBackgroundVisualAssetReferences:function(e,t){var r=t.payload.newExpandedBackgroundVisualAssetReferences;e.expandedBackgroundVisualAssetReferences=r},setTimelineCurrentTime:function(e,t){var r=t.payload.newTimelineCurrentTime;e.timelineCurrentTime=Sn.MathH.clip({num:r,min:0,max:null==e.project?0:Sn.ProjectH.getBlockDuration(e.project.generator.block)})},setIsPreviewPlaying:function(e,t){var r=t.payload.newIsPreviewPlaying;e.isPreviewPlaying=r},setHasTriggeredUpgradeFromPause:function(e,t){var r=t.payload.newHasTriggeredUpgradeFromPause;e.hasTriggeredUpgradeFromPause=r},handleSuccessfulProjectSave:function(e,t){var r=t.payload.savedEditSecondsSinceEpoch;e.lastSavedEditSecondsSinceEpoch=r,e.failedSaveAttemptsStreak=0},handleFailedProjectSave:function(e,t){e.failedSaveAttemptsStreak+=1},toggleIsProjectSidePanelOpen:function(e,t){e.isProjectSidePanelOpen=!e.isProjectSidePanelOpen},setFocusedBackgroundRefId:function(e,t){var r=t.payload.newFocusedBackgroundRefId;e.focusedBackgroundRefId=r},selectBackgroundAsset:function(e,t){var r=t.payload.backgroundRefId;e.projectSidePanelSelection={type:qN.BACKGROUND,backgroundRefId:r},e.isProjectSidePanelOpen=!0,e.selectedBackgroundRefId=r},deselectTimeline:function(e,t){e.focusedBackgroundRefId=null,e.selectedBackgroundRefId=null}},extraReducers:function(e){e.addCase(WN.createProject.pending,(function(e,t){YN({state:e})})).addCase(WN.createProject.fulfilled,(function(e,t){var r=t.payload.newProject;e.project=r})).addCase(WN.loadProject.pending,(function(e,t){YN({state:e})})).addCase(WN.loadProject.fulfilled,(function(e,t){var r=t.payload,n=r.project,i=r.projectInternalInfo;e.project=n,e.projectInternalInfo=i})).addCase(WN.generateProject.pending,(function(e,t){e.isGenerationLoading=!0})).addCase(WN.generateProject.fulfilled,(function(e,t){var r=t.payload,n=r.initialProjectId,i=r.projectwideGenerationInput,a=r.generatedBlock;e.isShowingGeneratorErrors=!1,e.isGenerationLoading=!1,null!=e.project&&e.project.metadata.projectId===n&&(e.project.generator.block=a,e.project.generator.lastProjectwideGenerationInput=i)})).addCase(WN.generateProject.rejected,(function(e,t){e.isShowingGeneratorErrors=!0,e.isGenerationLoading=!1})).addCase(WN.initiateExport.pending,(function(e,t){e.isExportInitiationLoading=!0})).addCase(WN.initiateExport.fulfilled,(function(e,t){e.isExportInitiationLoading=!1})).addCase(WN.initiateExport.rejected,(function(e,t){e.isExportInitiationLoading=!1})).addCase(WN.generateTitle.fulfilled,(function(e,t){var r,n=t.payload,i=n.initialProjectId,a=n.generatedTitle;i===(null===(r=e.project)||void 0===r?void 0:r.metadata.projectId)&&Ax(e.project)&&null!=a&&(e.project.metadata.title=a)})).addCase(WN.regenerateAsset.fulfilled,(function(e,t){var r,n=t.meta.arg.backgroundRefId,i=t.payload,a=i.initialProjectId,o=i.newVisualAssetLocator;a===(null===(r=e.project)||void 0===r?void 0:r.metadata.projectId)&&null!=o&&null!=e.project.generator.block.backgroundVisualAssetReferences&&(e.project.generator.block.backgroundVisualAssetReferences=e.project.generator.block.backgroundVisualAssetReferences.map((function(e){return e.refId===n?ze(ze({},e),{},{locator:o}):e})))}))}}),ZN=JN.actions,QN=JN,$N="8.30.0",eL=globalThis;function tL(e,t,r){var n=r||eL,i=n.__SENTRY__=n.__SENTRY__||{},a=i[$N]=i[$N]||{};return a[e]||(a[e]=t())}function rL(){return nL(eL),eL}function nL(e){var t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||$N,t[$N]=t[$N]||{}}var iL=Object.prototype.toString;function aL(e){switch(iL.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return vL(e,Error)}}function oL(e,t){return iL.call(e)==="[object ".concat(t,"]")}function sL(e){return oL(e,"ErrorEvent")}function uL(e){return oL(e,"DOMError")}function cL(e){return oL(e,"String")}function lL(e){return"object"===typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function dL(e){return null===e||lL(e)||"object"!==typeof e&&"function"!==typeof e}function fL(e){return oL(e,"Object")}function hL(e){return"undefined"!==typeof Event&&vL(e,Event)}function pL(e){return Boolean(e&&e.then&&"function"===typeof e.then)}function vL(e,t){try{return e instanceof t}catch(ig){return!1}}function gL(e){return!("object"!==typeof e||null===e||!e.__isVue&&!e._isVue)}var mL=eL,yL=80;function bL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"<unknown>";try{for(var r,n=e,i=[],a=0,o=0,s=Array.isArray(t)?t:t.keyAttrs,u=!Array.isArray(t)&&t.maxStringLength||yL;n&&a++<5&&!("html"===(r=SL(n,s))||a>1&&o+3*i.length+r.length>=u);)i.push(r),o+=r.length,n=n.parentNode;return i.reverse().join(" > ")}catch(c){return"<unknown>"}}function SL(e,t){var r=e,n=[];if(!r||!r.tagName)return"";if(mL.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());var i=t&&t.length?t.filter((function(e){return r.getAttribute(e)})).map((function(e){return[e,r.getAttribute(e)]})):null;if(i&&i.length)i.forEach((function(e){n.push("[".concat(e[0],'="').concat(e[1],'"]'))}));else{r.id&&n.push("#".concat(r.id));var a=r.className;if(a&&cL(a)){var o,s=T(a.split(/\s+/));try{for(s.s();!(o=s.n()).done;){var u=o.value;n.push(".".concat(u))}}catch(h){s.e(h)}finally{s.f()}}}for(var c=0,l=["aria-label","type","name","title","alt"];c<l.length;c++){var d=l[c],f=r.getAttribute(d);f&&n.push("[".concat(d,'="').concat(f,'"]'))}return n.join("")}function EL(){try{return mL.document.location.href}catch(e){return""}}function xL(e){if(!mL.HTMLElement)return null;for(var t=e,r=0;r<5;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}var wL="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,kL=["debug","info","warn","error","log","assert","trace"],_L={};function TL(e){if(!("console"in eL))return e();var t=eL.console,r={},n=Object.keys(_L);n.forEach((function(e){var n=_L[e];r[e]=t[e],t[e]=n}));try{return e()}finally{n.forEach((function(e){t[e]=r[e]}))}}var AL=tL("logger",(function(){var e=!1,t={enable:function(){e=!0},disable:function(){e=!1},isEnabled:function(){return e}};return wL?kL.forEach((function(r){t[r]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e&&TL((function(){var e;(e=eL.console)[r].apply(e,["".concat("Sentry Logger ","[").concat(r,"]:")].concat(n))}))}})):kL.forEach((function(e){t[e]=function(){}})),t}));function CL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!==typeof e||0===t||e.length<=t?e:"".concat(e.slice(0,t),"...")}function PL(e,t){if(!Array.isArray(e))return"";for(var r=[],n=0;n<e.length;n++){var i=e[n];try{gL(i)?r.push("[VueViewModel]"):r.push(String(i))}catch(a){r.push("[value cannot be serialized]")}}return r.join(t)}function IL(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!cL(e)&&(oL(t,"RegExp")?t.test(e):!!cL(t)&&(r?e===t:e.includes(t)))}function OL(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some((function(r){return IL(e,r,t)}))}function RL(e,t,r){if(t in e){var n=e[t],i=r(n);"function"===typeof i&&LL(i,n),e[t]=i}}function NL(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch(n){wL&&AL.log('Failed to add non-enumerable property "'.concat(t,'" to object'),e)}}function LL(e,t){try{var r=t.prototype||{};e.prototype=t.prototype=r,NL(e,"__sentry_original__",t)}catch(n){}}function jL(e){return e.__sentry_original__}function ML(e){if(aL(e))return ze({message:e.message,name:e.name,stack:e.stack},FL(e));if(hL(e)){var t=ze({type:e.type,target:DL(e.target),currentTarget:DL(e.currentTarget)},FL(e));return"undefined"!==typeof CustomEvent&&vL(e,CustomEvent)&&(t.detail=e.detail),t}return e}function DL(e){try{return t=e,"undefined"!==typeof Element&&vL(t,Element)?bL(e):Object.prototype.toString.call(e)}catch(r){return"<unknown>"}var t}function FL(e){if("object"===typeof e&&null!==e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}return{}}function UL(e){return BL(e,new Map)}function BL(e,t){if(function(e){if(!fL(e))return!1;try{var t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(r){return!0}}(e)){var r=t.get(e);if(void 0!==r)return r;var n={};t.set(e,n);for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i];"undefined"!==typeof e[o]&&(n[o]=BL(e[o],t))}return n}if(Array.isArray(e)){var s=t.get(e);if(void 0!==s)return s;var u=[];return t.set(e,u),e.forEach((function(e){u.push(BL(e,t))})),u}return e}function GL(){var e=eL,t=e.crypto||e.msCrypto,r=function(){return 16*Math.random()};try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=function(){var e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(ct){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(function(e){return(e^(15&r())>>e/4).toString(16)}))}function VL(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function HL(e){var t=e.message,r=e.event_id;if(t)return t;var n=VL(e);return n?n.type&&n.value?"".concat(n.type,": ").concat(n.value):n.type||n.value||r||"<unknown>":r||"<unknown>"}function WL(e,t,r){var n=e.exception=e.exception||{},i=n.values=n.values||[],a=i[0]=i[0]||{};a.value||(a.value=t||""),a.type||(a.type=r||"Error")}function qL(e,t){var r=VL(e);if(r){var n=r.mechanism;if(r.mechanism=ze(ze(ze({},{type:"generic",handled:!0}),n),t),t&&"data"in t){var i=ze(ze({},n&&n.data),t.data);r.mechanism.data=i}}}function zL(e){if(e&&e.__sentry_captured__)return!0;try{NL(e,"__sentry_captured__",!0)}catch(t){}return!1}function YL(e){return Array.isArray(e)?e:[e]}function XL(){return{traceId:GL(),spanId:GL().substring(16)}}var KL=1e3;function JL(){return Date.now()/KL}var ZL=function(){var e=eL.performance;if(!e||!e.now)return JL;var t=Date.now()-e.now(),r=void 0==e.timeOrigin?t:e.timeOrigin;return function(){return(r+e.now())/KL}}(),QL=function(){var e=eL.performance;if(e&&e.now){var t=36e5,r=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,a=i<t,o=e.timing&&e.timing.navigationStart,s="number"===typeof o?Math.abs(o+r-n):t;return a||s<t?i<=s?("timeOrigin",e.timeOrigin):("navigationStart",o):("dateNow",n)}"none"}();function $L(e){var t=ZL(),r={sid:GL(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:function(){return function(e){return UL({sid:"".concat(e.sid),init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"===typeof e.did||"string"===typeof e.did?"".concat(e.did):void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(r)}};return e&&ej(r,e),r}function ej(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ZL(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:GL()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did="".concat(t.did)),"number"===typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"===typeof t.duration)e.duration=t.duration;else{var r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"===typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}var tj="_sentrySpan";function rj(e,t){t?NL(e,tj,t):delete e[tj]}function nj(e){return e[tj]}var ij=function(){function e(){c(this,e),this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=XL()}return h(e,[{key:"clone",value:function(){var t=new e;return t._breadcrumbs=u(this._breadcrumbs),t._tags=ze({},this._tags),t._extra=ze({},this._extra),t._contexts=ze({},this._contexts),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=u(this._eventProcessors),t._requestSession=this._requestSession,t._attachments=u(this._attachments),t._sdkProcessingMetadata=ze({},this._sdkProcessingMetadata),t._propagationContext=ze({},this._propagationContext),t._client=this._client,t._lastEventId=this._lastEventId,rj(t,nj(this)),t}},{key:"setClient",value:function(e){this._client=e}},{key:"setLastEventId",value:function(e){this._lastEventId=e}},{key:"getClient",value:function(){return this._client}},{key:"lastEventId",value:function(){return this._lastEventId}},{key:"addScopeListener",value:function(e){this._scopeListeners.push(e)}},{key:"addEventProcessor",value:function(e){return this._eventProcessors.push(e),this}},{key:"setUser",value:function(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&ej(this._session,{user:e}),this._notifyScopeListeners(),this}},{key:"getUser",value:function(){return this._user}},{key:"getRequestSession",value:function(){return this._requestSession}},{key:"setRequestSession",value:function(e){return this._requestSession=e,this}},{key:"setTags",value:function(e){return this._tags=ze(ze({},this._tags),e),this._notifyScopeListeners(),this}},{key:"setTag",value:function(e,t){return this._tags=ze(ze({},this._tags),{},We({},e,t)),this._notifyScopeListeners(),this}},{key:"setExtras",value:function(e){return this._extra=ze(ze({},this._extra),e),this._notifyScopeListeners(),this}},{key:"setExtra",value:function(e,t){return this._extra=ze(ze({},this._extra),{},We({},e,t)),this._notifyScopeListeners(),this}},{key:"setFingerprint",value:function(e){return this._fingerprint=e,this._notifyScopeListeners(),this}},{key:"setLevel",value:function(e){return this._level=e,this._notifyScopeListeners(),this}},{key:"setTransactionName",value:function(e){return this._transactionName=e,this._notifyScopeListeners(),this}},{key:"setContext",value:function(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}},{key:"setSession",value:function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}},{key:"getSession",value:function(){return this._session}},{key:"update",value:function(e){if(!e)return this;var t="function"===typeof e?e(this):e,r=k(t instanceof aj?[t.getScopeData(),t.getRequestSession()]:fL(t)?[e,e.requestSession]:[],2),n=r[0],i=r[1],a=n||{},o=a.tags,s=a.extra,u=a.user,c=a.contexts,l=a.level,d=a.fingerprint,f=void 0===d?[]:d,h=a.propagationContext;return this._tags=ze(ze({},this._tags),o),this._extra=ze(ze({},this._extra),s),this._contexts=ze(ze({},this._contexts),c),u&&Object.keys(u).length&&(this._user=u),l&&(this._level=l),f.length&&(this._fingerprint=f),h&&(this._propagationContext=h),i&&(this._requestSession=i),this}},{key:"clear",value:function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,rj(this,void 0),this._attachments=[],this._propagationContext=XL(),this._notifyScopeListeners(),this}},{key:"addBreadcrumb",value:function(e,t){var r="number"===typeof t?t:100;if(r<=0)return this;var n=ze({timestamp:JL()},e),i=this._breadcrumbs;return i.push(n),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}},{key:"getLastBreadcrumb",value:function(){return this._breadcrumbs[this._breadcrumbs.length-1]}},{key:"clearBreadcrumbs",value:function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}},{key:"addAttachment",value:function(e){return this._attachments.push(e),this}},{key:"clearAttachments",value:function(){return this._attachments=[],this}},{key:"getScopeData",value:function(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:nj(this)}}},{key:"setSDKProcessingMetadata",value:function(e){return this._sdkProcessingMetadata=ze(ze({},this._sdkProcessingMetadata),e),this}},{key:"setPropagationContext",value:function(e){return this._propagationContext=e,this}},{key:"getPropagationContext",value:function(){return this._propagationContext}},{key:"captureException",value:function(e,t){var r=t&&t.event_id?t.event_id:GL();if(!this._client)return AL.warn("No client configured on scope - will not capture exception!"),r;var n=new Error("Sentry syntheticException");return this._client.captureException(e,ze(ze({originalException:e,syntheticException:n},t),{},{event_id:r}),this),r}},{key:"captureMessage",value:function(e,t,r){var n=r&&r.event_id?r.event_id:GL();if(!this._client)return AL.warn("No client configured on scope - will not capture message!"),n;var i=new Error(e);return this._client.captureMessage(e,t,ze(ze({originalException:e,syntheticException:i},r),{},{event_id:n}),this),n}},{key:"captureEvent",value:function(e,t){var r=t&&t.event_id?t.event_id:GL();return this._client?(this._client.captureEvent(e,ze(ze({},t),{},{event_id:r}),this),r):(AL.warn("No client configured on scope - will not capture event!"),r)}},{key:"_notifyScopeListeners",value:function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)}}]),e}(),aj=ij;var oj=function(){function e(t,r){var n,i;c(this,e),n=t||new aj,i=r||new aj,this._stack=[{scope:n}],this._isolationScope=i}return h(e,[{key:"withScope",value:function(e){var t,r=this,n=this._pushScope();try{t=e(n)}catch(i){throw this._popScope(),i}return pL(t)?t.then((function(e){return r._popScope(),e}),(function(e){throw r._popScope(),e})):(this._popScope(),t)}},{key:"getClient",value:function(){return this.getStackTop().client}},{key:"getScope",value:function(){return this.getStackTop().scope}},{key:"getIsolationScope",value:function(){return this._isolationScope}},{key:"getStackTop",value:function(){return this._stack[this._stack.length-1]}},{key:"_pushScope",value:function(){var e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}},{key:"_popScope",value:function(){return!(this._stack.length<=1)&&!!this._stack.pop()}}]),e}();function sj(){var e=nL(rL());return e.stack=e.stack||new oj(tL("defaultCurrentScope",(function(){return new aj})),tL("defaultIsolationScope",(function(){return new aj})))}function uj(e){return sj().withScope(e)}function cj(e,t){var r=sj();return r.withScope((function(){return r.getStackTop().scope=e,t(e)}))}function lj(e){return sj().withScope((function(){return e(sj().getIsolationScope())}))}function dj(e){var t=nL(e);return t.acs?t.acs:{withIsolationScope:lj,withScope:uj,withSetScope:cj,withSetIsolationScope:function(e,t){return lj(t)},getCurrentScope:function(){return sj().getScope()},getIsolationScope:function(){return sj().getIsolationScope()}}}function fj(){return dj(rL()).getCurrentScope()}function hj(){return dj(rL()).getIsolationScope()}function pj(){for(var e=dj(rL()),t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(2===r.length){var i=r[0],a=r[1];return i?e.withSetScope(i,a):e.withScope(a)}return e.withScope(r[0])}function vj(){return fj().getClient()}var gj="production";var mj=50,yj="?",bj=/\(error: (.*)\)/,Sj=/captureMessage|captureException/;function Ej(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.sort((function(e,t){return e[0]-t[0]})).map((function(e){return e[1]}));return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[],a=e.split("\n"),o=t;o<a.length;o++){var s=a[o];if(!(s.length>1024)){var u=bj.test(s)?s.replace(bj,"$1"):s;if(!u.match(/\S*Error: /)){var c,l=T(n);try{for(l.s();!(c=l.n()).done;){var d=(0,c.value)(u);if(d){i.push(d);break}}}catch(f){l.e(f)}finally{l.f()}if(i.length>=mj+r)break}}}return function(e){if(!e.length)return[];var t=Array.from(e);/sentryWrapped/.test(xj(t).function||"")&&t.pop();t.reverse(),Sj.test(xj(t).function||"")&&(t.pop(),Sj.test(xj(t).function||"")&&t.pop());return t.slice(0,mj).map((function(e){return ze(ze({},e),{},{filename:e.filename||xj(t).filename,function:e.function||yj})}))}(i.slice(r))}}function xj(e){return e[e.length-1]||{}}var wj,kj="<anonymous>";function _j(e){try{return e&&"function"===typeof e&&e.name||kj}catch(t){return kj}}function Tj(e){var t=e.exception;if(t){var r=[];try{return t.values.forEach((function(e){e.stacktrace.frames&&r.push.apply(r,u(e.stacktrace.frames))})),r}catch(n){return}}}function Aj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;try{return Pj("",e,t,r)}catch(n){return{ERROR:"**non-serializable** (".concat(n,")")}}}function Cj(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:102400,i=Aj(e,r);return t=i,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(t))>n?Cj(e,r-1,n):i}function Pj(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){var e="function"===typeof WeakSet,t=e?new WeakSet:[];return[function(r){if(e)return!!t.has(r)||(t.add(r),!1);for(var n=0;n<t.length;n++)if(t[n]===r)return!0;return t.push(r),!1},function(r){if(e)t.delete(r);else for(var n=0;n<t.length;n++)if(t[n]===r){t.splice(n,1);break}}]}(),a=k(i,2),o=a[0],s=a[1];if(null==t||["number","boolean","string"].includes(typeof t)&&!Number.isNaN(t))return t;var u=function(e,t){try{if("domain"===e&&t&&"object"===typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!==typeof global&&t===global)return"[Global]";if("undefined"!==typeof window&&t===window)return"[Window]";if("undefined"!==typeof document&&t===document)return"[Document]";if(gL(t))return"[VueViewModel]";if(fL(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"===typeof t&&t!==t)return"[NaN]";if("function"===typeof t)return"[Function: ".concat(_j(t),"]");if("symbol"===typeof t)return"[".concat(String(t),"]");if("bigint"===typeof t)return"[BigInt: ".concat(String(t),"]");var r=function(e){var t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(r)?"[HTMLElement: ".concat(r,"]"):"[object ".concat(r,"]")}catch(i){return"**non-serializable** (".concat(i,")")}var n}(e,t);if(!u.startsWith("[object "))return u;if(t.__sentry_skip_normalization__)return t;var c="number"===typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:r;if(0===c)return u.replace("object ","");if(o(t))return"[Circular ~]";var l=t;if(l&&"function"===typeof l.toJSON)try{return Pj("",l.toJSON(),c-1,n,i)}catch(g){}var d=Array.isArray(t)?[]:{},f=0,h=ML(t);for(var p in h)if(Object.prototype.hasOwnProperty.call(h,p)){if(f>=n){d[p]="[MaxProperties ~]";break}var v=h[p];d[p]=Pj(p,v,c-1,n,i),f++}return s(t),d}function Ij(e){return new Rj((function(t){t(e)}))}function Oj(e){return new Rj((function(t,r){r(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(wj||(wj={}));var Rj=function(){function e(t){c(this,e),e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=wj.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}return h(e,[{key:"then",value:function(t,r){var n=this;return new e((function(e,i){n._handlers.push([!1,function(r){if(t)try{e(t(r))}catch(n){i(n)}else e(r)},function(t){if(r)try{e(r(t))}catch(n){i(n)}else i(t)}]),n._executeHandlers()}))}},{key:"catch",value:function(e){return this.then((function(e){return e}),e)}},{key:"finally",value:function(t){var r=this;return new e((function(e,n){var i,a;return r.then((function(e){a=!1,i=e,t&&t()}),(function(e){a=!0,i=e,t&&t()})).then((function(){a?n(i):e(i)}))}))}},{key:"__init",value:function(){var e=this;this._resolve=function(t){e._setResult(wj.RESOLVED,t)}}},{key:"__init2",value:function(){var e=this;this._reject=function(t){e._setResult(wj.REJECTED,t)}}},{key:"__init3",value:function(){var e=this;this._setResult=function(t,r){e._state===wj.PENDING&&(pL(r)?r.then(e._resolve,e._reject):(e._state=t,e._value=r,e._executeHandlers()))}}},{key:"__init4",value:function(){var e=this;this._executeHandlers=function(){if(e._state!==wj.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t[0]||(e._state===wj.RESOLVED&&t[1](e._value),e._state===wj.REJECTED&&t[2](e._value),t[0]=!0)}))}}}}]),e}(),Nj="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Lj(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new Rj((function(i,a){var o=e[n];if(null===t||"function"!==typeof o)i(t);else{var s=o(ze({},t),r);Nj&&o.id&&null===s&&AL.log('Event processor "'.concat(o.id,'" dropped event')),pL(s)?s.then((function(t){return Lj(e,t,r,n+1).then(i)})).then(null,a):Lj(e,s,r,n+1).then(i).then(null,a)}}))}var jj="baggage",Mj="sentry-",Dj=/^sentry-/,Fj=8192;function Uj(e){var t=function(e){if(!e||!cL(e)&&!Array.isArray(e))return;if(Array.isArray(e))return e.reduce((function(e,t){var r=Gj(t);return Object.entries(r).forEach((function(t){var r=k(t,2),n=r[0],i=r[1];e[n]=i})),e}),{});return Gj(e)}(e);if(t){var r=Object.entries(t).reduce((function(e,t){var r=k(t,2),n=r[0],i=r[1];n.match(Dj)&&(e[n.slice(Mj.length)]=i);return e}),{});return Object.keys(r).length>0?r:void 0}}function Bj(e){if(e)return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce((function(e,t,r){var n=k(t,2),i=n[0],a=n[1],o="".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(a)),s=0===r?o:"".concat(e,",").concat(o);return s.length>Fj?(wL&&AL.warn("Not adding key: ".concat(i," with val: ").concat(a," to baggage header due to exceeding baggage size limits.")),e):s}),"")}(Object.entries(e).reduce((function(e,t){var r=k(t,2),n=r[0],i=r[1];return i&&(e["".concat(Mj).concat(n)]=i),e}),{}))}function Gj(e){return e.split(",").map((function(e){return e.split("=").map((function(e){return decodeURIComponent(e.trim())}))})).reduce((function(e,t){var r=k(t,2),n=r[0],i=r[1];return n&&i&&(e[n]=i),e}),{})}var Vj="sentry.source",Hj="sentry.sample_rate",Wj="sentry.op",qj="sentry.origin",zj="sentry.idle_span_finish_reason",Yj="sentry.measurement_unit",Xj="sentry.measurement_value",Kj="sentry.exclusive_time",Jj=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Zj(e,t){var r=function(e){if(e){var t,r=e.match(Jj);if(r)return"1"===r[3]?t=!0:"0"===r[3]&&(t=!1),{traceId:r[1],parentSampled:t,parentSpanId:r[2]}}}(e),n=Uj(t),i=r||{},a=i.traceId,o=i.parentSpanId,s=i.parentSampled;return r?{traceId:a||GL(),parentSpanId:o||GL().substring(16),spanId:GL().substring(16),sampled:s,dsc:n||{}}:{traceId:a||GL(),spanId:GL().substring(16)}}function Qj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GL(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:GL().substring(16),r=arguments.length>2?arguments[2]:void 0,n="";return void 0!==r&&(n=r?"-1":"-0"),"".concat(e,"-").concat(t).concat(n)}var $j="_sentryMetrics";function eM(e){var t=e[$j];if(t){var r,n={},i=T(t);try{for(i.s();!(r=i.n()).done;){var a=k(r.value,2),o=k(a[1],2),s=o[0],u=o[1];(n[s]||(n[s]=[])).push(UL(u))}}catch(c){i.e(c)}finally{i.f()}return n}}var tM=0,rM=1,nM=2;function iM(e,t){e.setAttribute("http.response.status_code",t);var r=function(e){if(e<400&&e>=100)return{code:rM};if(e>=400&&e<500)switch(e){case 401:return{code:nM,message:"unauthenticated"};case 403:return{code:nM,message:"permission_denied"};case 404:return{code:nM,message:"not_found"};case 409:return{code:nM,message:"already_exists"};case 413:return{code:nM,message:"failed_precondition"};case 429:return{code:nM,message:"resource_exhausted"};case 499:return{code:nM,message:"cancelled"};default:return{code:nM,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:nM,message:"unimplemented"};case 503:return{code:nM,message:"unavailable"};case 504:return{code:nM,message:"deadline_exceeded"};default:return{code:nM,message:"internal_error"}}return{code:nM,message:"unknown_error"}}(t);"unknown_error"!==r.message&&e.setStatus(r)}var aM=1;function oM(e){var t=e.spanContext(),r=t.spanId,n=t.traceId,i=dM(e),a=i.data,o=i.op;return UL({parent_span_id:i.parent_span_id,span_id:r,trace_id:n,data:a,op:o,status:i.status,origin:i.origin})}function sM(e){var t=e.spanContext(),r=t.spanId,n=t.traceId;return UL({parent_span_id:dM(e).parent_span_id,span_id:r,trace_id:n})}function uM(e){var t=e.spanContext();return Qj(t.traceId,t.spanId,fM(e))}function cM(e){return"number"===typeof e?lM(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?lM(e.getTime()):ZL()}function lM(e){return e>9999999999?e/1e3:e}function dM(e){if(function(e){return"function"===typeof e.getSpanJSON}(e))return e.getSpanJSON();try{var t=e.spanContext(),r=t.spanId,n=t.traceId;if(function(e){var t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}(e)){var i=e.attributes,a=e.startTime,o=e.name,s=e.endTime,u=e.parentSpanId,c=e.status;return UL({span_id:r,trace_id:n,data:i,description:o,parent_span_id:u,start_timestamp:cM(a),timestamp:cM(s)||void 0,status:hM(c),op:i[Wj],origin:i[qj],_metrics_summary:eM(e)})}return{span_id:r,trace_id:n}}catch(l){return{}}}function fM(e){return e.spanContext().traceFlags===aM}function hM(e){if(e&&e.code!==tM)return e.code===rM?"ok":e.message||"unknown_error"}var pM="_sentryChildSpans",vM="_sentryRootSpan";function gM(e,t){var r=e[vM]||e;NL(t,vM,r),e[pM]?e[pM].add(t):NL(e,pM,new Set([t]))}function mM(e){var t=new Set;return function e(r){if(!t.has(r)&&fM(r)){t.add(r);var n,i=T(r[pM]?Array.from(r[pM]):[]);try{for(i.s();!(n=i.n()).done;){e(n.value)}}catch(a){i.e(a)}finally{i.f()}}}(e),Array.from(t)}function yM(e){return e[vM]||e}function bM(){var e=dj(rL());return e.getActiveSpan?e.getActiveSpan():nj(fj())}var SM="_frozenDsc";function EM(e,t){NL(e,SM,t)}function xM(e,t){var r=t.getOptions(),n=(t.getDsn()||{}).publicKey,i=UL({environment:r.environment||gj,release:r.release,public_key:n,trace_id:e});return t.emit("createDsc",i),i}function wM(e){var t=vj();if(!t)return{};var r=xM(dM(e).trace_id||"",t),n=yM(e),i=n[SM];if(i)return i;var a=n.spanContext().traceState,o=a&&a.get("sentry.dsc"),s=o&&Uj(o);if(s)return s;var u=dM(n),c=u.data||{},l=c[Hj];null!=l&&(r.sample_rate="".concat(l));var d=c[Vj],f=u.description;return"url"!==d&&f&&(r.transaction=f),r.sampled=String(fM(n)),t.emit("createDsc",r,n),r}function kM(e,t){var r=t.fingerprint,n=t.span,i=t.breadcrumbs,a=t.sdkProcessingMetadata;!function(e,t){var r=t.extra,n=t.tags,i=t.user,a=t.contexts,o=t.level,s=t.transactionName,u=UL(r);u&&Object.keys(u).length&&(e.extra=ze(ze({},u),e.extra));var c=UL(n);c&&Object.keys(c).length&&(e.tags=ze(ze({},c),e.tags));var l=UL(i);l&&Object.keys(l).length&&(e.user=ze(ze({},l),e.user));var d=UL(a);d&&Object.keys(d).length&&(e.contexts=ze(ze({},d),e.contexts));o&&(e.level=o);s&&"transaction"!==e.type&&(e.transaction=s)}(e,t),n&&function(e,t){e.contexts=ze({trace:sM(t)},e.contexts),e.sdkProcessingMetadata=ze({dynamicSamplingContext:wM(t)},e.sdkProcessingMetadata);var r=yM(t),n=dM(r).description;n&&!e.transaction&&"transaction"===e.type&&(e.transaction=n)}(e,n),function(e,t){e.fingerprint=e.fingerprint?YL(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,r),function(e,t){var r=[].concat(u(e.breadcrumbs||[]),u(t));e.breadcrumbs=r.length?r:void 0}(e,i),function(e,t){e.sdkProcessingMetadata=ze(ze({},e.sdkProcessingMetadata),t)}(e,a)}function _M(e,t){var r=t.extra,n=t.tags,i=t.user,a=t.contexts,o=t.level,s=t.sdkProcessingMetadata,c=t.breadcrumbs,l=t.fingerprint,d=t.eventProcessors,f=t.attachments,h=t.propagationContext,p=t.transactionName,v=t.span;TM(e,"extra",r),TM(e,"tags",n),TM(e,"user",i),TM(e,"contexts",a),TM(e,"sdkProcessingMetadata",s),o&&(e.level=o),p&&(e.transactionName=p),v&&(e.span=v),c.length&&(e.breadcrumbs=[].concat(u(e.breadcrumbs),u(c))),l.length&&(e.fingerprint=[].concat(u(e.fingerprint),u(l))),d.length&&(e.eventProcessors=[].concat(u(e.eventProcessors),u(d))),f.length&&(e.attachments=[].concat(u(e.attachments),u(f))),e.propagationContext=ze(ze({},e.propagationContext),h)}function TM(e,t,r){if(r&&Object.keys(r).length)for(var n in e[t]=ze({},e[t]),r)Object.prototype.hasOwnProperty.call(r,n)&&(e[t][n]=r[n])}function AM(e,t,r,n,i,a){var o=e.normalizeDepth,s=void 0===o?3:o,c=e.normalizeMaxBreadth,l=void 0===c?1e3:c,d=ze(ze({},t),{},{event_id:t.event_id||r.event_id||GL(),timestamp:t.timestamp||JL()}),f=r.integrations||e.integrations.map((function(e){return e.name}));!function(e,t){var r=t.environment,n=t.release,i=t.dist,a=t.maxValueLength,o=void 0===a?250:a;"environment"in e||(e.environment="environment"in t?r:gj);void 0===e.release&&void 0!==n&&(e.release=n);void 0===e.dist&&void 0!==i&&(e.dist=i);e.message&&(e.message=CL(e.message,o));var s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=CL(s.value,o));var u=e.request;u&&u.url&&(u.url=CL(u.url,o))}(d,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[].concat(u(e.sdk.integrations||[]),u(t)))}(d,f),i&&i.emit("applyFrameMetadata",t),void 0===t.type&&function(e,t){var r,n=eL._sentryDebugIds;if(!n)return;var i=CM.get(t);i?r=i:(r=new Map,CM.set(t,r));var a=Object.entries(n).reduce((function(e,n){var i,a=k(n,2),o=a[0],s=a[1],u=r.get(o);u?i=u:(i=t(o),r.set(o,i));for(var c=i.length-1;c>=0;c--){var l=i[c];if(l.filename){e[l.filename]=s;break}}return e}),{});try{e.exception.values.forEach((function(e){e.stacktrace.frames.forEach((function(e){e.filename&&(e.debug_id=a[e.filename])}))}))}catch(o){}}(d,e.stackParser);var h=function(e,t){if(!t)return e;var r=e?e.clone():new aj;return r.update(t),r}(n,r.captureContext);r.mechanism&&qL(d,r.mechanism);var p=i?i.getEventProcessors():[],v=tL("globalScope",(function(){return new aj})).getScopeData();a&&_M(v,a.getScopeData());h&&_M(v,h.getScopeData());var g=[].concat(u(r.attachments||[]),u(v.attachments));return g.length&&(r.attachments=g),kM(d,v),Lj([].concat(u(p),u(v.eventProcessors)),d,r).then((function(e){return e&&function(e){var t={};try{e.exception.values.forEach((function(e){e.stacktrace.frames.forEach((function(e){e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(n){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];var r=e.debug_meta.images;Object.entries(t).forEach((function(e){var t=k(e,2),n=t[0],i=t[1];r.push({type:"sourcemap",code_file:n,debug_id:i})}))}(e),"number"===typeof s&&s>0?function(e,t,r){if(!e)return null;var n=ze(ze(ze(ze(ze({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((function(e){return ze(ze({},e),e.data&&{data:Aj(e.data,t,r)})}))}),e.user&&{user:Aj(e.user,t,r)}),e.contexts&&{contexts:Aj(e.contexts,t,r)}),e.extra&&{extra:Aj(e.extra,t,r)});e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=Aj(e.contexts.trace.data,t,r)));e.spans&&(n.spans=e.spans.map((function(e){return ze(ze({},e),e.data&&{data:Aj(e.data,t,r)})})));return n}(e,s,l):e}))}var CM=new WeakMap;function PM(e){if(e)return function(e){return e instanceof aj||"function"===typeof e}(e)||function(e){return Object.keys(e).some((function(e){return IM.includes(e)}))}(e)?{captureContext:e}:e}var IM=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function OM(e,t){return fj().captureException(e,PM(t))}function RM(e,t){return fj().captureEvent(e,t)}function NM(e,t){hj().setContext(e,t)}function LM(e){var t=vj(),r=hj(),n=fj(),i=t&&t.getOptions()||{},a=i.release,o=i.environment,s=void 0===o?gj:o,u=(eL.navigator||{}).userAgent,c=$L(ze(ze({release:a,environment:s,user:n.getUser()||r.getUser()},u&&{userAgent:u}),e)),l=r.getSession();return l&&"ok"===l.status&&ej(l,{status:"exited"}),jM(),r.setSession(c),n.setSession(c),c}function jM(){var e=hj(),t=fj(),r=t.getSession()||e.getSession();r&&function(e,t){var r={};t?r={status:t}:"ok"===e.status&&(r={status:"exited"}),ej(e,r)}(r),MM(),e.setSession(),t.setSession()}function MM(){var e=hj(),t=fj(),r=vj(),n=t.getSession()||e.getSession();n&&r&&r.captureSession(n)}function DM(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?jM():MM()}var FM=function(e){return function(t,r){switch(e.type){case Sn.ErrorT.KnownErrorActionType.UPGRADE:var n=e.upgradeRequirement,i=e.upgradeToIncreaseMessage,a=e;if(n.type===Sn.ErrorT.KnownErrorUpgradeRequirementType.USAGE_CREDITS){var o=n.usageCreditKey;"gettyAssetDownloads"===o&&t(ZN.setBackgroundUseGetty({newUseGetty:!1}));var s=Sn.WorkspaceC.USAGE_CREDIT_KEY_VISIBILITY_MAP[o];if(s===Sn.WorkspaceT.UsageCreditKeyVisibility.INTERNAL)return Mx("hit_internal_usage_credit_limit",{actionType:e.type,upgradeRequirementType:n.type,usageCreditKey:n.usageCreditKey,usageCreditKeyVisibility:s,action:e}),void St.error("We have detected unusual activity on your account. Please contact support@videogen.io to reactivate your account.");s===Sn.WorkspaceT.UsageCreditKeyVisibility.INTERNAL_WITH_GENERIC_UPGRADE_ACTION&&(a=ze(ze({},a),{},{upgradeToIncreaseMessage:"increase your usage limits"}))}return Mx("upgrade_action",{actionType:e.type,upgradeRequirementType:n.type,upgradeToIncreaseMessage:i,action:a}),void t(yw({upgradeAction:a}));case Sn.ErrorT.KnownErrorActionType.INVALID_PROMOTION_CODE:var u=e.invalidStripePromotionCode;return void t(tk.handleInvalidStripePromotionCode({invalidStripePromotionCode:u}));default:Sn.ErrorH.assertNever(e)}}},UM={handleError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r,n){var i=t.defaultErr,a=t.forceHidden,o=Sn.ErrorH.convertUnknownErrorToSecretKnownError(e,{defaultErr:i}),s=Sn.ErrorH.convertUnknownErrorToPublicKnownError(e,{defaultErr:i}),u=o.rawMessage,c=o.rawData,l=s.errorId,d=s.severity,f=s.displayMessage,h=s.action,p=s.isInternal,v=s.isHidden,g=s.sourceCommitInfo;d!==Sn.ErrorT.KnownErrorSeverity.FATAL||v||pj((function(t){t.setLevel("error"),OM(e instanceof Error?e:new Error(u||f),{data:o})}));var m=n(),y=Sn.TimeH.getCurrentSecondsSinceEpoch();if(!m.error.recentHandledErrors.some((function(e){var t=e.knownError,r=e.dispatchSecondsSinceEpoch;return(t.displayMessage===f||t.errorId===l)&&r>=y-Sn.ErrorC.ERROR_DISPLAY_SECONDS}))||null!=h){if(r(Wx.addRecentHandledError({knownError:Yx()(s)})),null==h)Mx(v?"hidden_error":"error",{err:e,errorId:l,severity:d,displayMessage:f,action:h,isInternal:p,isHidden:v,forceHidden:a,sourceCommitInfo:g,secretRawMessage:u,secretRawData:c});if(Ix===Sn.ConfigT.Environment.LOCAL&&console.error(o),!v&&!a){if((null==h||h.type===Sn.ErrorT.KnownErrorActionType.INVALID_PROMOTION_CODE)&&f)if(null!=g&&null!=nk&&g.shortSha!==nk.shortSha)St.warning("VideoGen's servers are currently undergoing an upgrade. Please try again in a few minutes.");else switch(d){case Sn.ErrorT.KnownErrorSeverity.FATAL:St.error(f);break;case Sn.ErrorT.KnownErrorSeverity.WARNING:St.warning(f)}null!=h&&r(FM(h))}}}},handleErrorAction:FM},BM=function(e){var t=e.workspaceId,r=e.newWorkspaceInfoCallback,n=e.onError,i=Vx()(r,250);return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i,a,o;e=Co(e);var s={includeMetadataChanges:!1,source:"default"},u=0;"object"!=typeof r[u]||kE(r[u])||(s=r[u],u++);var c,l,d,f={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(kE(r[u])){var h=r[u];r[u]=null===(i=h.next)||void 0===i?void 0:i.bind(h),r[u+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),r[u+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof bE)l=pE(e.firestore,_E),d=Lv(e._key.path),c={next:function(t){r[u]&&r[u](hx(l,e,t))},error:r[u+1],complete:r[u+2]};else{var p=pE(e,yE);l=pE(p.firestore,_E),d=p._query;var v=new ux(l);c={next:function(e){r[u]&&r[u](new ax(l,v,p,e))},error:r[u+1],complete:r[u+2]},$E(e._query)}return function(e,t,r,n){var i=new qS(n),a=new $b(t,i,r);return e.asyncQueue.enqueueAndForget(Ot(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=zb,t.next=3,iE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.$a(),e.asyncQueue.enqueueAndForget(Ot(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Xb,t.next=3,iE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(TE(l),d,f,c)}(xE(yx,"workspaces",t),function(){var e=Ot(Pt().mark((function e(r){var a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=function(){var e=Ot(Pt().mark((function e(){var n,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.exists()){e.next=7;break}if(n=r.data(),i=Sn.WorkspaceT.castAsWorkspaceInfo(n),Sn.WorkspaceH.fixWorkspaceInfoInPlace(i),!(null!=i.archiveSecondsSinceEpoch&&i.archiveSecondsSinceEpoch<Sn.TimeH.getCurrentSecondsSinceEpoch()-30)){e.next=6;break}throw Sn.ErrorH.newFatalError("This account has been deleted.");case 6:return e.abrupt("return",i);case 7:return e.abrupt("return",Sn.WorkspaceH.getDefaultWorkspaceInfo(t));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=4,a();case 4:o=e.sent,i(o),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n(Sn.ErrorH.convertUnknownErrorToSecretKnownError(e.t0,{defaultErr:Sn.ErrorH.newHiddenError("Failed to get latest workspace info.",{rawData:{workspaceId:t}}),forceHidden:!0}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},GM=10*Sn.TimeC.MILLISECONDS_PER_SECOND,VM=60*Sn.TimeC.MILLISECONDS_PER_SECOND,HM=function(){var e=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.saveCallback,e.next=3,new Promise((function(e,t){r().then(e).catch(t),setTimeout((function(){window.navigator.onLine||t(Sn.ErrorH.newHiddenError("Execeeded max offline saving time.",{rawData:{MAX_OFFLINE_SAVING_MS:GM}}))}),GM),setTimeout((function(){t(Sn.ErrorH.newHiddenError("Execeeded max saving time.",{rawData:{MAX_SAVING_MS:VM}}))}),VM)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),WM=function(){var e=Ot(Pt().mark((function e(t){var r,n,i,a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.workspaceInfo,n=t.generator,i=t.aspectRatio,a=r.workspaceId,e.next=4,ZM(a);case 4:if(!(e.sent>=Sn.ProjectC.MAX_NUM_PROJECTS)){e.next=7;break}throw Sn.ErrorH.newWarningError("Cannot create over ".concat(Sn.ProjectC.MAX_NUM_PROJECTS," projects. Contact support@videogen.io to request to increase this limit."));case 7:return o=_x(),s=Tx({generator:n,workspaceId:a,projectId:o,aspectRatio:i}),e.next=11,HM({saveCallback:function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lx(xE(yx,"workspaces",a,"projects",o),s);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 11:return Mx("create_project",{workspaceId:a,projectId:o,aspectRatio:i}),e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qM=function(){var e=Ot(Pt().mark((function e(t){var r,n,i,a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.project,n=r.metadata,i=n.projectId,a=n.workspaceId,o=xE(yx,"workspaces",a,"projects",i),s=Yx()(r),Sn.ProjectH.fixProjectInPlace(s),e.next=7,HM({saveCallback:function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lx(o,Sn.ProjectT.castAsProject(s));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zM=function(){var e=Ot(Pt().mark((function e(t){var r,n,i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.workspaceId,n=t.projectId,e.next=3,sx(xE(yx,"workspaces",r,"projects",n));case 3:if((i=e.sent).exists()){e.next=6;break}throw Sn.ErrorH.newFatalError("Failed to get project.");case 6:return a=Sn.ProjectT.castAsProject(i.data()),Sn.ProjectH.fixProjectInPlace(a),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),YM=function(){var e=Ot(Pt().mark((function e(t){var r,n,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.workspaceId,n=t.projectId,e.next=3,sx(xE(yx,"workspaces",r,"project-internals",n));case 3:if((i=e.sent).exists()){e.next=6;break}throw Sn.ErrorH.newHiddenError("Failed to get project internal info.");case 6:return e.abrupt("return",Sn.ProjectT.castAsProjectInternalInfo(i.data()));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),XM=function(){var e=Ot(Pt().mark((function e(t){var r,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.workspaceId,n=t.projectId,e.next=3,dx(xE(yx,"workspaces",r,"projects",n));case 3:Mx("delete_project",{workspaceId:r,projectId:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),KM=function(){var e=Ot(Pt().mark((function e(t){var r,n,i,a,o,s,u,c,l;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,n=t.workspaceId,i=t.workspaceSubcollectionName,a=t.castDocument,e.next=3,cx(EE(yx,"workspaces",n,i));case 3:return o=e.sent,u=Sn.TypeT.getArrayWithoutOmissions(o.docs.map((function(e){try{return a(e.data())}catch(t){return void(s=t)}}))),(c=o.docs.length-u.length)>0&&(l="".concat(Sn.StringH.numWithUnits(c,i)," in your workspace are corrupted. Contact support for help recovering your files."),r(UM.handleError(Sn.ErrorH.newFatalError(l,{rawData:{lastCastingErr:s}})))),e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),JM=function(){var e=Ot(Pt().mark((function e(t){var r,n,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,n=t.workspaceId,e.next=3,KM({dispatch:r,workspaceId:n,workspaceSubcollectionName:"projects",castDocument:Sn.ProjectT.castMaybeProjectAsProjectSummary});case 3:return i=e.sent,e.abrupt("return",i.sort((function(e,t){var r,n;return(null!==(r=t.metadata.lastEditSecondsSinceEpoch)&&void 0!==r?r:0)-(null!==(n=e.metadata.lastEditSecondsSinceEpoch)&&void 0!==n?n:0)})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ZM=function(){var e=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,px(EE(yx,"workspaces",t,"projects"));case 2:return r=e.sent,e.abrupt("return",r.data().count);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),QM=function(){var e=Ot(Pt().mark((function e(t){var r,n,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,n=t.workspaceId,e.next=3,KM({dispatch:r,workspaceId:n,workspaceSubcollectionName:"brands",castDocument:Sn.BrandT.castAsBrand});case 3:return i=e.sent,e.abrupt("return",i.sort((function(e,t){return t.lastEditSse-e.lastEditSse})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$M=function(e){var t=e.className;return(0,uw.jsx)("svg",{className:Dn("animate-spin",null!==t&&void 0!==t?t:""),fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,uw.jsx)("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})})},eD=["isLoading","disabled","children","className","innerClassName"],tD=function(e){var t=e.isLoading,r=e.disabled,n=e.children,i=e.className,a=e.innerClassName,o=He(e,eD);return(0,uw.jsx)("button",ze(ze({disabled:!!r||t,className:i},o),{},{children:(0,uw.jsxs)("div",{className:"relative",children:[(0,uw.jsx)("div",{className:Dn("h-full w-full",t?"invisible":"",null!==a&&void 0!==a?a:""),children:n}),(0,uw.jsx)("div",{className:Dn("absolute left-0 top-0 inline-flex h-full w-full items-center justify-center p-0.5",t?"":"hidden"),children:(0,uw.jsx)($M,{className:"h-full w-full"})})]})}))},rD=function(e){var r=e.dispatch,n=e.stripeInvoiceId,i=k((0,t.useState)(!1),2),a=i[0],o=i[1],s=(0,t.useCallback)(Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,r(Zw.voidInvoice({stripeInvoiceId:n})).unwrap();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),r(UM.handleError(e.t0));case 9:o(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])}))),[r,n]);return(0,uw.jsx)(tD,{onClick:s,className:"inline-block",isLoading:a,children:(0,uw.jsx)("u",{className:"font-medium hover:text-gray-500",children:"Click here"})})},nD=ya({name:"account",initialState:{simpleUser:null,isUserFetched:!1,workspaceInfo:null,unpaidInvoiceWarningToastId:null,initialPrivatePageUrlPath:null,hasShownInitialPrivatePageUrlPath:!1,countryCode:null,areAllCurrenciesEnabled:!1},reducers:{setSimpleUser:function(e,t){var r=t.payload.newSimpleUser;null!=e.simpleUser&&null==r&&(e.unpaidInvoiceWarningToastId=null),e.simpleUser=r,e.isUserFetched=!0},setWorkspaceInfo:function(e,t){var r=t.payload.newWorkspaceInfo;e.workspaceInfo=r},setUnpaidInvoiceWarningToastId:function(e,t){var r=t.payload.newUnpaidInvoiceWarningToastId;e.unpaidInvoiceWarningToastId=r},initializeInitialPrivatePageUrlPath:function(e,t){var r=t.payload.initialPrivatePageUrlPath;null==e.initialPrivatePageUrlPath&&(e.initialPrivatePageUrlPath=r)},markInitialPrivatePageUrlPathAsShown:function(e,t){e.hasShownInitialPrivatePageUrlPath=!0},toggleAreAllCurrenciesEnabled:function(e,t){e.areAllCurrenciesEnabled=!e.areAllCurrenciesEnabled}},extraReducers:function(e){e.addCase(Yw.reloadUser.fulfilled,(function(e,t){var r=t.payload.newSimpleUser;e.simpleUser=r})).addCase(Yw.getCountryCode.fulfilled,(function(e,t){var r=t.payload.countryCode;e.countryCode=r}))}}),iD=nD.actions,aD=nD,oD=r(94330),sD=r.n(oD)()(function(){var e=Ot(Pt().mark((function e(t){var r,n,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,n=t.project,i=t.workspaceInfo,a=Sn.TimeH.getCurrentSecondsSinceEpoch(),e.prev=2,r(ZN.setLastEditTime({newLastEditSecondsSinceEpoch:a})),e.next=6,qM({project:Yx()(ze(ze({},n),{},{metadata:ze(ze({},n.metadata),{},{lastEditSecondsSinceEpoch:a})}))});case 6:r(ZN.handleSuccessfulProjectSave({savedEditSecondsSinceEpoch:a})),null!=i&&null==i.onboardingTaskCompletionTimeRecord[Sn.WorkspaceT.OnboardingTask.EDIT_PROJECT]&&r(Yw.completeOnboardingTask({task:Sn.WorkspaceT.OnboardingTask.EDIT_PROJECT})),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),r(ZN.handleFailedProjectSave()),o=ze(ze({},Sn.ErrorH.convertUnknownErrorToSecretKnownError(e.t0)),{},{isHidden:!0}),r(UM.handleError(o,{defaultErr:Sn.ErrorH.newHiddenError("Failed to save project.")}));case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),2e3,{getNextArgs:function(e,t){var r=k(e,1)[0],n=k(t,1)[0];return n.project.metadata.lastEditSecondsSinceEpoch>=r.project.metadata.lastEditSecondsSinceEpoch?[n]:[r]}}),uD=function(e){return e.brand.brands},cD=function(e){return e.brand.brandsLoadingState},lD=ka("brand/getBrands",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.getState(),i=aw.selectPrivateWorkspaceInfo(n),a=cD(n),Sn.WorkspaceH.workspaceInfoSatisfiesAuthLevel({workspaceInfo:i,requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.PRO})){e.next=5;break}return e.abrupt("return",{brands:[]});case 5:if(a!==Sn.LoadingT.LoadingState.FULFILLED){e.next=7;break}return e.abrupt("return",{});case 7:return e.next=9,QM({dispatch:r.dispatch,workspaceId:i.workspaceId});case 9:return o=e.sent,e.abrupt("return",{brands:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newHiddenError("Failed to get brands."),forceHidden:!0})),dD=ka("brand/saveBrand",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.newBrand).name){e.next=3;break}throw Sn.ErrorH.newWarningError("Brand name cannot be empty.");case 3:if(i=r.getState(),null===(a=uD(i))||void 0===a||!a.some((function(e){return e.brandId!==n.brandId&&e.name===n.name}))){e.next=7;break}throw Sn.ErrorH.newWarningError('Another brand already exists with the name "'.concat(n.name,'". Please choose a unique name.'));case 7:return o=ze(ze({},n),{},{lastEditSse:Sn.TimeH.getCurrentSecondsSinceEpoch()}),e.next=10,Xw({dispatch:r.dispatch});case 10:return s=e.sent,e.next=13,Sn.ApiBrandE.UpsertBrand.call(s,{newBrand:n});case 13:return e.abrupt("return",{savedBrand:o});case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to save brand.")})),fD=ka("brand/deleteBrand",function(){var e=Ot(Pt().mark((function e(t,r){var n,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.brandId,e.next=3,Xw({dispatch:r.dispatch});case 3:return i=e.sent,e.next=6,Sn.ApiBrandE.DeleteBrand.call(i,{brandId:n});case 6:return e.abrupt("return",void 0);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to delete brand.")})),hD={getBrands:lD,saveBrand:dD,deleteBrand:fD},pD=function(e){return e.developer.externalApiKeyInfos},vD=function(e){return e.developer.externalApiKeyInfosLoadingState},gD=ka("developer/getWorkspaceExternalApiKeyInfos",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.getState(),i=aw.selectPrivateWorkspaceInfo(n),a=vD(n),Sn.WorkspaceH.workspaceInfoSatisfiesAuthLevel({workspaceInfo:i,requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.BUSINESS})&&i.isExternalApiEnabled){e.next=5;break}return e.abrupt("return",{externalApiKeyInfos:[]});case 5:if(a!==Sn.LoadingT.LoadingState.FULFILLED){e.next=7;break}return e.abrupt("return",{});case 7:return e.next=9,Xw({dispatch:r.dispatch});case 9:return o=e.sent,e.next=12,Sn.ApiDeveloperE.GetWorkspaceApiKeys.call(o,{});case 12:return s=e.sent,u=s.resData,c=u.externalApiKeyInfos,e.abrupt("return",{externalApiKeyInfos:c});case 16:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newHiddenError("Failed to get API keys."),forceHidden:!0})),mD=ka("developer/createExternalApiKeyInfo",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o,s,u,c;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.newExternalApiKeyNickname){e.next=3;break}throw Sn.ErrorH.newWarningError("API key nickname cannot be empty.");case 3:if(i=r.getState(),!pD(i).some((function(e){return e.externalApiKeyNickname===n}))){e.next=7;break}throw Sn.ErrorH.newWarningError('Another API key already exists with the nickname "'.concat(n,'". Please choose a unique nickname.'));case 7:return e.next=9,Xw({dispatch:r.dispatch});case 9:return a=e.sent,e.next=12,Sn.ApiDeveloperE.CreateApiKey.call(a,{newExternalApiKeyNickname:n});case 12:return o=e.sent,s=o.resData,u=s._privateNewExternalApiKey,c=s.newExternalApiKeyInfo,e.abrupt("return",{_privateNewExternalApiKey:u,newExternalApiKeyInfo:c});case 16:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to create API key.")})),yD=ka("developer/deleteExternalApiKeyInfo",function(){var e=Ot(Pt().mark((function e(t,r){var n,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.externalApiKeyId,e.next=3,Xw({dispatch:r.dispatch});case 3:return i=e.sent,e.next=6,Sn.ApiDeveloperE.DeleteApiKey.call(i,{externalApiKeyId:n});case 6:return e.abrupt("return",void 0);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newFatalError("Failed to delete API key.")})),bD={getWorkspaceExternalApiKeyInfos:gD,createExternalApiKeyInfo:mD,deleteExternalApiKeyInfo:yD},SD=function(e){var t=e.dispatch,r=e.workspaceInfo,n=e.unpaidInvoiceWarningToastId;if(Dx({totalCentsPaid:Sn.WorkspaceH.getWorkspaceTotalCentsPaid(r)}),Ux({totalCentsPaid:Sn.WorkspaceH.getWorkspaceTotalCentsPaid(r)}),!window.location.pathname.includes("manage-subscription")){var i=r.subscription;if(null!=i){var a=Sn.PaymentH.getMostRecentStripeInvoiceSummary(r.stripeInvoiceSummaries);if(null!=a){var o=a.stripeInvoiceId,s=a.paymentIntentSummary,u=a.stripePriceId,c=a.centsTotal,l=a.centsPaid,d=a.invoiceUrl,f=a.stripeInvoiceStatus;if(l>=c||"paid"===f||"void"===f||"draft"===f)null!=n&&(St.dismiss(n),t(iD.setUnpaidInvoiceWarningToastId({newUnpaidInvoiceWarningToastId:null})));else{var h=function(e){var t=e.dispatch,r=e.subscription,n=e.stripeInvoiceId,i=e.unpaidInvoiceWarningToastId,a=e.stripePriceId,o=e.paymentIntentSummary,s=e.invoiceUrl,u=Sn.PaymentH.getManageSubscriptionUrl({env:Ix,invoiceUrl:s}),c=null==a?null:Sn.PaymentH.stripePriceIdToProductSummary({isUsingTestStripe:Ox,stripePriceId:a}),l=null==c?null:Sn.StringH.capitalizeStr(c.subscriptionType),d=null!=a&&null!=r&&(null===c||void 0===c?void 0:c.subscriptionType)===r.subscriptionType,f="requires_action"===(null===o||void 0===o?void 0:o.stripePaymentIntentStatus)?{topMessage:"Your last payment is incomplete.",bottomMessage:"Confirm your payment method to start using VideoGen".concat(null==l?"":" ".concat(l),"."),callToAction:(0,uw.jsx)(uw.Fragment,{children:"Confirm payment"})}:{topMessage:"Your last payment failed.",bottomMessage:"To avoid losing your VideoGen projects and data, please update your payment method immediately.\n\nCheck that you entered the correct information or try using a different payment method. You may need to contact your bank.",callToAction:(0,uw.jsx)(uw.Fragment,{children:"Fix\xa0payment method"})},h=f.topMessage,p=f.bottomMessage,v=f.callToAction,g=null==r?"free plan":"".concat(Sn.StringH.capitalizeStr(r.subscriptionType)," ").concat(r.subscriptionPaymentFrequency.toLowerCase()," subscription"),m=(0,uw.jsxs)("div",{className:"flex w-full flex-col items-stretch gap-4",children:[(0,uw.jsxs)("span",{children:[(0,uw.jsx)("span",{className:"mb-2 block text-lg font-medium",children:h}),(0,uw.jsx)("span",{className:"whitespace-pre-wrap",children:p})]}),(0,uw.jsx)("div",{className:"w-full",children:(0,uw.jsx)("a",{href:u,target:"_blank",rel:"noreferrer",className:"flex items-center justify-center rounded-xl border border-transparent bg-main-600 px-4 py-2.5 text-center text-base font-semibold text-white transition-all hover:bg-main-700 md:block",children:v})}),(0,uw.jsx)("div",{children:d?(0,uw.jsx)(uw.Fragment,{children:"Contact support@videogen.io for help."}):(0,uw.jsxs)("span",{children:[null==n?(0,uw.jsx)(uw.Fragment,{children:"Contact support@videogen.io"}):(0,uw.jsx)(rD,{dispatch:t,stripeInvoiceId:n})," ","to cancel this invoice and remain on the ",g,"."]})})]});return null==i?{newUnpaidInvoiceWarningToastId:St(m,{autoClose:!1,closeButton:!1,closeOnClick:!1,draggable:!1})}:(St.update(i,{render:m}),{newUnpaidInvoiceWarningToastId:i})}({dispatch:t,subscription:i,stripeInvoiceId:o,unpaidInvoiceWarningToastId:n,stripePriceId:u,paymentIntentSummary:s,invoiceUrl:d}),p=h.newUnpaidInvoiceWarningToastId;p!==n&&t(iD.setUnpaidInvoiceWarningToastId({newUnpaidInvoiceWarningToastId:p}))}}}}},ED=function(e){var t,r,n=e.dispatch,i=e.previousProject,a=e.project,o=e.isGenerationRequired,s=e.isPreviewPlaying,u=e.workspaceInfo;sk()(null===i||void 0===i?void 0:i.generator.block,null===a||void 0===a?void 0:a.generator.block)||function(e){var t=e.dispatch,r=e.previousBlock,n=e.block;sk()(null===r||void 0===r?void 0:r.generatedScriptElements,null===n||void 0===n?void 0:n.generatedScriptElements)||t(ZN.setExpandedGeneratedScriptElements({newExpandedGeneratedScriptElements:null==(null===n||void 0===n?void 0:n.generatedScriptElements)?null:Sn.ScriptH.expandBlockGeneratedScriptElements(n.generatedScriptElements)})),sk()(null===r||void 0===r?void 0:r.backgroundVisualAssetReferences,null===n||void 0===n?void 0:n.backgroundVisualAssetReferences)||t(ZN.setExpandedBackgroundVisualAssetReferences({newExpandedBackgroundVisualAssetReferences:null==(null===n||void 0===n?void 0:n.backgroundVisualAssetReferences)?null:Sn.AssetH.expandBackgroundVisualAssetReferences(Yx()(n.backgroundVisualAssetReferences))}))}({dispatch:n,previousBlock:null!==(t=null===i||void 0===i?void 0:i.generator.block)&&void 0!==t?t:null,block:null!==(r=null===a||void 0===a?void 0:a.generator.block)&&void 0!==r?r:null});if(null!=a){var c=null==i?null:ze(ze({},i),{},{metadata:ze(ze({},i.metadata),{},{lastEditSecondsSinceEpoch:a.metadata.lastEditSecondsSinceEpoch})});null==i||sk()(c,a)||(s&&o&&n(WN.pausePreview()),sD({dispatch:n,project:a,workspaceInfo:u}))}},xD=function(e){var t,r,n,i,a=e.dispatch,o=e.previousState,s=e.state,u=o.account.workspaceInfo,c=s.account.workspaceInfo;(null!=c&&(null===u||void 0===u?void 0:u.workspaceId)!==c.workspaceId&&function(e){var t=e.dispatch,r=e.workspaceInfo;Dx(Bx(r)),lw();try{t(hD.getBrands())}catch(n){t(UM.handleError(n,{defaultErr:Sn.ErrorH.newHiddenError("Failed to get brands on workspace ID change."),forceHidden:!0}))}if(r.isExternalApiEnabled)try{t(bD.getWorkspaceExternalApiKeyInfos())}catch(n){t(UM.handleError(n,{defaultErr:Sn.ErrorH.newHiddenError("Failed to get API keys on workspace ID change."),forceHidden:!0}))}}({dispatch:a,workspaceInfo:c}),null==u||null==(null===c||void 0===c?void 0:c.subscription)||!("active"!==(null===(t=u.subscription)||void 0===t?void 0:t.stripeSubscriptionStatus)&&"trialing"!==(null===(r=u.subscription)||void 0===r?void 0:r.stripeSubscriptionStatus)||null!=u.subscription&&Sn.PaymentH.subscriptionTypeComparator.isGreaterThan(c.subscription.subscriptionType,u.subscription.subscriptionType))||"active"!==c.subscription.stripeSubscriptionStatus&&"trialing"!==c.subscription.stripeSubscriptionStatus||a(Zw.trackUpgradeSuccess({upgradeSubscriptionType:c.subscription.subscriptionType,upgradeSubscriptionPaymentFrequency:c.subscription.subscriptionPaymentFrequency,upgradeStripeCurrency:c.subscription.stripeCurrency,upgradeSubscriptionStatus:c.subscription.stripeSubscriptionStatus})),null==(null===c||void 0===c?void 0:c.stripeInvoiceSummaries)||sk()(null===u||void 0===u?void 0:u.stripeInvoiceSummaries,c.stripeInvoiceSummaries)||SD({dispatch:a,workspaceInfo:c,unpaidInvoiceWarningToastId:s.account.unpaidInvoiceWarningToastId}),null==(null===c||void 0===c?void 0:c.recentInitiatedIdJobRecord)||sk()(null===u||void 0===u?void 0:u.recentInitiatedIdJobRecord,c.recentInitiatedIdJobRecord))||function(e){var t=e.dispatch,r=e.recentInitiatedIdJobRecord,n=e.projectId;Object.values(r).forEach((function(e){if(null!=e&&!e.metadata.isCompletionHandled&&(e.type!==Sn.JobT.JobType.EXPORT||n===e.projectId)){var r=Sn.JobH.getJobLoadingInfo(e),i=r.loadingState;r.secondsAtLoadingState<=Sn.JobC.MAX_AUTO_HANDLE_COMPLETION_DELAY_SECONDS&&(i===Sn.LoadingT.LoadingState.FULFILLED||i===Sn.LoadingT.LoadingState.REJECTED)&&(Mx(Hk({jobId:e.metadata.jobId,jobType:e.type}),{job:e,loadingState:i}),t(Jk.handleJobCompletions({jobIds:[e.metadata.jobId],performCompletionAction:!0})))}}))}({dispatch:a,recentInitiatedIdJobRecord:c.recentInitiatedIdJobRecord,projectId:null!==(n=null===(i=s.project.project)||void 0===i?void 0:i.metadata.projectId)&&void 0!==n?n:null});sk()(o.project.project,s.project.project)||ED({dispatch:a,previousProject:o.project.project,project:s.project.project,isGenerationRequired:null!=s.project.project&&kk.selectProjectIsGenerationRequired(s),isPreviewPlaying:s.project.isPreviewPlaying,workspaceInfo:c})},wD=ya({name:"audioPreview",initialState:{audioPreviewSrc:null,audioPreviewVolume:1,isAudioPreviewPlaying:!1},reducers:{playAudioPreview:function(e,t){var r=t.payload,n=r.newAudioPreviewSrc,i=r.newAudioPreviewVolume;e.audioPreviewSrc=n,e.audioPreviewVolume=i,e.isAudioPreviewPlaying=!0},pauseAudioPreview:function(e,t){e.isAudioPreviewPlaying=!1},unmountAudioFromAudioPreview:function(e,t){var r=t.payload.unmountedAudioSrc;e.audioPreviewSrc===r&&(e.audioPreviewSrc=null,e.audioPreviewVolume=1,e.isAudioPreviewPlaying=!1)},setAudioPreviewVolume:function(e,t){var r=t.payload.newAudioPreviewVolume;e.audioPreviewVolume=Sn.MathH.clip({num:r,min:0,max:1})}}}),kD=wD.actions,_D=wD,TD=ya({name:"brand",initialState:{brands:[],brandsLoadingState:Sn.LoadingT.LoadingState.UNATTEMPTED},reducers:{},extraReducers:function(e){e.addCase(hD.getBrands.pending,(function(e,t){e.brandsLoadingState=Sn.LoadingT.LoadingState.LOADING})).addCase(hD.getBrands.fulfilled,(function(e,t){var r=t.payload.brands;null!=r&&(e.brands=r,e.brandsLoadingState=Sn.LoadingT.LoadingState.FULFILLED)})).addCase(hD.getBrands.rejected,(function(e,t){e.brandsLoadingState=Sn.LoadingT.LoadingState.REJECTED})).addCase(hD.saveBrand.fulfilled,(function(e,t){var r=t.payload.savedBrand,n=e.brands.findIndex((function(e){return e.brandId===r.brandId}));-1!==n?Sn.ArrayH.arrSet(e.brands,n,r):e.brands.push(r)})).addCase(hD.deleteBrand.fulfilled,(function(e,t){var r=t.meta.arg.brandId;e.brands=e.brands.filter((function(e){return e.brandId!==r}))}))}}),AD=(TD.actions,TD),CD=ka("commit/updateFrontendLatestCommitInfo",function(){var e=Ot(Pt().mark((function e(t,r){var n,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.getState(),i=n.commit,null!=nk&&!i.hasShownNewVersionAvailableWarning){e.next=3;break}return e.abrupt("return",{showedNewVersionWarning:!1});case 3:return e.next=5,ik();case 5:return a=e.sent,(o=Sn.CommitH.isNewVersionAvailable({env:Ix,latestCommitInfo:a,containerCommitInfo:nk}))&&r.dispatch(Aw()),e.abrupt("return",{newFrontendLatestCommitInfo:a,showedNewVersionWarning:o});case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xx({defaultErr:Sn.ErrorH.newHiddenError("Failed to update frontend latest commit info."),forceHidden:!0})),PD={updateFrontendLatestCommitInfo:CD},ID=ya({name:"commit",initialState:{frontendLatestCommitInfo:null,hasShownNewVersionAvailableWarning:!1},reducers:{},extraReducers:function(e){e.addCase(PD.updateFrontendLatestCommitInfo.fulfilled,(function(e,t){var r=t.payload,n=r.newFrontendLatestCommitInfo,i=r.showedNewVersionWarning;e.frontendLatestCommitInfo=null!==n&&void 0!==n?n:e.frontendLatestCommitInfo,e.hasShownNewVersionAvailableWarning=i||e.hasShownNewVersionAvailableWarning}))}}),OD=(ID.actions,ID),RD=ya({name:"developer",initialState:{externalApiKeyInfos:[],externalApiKeyInfosLoadingState:Sn.LoadingT.LoadingState.UNATTEMPTED},reducers:{},extraReducers:function(e){e.addCase(bD.getWorkspaceExternalApiKeyInfos.pending,(function(e,t){e.externalApiKeyInfosLoadingState=Sn.LoadingT.LoadingState.LOADING})).addCase(bD.getWorkspaceExternalApiKeyInfos.fulfilled,(function(e,t){var r=t.payload.externalApiKeyInfos;null!=r&&(e.externalApiKeyInfos=r,e.externalApiKeyInfosLoadingState=Sn.LoadingT.LoadingState.FULFILLED)})).addCase(bD.getWorkspaceExternalApiKeyInfos.rejected,(function(e,t){e.externalApiKeyInfosLoadingState=Sn.LoadingT.LoadingState.REJECTED})).addCase(bD.createExternalApiKeyInfo.fulfilled,(function(e,t){var r=t.payload.newExternalApiKeyInfo;e.externalApiKeyInfos.unshift(r)})).addCase(bD.deleteExternalApiKeyInfo.fulfilled,(function(e,t){var r=t.meta.arg.externalApiKeyId;e.externalApiKeyInfos=e.externalApiKeyInfos.filter((function(e){return e.externalApiKeyId!==r}))}))}}),ND=(RD.actions,RD),LD=function(e){var t,r=ga(),n=e||{},i=n.reducer,a=void 0===i?void 0:i,o=n.middleware,s=void 0===o?r():o,u=n.devTools,c=void 0===u||u,l=n.preloadedState,d=void 0===l?void 0:l,f=n.enhancers,h=void 0===f?void 0:f;if("function"===typeof a)t=a;else{if(!da(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=qi(a)}var p=s;"function"===typeof p&&(p=p(r));var v=Yi.apply(void 0,p),g=zi;c&&(g=la(sa({trace:!1},"object"===typeof c&&c)));var m=new pa(v),y=m;return Array.isArray(h)?y=$i([v],h):"function"===typeof h&&(y=h(m)),Wi(t,d,g.apply(void 0,y))}({reducer:{account:aD.reducer,audioPreview:_D.reducer,brand:AD.reducer,commit:OD.reducer,developer:ND.reducer,error:qx.reducer,job:Yk.reducer,media:Bk.reducer,modal:mw.reducer,payment:rk.reducer,project:QN.reducer},middleware:function(e){return e().concat((function(e){return function(t){return function(r){var n=LD.getState(),i=t(r),a=LD.getState();try{xD({dispatch:e.dispatch,previousState:n,state:a})}catch(o){e.dispatch(UM.handleError(o))}return i}}}),(function(e){return function(t){return function(r){try{var n=t(r);return Sn.TypeT.isObject(r)&&"type"in r&&Sn.TypeT.isString(r.type)&&r.type.endsWith("/rejected")&&"error"in r&&e.dispatch(UM.handleError(r.error)),n}catch(i){throw e.dispatch(UM.handleError(i)),i}}}}))}});!function(){var e=null;!function(e,t,r,n){Co(e).onAuthStateChanged(t,r,n)}(mx,(function(t){Pa.CookieH.setCookie({key:"authState",value:null==t?"logged-out":"logged-in",activeDuration:{years:1}}),LD.dispatch(iD.setSimpleUser({newSimpleUser:null==t?null:Kx(t)})),null!=e&&(e(),e=null),null==t?LD.dispatch(iD.setWorkspaceInfo({newWorkspaceInfo:null})):e=BM({workspaceId:t.uid,newWorkspaceInfoCallback:function(e){LD.dispatch(iD.setWorkspaceInfo({newWorkspaceInfo:e}))},onError:function(e){LD.dispatch(UM.handleError(e,{defaultErr:Sn.ErrorH.newHiddenError("Failed to get latest workspace info.",{rawData:{workspaceId:t.uid}}),forceHidden:!0}))}})}))}();!function(){if(setInterval((function(){LD.dispatch(Lk.rehydrateExpiringReadUrls({expirationBufferMilliseconds:15*Sn.TimeC.MILLISECONDS_PER_MINUTE}))}),15*Sn.TimeC.MILLISECONDS_PER_MINUTE),null!=nk){var e=0;setInterval((function(){"visible"!==document.visibilityState&&e%60!==0||LD.dispatch(PD.updateFrontendLatestCommitInfo()),e+=1}),Sn.TimeC.MILLISECONDS_PER_MINUTE)}setInterval((function(){var e=LD.getState(),t=e.account,r=e.project;null!=t.workspaceInfo&&null!=r.project&&r.failedSaveAttemptsStreak>0&&r.failedSaveAttemptsStreak<50&&sD({dispatch:LD.dispatch,project:r.project,workspaceInfo:t.workspaceInfo})}),10*Sn.TimeC.MILLISECONDS_PER_SECOND)}(),function(e){var t=e.onRewardfulReady,r=e.onError;try{if(!("rewardful"in window)||"function"!==typeof window.rewardful)throw Sn.ErrorH.newHiddenError("Failed to access window.rewardful function.");window.rewardful("ready",(function(){try{var e=function(){if("Rewardful"in window&&window.Rewardful&&"function"===typeof window.Rewardful)return{rewardfulId:"referral"in window.Rewardful&&Sn.TypeT.isString(window.Rewardful.referral)&&window.Rewardful.referral?window.Rewardful.referral:void 0};throw Sn.ErrorH.newHiddenError("Failed to access window.Rewardful function.")}();t(e)}catch(n){r(n)}}))}catch(n){r(n)}}({onRewardfulReady:function(e){LD.dispatch(tk.setRewardfulInfo({newRewardfulInfo:e}))},onError:function(e){LD.dispatch(UM.handleError(e,{defaultErr:Sn.ErrorH.newHiddenError("Failed to add rewardful ready listener."),forceHidden:!0}))}});!function(){try{LD.dispatch(Yw.getCountryCode())}catch(e){LD.dispatch(UM.handleError(e,{defaultErr:Sn.ErrorH.newHiddenError("Failed to get country code."),forceHidden:!0}))}}();var jD=eo,MD=qa,DD=LD;function FD(){return FD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FD.apply(this,arguments)}function UD(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function BD(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((function(t,r){var n=e[r];return t.concat(Array.isArray(n)?n.map((function(e){return[r,e]})):[[r,n]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var GD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(Nue){}new Map;var VD=n.startTransition;Na.flushSync,n.useId;function HD(e){var r,n=e.basename,i=e.children,a=e.future,o=e.window,s=t.useRef();null==s.current&&(s.current=(void 0===(r={window:o,v5Compat:!0})&&(r={}),M((function(e,t){var r=e.location;return N("",{pathname:r.pathname,search:r.search,hash:r.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:L(t)}),null,r)));var u=s.current,c=k(t.useState({action:u.action,location:u.location}),2),l=c[0],d=c[1],f=(a||{}).v7_startTransition,h=t.useCallback((function(e){f&&VD?VD((function(){return d(e)})):d(e)}),[d,f]);return t.useLayoutEffect((function(){return u.listen(h)}),[u,h]),t.createElement(De,{basename:n,children:i,location:l.location,navigationType:l.action,navigator:u,future:a})}var WD="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,qD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zD=t.forwardRef((function(e,r){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,d=e.preventScrollReset,f=e.unstable_viewTransition,h=UD(e,GD),p=t.useContext(pe).basename,v=!1;if("string"===typeof l&&qD.test(l)&&(n=l,WD))try{var g=new URL(window.location.href),m=l.startsWith("//")?new URL(g.protocol+l):new URL(l),y=Z(m.pathname,p);m.origin===g.origin&&null!=y?l=y+m.search+m.hash:v=!0}catch(Nue){}var b=function(e,r){var n=(void 0===r?{}:r).relative;ye()||I(!1);var i=t.useContext(pe),a=i.basename,o=i.navigator,s=we(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,d=c;return"/"!==a&&(d="/"===c?a:re([a,c])),o.createHref({pathname:d,search:l,hash:u})}(l,{relative:a}),S=function(e,r){var n=void 0===r?{}:r,i=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,u=n.relative,c=n.unstable_viewTransition,l=Ee(),d=be(),f=we(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var r=void 0!==a?a:L(d)===L(f);l(e,{replace:r,state:o,preventScrollReset:s,relative:u,unstable_viewTransition:c})}}),[d,l,f,a,o,i,e,s,u,c])}(l,{replace:s,state:u,target:c,preventScrollReset:d,relative:a,unstable_viewTransition:f});return t.createElement("a",FD({},h,{href:n||b,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||S(e)},ref:r,target:c}))}));var YD,XD;function KD(e){var r=t.useRef(BD(e)),n=t.useRef(!1),i=be(),a=t.useMemo((function(){return function(e,t){var r=BD(e);return t&&t.forEach((function(e,n){r.has(n)||t.getAll(n).forEach((function(e){r.append(n,e)}))})),r}(i.search,n.current?null:r.current)}),[i.search]),o=Ee(),s=t.useCallback((function(e,t){var r=BD("function"===typeof e?e(a):e);n.current=!0,o("?"+r,t)}),[o,a]);return[a,s]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(YD||(YD={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(XD||(XD={}));var JD=function(e,t){var r=t.urlParamsRecord;return{pathname:Sn.PathH.removeQueryParamsFromPath(e.pathname),search:Sn.PathH.addQueryParamsToPath("",ze(ze({},r),e.newQueryParamsRecord)),hash:null==e.hash?void 0:e.hash.startsWith("#")?e.hash:"#".concat(e.hash)}},ZD=function(e){var r=(0,t.useRef)(e),n=(0,t.useRef)(!1);(0,t.useEffect)((function(){if(!n.current)return n.current=!0,r.current()}),[])},QD=function(){var e=$D().width;return e<768&&0!==e},$D=function(){var e,r,n,i,a=k((0,t.useState)({width:null!==(e=null===(r=window)||void 0===r?void 0:r.innerWidth)&&void 0!==e?e:0,height:null!==(n=null===(i=window)||void 0===i?void 0:i.innerHeight)&&void 0!==n?n:0}),2),o=a[0],s=a[1];return(0,t.useEffect)((function(){var e=function(){s({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}),[]),o},eF=function(){var e=(0,t.useRef)(null),r=(0,t.useRef)(0),n=(0,t.useCallback)((function(t,n){var i=Sn.TimeH.getCurrentMillisecondsSinceEpoch(),a=n-(i-r.current);a<=0?(r.current=i,t()):null==e.current&&(e.current=setTimeout((function(){r.current=Sn.TimeH.getCurrentMillisecondsSinceEpoch(),e.current=null,t()}),a))}),[]);return n},tF=function(){var e=k(KD(),2),r=e[0],n=e[1];return{urlParamsRecord:(0,t.useMemo)((function(){return Sn.PathH.urlSearchParamsToParamsRecord(r)}),[r]),setUrlParamsRecord:(0,t.useCallback)((function(e){n(Sn.PathH.paramsRecordToUrlSearchParams(e))}),[n])}},rF=function(e,r){var n=tF(),i=n.urlParamsRecord,a=n.setUrlParamsRecord,o=(0,t.useRef)(e),s=(0,t.useRef)(r),u=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=r}),[r]),(0,t.useEffect)((function(){o.current=e}),[e]),(0,t.useEffect)((function(){if(!u.current){var e=Sn.TypeT.getEmptyPartialRecord(),t=ze({},i);o.current.forEach((function(r){e[r]=i[r],t[r]=void 0})),Object.values(e).every((function(e){return null==e}))||(a(t),u.current=!0,s.current(e))}}),[i,a])},nF=function(e){var r=e.onError,n=e.maxLoadRetries,i=jD();return(0,t.useCallback)((function(e){if(null!=n)try{var t,a=e.currentTarget,o=a.src,s=new URL(o),u=""===s.hash?0:null!==(t=Sn.StringH.parseIntOrOmit(s.hash.slice(1)))&&void 0!==t?t:0,c=Sn.MathH.clip({num:n,min:0,max:8});if(u>=c)throw Sn.ErrorH.newHiddenError("Failed to load element after maximum of ".concat(c," retries."),{rawData:{elementSrc:o,maxLoadRetries:n,clippedMaxLoadRetries:c}});var l=1e3*Math.pow(Math.max(2,1),Math.max(u,0));setTimeout((function(){a.src===o&&(s.hash="".concat(u+1),a.src=s.toString())}),l)}catch(d){i(UM.handleError(d,{forceHidden:!0}))}null!=r&&r(e)}),[i,n,r])},iF=function(e){var r=(0,t.useRef)(null);return(0,t.useEffect)((function(){var t=r.current;"function"===typeof e?e(t):e&&"current"in e&&(e.current=t)}),[e]),r},aF=function(){var e=jD(),r=Ee(),n=tF().urlParamsRecord;return(0,t.useCallback)((function(t,i){try{var a=JD(t,{urlParamsRecord:n});r(a,i)}catch(o){e(UM.handleError(o,{defaultErr:Sn.ErrorH.newHiddenError("Failed to redirect.",{rawData:{redirectArgs:t}}),forceHidden:!0}))}}),[e,r,n])};function oF(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((function(e){return setTimeout((function(){throw e}))}))}function sF(){var e=[],t={addEventListener:function(e,r,n,i){return e.addEventListener(r,n,i),t.add((function(){return e.removeEventListener(r,n,i)}))},requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=requestAnimationFrame.apply(void 0,arguments);return t.add((function(){return cancelAnimationFrame(e)}))})),nextFrame:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.requestAnimationFrame((function(){return t.requestAnimationFrame.apply(t,r)}))},setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=setTimeout.apply(void 0,arguments);return t.add((function(){return clearTimeout(e)}))})),microTask:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i={current:!0};return oF((function(){i.current&&r[0]()})),t.add((function(){i.current=!1}))},style:function(e,t,r){var n=e.style.getPropertyValue(t);return Object.assign(e.style,We({},t,r)),this.add((function(){Object.assign(e.style,We({},t,n))}))},group:function(e){var t=sF();return e(t),this.add((function(){return t.dispose()}))},add:function(t){return e.push(t),function(){var r=e.indexOf(t);if(r>=0){var n,i=T(e.splice(r,1));try{for(i.s();!(n=i.n()).done;){(0,n.value)()}}catch(a){i.e(a)}finally{i.f()}}}},dispose:function(){var t,r=T(e.splice(0));try{for(r.s();!(t=r.n()).done;){(0,t.value)()}}catch(n){r.e(n)}finally{r.f()}}};return t}function uF(){var e=k((0,t.useState)(sF),1)[0];return(0,t.useEffect)((function(){return function(){return e.dispose()}}),[e]),e}var cF=Object.defineProperty,lF=function(e,t,r){return function(e,t,r){t in e?cF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}(e,"symbol"!=typeof t?t+"":t,r),r},dF=new(function(){function e(){c(this,e),lF(this,"current",this.detect()),lF(this,"handoffState","pending"),lF(this,"currentId",0)}return h(e,[{key:"set",value:function(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}},{key:"reset",value:function(){this.set(this.detect())}},{key:"nextId",value:function(){return++this.currentId}},{key:"isServer",get:function(){return"server"===this.current}},{key:"isClient",get:function(){return"client"===this.current}},{key:"detect",value:function(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}},{key:"handoff",value:function(){"pending"===this.handoffState&&(this.handoffState="complete")}},{key:"isHandoffComplete",get:function(){return"complete"===this.handoffState}}]),e}()),fF=function(e,r){dF.isServer?(0,t.useEffect)(e,r):(0,t.useLayoutEffect)(e,r)};function hF(e){var r=(0,t.useRef)(e);return fF((function(){r.current=e}),[e]),r}var pF=function(e){var r=hF(e);return t.useCallback((function(){return r.current.apply(r,arguments)}),[r])};function vF(){var e=(0,t.useRef)(!1);return fF((function(){return e.current=!0,function(){e.current=!1}}),[]),e}function gF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=k((0,t.useState)(e),2),n=r[0],i=r[1],a=vF(),o=(0,t.useCallback)((function(e){a.current&&i((function(t){return t|e}))}),[n,a]),s=(0,t.useCallback)((function(e){return Boolean(n&e)}),[n]),u=(0,t.useCallback)((function(e){a.current&&i((function(t){return t&~e}))}),[i,a]),c=(0,t.useCallback)((function(e){a.current&&i((function(t){return t^e}))}),[i]);return{flags:n,addFlag:o,hasFlag:s,removeFlag:u,toggleFlag:c}}function mF(){var e=function(){var e="undefined"==typeof document;return function(e){return e.useSyncExternalStore}(n)((function(){return function(){}}),(function(){return!1}),(function(){return!e}))}(),r=k(t.useState(dF.isHandoffComplete),2),i=r[0],a=r[1];return i&&!1===dF.isHandoffComplete&&a(!1),t.useEffect((function(){!0!==i&&a(!0)}),[i]),t.useEffect((function(){return dF.handoff()}),[]),!e&&i}var yF=Symbol();function bF(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object.assign(e,We({},yF,t))}function SF(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=(0,t.useRef)(r);(0,t.useEffect)((function(){i.current=r}),[r]);var a=pF((function(e){var t,r=T(i.current);try{for(r.s();!(t=r.n()).done;){var n=t.value;null!=n&&("function"==typeof n?n(e):n.current=e)}}catch(a){r.e(a)}finally{r.f()}}));return r.every((function(e){return null==e||(null==e?void 0:e[yF])}))?void 0:a}function EF(e,t){if(e in t){for(var r=t[e],n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return"function"==typeof r?r.apply(void 0,i):r}var o=new Error('Tried to handle "'.concat(e,'" but there is no handler defined. Only defined handlers are: ').concat(Object.keys(t).map((function(e){return'"'.concat(e,'"')})).join(", "),"."));throw Error.captureStackTrace&&Error.captureStackTrace(o,EF),o}function xF(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];e&&n.length>0&&(t=e.classList).add.apply(t,n)}function wF(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];e&&n.length>0&&(t=e.classList).remove.apply(t,n)}function kF(e,t,r,n){var i=r?"enter":"leave",a=sF(),o=void 0!==n?function(e){var t={called:!1};return function(){if(!t.called)return t.called=!0,e.apply(void 0,arguments)}}(n):function(){};"enter"===i&&(e.removeAttribute("hidden"),e.style.display="");var s=EF(i,{enter:function(){return t.enter},leave:function(){return t.leave}}),c=EF(i,{enter:function(){return t.enterTo},leave:function(){return t.leaveTo}}),l=EF(i,{enter:function(){return t.enterFrom},leave:function(){return t.leaveFrom}});return wF.apply(void 0,[e].concat(u(t.base),u(t.enter),u(t.enterTo),u(t.enterFrom),u(t.leave),u(t.leaveFrom),u(t.leaveTo),u(t.entered))),xF.apply(void 0,[e].concat(u(t.base),u(s),u(l))),a.nextFrame((function(){wF.apply(void 0,[e].concat(u(t.base),u(s),u(l))),xF.apply(void 0,[e].concat(u(t.base),u(s),u(c))),function(e,t){var r=sF();if(!e)return r.dispose;var n=getComputedStyle(e),i=[n.transitionDuration,n.transitionDelay].map((function(e){var t=e.split(",").filter(Boolean).map((function(e){return e.includes("ms")?parseFloat(e):1e3*parseFloat(e)})).sort((function(e,t){return t-e})),r=k(t,1)[0];return void 0===r?0:r})),a=k(i,2),o=a[0]+a[1];if(0!==o){r.group((function(r){r.setTimeout((function(){t(),r.dispose()}),o),r.addEventListener(e,"transitionrun",(function(e){e.target===e.currentTarget&&r.dispose()}))}));var s=r.addEventListener(e,"transitionend",(function(e){e.target===e.currentTarget&&(t(),s())}))}else t();r.add((function(){return t()})),r.dispose}(e,(function(){return wF.apply(void 0,[e].concat(u(t.base),u(s))),xF.apply(void 0,[e].concat(u(t.base),u(t.entered))),o()}))})),a.dispose}var _F=(0,t.createContext)(null);_F.displayName="OpenClosedContext";var TF=function(e){return e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e}(TF||{});function AF(){return(0,t.useContext)(_F)}function CF(e){var r=e.value,n=e.children;return t.createElement(_F.Provider,{value:r},n)}function PF(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Array.from(new Set(t.flatMap((function(e){return"string"==typeof e?e.split(" "):[]})))).filter(Boolean).join(" ")}var IF=["static"],OF=["unmount"],RF=["as","children","refName"],NF=function(e){return e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e}(NF||{}),LF=function(e){return e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e}(LF||{});function jF(e){var t=e.ourProps,r=e.theirProps,n=e.slot,i=e.defaultTag,a=e.features,o=e.visible,s=void 0===o||o,u=e.name,c=e.mergeRefs;c=null!=c?c:FF;var l=UF(r,t);if(s)return MF(l,n,i,u,c);var d=null!=a?a:0;if(2&d){var f=l.static,h=void 0!==f&&f,p=He(l,IF);if(h)return MF(p,n,i,u,c)}if(1&d){var v,g=l.unmount,m=void 0===g||g,y=He(l,OF);return EF(m?0:1,(We(v={},0,(function(){return null})),We(v,1,(function(){return MF(ze(ze({},y),{},{hidden:!0,style:{display:"none"}}),n,i,u,c)})),v))}return MF(l,n,i,u,c)}function MF(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=VF(e,["unmount","static"]),s=o.as,u=void 0===s?n:s,c=o.children,l=o.refName,d=void 0===l?"ref":l,f=He(o,RF),h=void 0!==e.ref?We({},d,e.ref):{},p="function"==typeof c?c(r):c;"className"in f&&f.className&&"function"==typeof f.className&&(f.className=f.className(r));var v={};if(r){for(var g=!1,m=[],y=0,b=Object.entries(r);y<b.length;y++){var S=k(b[y],2),E=S[0],x=S[1];"boolean"==typeof x&&(g=!0),!0===x&&m.push(E)}g&&(v["data-headlessui-state"]=m.join(" "))}if(u===t.Fragment&&Object.keys(GF(f)).length>0){if(!(0,t.isValidElement)(p)||Array.isArray(p)&&p.length>1)throw new Error(['Passing props on "Fragment"!',"","The current component <".concat(i,' /> is rendering a "Fragment".'),"However we need to passthrough the following props:",Object.keys(f).map((function(e){return"  - ".concat(e)})).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((function(e){return"  - ".concat(e)})).join("\n")].join("\n"));var w=p.props,_="function"==typeof(null==w?void 0:w.className)?function(){return PF(null==w?void 0:w.className.apply(w,arguments),f.className)}:PF(null==w?void 0:w.className,f.className),T=_?{className:_}:{};return(0,t.cloneElement)(p,Object.assign({},UF(p.props,GF(VF(f,["ref"]))),v,h,{ref:a(p.ref,h.ref)},T))}return(0,t.createElement)(u,Object.assign({},VF(f,["ref"]),u!==t.Fragment&&h,u!==t.Fragment&&v),p)}function DF(){var e=(0,t.useRef)([]),r=(0,t.useCallback)((function(t){var r,n=T(e.current);try{for(n.s();!(r=n.n()).done;){var i=r.value;null!=i&&("function"==typeof i?i(t):i.current=t)}}catch(a){n.e(a)}finally{n.f()}}),[]);return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!n.every((function(e){return null==e})))return e.current=n,r}}function FF(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.every((function(e){return null==e}))?void 0:function(e){var r,n=T(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;null!=i&&("function"==typeof i?i(e):i.current=e)}}catch(a){n.e(a)}finally{n.f()}}}function UF(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return{};if(1===t.length)return t[0];for(var n={},i={},a=0,o=t;a<o.length;a++){var s=o[a];for(var u in s)u.startsWith("on")&&"function"==typeof s[u]?(null!=i[u]||(i[u]=[]),i[u].push(s[u])):n[u]=s[u]}if(n.disabled||n["aria-disabled"])return Object.assign(n,Object.fromEntries(Object.keys(i).map((function(e){return[e,void 0]}))));var c=function(e){Object.assign(n,We({},e,(function(t){for(var r=i[e],n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];var s,u=T(r);try{for(u.s();!(s=u.n()).done;){var c=s.value;if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;c.apply(void 0,[t].concat(a))}}catch(l){u.e(l)}finally{u.f()}})))};for(var l in i)c(l);return n}function BF(e){var r;return Object.assign((0,t.forwardRef)(e),{displayName:null!=(r=e.displayName)?r:e.name})}function GF(e){var t=Object.assign({},e);for(var r in t)void 0===t[r]&&delete t[r];return t}function VF(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.assign({},e),i=T(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;a in n&&delete n[a]}}catch(o){i.e(o)}finally{i.f()}return n}var HF=["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"],WF=["show","appear","unmount"];function qF(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(/\s+/).filter((function(e){return e.length>1}))}var zF=(0,t.createContext)(null);zF.displayName="TransitionContext";var YF=function(e){return e.Visible="visible",e.Hidden="hidden",e}(YF||{});var XF=(0,t.createContext)(null);function KF(e){return"children"in e?KF(e.children):e.current.filter((function(e){return null!==e.el.current})).filter((function(e){return"visible"===e.state})).length>0}function JF(e,r){var n=hF(e),i=(0,t.useRef)([]),a=vF(),o=uF(),s=pF((function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:LF.Hidden,s=i.current.findIndex((function(t){return t.el===e}));-1!==s&&(EF(r,(We(t={},LF.Unmount,(function(){i.current.splice(s,1)})),We(t,LF.Hidden,(function(){i.current[s].state="hidden"})),t)),o.microTask((function(){var e;!KF(i)&&a.current&&(null==(e=n.current)||e.call(n))})))})),u=pF((function(e){var t=i.current.find((function(t){return t.el===e}));return t?"visible"!==t.state&&(t.state="visible"):i.current.push({el:e,state:"visible"}),function(){return s(e,LF.Unmount)}})),c=(0,t.useRef)([]),l=(0,t.useRef)(Promise.resolve()),d=(0,t.useRef)({enter:[],leave:[],idle:[]}),f=pF((function(e,t,n){c.current.splice(0),r&&(r.chains.current[t]=r.chains.current[t].filter((function(t){return k(t,1)[0]!==e}))),null==r||r.chains.current[t].push([e,new Promise((function(e){c.current.push(e)}))]),null==r||r.chains.current[t].push([e,new Promise((function(e){Promise.all(d.current[t].map((function(e){var t=k(e,2);t[0];return t[1]}))).then((function(){return e()}))}))]),"enter"===t?l.current=l.current.then((function(){return null==r?void 0:r.wait.current})).then((function(){return n(t)})):n(t)})),h=pF((function(e,t,r){Promise.all(d.current[t].splice(0).map((function(e){var t=k(e,2);t[0];return t[1]}))).then((function(){var e;null==(e=c.current.shift())||e()})).then((function(){return r(t)}))}));return(0,t.useMemo)((function(){return{children:i,register:u,unregister:s,onStart:f,onStop:h,wait:l,chains:d}}),[u,s,i,f,h,d,l])}function ZF(){}XF.displayName="NestingContext";var QF=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function $F(e){var t,r,n={},i=T(QF);try{for(i.s();!(r=i.n()).done;){var a=r.value;n[a]=null!=(t=e[a])?t:ZF}}catch(o){i.e(o)}finally{i.f()}return n}var eU=NF.RenderStrategy;var tU=BF((function(e,r){var n=e.show,i=e.appear,a=void 0!==i&&i,o=e.unmount,s=void 0===o||o,u=He(e,WF),c=(0,t.useRef)(null),l=SF(c,r);mF();var d=AF();if(void 0===n&&null!==d&&(n=(d&TF.Open)===TF.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");var f=k((0,t.useState)(n?"visible":"hidden"),2),h=f[0],p=f[1],v=JF((function(){p("hidden")})),g=k((0,t.useState)(!0),2),m=g[0],y=g[1],b=(0,t.useRef)([n]);fF((function(){!1!==m&&b.current[b.current.length-1]!==n&&(b.current.push(n),y(!1))}),[b,n]);var S=(0,t.useMemo)((function(){return{show:n,appear:a,initial:m}}),[n,a,m]);(0,t.useEffect)((function(){if(n)p("visible");else if(KF(v)){var e=c.current;if(!e)return;var t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&p("hidden")}else p("hidden")}),[n,v]);var E={unmount:s},x=pF((function(){var t;m&&y(!1),null==(t=e.beforeEnter)||t.call(e)})),w=pF((function(){var t;m&&y(!1),null==(t=e.beforeLeave)||t.call(e)}));return t.createElement(XF.Provider,{value:v},t.createElement(zF.Provider,{value:S},jF({ourProps:ze(ze({},E),{},{as:t.Fragment,children:t.createElement(rU,ze(ze(ze({ref:l},E),u),{},{beforeEnter:x,beforeLeave:w}))}),theirProps:{},defaultTag:t.Fragment,features:eU,visible:"visible"===h,name:"Transition"})))})),rU=BF((function(e,r){var n,i,a,o=e.beforeEnter,s=e.afterEnter,c=e.beforeLeave,l=e.afterLeave,d=e.enter,f=e.enterFrom,h=e.enterTo,p=e.entered,v=e.leave,g=e.leaveFrom,m=e.leaveTo,y=He(e,HF),b=(0,t.useRef)(null),S=SF(b,r),E=null==(i=y.unmount)||i?LF.Unmount:LF.Hidden,x=function(){var e=(0,t.useContext)(zF);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),w=x.show,_=x.appear,T=x.initial,A=k((0,t.useState)(w?"visible":"hidden"),2),C=A[0],P=A[1],I=function(){var e=(0,t.useContext)(XF);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),O=I.register,R=I.unregister;(0,t.useEffect)((function(){return O(b)}),[O,b]),(0,t.useEffect)((function(){var e;if(E===LF.Hidden&&b.current)return w&&"visible"!==C?void P("visible"):EF(C,(We(e={},"hidden",(function(){return R(b)})),We(e,"visible",(function(){return O(b)})),e))}),[C,b,O,R,w,E]);var N=hF({base:qF(y.className),enter:qF(d),enterFrom:qF(f),enterTo:qF(h),entered:qF(p),leave:qF(v),leaveFrom:qF(g),leaveTo:qF(m)}),L=function(e){var r=(0,t.useRef)($F(e));return(0,t.useEffect)((function(){r.current=$F(e)}),[e]),r}({beforeEnter:o,afterEnter:s,beforeLeave:c,afterLeave:l}),j=mF();(0,t.useEffect)((function(){if(j&&"visible"===C&&null===b.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[b,C,j]);var M=_&&w&&T,D=!j||T&&!_?"idle":w?"enter":"leave",F=gF(0),U=pF((function(e){return EF(e,{enter:function(){F.addFlag(TF.Opening),L.current.beforeEnter()},leave:function(){F.addFlag(TF.Closing),L.current.beforeLeave()},idle:function(){}})})),B=pF((function(e){return EF(e,{enter:function(){F.removeFlag(TF.Opening),L.current.afterEnter()},leave:function(){F.removeFlag(TF.Closing),L.current.afterLeave()},idle:function(){}})})),G=JF((function(){P("hidden"),R(b)}),I),V=(0,t.useRef)(!1);!function(e){var t=e.immediate,r=e.container,n=e.direction,i=e.classes,a=e.onStart,o=e.onStop,s=vF(),u=uF(),c=hF(n);fF((function(){t&&(c.current="enter")}),[t]),fF((function(){var e=sF();u.add(e.dispose);var t=r.current;if(t&&"idle"!==c.current&&s.current)return e.dispose(),a.current(c.current),e.add(kF(t,i.current,"enter"===c.current,(function(){e.dispose(),o.current(c.current)}))),e.dispose}),[n])}({immediate:M,container:b,classes:N,direction:D,onStart:hF((function(e){V.current=!0,G.onStart(b,e,U)})),onStop:hF((function(e){V.current=!1,G.onStop(b,e,B),"leave"===e&&!KF(G)&&(P("hidden"),R(b))}))});var H=y,W={ref:S};return M?H=ze(ze({},H),{},{className:PF.apply(void 0,[y.className].concat(u(N.current.enter),u(N.current.enterFrom)))}):V.current&&(H.className=PF(y.className,null==(a=b.current)?void 0:a.className),""===H.className&&delete H.className),t.createElement(XF.Provider,{value:G},t.createElement(CF,{value:EF(C,(n={},We(n,"visible",TF.Open),We(n,"hidden",TF.Closed),n))|F.flags},jF({ourProps:W,theirProps:H,defaultTag:"div",features:eU,visible:"visible"===C,name:"Transition.Child"})))})),nU=BF((function(e,r){var n=null!==(0,t.useContext)(zF),i=null!==AF();return t.createElement(t.Fragment,null,!n&&i?t.createElement(tU,ze({ref:r},e)):t.createElement(rU,ze({ref:r},e)))})),iU=Object.assign(tU,{Child:nU,Root:tU});function aU(e,r,n,i){var a=hF(n);(0,t.useEffect)((function(){function t(e){a.current(e)}return(e=null!=e?e:window).addEventListener(r,t,i),function(){return e.removeEventListener(r,t,i)}}),[e,r,i])}function oU(e){var r=pF(e),n=(0,t.useRef)(!1);(0,t.useEffect)((function(){return n.current=!1,function(){n.current=!0,oF((function(){n.current&&r()}))}}),[r])}function sU(e){return dF.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function uU(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,t.useMemo)((function(){return sU.apply(void 0,r)}),[].concat(r))}function cU(e,r,n){var i=hF(r);(0,t.useEffect)((function(){function t(e){i.current(e)}return window.addEventListener(e,t,n),function(){return window.removeEventListener(e,t,n)}}),[e,n])}var lU=function(e){return e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e}(lU||{});function dU(){var e=(0,t.useRef)(0);return cU("keydown",(function(t){"Tab"===t.key&&(e.current=t.shiftKey?1:0)}),!0),e}function fU(e,r){var n=(0,t.useRef)([]),i=pF(e);(0,t.useEffect)((function(){var e,t=u(n.current),a=T(r.entries());try{for(a.s();!(e=a.n()).done;){var o=k(e.value,2),s=o[0],c=o[1];if(n.current[s]!==c){var l=i(r,t);return n.current=r,l}}}catch(d){a.e(d)}finally{a.f()}}),[i].concat(u(r)))}var hU=["features"],pU=function(e){return e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e}(pU||{});var vU=BF((function(e,t){var r,n=e.features,i=void 0===n?1:n,a=He(e,hU);return jF({ourProps:{ref:t,"aria-hidden":2===(2&i)||(null!=(r=a["aria-hidden"])?r:void 0),style:ze({position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},4===(4&i)&&2!==(2&i)&&{display:"none"})},theirProps:a,slot:{},defaultTag:"div",name:"Hidden"})}));var gU=[];!function(e){function t(){"loading"!==document.readyState&&(e(),document.removeEventListener("DOMContentLoaded",t))}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",t),t())}((function(){function e(e){e.target instanceof HTMLElement&&e.target!==document.body&&gU[0]!==e.target&&(gU.unshift(e.target),gU=gU.filter((function(e){return null!=e&&e.isConnected})),gU.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})}));var mU=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((function(e){return"".concat(e,":not([tabindex='-1'])")})).join(","),yU=function(e){return e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e}(yU||{}),bU=function(e){return e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e}(bU||{}),SU=function(e){return e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e}(SU||{});function EU(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(mU)).sort((function(e,t){return Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER))}))}var xU=function(e){return e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e}(xU||{});function wU(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e!==(null==(r=sU(e))?void 0:r.body)&&EF(n,(We(t={},0,(function(){return e.matches(mU)})),We(t,1,(function(){for(var t=e;null!==t;){if(t.matches(mU))return!0;t=t.parentElement}return!1})),t))}function kU(e){var t=sU(e);sF().nextFrame((function(){t&&!wU(t.activeElement,0)&&TU(e)}))}var _U=function(e){return e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e}(_U||{});function TU(e){null==e||e.focus({preventScroll:!0})}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",(function(e){e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")}),!0),document.addEventListener("click",(function(e){1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")}),!0));var AU=["textarea","input"].join(",");function CU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return e.slice().sort((function(e,r){var n=t(e),i=t(r);if(null===n||null===i)return 0;var a=n.compareDocumentPosition(i);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function PU(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.sorted,i=void 0===n||n,a=r.relativeTo,o=void 0===a?null:a,s=r.skipElements,u=void 0===s?[]:s,c=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,l=Array.isArray(e)?i?CU(e):e:EU(e);u.length>0&&l.length>1&&(l=l.filter((function(e){return!u.includes(e)}))),o=null!=o?o:c.activeElement;var d,f=function(){if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),h=function(){if(1&t)return 0;if(2&t)return Math.max(0,l.indexOf(o))-1;if(4&t)return Math.max(0,l.indexOf(o))+1;if(8&t)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),p=32&t?{preventScroll:!0}:{},v=0,g=l.length;do{if(v>=g||v+g<=0)return 0;var m=h+v;if(16&t)m=(m+g)%g;else{if(m<0)return 3;if(m>=g)return 1}null==(d=l[m])||d.focus(p),v+=f}while(d!==c.activeElement);return 6&t&&function(e){var t,r;return null!=(r=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,AU))&&r}(d)&&d.select(),2}var IU=["initialFocus","containers","features"];function OU(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());var t,r=new Set,n=T(e.current);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.current instanceof HTMLElement&&r.add(i.current)}}catch(a){n.e(a)}finally{n.f()}return r}var RU=function(e){return e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e}(RU||{});var NU=BF((function(e,r){var n=(0,t.useRef)(null),i=SF(n,r),a=e.initialFocus,o=e.containers,s=e.features,u=void 0===s?30:s,c=He(e,IU);mF()||(u=1);var l=uU(n);!function(e,r){var n=e.ownerDocument,i=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=(0,t.useRef)(gU.slice());return fU((function(e,t){var n=k(e,1)[0],i=k(t,1)[0];!0===i&&!1===n&&oF((function(){r.current.splice(0)})),!1===i&&!0===n&&(r.current=gU.slice())}),[e,gU,r]),pF((function(){var e;return null!=(e=r.current.find((function(e){return null!=e&&e.isConnected})))?e:null}))}(r);fU((function(){r||(null==n?void 0:n.activeElement)===(null==n?void 0:n.body)&&TU(i())}),[r]),oU((function(){r&&TU(i())}))}({ownerDocument:l},Boolean(16&u));var d=function(e,r){var n=e.ownerDocument,i=e.container,a=e.initialFocus,o=(0,t.useRef)(null),s=vF();return fU((function(){if(r){var e=i.current;e&&oF((function(){if(s.current){var t=null==n?void 0:n.activeElement;if(null!=a&&a.current){if((null==a?void 0:a.current)===t)return void(o.current=t)}else if(e.contains(t))return void(o.current=t);null!=a&&a.current?TU(a.current):PU(e,yU.First)===bU.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.current=null==n?void 0:n.activeElement}}))}}),[r]),o}({ownerDocument:l,container:n,initialFocus:a},Boolean(2&u));!function(e,t){var r=e.ownerDocument,n=e.container,i=e.containers,a=e.previousActiveElement,o=vF();aU(null==r?void 0:r.defaultView,"focus",(function(e){if(t&&o.current){var r=OU(i);n.current instanceof HTMLElement&&r.add(n.current);var s=a.current;if(s){var u=e.target;u&&u instanceof HTMLElement?jU(r,u)?(a.current=u,TU(u)):(e.preventDefault(),e.stopPropagation(),TU(s)):TU(a.current)}}}),!0)}({ownerDocument:l,container:n,containers:o,previousActiveElement:d},Boolean(8&u));var f=dU(),h=pF((function(e){var t=n.current;t&&function(){var r;EF(f.current,(We(r={},lU.Forwards,(function(){PU(t,yU.First,{skipElements:[e.relatedTarget]})})),We(r,lU.Backwards,(function(){PU(t,yU.Last,{skipElements:[e.relatedTarget]})})),r))}()})),p=uF(),v=(0,t.useRef)(!1),g={ref:i,onKeyDown:function(e){"Tab"==e.key&&(v.current=!0,p.requestAnimationFrame((function(){v.current=!1})))},onBlur:function(e){var t,r=OU(o);n.current instanceof HTMLElement&&r.add(n.current);var i=e.relatedTarget;i instanceof HTMLElement&&"true"!==i.dataset.headlessuiFocusGuard&&(jU(r,i)||(v.current?PU(n.current,EF(f.current,(We(t={},lU.Forwards,(function(){return yU.Next})),We(t,lU.Backwards,(function(){return yU.Previous})),t))|yU.WrapAround,{relativeTo:e.target}):e.target instanceof HTMLElement&&TU(e.target)))}};return t.createElement(t.Fragment,null,Boolean(4&u)&&t.createElement(vU,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:pU.Focusable}),jF({ourProps:g,theirProps:c,defaultTag:"div",name:"FocusTrap"}),Boolean(4&u)&&t.createElement(vU,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:pU.Focusable}))})),LU=Object.assign(NU,{features:RU});function jU(e,t){var r,n=T(e);try{for(n.s();!(r=n.n()).done;){if(r.value.contains(t))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}var MU=(0,t.createContext)(!1);function DU(e){return t.createElement(MU.Provider,{value:e.force},e.children)}var FU=["target"];function UU(e){var r=(0,t.useContext)(MU),n=(0,t.useContext)(VU),i=uU(e),a=(0,t.useState)((function(){if(!r&&null!==n||dF.isServer)return null;var e=null==i?void 0:i.getElementById("headlessui-portal-root");if(e)return e;if(null===i)return null;var t=i.createElement("div");return t.setAttribute("id","headlessui-portal-root"),i.body.appendChild(t)})),o=k(a,2),s=o[0],u=o[1];return(0,t.useEffect)((function(){null!==s&&(null!=i&&i.body.contains(s)||null==i||i.body.appendChild(s))}),[s,i]),(0,t.useEffect)((function(){r||null!==n&&u(n.current)}),[n,u,r]),s}var BU=t.Fragment;var GU=t.Fragment,VU=(0,t.createContext)(null);var HU=(0,t.createContext)(null);function WU(){var e=(0,t.useContext)(HU),r=(0,t.useRef)([]),n=pF((function(t){return r.current.push(t),e&&e.register(t),function(){return i(t)}})),i=pF((function(t){var n=r.current.indexOf(t);-1!==n&&r.current.splice(n,1),e&&e.unregister(t)})),a=(0,t.useMemo)((function(){return{register:n,unregister:i,portals:r}}),[n,i,r]);return[r,(0,t.useMemo)((function(){return function(e){var r=e.children;return t.createElement(HU.Provider,{value:a},r)}}),[a])]}var qU=BF((function(e,r){var n=e,i=(0,t.useRef)(null),a=SF(bF((function(e){i.current=e})),r),o=uU(i),s=UU(i),u=(0,t.useState)((function(){var e;return dF.isServer?null:null!=(e=null==o?void 0:o.createElement("div"))?e:null})),c=k(u,1)[0],l=(0,t.useContext)(HU),d=mF();return fF((function(){!s||!c||s.contains(c)||(c.setAttribute("data-headlessui-portal",""),s.appendChild(c))}),[s,c]),fF((function(){if(c&&l)return l.register(c)}),[l,c]),oU((function(){var e;!s||!c||(c instanceof Node&&s.contains(c)&&s.removeChild(c),s.childNodes.length<=0&&(null==(e=s.parentElement)||e.removeChild(s)))})),d&&s&&c?(0,Ra.createPortal)(jF({ourProps:{ref:a},theirProps:n,defaultTag:BU,name:"Portal"}),c):null})),zU=BF((function(e,r){var n=e.target,i=He(e,FU),a={ref:SF(r)};return t.createElement(VU.Provider,{value:n},jF({ourProps:a,theirProps:i,defaultTag:GU,name:"Popover.Group"}))})),YU=Object.assign(qU,{Group:zU});var XU="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},KU=t.useState,JU=t.useEffect,ZU=t.useLayoutEffect,QU=t.useDebugValue;function $U(e){var t=e.getSnapshot,r=e.value;try{var n=t();return!XU(r,n)}catch(i){return!0}}"undefined"!=typeof window&&"undefined"!=typeof window.document&&window.document.createElement;var eB=function(e){return e.useSyncExternalStore}(n);function tB(){var e;return{before:function(t){var r,n=t.doc,i=n.documentElement;e=(null!=(r=n.defaultView)?r:window).innerWidth-i.clientWidth},after:function(t){var r=t.doc,n=t.d,i=r.documentElement,a=i.clientWidth-i.offsetWidth,o=e-a;n.style(i,"paddingRight","".concat(o,"px"))}}}function rB(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function nB(){return rB()||/Android/gi.test(window.navigator.userAgent)}function iB(e){var t,r={},n=T(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;Object.assign(r,i(r))}}catch(a){n.e(a)}finally{n.f()}return r}var aB,oB=function(e,t){var r=e(),n=new Set;return{getSnapshot:function(){return r},subscribe:function(e){return n.add(e),function(){return n.delete(e)}},dispatch:function(e){for(var i,a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];var u=(i=t[e]).call.apply(i,[r].concat(o));u&&(r=u,n.forEach((function(e){return e()})))}}}((function(){return new Map}),{PUSH:function(e,t){var r,n=null!=(r=this.get(e))?r:{doc:e,count:0,d:sF(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP:function(e,t){var r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT:function(e){var t={doc:e.doc,d:e.d,meta:iB(e.meta)},r=[rB()?{before:function(e){var t=e.doc,r=e.d,n=e.meta;function i(e){return n.containers.flatMap((function(e){return e()})).some((function(t){return t.contains(e)}))}r.microTask((function(){var e;if("auto"!==window.getComputedStyle(t.documentElement).scrollBehavior){var n=sF();n.style(t.documentElement,"scrollBehavior","auto"),r.add((function(){return r.microTask((function(){return n.dispose()}))}))}var a=null!=(e=window.scrollY)?e:window.pageYOffset,o=null;r.addEventListener(t,"click",(function(e){if(e.target instanceof HTMLElement)try{var r=e.target.closest("a");if(!r)return;var n=new URL(r.href).hash,a=t.querySelector(n);a&&!i(a)&&(o=a)}catch(s){}}),!0),r.addEventListener(t,"touchstart",(function(e){if(e.target instanceof HTMLElement)if(i(e.target)){for(var t=e.target;t.parentElement&&i(t.parentElement);)t=t.parentElement;r.style(t,"overscrollBehavior","contain")}else r.style(e.target,"touchAction","none")})),r.addEventListener(t,"touchmove",(function(e){if(e.target instanceof HTMLElement)if(i(e.target)){for(var t=e.target;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()}),{passive:!1}),r.add((function(){var e,t=null!=(e=window.scrollY)?e:window.pageYOffset;a!==t&&window.scrollTo(0,a),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)}))}))}}:{},tB(),{before:function(e){var t=e.doc;e.d.style(t.documentElement,"overflow","hidden")}}];r.forEach((function(e){var r=e.before;return null==r?void 0:r(t)})),r.forEach((function(e){var r=e.after;return null==r?void 0:r(t)}))},SCROLL_ALLOW:function(e){e.d.dispose()},TEARDOWN:function(e){var t=e.doc;this.delete(t)}});function sB(e,t,r){var n=function(e){return eB(e.subscribe,e.getSnapshot,e.getSnapshot)}(oB),i=e?n.get(e):void 0,a=!!i&&i.count>0;return fF((function(){if(e&&t)return oB.dispatch("PUSH",e,r),function(){return oB.dispatch("POP",e,r)}}),[t,e]),a}oB.subscribe((function(){var e,t=oB.getSnapshot(),r=new Map,n=T(t);try{for(n.s();!(e=n.n()).done;){var i=k(e.value,1)[0];r.set(i,i.documentElement.style.overflow)}}catch(l){n.e(l)}finally{n.f()}var a,o=T(t.values());try{for(o.s();!(a=o.n()).done;){var s=a.value,u="hidden"===r.get(s.doc),c=0!==s.count;(c&&!u||!c&&u)&&oB.dispatch(s.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",s),0===s.count&&oB.dispatch("TEARDOWN",s)}}catch(l){o.e(l)}finally{o.f()}}));var uB=null!=(aB=t.useId)?aB:function(){var e=mF(),r=k(t.useState(e?function(){return dF.nextId()}:null),2),n=r[0],i=r[1];return fF((function(){null===n&&i(dF.nextId())}),[n]),null!=n?""+n:void 0},cB=new Map,lB=new Map;function dB(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];fF((function(){var r;if(t){var n="function"==typeof e?e():e.current;if(n){var i=null!=(r=lB.get(n))?r:0;return lB.set(n,i+1),0!==i||(cB.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),function(){var e;if(n){var t=null!=(e=lB.get(n))?e:1;if(1===t?lB.delete(n):lB.set(n,t-1),1===t){var r=cB.get(n);r&&(null===r["aria-hidden"]?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",r["aria-hidden"]),n.inert=r.inert,cB.delete(n))}}}}}}),[e,t])}function fB(e,r,n){var i=hF(r);(0,t.useEffect)((function(){function t(e){i.current(e)}return document.addEventListener(e,t,n),function(){return document.removeEventListener(e,t,n)}}),[e,n])}function hB(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=(0,t.useRef)(!1);function a(t,n){if(i.current&&!t.defaultPrevented){var a=n(t);if(null!==a&&a.getRootNode().contains(a)&&a.isConnected){var o,s=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e),u=T(s);try{for(u.s();!(o=u.n()).done;){var c=o.value;if(null!==c){var l=c instanceof HTMLElement?c:c.current;if(null!=l&&l.contains(a)||t.composed&&t.composedPath().includes(l))return}}}catch(d){u.e(d)}finally{u.f()}return!wU(a,xU.Loose)&&-1!==a.tabIndex&&t.preventDefault(),r(t,a)}}}(0,t.useEffect)((function(){requestAnimationFrame((function(){i.current=n}))}),[n]);var o=(0,t.useRef)(null);fB("pointerdown",(function(e){var t,r;i.current&&(o.current=(null==(r=null==(t=e.composedPath)?void 0:t.call(e))?void 0:r[0])||e.target)}),!0),fB("mousedown",(function(e){var t,r;i.current&&(o.current=(null==(r=null==(t=e.composedPath)?void 0:t.call(e))?void 0:r[0])||e.target)}),!0),fB("click",(function(e){nB()||o.current&&(a(e,(function(){return o.current})),o.current=null)}),!0),fB("touchend",(function(e){return a(e,(function(){return e.target instanceof HTMLElement?e.target:null}))}),!0),cU("blur",(function(e){return a(e,(function(){return window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null}))}),!0)}function pB(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.defaultContainers,i=void 0===n?[]:n,a=r.portals,o=r.mainTreeNodeRef,s=(0,t.useRef)(null!=(e=null==o?void 0:o.current)?e:null),u=uU(s),c=pF((function(){var e,t,r,n,o=[],c=T(i);try{for(c.s();!(n=c.n()).done;){var l=n.value;null!==l&&(l instanceof HTMLElement?o.push(l):"current"in l&&l.current instanceof HTMLElement&&o.push(l.current))}}catch(m){c.e(m)}finally{c.f()}if(null!=a&&a.current){var d,f=T(a.current);try{for(f.s();!(d=f.n()).done;){var h=d.value;o.push(h)}}catch(m){f.e(m)}finally{f.f()}}var p,v=T(null!=(e=null==u?void 0:u.querySelectorAll("html > *, body > *"))?e:[]);try{var g=function(){var e=p.value;e!==document.body&&e!==document.head&&e instanceof HTMLElement&&"headlessui-portal-root"!==e.id&&(e.contains(s.current)||e.contains(null==(r=null==(t=s.current)?void 0:t.getRootNode())?void 0:r.host)||o.some((function(t){return e.contains(t)}))||o.push(e))};for(v.s();!(p=v.n()).done;)g()}catch(m){v.e(m)}finally{v.f()}return o}));return{resolveContainers:c,contains:pF((function(e){return c().some((function(t){return t.contains(e)}))})),mainTreeNodeRef:s,MainTreeNode:(0,t.useMemo)((function(){return function(){return null!=o?null:t.createElement(vU,{features:pU.Hidden,ref:s})}}),[s,o])}}var vB=(0,t.createContext)((function(){}));vB.displayName="StackContext";var gB=function(e){return e[e.Add=0]="Add",e[e.Remove=1]="Remove",e}(gB||{});function mB(e){var r=e.children,n=e.onUpdate,i=e.type,a=e.element,o=e.enabled,s=(0,t.useContext)(vB),u=pF((function(){null==n||n.apply(void 0,arguments),s.apply(void 0,arguments)}));return fF((function(){var e=void 0===o||!0===o;return e&&u(0,i,a),function(){e&&u(1,i,a)}}),[u,i,a,o]),t.createElement(vB.Provider,{value:u},r)}function yB(e){for(var t=e.parentElement,r=null;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;var n=""===(null==t?void 0:t.getAttribute("disabled"));return(!n||!function(e){if(!e)return!1;for(var t=e.previousElementSibling;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(r))&&n}var bB=["id"],SB=(0,t.createContext)(null);function EB(){var e=(0,t.useContext)(SB);if(null===e){var r=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,EB),r}return e}function xB(){var e=k((0,t.useState)([]),2),r=e[0],n=e[1];return[r.length>0?r.join(" "):void 0,(0,t.useMemo)((function(){return function(e){var r=pF((function(e){return n((function(t){return[].concat(u(t),[e])})),function(){return n((function(t){var r=t.slice(),n=r.indexOf(e);return-1!==n&&r.splice(n,1),r}))}})),i=(0,t.useMemo)((function(){return{register:r,slot:e.slot,name:e.name,props:e.props}}),[r,e.slot,e.name,e.props]);return t.createElement(SB.Provider,{value:i},e.children)}}),[n])]}var wB=BF((function(e,t){var r=uB(),n=e.id,i=void 0===n?"headlessui-description-".concat(r):n,a=He(e,bB),o=EB(),s=SF(t);return fF((function(){return o.register(i)}),[i,o.register]),jF({ourProps:ze(ze({ref:s},o.props),{},{id:i}),theirProps:a,slot:o.slot||{},defaultTag:"p",name:o.name||"Description"})})),kB=Object.assign(wB,{}),_B=function(e){return e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e}(_B||{}),TB=["id","open","onClose","initialFocus","role","__demoMode"],AB=["id"],CB=["id"],PB=["id"],IB=["id"],OB=function(e){return e[e.Open=0]="Open",e[e.Closed=1]="Closed",e}(OB||{}),RB=function(e){return e[e.SetTitleId=0]="SetTitleId",e}(RB||{}),NB=We({},0,(function(e,t){return e.titleId===t.id?e:ze(ze({},e),{},{titleId:t.id})})),LB=(0,t.createContext)(null);function jB(e){var r=(0,t.useContext)(LB);if(null===r){var n=new Error("<".concat(e," /> is missing a parent <Dialog /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,jB),n}return r}function MB(e,t){return EF(t.type,NB,e,t)}LB.displayName="DialogContext";var DB=NF.RenderStrategy|NF.Static;var FB=BF((function(e,r){var n=uB(),i=e.id,a=void 0===i?"headlessui-dialog-".concat(n):i,o=e.open,s=e.onClose,c=e.initialFocus,l=e.role,d=void 0===l?"dialog":l,f=e.__demoMode,h=void 0!==f&&f,p=He(e,TB),v=k((0,t.useState)(0),2),g=v[0],m=v[1],y=(0,t.useRef)(!1);d="dialog"===d||"alertdialog"===d?d:(y.current||(y.current=!0,console.warn("Invalid role [".concat(d,"] passed to <Dialog />. Only `dialog` and and `alertdialog` are supported. Using `dialog` instead."))),"dialog");var b=AF();void 0===o&&null!==b&&(o=(b&TF.Open)===TF.Open);var S=(0,t.useRef)(null),E=SF(S,r),x=uU(S),w=e.hasOwnProperty("open")||null!==b,_=e.hasOwnProperty("onClose");if(!w&&!_)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!w)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!_)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof o)throw new Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: ".concat(o));if("function"!=typeof s)throw new Error("You provided an `onClose` prop to the `Dialog`, but the value is not a function. Received: ".concat(s));var A=o?0:1,C=k((0,t.useReducer)(MB,{titleId:null,descriptionId:null,panelRef:(0,t.createRef)()}),2),P=C[0],I=C[1],O=pF((function(){return s(!1)})),R=pF((function(e){return I({type:0,id:e})})),N=!!mF()&&(!h&&0===A),L=g>1,j=null!==(0,t.useContext)(LB),M=k(WU(),2),D=M[0],F=M[1],U=pB({portals:D,defaultContainers:[{get current(){var e;return null!=(e=P.panelRef.current)?e:S.current}}]}),B=U.resolveContainers,G=U.mainTreeNodeRef,V=U.MainTreeNode,H=L?"parent":"leaf",W=null!==b&&(b&TF.Closing)===TF.Closing,q=!j&&!W&&N,z=(0,t.useCallback)((function(){var e,t;return null!=(t=Array.from(null!=(e=null==x?void 0:x.querySelectorAll("body > *"))?e:[]).find((function(e){return"headlessui-portal-root"!==e.id&&(e.contains(G.current)&&e instanceof HTMLElement)})))?t:null}),[G]);dB(z,q);var Y=!!L||N,X=(0,t.useCallback)((function(){var e,t;return null!=(t=Array.from(null!=(e=null==x?void 0:x.querySelectorAll("[data-headlessui-portal]"))?e:[]).find((function(e){return e.contains(G.current)&&e instanceof HTMLElement})))?t:null}),[G]);dB(X,Y),hB(B,O,!(!N||L));var K=!(L||0!==A);aU(null==x?void 0:x.defaultView,"keydown",(function(e){K&&(e.defaultPrevented||e.key===_B.Escape&&(e.preventDefault(),e.stopPropagation(),O()))})),function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return[document.body]};sB(e,t,(function(e){var t;return{containers:[].concat(u(null!=(t=e.containers)?t:[]),[r])}}))}(x,!(W||0!==A||j),B),(0,t.useEffect)((function(){if(0===A&&S.current){var e=new ResizeObserver((function(e){var t,r=T(e);try{for(r.s();!(t=r.n()).done;){var n=t.value.target.getBoundingClientRect();0===n.x&&0===n.y&&0===n.width&&0===n.height&&O()}}catch(i){r.e(i)}finally{r.f()}}));return e.observe(S.current),function(){return e.disconnect()}}}),[A,S,O]);var J=k(xB(),2),Z=J[0],Q=J[1],$=(0,t.useMemo)((function(){return[{dialogState:A,close:O,setTitleId:R},P]}),[A,P,O,R]),ee=(0,t.useMemo)((function(){return{open:0===A}}),[A]),te={ref:E,id:a,role:d,"aria-modal":0===A||void 0,"aria-labelledby":P.titleId,"aria-describedby":Z};return t.createElement(mB,{type:"Dialog",enabled:0===A,element:S,onUpdate:pF((function(e,t){var r;"Dialog"===t&&EF(e,(We(r={},gB.Add,(function(){return m((function(e){return e+1}))})),We(r,gB.Remove,(function(){return m((function(e){return e-1}))})),r))}))},t.createElement(DU,{force:!0},t.createElement(YU,null,t.createElement(LB.Provider,{value:$},t.createElement(YU.Group,{target:S},t.createElement(DU,{force:!1},t.createElement(Q,{slot:ee,name:"Dialog.Description"},t.createElement(LU,{initialFocus:c,containers:B,features:N?EF(H,{parent:LU.features.RestoreFocus,leaf:LU.features.All&~LU.features.FocusLock}):LU.features.None},t.createElement(F,null,jF({ourProps:te,theirProps:p,slot:ee,defaultTag:"div",features:DB,visible:0===A,name:"Dialog"}))))))))),t.createElement(V,null))})),UB=BF((function(e,r){var n=uB(),i=e.id,a=void 0===i?"headlessui-dialog-backdrop-".concat(n):i,o=He(e,CB),s=k(jB("Dialog.Backdrop"),2),u=s[0].dialogState,c=s[1],l=SF(r);(0,t.useEffect)((function(){if(null===c.panelRef.current)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")}),[c.panelRef]);var d=(0,t.useMemo)((function(){return{open:0===u}}),[u]);return t.createElement(DU,{force:!0},t.createElement(YU,null,jF({ourProps:{ref:l,id:a,"aria-hidden":!0},theirProps:o,slot:d,defaultTag:"div",name:"Dialog.Backdrop"})))})),BB=BF((function(e,r){var n=uB(),i=e.id,a=void 0===i?"headlessui-dialog-panel-".concat(n):i,o=He(e,PB),s=k(jB("Dialog.Panel"),2),u=s[0].dialogState,c=SF(r,s[1].panelRef),l=(0,t.useMemo)((function(){return{open:0===u}}),[u]),d=pF((function(e){e.stopPropagation()}));return jF({ourProps:{ref:c,id:a,onClick:d},theirProps:o,slot:l,defaultTag:"div",name:"Dialog.Panel"})})),GB=BF((function(e,r){var n=uB(),i=e.id,a=void 0===i?"headlessui-dialog-overlay-".concat(n):i,o=He(e,AB),s=k(jB("Dialog.Overlay"),1)[0],u=s.dialogState,c=s.close,l=SF(r),d=pF((function(e){if(e.target===e.currentTarget){if(yB(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),c()}}));return jF({ourProps:{ref:l,id:a,"aria-hidden":!0,onClick:d},theirProps:o,slot:(0,t.useMemo)((function(){return{open:0===u}}),[u]),defaultTag:"div",name:"Dialog.Overlay"})})),VB=BF((function(e,r){var n=uB(),i=e.id,a=void 0===i?"headlessui-dialog-title-".concat(n):i,o=He(e,IB),s=k(jB("Dialog.Title"),1)[0],u=s.dialogState,c=s.setTitleId,l=SF(r);(0,t.useEffect)((function(){return c(a),function(){return c(null)}}),[a,c]);var d=(0,t.useMemo)((function(){return{open:0===u}}),[u]);return jF({ourProps:{ref:l,id:a},theirProps:o,slot:d,defaultTag:"h2",name:"Dialog.Title"})})),HB=Object.assign(FB,{Backdrop:UB,Panel:BB,Overlay:GB,Title:VB,Description:kB}),WB=["title","titleId"];var qB=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,WB);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"}))})),zB=function(e){var r=e.isModalOpen,n=e.closeModal,i=e.children,a=e.showX;return(0,uw.jsx)(iU.Root,{show:r,as:t.Fragment,children:(0,uw.jsxs)(HB,{as:"div",className:"relative z-[100]",onClose:n,children:[(0,uw.jsx)(iU.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,uw.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,uw.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,uw.jsx)("div",{className:"flex min-h-full items-end justify-center text-center sm:items-center",children:(0,uw.jsx)(iU.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 translate-y-0 scale-95",enterTo:"opacity-100 translate-y-0 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 scale-100",leaveTo:"opacity-0 translate-y-4 translate-y-0 scale-95",children:(0,uw.jsxs)(HB.Panel,{className:"relative mt-8 transform overflow-hidden rounded-t-3xl bg-white px-4 py-12 text-left shadow-xl transition-all sm:mx-4 sm:mb-4 sm:mt-4 sm:rounded-3xl sm:px-6 sm:py-6",children:[a&&(0,uw.jsx)("div",{className:"absolute right-0 top-0 z-[200] block pr-4 pt-4",children:(0,uw.jsxs)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-0",onClick:n,"data-cy":"close-modal-button",children:[(0,uw.jsx)("span",{className:"sr-only",children:"Close"}),(0,uw.jsx)(qB,{className:"h-6 w-6","aria-hidden":"true"})]})}),i]})})})})]})})},YB=function(e){return e.audioPreview.audioPreviewSrc},XB=function(e){return e.audioPreview.audioPreviewVolume},KB=function(e){return e.audioPreview.isAudioPreviewPlaying},JB=["title","titleId"];var ZB=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,JB);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))})),QB=["title","titleId"];var $B=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,QB);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0A.75.75 0 0 1 15 4.5h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z",clipRule:"evenodd"}))})),eG=["title","titleId"];var tG=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,eG);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"}))})),rG=function(e){var r=e.audioSrc,n=e.volume,i=e.className,a=e.disabled,o=jD(),s=MD(YB),u=MD(KB),c=(0,t.useRef)(null),l=u&&r===s,d=(0,t.useCallback)((function(){o(kD.pauseAudioPreview())}),[o]),f=(0,t.useCallback)((function(){o(null==r?kD.pauseAudioPreview():kD.playAudioPreview({newAudioPreviewSrc:r,newAudioPreviewVolume:n}))}),[o,r,n]);return(0,t.useEffect)((function(){l&&o(kD.setAudioPreviewVolume({newAudioPreviewVolume:n}))}),[o,l,n]),(0,t.useEffect)((function(){c.current=s}),[s]),(0,t.useEffect)((function(){return function(){null!=c.current&&o(kD.unmountAudioFromAudioPreview({unmountedAudioSrc:c.current}))}}),[o]),null==r?(0,uw.jsx)(ZB,{className:i}):l?(0,uw.jsx)("button",{className:i,disabled:a,children:(0,uw.jsx)($B,{onClick:d,className:"h-full w-full"})}):(0,uw.jsx)("button",{className:i,disabled:a,children:(0,uw.jsx)(tG,{onClick:f,className:"h-full w-full"})})},nG=["to","removeCurrentQueryParams"],iG=t.forwardRef((function(e,r){var n=jD(),i=tF().urlParamsRecord,a=iF(r),o=e.to,s=e.removeCurrentQueryParams,u=He(e,nG),c=(0,t.useMemo)((function(){try{var e;if(Sn.TypeT.isString(o)&&!o.startsWith("/"))return o;var t=function(){if(Sn.TypeT.isString(o)){var e=Sn.PathH.removeQueryParamsFromPath(o),t=Sn.PathH.removePathnameFromPath(o);if(null==t)return{pathname:e};var r=t.split("#");return{pathname:e,search:Sn.ArrayH.arrGetFirstOrOmit(r),hash:Sn.ArrayH.arrGetOrOmit(r,2)}}return o}(),r=new URLSearchParams(t.search);return JD({pathname:null!==(e=t.pathname)&&void 0!==e?e:"/",newQueryParamsRecord:Sn.PathH.urlSearchParamsToParamsRecord(r),removeCurrentQueryParams:s,hash:t.hash},{urlParamsRecord:i})}catch(a){return n(UM.handleError(a,{defaultErr:Sn.ErrorH.newHiddenError("Failed to construct internalTo for LinkWrapper."),forceHidden:!0})),o}}),[n,s,i,o]);return(0,uw.jsx)(zD,ze({ref:a,to:c},u))})),aG=iG,oG=function(e){var t=e.isModalOpen,r=e.closeModal;return(0,uw.jsx)(zB,{isModalOpen:t,closeModal:r,showX:!0,children:(0,uw.jsx)("div",{className:"max-w-4xl",children:(0,uw.jsxs)("div",{className:"text-base text-gray-900",children:[(0,uw.jsxs)("div",{children:[(0,uw.jsx)("h2",{className:"text-3xl font-semibold text-gray-900",children:(0,uw.jsx)("span",{className:"inline-block bg-gradient-to-bl from-teal-600 to-gray-900 bg-clip-text text-transparent",children:"VideoGen Markup Language (VGML)"})}),(0,uw.jsxs)("p",{className:"mt-2",children:["VGML allows you to customize VideoGen videos by simply adding tags to your script. VGML is supported in all VideoGen scripts, including our"," ",(0,uw.jsx)(aG,{to:"/api",target:"_blank",className:"text-main-600 underline hover:text-main-700",children:"Text-to-Video API"})," ","for programmatic video generation."]})]}),(0,uw.jsxs)("div",{className:"mt-8 border-t border-gray-200 pt-4",children:[(0,uw.jsx)("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Pause"}),(0,uw.jsxs)("p",{children:["The ",(0,uw.jsx)("span",{className:"bg-teal-100",children:"<pause />"})," tag will pause the narration for a specified number of seconds."]}),(0,uw.jsx)("br",{}),(0,uw.jsxs)("p",{children:["You can include fractional seconds as well (e.g. 0.5, 1.25). The following example will say ",(0,uw.jsx)("span",{className:"notranslate",children:'"Hello"'}),", pause for 2 seconds, and then say ",(0,uw.jsx)("span",{className:"notranslate",children:'"Nice to meet you!"'})]}),(0,uw.jsx)("div",{className:"mt-4 rounded-lg border border-gray-200 bg-gray-50 px-2 py-1 text-gray-900",children:(0,uw.jsxs)("div",{className:"notranslate",children:["Hello.",(0,uw.jsx)("span",{className:"bg-teal-100",children:'<pause time="2" />'})," Nice to meet you!"]})}),(0,uw.jsxs)("div",{className:"my-1 inline-flex items-center justify-center space-x-2 text-sm text-gray-500",children:[(0,uw.jsx)(rG,{audioSrc:"https://storage.googleapis.com/videogen-assets/pause_example.mp3",volume:1,className:"h-4 w-4 text-gray-900"}),(0,uw.jsx)("span",{children:"Listen to the example above"})]}),(0,uw.jsx)("br",{}),(0,uw.jsx)("span",{className:"mt-4 block text-sm font-semibold text-gray-900",children:"Attributes:"}),(0,uw.jsx)("ul",{className:"mt-2 list-inside list-disc text-sm text-gray-700",children:(0,uw.jsxs)("li",{children:[(0,uw.jsx)("span",{className:"font-semibold text-gray-900",children:"time"})," (required): The number of seconds to pause for."]})})]}),(0,uw.jsxs)("div",{className:"mt-8 border-t border-gray-200 pt-4",children:[(0,uw.jsx)("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Speech"}),(0,uw.jsxs)("p",{className:"mb-4",children:["The ",(0,uw.jsx)("span",{className:"bg-teal-100",children:"<speech>"})," tag will specifiy the AI voice, volume, and caption visibility for a specific block of text. Many users use"," ",(0,uw.jsx)("span",{className:"bg-teal-100",children:"<speech>"})," tags to add multiple voices to their videos.",(0,uw.jsx)("br",{}),(0,uw.jsx)("br",{}),"The following example will say ",(0,uw.jsx)("span",{children:'"Hello"'})," in Elizabeth's voice, pause for 0.5 seconds, and then say ",(0,uw.jsx)("span",{children:'"Hola"'})," in Adam's voice."]}),(0,uw.jsx)("div",{className:"rounded-lg border border-gray-200 bg-gray-50 px-2 py-1 text-gray-900",children:(0,uw.jsxs)("div",{className:"notranslate",children:[(0,uw.jsx)("span",{className:"bg-teal-100",children:'<speech voice="Elizabeth">'}),"Hello.",(0,uw.jsx)("span",{className:"bg-teal-100",children:"</speech>"}),(0,uw.jsx)("br",{}),(0,uw.jsx)("span",{className:"bg-teal-100",children:'<pause time="0.5" />'}),(0,uw.jsx)("br",{}),(0,uw.jsx)("span",{className:"bg-teal-100",children:'<speech voice="Adam">'}),"Hola.",(0,uw.jsx)("span",{className:"bg-teal-100",children:"</speech>"})]})}),(0,uw.jsxs)("div",{className:"my-1 inline-flex items-center justify-center space-x-2 text-sm text-gray-500",children:[(0,uw.jsx)(rG,{audioSrc:"https://storage.googleapis.com/videogen-assets/speech_example.mp3",volume:1,className:"h-4 w-4 text-gray-900"}),(0,uw.jsx)("span",{children:"Listen to the example above"})]}),(0,uw.jsx)("br",{}),(0,uw.jsx)("span",{className:"mt-4 block text-sm font-semibold text-gray-900",children:"Attributes:"}),(0,uw.jsxs)("ul",{className:"mt-2 list-inside list-disc text-sm text-gray-700",children:[(0,uw.jsxs)("li",{children:[(0,uw.jsx)("span",{className:"font-semibold text-gray-900",children:"voice"})," (optional): The name of the AI voice from VideoGen's voice library."]}),(0,uw.jsxs)("li",{children:[(0,uw.jsx)("span",{className:"font-semibold text-gray-900",children:"volume"})," (optional): The volume of the audio between 0 and 1. The default is 1."]}),(0,uw.jsxs)("li",{children:[(0,uw.jsx)("span",{className:"font-semibold text-gray-900",children:"hidden"}),' (optional): Whether to hide captions for the text ("true" or "false"). The default is false.']})]})]})]})})})},sG=["title","titleId"];var uG=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,sG);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"}))})),cG=function(e){var r=e.text,n=e.onChangeText,i=e.minRows,a=e.scriptWarning,o=e.autoFocus,s=jD(),u=MD(aw.selectPrivateWorkspaceInfo),c=(0,t.useRef)(null),l=function(e){var r=k((0,t.useState)(e),2),n=r[0],i=r[1],a=(0,t.useCallback)((function(){i(!1)}),[]),o=(0,t.useCallback)((function(){i(!0)}),[]),s=(0,t.useCallback)((function(){i((function(e){return!e}))}),[]);return{value:n,setValue:i,setValueFalse:a,setValueTrue:o,toggleValue:s}}(!1),d=l.value,f=l.setValueFalse,h=l.setValueTrue,p=(0,t.useMemo)((function(){var e=Sn.WorkspaceH.getWorkspaceAuthLevel(u);return Sn.WorkspaceH.getWorkspaceAuthLevelUsageLimits(e).numCharsPerScript}),[u]);return(0,uw.jsxs)("div",{className:"relative flex h-full flex-col items-stretch",children:[(0,uw.jsx)("div",{className:"relative flex-grow overflow-hidden",children:(0,uw.jsx)(Mn,{ref:c,className:Dn("text-md z-5 relative block max-h-full w-full cursor-text rounded-xl border-gray-200 bg-transparent bg-none px-3 py-2 text-gray-900 opacity-100 outline-none ring-0 transition-colors placeholder:text-gray-400 focus:outline-none focus:ring-1 focus:ring-inset",a?"border-red-500 hover:border-red-600 focus:border-red-600 focus:ring-red-600":"border-gray-200 hover:border-gray-300 focus:border-gray-700 focus:ring-gray-700"),value:r,onChange:function(e){try{if(e.target.value.length>=p&&e.target.value.length>r.length)throw Sn.ErrorH.newPermissionsError({workspaceInfo:u,requiredWorkspaceAuthLevel:Sn.WorkspaceH.getNextHighestWorkspaceAuthLevel(Sn.WorkspaceH.getWorkspaceAuthLevel(u)),upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"create longer scripts"});n(e.target.value)}catch(t){s(UM.handleError(t,{defaultErr:Sn.ErrorH.newWarningError("Your script is too long. The max length is ".concat(Sn.StringH.formatNumber(p),"."))}))}},minRows:i,style:{resize:"none"},placeholder:"Write a script that the AI Narrator will read aloud...",autoFocus:o})}),(0,uw.jsxs)("div",{className:"mt-2 flex flex-shrink-0 flex-row justify-between",children:[(0,uw.jsx)("span",{className:Dn("notranslate -mt-1 text-sm text-gray-500",r.length>p||a?"text-red-500":""),children:a?(0,uw.jsx)(uw.Fragment,{children:a}):(0,uw.jsxs)(uw.Fragment,{children:[r.length,"/",p]})}),(0,uw.jsx)("div",{className:"flex items-center",children:(0,uw.jsxs)("button",{className:"ml-2 inline-flex items-center justify-center rounded-lg bg-gray-100 px-2 py-1 text-sm font-medium transition-all hover:bg-gray-200",onClick:h,children:[(0,uw.jsx)(uG,{className:"inline-flex h-4 w-4"}),(0,uw.jsx)("span",{className:"hidden sm:inline-flex lg:hidden xl:inline-flex",children:"\xa0Advanced options\xa0(pauses, multiple speakers, etc.)"}),(0,uw.jsx)("span",{className:"inline-flex sm:hidden lg:inline-flex xl:hidden",children:"\xa0Advanced options"})]})})]}),(0,uw.jsx)(oG,{isModalOpen:d,closeModal:f})]})},lG=function(){var e=jD(),r=MD(kk.selectProjectBlock),n=(0,t.useCallback)((function(t){e(ZN.setBlockDraftText({newDraftText:t}))}),[e]);return(0,uw.jsx)("div",{className:"relative h-full py-3",id:"script-container",children:(0,uw.jsx)("div",{className:"relative box-border h-full",children:(0,uw.jsx)(cG,{text:r.draftText,onChangeText:n,minRows:50,scriptWarning:""===r.draftText?"Please write a script.":""})})})},dG=["title","titleId"];var fG=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,dG);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z",clipRule:"evenodd"}),t.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))})),hG=["title","titleId"];var pG=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,hG);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M1.5 6a2.25 2.25 0 0 1 2.25-2.25h16.5A2.25 2.25 0 0 1 22.5 6v12a2.25 2.25 0 0 1-2.25 2.25H3.75A2.25 2.25 0 0 1 1.5 18V6ZM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0 0 21 18v-1.94l-2.69-2.689a1.5 1.5 0 0 0-2.12 0l-.88.879.97.97a.75.75 0 1 1-1.06 1.06l-5.16-5.159a1.5 1.5 0 0 0-2.12 0L3 16.061Zm10.125-7.81a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Z",clipRule:"evenodd"}))})),vG=["title","titleId"];var gG=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,vG);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M19.952 1.651a.75.75 0 0 1 .298.599V16.303a3 3 0 0 1-2.176 2.884l-1.32.377a2.553 2.553 0 1 1-1.403-4.909l2.311-.66a1.5 1.5 0 0 0 1.088-1.442V6.994l-9 2.572v9.737a3 3 0 0 1-2.176 2.884l-1.32.377a2.553 2.553 0 1 1-1.402-4.909l2.31-.66a1.5 1.5 0 0 0 1.088-1.442V5.25a.75.75 0 0 1 .544-.721l10.5-3a.75.75 0 0 1 .658.122Z",clipRule:"evenodd"}))})),mG=["title","titleId"];var yG=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,mG);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"M8.25 4.5a3.75 3.75 0 1 1 7.5 0v8.25a3.75 3.75 0 1 1-7.5 0V4.5Z"}),t.createElement("path",{d:"M6 10.5a.75.75 0 0 1 .75.75v1.5a5.25 5.25 0 1 0 10.5 0v-1.5a.75.75 0 0 1 1.5 0v1.5a6.751 6.751 0 0 1-6 6.709v2.291h3a.75.75 0 0 1 0 1.5h-7.5a.75.75 0 0 1 0-1.5h3v-2.291a6.751 6.751 0 0 1-6-6.709v-1.5A.75.75 0 0 1 6 10.5Z"}))})),bG=["title","titleId"];var SG=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,bG);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M4.848 2.771A49.144 49.144 0 0 1 12 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 0 1-3.476.383.39.39 0 0 0-.297.17l-2.755 4.133a.75.75 0 0 1-1.248 0l-2.755-4.133a.39.39 0 0 0-.297-.17 48.9 48.9 0 0 1-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97ZM6.75 8.25a.75.75 0 0 1 .75-.75h9a.75.75 0 0 1 0 1.5h-9a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H7.5Z",clipRule:"evenodd"}))})),EG=["title","titleId"];var xG=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,EG);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))})),wG=["title","titleId"];var kG=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,wG);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))})),_G=["title","titleId"];var TG=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,_G);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z"}))})),AG=["title","titleId"];var CG=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,AG);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"}))})),PG=["title","titleId"];var IG=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,PG);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))})),OG=["title","titleId"];var RG=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,OG);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z",clipRule:"evenodd"}))})),NG=function(e){var t=e.isSelected,r=e.onClick,n=e.className,i=e.children;return(0,uw.jsxs)("button",{onClick:r,className:Dn("relative flex items-center justify-between gap-4 rounded-xl border py-2 pl-4 pr-8 transition-colors",t?"border-gray-200 bg-gray-100":"border-gray-200 hover:border-gray-300 hover:bg-gray-100",null!==n&&void 0!==n?n:""),children:[(0,uw.jsx)("div",{className:"flex-grow",children:i}),(0,uw.jsx)("div",{className:Dn("absolute right-0.5 top-0.5 h-6 w-6 text-gray-900 transition-opacity",t?"opacity-100":" opacity-0"),children:(0,uw.jsx)(RG,{className:"h-full w-full"})})]})},LG=(0,t.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),jG=(0,t.createContext)({}),MG=(0,t.createContext)(null),DG="undefined"!==typeof document,FG=DG?t.useLayoutEffect:t.useEffect,UG=(0,t.createContext)({strict:!1}),BG=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},GG="data-"+BG("framerAppearId"),VG=!1,HG=!1,WG=function(){function e(){c(this,e),this.order=[],this.scheduled=new Set}return h(e,[{key:"add",value:function(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}},{key:"remove",value:function(e){var t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}},{key:"clear",value:function(){this.order.length=0,this.scheduled.clear()}}]),e}();var qG=["prepare","read","update","preRender","render","postRender"];function zG(e,t){var r=!1,n=!0,i={delta:0,timestamp:0,isProcessing:!1},a=qG.reduce((function(e,t){return e[t]=function(e){var t=new WG,r=new WG,n=0,i=!1,a=!1,o=new WeakSet,s={schedule:function(e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=a?t:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),s.add(e)&&a&&i&&(n=t.order.length),e},cancel:function(e){r.remove(e),o.delete(e)},process:function(u){if(i)a=!0;else{i=!0;var c=[r,t];if(t=c[0],(r=c[1]).clear(),n=t.order.length)for(var l=0;l<n;l++){var d=t.order[l];o.has(d)&&(s.schedule(d),e()),d(u)}i=!1,a&&(a=!1,s.process(u))}}};return s}((function(){return r=!0})),e}),{}),o=function(e){a[e].process(i)},s=function a(){var s=HG?i.timestamp:performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,qG.forEach(o),i.isProcessing=!1,r&&t&&(n=!1,e(a))},u=qG.reduce((function(t,o){var u=a[o];return t[o]=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r||(r=!0,n=!0,i.isProcessing||e(s)),u.schedule(t,a,o)},t}),{});return{schedule:u,cancel:function(e){return qG.forEach((function(t){return a[t].cancel(e)}))},state:i,steps:a}}var YG=zG(queueMicrotask,!1),XG=YG.schedule;YG.cancel;function KG(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function JG(e){return"string"===typeof e||Array.isArray(e)}function ZG(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}var QG=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$G=["initial"].concat(QG);function eV(e){return ZG(e.animate)||$G.some((function(t){return JG(e[t])}))}function tV(e){return Boolean(eV(e)||e.variants)}function rV(e){var r=function(e,t){if(eV(e)){var r=e.initial,n=e.animate;return{initial:!1===r||JG(r)?r:void 0,animate:JG(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(jG)),n=r.initial,i=r.animate;return(0,t.useMemo)((function(){return{initial:n,animate:i}}),[nV(n),nV(i)])}function nV(e){return Array.isArray(e)?e.join(" "):e}var iV={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},aV={},oV=function(e){aV[e]={isEnabled:function(t){return iV[e].some((function(e){return!!t[e]}))}}};for(var sV in iV)oV(sV);var uV=(0,t.createContext)({}),cV=(0,t.createContext)({}),lV=Symbol.for("motionComponentSymbol");function dV(e){var r=e.preloadedFeatures,n=e.createVisualElement,i=e.useRender,a=e.useVisualState,o=e.Component;r&&function(e){for(var t in e)aV[t]=ze(ze({},aV[t]),e[t])}(r);var s=(0,t.forwardRef)((function(e,s){var u,c=ze(ze(ze({},(0,t.useContext)(LG)),e),{},{layoutId:fV(e)}),l=c.isStatic,d=rV(e),f=a(e,l);if(!l&&DG){d.visualElement=function(e,r,n,i){var a=(0,t.useContext)(jG).visualElement,o=(0,t.useContext)(UG),s=(0,t.useContext)(MG),u=(0,t.useContext)(LG).reducedMotion,c=(0,t.useRef)();i=i||o.renderer,!c.current&&i&&(c.current=i(e,{visualState:r,parent:a,props:n,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:u}));var l=c.current;(0,t.useInsertionEffect)((function(){l&&l.update(n,s)}));var d=(0,t.useRef)(Boolean(n[GG]&&!window.HandoffComplete));return FG((function(){l&&(XG.postRender(l.render),d.current&&l.animationState&&l.animationState.animateChanges())})),(0,t.useEffect)((function(){l&&(l.updateFeatures(),!d.current&&l.animationState&&l.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))})),l}(o,f,c,n);var h=(0,t.useContext)(cV),p=(0,t.useContext)(UG).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,p,r,h))}return t.createElement(jG.Provider,{value:d},u&&d.visualElement?t.createElement(u,ze({visualElement:d.visualElement},c)):null,i(o,e,function(e,r,n){return(0,t.useCallback)((function(t){t&&e.mount&&e.mount(t),r&&(t?r.mount(t):r.unmount()),n&&("function"===typeof n?n(t):KG(n)&&(n.current=t))}),[r])}(f,d.visualElement,s),f,l,d.visualElement))}));return s[lV]=o,s}function fV(e){var r=e.layoutId,n=(0,t.useContext)(uV).id;return n&&void 0!==r?n+"-"+r:r}function hV(e){function t(t){return dV(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;var r=new Map;return new Proxy(t,{get:function(e,n){return r.has(n)||r.set(n,t(n)),r.get(n)}})}var pV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vV(e){return"string"===typeof e&&!e.includes("-")&&!!(pV.indexOf(e)>-1||/[A-Z]/.test(e))}var gV={};var mV=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yV=new Set(mV);function bV(e,t){var r=t.layout,n=t.layoutId;return yV.has(e)||e.startsWith("origin")||(r||void 0!==n)&&(!!gV[e]||"opacity"===e)}var SV=function(e){return Boolean(e&&e.getVelocity)},EV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xV=mV.length;var wV=function(e){return function(t){return"string"===typeof t&&t.startsWith(e)}},kV=wV("--"),_V=wV("var(--"),TV=function(e){return!!_V(e)&&AV.test(e.split("/*")[0].trim())},AV=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)$/i,CV=function(e,t){return t&&"number"===typeof e?t.transform(e):e},PV=function(e,t,r){return r>t?t:r<e?e:r},IV={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},OV=ze(ze({},IV),{},{transform:function(e){return PV(0,1,e)}}),RV=ze(ze({},IV),{},{default:1}),NV=function(e){return Math.round(1e5*e)/1e5},LV=/(-)?([\d]*\.?[\d])+/g,jV=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,MV=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function DV(e){return"string"===typeof e}var FV=function(e){return{test:function(t){return DV(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},UV=FV("deg"),BV=FV("%"),GV=FV("px"),VV=FV("vh"),HV=FV("vw"),WV=ze(ze({},BV),{},{parse:function(e){return BV.parse(e)/100},transform:function(e){return BV.transform(100*e)}}),qV=ze(ze({},IV),{},{transform:Math.round}),zV={borderWidth:GV,borderTopWidth:GV,borderRightWidth:GV,borderBottomWidth:GV,borderLeftWidth:GV,borderRadius:GV,radius:GV,borderTopLeftRadius:GV,borderTopRightRadius:GV,borderBottomRightRadius:GV,borderBottomLeftRadius:GV,width:GV,maxWidth:GV,height:GV,maxHeight:GV,size:GV,top:GV,right:GV,bottom:GV,left:GV,padding:GV,paddingTop:GV,paddingRight:GV,paddingBottom:GV,paddingLeft:GV,margin:GV,marginTop:GV,marginRight:GV,marginBottom:GV,marginLeft:GV,rotate:UV,rotateX:UV,rotateY:UV,rotateZ:UV,scale:RV,scaleX:RV,scaleY:RV,scaleZ:RV,skew:UV,skewX:UV,skewY:UV,distance:GV,translateX:GV,translateY:GV,translateZ:GV,x:GV,y:GV,z:GV,perspective:GV,transformPerspective:GV,opacity:OV,originX:WV,originY:WV,originZ:GV,zIndex:qV,fillOpacity:OV,strokeOpacity:OV,numOctaves:qV};function YV(e,t,r,n){var i=e.style,a=e.vars,o=e.transform,s=e.transformOrigin,u=!1,c=!1,l=!0;for(var d in t){var f=t[d];if(kV(d))a[d]=f;else{var h=zV[d],p=CV(f,h);if(yV.has(d)){if(u=!0,o[d]=p,!l)continue;f!==(h.default||0)&&(l=!1)}else d.startsWith("origin")?(c=!0,s[d]=p):i[d]=p}}if(t.transform||(u||n?i.transform=function(e,t,r,n){for(var i=t.enableHardwareAcceleration,a=void 0===i||i,o=t.allowTransformNone,s=void 0===o||o,u="",c=0;c<xV;c++){var l=mV[c];if(void 0!==e[l]){var d=EV[l]||l;u+="".concat(d,"(").concat(e[l],") ")}}return a&&!e.z&&(u+="translateZ(0)"),u=u.trim(),n?u=n(e,r?"":u):s&&r&&(u="none"),u}(e.transform,r,l,n):i.transform&&(i.transform="none")),c){var v=s.originX,g=void 0===v?"50%":v,m=s.originY,y=void 0===m?"50%":m,b=s.originZ,S=void 0===b?0:b;i.transformOrigin="".concat(g," ").concat(y," ").concat(S)}}var XV=function(){return{style:{},transform:{},transformOrigin:{},vars:{}}};function KV(e,t,r){for(var n in t)SV(t[n])||bV(n,r)||(e[n]=t[n])}function JV(e,r,n){var i={};return KV(i,e.style||{},e),Object.assign(i,function(e,r,n){var i=e.transformTemplate;return(0,t.useMemo)((function(){var e=XV();return YV(e,r,{enableHardwareAcceleration:!n},i),Object.assign({},e.vars,e.style)}),[r])}(e,r,n)),i}function ZV(e,t,r){var n={},i=JV(e,t,r);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}var QV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $V(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||QV.has(e)}var eH,tH=function(e){return!$V(e)};try{(eH=require("@emotion/is-prop-valid").default)&&(tH=function(e){return e.startsWith("on")?!$V(e):eH(e)})}catch(Lue){}function rH(e,t,r){return"string"===typeof e?e:GV.transform(t+r*e)}var nH={offset:"stroke-dashoffset",array:"stroke-dasharray"},iH={offset:"strokeDashoffset",array:"strokeDasharray"};var aH=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function oH(e,t,r,n,i){var a=t.attrX,o=t.attrY,s=t.attrScale,u=t.originX,c=t.originY,l=t.pathLength,d=t.pathSpacing,f=void 0===d?1:d,h=t.pathOffset,p=void 0===h?0:h;if(YV(e,He(t,aH),r,i),n)e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);else{e.attrs=e.style,e.style={};var v=e.attrs,g=e.style,m=e.dimensions;v.transform&&(m&&(g.transform=v.transform),delete v.transform),m&&(void 0!==u||void 0!==c||g.transform)&&(g.transformOrigin=function(e,t,r){var n=rH(t,e.x,e.width),i=rH(r,e.y,e.height);return"".concat(n," ").concat(i)}(m,void 0!==u?u:.5,void 0!==c?c:.5)),void 0!==a&&(v.x=a),void 0!==o&&(v.y=o),void 0!==s&&(v.scale=s),void 0!==l&&function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;var a=i?nH:iH;e[a.offset]=GV.transform(-n);var o=GV.transform(t),s=GV.transform(r);e[a.array]="".concat(o," ").concat(s)}(v,l,f,p,!1)}}var sH=function(){return ze(ze({},XV()),{},{attrs:{}})},uH=function(e){return"string"===typeof e&&"svg"===e.toLowerCase()};function cH(e,r,n,i){var a=(0,t.useMemo)((function(){var t=sH();return oH(t,r,{enableHardwareAcceleration:!1},uH(i),e.transformTemplate),ze(ze({},t.attrs),{},{style:ze({},t.style)})}),[r]);if(e.style){var o={};KV(o,e.style,e),a.style=ze(ze({},o),a.style)}return a}function lH(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(r,n,i,a,o){var s=a.latestValues,u=(vV(r)?cH:ZV)(n,s,o,r),c=function(e,t,r){var n={};for(var i in e)"values"===i&&"object"===typeof e.values||(tH(i)||!0===r&&$V(i)||!t&&!$V(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}(n,"string"===typeof r,e),l=r!==t.Fragment?ze(ze(ze({},c),u),{},{ref:i}):{},d=n.children,f=(0,t.useMemo)((function(){return SV(d)?d.get():d}),[d]);return(0,t.createElement)(r,ze(ze({},l),{},{children:f}))}}function dH(e,t,r,n){var i=t.style,a=t.vars;for(var o in Object.assign(e.style,i,n&&n.getProjectionStyles(r)),a)e.style.setProperty(o,a[o])}var fH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hH(e,t,r,n){for(var i in dH(e,t,void 0,n),t.attrs)e.setAttribute(fH.has(i)?i:BG(i),t.attrs[i])}function pH(e,t){var r=e.style,n={};for(var i in r)(SV(r[i])||t.style&&SV(t.style[i])||bV(i,e))&&(n[i]=r[i]);return n}function vH(e,t){var r=pH(e,t);for(var n in e){if(SV(e[n])||SV(t[n]))r[-1!==mV.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n]=e[n]}return r}function gH(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==r?r:e.custom,n,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==r?r:e.custom,n,i)),t}function mH(e){var r=(0,t.useRef)(null);return null===r.current&&(r.current=e()),r.current}var yH=function(e){return Array.isArray(e)},bH=function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)},SH=function(e){return yH(e)?e[e.length-1]||0:e};function EH(e){var t=SV(e)?e.get():e;return bH(t)?t.toValue():t}var xH=["transitionEnd","transition"];var wH=function(e){return function(r,n){var i=(0,t.useContext)(jG),a=(0,t.useContext)(MG),o=function(){return function(e,t,r,n){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,o=e.onMount,s={latestValues:kH(t,r,n,i),renderState:a()};return o&&(s.mount=function(e){return o(t,e,s)}),s}(e,r,i,a)};return n?o():mH(o)}};function kH(e,t,r,n){var i={},a=n(e,{});for(var o in a)i[o]=EH(a[o]);var s=e.initial,u=e.animate,c=eV(e),l=tV(e);t&&l&&!c&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===u&&(u=t.animate));var d=!!r&&!1===r.initial,f=(d=d||!1===s)?u:s;f&&"boolean"!==typeof f&&!ZG(f)&&(Array.isArray(f)?f:[f]).forEach((function(t){var r=gH(e,t);if(r){var n=r.transitionEnd,a=(r.transition,He(r,xH));for(var o in a){var s=a[o];if(Array.isArray(s))s=s[d?s.length-1:0];null!==s&&(i[o]=s)}for(var u in n)i[u]=n[u]}}));return i}var _H=function(e){return e},TH=zG("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:_H,!0),AH=TH.schedule,CH=TH.cancel,PH=TH.state,IH=TH.steps,OH={useVisualState:wH({scrapeMotionValuesFromProps:vH,createRenderState:sH,onMount:function(e,t,r){var n=r.renderState,i=r.latestValues;AH.read((function(){try{n.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(Nue){n.dimensions={x:0,y:0,width:0,height:0}}})),AH.render((function(){oH(n,i,{enableHardwareAcceleration:!1},uH(t.tagName),e.transformTemplate),hH(t,n)}))}})},RH={useVisualState:wH({scrapeMotionValuesFromProps:pH,createRenderState:XV})};function NH(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,r,n),function(){return e.removeEventListener(t,r)}}var LH=function(e){return"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary};function jH(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}var MH=function(e){return function(t){return LH(t)&&e(t,jH(t))}};function DH(e,t,r,n){return NH(e,t,MH(r),n)}var FH=function(e,t){return function(r){return t(e(r))}},UH=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(FH)};function BH(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var GH=BH("dragHorizontal"),VH=BH("dragVertical");function HH(e){var t=!1;if("y"===e)t=VH();else if("x"===e)t=GH();else{var r=GH(),n=VH();r&&n?t=function(){r(),n()}:(r&&r(),n&&n())}return t}function WH(){var e=HH(!0);return!e||(e(),!1)}var qH=function(){function e(t){c(this,e),this.isMounted=!1,this.node=t}return h(e,[{key:"update",value:function(){}}]),e}();function zH(e,t){var r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End");return DH(e.current,r,(function(r,i){if("touch"!==r.pointerType&&!WH()){var a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[n]&&AH.update((function(){return a[n](r,i)}))}}),{passive:!e.getProps()[n]})}var YH=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"mount",value:function(){this.unmount=UH(zH(this.node,!0),zH(this.node,!1))}},{key:"unmount",value:function(){}}]),r}(qH),XH=function(e){v(r,e);var t=b(r);function r(){var e;return c(this,r),(e=t.apply(this,arguments)).isActive=!1,e}return h(r,[{key:"onFocus",value:function(){var e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Nue){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}},{key:"onBlur",value:function(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}},{key:"mount",value:function(){var e=this;this.unmount=UH(NH(this.node.current,"focus",(function(){return e.onFocus()})),NH(this.node.current,"blur",(function(){return e.onBlur()})))}},{key:"unmount",value:function(){}}]),r}(qH),KH=function e(t,r){return!!r&&(t===r||e(t,r.parentElement))};function JH(e,t){if(t){var r=new PointerEvent("pointer"+e);t(r,jH(r))}}var ZH=function(e){v(r,e);var t=b(r);function r(){var e;return c(this,r),(e=t.apply(this,arguments)).removeStartListeners=_H,e.removeEndListeners=_H,e.removeAccessibleListeners=_H,e.startPointerPress=function(t,r){if(!e.isPressing){e.removeEndListeners();var n=e.node.getProps(),i=DH(window,"pointerup",(function(t,r){if(e.checkPressEnd()){var n=e.node.getProps(),i=n.onTap,a=n.onTapCancel,o=n.globalTapTarget;AH.update((function(){o||KH(e.node.current,t.target)?i&&i(t,r):a&&a(t,r)}))}}),{passive:!(n.onTap||n.onPointerUp)}),a=DH(window,"pointercancel",(function(t,r){return e.cancelPress(t,r)}),{passive:!(n.onTapCancel||n.onPointerCancel)});e.removeEndListeners=UH(i,a),e.startPress(t,r)}},e.startAccessiblePress=function(){var t=NH(e.node.current,"keydown",(function(t){if("Enter"===t.key&&!e.isPressing){e.removeEndListeners(),e.removeEndListeners=NH(e.node.current,"keyup",(function(t){"Enter"===t.key&&e.checkPressEnd()&&JH("up",(function(t,r){var n=e.node.getProps().onTap;n&&AH.update((function(){return n(t,r)}))}))})),JH("down",(function(t,r){e.startPress(t,r)}))}})),r=NH(e.node.current,"blur",(function(){e.isPressing&&JH("cancel",(function(t,r){return e.cancelPress(t,r)}))}));e.removeAccessibleListeners=UH(t,r)},e}return h(r,[{key:"startPress",value:function(e,t){this.isPressing=!0;var r=this.node.getProps(),n=r.onTapStart;r.whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&AH.update((function(){return n(e,t)}))}},{key:"checkPressEnd",value:function(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!WH()}},{key:"cancelPress",value:function(e,t){if(this.checkPressEnd()){var r=this.node.getProps().onTapCancel;r&&AH.update((function(){return r(e,t)}))}}},{key:"mount",value:function(){var e=this.node.getProps(),t=DH(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=NH(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=UH(t,r)}},{key:"unmount",value:function(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}]),r}(qH),QH=["root"],$H=new WeakMap,eW=new WeakMap,tW=function(e){var t=$H.get(e.target);t&&t(e)},rW=function(e){e.forEach(tW)};function nW(e,t,r){var n=function(e){var t=e.root,r=He(e,QH),n=t||document;eW.has(n)||eW.set(n,{});var i=eW.get(n),a=JSON.stringify(r);return i[a]||(i[a]=new IntersectionObserver(rW,ze({root:t},r))),i[a]}(t);return $H.set(e,r),n.observe(e),function(){$H.delete(e),n.unobserve(e)}}var iW={some:0,all:1},aW=function(e){v(r,e);var t=b(r);function r(){var e;return c(this,r),(e=t.apply(this,arguments)).hasEnteredView=!1,e.isInView=!1,e}return h(r,[{key:"startObserver",value:function(){var e=this;this.unmount();var t=this.node.getProps().viewport,r=void 0===t?{}:t,n=r.root,i=r.margin,a=r.amount,o=void 0===a?"some":a,s=r.once,u={root:n?n.current:void 0,rootMargin:i,threshold:"number"===typeof o?o:iW[o]};return nW(this.node.current,u,(function(t){var r=t.isIntersecting;if(e.isInView!==r&&(e.isInView=r,!s||r||!e.hasEnteredView)){r&&(e.hasEnteredView=!0),e.node.animationState&&e.node.animationState.setActive("whileInView",r);var n=e.node.getProps(),i=n.onViewportEnter,a=n.onViewportLeave,o=r?i:a;o&&o(t)}}))}},{key:"mount",value:function(){this.startObserver()}},{key:"update",value:function(){if("undefined"!==typeof IntersectionObserver){var e=this.node,t=e.props,r=e.prevProps,n=["amount","margin","root"].some(function(e){var t=e.viewport,r=void 0===t?{}:t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.viewport,a=void 0===i?{}:i;return function(e){return r[e]!==a[e]}}(t,r));n&&this.startObserver()}}},{key:"unmount",value:function(){}}]),r}(qH);var oW={inView:{Feature:aW},tap:{Feature:ZH},focus:{Feature:XH},hover:{Feature:YH}};function sW(e,t){if(!Array.isArray(t))return!1;var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function uW(e,t,r){var n=e.getProps();return gH(n,t,void 0!==r?r:n.custom,function(e){var t={};return e.values.forEach((function(e,r){return t[r]=e.get()})),t}(e),function(e){var t={};return e.values.forEach((function(e,r){return t[r]=e.getVelocity()})),t}(e))}var cW=_H,lW=_H;var dW=function(e){return 1e3*e},fW=function(e){return e/1e3},hW=!1,pW=function(e){return Array.isArray(e)&&"number"===typeof e[0]};function vW(e){return Boolean(!e||"string"===typeof e&&mW[e]||pW(e)||Array.isArray(e)&&e.every(vW))}var gW=function(e){var t=k(e,4),r=t[0],n=t[1],i=t[2],a=t[3];return"cubic-bezier(".concat(r,", ").concat(n,", ").concat(i,", ").concat(a,")")},mW={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gW([0,.65,.55,1]),circOut:gW([.55,0,1,.45]),backIn:gW([.31,.01,.66,-.59]),backOut:gW([.33,1.53,.69,.99])};function yW(e){if(e)return pW(e)?gW(e):Array.isArray(e)?e.map(yW):mW[e]}var bW=function(e,t,r){return(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e},SW=1e-7,EW=12;function xW(e,t,r,n){if(e===t&&r===n)return _H;var i=function(t){return function(e,t,r,n,i){var a,o,s=0;do{(a=bW(o=t+(r-t)/2,n,i)-e)>0?r=o:t=o}while(Math.abs(a)>SW&&++s<EW);return o}(t,0,1,e,r)};return function(e){return 0===e||1===e?e:bW(i(e),t,n)}}var wW=xW(.42,0,1,1),kW=xW(0,0,.58,1),_W=xW(.42,0,.58,1),TW=function(e){return Array.isArray(e)&&"number"!==typeof e[0]},AW=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},CW=function(e){return function(t){return 1-e(1-t)}},PW=function(e){return 1-Math.sin(Math.acos(e))},IW=CW(PW),OW=AW(PW),RW=xW(.33,1.53,.69,.99),NW=CW(RW),LW=AW(NW),jW={linear:_H,easeIn:wW,easeInOut:_W,easeOut:kW,circIn:PW,circInOut:OW,circOut:IW,backIn:NW,backInOut:LW,backOut:RW,anticipate:function(e){return(e*=2)<1?.5*NW(e):.5*(2-Math.pow(2,-10*(e-1)))}},MW=function(e){if(Array.isArray(e)){lW(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=k(e,4);return xW(t[0],t[1],t[2],t[3])}return"string"===typeof e?(lW(void 0!==jW[e],"Invalid easing type '".concat(e,"'")),jW[e]):e},DW=function(e,t,r){var n=t-e;return 0===n?1:(r-e)/n},FW=function(e,t,r){return e+(t-e)*r};function UW(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}var BW=function(e,t){return function(r){return Boolean(DV(r)&&MV.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t))}},GW=function(e,t,r){return function(n){var i;if(!DV(n))return n;var a=k(n.match(LV),4),o=a[0],s=a[1],u=a[2],c=a[3];return We(i={},e,parseFloat(o)),We(i,t,parseFloat(s)),We(i,r,parseFloat(u)),We(i,"alpha",void 0!==c?parseFloat(c):1),i}},VW=ze(ze({},IV),{},{transform:function(e){return Math.round(function(e){return PV(0,255,e)}(e))}}),HW={test:BW("rgb","red"),parse:GW("red","green","blue"),transform:function(e){var t=e.red,r=e.green,n=e.blue,i=e.alpha,a=void 0===i?1:i;return"rgba("+VW.transform(t)+", "+VW.transform(r)+", "+VW.transform(n)+", "+NV(OV.transform(a))+")"}};var WW={test:BW("#"),parse:function(e){var t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}},transform:HW.transform},qW={test:BW("hsl","hue"),parse:GW("hue","saturation","lightness"),transform:function(e){var t=e.hue,r=e.saturation,n=e.lightness,i=e.alpha,a=void 0===i?1:i;return"hsla("+Math.round(t)+", "+BV.transform(NV(r))+", "+BV.transform(NV(n))+", "+NV(OV.transform(a))+")"}},zW=function(e,t,r){var n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},YW=[WW,HW,qW];function XW(e){var t=function(e){return YW.find((function(t){return t.test(e)}))}(e);lW(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));var r=t.parse(e);return t===qW&&(r=function(e){var t=e.hue,r=e.saturation,n=e.lightness,i=e.alpha;t/=360,n/=100;var a=0,o=0,s=0;if(r/=100){var u=n<.5?n*(1+r):n+r-n*r,c=2*n-u;a=UW(c,u,t+1/3),o=UW(c,u,t),s=UW(c,u,t-1/3)}else a=o=s=n;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*s),alpha:i}}(r)),r}var KW=function(e,t){var r=XW(e),n=XW(t),i=ze({},r);return function(e){return i.red=zW(r.red,n.red,e),i.green=zW(r.green,n.green,e),i.blue=zW(r.blue,n.blue,e),i.alpha=FW(r.alpha,n.alpha,e),HW.transform(i)}},JW={test:function(e){return HW.test(e)||WW.test(e)||qW.test(e)},parse:function(e){return HW.test(e)?HW.parse(e):qW.test(e)?qW.parse(e):WW.parse(e)},transform:function(e){return DV(e)?e:e.hasOwnProperty("red")?HW.transform(e):qW.transform(e)}};var ZW="number",QW="color",$W="var",eq="var(",tq="${}",rq=/(var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\))|(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))|((-)?([\d]*\.?[\d])+)/gi;function nq(e){for(var t=e.toString(),r=t.match(rq)||[],n=[],i={color:[],number:[],var:[]},a=[],o=0;o<r.length;o++){var s=r[o];JW.test(s)?(i.color.push(o),a.push(QW),n.push(JW.parse(s))):s.startsWith(eq)?(i.var.push(o),a.push($W),n.push(s)):(i.number.push(o),a.push(ZW),n.push(parseFloat(s)))}return{values:n,split:t.replace(rq,tq).split(tq),indexes:i,types:a}}function iq(e){return nq(e).values}function aq(e){var t=nq(e),r=t.split,n=t.types,i=r.length;return function(e){for(var t="",a=0;a<i;a++)if(t+=r[a],void 0!==e[a]){var o=n[a];t+=o===ZW?NV(e[a]):o===QW?JW.transform(e[a]):e[a]}return t}}var oq=function(e){return"number"===typeof e?0:e};var sq={test:function(e){var t,r;return isNaN(e)&&DV(e)&&((null===(t=e.match(LV))||void 0===t?void 0:t.length)||0)+((null===(r=e.match(jV))||void 0===r?void 0:r.length)||0)>0},parse:iq,createTransformer:aq,getAnimatableNone:function(e){var t=iq(e);return aq(e)(t.map(oq))}};function uq(e,t){return function(r){return r>0?t:e}}function cq(e,t){return function(r){return FW(e,t,r)}}function lq(e){return"number"===typeof e?cq:"string"===typeof e?TV(e)?uq:JW.test(e)?KW:hq:Array.isArray(e)?dq:"object"===typeof e?JW.test(e)?KW:fq:uq}function dq(e,t){var r=u(e),n=r.length,i=e.map((function(e,r){return lq(e)(e,t[r])}));return function(e){for(var t=0;t<n;t++)r[t]=i[t](e);return r}}function fq(e,t){var r=ze(ze({},e),t),n={};for(var i in r)void 0!==e[i]&&void 0!==t[i]&&(n[i]=lq(e[i])(e[i],t[i]));return function(e){for(var t in n)r[t]=n[t](e);return r}}var hq=function(e,t){var r=sq.createTransformer(t),n=nq(e),i=nq(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?UH(dq(function(e,t){for(var r,n=[],i={color:0,var:0,number:0},a=0;a<t.values.length;a++){var o=t.types[a],s=e.indexes[o][i[o]],u=null!==(r=e.values[s])&&void 0!==r?r:0;n[a]=u,i[o]++}return n}(n,i),i.values),r):(cW(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),uq(e,t))};function pq(e,t,r){return"number"===typeof e&&"number"===typeof t&&"number"===typeof r?FW(e,t,r):lq(e)(e,t)}function vq(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.clamp,i=void 0===n||n,a=r.ease,o=r.mixer,s=e.length;if(lW(s===t.length,"Both input and output ranges must be the same length"),1===s)return function(){return t[0]};e[0]>e[s-1]&&(e=u(e).reverse(),t=u(t).reverse());var c=function(e,t,r){for(var n=[],i=r||pq,a=e.length-1,o=0;o<a;o++){var s=i(e[o],e[o+1]);if(t){var u=Array.isArray(t)?t[o]||_H:t;s=UH(u,s)}n.push(s)}return n}(t,a,o),l=c.length,d=function(t){var r=0;if(l>1)for(;r<e.length-2&&!(t<e[r+1]);r++);var n=DW(e[r],e[r+1],t);return c[r](n)};return i?function(t){return d(PV(e[0],e[s-1],t))}:d}function gq(e){var t=[0];return function(e,t){for(var r=e[e.length-1],n=1;n<=t;n++){var i=DW(0,t,n);e.push(FW(r,1,i))}}(t,e.length-1),t}function mq(e){var t,r,n=e.duration,i=void 0===n?300:n,a=e.keyframes,o=e.times,s=e.ease,u=void 0===s?"easeInOut":s,c=TW(u)?u.map(MW):MW(u),l={done:!1,value:a[0]},d=function(e,t){return e.map((function(e){return e*t}))}(o&&o.length===a.length?o:gq(a),i),f=vq(d,a,{ease:Array.isArray(c)?c:(t=a,r=c,t.map((function(){return r||_W})).splice(0,t.length-1))});return{calculatedDuration:i,next:function(e){return l.value=f(e),l.done=e>=i,l}}}function yq(e,t){return t?e*(1e3/t):0}var bq=5;function Sq(e,t,r){var n=Math.max(t-bq,0);return yq(r-e(n),t-n)}var Eq=.001,xq=.01,wq=10,kq=.05,_q=1;function Tq(e){var t,r,n=e.duration,i=void 0===n?800:n,a=e.bounce,o=void 0===a?.25:a,s=e.velocity,u=void 0===s?0:s,c=e.mass,l=void 0===c?1:c;cW(i<=dW(wq),"Spring duration must be 10 seconds or less");var d=1-o;d=PV(kq,_q,d),i=PV(xq,wq,fW(i)),d<1?(t=function(e){var t=e*d,r=t*i,n=t-u,a=Cq(e,d),o=Math.exp(-r);return Eq-n/a*o},r=function(e){var r=e*d*i,n=r*u+u,a=Math.pow(d,2)*Math.pow(e,2)*i,o=Math.exp(-r),s=Cq(Math.pow(e,2),d);return(-t(e)+Eq>0?-1:1)*((n-a)*o)/s}):(t=function(e){return Math.exp(-e*i)*((e-u)*i+1)-Eq},r=function(e){return Math.exp(-e*i)*(i*i*(u-e))});var f=function(e,t,r){for(var n=r,i=1;i<Aq;i++)n-=e(n)/t(n);return n}(t,r,5/i);if(i=dW(i),isNaN(f))return{stiffness:100,damping:10,duration:i};var h=Math.pow(f,2)*l;return{stiffness:h,damping:2*d*Math.sqrt(l*h),duration:i}}var Aq=12;function Cq(e,t){return e*Math.sqrt(1-t*t)}var Pq,Iq=["keyframes","restDelta","restSpeed"],Oq=["duration","bounce"],Rq=["stiffness","damping","mass"];function Nq(e,t){return t.some((function(t){return void 0!==e[t]}))}function Lq(e){var t,r=e.keyframes,n=e.restDelta,i=e.restSpeed,a=He(e,Iq),o=r[0],s=r[r.length-1],u={done:!1,value:o},c=function(e){var t=ze({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Nq(e,Rq)&&Nq(e,Oq)){var r=Tq(e);(t=ze(ze(ze({},t),r),{},{mass:1})).isResolvedFromDuration=!0}return t}(ze(ze({},a),{},{velocity:-fW(a.velocity||0)})),l=c.stiffness,d=c.damping,f=c.mass,h=c.duration,p=c.velocity,v=c.isResolvedFromDuration,g=p||0,m=d/(2*Math.sqrt(l*f)),y=s-o,b=fW(Math.sqrt(l/f)),S=Math.abs(y)<5;if(i||(i=S?.01:2),n||(n=S?.005:.5),m<1){var E=Cq(b,m);t=function(e){var t=Math.exp(-m*b*e);return s-t*((g+m*b*y)/E*Math.sin(E*e)+y*Math.cos(E*e))}}else if(1===m)t=function(e){return s-Math.exp(-b*e)*(y+(g+b*y)*e)};else{var x=b*Math.sqrt(m*m-1);t=function(e){var t=Math.exp(-m*b*e),r=Math.min(x*e,300);return s-t*((g+m*b*y)*Math.sinh(r)+x*y*Math.cosh(r))/x}}return{calculatedDuration:v&&h||null,next:function(e){var r=t(e);if(v)u.done=e>=h;else{var a=g;0!==e&&(a=m<1?Sq(t,e,r):0);var o=Math.abs(a)<=i,c=Math.abs(s-r)<=n;u.done=o&&c}return u.value=u.done?s:r,u}}}function jq(e){var t=e.keyframes,r=e.velocity,n=void 0===r?0:r,i=e.power,a=void 0===i?.8:i,o=e.timeConstant,s=void 0===o?325:o,u=e.bounceDamping,c=void 0===u?10:u,l=e.bounceStiffness,d=void 0===l?500:l,f=e.modifyTarget,h=e.min,p=e.max,v=e.restDelta,g=void 0===v?.5:v,m=e.restSpeed,y=t[0],b={done:!1,value:y},S=function(e){return void 0===h?p:void 0===p||Math.abs(h-e)<Math.abs(p-e)?h:p},E=a*n,x=y+E,w=void 0===f?x:f(x);w!==x&&(E=w-y);var k,_,T=function(e){return-E*Math.exp(-e/s)},A=function(e){return w+T(e)},C=function(e){var t=T(e),r=A(e);b.done=Math.abs(t)<=g,b.value=b.done?w:r},P=function(e){(function(e){return void 0!==h&&e<h||void 0!==p&&e>p})(b.value)&&(k=e,_=Lq({keyframes:[b.value,S(b.value)],velocity:Sq(A,e,b.value),damping:c,stiffness:d,restDelta:g,restSpeed:m}))};return P(0),{calculatedDuration:null,next:function(e){var t=!1;return _||void 0!==k||(t=!0,C(e),P(e)),void 0!==k&&e>k?_.next(e-k):(!t&&C(e),b)}}}function Mq(){Pq=void 0}var Dq={now:function(){return void 0===Pq&&Dq.set(PH.isProcessing||HG?PH.timestamp:performance.now()),Pq},set:function(e){Pq=e,queueMicrotask(Mq)}},Fq=function(e){var t=function(t){var r=t.timestamp;return e(r)};return{start:function(){return AH.update(t,!0)},stop:function(){return CH(t)},now:function(){return PH.isProcessing?PH.timestamp:Dq.now()}}},Uq=2e4;function Bq(e){for(var t=0,r=e.next(t);!r.done&&t<Uq;)t+=50,r=e.next(t);return t>=Uq?1/0:t}var Gq=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],Vq={decay:jq,inertia:jq,tween:mq,keyframes:mq,spring:Lq},Hq=function(e){return e/100};function Wq(e){var t,r,n,i=e.autoplay,a=void 0===i||i,o=e.delay,s=void 0===o?0:o,c=e.driver,l=void 0===c?Fq:c,d=e.keyframes,f=e.type,h=void 0===f?"keyframes":f,p=e.repeat,v=void 0===p?0:p,g=e.repeatDelay,m=void 0===g?0:g,y=e.repeatType,b=void 0===y?"loop":y,S=e.onPlay,E=e.onStop,x=e.onComplete,w=e.onUpdate,k=He(e,Gq),_=1,T=!1,A=function(){r=new Promise((function(e){t=e}))};A();var C,P=Vq[h]||mq;P!==mq&&"number"!==typeof d[0]&&(C=UH(Hq,pq(d[0],d[1])),d=[0,100]);var I,O=P(ze(ze({},k),{},{keyframes:d}));"mirror"===b&&(I=P(ze(ze({},k),{},{keyframes:u(d).reverse(),velocity:-(k.velocity||0)})));var R="idle",N=null,L=null,j=null;null===O.calculatedDuration&&v&&(O.calculatedDuration=Bq(O));var M=O.calculatedDuration,D=1/0,F=1/0;null!==M&&(F=(D=M+m)*(v+1)-m);var U=0,B=function(e){if(null!==L){_>0&&(L=Math.min(L,e)),_<0&&(L=Math.min(e-F/_,L));var t=(U=null!==N?N:Math.round(e-L)*_)-s*(_>=0?1:-1),r=_>=0?t<0:t>F;U=Math.max(t,0),"finished"===R&&null===N&&(U=F);var n=U,i=O;if(v){var a=Math.min(U,F)/D,o=Math.floor(a),u=a%1;!u&&a>=1&&(u=1),1===u&&o--,o=Math.min(o,v+1),Boolean(o%2)&&("reverse"===b?(u=1-u,m&&(u-=m/D)):"mirror"===b&&(i=I)),n=PV(0,1,u)*D}var c=r?{done:!1,value:d[0]}:i.next(n);C&&(c.value=C(c.value));var l=c.done;r||null===M||(l=_>=0?U>=F:U<=0);var f=null===N&&("finished"===R||"running"===R&&l);return w&&w(c.value),f&&H(),c}},G=function(){n&&n.stop(),n=void 0},V=function(){R="idle",G(),t(),A(),L=j=null},H=function(){R="finished",x&&x(),G(),t()},W=function(){if(!T){n||(n=l(B));var e=n.now();S&&S(),null!==N?L=e-N:L&&"finished"!==R||(L=e),"finished"===R&&A(),j=L,N=null,R="running",n.start()}};a&&W();var q={then:function(e,t){return r.then(e,t)},get time(){return fW(U)},set time(e){e=dW(e),U=e,null===N&&n&&0!==_?L=n.now()-e/_:N=e},get duration(){var e=null===O.calculatedDuration?Bq(O):O.calculatedDuration;return fW(e)},get speed(){return _},set speed(e){e!==_&&n&&(_=e,q.time=fW(U))},get state(){return R},play:W,pause:function(){R="paused",N=U},stop:function(){T=!0,"idle"!==R&&(R="idle",E&&E(),V())},cancel:function(){null!==j&&B(j),V()},complete:function(){R="finished"},sample:function(e){return L=0,B(e)}};return q}var qq=["onUpdate","onComplete"],zq=function(e){var t;return function(){return void 0===t&&(t=e()),t}}((function(){return Object.hasOwnProperty.call(Element.prototype,"animate")})),Yq=new Set(["opacity","clipPath","filter","transform"]);function Xq(e,t,r){r.onUpdate;var n=r.onComplete,i=He(r,qq);if(!(zq()&&Yq.has(t)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type))return!1;var a,o,s=!1,u=!1,c=function(){o=new Promise((function(e){a=e}))};c();var l=i.keyframes,d=i.duration,f=void 0===d?300:d,h=i.ease,p=i.times;if(function(e,t){return"spring"===t.type||"backgroundColor"===e||!vW(t.ease)}(t,i)){for(var v=Wq(ze(ze({},i),{},{repeat:0,delay:0})),g={done:!1,value:l[0]},m=[],y=0;!g.done&&y<2e4;)g=v.sample(y),m.push(g.value),y+=10;p=void 0,l=m,f=y-10,h="linear"}var b=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n.delay,a=void 0===i?0:i,o=n.duration,s=n.repeat,u=void 0===s?0:s,c=n.repeatType,l=void 0===c?"loop":c,d=n.ease,f=n.times,h=We({},t,r);f&&(h.offset=f);var p=yW(d);return Array.isArray(p)&&(h.easing=p),e.animate(h,{delay:a,duration:o,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:u+1,direction:"reverse"===l?"alternate":"normal"})}(e.owner.current,t,l,ze(ze({},i),{},{duration:f,ease:h,times:p})),S=function(){u=!1,b.cancel()},E=function(){u=!0,AH.update(S),a(),c()};return b.onfinish=function(){u||(e.set(function(e,t){var r=t.repeat,n=t.repeatType;return e[r&&"loop"!==(void 0===n?"loop":n)&&r%2===1?0:e.length-1]}(l,i)),n&&n(),E())},{then:function(e,t){return o.then(e,t)},attachTimeline:function(e){return b.timeline=e,b.onfinish=null,_H},get time(){return fW(b.currentTime||0)},set time(e){b.currentTime=dW(e)},get speed(){return b.playbackRate},set speed(e){b.playbackRate=e},get duration(){return fW(f)},play:function(){s||(b.play(),CH(S))},pause:function(){return b.pause()},stop:function(){if(s=!0,"idle"!==b.playState){var t=b.currentTime;if(t){var r=Wq(ze(ze({},i),{},{autoplay:!1}));e.setWithVelocity(r.sample(t-10).value,r.sample(t).value,10)}E()}},complete:function(){u||b.finish()},cancel:E}}var Kq={type:"spring",stiffness:500,damping:25,restSpeed:10},Jq={type:"keyframes",duration:.8},Zq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Qq=function(e,t){var r=t.keyframes;return r.length>2?Jq:yV.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===r[1]?2*Math.sqrt(550):30,restSpeed:10}:Kq:Zq},$q=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!sq.test(t)&&"0"!==t||t.startsWith("url(")))},ez=new Set(["brightness","contrast","saturate","opacity"]);function tz(e){var t=k(e.slice(0,-1).split("("),2),r=t[0],n=t[1];if("drop-shadow"===r)return e;var i=k(n.match(LV)||[],1)[0];if(!i)return e;var a=n.replace(i,""),o=ez.has(r)?1:0;return i!==n&&(o*=100),r+"("+o+a+")"}var rz=/([a-z-]*)\(.*?\)/g,nz=ze(ze({},sq),{},{getAnimatableNone:function(e){var t=e.match(rz);return t?t.map(tz).join(" "):e}}),iz=ze(ze({},zV),{},{color:JW,backgroundColor:JW,outlineColor:JW,fill:JW,stroke:JW,borderColor:JW,borderTopColor:JW,borderRightColor:JW,borderBottomColor:JW,borderLeftColor:JW,filter:nz,WebkitFilter:nz}),az=function(e){return iz[e]};function oz(e,t){var r=az(e);return r!==nz&&(r=sq),r.getAnimatableNone?r.getAnimatableNone(t):void 0}var sz=function(e){return/^0[^.\s]+$/.test(e)};function uz(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||sz(e):void 0}var cz=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function lz(e,t){return e[t]||e.default||e}var dz=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(i){var a=lz(n,e)||{},o=a.delay||n.delay||0,s=n.elapsed,c=void 0===s?0:s;c-=dW(o);var l=function(e,t,r,n){var i,a=$q(t,r);i=Array.isArray(r)?u(r):[null,r];for(var o=void 0!==n.from?n.from:e.get(),s=void 0,c=[],l=0;l<i.length;l++)null===i[l]&&(i[l]=0===l?o:i[l-1]),uz(i[l])&&c.push(l),"string"===typeof i[l]&&"none"!==i[l]&&"0"!==i[l]&&(s=i[l]);if(a&&c.length&&s)for(var d=0;d<c.length;d++)i[c[d]]=oz(t,s);return i}(t,e,r,a),d=l[0],f=l[l.length-1],h=$q(e,d),p=$q(e,f);cW(h===p,"You are trying to animate ".concat(e,' from "').concat(d,'" to "').concat(f,'". ').concat(d," is not an animatable value - to enable this animation set ").concat(d," to a value animatable to ").concat(f," via the `style` property."));var v=ze(ze({keyframes:l,velocity:t.getVelocity(),ease:"easeOut"},a),{},{delay:-c,onUpdate:function(e){t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:function(){i(),a.onComplete&&a.onComplete()}});if(function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from,e.elapsed;var t=He(e,cz);return!!Object.keys(t).length}(a)||(v=ze(ze({},v),Qq(e,v))),v.duration&&(v.duration=dW(v.duration)),v.repeatDelay&&(v.repeatDelay=dW(v.repeatDelay)),!h||!p||hW||!1===a.type||VG)return function(e){var t=e.keyframes,r=e.delay,n=e.onUpdate,i=e.onComplete,a=function(){return n&&n(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:_H,pause:_H,stop:_H,then:function(e){return e(),Promise.resolve()},cancel:_H,complete:_H}};return r?Wq({keyframes:[0,1],duration:0,delay:r,onComplete:a}):a()}(hW?ze(ze({},v),{},{delay:0}):v);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){var g=Xq(t,e,v);if(g)return g}return Wq(v)}};function fz(e){return Boolean(SV(e)&&e.add)}var hz=function(e){return/^\-?\d*\.?\d+$/.test(e)};function pz(e,t){-1===e.indexOf(t)&&e.push(t)}function vz(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)}var gz=function(){function e(){c(this,e),this.subscriptions=[]}return h(e,[{key:"add",value:function(e){var t=this;return pz(this.subscriptions,e),function(){return vz(t.subscriptions,e)}}},{key:"notify",value:function(e,t,r){var n=this.subscriptions.length;if(n)if(1===n)this.subscriptions[0](e,t,r);else for(var i=0;i<n;i++){var a=this.subscriptions[i];a&&a(e,t,r)}}},{key:"getSize",value:function(){return this.subscriptions.length}},{key:"clear",value:function(){this.subscriptions.length=0}}]),e}(),mz={current:void 0},yz=function(){function e(t){var r,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,e),this.version="11.0.8",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=Dq.now();n.updatedAt!==r&&n.setPrevFrameValue(),n.prev=n.current,n.setCurrent(e),n.current!==n.prev&&n.events.change&&n.events.change.notify(n.current),t&&n.events.renderRequest&&n.events.renderRequest.notify(n.current)},this.hasAnimated=!1,this.setCurrent(t),this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=i.owner}return h(e,[{key:"setCurrent",value:function(e){this.current=e,this.updatedAt=Dq.now()}},{key:"setPrevFrameValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}},{key:"onChange",value:function(e){return this.on("change",e)}},{key:"on",value:function(e,t){var r=this;this.events[e]||(this.events[e]=new gz);var n=this.events[e].add(t);return"change"===e?function(){n(),AH.read((function(){r.events.change.getSize()||r.stop()}))}:n}},{key:"clearListeners",value:function(){for(var e in this.events)this.events[e].clear()}},{key:"attach",value:function(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}},{key:"setWithVelocity",value:function(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}},{key:"jump",value:function(e){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}},{key:"get",value:function(){return mz.current&&mz.current.push(this),this.current}},{key:"getPrevious",value:function(){return this.prev}},{key:"getVelocity",value:function(){var e=Dq.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;var t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return yq(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}},{key:"start",value:function(e){var t=this;return this.stop(),new Promise((function(r){t.hasAnimated=!0,t.animation=e(r),t.events.animationStart&&t.events.animationStart.notify()})).then((function(){t.events.animationComplete&&t.events.animationComplete.notify(),t.clearAnimation()}))}},{key:"stop",value:function(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}},{key:"isAnimating",value:function(){return!!this.animation}},{key:"clearAnimation",value:function(){delete this.animation}},{key:"destroy",value:function(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}]),e}();function bz(e,t){return new yz(e,t)}var Sz=function(e){return function(t){return t.test(e)}},Ez=[IV,GV,BV,UV,HV,VV,{test:function(e){return"auto"===e},parse:function(e){return e}}],xz=function(e){return Ez.find(Sz(e))},wz=[].concat(u(Ez),[JW,sq]),kz=function(e){return wz.find(Sz(e))},_z=["transitionEnd","transition"];function Tz(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,bz(r))}function Az(e,t){var r=uW(e,t),n=r?e.makeTargetAnimatable(r,!1):{},i=n.transitionEnd,a=void 0===i?{}:i,o=(n.transition,He(n,_z));for(var s in o=ze(ze({},o),a)){Tz(e,s,SH(o[s]))}}function Cz(e,t){if(t)return(t[e]||t.default||t).from}var Pz=["transition","transitionEnd"];function Iz(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.delay,i=void 0===n?0:n,a=r.transitionOverride,o=r.type,s=e.makeTargetAnimatable(t),u=s.transition,c=void 0===u?e.getDefaultTransition():u,l=s.transitionEnd,d=He(s,Pz),f=e.getValue("willChange");a&&(c=a);var h=[],p=o&&e.animationState&&e.animationState.getState()[o],v=function(t){var r=e.getValue(t),n=d[t];if(!r||void 0===n||p&&function(e,t){var r=e.protectedKeys,n=e.needsAnimating,i=r.hasOwnProperty(t)&&!0!==n[t];return n[t]=!1,i}(p,t))return 0;var a=ze({delay:i,elapsed:0},lz(c||{},t));if(window.HandoffAppearAnimations){var o=e.getProps()[GG];if(o){var s=window.HandoffAppearAnimations(o,t,r,AH);null!==s&&(a.elapsed=s,a.isHandoff=!0)}}var u=!a.isHandoff&&!function(e,t){var r=e.get();if(!Array.isArray(t))return r!==t;for(var n=0;n<t.length;n++)if(t[n]!==r)return!0}(r,n);if("spring"===a.type&&(r.getVelocity()||a.velocity)&&(u=!1),r.animation&&(u=!1),u)return 0;r.start(dz(t,r,n,e.shouldReduceMotion&&yV.has(t)?{type:!1}:a));var l=r.animation;fz(f)&&(f.add(t),l.then((function(){return f.remove(t)}))),h.push(l)};for(var g in d)v(g);return l&&Promise.all(h).then((function(){l&&Az(e,l)})),h}function Oz(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=uW(e,t,r.custom),i=(n||{}).transition,a=void 0===i?e.getDefaultTransition()||{}:i;r.transitionOverride&&(a=r.transitionOverride);var o=n?function(){return Promise.all(Iz(e,n,r))}:function(){return Promise.resolve()},s=e.variantChildren&&e.variantChildren.size?function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=a,o=i.delayChildren,s=void 0===o?0:o,u=i.staggerChildren,c=i.staggerDirection;return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0,o=[],s=(e.variantChildren.size-1)*n,u=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*n}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*n};return Array.from(e.variantChildren).sort(Rz).forEach((function(e,n){e.notify("AnimationStart",t),o.push(Oz(e,t,ze(ze({},a),{},{delay:r+u(n)})).then((function(){return e.notify("AnimationComplete",t)})))})),Promise.all(o)}(e,t,s+n,u,c,r)}:function(){return Promise.resolve()},u=a.when;if(u){var c=k("beforeChildren"===u?[o,s]:[s,o],2),l=c[0],d=c[1];return l().then((function(){return d()}))}return Promise.all([o(),s(r.delay)])}function Rz(e,t){return e.sortNodePosition(t)}var Nz=["transition","transitionEnd"],Lz=u(QG).reverse(),jz=QG.length;function Mz(e){return function(t){return Promise.all(t.map((function(t){var r=t.animation,n=t.options;return function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){var i=t.map((function(t){return Oz(e,t,n)}));r=Promise.all(i)}else if("string"===typeof t)r=Oz(e,t,n);else{var a="function"===typeof t?uW(e,t,n.custom):t;r=Promise.all(Iz(e,a,n))}return r.then((function(){return e.notify("AnimationComplete",t)}))}(e,r,n)})))}}function Dz(e){var t=Mz(e),r={animate:Fz(!0),whileInView:Fz(),whileHover:Fz(),whileTap:Fz(),whileDrag:Fz(),whileFocus:Fz(),exit:Fz()},n=!0,i=function(t,r){var n=uW(e,r);if(n){n.transition;var i=n.transitionEnd,a=He(n,Nz);t=ze(ze(ze({},t),a),i)}return t};function a(a,o){for(var s=e.getProps(),c=e.getVariantContext(!0)||{},l=[],d=new Set,f={},h=1/0,p=function(){var t=Lz[v],p=r[t],g=void 0!==s[t]?s[t]:c[t],m=JG(g),y=t===o?p.isActive:null;!1===y&&(h=v);var b=g===c[t]&&g!==s[t]&&m;if(b&&n&&e.manuallyAnimateOnMount&&(b=!1),p.protectedKeys=ze({},f),!p.isActive&&null===y||!g&&!p.prevProp||ZG(g)||"boolean"===typeof g)return 1;var S=function(e,t){if("string"===typeof t)return t!==e;if(Array.isArray(t))return!sW(t,e);return!1}(p.prevProp,g),E=S||t===o&&p.isActive&&!b&&m||v>h&&m,x=!1,w=Array.isArray(g)?g:[g],k=w.reduce(i,{});!1===y&&(k={});var _=p.prevResolvedValues,T=void 0===_?{}:_,A=ze(ze({},T),k),C=function(e){E=!0,d.has(e)&&(x=!0,d.delete(e)),p.needsAnimating[e]=!0};for(var P in A){var I=k[P],O=T[P];if(!f.hasOwnProperty(P)){(yH(I)&&yH(O)?!sW(I,O):I!==O)?void 0!==I?C(P):d.add(P):void 0!==I&&d.has(P)?C(P):p.protectedKeys[P]=!0}}p.prevProp=g,p.prevResolvedValues=k,p.isActive&&(f=ze(ze({},f),k)),n&&e.blockInitialAnimation&&(E=!1),!E||b&&!x||l.push.apply(l,u(w.map((function(e){return{animation:e,options:ze({type:t},a)}}))))},v=0;v<jz;v++)p();if(d.size){var g={};d.forEach((function(t){var r=e.getBaseTarget(t);void 0!==r&&(g[t]=r)})),l.push({animation:g})}var m=Boolean(l.length);return!n||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(m=!1),n=!1,m?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,n,i){var o;if(r[t].isActive===n)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((function(e){var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,n)})),r[t].isActive=n;var s=a(i,t);for(var u in r)r[u].protectedKeys={};return s},setAnimateFunction:function(r){t=r(e)},getState:function(){return r}}}function Fz(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var Uz=function(e){v(r,e);var t=b(r);function r(e){var n;return c(this,r),n=t.call(this,e),e.animationState||(e.animationState=Dz(e)),n}return h(r,[{key:"updateAnimationControlsSubscription",value:function(){var e=this.node.getProps().animate;this.unmount(),ZG(e)&&(this.unmount=e.subscribe(this.node))}},{key:"mount",value:function(){this.updateAnimationControlsSubscription()}},{key:"update",value:function(){this.node.getProps().animate!==(this.node.prevProps||{}).animate&&this.updateAnimationControlsSubscription()}},{key:"unmount",value:function(){}}]),r}(qH),Bz=0,Gz=function(e){v(r,e);var t=b(r);function r(){var e;return c(this,r),(e=t.apply(this,arguments)).id=Bz++,e}return h(r,[{key:"update",value:function(){var e=this;if(this.node.presenceContext){var t=this.node.presenceContext,r=t.isPresent,n=t.onExitComplete,i=t.custom,a=(this.node.prevPresenceContext||{}).isPresent;if(this.node.animationState&&r!==a){var o=this.node.animationState.setActive("exit",!r,{custom:null!==i&&void 0!==i?i:this.node.getProps().custom});n&&!r&&o.then((function(){return n(e.id)}))}}}},{key:"mount",value:function(){var e=(this.node.presenceContext||{}).register;e&&(this.unmount=e(this.id))}},{key:"unmount",value:function(){}}]),r}(qH),Vz={animation:{Feature:Uz},exit:{Feature:Gz}},Hz=function(e,t){return Math.abs(e-t)};var Wz=function(){function e(t,r){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.transformPagePoint,o=i.contextWindow,s=i.dragSnapToOrigin,u=void 0!==s&&s;if(c(this,e),this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=function(){if(n.lastMoveEvent&&n.lastMoveEventInfo){var e=Yz(n.lastMoveEventInfo,n.history),t=null!==n.startEvent,r=function(e,t){var r=Hz(e.x,t.x),n=Hz(e.y,t.y);return Math.sqrt(Math.pow(r,2)+Math.pow(n,2))}(e.offset,{x:0,y:0})>=3;if(t||r){var i=e.point,a=PH.timestamp;n.history.push(ze(ze({},i),{},{timestamp:a}));var o=n.handlers,s=o.onStart,u=o.onMove;t||(s&&s(n.lastMoveEvent,e),n.startEvent=n.lastMoveEvent),u&&u(n.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){n.lastMoveEvent=e,n.lastMoveEventInfo=qz(t,n.transformPagePoint),AH.update(n.updatePoint,!0)},this.handlePointerUp=function(e,t){n.end();var r=n.handlers,i=r.onEnd,a=r.onSessionEnd,o=r.resumeAnimation;if(n.dragSnapToOrigin&&o&&o(),n.lastMoveEvent&&n.lastMoveEventInfo){var s=Yz("pointercancel"===e.type?n.lastMoveEventInfo:qz(t,n.transformPagePoint),n.history);n.startEvent&&i&&i(e,s),a&&a(e,s)}},LH(t)){this.dragSnapToOrigin=u,this.handlers=r,this.transformPagePoint=a,this.contextWindow=o||window;var l=qz(jH(t),this.transformPagePoint),d=l.point,f=PH.timestamp;this.history=[ze(ze({},d),{},{timestamp:f})];var h=r.onSessionStart;h&&h(t,Yz(l,this.history)),this.removeListeners=UH(DH(this.contextWindow,"pointermove",this.handlePointerMove),DH(this.contextWindow,"pointerup",this.handlePointerUp),DH(this.contextWindow,"pointercancel",this.handlePointerUp))}}return h(e,[{key:"updateHandlers",value:function(e){this.handlers=e}},{key:"end",value:function(){this.removeListeners&&this.removeListeners(),CH(this.updatePoint)}}]),e}();function qz(e,t){return t?{point:t(e.point)}:e}function zz(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Yz(e,t){var r=e.point;return{point:r,delta:zz(r,Kz(t)),offset:zz(r,Xz(t)),velocity:Jz(t,.1)}}function Xz(e){return e[0]}function Kz(e){return e[e.length-1]}function Jz(e,t){if(e.length<2)return{x:0,y:0};for(var r=e.length-1,n=null,i=Kz(e);r>=0&&(n=e[r],!(i.timestamp-n.timestamp>dW(t)));)r--;if(!n)return{x:0,y:0};var a=fW(i.timestamp-n.timestamp);if(0===a)return{x:0,y:0};var o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Zz(e){return e.max-e.min}function Qz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=r}function $z(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=n,e.originPoint=FW(t.min,t.max,e.origin),e.scale=Zz(r)/Zz(t),(Qz(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=FW(r.min,r.max,e.origin)-e.originPoint,(Qz(e.translate)||isNaN(e.translate))&&(e.translate=0)}function eY(e,t,r,n){$z(e.x,t.x,r.x,n?n.originX:void 0),$z(e.y,t.y,r.y,n?n.originY:void 0)}function tY(e,t,r){e.min=r.min+t.min,e.max=e.min+Zz(t)}function rY(e,t,r){e.min=t.min-r.min,e.max=e.min+Zz(t)}function nY(e,t,r){rY(e.x,t.x,r.x),rY(e.y,t.y,r.y)}function iY(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function aY(e,t){var r=t.min-e.min,n=t.max-e.max;if(t.max-t.min<e.max-e.min){var i=[n,r];r=i[0],n=i[1]}return{min:r,max:n}}var oY=.35;function sY(e,t,r){return{min:uY(e,t),max:uY(e,r)}}function uY(e,t){return"number"===typeof e?e:e[t]||0}var cY=function(){return{x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}},lY=function(){return{x:{min:0,max:0},y:{min:0,max:0}}};function dY(e){return[e("x"),e("y")]}function fY(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function hY(e){return void 0===e||1===e}function pY(e){var t=e.scale,r=e.scaleX,n=e.scaleY;return!hY(t)||!hY(r)||!hY(n)}function vY(e){return pY(e)||gY(e)||e.z||e.rotate||e.rotateX||e.rotateY}function gY(e){return mY(e.x)||mY(e.y)}function mY(e){return e&&"0%"!==e}function yY(e,t,r){return r+t*(e-r)}function bY(e,t,r,n,i){return void 0!==i&&(e=yY(e,i,n)),yY(e,r,n)+t}function SY(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=bY(e.min,t,r,n,i),e.max=bY(e.max,t,r,n,i)}function EY(e,t){var r=t.x,n=t.y;SY(e.x,r.translate,r.scale,r.originPoint),SY(e.y,n.translate,n.scale,n.originPoint)}function xY(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function wY(e,t){e.min=e.min+t,e.max=e.max+t}function kY(e,t,r){var n=k(r,3),i=n[0],a=n[1],o=n[2],s=void 0!==t[o]?t[o]:.5,u=FW(e.min,e.max,s);SY(e,t[i],t[a],u,t.scale)}var _Y=["x","scaleX","originX"],TY=["y","scaleY","originY"];function AY(e,t){kY(e.x,t,_Y),kY(e.y,t,TY)}function CY(e,t){return fY(function(e,t){if(!t)return e;var r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}(e.getBoundingClientRect(),t))}var PY=function(e){var t=e.current;return t?t.ownerDocument.defaultView:null},IY=new WeakMap,OY=function(){function e(t){c(this,e),this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=lY(),this.visualElement=t}return h(e,[{key:"start",value:function(e){var t=this,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).snapToCursor,n=void 0!==r&&r,i=this.visualElement.presenceContext;if(!i||!1!==i.isPresent){var a=this.getProps().dragSnapToOrigin;this.panSession=new Wz(e,{onSessionStart:function(e){t.getProps().dragSnapToOrigin?t.pauseAnimation():t.stopAnimation(),n&&t.snapToCursor(jH(e,"page").point)},onStart:function(e,r){var n=t.getProps(),i=n.drag,a=n.dragPropagation,o=n.onDragStart;if(!i||a||(t.openGlobalLock&&t.openGlobalLock(),t.openGlobalLock=HH(i),t.openGlobalLock)){t.isDragging=!0,t.currentDirection=null,t.resolveConstraints(),t.visualElement.projection&&(t.visualElement.projection.isAnimationBlocked=!0,t.visualElement.projection.target=void 0),dY((function(e){var r=t.getAxisMotionValue(e).get()||0;if(BV.test(r)){var n=t.visualElement.projection;if(n&&n.layout){var i=n.layout.layoutBox[e];if(i)r=Zz(i)*(parseFloat(r)/100)}}t.originPoint[e]=r})),o&&AH.update((function(){return o(e,r)}),!1,!0);var s=t.visualElement.animationState;s&&s.setActive("whileDrag",!0)}},onMove:function(e,r){var n=t.getProps(),i=n.dragPropagation,a=n.dragDirectionLock,o=n.onDirectionLock,s=n.onDrag;if(i||t.openGlobalLock){var u=r.offset;if(a&&null===t.currentDirection)return t.currentDirection=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=null;Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x");return r}(u),void(null!==t.currentDirection&&o&&o(t.currentDirection));t.updateAxis("x",r.point,u),t.updateAxis("y",r.point,u),t.visualElement.render(),s&&s(e,r)}},onSessionEnd:function(e,r){return t.stop(e,r)},resumeAnimation:function(){return dY((function(e){var r;return"paused"===t.getAnimationState(e)&&(null===(r=t.getAxisMotionValue(e).animation)||void 0===r?void 0:r.play())}))}},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:a,contextWindow:PY(this.visualElement)})}}},{key:"stop",value:function(e,t){var r=this.isDragging;if(this.cancel(),r){var n=t.velocity;this.startAnimation(n);var i=this.getProps().onDragEnd;i&&AH.update((function(){return i(e,t)}))}}},{key:"cancel",value:function(){this.isDragging=!1;var e=this.visualElement,t=e.projection,r=e.animationState;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}},{key:"updateAxis",value:function(e,t,r){var n=this.getProps().drag;if(r&&RY(e,n,this.currentDirection)){var i=this.getAxisMotionValue(e),a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=function(e,t,r){var n=t.min,i=t.max;return void 0!==n&&e<n?e=r?FW(n,e,r.min):Math.max(e,n):void 0!==i&&e>i&&(e=r?FW(i,e,r.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}}},{key:"resolveConstraints",value:function(){var e,t=this,r=this.getProps(),n=r.dragConstraints,i=r.dragElastic,a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,o=this.constraints;n&&KG(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!a)&&function(e,t){var r=t.top,n=t.left,i=t.bottom,a=t.right;return{x:iY(e.x,n,a),y:iY(e.y,r,i)}}(a.layoutBox,n),this.elastic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oY;return!1===e?e=0:!0===e&&(e=oY),{x:sY(e,"left","right"),y:sY(e,"top","bottom")}}(i),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&dY((function(e){t.getAxisMotionValue(e)&&(t.constraints[e]=function(e,t){var r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}(a.layoutBox[e],t.constraints[e]))}))}},{key:"resolveRefConstraints",value:function(){var e=this.getProps(),t=e.dragConstraints,r=e.onMeasureDragConstraints;if(!t||!KG(t))return!1;var n=t.current;lW(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var i=this.visualElement.projection;if(!i||!i.layout)return!1;var a=function(e,t,r){var n=CY(e,r),i=t.scroll;return i&&(wY(n.x,i.offset.x),wY(n.y,i.offset.y)),n}(n,i.root,this.visualElement.getTransformPagePoint()),o=function(e,t){return{x:aY(e.x,t.x),y:aY(e.y,t.y)}}(i.layout.layoutBox,a);if(r){var s=r(function(e){var t=e.x,r=e.y;return{top:r.min,right:t.max,bottom:r.max,left:t.min}}(o));this.hasMutatedConstraints=!!s,s&&(o=fY(s))}return o}},{key:"startAnimation",value:function(e){var t=this,r=this.getProps(),n=r.drag,i=r.dragMomentum,a=r.dragElastic,o=r.dragTransition,s=r.dragSnapToOrigin,u=r.onDragTransitionEnd,c=this.constraints||{},l=dY((function(r){if(RY(r,n,t.currentDirection)){var u=c&&c[r]||{};s&&(u={min:0,max:0});var l=a?200:1e6,d=a?40:1e7,f=ze(ze({type:"inertia",velocity:i?e[r]:0,bounceStiffness:l,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},o),u);return t.startAxisValueAnimation(r,f)}}));return Promise.all(l).then(u)}},{key:"startAxisValueAnimation",value:function(e,t){var r=this.getAxisMotionValue(e);return r.start(dz(e,r,0,t))}},{key:"stopAnimation",value:function(){var e=this;dY((function(t){return e.getAxisMotionValue(t).stop()}))}},{key:"pauseAnimation",value:function(){var e=this;dY((function(t){var r;return null===(r=e.getAxisMotionValue(t).animation)||void 0===r?void 0:r.pause()}))}},{key:"getAnimationState",value:function(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}},{key:"getAxisMotionValue",value:function(e){var t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),n=r[t];return n||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}},{key:"snapToCursor",value:function(e){var t=this;dY((function(r){if(RY(r,t.getProps().drag,t.currentDirection)){var n=t.visualElement.projection,i=t.getAxisMotionValue(r);if(n&&n.layout){var a=n.layout.layoutBox[r],o=a.min,s=a.max;i.set(e[r]-FW(o,s,.5))}}}))}},{key:"scalePositionWithinConstraints",value:function(){var e=this;if(this.visualElement.current){var t=this.getProps(),r=t.drag,n=t.dragConstraints,i=this.visualElement.projection;if(KG(n)&&i&&this.constraints){this.stopAnimation();var a={x:0,y:0};dY((function(t){var r=e.getAxisMotionValue(t);if(r){var n=r.get();a[t]=function(e,t){var r=.5,n=Zz(e),i=Zz(t);return i>n?r=DW(t.min,t.max-n,e.min):n>i&&(r=DW(e.min,e.max-i,t.min)),PV(0,1,r)}({min:n,max:n},e.constraints[t])}}));var o=this.visualElement.getProps().transformTemplate;this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),dY((function(t){if(RY(t,r,null)){var n=e.getAxisMotionValue(t),i=e.constraints[t],o=i.min,s=i.max;n.set(FW(o,s,a[t]))}}))}}}},{key:"addListeners",value:function(){var e=this;if(this.visualElement.current){IY.set(this.visualElement,this);var t=DH(this.visualElement.current,"pointerdown",(function(t){var r=e.getProps(),n=r.drag,i=r.dragListener;n&&(void 0===i||i)&&e.start(t)})),r=function(){KG(e.getProps().dragConstraints)&&(e.constraints=e.resolveRefConstraints())},n=this.visualElement.projection,i=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),r();var a=NH(window,"resize",(function(){return e.scalePositionWithinConstraints()})),o=n.addEventListener("didUpdate",(function(t){var r=t.delta,n=t.hasLayoutChanged;e.isDragging&&n&&(dY((function(t){var n=e.getAxisMotionValue(t);n&&(e.originPoint[t]+=r[t].translate,n.set(n.get()+r[t].translate))})),e.visualElement.render())}));return function(){a(),t(),i(),o&&o()}}}},{key:"getProps",value:function(){var e=this.visualElement.getProps(),t=e.drag,r=void 0!==t&&t,n=e.dragDirectionLock,i=void 0!==n&&n,a=e.dragPropagation,o=void 0!==a&&a,s=e.dragConstraints,u=void 0!==s&&s,c=e.dragElastic,l=void 0===c?oY:c,d=e.dragMomentum,f=void 0===d||d;return ze(ze({},e),{},{drag:r,dragDirectionLock:i,dragPropagation:o,dragConstraints:u,dragElastic:l,dragMomentum:f})}}]),e}();function RY(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}var NY=function(e){v(r,e);var t=b(r);function r(e){var n;return c(this,r),(n=t.call(this,e)).removeGroupControls=_H,n.removeListeners=_H,n.controls=new OY(e),n}return h(r,[{key:"mount",value:function(){var e=this.node.getProps().dragControls;e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_H}},{key:"unmount",value:function(){this.removeGroupControls(),this.removeListeners()}}]),r}(qH),LY=function(e){return function(t,r){e&&AH.update((function(){return e(t,r)}))}},jY=function(e){v(r,e);var t=b(r);function r(){var e;return c(this,r),(e=t.apply(this,arguments)).removePointerDownListener=_H,e}return h(r,[{key:"onPointerDown",value:function(e){this.session=new Wz(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:PY(this.node)})}},{key:"createPanHandlers",value:function(){var e=this,t=this.node.getProps(),r=t.onPanSessionStart,n=t.onPanStart,i=t.onPan,a=t.onPanEnd;return{onSessionStart:LY(r),onStart:LY(n),onMove:i,onEnd:function(t,r){delete e.session,a&&AH.update((function(){return a(t,r)}))}}}},{key:"mount",value:function(){var e=this;this.removePointerDownListener=DH(this.node.current,"pointerdown",(function(t){return e.onPointerDown(t)}))}},{key:"update",value:function(){this.session&&this.session.updateHandlers(this.createPanHandlers())}},{key:"unmount",value:function(){this.removePointerDownListener(),this.session&&this.session.end()}}]),r}(qH);var MY={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function DY(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var FY={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!GV.test(e))return e;e=parseFloat(e)}var r=DY(e,t.target.x),n=DY(e,t.target.y);return"".concat(r,"% ").concat(n,"%")}},UY={correct:function(e,t){var r=t.treeScale,n=t.projectionDelta,i=e,a=sq.parse(e);if(a.length>5)return i;var o=sq.createTransformer(e),s="number"!==typeof a[0]?1:0,u=n.x.scale*r.x,c=n.y.scale*r.y;a[0+s]/=u,a[1+s]/=c;var l=FW(u,c,.5);return"number"===typeof a[2+s]&&(a[2+s]/=l),"number"===typeof a[3+s]&&(a[3+s]/=l),o(a)}},BY=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"componentDidMount",value:function(){var e,t=this,r=this.props,n=r.visualElement,i=r.layoutGroup,a=r.switchLayoutGroup,o=r.layoutId,s=n.projection;e=VY,Object.assign(gV,e),s&&(i.group&&i.group.add(s),a&&a.register&&o&&a.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(ze(ze({},s.options),{},{onExitComplete:function(){return t.safeToRemove()}}))),MY.hasEverUpdated=!0}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this,r=this.props,n=r.layoutDependency,i=r.visualElement,a=r.drag,o=r.isPresent,s=i.projection;return s?(s.isPresent=o,a||e.layoutDependency!==n||void 0===n?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||AH.postRender((function(){var e=s.getStack();e&&e.members.length||t.safeToRemove()}))),null):null}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.visualElement.projection;t&&(t.root.didUpdate(),XG.postRender((function(){!t.currentAnimation&&t.isLead()&&e.safeToRemove()})))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visualElement,r=e.layoutGroup,n=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}},{key:"safeToRemove",value:function(){var e=this.props.safeToRemove;e&&e()}},{key:"render",value:function(){return null}}]),r}(t.Component);function GY(e){var r=function(){var e=(0,t.useContext)(MG);if(null===e)return[!0,null];var r=e.isPresent,n=e.onExitComplete,i=e.register,a=(0,t.useId)();return(0,t.useEffect)((function(){return i(a)}),[]),!r&&n?[!1,function(){return n&&n(a)}]:[!0]}(),n=k(r,2),i=n[0],a=n[1],o=(0,t.useContext)(uV);return t.createElement(BY,ze(ze({},e),{},{layoutGroup:o,switchLayoutGroup:(0,t.useContext)(cV),isPresent:i,safeToRemove:a}))}var VY={borderRadius:ze(ze({},FY),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:FY,borderTopRightRadius:FY,borderBottomLeftRadius:FY,borderBottomRightRadius:FY,boxShadow:UY},HY=["TopLeft","TopRight","BottomLeft","BottomRight"],WY=HY.length,qY=function(e){return"string"===typeof e?parseFloat(e):e},zY=function(e){return"number"===typeof e||GV.test(e)};function YY(e,t){return void 0!==e[t]?e[t]:e.borderRadius}var XY=JY(0,.5,IW),KY=JY(.5,.95,_H);function JY(e,t,r){return function(n){return n<e?0:n>t?1:r(DW(e,t,n))}}function ZY(e,t){e.min=t.min,e.max=t.max}function QY(e,t){ZY(e.x,t.x),ZY(e.y,t.y)}function $Y(e,t,r,n,i){return e=yY(e-=t,1/r,n),void 0!==i&&(e=yY(e,1/i,n)),e}function eX(e,t,r,n,i){var a=k(r,3),o=a[0],s=a[1],u=a[2];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;if(BV.test(t)&&(t=parseFloat(t),t=FW(o.min,o.max,t/100)-o.min),"number"===typeof t){var s=FW(a.min,a.max,n);e===a&&(s-=t),e.min=$Y(e.min,t,r,s,i),e.max=$Y(e.max,t,r,s,i)}}(e,t[o],t[s],t[u],t.scale,n,i)}var tX=["x","scaleX","originX"],rX=["y","scaleY","originY"];function nX(e,t,r,n){eX(e.x,t,tX,r?r.x:void 0,n?n.x:void 0),eX(e.y,t,rX,r?r.y:void 0,n?n.y:void 0)}function iX(e){return 0===e.translate&&1===e.scale}function aX(e){return iX(e.x)&&iX(e.y)}function oX(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function sX(e){return Zz(e.x)/Zz(e.y)}var uX=function(){function e(){c(this,e),this.members=[]}return h(e,[{key:"add",value:function(e){pz(this.members,e),e.scheduleRender()}},{key:"remove",value:function(e){if(vz(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}}},{key:"relegate",value:function(e){var t,r=this.members.findIndex((function(t){return e===t}));if(0===r)return!1;for(var n=r;n>=0;n--){var i=this.members[n];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}},{key:"promote",value:function(e,t){var r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))}},{key:"exitAnimationComplete",value:function(){this.members.forEach((function(e){var t=e.options,r=e.resumingFrom;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()}))}},{key:"scheduleRender",value:function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))}},{key:"removeLeadSnapshot",value:function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}]),e}();function cX(e,t,r){var n="",i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(n="translate3d(".concat(i,"px, ").concat(a,"px, 0) ")),1===t.x&&1===t.y||(n+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),r){var o=r.rotate,s=r.rotateX,u=r.rotateY;o&&(n+="rotate(".concat(o,"deg) ")),s&&(n+="rotateX(".concat(s,"deg) ")),u&&(n+="rotateY(".concat(u,"deg) "))}var c=e.x.scale*t.x,l=e.y.scale*t.y;return 1===c&&1===l||(n+="scale(".concat(c,", ").concat(l,")")),n||"none"}var lX=function(e,t){return e.depth-t.depth},dX=function(){function e(){c(this,e),this.children=[],this.isDirty=!1}return h(e,[{key:"add",value:function(e){pz(this.children,e),this.isDirty=!0}},{key:"remove",value:function(e){vz(this.children,e),this.isDirty=!0}},{key:"forEach",value:function(e){this.isDirty&&this.children.sort(lX),this.isDirty=!1,this.children.forEach(e)}}]),e}();var fX=["","X","Y","Z"],hX={visibility:"hidden"},pX=0,vX={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function gX(e){var t=e.attachResizeListener,r=e.defaultParent,n=e.measureScroll,i=e.checkIsScrollRoot,a=e.resetTransform;return function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===r||void 0===r?void 0:r();c(this,e),this.id=pX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=function(){t.isUpdating&&(t.isUpdating=!1,t.clearAllSnapshots())},this.updateProjection=function(){var e;t.projectionUpdateScheduled=!1,vX.totalNodes=vX.resolvedTargetDeltas=vX.recalculatedProjection=0,t.nodes.forEach(bX),t.nodes.forEach(TX),t.nodes.forEach(AX),t.nodes.forEach(SX),e=vX,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=n,this.root=i?i.root||i:this,this.path=i?[].concat(u(i.path),[i]):[],this.parent=i,this.depth=i?i.depth+1:0;for(var a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new dX)}return h(e,[{key:"addEventListener",value:function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new gz),this.eventHandlers.get(e).add(t)}},{key:"notifyListeners",value:function(e){for(var t=this.eventHandlers.get(e),r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t&&t.notify.apply(t,n)}},{key:"hasListeners",value:function(e){return this.eventHandlers.has(e)}},{key:"mount",value:function(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(!this.instance){var i;this.isSVG=(i=e)instanceof SVGElement&&"svg"!==i.tagName,this.instance=e;var a=this.options,o=a.layoutId,s=a.layout,u=a.visualElement;if(u&&!u.current&&u.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||o)&&(this.isLayoutDirty=!0),t){var c,l=function(){return r.root.updateBlockedByResize=!1};t(e,(function(){r.root.updateBlockedByResize=!0,c&&c(),c=function(e,t){var r=Dq.now(),n=function n(i){var a=i.timestamp-r;a>=t&&(CH(n),e(a-t))};return AH.read(n,!0),function(){return CH(n)}}(l,250),MY.hasAnimatedSinceResize&&(MY.hasAnimatedSinceResize=!1,r.nodes.forEach(_X))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&u&&(o||s)&&this.addEventListener("didUpdate",(function(e){var t=e.delta,n=e.hasLayoutChanged,i=e.hasRelativeTargetChanged,a=e.layout;if(r.isTreeAnimationBlocked())return r.target=void 0,void(r.relativeTarget=void 0);var o=r.options.transition||u.getDefaultTransition()||NX,s=u.getProps(),c=s.onLayoutAnimationStart,l=s.onLayoutAnimationComplete,d=!r.targetLayout||!oX(r.targetLayout,a)||i,f=!n&&i;if(r.options.layoutRoot||r.resumeFrom&&r.resumeFrom.instance||f||n&&(d||!r.currentAnimation)){r.resumeFrom&&(r.resumingFrom=r.resumeFrom,r.resumingFrom.resumingFrom=void 0),r.setAnimationOrigin(t,f);var h=ze(ze({},lz(o,"layout")),{},{onPlay:c,onComplete:l});(u.shouldReduceMotion||r.options.layoutRoot)&&(h.delay=0,h.type=!1),r.startAnimation(h)}else n||_X(r),r.isLead()&&r.options.onExitComplete&&r.options.onExitComplete();r.targetLayout=a}))}}},{key:"unmount",value:function(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);var e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,CH(this.updateProjection)}},{key:"blockUpdate",value:function(){this.updateManuallyBlocked=!0}},{key:"unblockUpdate",value:function(){this.updateManuallyBlocked=!1}},{key:"isUpdateBlocked",value:function(){return this.updateManuallyBlocked||this.updateBlockedByResize}},{key:"isTreeAnimationBlocked",value:function(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}},{key:"startUpdate",value:function(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CX),this.animationId++)}},{key:"getTransformTemplate",value:function(){var e=this.options.visualElement;return e&&e.getProps().transformTemplate}},{key:"willUpdate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())this.options.onExitComplete&&this.options.onExitComplete();else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var t=0;t<this.path.length;t++){var r=this.path[t];r.shouldResetTransform=!0,r.updateScroll("snapshot"),r.options.layoutRoot&&r.willUpdate(!1)}var n=this.options,i=n.layoutId,a=n.layout;if(void 0!==i||a){var o=this.getTransformTemplate();this.prevTransformTemplateValue=o?o(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}}},{key:"update",value:function(){if(this.updateScheduled=!1,this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(xX);this.isUpdating||this.nodes.forEach(wX),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(kX),this.nodes.forEach(mX),this.nodes.forEach(yX),this.clearAllSnapshots();var e=Dq.now();PH.delta=PV(0,1e3/60,e-PH.timestamp),PH.timestamp=e,PH.isProcessing=!0,IH.update.process(PH),IH.preRender.process(PH),IH.render.process(PH),PH.isProcessing=!1}},{key:"didUpdate",value:function(){var e=this;this.updateScheduled||(this.updateScheduled=!0,XG.read((function(){return e.update()})))}},{key:"clearAllSnapshots",value:function(){this.nodes.forEach(EX),this.sharedNodes.forEach(PX)}},{key:"scheduleUpdateProjection",value:function(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,AH.preRender(this.updateProjection,!1,!0))}},{key:"scheduleCheckAfterUnmount",value:function(){var e=this;AH.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))}},{key:"updateSnapshot",value:function(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}},{key:"updateLayout",value:function(){if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var e=0;e<this.path.length;e++){this.path[e].updateScroll()}var t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=lY(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);var r=this.options.visualElement;r&&r.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}}},{key:"updateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:n(this.instance)})}},{key:"resetTransform",value:function(){if(a){var e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!aX(this.projectionDelta),r=this.getTransformTemplate(),n=r?r(this.latestValues,""):void 0,i=n!==this.prevTransformTemplateValue;e&&(t||vY(this.latestValues)||i)&&(a(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}}},{key:"measure",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.measurePageBox(),n=this.removeElementScroll(r);return t&&(n=this.removeTransform(n)),MX((e=n).x),MX(e.y),{animationId:this.root.animationId,measuredBox:r,layoutBox:n,latestValues:{},source:this.id}}},{key:"measurePageBox",value:function(){var e=this.options.visualElement;if(!e)return lY();var t=e.measureViewportBox(),r=this.root.scroll;return r&&(wY(t.x,r.offset.x),wY(t.y,r.offset.y)),t}},{key:"removeElementScroll",value:function(e){var t=lY();QY(t,e);for(var r=0;r<this.path.length;r++){var n=this.path[r],i=n.scroll,a=n.options;if(n!==this.root&&i&&a.layoutScroll){if(i.isRoot){QY(t,e);var o=this.root.scroll;o&&(wY(t.x,-o.offset.x),wY(t.y,-o.offset.y))}wY(t.x,i.offset.x),wY(t.y,i.offset.y)}}return t}},{key:"applyTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=lY();QY(r,e);for(var n=0;n<this.path.length;n++){var i=this.path[n];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&AY(r,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),vY(i.latestValues)&&AY(r,i.latestValues)}return vY(this.latestValues)&&AY(r,this.latestValues),r}},{key:"removeTransform",value:function(e){var t=lY();QY(t,e);for(var r=0;r<this.path.length;r++){var n=this.path[r];if(n.instance&&vY(n.latestValues)){pY(n.latestValues)&&n.updateSnapshot();var i=lY();QY(i,n.measurePageBox()),nX(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,i)}}return vY(this.latestValues)&&nX(t,this.latestValues),t}},{key:"setTargetDelta",value:function(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}},{key:"setOptions",value:function(e){this.options=ze(ze(ze({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}},{key:"clearMeasurements",value:function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}},{key:"forceRelativeParentToResolveTarget",value:function(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==PH.timestamp&&this.relativeParent.resolveTargetDelta(!0)}},{key:"resolveTargetDelta",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=r.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=r.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=r.isSharedProjectionDirty);var n=Boolean(this.resumingFrom)||this!==r;if(!!(t||n&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget)){var i=this.options,a=i.layout,o=i.layoutId;if(this.layout&&(a||o)){if(this.resolvedRelativeTargetAt=PH.timestamp,!this.targetDelta&&!this.relativeTarget){var s=this.getClosestProjectingParent();s&&s.layout&&1!==this.animationProgress?(this.relativeParent=s,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lY(),this.relativeTargetOrigin=lY(),nY(this.relativeTargetOrigin,this.layout.layoutBox,s.layout.layoutBox),QY(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var u,c,l;if(this.target||(this.target=lY(),this.targetWithTransforms=lY()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),u=this.target,c=this.relativeTarget,l=this.relativeParent.target,tY(u.x,c.x,l.x),tY(u.y,c.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):QY(this.target,this.layout.layoutBox),EY(this.target,this.targetDelta)):QY(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;var d=this.getClosestProjectingParent();d&&Boolean(d.resumingFrom)===Boolean(this.resumingFrom)&&!d.options.layoutScroll&&d.target&&1!==this.animationProgress?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lY(),this.relativeTargetOrigin=lY(),nY(this.relativeTargetOrigin,this.target,d.target),QY(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}vX.resolvedTargetDeltas++}}}}},{key:"getClosestProjectingParent",value:function(){if(this.parent&&!pY(this.parent.latestValues)&&!gY(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}},{key:"isProjecting",value:function(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}},{key:"calcProjection",value:function(){var e,t=this.getLead(),r=Boolean(this.resumingFrom)||this!==t,n=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(n=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===PH.timestamp&&(n=!1),!n){var i=this.options,a=i.layout,o=i.layoutId;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(a||o)){QY(this.layoutCorrected,this.layout.layoutBox);var s=this.treeScale.x,u=this.treeScale.y;!function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=r.length;if(i){var a,o;t.x=t.y=1;for(var s=0;s<i;s++){o=(a=r[s]).projectionDelta;var u=a.instance;u&&u.style&&"contents"===u.style.display||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&AY(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,EY(e,o)),n&&vY(a.latestValues)&&AY(e,a.latestValues))}t.x=xY(t.x),t.y=xY(t.y)}}(this.layoutCorrected,this.treeScale,this.path,r),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms=lY());var c=t.target;if(c){this.projectionDelta||(this.projectionDelta=cY(),this.projectionDeltaWithTransform=cY());var l=this.projectionTransform;eY(this.projectionDelta,this.layoutCorrected,c,this.latestValues),this.projectionTransform=cX(this.projectionDelta,this.treeScale),this.projectionTransform===l&&this.treeScale.x===s&&this.treeScale.y===u||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",c)),vX.recalculatedProjection++}else this.projectionTransform&&(this.projectionDelta=cY(),this.projectionTransform="none",this.scheduleRender())}}}},{key:"hide",value:function(){this.isVisible=!1}},{key:"show",value:function(){this.isVisible=!0}},{key:"scheduleRender",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){var t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}},{key:"setAnimationOrigin",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.snapshot,i=n?n.latestValues:{},a=ze({},this.latestValues),o=cY();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!r;var s,u=lY(),c=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),d=!l||l.members.length<=1,f=Boolean(c&&!d&&!0===this.options.crossfade&&!this.path.some(RX));this.animationProgress=0,this.mixTargetDelta=function(r){var n=r/1e3;IX(o.x,e.x,n),IX(o.y,e.y,n),t.setTargetDelta(o),t.relativeTarget&&t.relativeTargetOrigin&&t.layout&&t.relativeParent&&t.relativeParent.layout&&(nY(u,t.layout.layoutBox,t.relativeParent.layout.layoutBox),function(e,t,r,n){OX(e.x,t.x,r.x,n),OX(e.y,t.y,r.y,n)}(t.relativeTarget,t.relativeTargetOrigin,u,n),s&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(t.relativeTarget,s)&&(t.isProjectionDirty=!1),s||(s=lY()),QY(s,t.relativeTarget)),c&&(t.animationValues=a,function(e,t,r,n,i,a){i?(e.opacity=FW(0,void 0!==r.opacity?r.opacity:1,XY(n)),e.opacityExit=FW(void 0!==t.opacity?t.opacity:1,0,KY(n))):a&&(e.opacity=FW(void 0!==t.opacity?t.opacity:1,void 0!==r.opacity?r.opacity:1,n));for(var o=0;o<WY;o++){var s="border".concat(HY[o],"Radius"),u=YY(t,s),c=YY(r,s);void 0===u&&void 0===c||(u||(u=0),c||(c=0),0===u||0===c||zY(u)===zY(c)?(e[s]=Math.max(FW(qY(u),qY(c),n),0),(BV.test(c)||BV.test(u))&&(e[s]+="%")):e[s]=c)}(t.rotate||r.rotate)&&(e.rotate=FW(t.rotate||0,r.rotate||0,n))}(a,i,t.latestValues,n,f,d)),t.root.scheduleUpdateProjection(),t.scheduleRender(),t.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}},{key:"startAnimation",value:function(e){var t=this;this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(CH(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=AH.update((function(){MY.hasAnimatedSinceResize=!0,t.currentAnimation=function(e,t,r){var n=SV(e)?e:bz(e);return n.start(dz("",n,t,r)),n.animation}(0,1e3,ze(ze({},e),{},{onUpdate:function(r){t.mixTargetDelta(r),e.onUpdate&&e.onUpdate(r)},onComplete:function(){e.onComplete&&e.onComplete(),t.completeAnimation()}})),t.resumingFrom&&(t.resumingFrom.currentAnimation=t.currentAnimation),t.pendingAnimation=void 0}))}},{key:"completeAnimation",value:function(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);var e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}},{key:"finishAnimation",value:function(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}},{key:"applyTransformsToTarget",value:function(){var e=this.getLead(),t=e.targetWithTransforms,r=e.target,n=e.layout,i=e.latestValues;if(t&&r&&n){if(this!==e&&this.layout&&n&&DX(this.options.animationType,this.layout.layoutBox,n.layoutBox)){r=this.target||lY();var a=Zz(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+a;var o=Zz(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+o}QY(t,r),AY(t,i),eY(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}},{key:"registerSharedNode",value:function(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new uX),this.sharedNodes.get(e).add(t);var r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}},{key:"isLead",value:function(){var e=this.getStack();return!e||e.lead===this}},{key:"getLead",value:function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}},{key:"getPrevLead",value:function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}},{key:"getStack",value:function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)}},{key:"promote",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needsReset,r=e.transition,n=e.preserveFollowOpacity,i=this.getStack();i&&i.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})}},{key:"relegate",value:function(){var e=this.getStack();return!!e&&e.relegate(this)}},{key:"resetRotation",value:function(){var e=this.options.visualElement;if(e){var t=!1,r=e.latestValues;if((r.rotate||r.rotateX||r.rotateY||r.rotateZ)&&(t=!0),t){for(var n={},i=0;i<fX.length;i++){var a="rotate"+fX[i];r[a]&&(n[a]=r[a],e.setStaticValue(a,0))}for(var o in e.render(),n)e.setStaticValue(o,n[o]);e.scheduleRender()}}}},{key:"getProjectionStyles",value:function(e){var t,r;if(this.instance&&!this.isSVG){if(!this.isVisible)return hX;var n={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,n.opacity="",n.pointerEvents=EH(null===e||void 0===e?void 0:e.pointerEvents)||"",n.transform=i?i(this.latestValues,""):"none",n;var a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){var o={};return this.options.layoutId&&(o.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,o.pointerEvents=EH(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!vY(this.latestValues)&&(o.transform=i?i({},""):"none",this.hasProjected=!1),o}var s=a.animationValues||a.latestValues;this.applyTransformsToTarget(),n.transform=cX(this.projectionDeltaWithTransform,this.treeScale,s),i&&(n.transform=i(s,n.transform));var u=this.projectionDelta,c=u.x,l=u.y;for(var d in n.transformOrigin="".concat(100*c.origin,"% ").concat(100*l.origin,"% 0"),a.animationValues?n.opacity=a===this?null!==(r=null!==(t=s.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:n.opacity=a===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,gV)if(void 0!==s[d]){var f=gV[d],h=f.correct,p=f.applyTo,v="none"===n.transform?s[d]:h(s[d],a);if(p)for(var g=p.length,m=0;m<g;m++)n[p[m]]=v;else n[d]=v}return this.options.layoutId&&(n.pointerEvents=a===this?EH(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),n}}},{key:"clearSnapshot",value:function(){this.resumeFrom=this.snapshot=void 0}},{key:"resetTree",value:function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(xX),this.root.sharedNodes.clear()}}]),e}()}function mX(e){e.updateLayout()}function yX(e){var t,r=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){var n=e.layout,i=n.layoutBox,a=n.measuredBox,o=e.options.animationType,s=r.source!==e.layout.source;"size"===o?dY((function(e){var t=s?r.measuredBox[e]:r.layoutBox[e],n=Zz(t);t.min=i[e].min,t.max=t.min+n})):DX(o,r.layoutBox,i)&&dY((function(t){var n=s?r.measuredBox[t]:r.layoutBox[t],a=Zz(i[t]);n.max=n.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[t].max=e.relativeTarget[t].min+a)}));var u=cY();eY(u,i,r.layoutBox);var c=cY();s?eY(c,e.applyTransform(a,!0),r.measuredBox):eY(c,i,r.layoutBox);var l=!aX(u),d=!1;if(!e.resumeFrom){var f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){var h=f.snapshot,p=f.layout;if(h&&p){var v=lY();nY(v,r.layoutBox,h.layoutBox);var g=lY();nY(g,i,p.layoutBox),oX(v,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:r,delta:c,layoutDelta:u,hasLayoutChanged:l,hasRelativeTargetChanged:d})}else if(e.isLead()){var m=e.options.onExitComplete;m&&m()}e.options.transition=void 0}function bX(e){vX.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function SX(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function EX(e){e.clearSnapshot()}function xX(e){e.clearMeasurements()}function wX(e){e.isLayoutDirty=!1}function kX(e){var t=e.options.visualElement;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _X(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function TX(e){e.resolveTargetDelta()}function AX(e){e.calcProjection()}function CX(e){e.resetRotation()}function PX(e){e.removeLeadSnapshot()}function IX(e,t,r){e.translate=FW(t.translate,0,r),e.scale=FW(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function OX(e,t,r,n){e.min=FW(t.min,r.min,n),e.max=FW(t.max,r.max,n)}function RX(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var NX={duration:.45,ease:[.4,0,.1,1]},LX=function(e){return"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e)},jX=LX("applewebkit/")&&!LX("chrome/")?Math.round:_H;function MX(e){e.min=jX(e.min),e.max=jX(e.max)}function DX(e,t,r){return"position"===e||"preserve-aspect"===e&&!Qz(sX(t),sX(r),.2)}var FX=gX({attachResizeListener:function(e,t){return NH(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),UX={current:void 0},BX=gX({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!UX.current){var e=new FX({});e.mount(window),e.setOptions({layoutScroll:!0}),UX.current=e}return UX.current},resetTransform:function(e,t){e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:function(e){return Boolean("fixed"===window.getComputedStyle(e).position)}}),GX={pan:{Feature:jY},drag:{Feature:NY,ProjectionNode:BX,MeasureLayout:GY}};function VX(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var HX=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;var WX=4;function qX(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;lW(r<=WX,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));var n=function(e){var t=HX.exec(e);if(!t)return[,];var r=k(t,3);return[r[1],r[2]]}(e),i=k(n,2),a=i[0],o=i[1];if(a){var s=window.getComputedStyle(t).getPropertyValue(a);if(s){var u=s.trim();return hz(u)?parseFloat(u):u}return TV(o)?qX(o,t,r+1):o}}var zX=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),YX=function(e){return zX.has(e)},XX=function(e){return e===IV||e===GV},KX=function(e,t){return parseFloat(e.split(", ")[t])},JX=function(e,t){return function(r,n){var i=n.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return KX(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?KX(o[1],e):0}},ZX=new Set(["x","y","z"]),QX=mV.filter((function(e){return!ZX.has(e)}));var $X={width:function(e,t){var r=e.x,n=t.paddingLeft,i=void 0===n?"0":n,a=t.paddingRight,o=void 0===a?"0":a;return r.max-r.min-parseFloat(i)-parseFloat(o)},height:function(e,t){var r=e.y,n=t.paddingTop,i=void 0===n?"0":n,a=t.paddingBottom,o=void 0===a?"0":a;return r.max-r.min-parseFloat(i)-parseFloat(o)},top:function(e,t){var r=t.top;return parseFloat(r)},left:function(e,t){var r=t.left;return parseFloat(r)},bottom:function(e,t){var r=e.y,n=t.top;return parseFloat(n)+(r.max-r.min)},right:function(e,t){var r=e.x,n=t.left;return parseFloat(n)+(r.max-r.min)},x:JX(4,13),y:JX(5,14)};$X.translateX=$X.x,$X.translateY=$X.y;var eK=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=ze({},t),n=ze({},n);var i=Object.keys(t).filter(YX),a=[],o=!1,s=[];if(i.forEach((function(i){var u=e.getValue(i);if(e.hasValue(i)){var c,l=r[i],d=xz(l),f=t[i];if(yH(f)){var h=f.length,p=null===f[0]?1:0;l=f[p],d=xz(l);for(var v=p;v<h&&null!==f[v];v++)c?lW(xz(f[v])===c,"All keyframes must be of the same type"):(c=xz(f[v]),lW(c===d||XX(d)&&XX(c),"Keyframes must be of the same dimension as the current value"))}else c=xz(f);if(d!==c)if(XX(d)&&XX(c)){var g=u.get();"string"===typeof g&&u.set(parseFloat(g)),"string"===typeof f?t[i]=parseFloat(f):Array.isArray(f)&&c===GV&&(t[i]=f.map(parseFloat))}else(null===d||void 0===d?void 0:d.transform)&&(null===c||void 0===c?void 0:c.transform)&&(0===l||0===f)?0===l?u.set(c.transform(l)):t[i]=d.transform(f):(o||(a=function(e){var t=[];return QX.forEach((function(r){var n=e.getValue(r);void 0!==n&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),o=!0),s.push(i),n[i]=void 0!==n[i]?n[i]:t[i],u.jump(f))}})),s.length){var u=s.indexOf("height")>=0?window.pageYOffset:null,c=function(e,t,r){var n=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),o=a.display,s={};"none"===o&&t.setStaticValue("display",e.display||"block"),r.forEach((function(e){s[e]=$X[e](n,a)})),t.render();var u=t.measureViewportBox();return r.forEach((function(r){var n=t.getValue(r);n&&n.jump(s[r]),e[r]=$X[r](u,a)})),e}(t,e,s);return a.length&&a.forEach((function(t){var r=k(t,2),n=r[0],i=r[1];e.getValue(n).set(i)})),e.render(),DG&&null!==u&&window.scrollTo({top:u}),{target:c,transitionEnd:n}}return{target:t,transitionEnd:n}};function tK(e,t,r,n){return function(e){return Object.keys(e).some(YX)}(t)?eK(e,t,r,n):{target:t,transitionEnd:n}}var rK=function(e,t,r,n){var i=function(e,t,r){var n=Object.assign({},(VX(t),t)),i=e.current;if(!(i instanceof Element))return{target:n,transitionEnd:r};for(var a in r&&(r=ze({},r)),e.values.forEach((function(e){var t=e.get();if(TV(t)){var r=qX(t,i);r&&e.set(r)}})),n){var o=n[a];if(TV(o)){var s=qX(o,i);s&&(n[a]=s,r||(r={}),void 0===r[a]&&(r[a]=o))}}return{target:n,transitionEnd:r}}(e,t,n);return tK(e,t=i.target,r,n=i.transitionEnd)},nK={current:null},iK={current:!1};var aK=new WeakMap,oK=["willChange"],sK=["children"],uK=Object.keys(aV),cK=uK.length,lK=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],dK=$G.length,fK=function(){function e(t){var r=this,n=t.parent,i=t.props,a=t.presenceContext,o=t.reducedMotionConfig,s=t.visualState,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,e),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=function(){return r.notify("Update",r.latestValues)},this.render=function(){r.current&&(r.triggerBuild(),r.renderInstance(r.current,r.renderState,r.props.style,r.projection))},this.scheduleRender=function(){return AH.render(r.render,!1,!0)};var l=s.latestValues,d=s.renderState;this.latestValues=l,this.baseTarget=ze({},l),this.initialValues=i.initial?ze({},l):{},this.renderState=d,this.parent=n,this.props=i,this.presenceContext=a,this.depth=n?n.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.isControllingVariants=eV(i),this.isVariantNode=tV(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(n&&n.current);var f=this.scrapeMotionValuesFromProps(i,{}),h=f.willChange,p=He(f,oK);for(var v in p){var g=p[v];void 0!==l[v]&&SV(g)&&(g.set(l[v],!1),fz(h)&&h.add(v))}}return h(e,[{key:"scrapeMotionValuesFromProps",value:function(e,t){return{}}},{key:"mount",value:function(e){var t=this;this.current=e,aK.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((function(e,r){return t.bindToMotionValue(r,e)})),iK.current||function(){if(iK.current=!0,DG)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return nK.current=e.matches};e.addListener(t),t()}else nK.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||nK.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}},{key:"unmount",value:function(){for(var e in aK.delete(this.current),this.projection&&this.projection.unmount(),CH(this.notifyUpdate),CH(this.render),this.valueSubscriptions.forEach((function(e){return e()})),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(var t in this.features)this.features[t].unmount();this.current=null}},{key:"bindToMotionValue",value:function(e,t){var r=this,n=yV.has(e),i=t.on("change",(function(t){r.latestValues[e]=t,r.props.onUpdate&&AH.update(r.notifyUpdate,!1,!0),n&&r.projection&&(r.projection.isTransformDirty=!0)})),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(function(){i(),a()}))}},{key:"sortNodePosition",value:function(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}},{key:"loadFeatures",value:function(e,t,r,n){for(var i,a,o=this,s=(e.children,He(e,sK)),u=0;u<cK;u++){var c=uK[u],l=aV[c],d=l.isEnabled,f=l.Feature,h=l.ProjectionNode,p=l.MeasureLayout;h&&(i=h),d(s)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),p&&(a=p))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);var v=s.layoutId,g=s.layout,m=s.drag,y=s.dragConstraints,b=s.layoutScroll,S=s.layoutRoot;this.projection.setOptions({layoutId:v,layout:g,alwaysMeasureLayout:Boolean(m)||y&&KG(y),visualElement:this,scheduleRender:function(){return o.scheduleRender()},animationType:"string"===typeof g?g:"both",initialPromotionConfig:n,layoutScroll:b,layoutRoot:S})}return a}},{key:"updateFeatures",value:function(){for(var e in this.features){var t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}},{key:"triggerBuild",value:function(){this.build(this.renderState,this.latestValues,this.options,this.props)}},{key:"measureViewportBox",value:function(){return this.current?this.measureInstanceViewportBox(this.current,this.props):lY()}},{key:"getStaticValue",value:function(e){return this.latestValues[e]}},{key:"setStaticValue",value:function(e,t){this.latestValues[e]=t}},{key:"makeTargetAnimatable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,t)}},{key:"update",value:function(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(var r=0;r<lK.length;r++){var n=lK[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);var i=e["on"+n];i&&(this.propEventSubscriptions[n]=this.on(n,i))}this.prevMotionValues=function(e,t,r){var n=t.willChange;for(var i in t){var a=t[i],o=r[i];if(SV(a))e.addValue(i,a),fz(n)&&n.add(i);else if(SV(o))e.addValue(i,bz(a,{owner:e})),fz(n)&&n.remove(i);else if(o!==a)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(a)}else{var u=e.getStaticValue(i);e.addValue(i,bz(void 0!==u?u:a,{owner:e}))}}for(var c in r)void 0===t[c]&&e.removeValue(c);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}},{key:"getProps",value:function(){return this.props}},{key:"getVariant",value:function(e){return this.props.variants?this.props.variants[e]:void 0}},{key:"getDefaultTransition",value:function(){return this.props.transition}},{key:"getTransformPagePoint",value:function(){return this.props.transformPagePoint}},{key:"getClosestVariantNode",value:function(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}},{key:"getVariantContext",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){var e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}for(var t={},r=0;r<dK;r++){var n=$G[r],i=this.props[n];(JG(i)||!1===i)&&(t[n]=i)}return t}},{key:"addVariantChild",value:function(e){var t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),function(){return t.variantChildren.delete(e)}}},{key:"addValue",value:function(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}},{key:"removeValue",value:function(e){this.values.delete(e);var t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}},{key:"hasValue",value:function(e){return this.values.has(e)}},{key:"getValue",value:function(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];var r=this.values.get(e);return void 0===r&&void 0!==t&&(r=bz(t,{owner:this}),this.addValue(e,r)),r}},{key:"readValue",value:function(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}},{key:"setBaseTarget",value:function(e,t){this.baseTarget[e]=t}},{key:"getBaseTarget",value:function(e){var t,r=this.props.initial,n="string"===typeof r||"object"===typeof r?null===(t=gH(this.props,r))||void 0===t?void 0:t[e]:void 0;if(r&&void 0!==n)return n;var i=this.getBaseTargetFromProps(this.props,e);return void 0===i||SV(i)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:i}},{key:"on",value:function(e,t){return this.events[e]||(this.events[e]=new gz),this.events[e].add(t)}},{key:"notify",value:function(e){if(this.events[e]){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];(t=this.events[e]).notify.apply(t,n)}}}]),e}(),hK=["transition","transitionEnd"],pK=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"sortInstanceNodePosition",value:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1}},{key:"getBaseTargetFromProps",value:function(e,t){return e.style?e.style[t]:void 0}},{key:"removeValueFromRenderState",value:function(e,t){var r=t.vars,n=t.style;delete r[e],delete n[e]}},{key:"makeTargetAnimatableFromInstance",value:function(e,t){var r=e.transition,n=e.transitionEnd,i=He(e,hK),a=function(e,t,r){var n={};for(var i in e){var a=Cz(i,t);if(void 0!==a)n[i]=a;else{var o=r.getValue(i);o&&(n[i]=o.get())}}return n}(i,r||{},this);if(t){!function(e,t,r){var n,i,a=Object.keys(t).filter((function(t){return!e.hasValue(t)})),o=a.length;if(o)for(var s=0;s<o;s++){var u=a[s],c=t[u],l=null;Array.isArray(c)&&(l=c[0]),null===l&&(l=null!==(i=null!==(n=r[u])&&void 0!==n?n:e.readValue(u))&&void 0!==i?i:t[u]),void 0!==l&&null!==l&&("string"===typeof l&&(hz(l)||sz(l))?l=parseFloat(l):!kz(l)&&sq.test(c)&&(l=oz(u,c)),e.addValue(u,bz(l,{owner:e})),void 0===r[u]&&(r[u]=l),null!==l&&e.setBaseTarget(u,l))}}(this,i,a);var o=rK(this,i,a,n);n=o.transitionEnd,i=o.target}return ze({transition:r,transitionEnd:n},i)}}]),r}(fK);var vK=function(e){v(r,e);var t=b(r);function r(){var e;return c(this,r),(e=t.apply(this,arguments)).type="html",e}return h(r,[{key:"readValueFromInstance",value:function(e,t){if(yV.has(t)){var r=az(t);return r&&r.default||0}var n,i=(n=e,window.getComputedStyle(n)),a=(kV(t)?i.getPropertyValue(t):i[t])||0;return"string"===typeof a?a.trim():a}},{key:"measureInstanceViewportBox",value:function(e,t){return CY(e,t.transformPagePoint)}},{key:"build",value:function(e,t,r,n){YV(e,t,r,n.transformTemplate)}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return pH(e,t)}},{key:"handleChildMotionValue",value:function(){var e=this;this.childSubscription&&(this.childSubscription(),delete this.childSubscription);var t=this.props.children;SV(t)&&(this.childSubscription=t.on("change",(function(t){e.current&&(e.current.textContent="".concat(t))})))}},{key:"renderInstance",value:function(e,t,r,n){dH(e,t,r,n)}}]),r}(pK),gK=function(e){v(r,e);var t=b(r);function r(){var e;return c(this,r),(e=t.apply(this,arguments)).type="svg",e.isSVGTag=!1,e}return h(r,[{key:"getBaseTargetFromProps",value:function(e,t){return e[t]}},{key:"readValueFromInstance",value:function(e,t){if(yV.has(t)){var r=az(t);return r&&r.default||0}return t=fH.has(t)?t:BG(t),e.getAttribute(t)}},{key:"measureInstanceViewportBox",value:function(){return lY()}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return vH(e,t)}},{key:"build",value:function(e,t,r,n){oH(e,t,r,this.isSVGTag,n.transformTemplate)}},{key:"renderInstance",value:function(e,t,r,n){hH(e,t,0,n)}},{key:"mount",value:function(e){this.isSVGTag=uH(e.tagName),to(g(r.prototype),"mount",this).call(this,e)}}]),r}(pK),mK=function(e,t){return vV(e)?new gK(t,{enableHardwareAcceleration:!1}):new vK(t,{enableHardwareAcceleration:!0})},yK={layout:{ProjectionNode:BX,MeasureLayout:GY}},bK=ze(ze(ze(ze({},Vz),oW),GX),yK),SK=hV((function(e,t){return function(e,t,r,n){var i=t.forwardMotionProps,a=void 0!==i&&i;return ze(ze({},vV(e)?OH:RH),{},{preloadedFeatures:r,useRender:lH(a),createVisualElement:n,Component:e})}(e,t,bK,mK)}));var EK,xK=function(e){var r=e.sceneWordLengthThreshold,n=(0,t.useMemo)((function(){return function(e){return(e.min+e.max)/2*.3}(r)}),[r]);return(0,uw.jsxs)("div",{className:"relative h-10 w-10 flex-none items-center overflow-hidden",children:[(0,uw.jsxs)(SK.div,{animate:{x:-40},transition:{repeat:1/0,duration:n,ease:"linear"},className:"-mr-10 mt-[5px] flex w-20",children:[(0,uw.jsx)(pG,{className:"h-10 w-10 overflow-hidden rounded-md text-gray-400"}),(0,uw.jsx)(pG,{className:"h-10 w-10 overflow-hidden rounded-md text-gray-400"})]}),(0,uw.jsx)("div",{className:"absolute left-[13px] top-0 h-[9px] w-[9px] rounded-full bg-gray-900 shadow-sm"}),(0,uw.jsx)("div",{className:"absolute left-4 top-0 h-full w-[3px] rounded-full bg-gray-900 shadow-sm"})]})},wK=function(e){return e.SMALL="SMALL",e.LARGE="LARGE",e}({}),kK=function(e){return e.NEW="NEW",e.BETA="BETA",e.FREE="FREE",e.PRO="PRO",e.SCALE="SCALE",e.BUSINESS="BUSINESS",e.ENTERPRISE="ENTERPRISE",e.COMING_SOON="COMING_SOON",e.STANDARD="STANDARD",e.BASIC="BASIC",e.CUSTOM="CUSTOM",e.LIFELIKE="LIFELIKE",e}({}),_K=(We(EK={},Sn.WorkspaceT.WorkspaceAuthLevel.FREE,kK.FREE),We(EK,Sn.WorkspaceT.WorkspaceAuthLevel.STARTER,kK.PRO),We(EK,Sn.WorkspaceT.WorkspaceAuthLevel.PRO,kK.PRO),We(EK,Sn.WorkspaceT.WorkspaceAuthLevel.SCALE,kK.SCALE),We(EK,Sn.WorkspaceT.WorkspaceAuthLevel.BUSINESS,kK.BUSINESS),We(EK,Sn.WorkspaceT.WorkspaceAuthLevel.ENTERPRISE_TIER_1,kK.ENTERPRISE),We(EK,Sn.WorkspaceT.WorkspaceAuthLevel.ENTERPRISE_TIER_2,kK.ENTERPRISE),We(EK,Sn.WorkspaceT.WorkspaceAuthLevel.ENTERPRISE_TIER_3,kK.ENTERPRISE),We(EK,Sn.WorkspaceT.WorkspaceAuthLevel.ENTERPRISE_TIER_4,kK.ENTERPRISE),We(EK,Sn.WorkspaceT.WorkspaceAuthLevel.ENTERPRISE_TIER_5,kK.ENTERPRISE),We(EK,Sn.WorkspaceT.WorkspaceAuthLevel.ENTERPRISE_TIER_6,kK.ENTERPRISE),We(EK,Sn.WorkspaceT.WorkspaceAuthLevel.ENTERPRISE_TIER_7,kK.ENTERPRISE),We(EK,Sn.WorkspaceT.WorkspaceAuthLevel.ENTERPRISE_TIER_8,kK.ENTERPRISE),We(EK,Sn.WorkspaceT.WorkspaceAuthLevel.ADMIN,kK.CUSTOM),We(EK,Sn.WorkspaceT.WorkspaceAuthLevel.SUPER_ADMIN,kK.CUSTOM),We(EK,Sn.WorkspaceT.WorkspaceAuthLevel.CUSTOM,kK.CUSTOM),EK),TK=function(e){var r=e.type,n=e.size,i=void 0===n?wK.SMALL:n,a=(0,t.useMemo)((function(){switch(i){case wK.LARGE:return"py-0.5 px-2 text-sm rounded-lg";case wK.SMALL:return"py-0.5 px-2 text-xs rounded-md"}}),[i]),o=(0,t.useMemo)((function(){switch(r){case kK.NEW:return{text:"New",typeClassName:"bg-green-200 text-green-700"};case kK.BETA:return{text:"Beta",typeClassName:"bg-red-100 text-red-600"};case kK.PRO:return{text:"Pro",typeClassName:"bg-amber-200 text-amber-700"};case kK.SCALE:return{text:"Scale",typeClassName:"bg-blue-200 text-blue-700"};case kK.BUSINESS:return{text:"Business",typeClassName:"bg-purple-100 text-purple-700"};case kK.ENTERPRISE:return{text:"Enterprise",typeClassName:"bg-indigo-100 text-indigo-700"};case kK.COMING_SOON:return{text:"Coming soon",typeClassName:"bg-blue-200 text-blue-700"};case kK.STANDARD:return{text:"Standard",typeClassName:"bg-green-200 text-green-700"};case kK.BASIC:return{text:"Basic",typeClassName:"bg-slate-300 text-slate-700"};case kK.FREE:return{text:"Free",typeClassName:"bg-slate-200 text-slate-700"};case kK.CUSTOM:return{text:"Custom",typeClassName:"bg-gray-700 text-white"};case kK.LIFELIKE:return{text:"Lifelike",typeClassName:"bg-amber-200 text-amber-700"};default:return Sn.ErrorH.assertNever(r)}}),[r]),s=o.text,u=o.typeClassName;return(0,uw.jsx)("div",{className:Dn("inline-flex items-center font-semibold",a,u),children:s})},AK=function(e){var t=e.className;return(0,uw.jsxs)("svg",{className:t,viewBox:"0 0 109 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,uw.jsx)("g",{clipPath:"url(#a)",fillRule:"evenodd",clipRule:"evenodd",fill:"#000",children:(0,uw.jsx)("path",{d:"M6.01 28.453H.801V9.015H6.01zm4.998-7.495c1.604 1.762 4.047 3.086 6.61 3.086 2.405 0 4.089-1.484 4.089-3.527 0-3.606-5.208-4.047-8.975-6.25-2.204-1.284-3.97-3.207-3.97-6.375C8.763 2.884 13.376 0 18.022 0c2.844 0 5.49.682 8.135 2.645l-2.804 4.006c-1.125-1.041-3.008-1.84-4.852-1.84-2.04 0-4.326.878-4.326 3.042 0 4.53 12.944 3.125 12.944 12.585 0 4.967-4.45 8.413-9.5 8.413-3.765 0-7.251-1.56-10.137-4.208zm32.291 7.495c-.68.239-2.246.398-3.246.398-3.126 0-5.408-1.042-6.733-2.805-1.001-1.322-1.443-3.043-1.443-5.81v-6.812h-5.41V9.015h5.41v-5.41h5.21v5.41h6.412v4.409h-6.412v7.41c0 1.208.199 1.926.642 2.448.517.603 1.36.961 2.642.961.762 0 1.767-.117 2.127-.199zM54.852 8.615c5.888 0 10.337 4.529 10.337 10.14 0 5.609-4.45 10.096-10.337 10.096-5.89 0-10.34-4.487-10.34-10.097s4.45-10.14 10.34-10.14m0 15.43c3.045 0 5.126-2.366 5.126-5.29 0-2.927-2.081-5.331-5.126-5.331-3.048 0-5.13 2.404-5.13 5.33 0 2.925 2.082 5.29 5.13 5.29m30.909.44c-2.287 3.046-5.174 4.366-8.818 4.366-6.01 0-10.42-4.487-10.42-10.097 0-5.65 4.529-10.14 10.46-10.14 3.367 0 6.371 1.565 8.174 3.887l-3.686 3.246c-1.04-1.361-2.602-2.323-4.488-2.323-3.005 0-5.25 2.366-5.25 5.33 0 3.046 2.206 5.29 5.372 5.29 2.122 0 3.805-1.284 4.647-2.565zm11.716-6.733 10.701 10.701h-7.015l-8.216-8.419v8.419H87.74V.401h5.207v14.908l6.691-6.294h7.338zM0 3.406a3.407 3.407 0 1 1 6.813 0 3.407 3.407 0 0 1-6.813 0m.986 39.168h1.05v-7.276H.972v-1.12h2.28v3.244c.717-.763 1.546-1.126 2.569-1.126 2.173 0 3.727 1.66 3.727 3.784 0 2.145-1.586 3.795-3.769 3.795-.981 0-1.746-.347-2.505-1.119v.96H.986zm4.77-5.1c-1.347 0-2.504 1.113-2.504 2.645 0 1.437 1.157 2.574 2.486 2.574 1.356 0 2.51-1.084 2.51-2.64 0-1.505-1.154-2.58-2.492-2.58m5.37 7.437h1.128l.565-1.412-2.336-5.89H9.53v-1.14h3.219v1.14h-.994l1.69 4.302 1.703-4.303h-.989V36.47h3.205v1.14h-.939l-2.898 7.302h1.003v1.136h-3.404zm13.788-5.973h5.793v4.778h-1.03V42.21c-1.048 1.141-2.244 1.693-3.685 1.693-2.859 0-4.887-2.234-4.887-5.022 0-2.577 2.07-4.896 5.012-4.896 1.099 0 1.975.307 2.903.995v-.803h1.043v2.559h-1.18c-.82-.952-1.714-1.413-2.841-1.413-2.039 0-3.543 1.655-3.543 3.6 0 2.092 1.557 3.662 3.525 3.662 1.481 0 2.81-.977 3.25-2.498h-4.36zm14.24 2.483c-.616 1.582-1.946 2.465-3.54 2.465a3.753 3.753 0 0 1-3.782-3.785c0-2.154 1.756-3.825 3.743-3.825 2.118 0 3.808 1.652 3.808 3.88 0 .108 0 .244-.024.417h-6.2c.2 1.29 1.226 2.135 2.44 2.135.916 0 1.69-.443 2.134-1.287zm-1.11-1.879c-.326-1.343-1.239-2.107-2.43-2.107-1.206 0-2.218.819-2.456 2.107zm2.84-1.952h-1.116v-1.12h1.117v-2.292h1.218v2.291h1.073v1.121h-1.073v4.984h1.073v1.142h-2.291zm4.062 0h-1.111v-1.12h1.11v-2.292h1.223v2.291h1.067v1.121h-1.067v4.984h1.067v1.142h-2.29zm4.608 7.32h1.128l.567-1.411-2.34-5.89h-.95v-1.14h3.22v1.14h-.996l1.69 4.302 1.71-4.303h-.996V36.47H55.8v1.14h-.944l-2.903 7.302h1.013v1.136h-3.412zm9.916-2.349h1.06v-7.236h-1.06v-1.147h3.475v1.147h-1.09v7.236h1.09v1.155H59.47zm4.492.013h1.032V37.59h-1.022v-1.122H66.2v1.03c.446-.78 1.074-1.149 1.974-1.149 1.06 0 1.833.507 2.275 1.443.563-.989 1.253-1.456 2.23-1.456 1.787 0 2.604 1.299 2.604 3.094v3.143h1.046v1.142h-3.303v-1.142h1.034v-3.21c0-1.222-.563-1.876-1.565-1.876-1.156 0-1.773.857-1.773 2.565v2.521h1.05v1.142h-3.278v-1.142h1.045V40.17c0-1.7-.188-2.682-1.609-2.682-1.099 0-1.73.857-1.73 2.565v2.521h1.05v1.142h-3.288zm19.017.182c-.763.772-1.532 1.119-2.498 1.119-2.198 0-3.769-1.65-3.769-3.795 0-2.124 1.515-3.775 3.719-3.775 1.032 0 1.858.337 2.579 1.117v-.953h2.235v1.121h-1.03v4.971h1.041v1.155H82.98zm-2.48-5.283c-1.342 0-2.498 1.075-2.498 2.58 0 1.556 1.156 2.64 2.505 2.64 1.326 0 2.483-1.128 2.483-2.574 0-1.532-1.157-2.646-2.49-2.646m7.195 6.669c.257.769.94 1.18 1.96 1.18 1.292 0 2.377-.928 2.43-2.265l.011-.364c-.723.806-1.517 1.167-2.518 1.167-2.147 0-3.73-1.623-3.73-3.78 0-2.081 1.53-3.784 3.689-3.784 1.042 0 1.877.374 2.575 1.192v-1.019h2.24v1.14h-1.032v4.915c0 2.49-1.438 3.86-3.664 3.86-1.76 0-2.909-.751-3.377-2.242zm4.417-4.011c0-1.528-1.142-2.658-2.484-2.658-1.337 0-2.492 1.086-2.492 2.592 0 1.57 1.165 2.643 2.492 2.643 1.33 0 2.484-1.143 2.484-2.577m10.019 1.29c-.618 1.582-1.943 2.465-3.542 2.465A3.757 3.757 0 0 1 94.8 40.1c0-2.154 1.762-3.825 3.75-3.825 2.119 0 3.811 1.652 3.811 3.88 0 .108 0 .244-.027.417h-6.205c.207 1.29 1.227 2.135 2.445 2.135.916 0 1.691-.443 2.131-1.287zm-1.113-1.879c-.32-1.343-1.235-2.107-2.43-2.107-1.206 0-2.214.819-2.458 2.107zm2.089 1.89h1.211c0 .7.602 1.4 1.501 1.4.762 0 1.211-.407 1.211-1.107 0-.774-.581-1.059-1.855-1.315-1.622-.33-1.971-1.176-1.971-2.053 0-1.207.854-2.092 2.225-2.092.594 0 1.059.204 1.45.63v-.44h1.005v1.93h-1.117c-.169-.71-.572-1.03-1.257-1.03-.67 0-1.047.332-1.047.899 0 .803.656.954 1.785 1.243 1.409.38 2.063.97 2.063 2.15 0 1.356-.942 2.257-2.44 2.257-.686 0-1.205-.216-1.663-.716v.537h-1.101z"})}),(0,uw.jsx)("defs",{children:(0,uw.jsx)("clipPath",{id:"a",children:(0,uw.jsx)("path",{fill:"#000",d:"M0 0h108.31v46.384H0z"})})})]})};function CK(e){var t;if(e.type)return e.type;var r=null!=(t=e.as)?t:"button";return"string"==typeof r&&"button"===r.toLowerCase()?"button":void 0}function PK(e,r){var n=k((0,t.useState)((function(){return CK(e)})),2),i=n[0],a=n[1];return fF((function(){a(CK(e))}),[e.type,e.as]),fF((function(){i||r.current&&r.current instanceof HTMLButtonElement&&!r.current.hasAttribute("type")&&a("button")}),[i,r]),i}var IK=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function OK(e){var t,r,n=null!=(t=e.innerText)?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return n;var a,o=!1,s=T(i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'));try{for(s.s();!(a=s.n()).done;){a.value.remove(),o=!0}}catch(c){s.e(c)}finally{s.f()}var u=o?null!=(r=i.innerText)?r:"":n;return IK.test(u)&&(u=u.replace(IK,"")),u}function RK(e){var r=(0,t.useRef)(""),n=(0,t.useRef)("");return pF((function(){var t=e.current;if(!t)return"";var i=t.innerText;if(r.current===i)return n.current;var a=function(e){var t=e.getAttribute("aria-label");if("string"==typeof t)return t.trim();var r=e.getAttribute("aria-labelledby");if(r){var n=r.split(" ").map((function(e){var t=document.getElementById(e);if(t){var r=t.getAttribute("aria-label");return"string"==typeof r?r.trim():OK(t).trim()}return null})).filter(Boolean);if(n.length>0)return n.join(", ")}return OK(e).trim()}(t).trim().toLowerCase();return r.current=i,n.current=a,a}))}function NK(e){return[e.screenX,e.screenY]}function LK(){var e=(0,t.useRef)([-1,-1]);return{wasMoved:function(t){var r=NK(t);return(e.current[0]!==r[0]||e.current[1]!==r[1])&&(e.current=r,!0)},update:function(t){e.current=NK(t)}}}function jK(e){var r=e.container,n=e.accept,i=e.walk,a=e.enabled,o=void 0===a||a,s=(0,t.useRef)(n),u=(0,t.useRef)(i);(0,t.useEffect)((function(){s.current=n,u.current=i}),[n,i]),fF((function(){if(r&&o){var e=sU(r);if(e)for(var t=s.current,n=u.current,i=Object.assign((function(e){return t(e)}),{acceptNode:t}),a=e.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,i,!1);a.nextNode();)n(a.currentNode)}}),[r,o,s,u])}var MK=function(e){return e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e}(MK||{});function DK(e,t){var r=t.resolveItems();if(r.length<=0)return null;var n=t.resolveActiveIndex(),i=null!=n?n:-1;switch(e.focus){case 0:for(var a=0;a<r.length;++a)if(!t.resolveDisabled(r[a],a,r))return a;return n;case 1:for(var o=i-1;o>=0;--o)if(!t.resolveDisabled(r[o],o,r))return o;return n;case 2:for(var s=i+1;s<r.length;++s)if(!t.resolveDisabled(r[s],s,r))return s;return n;case 3:for(var u=r.length-1;u>=0;--u)if(!t.resolveDisabled(r[u],u,r))return u;return n;case 4:for(var c=0;c<r.length;++c)if(t.resolveId(r[c],c,r)===e.id)return c;return n;case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}var FK,UK=["__demoMode"],BK=["id"],GK=["id"],VK=["id","disabled"],HK=function(e){return e[e.Open=0]="Open",e[e.Closed=1]="Closed",e}(HK||{}),WK=function(e){return e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e}(WK||{}),qK=function(e){return e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e}(qK||{});function zK(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},r=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,n=CU(t(e.items.slice()),(function(e){return e.dataRef.current.domRef.current})),i=r?n.indexOf(r):null;return-1===i&&(i=null),{items:n,activeItemIndex:i}}var YK=(We(FK={},1,(function(e){return 1===e.menuState?e:ze(ze({},e),{},{activeItemIndex:null,menuState:1})})),We(FK,0,(function(e){return 0===e.menuState?e:ze(ze({},e),{},{__demoMode:!1,menuState:0})})),We(FK,2,(function(e,t){var r,n=zK(e),i=DK(t,{resolveItems:function(){return n.items},resolveActiveIndex:function(){return n.activeItemIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return ze(ze(ze({},e),n),{},{searchQuery:"",activeItemIndex:i,activationTrigger:null!=(r=t.trigger)?r:1})})),We(FK,3,(function(e,t){var r=""!==e.searchQuery?0:1,n=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find((function(e){var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))&&!e.dataRef.current.disabled})),a=i?e.items.indexOf(i):-1;return-1===a||a===e.activeItemIndex?ze(ze({},e),{},{searchQuery:n}):ze(ze({},e),{},{searchQuery:n,activeItemIndex:a,activationTrigger:1})})),We(FK,4,(function(e){return""===e.searchQuery?e:ze(ze({},e),{},{searchQuery:"",searchActiveItemIndex:null})})),We(FK,5,(function(e,t){var r=zK(e,(function(e){return[].concat(u(e),[{id:t.id,dataRef:t.dataRef}])}));return ze(ze({},e),r)})),We(FK,6,(function(e,t){var r=zK(e,(function(e){var r=e.findIndex((function(e){return e.id===t.id}));return-1!==r&&e.splice(r,1),e}));return ze(ze(ze({},e),r),{},{activationTrigger:1})})),FK),XK=(0,t.createContext)(null);function KK(e){var r=(0,t.useContext)(XK);if(null===r){var n=new Error("<".concat(e," /> is missing a parent <Menu /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,KK),n}return r}function JK(e,t){return EF(t.type,YK,e,t)}XK.displayName="MenuContext";var ZK=t.Fragment;var QK=NF.RenderStrategy|NF.Static;var $K=t.Fragment;var eJ=BF((function(e,r){var n,i=e.__demoMode,a=void 0!==i&&i,o=He(e,UK),s=(0,t.useReducer)(JK,{__demoMode:a,menuState:a?0:1,buttonRef:(0,t.createRef)(),itemsRef:(0,t.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),u=k(s,2),c=u[0],l=c.menuState,d=c.itemsRef,f=c.buttonRef,h=u[1],p=SF(r);hB([f,d],(function(e,t){var r;h({type:1}),wU(t,xU.Loose)||(e.preventDefault(),null==(r=f.current)||r.focus())}),0===l);var v=pF((function(){h({type:1})})),g=(0,t.useMemo)((function(){return{open:0===l,close:v}}),[l,v]),m={ref:p};return t.createElement(XK.Provider,{value:s},t.createElement(CF,{value:EF(l,(n={},We(n,0,TF.Open),We(n,1,TF.Closed),n))},jF({ourProps:m,theirProps:o,slot:g,defaultTag:ZK,name:"Menu"})))})),tJ=BF((function(e,r){var n,i=uB(),a=e.id,o=void 0===a?"headlessui-menu-button-".concat(i):a,s=He(e,BK),u=k(KK("Menu.Button"),2),c=u[0],l=u[1],d=SF(c.buttonRef,r),f=uF(),h=pF((function(e){switch(e.key){case _B.Space:case _B.Enter:case _B.ArrowDown:e.preventDefault(),e.stopPropagation(),l({type:0}),f.nextFrame((function(){return l({type:2,focus:MK.First})}));break;case _B.ArrowUp:e.preventDefault(),e.stopPropagation(),l({type:0}),f.nextFrame((function(){return l({type:2,focus:MK.Last})}))}})),p=pF((function(e){if(e.key===_B.Space)e.preventDefault()})),v=pF((function(t){if(yB(t.currentTarget))return t.preventDefault();e.disabled||(0===c.menuState?(l({type:1}),f.nextFrame((function(){var e;return null==(e=c.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(t.preventDefault(),l({type:0})))})),g=(0,t.useMemo)((function(){return{open:0===c.menuState}}),[c]);return jF({ourProps:{ref:d,id:o,type:PK(e,c.buttonRef),"aria-haspopup":"menu","aria-controls":null==(n=c.itemsRef.current)?void 0:n.id,"aria-expanded":0===c.menuState,onKeyDown:h,onKeyUp:p,onClick:v},theirProps:s,slot:g,defaultTag:"button",name:"Menu.Button"})})),rJ=BF((function(e,r){var n,i,a=uB(),o=e.id,s=void 0===o?"headlessui-menu-items-".concat(a):o,u=He(e,GK),c=k(KK("Menu.Items"),2),l=c[0],d=c[1],f=SF(l.itemsRef,r),h=uU(l.itemsRef),p=uF(),v=AF(),g=null!==v?(v&TF.Open)===TF.Open:0===l.menuState;(0,t.useEffect)((function(){var e=l.itemsRef.current;e&&0===l.menuState&&e!==(null==h?void 0:h.activeElement)&&e.focus({preventScroll:!0})}),[l.menuState,l.itemsRef,h]),jK({container:l.itemsRef.current,enabled:0===l.menuState,accept:function(e){return"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}});var m=pF((function(e){var t,r;switch(p.dispose(),e.key){case _B.Space:if(""!==l.searchQuery)return e.preventDefault(),e.stopPropagation(),d({type:3,value:e.key});case _B.Enter:if(e.preventDefault(),e.stopPropagation(),d({type:1}),null!==l.activeItemIndex)null==(r=null==(t=l.items[l.activeItemIndex].dataRef.current)?void 0:t.domRef.current)||r.click();kU(l.buttonRef.current);break;case _B.ArrowDown:return e.preventDefault(),e.stopPropagation(),d({type:2,focus:MK.Next});case _B.ArrowUp:return e.preventDefault(),e.stopPropagation(),d({type:2,focus:MK.Previous});case _B.Home:case _B.PageUp:return e.preventDefault(),e.stopPropagation(),d({type:2,focus:MK.First});case _B.End:case _B.PageDown:return e.preventDefault(),e.stopPropagation(),d({type:2,focus:MK.Last});case _B.Escape:e.preventDefault(),e.stopPropagation(),d({type:1}),sF().nextFrame((function(){var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case _B.Tab:e.preventDefault(),e.stopPropagation(),d({type:1}),sF().nextFrame((function(){!function(e,t){PU(EU(),t,{relativeTo:e})}(l.buttonRef.current,e.shiftKey?yU.Previous:yU.Next)}));break;default:1===e.key.length&&(d({type:3,value:e.key}),p.setTimeout((function(){return d({type:4})}),350))}})),y=pF((function(e){if(e.key===_B.Space)e.preventDefault()})),b=(0,t.useMemo)((function(){return{open:0===l.menuState}}),[l]);return jF({ourProps:{"aria-activedescendant":null===l.activeItemIndex||null==(n=l.items[l.activeItemIndex])?void 0:n.id,"aria-labelledby":null==(i=l.buttonRef.current)?void 0:i.id,id:s,onKeyDown:m,onKeyUp:y,role:"menu",tabIndex:0,ref:f},theirProps:u,slot:b,defaultTag:"div",features:QK,visible:g,name:"Menu.Items"})})),nJ=BF((function(e,r){var n=uB(),i=e.id,a=void 0===i?"headlessui-menu-item-".concat(n):i,o=e.disabled,s=void 0!==o&&o,u=He(e,VK),c=k(KK("Menu.Item"),2),l=c[0],d=c[1],f=null!==l.activeItemIndex&&l.items[l.activeItemIndex].id===a,h=(0,t.useRef)(null),p=SF(r,h);fF((function(){if(!l.__demoMode&&0===l.menuState&&f&&0!==l.activationTrigger){var e=sF();return e.requestAnimationFrame((function(){var e,t;null==(t=null==(e=h.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}}),[l.__demoMode,h,f,l.menuState,l.activationTrigger,l.activeItemIndex]);var v=RK(h),g=(0,t.useRef)({disabled:s,domRef:h,get textValue(){return v()}});fF((function(){g.current.disabled=s}),[g,s]),fF((function(){return d({type:5,id:a,dataRef:g}),function(){return d({type:6,id:a})}}),[g,a]);var m=pF((function(){d({type:1})})),y=pF((function(e){if(s)return e.preventDefault();d({type:1}),kU(l.buttonRef.current)})),b=pF((function(){if(s)return d({type:2,focus:MK.Nothing});d({type:2,focus:MK.Specific,id:a})})),S=LK(),E=pF((function(e){return S.update(e)})),x=pF((function(e){S.wasMoved(e)&&(s||f||d({type:2,focus:MK.Specific,id:a,trigger:0}))})),w=pF((function(e){S.wasMoved(e)&&(s||f&&d({type:2,focus:MK.Nothing}))})),_=(0,t.useMemo)((function(){return{active:f,disabled:s,close:m}}),[f,s,m]);return jF({ourProps:{id:a,ref:p,role:"menuitem",tabIndex:!0===s?void 0:-1,"aria-disabled":!0===s||void 0,disabled:void 0,onClick:y,onFocus:b,onPointerEnter:E,onMouseEnter:E,onPointerMove:x,onMouseMove:x,onPointerLeave:w,onMouseLeave:w},theirProps:u,slot:_,defaultTag:$K,name:"Menu.Item"})})),iJ=Object.assign(eJ,{Button:tJ,Items:rJ,Item:nJ}),aJ=["title","titleId"];var oJ=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,aJ);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"m13.28 7.78 3.22-3.22v2.69a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0 0 1.5h2.69l-3.22 3.22a.75.75 0 0 0 1.06 1.06ZM2 17.25v-4.5a.75.75 0 0 1 1.5 0v2.69l3.22-3.22a.75.75 0 0 1 1.06 1.06L4.56 16.5h2.69a.75.75 0 0 1 0 1.5h-4.5a.747.747 0 0 1-.75-.75ZM12.22 13.28l3.22 3.22h-2.69a.75.75 0 0 0 0 1.5h4.5a.747.747 0 0 0 .75-.75v-4.5a.75.75 0 0 0-1.5 0v2.69l-3.22-3.22a.75.75 0 1 0-1.06 1.06ZM3.5 4.56l3.22 3.22a.75.75 0 0 0 1.06-1.06L4.56 3.5h2.69a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0V4.56Z"}))})),sJ=[{value:Sn.ProjectC.PORTRAIT_ASPECT_RATIO,name:"Portrait",description:"TikTok, Shorts, Reels, Stories, etc."},{value:Sn.ProjectC.SQUARE_ASPECT_RATIO,name:"Square",description:"Meta Ads, Instagram, Facebook, etc."},{value:{width:16,height:9},name:"Landscape",description:"YouTube, LinkedIn, Twitter, TV, etc."}],uJ=function(e,t){var r=e.width,n=e.height,i=Math.sqrt(r*r+n*n),a={width:r/i*t,height:n/i*t},o={width:t,height:t};return(0,uw.jsx)("div",{className:"flex items-center justify-center",style:o,children:(0,uw.jsx)("div",{className:"rounded-sm border border-gray-700 bg-gray-100",style:a})})},cJ=function(e){var t=e.value,r=e.name,n="".concat(t.width,":").concat(t.height);return"".concat(r," (").concat(n,")")},lJ=function(e){var t=sJ.find((function(t){var r=t.value;return r.width===e.width&&r.height===e.height}));return t?t.description:"Custom aspect ratio"},dJ=function(){var e=jD(),t=MD(kk.selectProjectAspectRatio),r=MD(kk.selectIsGenerationLoading);return(0,uw.jsxs)(iJ,{as:"div",className:"relative z-50",children:[(0,uw.jsxs)(iJ.Button,{disabled:r,className:Dn("border-1 text-md flex h-10 items-center space-x-2 rounded-xl border border-gray-200 px-4 py-2 font-medium text-gray-900 outline-none transition-colors",r?"cursor-progress opacity-50":"bg-white hover:bg-gray-200"),children:[(0,uw.jsx)(oJ,{className:"inline-flex h-5 w-5"}),(0,uw.jsx)("span",{className:"hidden md:inline-flex",children:"Resize"})]}),(0,uw.jsx)(iU,{as:"div",className:"absolute -left-1 top-12 z-10 flex origin-top-left",enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,uw.jsx)("div",{className:"max-h-80 w-min overflow-y-auto rounded-xl bg-white p-1 shadow-lg outline-none ring-1 ring-gray-200 transition-all focus:outline-none",children:sJ.map((function(r,n){return(0,uw.jsx)("div",{children:(0,uw.jsxs)("button",{className:Dn("group flex w-40 items-center space-x-2 rounded-xl p-2 text-left text-sm transition-all",JSON.stringify(t)===JSON.stringify(r.value)?"bg-gray-100":"bg-white hover:bg-gray-100"),onClick:function(){e(ZN.setAspectRatio({newAspectRatio:r.value})),Mx("set_aspect_ratio",{aspect_ratio:cJ(r)})},children:[(0,uw.jsx)("div",{className:"inline-flex items-center justify-center hover:text-gray-900",children:uJ(r.value,24)}),(0,uw.jsx)("div",{className:"inline-flex  overflow-hidden whitespace-nowrap",children:cJ(r)})]})},n)}))})})]})},fJ=["title","titleId"];var hJ=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,fJ);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M4.25 5.5a.75.75 0 0 0-.75.75v8.5c0 .414.336.75.75.75h8.5a.75.75 0 0 0 .75-.75v-4a.75.75 0 0 1 1.5 0v4A2.25 2.25 0 0 1 12.75 17h-8.5A2.25 2.25 0 0 1 2 14.75v-8.5A2.25 2.25 0 0 1 4.25 4h5a.75.75 0 0 1 0 1.5h-5Z",clipRule:"evenodd"}),t.createElement("path",{fillRule:"evenodd",d:"M6.194 12.753a.75.75 0 0 0 1.06.053L16.5 4.44v2.81a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0 0 1.5h2.553l-9.056 8.194a.75.75 0 0 0-.053 1.06Z",clipRule:"evenodd"}))})),pJ="https://calendly.com/d/cqh8-4yp-wz6",vJ=function(e){var t=e.min,r=e.max;return"Change scenes every ".concat(t,"-").concat(r," words.")},gJ=[{title:"Fast",value:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD},{title:"Medium",value:Sn.GeneratorC.MEDIUM_SCENE_WORD_LENGTH_THRESHOLD},{title:"Slow",value:Sn.GeneratorC.SLOW_SCENE_WORD_LENGTH_THRESHOLD},{title:"Very Slow",value:Sn.GeneratorC.VERY_SLOW_SCENE_WORD_LENGTH_THRESHOLD}],mJ=function(e){var r=e.aspectRatio,n=e.setAspectRatio,i=e.sceneWordLengthThreshold,a=e.setSceneWordLengthThreshold,o=e.useGetty,s=e.setUseGetty,u=e.useCartoon,c=e.setUseCartoon,l=jD(),d=MD(aw.selectPrivateWorkspaceInfo),f=(0,t.useCallback)((function(e){return function(){a(e)}}),[a]),h=(0,t.useCallback)((function(){var e=!o;try{e&&(Sn.WorkspaceH.checkWorkspaceInfoSatisfiesAuthLevel({workspaceInfo:d,requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.BUSINESS,upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"use iStock by Getty Images"}),c(!1)),s(e)}catch(t){l(UM.handleError(t,{defaultErr:Sn.ErrorH.newHiddenError("Failed to enable Getty library.")}))}}),[l,o,s,c,d]),p=(0,t.useCallback)((function(){var e=!u;try{e&&(Sn.WorkspaceH.checkWorkspaceInfoSatisfiesAuthLevel({workspaceInfo:d,requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.PRO,upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"generate cartoons"}),s(!1)),c(e)}catch(t){l(UM.handleError(t,{defaultErr:Sn.ErrorH.newHiddenError("Failed to use cartoon generator.")}))}}),[l,s,u,c,d]),v=(0,t.useMemo)((function(){var e=Sn.WorkspaceT.WorkspaceAuthLevel.BUSINESS;if(Sn.WorkspaceH.workspaceInfoSatisfiesAuthLevel({workspaceInfo:d,requiredWorkspaceAuthLevel:e})){var t=Sn.WorkspaceH.getWorkspaceTotalUsageCredits(d).gettyAssetDownloads,r=Sn.WorkspaceH.getWorkspaceTotalMaxUsageCredits(d).gettyAssetDownloads;return"iStock videos remaining this month: ".concat(t,"/").concat(r)}return"Upgrade to ".concat(Sn.StringH.capitalizeStr(e)," to use this library.")}),[d]),g=(0,t.useCallback)((function(e){return function(){n(e),Mx("set_aspect_ratio",{aspect_ratio:e})}}),[n]);return(0,uw.jsx)("div",{children:(0,uw.jsxs)("div",{className:"space-y-6 py-4",children:[(0,uw.jsxs)("div",{children:[(0,uw.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Aspect Ratio"}),(0,uw.jsx)("div",{className:"mt-4 grid grid-cols-1 gap-2 md:grid-cols-3",children:sJ.map((function(e,t){return(0,uw.jsx)(NG,{isSelected:JSON.stringify(r)===JSON.stringify(e.value),onClick:g(e.value),className:"col-span-1",children:(0,uw.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,uw.jsx)("div",{className:"inline-flex items-center justify-center hover:text-gray-900",children:uJ(e.value,40)}),(0,uw.jsxs)("div",{className:"overflow-warp flex-grow items-center text-left font-medium text-gray-900",children:[(0,uw.jsx)("h3",{className:"overflow-warp text-base font-medium text-gray-900",children:cJ(e)}),(0,uw.jsx)("p",{className:"overflow-warp block text-sm font-normal text-gray-500",children:lJ(e.value)})]})]})},t)}))})]}),(0,uw.jsxs)("div",{children:[(0,uw.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Media Libraries"}),(0,uw.jsx)("div",{className:"mb-4 mt-1",children:(0,uw.jsx)("p",{className:"text-sm text-gray-500",children:"All media is safe for commercial use. By default, media is selected from a library of about 500K stock videos provided by Pexels. If additional libraries are enabled, VideoGen's AI will determine the best library for each scene."})}),(0,uw.jsxs)("div",{className:"flex w-full flex-col items-stretch gap-4",children:[(0,uw.jsx)(NG,{isSelected:u,onClick:p,className:"w-full",children:(0,uw.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[(0,uw.jsx)("div",{className:"flex h-16 items-center justify-center border-r border-gray-200 pl-2 pr-4",children:(0,uw.jsx)("img",{className:"h-16 w-24 rounded-lg",src:"https://storage.googleapis.com/videogen-assets/icons/cartoon-boy-transparent.png"})}),(0,uw.jsxs)("div",{className:"flex flex-grow flex-col gap-1 py-1 text-left text-base",children:[(0,uw.jsx)("p",{className:"font-medium text-gray-900",children:"Generate cartoon-style images for each scene of your script"}),(0,uw.jsxs)("p",{className:"items-center justify-center space-x-2 text-sm text-gray-500",children:[(0,uw.jsxs)("span",{children:[Sn.StringH.formatNumber(Sn.WorkspaceC.AI_CREDITS_PER_IMAGE_GENERATION)," AI credits per cartoon scene."]}),(0,uw.jsx)("div",{className:"inline-flex space-x-1",children:(0,uw.jsx)(TK,{type:kK.PRO,size:wK.SMALL})})]})]})]})}),(0,uw.jsx)(NG,{isSelected:o,onClick:h,className:"w-full",children:(0,uw.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[(0,uw.jsx)("div",{className:"flex h-16 items-center justify-center border-r border-gray-200 px-4",children:(0,uw.jsx)(AK,{className:"mr-2 w-20 flex-shrink-0"})}),(0,uw.jsxs)("div",{className:"flex flex-grow flex-col gap-1 py-1 text-left text-base",children:[(0,uw.jsx)("p",{className:"font-medium text-gray-900",children:"12M+ premium stock videos from iStock by Getty Images\xae"}),(0,uw.jsxs)("p",{className:"items-center justify-center space-x-2 text-sm text-gray-500",children:[(0,uw.jsxs)("span",{children:["Watermarks will appear on preview, but not on export.\xa0",v]}),(0,uw.jsx)("div",{className:"inline-flex space-x-1",children:(0,uw.jsx)(TK,{type:kK.BUSINESS,size:wK.SMALL})})]})]})]})})]}),(0,uw.jsxs)("div",{className:"mt-4 inline-flex flex-col text-sm text-gray-500 sm:flex-row",children:[(0,uw.jsx)("p",{className:"inline-flex sm:mb-0",children:"Want to add your brand's media library?\xa0"}),(0,uw.jsxs)(aG,{to:pJ,target:"_blank",className:"inline-flex w-auto items-center space-x-1 text-center font-medium text-gray-900 hover:underline",children:[(0,uw.jsx)("span",{children:"Request Enterprise Access"}),(0,uw.jsx)(hJ,{className:"h-4 w-4"})]})]})]}),(0,uw.jsxs)("div",{children:[(0,uw.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Scene Pacing"}),(0,uw.jsx)("div",{className:"mt-4 grid grid-cols-1 gap-2 text-red-500 lg:grid-cols-2",children:gJ.map((function(e,t){return(0,uw.jsx)(NG,{isSelected:i.max===e.value.max&&i.min===e.value.min,onClick:f(e.value),className:"col-span-1",children:(0,uw.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[(0,uw.jsx)(xK,{sceneWordLengthThreshold:e.value}),(0,uw.jsxs)("div",{className:"overflow-warp flex-grow items-center text-left font-medium text-gray-900",children:[(0,uw.jsx)("h3",{className:"overflow-warp text-md font-medium text-gray-900",children:e.title}),(0,uw.jsx)("p",{className:"overflow-warp text-sm font-normal text-gray-500",children:vJ(e.value)})]})]})},t)}))})]})]})})},yJ=function(){var e=jD(),r=MD(aw.selectPrivateWorkspaceInfo),n=MD(kk.selectProjectBackground),i=MD(kk.selectProjectAspectRatio),a=n.config,o=a.sceneWordLengthThreshold,s=a.useGetty,u=a.useCartoon,c=(0,t.useCallback)((function(t){e(ZN.setBackgroundSceneWordLengthThreshold({newSceneWordLengthThreshold:t}))}),[e]),l=(0,t.useCallback)((function(t){e(ZN.setAspectRatio({newAspectRatio:t}))}),[e]),d=(0,t.useCallback)((function(t){try{t&&Sn.WorkspaceH.checkWorkspaceInfoSatisfiesAuthLevel({workspaceInfo:r,requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.BUSINESS,upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"use iStock by Getty Images"}),e(ZN.setBackgroundUseGetty({newUseGetty:t}))}catch(n){e(UM.handleError(n,{defaultErr:Sn.ErrorH.newHiddenError("Failed to use Getty library.")}))}}),[e,r]),f=(0,t.useCallback)((function(t){try{t&&Sn.WorkspaceH.checkWorkspaceInfoSatisfiesAuthLevel({workspaceInfo:r,requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.PRO,upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"generate cartoons"}),e(ZN.setBackgroundUseCartoon({newUseCartoon:t}))}catch(n){e(UM.handleError(n,{defaultErr:Sn.ErrorH.newHiddenError("Failed to use cartoon generator.")}))}}),[e,r]);return(0,uw.jsx)(mJ,{aspectRatio:i,setAspectRatio:l,sceneWordLengthThreshold:o,setSceneWordLengthThreshold:c,useGetty:s,setUseGetty:d,useCartoon:u,setUseCartoon:f})},bJ={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},SJ=t.createContext&&t.createContext(bJ),EJ=["attr","size","title"];function xJ(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wJ(){return wJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wJ.apply(this,arguments)}function kJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kJ(Object(r),!0).forEach((function(t){TJ(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kJ(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function TJ(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AJ(e){return e&&e.map((function(e,r){return t.createElement(e.tag,_J({key:r},e.attr),AJ(e.child))}))}function CJ(e){return function(r){return t.createElement(PJ,wJ({attr:_J({},e.attr)},r),AJ(e.child))}}function PJ(e){var r=function(r){var n,i=e.attr,a=e.size,o=e.title,s=xJ(e,EJ),u=a||r.size||"1em";return r.className&&(n=r.className),e.className&&(n=(n?n+" ":"")+e.className),t.createElement("svg",wJ({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,s,{className:n,style:_J(_J({color:e.color||r.color},r.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==SJ?t.createElement(SJ.Consumer,null,(function(e){return r(e)})):r(bJ)}function IJ(e){return CJ({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M264 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm496 424c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H264c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496zm144 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"},child:[]}]})(e)}function OJ(e){return CJ({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M120 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm0 424h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm784 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"},child:[]}]})(e)}function RJ(e){return CJ({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 158H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 424H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 212H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"},child:[]}]})(e)}function NJ(e){return CJ({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"},child:[]}]})(e)}function LJ(e){return CJ({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M859.9 474H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zm-353.6-74.7c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H550V104c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v156h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.6zm11.4 225.4a7.14 7.14 0 0 0-11.3 0L405.6 752.3a7.23 7.23 0 0 0 5.7 11.7H474v156c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V764h62.8c6 0 9.4-7 5.7-11.7L517.7 624.7z"},child:[]}]})(e)}function jJ(e){return CJ({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 0 0-12.6 0l-112 141.7a7.98 7.98 0 0 0 6.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"},child:[]}]})(e)}function MJ(e){return CJ({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 14c-.092.064-2 2.083-2 3.5 0 1.494.949 2.448 2 2.5.906.044 2-.891 2-2.5 0-1.5-1.908-3.436-2-3.5zM9.586 20c.378.378.88.586 1.414.586s1.036-.208 1.414-.586l7-7-.707-.707L11 4.586 8.707 2.293 7.293 3.707 9.586 6 4 11.586c-.378.378-.586.88-.586 1.414s.208 1.036.586 1.414L9.586 20zM11 7.414 16.586 13H5.414L11 7.414z"},child:[]}]})(e)}var DJ,FJ=["__demoMode"],UJ=["id"],BJ=["id"],GJ=["id","focus"],VJ=function(e){return e[e.Open=0]="Open",e[e.Closed=1]="Closed",e}(VJ||{}),HJ=function(e){return e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e}(HJ||{}),WJ=(We(DJ={},0,(function(e){var t,r=ze(ze({},e),{},{popoverState:EF(e.popoverState,(t={},We(t,0,1),We(t,1,0),t))});return 0===r.popoverState&&(r.__demoMode=!1),r})),We(DJ,1,(function(e){return 1===e.popoverState?e:ze(ze({},e),{},{popoverState:1})})),We(DJ,2,(function(e,t){return e.button===t.button?e:ze(ze({},e),{},{button:t.button})})),We(DJ,3,(function(e,t){return e.buttonId===t.buttonId?e:ze(ze({},e),{},{buttonId:t.buttonId})})),We(DJ,4,(function(e,t){return e.panel===t.panel?e:ze(ze({},e),{},{panel:t.panel})})),We(DJ,5,(function(e,t){return e.panelId===t.panelId?e:ze(ze({},e),{},{panelId:t.panelId})})),DJ),qJ=(0,t.createContext)(null);function zJ(e){var r=(0,t.useContext)(qJ);if(null===r){var n=new Error("<".concat(e," /> is missing a parent <Popover /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,zJ),n}return r}qJ.displayName="PopoverContext";var YJ=(0,t.createContext)(null);function XJ(e){var r=(0,t.useContext)(YJ);if(null===r){var n=new Error("<".concat(e," /> is missing a parent <Popover /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,XJ),n}return r}YJ.displayName="PopoverAPIContext";var KJ=(0,t.createContext)(null);function JJ(){return(0,t.useContext)(KJ)}KJ.displayName="PopoverGroupContext";var ZJ=(0,t.createContext)(null);function QJ(e,t){return EF(t.type,WJ,e,t)}ZJ.displayName="PopoverPanelContext";var $J=NF.RenderStrategy|NF.Static;var eZ=NF.RenderStrategy|NF.Static;var tZ=BF((function(e,r){var n,i,a=e.__demoMode,o=void 0!==a&&a,s=He(e,FJ),u=(0,t.useRef)(null),c=SF(r,bF((function(e){u.current=e}))),l=(0,t.useRef)([]),d=(0,t.useReducer)(QJ,{__demoMode:o,popoverState:o?0:1,buttons:l,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:(0,t.createRef)(),afterPanelSentinel:(0,t.createRef)()}),f=k(d,2),h=f[0],p=h.popoverState,v=h.button,g=h.buttonId,m=h.panel,y=h.panelId,b=h.beforePanelSentinel,S=h.afterPanelSentinel,E=f[1],x=uU(null!=(i=u.current)?i:v),w=(0,t.useMemo)((function(){if(!v||!m)return!1;var e,t=T(document.querySelectorAll("body > *"));try{for(t.s();!(e=t.n()).done;){var r=e.value;if(Number(null==r?void 0:r.contains(v))^Number(null==r?void 0:r.contains(m)))return!0}}catch(c){t.e(c)}finally{t.f()}var n=EU(),i=n.indexOf(v),a=(i+n.length-1)%n.length,o=(i+1)%n.length,s=n[a],u=n[o];return!m.contains(s)&&!m.contains(u)}),[v,m]),_=hF(g),A=hF(y),C=(0,t.useMemo)((function(){return{buttonId:_,panelId:A,close:function(){return E({type:1})}}}),[_,A,E]),P=JJ(),I=null==P?void 0:P.registerPopover,O=pF((function(){var e;return null!=(e=null==P?void 0:P.isFocusWithinPopoverGroup())?e:(null==x?void 0:x.activeElement)&&((null==v?void 0:v.contains(x.activeElement))||(null==m?void 0:m.contains(x.activeElement)))}));(0,t.useEffect)((function(){return null==I?void 0:I(C)}),[I,C]);var R=k(WU(),2),N=R[0],L=R[1],j=pB({mainTreeNodeRef:null==P?void 0:P.mainTreeNodeRef,portals:N,defaultContainers:[v,m]});aU(null==x?void 0:x.defaultView,"focus",(function(e){var t,r,n,i;e.target!==window&&e.target instanceof HTMLElement&&0===p&&(O()||v&&m&&(j.contains(e.target)||null!=(r=null==(t=b.current)?void 0:t.contains)&&r.call(t,e.target)||null!=(i=null==(n=S.current)?void 0:n.contains)&&i.call(n,e.target)||E({type:1})))}),!0),hB(j.resolveContainers,(function(e,t){E({type:1}),wU(t,xU.Loose)||(e.preventDefault(),null==v||v.focus())}),0===p);var M=pF((function(e){E({type:1});var t=e?e instanceof HTMLElement?e:"current"in e&&e.current instanceof HTMLElement?e.current:v:v;null==t||t.focus()})),D=(0,t.useMemo)((function(){return{close:M,isPortalled:w}}),[M,w]),F=(0,t.useMemo)((function(){return{open:0===p,close:M}}),[p,M]),U={ref:c};return t.createElement(ZJ.Provider,{value:null},t.createElement(qJ.Provider,{value:d},t.createElement(YJ.Provider,{value:D},t.createElement(CF,{value:EF(p,(n={},We(n,0,TF.Open),We(n,1,TF.Closed),n))},t.createElement(L,null,jF({ourProps:U,theirProps:s,slot:F,defaultTag:"div",name:"Popover"}),t.createElement(j.MainTreeNode,null))))))})),rZ=BF((function(e,r){var n=uB(),i=e.id,a=void 0===i?"headlessui-popover-button-".concat(n):i,o=He(e,UJ),s=k(zJ("Popover.Button"),2),u=s[0],c=s[1],l=XJ("Popover.Button").isPortalled,d=(0,t.useRef)(null),f="headlessui-focus-sentinel-".concat(uB()),h=JJ(),p=null==h?void 0:h.closeOthers,v=null!==(0,t.useContext)(ZJ);(0,t.useEffect)((function(){if(!v)return c({type:3,buttonId:a}),function(){c({type:3,buttonId:null})}}),[v,a,c]);var g=k((0,t.useState)((function(){return Symbol()})),1)[0],m=SF(d,r,v?null:function(e){if(e)u.buttons.current.push(g);else{var t=u.buttons.current.indexOf(g);-1!==t&&u.buttons.current.splice(t,1)}u.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),e&&c({type:2,button:e})}),y=SF(d,r),b=uU(d),S=pF((function(e){var t,r,n;if(v){if(1===u.popoverState)return;switch(e.key){case _B.Space:case _B.Enter:e.preventDefault(),null==(r=(t=e.target).click)||r.call(t),c({type:1}),null==(n=u.button)||n.focus()}}else switch(e.key){case _B.Space:case _B.Enter:e.preventDefault(),e.stopPropagation(),1===u.popoverState&&(null==p||p(u.buttonId)),c({type:0});break;case _B.Escape:if(0!==u.popoverState)return null==p?void 0:p(u.buttonId);if(!d.current||null!=b&&b.activeElement&&!d.current.contains(b.activeElement))return;e.preventDefault(),e.stopPropagation(),c({type:1})}})),E=pF((function(e){v||e.key===_B.Space&&e.preventDefault()})),x=pF((function(t){var r,n;yB(t.currentTarget)||e.disabled||(v?(c({type:1}),null==(r=u.button)||r.focus()):(t.preventDefault(),t.stopPropagation(),1===u.popoverState&&(null==p||p(u.buttonId)),c({type:0}),null==(n=u.button)||n.focus()))})),w=pF((function(e){e.preventDefault(),e.stopPropagation()})),_=0===u.popoverState,T=(0,t.useMemo)((function(){return{open:_}}),[_]),A=PK(e,d),C=v?{ref:y,type:A,onKeyDown:S,onClick:x}:{ref:m,id:u.buttonId,type:A,"aria-expanded":0===u.popoverState,"aria-controls":u.panel?u.panelId:void 0,onKeyDown:S,onKeyUp:E,onClick:x,onMouseDown:w},P=dU(),I=pF((function(){var e=u.panel;e&&function(){var t,r;EF(P.current,(We(t={},lU.Forwards,(function(){return PU(e,yU.First)})),We(t,lU.Backwards,(function(){return PU(e,yU.Last)})),t))===bU.Error&&PU(EU().filter((function(e){return"true"!==e.dataset.headlessuiFocusGuard})),EF(P.current,(We(r={},lU.Forwards,yU.Next),We(r,lU.Backwards,yU.Previous),r)),{relativeTo:u.button})}()}));return t.createElement(t.Fragment,null,jF({ourProps:C,theirProps:o,slot:T,defaultTag:"button",name:"Popover.Button"}),_&&!v&&l&&t.createElement(vU,{id:f,features:pU.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:I}))})),nZ=BF((function(e,r){var n=uB(),i=e.id,a=void 0===i?"headlessui-popover-overlay-".concat(n):i,o=He(e,BJ),s=k(zJ("Popover.Overlay"),2),u=s[0].popoverState,c=s[1],l=SF(r),d=AF(),f=null!==d?(d&TF.Open)===TF.Open:0===u;return jF({ourProps:{ref:l,id:a,"aria-hidden":!0,onClick:pF((function(e){if(yB(e.currentTarget))return e.preventDefault();c({type:1})}))},theirProps:o,slot:(0,t.useMemo)((function(){return{open:0===u}}),[u]),defaultTag:"div",features:$J,visible:f,name:"Popover.Overlay"})})),iZ=BF((function(e,r){var n=uB(),i=e.id,a=void 0===i?"headlessui-popover-panel-".concat(n):i,o=e.focus,s=void 0!==o&&o,c=He(e,GJ),l=k(zJ("Popover.Panel"),2),d=l[0],f=l[1],h=XJ("Popover.Panel"),p=h.close,v=h.isPortalled,g="headlessui-focus-sentinel-before-".concat(uB()),m="headlessui-focus-sentinel-after-".concat(uB()),y=(0,t.useRef)(null),b=SF(y,r,(function(e){f({type:4,panel:e})})),S=uU(y),E=DF();fF((function(){return f({type:5,panelId:a}),function(){f({type:5,panelId:null})}}),[a,f]);var x=AF(),w=null!==x?(x&TF.Open)===TF.Open:0===d.popoverState,_=pF((function(e){var t;if(e.key===_B.Escape){if(0!==d.popoverState||!y.current||null!=S&&S.activeElement&&!y.current.contains(S.activeElement))return;e.preventDefault(),e.stopPropagation(),f({type:1}),null==(t=d.button)||t.focus()}}));(0,t.useEffect)((function(){var t;e.static||1===d.popoverState&&(null==(t=e.unmount)||t)&&f({type:4,panel:null})}),[d.popoverState,e.unmount,e.static,f]),(0,t.useEffect)((function(){if(!d.__demoMode&&s&&0===d.popoverState&&y.current){var e=null==S?void 0:S.activeElement;y.current.contains(e)||PU(y.current,yU.First)}}),[d.__demoMode,s,y,d.popoverState]);var A=(0,t.useMemo)((function(){return{open:0===d.popoverState,close:p}}),[d,p]),C={ref:b,id:a,onKeyDown:_,onBlur:s&&0===d.popoverState?function(e){var t,r,n,i,a,o=e.relatedTarget;o&&y.current&&(null!=(t=y.current)&&t.contains(o)||(f({type:1}),(null!=(n=null==(r=d.beforePanelSentinel.current)?void 0:r.contains)&&n.call(r,o)||null!=(a=null==(i=d.afterPanelSentinel.current)?void 0:i.contains)&&a.call(i,o))&&o.focus({preventScroll:!0})))}:void 0,tabIndex:-1},P=dU(),I=pF((function(){var e=y.current;e&&function(){var t;EF(P.current,(We(t={},lU.Forwards,(function(){var t;PU(e,yU.First)===bU.Error&&(null==(t=d.afterPanelSentinel.current)||t.focus())})),We(t,lU.Backwards,(function(){var e;null==(e=d.button)||e.focus({preventScroll:!0})})),t))}()})),O=pF((function(){var e=y.current;e&&function(){var t;EF(P.current,(We(t={},lU.Forwards,(function(){var e;if(d.button){var t,r=EU(),n=r.indexOf(d.button),i=r.slice(0,n+1),a=[].concat(u(r.slice(n+1)),u(i)),o=T(a.slice());try{for(o.s();!(t=o.n()).done;){var s=t.value;if("true"===s.dataset.headlessuiFocusGuard||null!=(e=d.panel)&&e.contains(s)){var c=a.indexOf(s);-1!==c&&a.splice(c,1)}}}catch(l){o.e(l)}finally{o.f()}PU(a,yU.First,{sorted:!1})}})),We(t,lU.Backwards,(function(){var t;PU(e,yU.Previous)===bU.Error&&(null==(t=d.button)||t.focus())})),t))}()}));return t.createElement(ZJ.Provider,{value:a},w&&v&&t.createElement(vU,{id:g,ref:d.beforePanelSentinel,features:pU.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:I}),jF({mergeRefs:E,ourProps:C,theirProps:c,slot:A,defaultTag:"div",features:eZ,visible:w,name:"Popover.Panel"}),w&&v&&t.createElement(vU,{id:m,ref:d.afterPanelSentinel,features:pU.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:O}))})),aZ=BF((function(e,r){var n=(0,t.useRef)(null),i=SF(n,r),a=k((0,t.useState)([]),2),o=a[0],s=a[1],c=function(){var e=(0,t.useRef)(null);return{mainTreeNodeRef:e,MainTreeNode:(0,t.useMemo)((function(){return function(){return t.createElement(vU,{features:pU.Hidden,ref:e})}}),[e])}}(),l=pF((function(e){s((function(t){var r=t.indexOf(e);if(-1!==r){var n=t.slice();return n.splice(r,1),n}return t}))})),d=pF((function(e){return s((function(t){return[].concat(u(t),[e])})),function(){return l(e)}})),f=pF((function(){var e,t=sU(n);if(!t)return!1;var r=t.activeElement;return!(null==(e=n.current)||!e.contains(r))||o.some((function(e){var n,i;return(null==(n=t.getElementById(e.buttonId.current))?void 0:n.contains(r))||(null==(i=t.getElementById(e.panelId.current))?void 0:i.contains(r))}))})),h=pF((function(e){var t,r=T(o);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.buttonId.current!==e&&n.close()}}catch(i){r.e(i)}finally{r.f()}})),p=(0,t.useMemo)((function(){return{registerPopover:d,unregisterPopover:l,isFocusWithinPopoverGroup:f,closeOthers:h,mainTreeNodeRef:c.mainTreeNodeRef}}),[d,l,f,h,c.mainTreeNodeRef]),v=(0,t.useMemo)((function(){return{}}),[]),g=e,m={ref:i};return t.createElement(KJ.Provider,{value:p},jF({ourProps:m,theirProps:g,slot:v,defaultTag:"div",name:"Popover.Group"}),t.createElement(c.MainTreeNode,null))})),oZ=Object.assign(tZ,{Button:rZ,Overlay:nZ,Panel:iZ,Group:aZ}),sZ=["title","titleId"];var uZ=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,sZ);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"}))})),cZ=function(e){var r=e.presetName,n=e.captionStyle,i=e.isPositioned,a=void 0!==i&&i,o=e.isBackgroundCheckerboard,s=void 0!==o&&o,u=jD(),c=k((0,t.useState)(void 0),2),l=c[0],d=c[1],f=(0,t.useRef)(null),h=(0,t.useRef)(null);return(0,t.useEffect)((function(){if(null!=f.current){var e=function(){var e,t,r,n=null===(e=f.current)||void 0===e?void 0:e.getBoundingClientRect(),i={width:null!==(t=null===n||void 0===n?void 0:n.width)&&void 0!==t?t:0,height:null!==(r=null===n||void 0===n?void 0:n.height)&&void 0!==r?r:0};d((function(e){return null==e||e.width!==i.width||e.height!==i.height?i:e}))};e();var t=new ResizeObserver(e);return t.observe(f.current),function(){t.disconnect()}}}),[]),(0,t.useEffect)((function(){if(null!=h.current&&null!=l){var e=ze(ze({},n),{},{textJustification:a?n.textJustification:Sn.CanvasT.TextJustification.CENTER,verticalAlignment:a?n.verticalAlignment:Sn.CanvasT.VerticalAlignment.MIDDLE});h.current.width=l.width,h.current.height=l.height;var t=new aA(h.current,{selection:!1,interactive:!1,enableRetinaScaling:!0});try{Sn.CanvasH.drawTextOnCanvas({fabricCanvas:t,text:r,captionStyle:e,isPreview:!0,useNodeFabric:!1}),t.forEachObject((function(e){e.selectable=!1,e.evented=!1}))}catch(i){u(UM.handleError(i,{defaultErr:Sn.ErrorH.newHiddenError("Failed to draw caption preview."),forceHidden:!0}))}return function(){t.dispose()}}}),[u,r,n,a,l]),(0,uw.jsxs)("div",{ref:f,className:"relative h-full w-full",style:{background:s?"repeating-conic-gradient(transparent 0% 25%, #00000010 0% 50%) 50% / 8px 8px":void 0},children:[(0,uw.jsx)("canvas",{className:"absolute inset-0",ref:h}),n.isHidden&&(0,uw.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,uw.jsx)(uZ,{className:"max-w-12 h-1/2 max-h-12 w-1/2 text-gray-400"})}),(0,uw.jsx)("div",{className:"absolute inset-0"})]})},lZ=function(e){var t=e.items,r=e.position;return(0,uw.jsx)(iU,{as:"div",className:"relative flex",enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,uw.jsx)(iJ.Items,{className:Dn("border-1 absolute mt-2 max-h-40 w-min overflow-y-auto rounded-xl border border-gray-200 bg-white p-1 shadow-lg outline-none transition-all focus:outline-none","right"===r?"right-0 origin-top-right":"left-0 origin-top-left"),onClick:function(e){e.preventDefault(),e.stopPropagation()},children:null===t||void 0===t?void 0:t.map((function(e,t){return(0,uw.jsx)(iJ.Item,{children:function(t){var r=t.active;return(0,uw.jsxs)("button",{className:Dn("".concat(r?"bg-gray-100 text-gray-900":"text-gray-700"," group flex w-full items-center rounded-lg p-2 text-sm transition-all")),onClick:e.onSelect,"data-cy":e.dataCy,children:[e.icon&&(0,uw.jsx)("div",{className:"mr-2 flex h-5 w-5 items-center justify-center",children:e.icon}),(0,uw.jsx)("div",{className:"overflow-hidden whitespace-nowrap",children:e.text})]})}},t)}))})})},dZ=["title","titleId"];var fZ=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,dZ);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))})),hZ=["title","titleId"];var pZ=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,hZ);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}));function vZ(e){return CJ({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 14c0-4-6-10.8-6-10.8s-1.33 1.51-2.73 3.52l8.59 8.59c.09-.42.14-.86.14-1.31zm-.88 3.12L12.5 12.5 5.27 5.27 4 6.55l3.32 3.32C6.55 11.32 6 12.79 6 14c0 3.31 2.69 6 6 6 1.52 0 2.9-.57 3.96-1.5l2.63 2.63 1.27-1.27-2.74-2.74z"},child:[]}]})(e)}var gZ,mZ,yZ=function(e){var t=e.color,r=e.onlyShowBorder,n=Sn.ColorH.rgbColorToStr(t);return{backgroundColor:r?void 0:n,borderColor:r?n:"transparent"}},bZ=function(e){var r=e.selectedColor,n=e.onSelectColor,i=e.onSelectNone,a=e.onlyShowBorder,o=k((0,t.useState)(null),2),s=o[0],u=o[1],c=k((0,t.useState)(null),2),l=c[0],d=c[1],f=(0,t.useMemo)((function(){return null==r?null:(0,uw.jsx)("div",{className:"col-span-8 flex flex-row items-center justify-evenly",children:(0,uw.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,uw.jsx)("div",{className:"h-3 w-3 rounded-sm ring-1 ring-gray-100",style:yZ({color:r,onlyShowBorder:!1})}),(0,uw.jsxs)("span",{className:"text-sm text-gray-900",children:["#",(0,uw.jsx)("input",{className:"w-16 rounded-md border-0 p-0 text-sm outline-none ring-0 focus:bg-gray-100 focus:ring-0",value:null!==s&&void 0!==s?s:Sn.ColorH.rgbColorToHexStr(r),onChange:function(e){u(e.target.value);try{n(Sn.ColorH.hexStrToRgbColor(e.target.value))}catch(t){}},onBlur:function(){u(null)}})]}),Sn.TypeT.strictObjectToEntries(ze(ze({},r),l)).map((function(e){if(null==e)return null;var t=k(e,2),i=t[0],a=t[1],o=i.charAt(0).toUpperCase();return(0,uw.jsxs)("span",{className:"text-sm text-gray-900",children:[(0,uw.jsx)("span",{className:"text-gray-500",children:o})," ",(0,uw.jsx)("input",{type:"number",inputMode:"numeric",className:"-ml-1 w-8 rounded-md border-0 p-0 pl-1 text-sm outline-none ring-0 [appearance:textfield] focus:bg-gray-100 focus:ring-0 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none",value:"".concat(a),onChange:function(e){d(We({},i,e.target.valueAsNumber)),isNaN(e.target.valueAsNumber)||n(Sn.ColorH.clipRgbColor(ze(ze({},r),{},We({},i,e.target.valueAsNumber))))},onWheel:function(e){e.currentTarget.blur()},onBlur:function(){d(null)}})]},i)}))]})})}),[r,n,s,l,d]);return(0,uw.jsxs)("div",{className:"grid w-[17rem] grid-cols-8 gap-x-2 gap-y-2 pb-1",children:[null!=i&&(0,uw.jsxs)("button",{onClick:i,className:Dn("col-span-8 mb-[7px] flex items-center justify-center gap-2 rounded-md py-1 text-base text-gray-900 ring-1 ring-gray-100",null==r?"ring-2 ring-gray-400":"hover:ring-2 hover:ring-gray-200"),style:{background:"repeating-conic-gradient(transparent 0% 25%, #0000000f 0% 50%) 50% / 6px 6px"},children:[(0,uw.jsx)(vZ,{className:"h-5 w-5"}),"None"]}),Sn.CaptionC.TEXT_COLOR_NAMES.map((function(e,t){var i=Sn.CaptionC.TEXT_COLOR_NAME_RGB_MAP[e],o=sk()(i,r);return(0,uw.jsx)("div",{className:"col-span-1",children:(0,uw.jsx)("button",{onClick:function(){n(i)},style:yZ({color:i,onlyShowBorder:a}),className:"box-border flex h-6 w-full items-center justify-center rounded-md border-4 bg-gray-100 ring-1 ring-gray-100 hover:ring-2 hover:ring-gray-200",children:o&&(0,uw.jsx)("div",{className:Dn("h-1.5 w-1.5 rounded-full",a||i.red+i.blue+i.green>=425?"bg-black/80":"bg-white/80")})})},t)})),f]})},SZ=(We(gZ={},Sn.CanvasT.TextJustification.LEFT,(0,uw.jsx)(OJ,{})),We(gZ,Sn.CanvasT.TextJustification.CENTER,(0,uw.jsx)(IJ,{})),We(gZ,Sn.CanvasT.TextJustification.RIGHT,(0,uw.jsx)(RJ,{})),gZ),EZ=(We(mZ={},Sn.CanvasT.VerticalAlignment.TOP,(0,uw.jsx)(jJ,{})),We(mZ,Sn.CanvasT.VerticalAlignment.MIDDLE,(0,uw.jsx)(LJ,{})),We(mZ,Sn.CanvasT.VerticalAlignment.BOTTOM,(0,uw.jsx)(NJ,{})),mZ),xZ=[0,.25,.5,.75,1],wZ=function(){var e,r,n,i=jD(),a=MD(kk.selectProjectCaptionStyle),o=a.font,s=a.textColor,u=a.textJustification,c=a.verticalAlignment,l=a.strokeColor,d=a.backgroundStyle,f=a.isHidden,h=o.fontSize,p=o.fontWeight,v=o.fontName,g=(0,t.useCallback)((function(e){return function(){i(ZN.setCaptionStyle({newCaptionStyle:e}))}}),[i]),m=(0,t.useCallback)((function(e){i(ZN.setCaptionStyleFontName({newFontName:e}))}),[i]),y=(0,t.useCallback)((function(e){i(ZN.setCaptionStyleFontSize({newFontSize:e}))}),[i]),b=(0,t.useCallback)((function(e){i(ZN.setCaptionStyleTextColor({newTextColor:e}))}),[i]),S=(0,t.useCallback)((function(){i(ZN.toggleCaptionStyleFontWeightBold())}),[i]),E=(0,t.useCallback)((function(e){i(ZN.setCaptionStyleTextJustification({newTextJustification:e}))}),[i]),x=(0,t.useCallback)((function(e){i(ZN.setCaptionStyleVerticalAlignment({newVerticalAlignment:e}))}),[i]),w=(0,t.useCallback)((function(e){i(ZN.setCaptionStyleStrokeColor({newStrokeColor:e}))}),[i]),k=(0,t.useCallback)((function(e){i(ZN.setCaptionStyleStrokeWeight({newStrokeWeight:e}))}),[i]),_=(0,t.useCallback)((function(){i(ZN.toggleCaptionStyleIsHidden())}),[i]),T=(0,t.useCallback)((function(){i(ZN.nullifyCaptionStyleBackgroundStyle())}),[i]),A=(0,t.useCallback)((function(e){i(ZN.setCaptionStyleBackgroundColor({newBackgroundColor:e}))}),[i]),C=(0,t.useCallback)((function(e){i(ZN.setCaptionStyleBackgroundStyleType({newBackgroundStyleType:e}))}),[i]),P=(0,t.useCallback)((function(e){return function(){i(ZN.setCaptionStyleBackgroundStyleOpacity({newBackgroundOpacityProportion:e}))}}),[i]),I=(0,t.useCallback)((function(e){return function(){i(ZN.setCaptionStyleBackgroundStyleBorderRadius({newBackgroundBorderRadiusProportion:e}))}}),[i]);return(0,uw.jsxs)("div",{className:"relative py-4",children:[(0,uw.jsxs)("div",{className:"relative z-30 mb-4 flex w-full flex-row flex-wrap items-center gap-2 rounded-xl lg:gap-2 xl:gap-4",children:[(0,uw.jsxs)(iJ,{as:"div",className:"float-left",children:[(0,uw.jsx)(iJ.Button,{className:"text-md cursor-pointer rounded-md px-2 text-center transition-colors hover:bg-gray-100 ",style:{fontFamily:"".concat(v)},children:(0,uw.jsx)("div",{id:"caption-style-font-size-button",children:v})}),(0,uw.jsx)(vn,{anchorSelect:"#caption-style-font-size-button",variant:"dark",place:"bottom",className:"z-50 shadow-xl",style:{opacity:"100%"},delayShow:500,content:"Font size"}),(0,uw.jsxs)(iU,{as:"div",className:"flex",enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:[(0,uw.jsx)("div",{className:"hidden origin-top-left"}),(0,uw.jsx)(iJ.Items,{className:"absolute mt-2 max-h-80 w-56 origin-top-left overflow-y-auto rounded-lg bg-white p-1 shadow-lg ring-1 ring-gray-200 focus:outline-none",children:Sn.CaptionC.FONT_NAMES.map((function(e,t){return(0,uw.jsx)(iJ.Item,{children:function(t){var r=t.active;return(0,uw.jsx)("button",{className:Dn(r?"bg-gray-100 text-gray-900":"text-gray-700","group flex w-full items-center rounded-lg p-2 text-sm transition-all"),onClick:function(){m(e)},children:(0,uw.jsx)("div",{style:{fontFamily:"".concat(e)},children:e})})}},t)}))})]})]}),(0,uw.jsxs)(oZ,{as:"div",children:[(0,uw.jsx)(oZ.Button,{children:(0,uw.jsxs)("div",{id:"caption-style-text-color-button",className:"flex w-6 cursor-pointer flex-col items-center rounded-md text-center text-base font-bold text-gray-900 transition-colors hover:bg-gray-100",children:["A",(0,uw.jsx)("div",{className:"-mt-[2px] mb-[2px] box-border h-[6px] w-5 flex-shrink-0 rounded-full border ring-1 ring-gray-200",style:{backgroundColor:Sn.ColorH.rgbColorToStr(s),borderColor:Sn.ColorH.rgbColorToStr(null!==l&&void 0!==l?l:s)}})]})}),(0,uw.jsx)(vn,{anchorSelect:"#caption-style-text-color-button",variant:"dark",place:"bottom",className:"z-50 shadow-xl",style:{opacity:"100%"},delayShow:500,content:"Text color"}),(0,uw.jsx)(iU,{as:t.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 -translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-1",children:(0,uw.jsxs)(oZ.Panel,{className:"absolute mt-2 origin-top-right rounded-lg bg-white shadow-lg ring-1 ring-gray-200",children:[(0,uw.jsxs)("div",{className:"p-2",children:[(0,uw.jsx)("p",{className:"mb-1 text-sm font-medium text-gray-900",children:"Fill color"}),(0,uw.jsx)(bZ,{selectedColor:s,onSelectColor:b})]}),(0,uw.jsxs)("div",{className:"border-t border-gray-100 p-2",children:[(0,uw.jsx)("p",{className:"mb-1 text-sm font-medium text-gray-900",children:"Stroke color"}),(0,uw.jsx)(bZ,{selectedColor:l,onSelectColor:w,onlyShowBorder:!0})]})]})})]}),(0,uw.jsxs)(iJ,{as:"div",children:[(0,uw.jsx)(iJ.Button,{id:"caption-style-stroke-weight-button",className:"text-md flex h-6 w-6 cursor-pointer items-center justify-center rounded-md p-[1px] text-center text-gray-900 transition-colors hover:bg-gray-100",children:(0,uw.jsx)("img",{src:"https://storage.googleapis.com/videogen-assets/icons/line-weight.png"})}),(0,uw.jsx)(vn,{anchorSelect:"#caption-style-stroke-weight-button",variant:"dark",place:"bottom",className:"z-50 shadow-xl",style:{opacity:"100%"},delayShow:500,content:"Stroke width"}),(0,uw.jsx)(lZ,{position:"left",items:Sn.CaptionC.STROKE_WEIGHTS.map((function(e){return{text:(0,uw.jsx)("div",{className:"flex items-center",children:0===e?(0,uw.jsx)(uZ,{className:"ml-4 h-4 w-4 text-gray-400"}):(0,uw.jsx)("div",{className:"h-0 w-12 rounded-md bg-black",style:{height:e}})}),onSelect:function(){k(e)}}}))})]}),(0,uw.jsxs)(oZ,{as:"div",children:[(0,uw.jsx)(oZ.Button,{children:(0,uw.jsxs)("div",{id:"caption-style-background-style-button",className:"flex w-6 cursor-pointer flex-col items-center rounded-md text-center text-base text-gray-900 transition-colors hover:bg-gray-100",children:[(0,uw.jsx)(MJ,{className:"mb-[1px] h-[18px] w-[18px]"}),(0,uw.jsx)("div",{className:"h-[6px] w-5 flex-shrink-0 rounded-full",style:{background:null==d?"repeating-conic-gradient(transparent 0% 25%, #0000001f 0% 50%) 50% / 6px 6px":Sn.ColorH.rgbColorToStr(d.backgroundColor)}})]})}),(0,uw.jsx)(vn,{anchorSelect:"#caption-style-background-style-button",variant:"dark",place:"bottom",className:"z-50 shadow-xl",style:{opacity:"100%"},delayShow:500,content:"Background style"}),(0,uw.jsx)(iU,{as:t.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 -translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-1",children:(0,uw.jsxs)(oZ.Panel,{className:"absolute mt-2 origin-top-right rounded-lg bg-white shadow-lg ring-1 ring-gray-200",children:[(0,uw.jsxs)("div",{className:"p-2 pb-1",children:[(0,uw.jsx)("p",{className:"mb-1 text-sm font-medium text-gray-900",children:"Background color"}),(0,uw.jsx)(bZ,{selectedColor:null!==(e=null===d||void 0===d?void 0:d.backgroundColor)&&void 0!==e?e:null,onSelectColor:A,onSelectNone:T})]}),null!=d&&(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsxs)("div",{className:"border-t border-gray-100 p-2",children:[(0,uw.jsx)("p",{className:"mb-1 text-sm font-medium text-gray-900",children:"Opacity"}),(0,uw.jsx)("div",{className:"grid w-full grid-cols-5 gap-x-2",children:xZ.map((function(e){return(0,uw.jsxs)("button",{className:Dn("col-span-1 rounded-md py-1 text-gray-900 ring-1 ring-gray-100",d.opacityProportion===e?"ring-2 ring-gray-300":"hover:ring-2 hover:ring-gray-200"),style:{background:"repeating-conic-gradient(transparent 0% 25%, ".concat(Sn.ColorH.rgbColorToStr(Sn.CaptionC.TEXT_COLOR_NAME_RGB_MAP.black,.15*(1-e))," 0% 50%) 50% / 6px 6px")},onClick:P(e),children:[Sn.MathH.proportionToPercentage(e),"%"]},e)}))})]}),(0,uw.jsxs)("div",{className:"border-t border-gray-100 p-2",children:[(0,uw.jsx)("p",{className:"mb-1 text-sm font-medium text-gray-900",children:"Corner"}),(0,uw.jsx)("div",{className:"grid w-full grid-cols-5 gap-x-2",children:xZ.map((function(e){return(0,uw.jsx)("button",{className:Dn("col-span-1 flex items-center justify-center rounded-md py-2 ring-1 ring-gray-100",d.borderRadiusProportion===e?"ring-2 ring-gray-300":"hover:ring-2 hover:ring-gray-200"),onClick:I(e),children:(0,uw.jsx)("div",{style:{width:16,height:16,borderTopRightRadius:16*e},className:"rounded-tr-full border-r-2 border-t-2 border-gray-500 bg-gray-200"})},e)}))})]}),(0,uw.jsxs)("div",{className:"border-t border-gray-100 p-2",children:[(0,uw.jsx)("p",{className:"mb-1 text-sm font-medium text-gray-900",children:"Shape"}),(0,uw.jsx)("div",{className:"grid w-full grid-cols-2 gap-x-2",children:Sn.CaptionC.TEXT_BACKGROUND_STYLE_TYPES.map((function(e){return(0,uw.jsx)("button",{className:Dn("col-span-1 flex items-center justify-center rounded-md py-1 text-gray-900 ring-1 ring-gray-100",d.type===e?"ring-2 ring-gray-300":"hover:ring-2 hover:ring-gray-200"),onClick:function(){C(e)},children:Sn.CaptionC.TEXT_BACKGROUND_STYLE_TYPE_NAME_MAP[e]},e)}))})]})]})]})})]}),(0,uw.jsxs)("div",{children:[(0,uw.jsx)("button",{id:"caption-style-bold-button",className:Dn("w-6 cursor-pointer rounded-md text-center text-base font-bold transition-colors hover:bg-gray-100 "),onClick:S,children:(0,uw.jsx)("span",{style:{fontWeight:p},children:"B"})}),(0,uw.jsx)(vn,{anchorSelect:"#caption-style-bold-button",variant:"dark",place:"bottom",className:"z-50 shadow-xl",style:{opacity:"100%"},delayShow:500,content:"Bold"})]}),(0,uw.jsxs)(iJ,{as:"div",children:[(0,uw.jsx)(iJ.Button,{id:"caption-style-text-size-button",className:"text-md w-min cursor-pointer rounded-md px-1 text-center text-gray-900 transition-colors hover:bg-gray-100 ",children:null!==(r=Sn.CaptionC.FONT_SIZE_NAME_MAP[h])&&void 0!==r?r:"".concat(h,"px")}),(0,uw.jsx)(vn,{anchorSelect:"#caption-style-text-size-button",variant:"dark",place:"bottom",className:"z-50 shadow-xl",style:{opacity:"100%"},delayShow:500,content:"Text size"}),(0,uw.jsx)(lZ,{position:"left",items:Sn.CaptionC.FONT_SIZES.map((function(e){var t;return{text:(0,uw.jsx)("div",{className:"p-[1px]",style:{fontSize:.15*e+5},children:null!==(t=Sn.CaptionC.FONT_SIZE_NAME_MAP[e])&&void 0!==t?t:"".concat(e,"px")}),onSelect:function(){y(e)}}}))})]}),(0,uw.jsxs)(iJ,{as:"div",children:[(0,uw.jsx)(iJ.Button,{id:"caption-style-text-justification-button",className:"text-md flex h-6 w-6 cursor-pointer items-center justify-center rounded-md text-center text-gray-900 transition-colors hover:bg-gray-100 ",children:SZ[u]}),(0,uw.jsx)(vn,{anchorSelect:"#caption-style-text-justification-button",variant:"dark",place:"bottom",className:"z-50 shadow-xl",style:{opacity:"100%"},delayShow:500,content:"Text justification"}),(0,uw.jsx)(lZ,{position:"left",items:Sn.CaptionC.TEXT_JUSTIFICATIONS.map((function(e){return{text:SZ[e],onSelect:function(){E(e)}}}))})]}),(0,uw.jsxs)(iJ,{as:"div",children:[(0,uw.jsx)(iJ.Button,{id:"caption-style-vertical-alignment-button",className:"text-md flex h-6 w-6 cursor-pointer items-center justify-center rounded-md text-center text-gray-900 transition-colors hover:bg-gray-100 ",children:EZ[c]}),(0,uw.jsx)(vn,{anchorSelect:"#caption-style-vertical-alignment-button",variant:"dark",place:"bottom",className:"z-50 shadow-xl",style:{opacity:"100%"},delayShow:500,content:"Vertical alignment"}),(0,uw.jsx)(lZ,{position:"left",items:Sn.CaptionC.VERTICAL_ALIGNMENTS.map((function(e){return{text:EZ[e],onSelect:function(){x(e)}}}))})]}),(0,uw.jsxs)("div",{className:"flex items-center",children:[(0,uw.jsx)("button",{id:"caption-style-hidden-button",className:Dn("text-md h-5 w-5 cursor-pointer rounded-md text-center font-bold transition-colors hover:bg-gray-100"),onClick:_,children:f?(0,uw.jsx)(fZ,{className:"h-full w-full"}):(0,uw.jsx)(pZ,{className:"h-full w-full"})}),(0,uw.jsx)(vn,{anchorSelect:"#caption-style-hidden-button",variant:"dark",place:"bottom",className:"z-50 shadow-xl",style:{opacity:"100%"},delayShow:500,content:f?"Hidden":"Visible"})]})]}),(0,uw.jsx)("div",{className:"h-32 w-full overflow-hidden rounded-2xl bg-gray-50",children:(0,uw.jsx)(cZ,{presetName:null!==(n=Sn.CaptionC.FONT_SIZE_PREVIEW_TEXT_MAP[h])&&void 0!==n?n:v,captionStyle:a,isPositioned:!0})}),(0,uw.jsx)("div",{className:"my-4 w-full text-left text-sm font-medium text-gray-900",children:"Popular Presets"}),(0,uw.jsx)("div",{className:"grid grid-cols-8 gap-4",children:Sn.CaptionC.CAPTION_PRESET_NAMES.map((function(e){return(0,uw.jsx)("div",{className:"col-span-4 h-24 cursor-pointer overflow-hidden rounded-xl bg-gray-50 p-2 transition-all hover:bg-gray-100",onClick:g(Sn.CaptionC.CAPTION_PRESET_NAME_STYLE_MAP[e]),children:(0,uw.jsx)(cZ,{presetName:e,captionStyle:Sn.CaptionC.CAPTION_PRESET_NAME_STYLE_MAP[e]})},e)}))})]})},kZ=["title","titleId"];var _Z=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,kZ);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"m6.72 5.66 11.62 11.62A8.25 8.25 0 0 0 6.72 5.66Zm10.56 12.68L5.66 6.72a8.25 8.25 0 0 0 11.62 11.62ZM5.105 5.106c3.807-3.808 9.98-3.808 13.788 0 3.808 3.807 3.808 9.98 0 13.788-3.807 3.808-9.98 3.808-13.788 0-3.808-3.807-3.808-9.98 0-13.788Z",clipRule:"evenodd"}))})),TZ=["title","titleId"];var AZ=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,TZ);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))})),CZ=function(e){var r=e.tabs,n=e.currentTabValue,i=k((0,t.useState)([]),2),a=i[0],o=i[1],s=k((0,t.useState)([]),2),c=s[0],l=s[1],d=k((0,t.useState)([]),2),f=d[0],h=d[1],p=(0,t.useRef)(null),v=(0,t.useRef)(null),g=(0,t.useRef)(null);return(0,t.useEffect)((function(){var e=function(){if(p.current&&v.current){var e=f.length;if(Array.from(v.current.children).reduce((function(t,r,n){return n<e?r.offsetLeft+r.clientWidth:t}),0)<=v.current.clientWidth)return o(u(f)),void l([]);for(;Array.from(v.current.children).reduce((function(t,r,n){return n<e?r.offsetLeft+r.clientWidth:t}),0)+38>=v.current.clientWidth&&e>0;)e--;o(f.slice(0,e)),l(f.slice(e))}};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[f]),(0,t.useEffect)((function(){if(0===c.length)h(r);else if(!a.find((function(e){return e.value===n}))){var e=r.find((function(e){return e.value===n}));e&&h([e].concat(u(r.filter((function(e){return e.value!==n})))))}}),[c,r,n,a]),(0,uw.jsxs)("div",{className:"relative w-full",children:[(0,uw.jsxs)("div",{ref:p,className:"flex",children:[a.map((function(e,t){return(0,uw.jsx)("button",{onClick:e.onSelect,role:"tab","aria-selected":e.value===n,className:Dn("\n                ".concat(e.value===n?"border-transparent bg-main-600 text-white hover:bg-main-700":"border-gray-100 bg-white text-gray-900 hover:bg-gray-100","\n                float-left mr-2 block cursor-pointer items-center justify-center whitespace-nowrap rounded-md border px-2 py-1 text-sm font-medium transition-colors focus:outline-none")),children:(0,uw.jsx)("span",{children:e.value})},e.value)})),c.length>0&&(0,uw.jsxs)(iJ,{as:"div",ref:g,className:"z-30 float-left mr-2 cursor-pointer items-center justify-center rounded-full bg-gray-100 text-sm font-medium text-gray-500 transition-colors hover:bg-gray-200",children:[(0,uw.jsx)(iJ.Button,{className:"h-full w-full px-[5px]",children:(0,uw.jsx)(AZ,{className:"h-5 w-5"})}),(0,uw.jsx)(lZ,{items:c.map((function(e){return{text:e.value,onSelect:e.onSelect}})),position:"right"})]})]}),(0,uw.jsx)("div",{ref:v,className:"flex h-0 overflow-hidden",children:r.map((function(e,t){return(0,uw.jsx)("button",{onClick:e.onSelect,className:Dn("\n                ".concat(e.value===n?"border-transparent bg-main-600 text-white hover:bg-main-700":"border-gray-200 bg-white text-gray-900 hover:bg-gray-50","\n                float-left mr-2 block cursor-pointer items-center justify-center whitespace-nowrap rounded-md border px-2 py-1 text-sm font-medium transition-colors focus:outline-none")),children:(0,uw.jsx)("span",{children:e.value})},e.value)}))})]})},PZ=function(e){var t=e.audioUrl,r=e.volume,n=e.imgUrl,i=e.title,a=e.artist,o=(e.description,e.licenseUrl,e.onClick);return(0,uw.jsx)("button",{className:"w-full rounded-xl px-3 py-2 transition-all hover:bg-gray-100",children:(0,uw.jsx)("div",{className:"w-full gap-x-4",children:(0,uw.jsxs)("div",{className:"flex items-center gap-x-4",onClick:o,children:[(0,uw.jsx)("div",{className:"flex-start h-12 w-6 flex-shrink-0 items-center justify-center py-3",children:(0,uw.jsx)(rG,{className:"h-6 w-6",audioSrc:t,volume:r})}),(0,uw.jsx)("div",{className:"flex-start h-12 w-12 flex-shrink-0 overflow-hidden rounded-md bg-gray-100",children:n?(0,uw.jsx)("img",{src:n}):(0,uw.jsx)(gG,{className:"p-1 text-gray-600"})}),(0,uw.jsxs)("div",{className:"block w-full overflow-hidden",children:[(0,uw.jsx)("div",{className:"text-ellipsis whitespace-nowrap text-left",children:(0,uw.jsx)("h3",{className:"text-md truncate font-medium text-gray-900",children:i})}),(0,uw.jsx)("div",{className:"text-ellipsis whitespace-nowrap text-left",children:(0,uw.jsx)("h4",{className:"truncate text-sm font-normal text-gray-500",children:a})})]})]})})},t)},IZ=["title","titleId"];var OZ=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,IZ);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v11.69l3.22-3.22a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.22 3.22V3a.75.75 0 0 1 .75-.75Zm-9 13.5a.75.75 0 0 1 .75.75v2.25a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5V16.5a.75.75 0 0 1 1.5 0v2.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V16.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))})),RZ=["title","titleId"];var NZ=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,RZ);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M10.5 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z",clipRule:"evenodd"}))})),LZ=["title","titleId"];var jZ=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,LZ);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))})),MZ=["title","titleId"];var DZ=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,MZ);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))})),FZ=function(e){var r=e.storageScopeType,n=e.allowMultipleFiles,i=e.acceptedStorageFileTypes,a=e.onUploadComplete,o=jD(),s=MD(aw.selectPrivateWorkspaceInfo),u=MD(Ck.selectIsUploadLoading),c=k((0,t.useState)(!1),2),l=c[0],d=c[1],f=(0,t.useRef)(null),h=(0,t.useCallback)((function(e){e.preventDefault(),d(!0)}),[]),p=(0,t.useCallback)((function(e){d(!1)}),[]),v=(0,t.useCallback)((function(e){d(!1)}),[]),g=(0,t.useCallback)(function(){var e=Ot(Pt().mark((function e(t){var r,i,u;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Sn.WorkspaceH.checkWorkspaceInfoSatisfiesAuthLevel({workspaceInfo:s,requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.PRO,upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"upload files"}),!(t.length<0)){e.next=4;break}throw Sn.ErrorH.newWarningError("Must upload at least one file.");case 4:if(n||!(t.length>1)){e.next=6;break}throw Sn.ErrorH.newWarningError("Please upload one file at a time.");case 6:return e.next=8,o(Lk.uploadStorageFiles({fileList:t})).unwrap();case 8:r=e.sent,i=r.hydratedUploadedStorageFiles,u=i.map((function(e){return e.storageFileId})),null!=a&&(Mx("upload",{status:"success",files:t,uploadedStorageFileIds:u}),a(i)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),Mx("upload",{status:"failure",files:t}),o(UM.handleError(e.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to upload file.")}));case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),[o,s,n,a]),m=(0,t.useCallback)((function(e){e.preventDefault(),d(!1),e.dataTransfer.files&&g(e.dataTransfer.files)}),[g]),y=(0,t.useCallback)((function(e){d(!1),e.target.files&&g(e.target.files)}),[g]),b=(0,t.useCallback)((function(){try{if(null==f.current)throw Sn.ErrorH.newFatalError("Failed to load file input.");f.current.click()}catch(e){o(UM.handleError(e,{defaultErr:Sn.ErrorH.newFatalError("Failed to open file selector.")}))}}),[o]),S=(0,t.useCallback)((function(e){try{Sn.WorkspaceH.checkWorkspaceInfoSatisfiesAuthLevel({workspaceInfo:s,requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.PRO,upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"upload files"})}catch(t){o(UM.handleError(t,{defaultErr:Sn.ErrorH.newFatalError("Failed to open file selector.")})),e.preventDefault()}}),[o,s]),E=(0,t.useMemo)((function(){try{return i.flatMap((function(e){return Sn.StorageH.storageFileTypeToSupportedMimeTypes(e)})).join(",")}catch(e){return console.error(e),""}}),[i]),x=(0,t.useMemo)((function(){var e=Sn.StorageC.STORAGE_SCOPE_TYPE_MAX_PRIMARY_FILE_BYTES_MAP[r];return Sn.ByteH.bytesToStr(e)}),[r]);return(0,uw.jsxs)("div",{className:Dn("relative flex h-32 flex-col items-center justify-center rounded-2xl border-2 border-dashed p-2 text-center outline-none transition-all",l&&!u?"border-main-500 bg-main-500/5":"border-gray-300",u?"":"cursor-pointer hover:border-main-500 hover:bg-main-500/5"),onDragOver:h,onDragLeave:p,onDragEnd:v,onDrop:m,onClick:b,"data-cy":"upload-media-banner",children:[(0,uw.jsx)("div",{className:"absolute right-2 top-1",children:(0,uw.jsx)(TK,{type:kK.PRO})}),u?(0,uw.jsx)($M,{className:"h-8 w-8 text-gray-500"}):(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)(DZ,{className:"mb-1 h-8 w-8 text-gray-500"}),(0,uw.jsx)("p",{className:"text-base font-medium leading-5 text-gray-900 lg:text-lg",children:"Drop a file or click to upload"}),(0,uw.jsxs)("p",{className:"text-sm text-gray-500",children:["Max upload size: ",x]}),(0,uw.jsx)("input",{disabled:u,type:"file",accept:E,multiple:n,ref:f,className:"hidden",onChange:y,onClick:S})]})]})},UZ=["title","titleId"];var BZ=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,UZ);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06ZM18.584 5.106a.75.75 0 0 1 1.06 0c3.808 3.807 3.808 9.98 0 13.788a.75.75 0 0 1-1.06-1.06 8.25 8.25 0 0 0 0-11.668.75.75 0 0 1 0-1.06Z"}),t.createElement("path",{d:"M15.932 7.757a.75.75 0 0 1 1.061 0 6 6 0 0 1 0 8.486.75.75 0 0 1-1.06-1.061 4.5 4.5 0 0 0 0-6.364.75.75 0 0 1 0-1.06Z"}))})),GZ=["title","titleId"];var VZ,HZ=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,GZ);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"M4.5 4.5a3 3 0 0 0-3 3v9a3 3 0 0 0 3 3h8.25a3 3 0 0 0 3-3v-9a3 3 0 0 0-3-3H4.5ZM19.94 18.75l-2.69-2.69V7.94l2.69-2.69c.944-.945 2.56-.276 2.56 1.06v11.38c0 1.336-1.616 2.005-2.56 1.06Z"}))})),WZ=(We(VZ={},Sn.StorageT.WorkspaceStorageFileType.AUDIO,(0,uw.jsx)(BZ,{className:"h-full w-full p-0.5"})),We(VZ,Sn.StorageT.WorkspaceStorageFileType.IMAGE,(0,uw.jsx)(pG,{className:"h-full w-full"})),We(VZ,Sn.StorageT.WorkspaceStorageFileType.VIDEO,(0,uw.jsx)(HZ,{className:"h-full w-full"})),VZ),qZ=function(){return(0,uw.jsx)("div",{className:"h-full w-full p-2",children:(0,uw.jsx)($M,{className:"h-6 max-h-full w-6 max-w-full text-gray-500"})})},zZ=function(e){var r=e.dispatch,n=e.storageFileId,i=e.isIcon,a=(0,t.useCallback)((function(){r(Lk.hydrateStorageFiles({storageFilesOrFileIds:[n],includeSignedWriteUrls:!1,includeThumbnailSignedUrls:!0}))}),[r,n]);return(0,uw.jsxs)("div",{className:"h-full w-full p-2",children:[(0,uw.jsx)(ZB,{className:"h-6 max-h-full w-6 max-w-full text-gray-500"}),!i&&(0,uw.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Failed to load asset. Please"," ",(0,uw.jsx)("span",{className:"cursor-pointer underline",onClick:a,children:"try again"})," ",'or visit the "Support" page for help.']})]})},YZ=function(e){var t=e.dispatch,r=e.storageFileId,n=e.type,i=e.isIcon;return i?WZ[n]:(0,uw.jsx)(zZ,{dispatch:t,storageFileId:r,isIcon:i})},XZ=function(e){var r=e.storageFile,n=e.isIcon,i=e.showAudioPlayButtonOnIcon,a=jD(),o=MD(YB),s=MD(KB),u=r.type,c=r.storageFileId,l=(r.storageFileMetadata,(0,t.useMemo)((function(){return{signedPrimaryReadUrl:Sn.StorageH.getStorageFileSubtypeSignedReadUrl({storageFile:r,storageFileSubtype:Sn.StorageT.WorkspaceStorageFileSubtype.PRIMARY}),signedThumbnailReadUrl:Sn.StorageH.getStorageFileSubtypeSignedReadUrl({storageFile:r,storageFileSubtype:Sn.StorageT.WorkspaceStorageFileSubtype.THUMBNAIL})}}),[r])),d=l.signedPrimaryReadUrl,f=l.signedThumbnailReadUrl,h=k((0,t.useState)(Sn.LoadingT.LoadingState.UNATTEMPTED),2),p=h[0],v=h[1];(0,t.useEffect)((function(){if(p!==Sn.LoadingT.LoadingState.FULFILLED&&p!==Sn.LoadingT.LoadingState.REJECTED){v(Sn.StorageH.storageFileToUploadLoadingState(r));var e=setInterval((function(){v(Sn.StorageH.storageFileToUploadLoadingState(r))}),1e3);return function(){clearInterval(e)}}}),[p,r]);var g=(0,t.useMemo)((function(){try{switch(r.type){case Sn.StorageT.WorkspaceStorageFileType.AUDIO:return;case Sn.StorageT.WorkspaceStorageFileType.IMAGE:var e=r.size;return{aspectRatio:Sn.CanvasH.aspectRatioToWidthHeightRatio(e)};case Sn.StorageT.WorkspaceStorageFileType.VIDEO:var t=r.size;return{aspectRatio:Sn.CanvasH.aspectRatioToWidthHeightRatio(t)}}}catch(n){return void console.error(n)}}),[r]);return(0,t.useMemo)((function(){switch(p){case Sn.LoadingT.LoadingState.UNATTEMPTED:case Sn.LoadingT.LoadingState.LOADING:return(0,uw.jsx)(qZ,{});case Sn.LoadingT.LoadingState.FULFILLED:if(null==d)return(0,uw.jsx)(YZ,{dispatch:a,storageFileId:c,type:u,isIcon:n});switch(u){case Sn.StorageT.WorkspaceStorageFileType.IMAGE:return n&&null!=f?(0,uw.jsx)("img",{className:"h-full w-full object-contain",src:f}):(0,uw.jsx)("img",{className:"h-full w-full object-contain",src:d});case Sn.StorageT.WorkspaceStorageFileType.AUDIO:if(n){var e=i||s&&o===d;return(0,uw.jsxs)("div",{className:"relative h-full w-full",children:[(0,uw.jsx)("div",{className:Dn("absolute h-full w-full",e?"hidden":""),children:WZ[u]}),(0,uw.jsx)("div",{className:Dn("absolute h-full w-full items-center justify-center p-1",e?"":"hidden"),onClick:function(e){e.stopPropagation()},children:(0,uw.jsx)(rG,{audioSrc:d,volume:1,className:"h-full w-full",disabled:!e})})]})}return(0,uw.jsx)("audio",{src:d,controls:!0});case Sn.StorageT.WorkspaceStorageFileType.VIDEO:return n?null!=f?(0,uw.jsx)("img",{className:"h-full w-full object-contain",src:f}):WZ[u]:(0,uw.jsx)("div",{style:g,className:"max-h-full max-w-full",children:(0,uw.jsx)("video",{className:"h-full w-full object-contain",src:d,controls:!0})});default:return Sn.ErrorH.assertNever(u)}case Sn.LoadingT.LoadingState.REJECTED:return(0,uw.jsx)(zZ,{dispatch:a,storageFileId:c,isIcon:n});default:return Sn.ErrorH.assertNever(p)}}),[a,p,s,o,d,f,u,n,i,c,g])},KZ=function(e){var t=e.isModalOpen,r=e.closeModal,n=e.deletedAssetDisplayName,i=e.warningText,a=e.isDeletionPending,o=e.confirmDeletion;return(0,uw.jsxs)(zB,{isModalOpen:t,closeModal:r,showX:!1,children:[(0,uw.jsxs)("div",{className:"text-center sm:text-left",children:[(0,uw.jsxs)("h3",{className:"text-xl font-medium leading-6 text-gray-900",children:['Are you sure you want to permanently delete "',(0,uw.jsx)("i",{children:n}),'"?']}),i&&(0,uw.jsx)("p",{className:"mt-2 text-base text-gray-900",children:i})]}),(0,uw.jsxs)("div",{className:"mt-4 sm:flex",children:[(0,uw.jsx)(tD,{type:"button",className:Dn("inline-flex w-full justify-center rounded-lg border border-transparent px-4 py-2 text-base font-medium text-white transition-colors focus:outline-none focus:ring-0 sm:w-auto",a?"bg-gray-500":"bg-main-600 hover:bg-main-700"),onClick:o,isLoading:a,children:"Delete"}),(0,uw.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-lg border border-gray-300 bg-white px-4 py-2  text-base font-medium text-gray-700 transition-colors hover:bg-gray-100 focus:outline-none focus:ring-0 sm:ml-3 sm:mt-0 sm:w-auto",onClick:r,children:"Cancel"})]})]})},JZ=function(e){var r=e.searchFilter,n=e.isShowingUploadBanner,i=e.isShowingOptions,a=e.isShowingFileSizes,o=e.audioPreviewIconMode,s=e.onClickStorageFile,u=e.onUploadComplete,c=jD(),l=MD(aw.selectPrivateWorkspaceInfo),d=MD(Ck.selectStorageFileSearchQueries),f=MD(Ck.selectStorageIdFileRecord),h=k((0,t.useState)(null),2),p=h[0],v=h[1],g=k((0,t.useState)(null),2),m=g[0],y=g[1],b=k((0,t.useState)(!1),2),S=b[0],E=b[1],x=k((0,t.useState)(!1),2),w=x[0],_=x[1],T=(0,t.useMemo)((function(){var e;return null!==(e=d.find((function(e){return sk()(e.searchFilter,r)})))&&void 0!==e?e:null}),[d,r]),A=(0,t.useMemo)((function(){var e;return null!==(e=null===T||void 0===T?void 0:T.resultStorageFileIds)&&void 0!==e?e:[]}),[T]),C=(0,t.useMemo)((function(){return Sn.TypeT.getArrayWithoutOmissions(A.map((function(e){return f[e]})))}),[f,A]),P=(0,t.useMemo)((function(){var e;return 0===A.length?null!==(e=null===T||void 0===T?void 0:T.loadingState)&&void 0!==e?e:Sn.LoadingT.LoadingState.UNATTEMPTED:Sn.LoadingT.LoadingState.FULFILLED}),[A.length,T]),I=(0,t.useMemo)((function(){return[{text:"Download",onSelect:function(e){try{var t,r=Sn.StorageH.getStorageFileSubtypeSignedReadUrl({storageFile:e,storageFileSubtype:Sn.StorageT.WorkspaceStorageFileSubtype.PRIMARY});if(null==r)throw Sn.ErrorH.newWarningError("File is currently unavailable to download.");Vk({url:r,fileName:null!==(t=Sn.StorageH.storageFileToDisplayFileName({storageFile:e,storageFileSubtype:Sn.StorageT.WorkspaceStorageFileSubtype.PRIMARY}))&&void 0!==t?t:"VideoGen.".concat(e.storageFileMetadata.fileExtension)})}catch(n){c(UM.handleError(n,{defaultErr:Sn.ErrorH.newFatalError("Failed to download file.")}))}},icon:(0,uw.jsx)(OZ,{className:"h-full w-full"})},{text:"Delete",onSelect:function(e){y(e.storageFileId),E(!0)},icon:(0,uw.jsx)(jZ,{className:"h-full w-full"})}]}),[c]),O=(0,t.useMemo)((function(){var e;return null==m?null:null!==(e=f[m])&&void 0!==e?e:null}),[f,m]),R=(0,t.useCallback)(Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(!0),e.prev=1,null!=O){e.next=4;break}throw Sn.ErrorH.newFatalError("Failed to delete storage file.");case 4:return e.next=6,c(Lk.deleteStorageFiles({storageScope:O.storageFileMetadata.storageScope,storageFileIds:[O.storageFileId]})).unwrap();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c(UM.handleError(e.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to delete storage file.")}));case 11:E(!1),setTimeout((function(){_(!1)}),1e3);case 13:case"end":return e.stop()}}),e,null,[[1,8]])}))),[c,O]),N=(0,t.useCallback)((function(){c(yw({upgradeAction:{type:Sn.ErrorT.KnownErrorActionType.UPGRADE,currentWorkspaceAuthLevel:Sn.WorkspaceH.getWorkspaceAuthLevel(l),requiredWorkspaceAuthLevel:Sn.WorkspaceH.getNextHighestWorkspaceAuthLevel(Sn.WorkspaceH.getWorkspaceAuthLevel(l)),upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"increase your storage limit"}}))}),[c,l]),L=(0,t.useMemo)((function(){return{gridTemplateColumns:"repeat(".concat(10+(i?2:0)+(a?2:0),", minmax(0, 1fr))")}}),[i,a]),j=(0,t.useMemo)((function(){if(r.storageScope.type===Sn.StorageT.WorkspaceStorageScopeType.GLOBAL){var e=Sn.StorageH.getWorkspaceScopeStorageLimits({workspaceInfo:l,storageScope:r.storageScope}).maxStorageBytes,t=l.globalStorageSummary.storageBytes;return"".concat(Sn.ByteH.bytesToStr(t)," / ").concat(Sn.ByteH.bytesToStr(e)," storage used.")}}),[l,r.storageScope]),M=eF(),D=(0,t.useCallback)((function(){M((function(){c(Lk.getHydratedStorageFiles({unionSearchFilters:[r],includeSignedWriteUrls:!1,includeThumbnailSignedUrls:!0}))}),2e3)}),[c,M,r]),F=(0,t.useCallback)((function(e){return function(){try{if(!Sn.StorageH.isStorageFileFulfilled(e))throw Sn.ErrorH.newWarningError("The selected asset is not currently available. It may be uploading or deleted.");s(e)}catch(t){c(UM.handleError(t))}}}),[c,s]);(0,t.useEffect)((function(){D()}),[D]);var U=(0,t.useMemo)((function(){switch(P){case Sn.LoadingT.LoadingState.UNATTEMPTED:case Sn.LoadingT.LoadingState.LOADING:return(0,uw.jsx)("div",{className:"flex w-full justify-center p-6",children:(0,uw.jsx)($M,{className:"h-8 w-8 text-gray-500"})});case Sn.LoadingT.LoadingState.FULFILLED:return 0===C.length?(0,uw.jsx)("div",{className:"py-4 text-center text-sm text-gray-500",children:"Upload files to get started."}):(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsxs)("div",{className:"grid w-full border-b border-gray-200 px-4 py-4 font-medium text-gray-900",style:L,children:[(0,uw.jsx)("div",{className:"col-span-7 text-left text-sm",children:"Recent files"}),a&&(0,uw.jsx)("div",{className:"col-span-2 hidden text-right text-sm md:block",children:"File size"}),(0,uw.jsx)("div",{className:"col-span-3 hidden text-right text-sm md:block",children:"Date uploaded"})]}),(0,uw.jsx)("div",{className:"bg-white text-left",onMouseLeave:function(){v(null)},"data-cy":"storage-file-list",children:C.map((function(e){var t=Sn.StorageH.isStorageFileFulfilled(e);return(0,uw.jsx)("div",{className:"border-b border-gray-100",children:(0,uw.jsx)("button",{className:Dn("w-full rounded-xl outline-none transition-colors focus:ring-0",t?"cursor-pointer hover:bg-gray-100":"animate-pulse cursor-wait"),onClick:F(e),disabled:!t,onMouseEnter:function(){v(e.storageFileId)},"data-cy":"storage-file-list-row",children:(0,uw.jsxs)("div",{style:L,className:"grid w-full py-2 pl-2 pr-4",children:[(0,uw.jsx)("div",{className:"col-span-7 text-sm",children:(0,uw.jsxs)("div",{className:"flex items-center",children:[(0,uw.jsx)("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center p-1",children:(0,uw.jsx)(XZ,{storageFile:e,isIcon:!0,showAudioPlayButtonOnIcon:"always"===o||"hover"===o&&e.storageFileId===p})}),(0,uw.jsxs)("div",{className:"w-full px-4",children:[(0,uw.jsx)("div",{className:"w-full truncate text-left font-medium text-gray-900",children:e.storageFileMetadata.displayName}),(0,uw.jsx)("div",{className:"w-full truncate text-left text-gray-500",children:Sn.StringH.capitalizeStr(e.type)})]})]})}),a&&(0,uw.jsx)("div",{className:"col-span-2 flex items-center  justify-end text-sm text-gray-500 opacity-0 md:opacity-100",children:Sn.ByteH.bytesToStr(e.storageFileMetadata.fileBytes)}),(0,uw.jsx)("div",{className:"col-span-3 flex items-center justify-end text-sm text-gray-500 opacity-0 md:opacity-100",children:Sn.StringH.capitalizeStr(Sn.TimeH.secondsSinceEpochToRelativeDateStr(e.storageFileMetadata.creationSecondsSinceEpoch),{allWords:!1})}),i&&(0,uw.jsx)("div",{className:"col-span-2 text-right text-sm font-medium sm:pr-0",children:(0,uw.jsxs)(iJ,{as:"div",className:"z-30 mr-3 mt-1 text-right",children:[(0,uw.jsx)(iJ.Button,{className:"h-8 w-8 rounded-full transition-colors hover:bg-gray-300",onClick:function(e){e.stopPropagation()},children:(0,uw.jsx)(NZ,{className:"m-1 h-6 text-gray-500"})}),(0,uw.jsx)(lZ,{position:"right",items:I.map((function(t){return{text:t.text,icon:t.icon,onSelect:function(){t.onSelect(e)}}}))})]})})]})})},e.storageFileId)}))}),a&&(0,uw.jsxs)("div",{className:"mt-4 text-sm font-medium text-gray-900",children:[(0,uw.jsx)("span",{children:j})," ",(0,uw.jsx)("button",{className:"text-main-600 outline-none hover:underline",onClick:N,children:"Get more storage \u2192"})]})]});case Sn.LoadingT.LoadingState.REJECTED:return(0,uw.jsxs)("div",{className:"flex w-full flex-col items-center justify-center p-6",children:[(0,uw.jsx)(ZB,{className:"h-8 w-8 text-gray-500"}),(0,uw.jsxs)("p",{className:"text-md mt-2 text-gray-500",children:["Failed to load media. Please"," ",(0,uw.jsx)("span",{className:"cursor-pointer underline",onClick:D,children:"try again"})," ",'or visit the "Support" page for help.']})]})}}),[P,I,C,p,i,a,o,F,L,j,N,D]),B=(0,t.useMemo)((function(){var e;return null!==(e=r.storageFileTypes)&&void 0!==e?e:[Sn.StorageT.WorkspaceStorageFileType.AUDIO,Sn.StorageT.WorkspaceStorageFileType.IMAGE,Sn.StorageT.WorkspaceStorageFileType.VIDEO]}),[r]);return(0,uw.jsxs)("div",{className:"flex h-full w-full flex-col gap-2",children:[n&&(0,uw.jsxs)("div",{className:"flex-shrink",children:[(0,uw.jsx)(FZ,{storageScopeType:r.storageScope.type,allowMultipleFiles:!0,acceptedStorageFileTypes:B,onUploadComplete:u}),(0,uw.jsx)("div",{className:"mx-auto my-2 text-center",children:(0,uw.jsxs)("div",{className:"inline-flex flex-col text-sm text-gray-500 sm:flex-row",children:[(0,uw.jsx)("p",{className:"inline-flex sm:mb-0",children:"Want to add your brand's media library?\xa0"}),(0,uw.jsxs)(aG,{to:pJ,target:"_blank",className:"inline-flex w-auto items-center space-x-1 text-center font-medium text-gray-900 hover:underline",children:[(0,uw.jsx)("span",{children:"Request Enterprise Access"}),(0,uw.jsx)(hJ,{className:"h-4 w-4"})]})]})})]}),(0,uw.jsx)("div",{className:"flex-grow",children:U}),null!=O&&(0,uw.jsx)(KZ,{isModalOpen:S,closeModal:function(){E(!1)},deletedAssetDisplayName:O.storageFileMetadata.displayName,warningText:"Deleting this asset may irreversibly corrupt any projects that use this asset.",isDeletionPending:w,confirmDeletion:R})]})},ZZ=["title","titleId"];var QZ=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,ZZ);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06ZM17.78 9.22a.75.75 0 1 0-1.06 1.06L18.44 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06l1.72-1.72 1.72 1.72a.75.75 0 1 0 1.06-1.06L20.56 12l1.72-1.72a.75.75 0 1 0-1.06-1.06l-1.72 1.72-1.72-1.72Z"}))}));var $Z=function(e){for(var t,r=0,n=0,i=e.length;i>=4;++n,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(i){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},eQ={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var tQ=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}},rQ=/[A-Z]|^ms/g,nQ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,iQ=function(e){return 45===e.charCodeAt(1)},aQ=function(e){return null!=e&&"boolean"!==typeof e},oQ=tQ((function(e){return iQ(e)?e:e.replace(rQ,"-$&").toLowerCase()})),sQ=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(nQ,(function(e,t,r){return cQ={name:t,styles:r,next:cQ},t}))}return 1===eQ[e]||iQ(e)||"number"!==typeof t||0===t?t:t+"px"};function uQ(e,t,r,n){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return cQ={name:r.name,styles:r.styles,next:cQ},r.name;if(void 0!==r.styles){var i=r.next;if(void 0!==i)for(;void 0!==i;)cQ={name:i.name,styles:i.styles,next:cQ},i=i.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=uQ(e,t,r[i],!1);else for(var a in r){var o=r[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?n+=a+"{"+t[o]+"}":aQ(o)&&(n+=oQ(a)+":"+sQ(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=uQ(e,t,o,!1);switch(a){case"animation":case"animationName":n+=oQ(a)+":"+s+";";break;default:n+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)aQ(o[u])&&(n+=oQ(a)+":"+sQ(a,o[u])+";")}return n}(e,t,r);case"function":if(void 0!==e){var a=cQ,o=r(e);return cQ=a,uQ(e,t,o,n)}}if(null==t)return r;var s=t[r];return void 0===s||n?r:s}var cQ,lQ=/label:\s*([^\s;\n{]+)\s*;/g;var dQ=function(e,t,r){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,i="";cQ=void 0;var a=e[0];null==a||void 0===a.raw?(n=!1,i+=uQ(r,t,a,!1)):i+=a[0];for(var o=1;o<e.length;o++)i+=uQ(r,t,e[o],46===i.charCodeAt(i.length-1)),n&&(i+=a[o]);lQ.lastIndex=0;for(var s,u="";null!==(s=lQ.exec(i));)u+="-"+s[1];return{name:$Z(i)+u,styles:i,next:cQ}};var fQ=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return dQ(t)};var hQ=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)===0){var t,r=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,t),this.tags.push(r)}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{var a=105===e.charCodeAt(1)&&64===e.charCodeAt(0);i.insertRule(e,a?0:i.cssRules.length)}catch(Nue){0}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var pQ=function(e){function t(e,n,u,c,f){for(var h,p,v,g,S,x=0,w=0,k=0,_=0,T=0,R=0,L=v=h=0,M=0,D=0,F=0,U=0,B=u.length,G=B-1,V="",H="",W="",q="";M<B;){if(p=u.charCodeAt(M),M===G&&0!==w+_+k+x&&(0!==w&&(p=47===w?10:47),_=k=x=0,B++,G++),0===w+_+k+x){if(M===G&&(0<D&&(V=V.replace(d,"")),0<V.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:V+=u.charAt(M)}p=59}switch(p){case 123:for(h=(V=V.trim()).charCodeAt(0),v=1,U=++M;M<B;){switch(p=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(M+1)){case 42:case 47:e:{for(L=M+1;L<G;++L)switch(u.charCodeAt(L)){case 47:if(42===p&&42===u.charCodeAt(L-1)&&M+2!==L){M=L+1;break e}break;case 10:if(47===p){M=L+1;break e}}M=L}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<G&&u.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=u.substring(U,M),0===h&&(h=(V=V.replace(l,"").trim()).charCodeAt(0)),64===h){switch(0<D&&(V=V.replace(d,"")),p=V.charCodeAt(1)){case 100:case 109:case 115:case 45:D=n;break;default:D=O}if(U=(v=t(n,D,v,p,f+1)).length,0<N&&(S=s(3,v,D=r(O,V,F),n,C,A,U,p,f,c),V=D.join(""),void 0!==S&&0===(U=(v=S.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:V=V.replace(E,o);case 100:case 109:case 45:v=V+"{"+v+"}";break;case 107:v=(V=V.replace(m,"$1 $2"))+"{"+v+"}",v=1===I||2===I&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=V+v,112===c&&(H+=v,v="")}else v=""}else v=t(n,r(n,V,F),v,c,f+1);W+=v,v=F=D=L=h=0,V="",p=u.charCodeAt(++M);break;case 125:case 59:if(1<(U=(V=(0<D?V.replace(d,""):V).trim()).length))switch(0===L&&(h=V.charCodeAt(0),45===h||96<h&&123>h)&&(U=(V=V.replace(" ",":")).length),0<N&&void 0!==(S=s(1,V,n,e,C,A,H.length,c,f,c))&&0===(U=(V=S.trim()).length)&&(V="\0\0"),h=V.charCodeAt(0),p=V.charCodeAt(1),h){case 0:break;case 64:if(105===p||99===p){q+=V+u.charAt(M);break}default:58!==V.charCodeAt(U-1)&&(H+=i(V,h,p,V.charCodeAt(2)))}F=D=L=h=0,V="",p=u.charCodeAt(++M)}}switch(p){case 13:case 10:47===w?w=0:0===1+h&&107!==c&&0<V.length&&(D=1,V+="\0"),0<N*j&&s(0,V,n,e,C,A,H.length,c,f,c),A=1,C++;break;case 59:case 125:if(0===w+_+k+x){A++;break}default:switch(A++,g=u.charAt(M),p){case 9:case 32:if(0===_+x+w)switch(T){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===_+w+x&&(D=F=1,g="\f"+g);break;case 108:if(0===_+w+x+P&&0<L)switch(M-L){case 2:112===T&&58===u.charCodeAt(M-3)&&(P=T);case 8:111===R&&(P=R)}break;case 58:0===_+w+x&&(L=M);break;case 44:0===w+k+_+x&&(D=1,g+="\r");break;case 34:case 39:0===w&&(_=_===p?0:0===_?p:_);break;case 91:0===_+w+k&&x++;break;case 93:0===_+w+k&&x--;break;case 41:0===_+w+x&&k--;break;case 40:if(0===_+w+x){if(0===h)if(2*T+3*R===533);else h=1;k++}break;case 64:0===w+k+_+x+L+v&&(v=1);break;case 42:case 47:if(!(0<_+x+k))switch(w){case 0:switch(2*p+3*u.charCodeAt(M+1)){case 235:w=47;break;case 220:U=M,w=42}break;case 42:47===p&&42===T&&U+2!==M&&(33===u.charCodeAt(U+2)&&(H+=u.substring(U,M+1)),g="",w=0)}}0===w&&(V+=g)}R=T,T=p,M++}if(0<(U=H.length)){if(D=n,0<N&&(void 0!==(S=s(2,H,D,e,C,A,U,c,f,c))&&0===(H=S).length))return q+H+W;if(H=D.join(",")+"{"+H+"}",0!==I*P){switch(2!==I||a(H,2)||(P=0),P){case 111:H=H.replace(b,":-moz-$1")+H;break;case 112:H=H.replace(y,"::-webkit-input-$1")+H.replace(y,"::-moz-$1")+H.replace(y,":-ms-input-$1")+H}P=0}}return q+H+W}function r(e,t,r){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=n(e,t[s],r).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=n(e[c]+" ",i[s],r).trim()}return t}function n(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,r,n){var o=e+";",s=2*t+3*r+4*n;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===I||2===I&&a(u,1)?"-webkit-"+u+u:u}if(0===I||2===I&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(T,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return h.test(o)?o.replace(f,":-webkit-")+o.replace(f,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(S,"tb");break;case 232:u=o.replace(S,"tb-rl");break;case 220:u=o.replace(S,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(w,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(w,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===_.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,r,n).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===r+n&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),L(2!==t?n:n.replace(k,"$1"),r,t)}function o(e,t){var r=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(x," or ($1)").substring(4):"("+t+")"}function s(e,t,r,n,i,a,o,s,u,l){for(var d,f=0,h=t;f<N;++f)switch(d=R[f].call(c,e,h,r,n,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:h=d}if(h!==t)return h}function u(e){return void 0!==(e=e.prefix)&&(L=null,e?"function"!==typeof e?I=1:(I=2,L=e):I=0),u}function c(e,r){var n=e;if(33>n.charCodeAt(0)&&(n=n.trim()),n=[n],0<N){var i=s(-1,r,n,n,C,A,0,0,0,0);void 0!==i&&"string"===typeof i&&(r=i)}var a=t(O,n,r,0,0);return 0<N&&(void 0!==(i=s(-2,a,n,n,C,A,a.length,0,0,0))&&(a=i)),"",P=0,A=C=1,a}var l=/^\0+/g,d=/[\0\r\f]/g,f=/: */g,h=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,S=/[svh]\w+-[tblr]{2}/,E=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,w=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,_=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,A=1,C=1,P=0,I=1,O=[],R=[],N=0,L=null,j=0;return c.use=function e(t){switch(t){case void 0:case null:N=R.length=0;break;default:if("function"===typeof t)R[N++]=t;else if("object"===typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else j=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},vQ="/*|*/",gQ=vQ+"}";function mQ(e){e&&yQ.current.insert(e+"}")}var yQ={current:null},bQ=function(e,t,r,n,i,a,o,s,u,c){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return yQ.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===s)return t+vQ;break;case 3:switch(s){case 102:case 112:return yQ.current.insert(r[0]+t),"";default:return t+(0===c?vQ:"")}case-2:t.split(gQ).forEach(mQ)}},SQ=function(e){void 0===e&&(e={});var t,r=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var n=new pQ(t);var i,a={};i=e.container||document.head;var o,s=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(s,(function(e){e.getAttribute("data-emotion-"+r).split(" ").forEach((function(e){a[e]=!0})),e.parentNode!==i&&i.appendChild(e)})),n.use(e.stylisPlugins)(bQ),o=function(e,t,r,i){var a=t.name;yQ.current=r,n(e,t.styles),i&&(u.inserted[a]=!0)};var u={key:r,sheet:new hQ({key:r,container:i,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:a,registered:{},insert:o};return u};function EQ(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]):n+=r+" "})),n}var xQ=function(e,t,r){var n=e.key+"-"+t.name;if(!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert("."+n,i,e.sheet,!0);i=i.next}while(void 0!==i)}},wQ=Object.prototype.hasOwnProperty,kQ=(0,t.createContext)("undefined"!==typeof HTMLElement?SQ():null),_Q=(0,t.createContext)({}),TQ=(kQ.Provider,function(e){var r=function(r,n){return(0,t.createElement)(kQ.Consumer,null,(function(t){return e(r,t,n)}))};return(0,t.forwardRef)(r)}),AQ="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",CQ=function(){return null},PQ=function(e,r,n,i){var a=null===n?r.css:r.css(n);"string"===typeof a&&void 0!==e.registered[a]&&(a=e.registered[a]);var o=r[AQ],s=[a],u="";"string"===typeof r.className?u=EQ(e.registered,s,r.className):null!=r.className&&(u=r.className+" ");var c=dQ(s);xQ(e,c,"string"===typeof o);u+=e.key+"-"+c.name;var l={};for(var d in r)wQ.call(r,d)&&"css"!==d&&d!==AQ&&(l[d]=r[d]);l.ref=i,l.className=u;var f=(0,t.createElement)(o,l),h=(0,t.createElement)(CQ,null);return(0,t.createElement)(t.Fragment,null,h,f)},IQ=TQ((function(e,r,n){return"function"===typeof e.css?(0,t.createElement)(_Q.Consumer,null,(function(t){return PQ(r,e,t,n)})):PQ(r,e,null,n)}));var OQ=function(e,r){var n=arguments;if(null==r||!wQ.call(r,"css"))return t.createElement.apply(void 0,n);var i=n.length,a=new Array(i);a[0]=IQ,a[1]=function(e,t){var r={};for(var n in t)wQ.call(t,n)&&(r[n]=t[n]);return r[AQ]=e,r}(e,r);for(var o=2;o<i;o++)a[o]=n[o];return t.createElement.apply(null,a)},RQ=function e(t){for(var r=t.length,n=0,i="";n<r;n++){var a=t[n];if(null!=a){var o=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))o=e(a);else for(var s in o="",a)a[s]&&s&&(o&&(o+=" "),o+=s);break;default:o=a}o&&(i&&(i+=" "),i+=o)}}return i};var NQ=function(){return null};TQ((function(e,r){return(0,t.createElement)(_Q.Consumer,null,(function(n){var i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=dQ(t,r.registered);return xQ(r,i,!1),r.key+"-"+i.name},a={css:i,cx:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,t,r){var n=[],i=EQ(e,n,r);return n.length<2?r:i+t(n)}(r.registered,i,RQ(t))},theme:n},o=e.children(a);var s=(0,t.createElement)(NQ,null);return(0,t.createElement)(t.Fragment,null,s,o)}))}));function LQ(e){var t=e.touches;if(t&&t.length){var r=t[0];return{x:r.clientX,y:r.clientY}}return{x:e.clientX,y:e.clientY}}var jQ={position:"relative",display:"inline-block",backgroundColor:"#ddd",borderRadius:5,userSelect:"none",boxSizing:"border-box"},MQ={position:"absolute",backgroundColor:"#5e72e4",borderRadius:5,userSelect:"none",boxSizing:"border-box"},DQ={position:"relative",display:"block",content:'""',width:18,height:18,backgroundColor:"#fff",borderRadius:"50%",boxShadow:"0 1px 1px rgba(0,0,0,.5)",userSelect:"none",cursor:"pointer",boxSizing:"border-box"},FQ={x:{track:En({},jQ,{width:200,height:10}),active:En({},MQ,{top:0,height:"100%"}),thumb:En({},DQ)},y:{track:En({},jQ,{width:10,height:200}),active:En({},MQ,{left:0,width:"100%"}),thumb:En({},DQ)},xy:{track:{position:"relative",overflow:"hidden",width:200,height:200,backgroundColor:"#5e72e4",borderRadius:0},active:{},thumb:En({},DQ)},disabled:{opacity:.5}},UQ=function(e){var r=e.disabled,n=e.axis,i=e.x,a=e.y,o=e.xmin,s=e.xmax,u=e.ymin,c=e.ymax,l=e.xstep,d=e.ystep,f=e.onChange,h=e.onDragStart,p=e.onDragEnd,v=e.xreverse,g=e.yreverse,m=e.styles,y=Ve(e,["disabled","axis","x","y","xmin","xmax","ymin","ymax","xstep","ystep","onChange","onDragStart","onDragEnd","xreverse","yreverse","styles"]),b=(0,t.useRef)(null),S=(0,t.useRef)(null),E=(0,t.useRef)({}),x=(0,t.useRef)({});function w(e){var t=e.top,r=e.left;if(f){var i=b.current.getBoundingClientRect(),a=i.width,h=i.height,p=0,m=0;r<0&&(r=0),r>a&&(r=a),t<0&&(t=0),t>h&&(t=h),"x"!==n&&"xy"!==n||(p=r/a*(s-o)),"y"!==n&&"xy"!==n||(m=t/h*(c-u));var y=(0!==p?parseInt(p/l,10)*l:0)+o,S=(0!==m?parseInt(m/d,10)*d:0)+u;f({x:v?s-y+o:y,y:g?c-S+u:S})}}function k(e){if(!r){e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var t=S.current,n=LQ(e);E.current={x:t.offsetLeft,y:t.offsetTop},x.current={x:n.x,y:n.y},document.addEventListener("mousemove",_),document.addEventListener("mouseup",T),document.addEventListener("touchmove",_,{passive:!1}),document.addEventListener("touchend",T),document.addEventListener("touchcancel",T),h&&h(e)}}function _(e){r||(e.preventDefault(),w(function(e){var t=LQ(e);return{left:t.x+E.current.x-x.current.x,top:t.y+E.current.y-x.current.y}}(e)))}function T(e){r||(e.preventDefault(),document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",T),document.removeEventListener("touchmove",_,{passive:!1}),document.removeEventListener("touchend",T),document.removeEventListener("touchcancel",T),p&&p(e))}function A(e){if(!r){e.preventDefault();var t=LQ(e),n=b.current.getBoundingClientRect();E.current={x:t.x-n.left,y:t.y-n.top},x.current={x:t.x,y:t.y},document.addEventListener("mousemove",_),document.addEventListener("mouseup",T),document.addEventListener("touchmove",_,{passive:!1}),document.addEventListener("touchend",T),document.addEventListener("touchcancel",T),w({left:t.x-n.left,top:t.y-n.top}),h&&h(e)}}var C=function(){var e=(a-u)/(c-u)*100,t=(i-o)/(s-o)*100;return e>100&&(e=100),e<0&&(e=0),"x"===n&&(e=0),t>100&&(t=100),t<0&&(t=0),"y"===n&&(t=0),{top:e,left:t}}(),P={};"x"===n&&(P.width=C.left+"%"),"y"===n&&(P.height=C.top+"%"),v&&(P.left=100-C.left+"%"),g&&(P.top=100-C.top+"%");var I={position:"absolute",transform:"translate(-50%, -50%)",left:v?100-C.left+"%":C.left+"%",top:g?100-C.top+"%":C.top+"%"};"x"===n?I.top="50%":"y"===n&&(I.left="50%");var O={track:En({},FQ[n].track,{},m.track),active:En({},FQ[n].active,{},m.active),thumb:En({},FQ[n].thumb,{},m.thumb),disabled:En({},FQ.disabled,{},m.disabled)};return OQ("div",En({},y,{ref:b,css:fQ([O.track,r&&O.disabled],";label:Slider;"),onTouchStart:A,onMouseDown:A}),OQ("div",{css:O.active,style:P}),OQ("div",{ref:S,style:I,onTouchStart:k,onMouseDown:k,onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},OQ("div",{css:O.thumb})))};UQ.defaultProps={disabled:!1,axis:"x",x:50,xmin:0,xmax:100,y:50,ymin:0,ymax:100,xstep:1,ystep:1,xreverse:!1,yreverse:!1,styles:{}};var BQ=UQ,GQ=function(e){var t=e.volume,r=e.onVolumeChange,n=e.disabled;return(0,uw.jsxs)("div",{className:"flex w-full items-center space-x-4",children:[(0,uw.jsx)("div",{className:"inline-flex h-5 w-5",children:t>0?(0,uw.jsx)(BZ,{className:"h-full w-full"}):(0,uw.jsx)(QZ,{className:"h-full w-full"})}),(0,uw.jsx)("div",{className:"inline-flex flex-grow cursor-pointer",children:(0,uw.jsx)(BQ,{axis:"x",disabled:n,x:t,xmin:0,xmax:1,xstep:.01,onChange:function(e){var t=e.x;r(t)},styles:{track:{backgroundColor:"rgb(209 213 219)",width:"100%",height:4},active:{backgroundColor:"rgb(55 65 81)"},thumb:{width:16,height:16,backgroundColor:"rgb(17 24 39)",boxShadow:"none"},disabled:{opacity:.5}}})})]})},VQ=function(e){var t=e.tabs,r=e.currentTabValue;return(0,uw.jsx)("div",{children:(0,uw.jsx)("nav",{className:"flex","aria-label":"Tabs",children:t.map((function(e){var t;return(0,uw.jsx)("button",{className:Dn(e.value===r?"border-b-main-500 text-main-600":"border-b-transparent text-gray-600 hover:border-b-gray-700 hover:bg-gray-100 hover:text-gray-900","w-1/4 flex-grow border-b-2 px-1 py-3 text-center text-sm font-medium transition-all"),onClick:e.onSelect,children:null!==(t=e.displayNode)&&void 0!==t?t:Sn.StringH.capitalizeStr(e.value)},e.value)}))})})},HQ=function(e){var t=e.tabs,r=e.currentTabValue,n=e.content,i=e.id;return(0,uw.jsxs)("div",{className:"flex w-full flex-grow flex-col overflow-hidden border-t border-gray-100",children:[(0,uw.jsx)("div",{className:"flex-shrink-0",children:(0,uw.jsx)(VQ,{tabs:t,currentTabValue:r})}),(0,uw.jsx)("div",{className:"flex-grow overflow-y-auto",id:i,children:(0,uw.jsx)("div",{children:n})})]})},WQ="https://storage.googleapis.com/videogen-assets/videogen-music-library-1/",qQ=[{audioUrl:"".concat(WQ,"adrenaline-rush_-a-fast-paced-and-high-energy-track-with-driving-beats-electric-guitar-and-pulsating-synths-perfect-for-action-and-excitement._072024.mp3"),category:"Energetic",imgUrl:"".concat(WQ,"song-covers/128x/Adrenaline Rush.jpeg"),title:"Adrenaline Rush",description:"A fast-paced and high-energy track with driving beats, electric guitar, and pulsating synths. Perfect for action and excitement."},{audioUrl:"".concat(WQ,"bright-and-cheerful_-a-joyful-and-upbeat-track-with-lively-piano-catchy-melodies-and-a-happy-rhythm-perfect-for-creating-a-positive-and-cheerful-atmosphere._072024.mp3"),category:"Happy",imgUrl:"".concat(WQ,"song-covers/128x/Bright and Cheerful.jpeg"),title:"Bright and Cheerful",description:"A joyful and upbeat track with lively piano, catchy melodies, and a happy rhythm. Perfect for creating a positive and cheerful atmosphere."},{audioUrl:"".concat(WQ,"broken-dreams_-a-haunting-and-emotional-melody-with-soft-violin-gentle-harp-and-a-slow-melancholic-rhythm-great-for-sad-and-heartbreaking-scenes._072024.mp3"),category:"Sad",imgUrl:"".concat(WQ,"song-covers/128x/Broken Dreams.jpeg"),title:"Broken Dreams",description:"A haunting and emotional melody with soft violin, gentle harp, and a slow, melancholic rhythm. Great for sad and heartbreaking scenes."},{audioUrl:"".concat(WQ,"calm-reflections_-a-serene-and-reflective-track-with-smooth-piano-gentle-chimes-and-a-peaceful-ambiance-great-for-contemplative-and-calm-scenes._072024.mp3"),category:"Calm",imgUrl:"".concat(WQ,"song-covers/128x/Calm Reflections.jpeg"),title:"Calm Reflections",description:"A serene and reflective track with smooth piano, gentle chimes, and a peaceful ambiance. Great for contemplative and calm scenes."},{audioUrl:"".concat(WQ,"creeping-dread_-a-dark-and-eerie-track-with-haunting-piano-atmospheric-synths-and-a-slow-tense-tempo-great-for-creating-a-sense-of-fear-and-suspense._072024.mp3"),category:"Suspense",imgUrl:"".concat(WQ,"song-covers/128x/Creeping Dread.jpeg"),title:"Creeping Dread",description:"A dark and eerie track with haunting piano, atmospheric synths, and a slow, tense tempo. Great for creating a sense of fear and suspense."},{audioUrl:"".concat(WQ,"dark-secrets_-a-mysterious-and-intense-melody-with-haunting-piano-eerie-synths-and-a-slow-suspenseful-tempo-ideal-for-dark-and-dramatic-content._072024.mp3"),category:"Dramatic",imgUrl:"".concat(WQ,"song-covers/128x/Dark Secrets.jpeg"),title:"Dark Secrets",description:"A mysterious and intense melody with haunting piano, eerie synths, and a slow, suspenseful tempo. Ideal for dark and dramatic content."},{audioUrl:"".concat(WQ,"dream-chaser_-a-motivating-and-uplifting-tune-with-rhythmic-percussion-melodic-piano-and-inspiring-harmonies-ideal-for-goal-setting-and-personal-growth._072024.mp3"),category:"Inspirational",imgUrl:"".concat(WQ,"song-covers/128x/Dream Chaser.jpeg"),title:"Dream Chaser",description:"A motivating and uplifting tune with rhythmic percussion, melodic piano, and inspiring harmonies. Ideal for goal setting and personal growth."},{audioUrl:"".concat(WQ,"edge-of-danger_-a-tense-and-suspenseful-track-with-dark-synths-pulsating-beats-and-an-ominous-melody-perfect-for-thrilling-and-high-stakes-scenes._072024.mp3"),category:"Suspense",imgUrl:"".concat(WQ,"song-covers/128x/Edge of Danger.jpeg"),title:"Edge of Danger",description:"A tense and suspenseful track with dark synths, pulsating beats, and an ominous melody. Perfect for thrilling and high-stakes scenes."},{audioUrl:"".concat(WQ,"emotional-climax_-a-deep-and-moving-melody-with-expressive-strings-grand-piano-and-a-build-up-to-a-dramatic-crescendo-ideal-for-emotional-and-pivotal-moments._072024.mp3"),category:"Dramatic",imgUrl:"".concat(WQ,"song-covers/128x/Emotional Climax.jpeg"),title:"Emotional Climax",description:"A deep and moving melody with expressive strings, grand piano, and a build-up to a dramatic crescendo. Ideal for emotional and pivotal moments."},{audioUrl:"".concat(WQ,"epic-battle_-a-powerful-and-intense-track-with-dramatic-orchestral-elements-pounding-drums-and-a-sense-of-urgency-perfect-for-high-stakes-and-action-packed-scenes._072024.mp3"),category:"Dramatic",imgUrl:"".concat(WQ,"song-covers/128x/Epic Battle.jpeg"),title:"Epic Battle",description:"A powerful and intense track with dramatic orchestral elements, pounding drums, and a sense of urgency. Perfect for high-stakes and action-packed scenes."},{audioUrl:"".concat(WQ,"full-throttle_-a-vigorous-and-lively-track-with-fast-tempo-energetic-synths-and-a-powerful-beat-ideal-for-fast-paced-and-adventurous-scenes._072024.mp3"),category:"Energetic",imgUrl:"".concat(WQ,"song-covers/128x/Full Throttle.jpeg"),title:"Full Throttle",description:"A vigorous and lively track with fast tempo, energetic synths, and a powerful beat. Ideal for fast-paced and adventurous scenes."},{audioUrl:"".concat(WQ,"fun-and-frolic_-a-dynamic-high-energy-track-with-peppy-synths-driving-beats-and-an-infectious-melody-that-makes-you-want-to-dance._072024.mp3"),category:"Happy",imgUrl:"".concat(WQ,"song-covers/128x/Fun and Frolic.jpeg"),title:"Fun and Frolic",description:"A dynamic, high-energy track with peppy synths, driving beats, and an infectious melody that makes you want to dance."},{audioUrl:"".concat(WQ,"gentle-breezes_-a-light-and-airy-track-with-soft-flute-gentle-harp-and-a-calming-rhythm-perfect-for-creating-a-serene-and-relaxing-atmosphere._072024.mp3"),category:"Calm",imgUrl:"".concat(WQ,"song-covers/128x/Gentle Breezes.jpeg"),title:"Gentle Breezes",description:"A light and airy track with soft flute, gentle harp, and a calming rhythm. Perfect for creating a serene and relaxing atmosphere."},{audioUrl:"".concat(WQ,"happy-go-lucky_-a-cheerful-and-bright-tune-with-ukulele-whistles-and-a-steady-rhythm-perfect-for-creating-a-carefree-and-joyful-atmosphere._072024.mp3"),category:"Happy",imgUrl:"".concat(WQ,"song-covers/128x/Happy Go Lucky.jpeg"),title:"Happy Go Lucky",description:"A cheerful and bright tune with ukulele, whistles, and a steady rhythm. Perfect for creating a carefree and joyful atmosphere."},{audioUrl:"".concat(WQ,"happy-vibes_-a-cheerful-and-energetic-track-with-catchy-guitar-dynamic-drums-and-a-feel-good-melody-ideal-for-positive-and-happy-themes._072024.mp3"),category:"Happy",imgUrl:"".concat(WQ,"song-covers/128x/Happy Vibes.jpeg"),title:"Happy Vibes",description:"A cheerful and energetic track with catchy guitar, dynamic drums, and a feel-good melody. Ideal for positive and happy themes."},{audioUrl:"".concat(WQ,"heartfelt-lament_-a-touching-and-poignant-track-with-delicate-acoustic-guitar-soft-strings-and-a-slow-sad-tempo-ideal-for-emotional-and-sad-content._072024.mp3"),category:"Sad",imgUrl:"".concat(WQ,"song-covers/128x/Heartfelt Lament.jpeg"),title:"Heartfelt Lament",description:"A touching and poignant track with delicate acoustic guitar, soft strings, and a slow, sad tempo. Ideal for emotional and sad content."},{audioUrl:"".concat(WQ,"heroic-anthem_-a-bold-and-triumphant-track-with-strong-brass-dynamic-percussion-and-a-powerful-melody-perfect-for-heroic-and-dramatic-themes._072024.mp3"),category:"Dramatic",imgUrl:"".concat(WQ,"song-covers/128x/Heroic Anthem.jpeg"),title:"Heroic Anthem",description:"A bold and triumphant track with strong brass, dynamic percussion, and a powerful melody. Perfect for heroic and dramatic themes."},{audioUrl:"".concat(WQ,"hidden-threat_-a-mysterious-and-brooding-tune-with-eerie-sounds-tense-strings-and-a-slow-suspenseful-rhythm-great-for-building-tension-and-anticipation._072024.mp3"),category:"Suspense",imgUrl:"".concat(WQ,"song-covers/128x/Hidden Threat.jpeg"),title:"Hidden Threat",description:"A mysterious and brooding tune with eerie sounds, tense strings, and a slow, suspenseful rhythm. Great for building tension and anticipation."},{audioUrl:"".concat(WQ,"high-voltage_-a-dynamic-and-charged-melody-with-rapid-beats-electric-guitar-riffs-and-a-thrilling-rhythm-perfect-for-energetic-and-thrilling-content._072024.mp3"),category:"Energetic",imgUrl:"".concat(WQ,"song-covers/128x/High Voltage.jpeg"),title:"High Voltage",description:"A dynamic and charged melody with rapid beats, electric guitar riffs, and a thrilling rhythm. Perfect for energetic and thrilling content."},{audioUrl:"".concat(WQ,"hopeful-horizon_-a-serene-and-inspiring-track-with-gentle-acoustic-guitar-soft-strings-and-a-calm-steady-rhythm-great-for-hopeful-and-aspirational-themes._072024.mp3"),category:"Inspirational",imgUrl:"".concat(WQ,"song-covers/128x/Hopeful Horizon.jpeg"),title:"Hopeful Horizon",description:"A serene and inspiring track with gentle acoustic guitar, soft strings, and a calm, steady rhythm. Great for hopeful and aspirational themes."},{audioUrl:"".concat(WQ,"intensity-peak_-an-intense-and-powerful-track-with-driving-drums-bold-synths-and-an-energetic-melody-great-for-high-energy-and-action-packed-scenes._072024.mp3"),category:"Energetic",imgUrl:"".concat(WQ,"song-covers/128x/Intensity Peak.jpeg"),title:"Intensity Peak",description:"An intense and powerful track with driving drums, bold synths, and an energetic melody. Great for high-energy and action-packed scenes."},{audioUrl:"".concat(WQ,"joyful-celebration_-an-energetic-and-festive-track-with-lively-piano-vibrant-horns-and-rhythmic-claps-great-for-parties-and-celebrations._072024.mp3"),category:"Happy",imgUrl:"".concat(WQ,"song-covers/128x/Joyful Celebration.jpeg"),title:"Joyful Celebration",description:"An energetic and festive track with lively piano, vibrant horns, and rhythmic claps. Great for parties and celebrations."},{audioUrl:"".concat(WQ,"joyful-moments_-a-vibrant-and-happy-track-with-playful-synths-rhythmic-claps-and-a-cheerful-melody-great-for-happy-and-carefree-scenes._072024.mp3"),category:"Happy",imgUrl:"".concat(WQ,"song-covers/128x/Joyful Moments.jpeg"),title:"Joyful Moments",description:"A vibrant and happy track with playful synths, rhythmic claps, and a cheerful melody. Great for happy and carefree scenes."},{audioUrl:"".concat(WQ,"melancholic-reflections_-a-sorrowful-and-emotive-track-with-soft-piano-expressive-strings-and-a-slow-reflective-tempo-perfect-for-sad-and-contemplative-scenes._072024.mp3"),category:"Sad",imgUrl:"".concat(WQ,"song-covers/128x/Melancholic Reflections.jpeg"),title:"Melancholic Reflections",description:"A sorrowful and emotive track with soft piano, expressive strings, and a slow, reflective tempo. Perfect for sad and contemplative scenes."},{audioUrl:"".concat(WQ,"peaceful-waters_-a-calm-and-soothing-track-with-gentle-piano-soft-strings-and-ambient-sounds-of-water-ideal-for-relaxation-and-meditation._072024.mp3"),category:"Calm",imgUrl:"".concat(WQ,"song-covers/128x/Peaceful Waters.jpeg"),title:"Peaceful Waters",description:"A calm and soothing track with gentle piano, soft strings, and ambient sounds of water. Ideal for relaxation and meditation."},{audioUrl:"".concat(WQ,"playful-day_-a-fun-and-lively-tune-with-bright-ukulele-melodic-bells-and-an-upbeat-rhythm-perfect-for-joyful-and-playful-content._072024.mp3"),category:"Happy",imgUrl:"".concat(WQ,"song-covers/128x/Playful Day.jpeg"),title:"Playful Day",description:"A fun and lively tune with bright ukulele, melodic bells, and an upbeat rhythm. Perfect for joyful and playful content."},{audioUrl:"".concat(WQ,"power-surge_-an-intense-and-electrifying-tune-with-strong-percussion-dynamic-bass-and-a-vibrant-melody-great-for-high-energy-and-motivating-content._072024.mp3"),category:"Energetic",imgUrl:"".concat(WQ,"song-covers/128x/Power Surge.jpeg"),title:"Power Surge",description:"An intense and electrifying tune with strong percussion, dynamic bass, and a vibrant melody. Great for high-energy and motivating content."},{audioUrl:"".concat(WQ,"rise-to-greatness_-a-powerful-and-uplifting-track-with-soaring-strings-grand-piano-and-a-steady-motivating-beat-ideal-for-inspirational-and-motivational-content._072024.mp3"),category:"Inspirational",imgUrl:"".concat(WQ,"song-covers/128x/Rise to Greatness.jpeg"),title:"Rise to Greatness",description:"A powerful and uplifting track with soaring strings, grand piano, and a steady, motivating beat. Ideal for inspirational and motivational content."},{audioUrl:"".concat(WQ,"serene-sunset_-a-mellow-and-tranquil-tune-with-acoustic-guitar-subtle-synths-and-a-slow-steady-rhythm-perfect-for-unwinding-and-relaxation._072024.mp3"),category:"Calm",imgUrl:"".concat(WQ,"song-covers/128x/Serene Sunset.jpeg"),title:"Serene Sunset",description:"A mellow and tranquil tune with acoustic guitar, subtle synths, and a slow, steady rhythm. Perfect for unwinding and relaxation."},{audioUrl:"".concat(WQ,"sorrowful-memories_-a-melancholic-and-reflective-tune-with-gentle-piano-subtle-synths-and-a-sorrowful-ambiance-perfect-for-conveying-sadness-and-longing._072024.mp3"),category:"Sad",imgUrl:"".concat(WQ,"song-covers/128x/Sorrowful Memories.jpeg"),title:"Sorrowful Memories",description:"A melancholic and reflective tune with gentle piano, subtle synths, and a sorrowful ambiance. Perfect for conveying sadness and longing."},{audioUrl:"".concat(WQ,"sunny-day_-an-upbeat-happy-track-with-a-strong-beat-catchy-melodies-and-a-feel-good-vibe-ideal-for-positive-and-motivational-content._072024.mp3"),category:"Happy",imgUrl:"".concat(WQ,"song-covers/128x/Sunny Day.jpeg"),title:"Sunny Day",description:"An upbeat, happy track with a strong beat, catchy melodies, and a feel-good vibe. Ideal for positive and motivational content."},{audioUrl:"".concat(WQ,"sunshine-smiles_-a-light-and-happy-tune-with-acoustic-guitar-whistles-and-a-bouncy-beat-ideal-for-uplifting-and-joyful-content._072024.mp3"),category:"Happy",imgUrl:"".concat(WQ,"song-covers/128x/Sunshine Smiles.jpeg"),title:"Sunshine Smiles",description:"A light and happy tune with acoustic guitar, whistles, and a bouncy beat. Ideal for uplifting and joyful content."},{audioUrl:"".concat(WQ,"suspenseful-tension_-a-dark-and-brooding-tune-with-ominous-synths-tense-strings-and-a-pulsating-rhythm-great-for-suspenseful-and-thrilling-scenes._072024.mp3"),category:"Suspense",imgUrl:"".concat(WQ,"song-covers/128x/Suspenseful Tension.jpeg"),title:"Suspenseful Tension",description:"A dark and brooding tune with ominous synths, tense strings, and a pulsating rhythm. Great for suspenseful and thrilling scenes."},{audioUrl:"".concat(WQ,"tears-of-solitude_-a-deep-and-emotional-melody-with-mournful-cello-gentle-piano-and-a-somber-rhythm-great-for-expressing-sadness-and-loss._072024.mp3"),category:"Sad",imgUrl:"".concat(WQ,"song-covers/128x/Tears of Solitude.jpeg"),title:"Tears of Solitude",description:"A deep and emotional melody with mournful cello, gentle piano, and a somber rhythm. Great for expressing sadness and loss."},{audioUrl:"".concat(WQ,"tranquil-moments_-a-soothing-and-restful-melody-with-soft-acoustic-guitar-delicate-strings-and-a-relaxing-tempo-ideal-for-peaceful-and-serene-content._072024.mp3"),category:"Calm",imgUrl:"".concat(WQ,"song-covers/128x/Tranquil Moments.jpeg"),title:"Tranquil Moments",description:"A soothing and restful melody with soft acoustic guitar, delicate strings, and a relaxing tempo. Ideal for peaceful and serene content."},{audioUrl:"".concat(WQ,"triumphant-journey_-an-epic-and-emotional-melody-with-orchestral-elements-building-crescendos-and-a-sense-of-achievement-perfect-for-success-stories._072024.mp3"),category:"Inspirational",imgUrl:"".concat(WQ,"song-covers/128x/Triumphant Journey.jpeg"),title:"Triumphant Journey",description:"An epic and emotional melody with orchestral elements, building crescendos, and a sense of achievement. Perfect for success stories."},{audioUrl:"".concat(WQ,"under-pressure_-a-dramatic-and-intense-melody-with-strong-drums-deep-bass-and-a-tense-rhythm-perfect-for-high-pressure-and-suspenseful-content._072024.mp3"),category:"Suspense",imgUrl:"".concat(WQ,"song-covers/128x/Under Pressure.jpeg"),title:"Under Pressure",description:"A dramatic and intense melody with strong drums, deep bass, and a tense rhythm. Perfect for high-pressure and suspenseful content."},{audioUrl:"".concat(WQ,"victorious-spirit_-an-encouraging-and-rousing-track-with-bold-brass-dynamic-drums-and-an-empowering-melody-perfect-for-overcoming-challenges-and-triumph._072024.mp3"),category:"Inspirational",imgUrl:"".concat(WQ,"song-covers/128x/Victorious Spirit.jpeg"),title:"Victorious Spirit",description:"An encouraging and rousing track with bold brass, dynamic drums, and an empowering melody. Perfect for overcoming challenges and triumph."},{audioUrl:"".concat(WQ,"chill-pop-beat_-a-catchy-and-mellow-tune-with-soft-drums-melodic-synths-and-a-relaxed-rhythm-great-for-creating-a-chilled-out-and-enjoyable-vibe._072024.mp3"),category:"Beats",imgUrl:"".concat(WQ,"song-covers/128x/Chill Pop Beat.jpeg"),title:"Chill Pop Beat",description:"A catchy and mellow tune with soft drums, melodic synths, and a relaxed rhythm. Great for creating a chilled-out and enjoyable vibe."},{audioUrl:"".concat(WQ,"urban-jazz_-a-smooth-and-modern-track-with-jazzy-elements-soft-beats-and-a-chill-urban-vibe-ideal-for-stylish-and-laid-back-content._072024.mp3"),category:"Beats",imgUrl:"".concat(WQ,"song-covers/128x/Urban Jazz.jpeg"),title:"Urban Jazz",description:"A smooth and modern track with jazzy elements, soft beats, and a chill urban vibe. Ideal for stylish and laid-back content."},{audioUrl:"".concat(WQ,"soft-echoes_-a-gentle-and-reflective-track-with-smooth-beats-ambient-pads-and-a-chill-soothing-tempo-ideal-for-calm-and-introspective-content._072024.mp3"),category:"Calm",imgUrl:"".concat(WQ,"song-covers/128x/Soft Echoes.jpeg"),title:"Soft Echoes",description:"A gentle and reflective track with smooth beats, ambient pads, and a chill, soothing tempo. Ideal for calm and introspective content."},{audioUrl:"".concat(WQ,"sunset-vibes_-a-mellow-and-warm-tune-with-soft-drums-relaxing-keys-and-a-calming-rhythm-perfect-for-unwinding-and-serene-moments._072024.mp3"),category:"Beats",imgUrl:"".concat(WQ,"song-covers/128x/Sunset Vibes.jpeg"),title:"Sunset Vibes",description:"A mellow and warm tune with soft drums, relaxing keys, and a calming rhythm. Perfect for unwinding and serene moments."},{audioUrl:"".concat(WQ,"smooth-grooves_-a-laid-back-and-groovy-track-with-jazzy-guitar-soft-percussion-and-a-relaxed-tempo-great-for-creating-a-chilled-out-and-stylish-atmosphere._072024.mp3"),category:"Beats",imgUrl:"".concat(WQ,"song-covers/128x/Smooth Grooves.jpeg"),title:"Smooth Grooves",description:"A laid-back and groovy track with jazzy guitar, soft percussion, and a relaxed tempo. Great for creating a chilled-out and stylish atmosphere."},{audioUrl:"".concat(WQ,"groove-wave_-a-catchy-and-vibrant-track-with-rhythmic-basslines-soft-percussion-and-a-chill-groovy-beat-ideal-for-upbeat-and-fun-content._072024.mp3"),category:"Beats",imgUrl:"".concat(WQ,"song-covers/128x/Groove Wave.jpeg"),title:"Groove Wave",description:"A catchy and vibrant track with rhythmic basslines, soft percussion, and a chill, groovy beat. Ideal for upbeat and fun content."},{audioUrl:"".concat(WQ,"easy-flow_-a-relaxed-and-groovy-tune-with-soft-percussion-smooth-guitar-and-a-chill-steady-rhythm-ideal-for-creating-a-calm-and-laid-back-atmosphere._072024.mp3"),category:"Beats",imgUrl:"".concat(WQ,"song-covers/128x/Easy Flow.jpeg"),title:"Easy Flow",description:"A relaxed and groovy tune with soft percussion, smooth guitar, and a chill, steady rhythm. Ideal for creating a calm and laid-back atmosphere."},{audioUrl:"".concat(WQ,"midnight-chill_-a-smooth-and-laid-back-track-with-gentle-beats-mellow-synths-and-a-relaxed-tempo-perfect-for-late-night-and-introspective-content._072024.mp3"),category:"Beats",imgUrl:"".concat(WQ,"song-covers/128x/Midnight Chill.jpeg"),title:"Midnight Chill",description:"A smooth and laid-back track with gentle beats, mellow synths, and a relaxed tempo. Perfect for late-night and introspective content."},{audioUrl:"".concat(WQ,"wistful-memories_-a-nostalgic-and-melancholic-track-with-gentle-guitar-ambient-pads-and-a-sorrowful-rhythm-ideal-for-reflecting-on-past-memories-and-moments._072024.mp3"),category:"Sad",imgUrl:"".concat(WQ,"song-covers/128x/Wistful Memories.jpeg"),title:"Wistful Memories",description:"A nostalgic and melancholic track with gentle guitar, ambient pads, and a sorrowful rhythm. Ideal for reflecting on past memories and moments."},{audioUrl:"".concat(WQ,"mourning-echoes_-a-haunting-and-emotional-melody-with-soft-flute-subtle-synths-and-a-slow-reflective-tempo-perfect-for-conveying-a-sense-of-mourning-and-reflection._072024.mp3"),category:"Sad",imgUrl:"".concat(WQ,"song-covers/128x/Mourning Echoes.jpeg"),title:"Mourning Echoes",description:"A haunting and emotional melody with soft flute, subtle synths, and a slow, reflective tempo. Perfect for conveying a sense of mourning and reflection."},{audioUrl:"".concat(WQ,"heartache_-a-deep-and-sorrowful-tune-with-mournful-cello-gentle-piano-and-a-slow-sad-rhythm-great-for-expressing-heartbreak-and-sadness._072024.mp3"),category:"Sad",imgUrl:"".concat(WQ,"song-covers/128x/Heartache.jpeg"),title:"Heartache",description:"A deep and sorrowful tune with mournful cello, gentle piano, and a slow, sad rhythm. Great for expressing heartbreak and sadness."},{audioUrl:"".concat(WQ,"tearful-goodbye_-a-touching-and-poignant-melody-with-gentle-acoustic-guitar-soft-violin-and-a-sorrowful-tempo-ideal-for-themes-of-loss-and-farewell._072024.mp3"),category:"Sad",imgUrl:"".concat(WQ,"song-covers/128x/Tearful Goodbye.jpeg"),title:"Tearful Goodbye",description:"A touching and poignant melody with gentle acoustic guitar, soft violin, and a sorrowful tempo. Ideal for themes of loss and farewell."},{audioUrl:"".concat(WQ,"lonely-nights_-a-melancholic-and-emotional-track-with-soft-piano-expressive-strings-and-a-slow-somber-rhythm-perfect-for-conveying-sadness-and-solitude._072024.mp3"),category:"Sad",imgUrl:"".concat(WQ,"song-covers/128x/Lonely Nights.jpeg"),title:"Lonely Nights",description:"A melancholic and emotional track with soft piano, expressive strings, and a slow, somber rhythm. Perfect for conveying sadness and solitude."},{audioUrl:"".concat(WQ,"adrenaline-boost_-a-vigorous-and-lively-tune-with-fast-tempo-energetic-synths-and-a-powerful-beat-ideal-for-high-energy-and-exciting-scenes._072024.mp3"),category:"Energetic",imgUrl:"".concat(WQ,"song-covers/128x/Adrenaline Boost.jpeg"),title:"Adrenaline Boost",description:"A vigorous and lively tune with fast tempo, energetic synths, and a powerful beat. Ideal for high-energy and exciting scenes."},{audioUrl:"".concat(WQ,"electric-surge_-a-powerful-and-intense-melody-with-strong-basslines-dynamic-drums-and-a-vibrant-beat-perfect-for-high-energy-and-thrilling-content._072024.mp3"),category:"Energetic",imgUrl:"".concat(WQ,"song-covers/128x/Electric Surge.jpeg"),title:"Electric Surge",description:"A powerful and intense melody with strong basslines, dynamic drums, and a vibrant beat. Perfect for high-energy and thrilling content."},{audioUrl:"".concat(WQ,"vibrant-rush_-a-lively-and-spirited-track-with-catchy-melodies-rhythmic-claps-and-an-upbeat-tempo-great-for-fun-and-energetic-scenes._072024.mp3"),category:"Energetic",imgUrl:"".concat(WQ,"song-covers/128x/Vibrant Rush.jpeg"),title:"Vibrant Rush",description:"A lively and spirited track with catchy melodies, rhythmic claps, and an upbeat tempo. Great for fun and energetic scenes."},{audioUrl:"".concat(WQ,"pulse-racer_-an-electrifying-and-dynamic-tune-with-rapid-beats-energetic-synths-and-a-thrilling-rhythm-ideal-for-high-energy-and-adventurous-content._072024.mp3"),category:"Energetic",imgUrl:"".concat(WQ,"song-covers/128x/Pulse Racer.jpeg"),title:"Pulse Racer",description:"An electrifying and dynamic tune with rapid beats, energetic synths, and a thrilling rhythm. Ideal for high-energy and adventurous content."},{audioUrl:"".concat(WQ,"high-octane_-a-fast-paced-and-high-energy-track-with-driving-beats-electric-guitar-and-pulsating-synths-perfect-for-action-packed-and-exciting-scenes._072024.mp3"),category:"Energetic",imgUrl:"".concat(WQ,"song-covers/128x/High Octane.jpeg"),title:"High Octane",description:"A fast-paced and high-energy track with driving beats, electric guitar, and pulsating synths. Perfect for action-packed and exciting scenes."},{audioUrl:"".concat(WQ,"dark-mystery_-a-haunting-and-mysterious-melody-with-eerie-piano-ominous-synths-and-a-slow-suspenseful-tempo-ideal-for-creating-a-sense-of-intrigue-and-drama._072024.mp3"),category:"Suspense",imgUrl:"".concat(WQ,"song-covers/128x/Dark Mystery.jpeg"),title:"Dark Mystery",description:"A haunting and mysterious melody with eerie piano, ominous synths, and a slow, suspenseful tempo. Ideal for creating a sense of intrigue and drama."},{audioUrl:"".concat(WQ,"heroic-triumph_-a-bold-and-powerful-track-with-strong-brass-dynamic-percussion-and-a-victorious-melody-perfect-for-themes-of-heroism-and-triumph._072024.mp3"),category:"Dramatic",imgUrl:"".concat(WQ,"song-covers/128x/Heroic Triumph.jpeg"),title:"Heroic Triumph",description:"A bold and powerful track with strong brass, dynamic percussion, and a victorious melody. Perfect for themes of heroism and triumph."},{audioUrl:"".concat(WQ,"tension-rising_-a-suspenseful-and-gripping-tune-with-dark-synths-tense-strings-and-a-pulsating-rhythm-great-for-building-anticipation-and-drama._072024.mp3"),category:"Suspense",imgUrl:"".concat(WQ,"song-covers/128x/Tension Rising.jpeg"),title:"Tension Rising",description:"A suspenseful and gripping tune with dark synths, tense strings, and a pulsating rhythm. Great for building anticipation and drama."},{audioUrl:"".concat(WQ,"climactic-battle_-an-intense-and-powerful-track-with-dramatic-orchestral-elements-thundering-drums-and-a-sense-of-urgency-perfect-for-epic-and-high-stakes-scenes._072024.mp3"),category:"Dramatic",imgUrl:"".concat(WQ,"song-covers/128x/Climactic Battle.jpeg"),title:"Climactic Battle",description:"An intense and powerful track with dramatic orchestral elements, thundering drums, and a sense of urgency. Perfect for epic and high-stakes scenes."},{audioUrl:"".concat(WQ,"nature's-lullaby_-a-calming-and-natural-tune-with-gentle-flutes-ambient-nature-sounds-and-a-slow-relaxing-beat-ideal-for-content-promoting-relaxation-and-mindfulness._072024.mp3"),category:"Calm",imgUrl:"".concat(WQ,"song-covers/128x/Nature's Lullaby.jpeg"),title:"Nature's Lullaby",description:"A calming and natural tune with gentle flutes, ambient nature sounds, and a slow, relaxing beat. Ideal for content promoting relaxation and mindfulness."},{audioUrl:"".concat(WQ,"restful-night_-a-tranquil-and-serene-melody-with-soft-harp-ambient-pads-and-a-slow-gentle-rhythm-perfect-for-creating-a-peaceful-atmosphere._072024.mp3"),category:"Calm",imgUrl:"".concat(WQ,"song-covers/128x/Restful Night.jpeg"),title:"Restful Night",description:"A tranquil and serene melody with soft harp, ambient pads, and a slow, gentle rhythm. Perfect for creating a peaceful atmosphere."},{audioUrl:"".concat(WQ,"quiet-moments_-a-soft-and-mellow-track-with-acoustic-guitar-gentle-chimes-and-a-soothing-rhythm-great-for-calm-and-reflective-scenes._072024.mp3"),category:"Calm",imgUrl:"".concat(WQ,"song-covers/128x/Quiet Moments.jpeg"),title:"Quiet Moments",description:"A soft and mellow track with acoustic guitar, gentle chimes, and a soothing rhythm. Great for calm and reflective scenes."},{audioUrl:"".concat(WQ,"evening-serenity_-a-peaceful-and-calming-tune-with-gentle-piano-subtle-strings-and-a-slow-relaxing-tempo-ideal-for-unwinding-and-peaceful-moments._072024.mp3"),category:"Calm",imgUrl:"".concat(WQ,"song-covers/128x/Evening Serenity.jpeg"),title:"Evening Serenity",description:"A peaceful and calming tune with gentle piano, subtle strings, and a slow, relaxing tempo. Ideal for unwinding and peaceful moments."},{audioUrl:"".concat(WQ,"gentle-waves_-a-serene-and-soothing-track-with-the-sound-of-soft-waves-mellow-guitar-and-ambient-synths-perfect-for-relaxation-and-tranquility._072024.mp3"),category:"Calm",imgUrl:"".concat(WQ,"song-covers/128x/Gentle Waves.jpeg"),title:"Gentle Waves",description:"A serene and soothing track with the sound of soft waves, mellow guitar, and ambient synths. Perfect for relaxation and tranquility."},{audioUrl:"".concat(WQ,"hopeful-journey_-an-encouraging-and-optimistic-melody-with-gentle-guitar-soft-synths-and-a-bright-uplifting-rhythm-ideal-for-themes-of-hope-and-new-beginnings._072024.mp3"),category:"Inspirational",imgUrl:"".concat(WQ,"song-covers/128x/Hopeful Journey.jpeg"),title:"Hopeful Journey",description:"An encouraging and optimistic melody with gentle guitar, soft synths, and a bright, uplifting rhythm. Ideal for themes of hope and new beginnings."},{audioUrl:"".concat(WQ,"limitless-dreams_-a-soaring-and-aspirational-track-with-uplifting-strings-dynamic-piano-and-an-inspiring-beat-perfect-for-ambitious-and-goal-driven-content._072024.mp3"),category:"Inspirational",imgUrl:"".concat(WQ,"song-covers/128x/Limitless Dreams.jpeg"),title:"Limitless Dreams",description:"A soaring and aspirational track with uplifting strings, dynamic piano, and an inspiring beat. Perfect for ambitious and goal-driven content."},{audioUrl:"".concat(WQ,"courageous-heart_-an-empowering-and-heartening-tune-with-bold-brass-rhythmic-drums-and-a-triumphant-melody-great-for-stories-of-bravery-and-perseverance._072024.mp3"),category:"Inspirational",imgUrl:"".concat(WQ,"song-covers/128x/Courageous Heart.jpeg"),title:"Courageous Heart",description:"An empowering and heartening tune with bold brass, rhythmic drums, and a triumphant melody. Great for stories of bravery and perseverance."},{audioUrl:"".concat(WQ,"new-beginnings_-a-hopeful-and-encouraging-melody-with-gentle-guitar-soft-synths-and-a-bright-positive-rhythm-ideal-for-themes-of-fresh-starts-and-new-opportunities._072024.mp3"),category:"Inspirational",imgUrl:"".concat(WQ,"song-covers/128x/New Beginnings.jpeg"),title:"New Beginnings",description:"A hopeful and encouraging melody with gentle guitar, soft synths, and a bright, positive rhythm. Ideal for themes of fresh starts and new opportunities."},{audioUrl:"".concat(WQ,"path-to-success_-an-uplifting-track-with-motivational-piano-steady-percussion-and-soaring-strings-perfect-for-content-that-inspires-progress-and-achievement._072024.mp3"),category:"Inspirational",imgUrl:"".concat(WQ,"song-covers/128x/Path to Success.jpeg"),title:"Path to Success",description:"An uplifting track with motivational piano, steady percussion, and soaring strings. Perfect for content that inspires progress and achievement."},{audioUrl:"".concat(WQ,"urban-groove_-a-catchy-and-rhythmic-track-with-strong-basslines-vibrant-synths-and-a-steady-infectious-beat-perfect-for-urban-and-street-style-content._072024.mp3"),category:"Beats",imgUrl:"".concat(WQ,"song-covers/128x/Urban Groove.jpeg"),title:"Urban Groove",description:"A catchy and rhythmic track with strong basslines, vibrant synths, and a steady, infectious beat. Perfect for urban and street-style content."},{audioUrl:"".concat(WQ,"pursuit_-a-fast-paced-and-intense-track-with-driving-percussion-dark-synths-and-a-thrilling-melody-ideal-for-chase-and-action-scenes._072024.mp3"),category:"Suspense",imgUrl:"".concat(WQ,"song-covers/128x/Pursuit.jpeg"),title:"Pursuit",description:"A fast-paced and intense track with driving percussion, dark synths, and a thrilling melody. Ideal for chase and action scenes."},{audioUrl:"".concat(WQ,"bouncy-and-playful_-a-lively-cheerful-tune-with-a-fast-tempo-featuring-bright-acoustic-guitar-and-light-percussion-perfect-for-energizing-and-playful-scenes._072024.mp3"),category:"Happy",imgUrl:"".concat(WQ,"song-covers/128x/Bouncy and Playful.jpeg"),title:"Bouncy and Playful",description:"A lively, cheerful tune with a fast tempo featuring bright acoustic guitar and light percussion. Perfect for energizing and playful scenes."}],zQ=function(e){return e.COPYRIGHT_FREE_MUSIC="COPYRIGHT_FREE_MUSIC",e.UPLOAD_AUDIO="UPLOAD_AUDIO",e}(zQ||{}),YQ=["Beats","Happy","Suspense","Calm","Sad","Inspirational","Energetic","Dramatic"],XQ={storageScope:{type:Sn.StorageT.WorkspaceStorageScopeType.GLOBAL},storageFileTypes:[Sn.StorageT.WorkspaceStorageFileType.AUDIO]},KQ=function(){var e,r,n=jD(),i=MD(kk.selectProjectMusic),a=MD(Ck.selectStorageIdFileRecord),o=MD(Ck.selectStockVisualAssetMetadataStore),s=k((0,t.useState)(zQ.COPYRIGHT_FREE_MUSIC),2),c=s[0],l=s[1],d=k((0,t.useState)(Sn.ArrayH.arrGetFirst(YQ)),2),f=d[0],h=d[1],p=k((0,t.useState)(15),2),v=p[0],g=p[1];!function(e,r,n){(0,t.useEffect)((function(){var t=setTimeout(e,n);return function(){clearTimeout(t)}}),[].concat(u(r),[n]))}((function(){var e=document.getElementById("music-list");if(e){var t=function(e){var t=e.target;t.scrollHeight-t.scrollTop<=t.clientHeight+10&&g((function(e){return e+10}))};return e.addEventListener("scroll",(function(e){return setTimeout((function(){t(e)}),100)})),function(){e.removeEventListener("scroll",t)}}}),[],100);var m=(0,t.useCallback)((function(){n(ZN.setMusic({newMusic:null}))}),[n]),y=(0,t.useCallback)((function(e){n(ZN.setMusicVolume({newMusicVolume:e}))}),[n]),b=(0,t.useMemo)((function(){return qQ.filter((function(e){return e.category===f}))}),[f]),S=(0,t.useMemo)((function(){return[{value:zQ.COPYRIGHT_FREE_MUSIC,onSelect:function(){l(zQ.COPYRIGHT_FREE_MUSIC)}},{value:zQ.UPLOAD_AUDIO,onSelect:function(){l(zQ.UPLOAD_AUDIO)},displayNode:(0,uw.jsx)(uw.Fragment,{children:"Upload Audio"})}]}),[]);(0,t.useEffect)((function(){return function(){n(kD.pauseAudioPreview())}}),[n]);var E=(0,t.useCallback)((function(e){return function(){n(ZN.setMusicToVideoGenMusicSource({newVideoGenMusicSource:e}))}}),[n]),x=(0,t.useCallback)((function(e){try{if(e.type!==Sn.StorageT.WorkspaceStorageFileType.AUDIO)throw Sn.ErrorH.newWarningError("Music must be an audio file.");n(ZN.setMusicToStorageAudioFile({newStorageAudioFile:e}))}catch(t){n(UM.handleError(t,{defaultErr:Sn.ErrorH.newFatalError("Failed to select uploaded audio file.")}))}}),[n]),w=(0,t.useMemo)((function(){switch(c){case zQ.COPYRIGHT_FREE_MUSIC:return(0,uw.jsxs)("div",{className:"w-full",children:[(0,uw.jsx)("div",{className:"relative h-14 w-full",children:(0,uw.jsx)("div",{className:"absolute left-0 top-4 h-full w-full",children:(0,uw.jsx)(CZ,{tabs:YQ.map((function(e){return{value:Sn.StringH.capitalizeStr(e),onSelect:function(){g(15),h(e)}}})),currentTabValue:f})})}),(0,uw.jsx)("div",{className:"gap-y-2 pb-4 pt-2",children:b?0!==b.length?b.slice(0,v).map((function(e){var t;return(0,uw.jsx)(PZ,{audioUrl:e.audioUrl,volume:1,imgUrl:null!==(t=e.imgUrl)&&void 0!==t?t:void 0,title:e.title,artist:"AI Composer",description:e.description,onClick:E(e)},e.audioUrl)})):(0,uw.jsx)("div",{className:"col-span-12 text-center text-sm text-gray-500",children:"No search results"}):(0,uw.jsx)("div",{className:"col-span-12 text-center text-sm text-gray-500",children:"Search or choose a popular tag."})})]});case zQ.UPLOAD_AUDIO:return(0,uw.jsx)("div",{className:"py-4",children:(0,uw.jsx)(JZ,{searchFilter:XQ,isShowingUploadBanner:!0,isShowingOptions:!1,isShowingFileSizes:!1,audioPreviewIconMode:"always",onClickStorageFile:x})})}}),[c,b,f,E,x,v]),_=(0,t.useMemo)((function(){var e;return Sn.AssetH.getAssetLocatorUrl(null!==(e=null===i||void 0===i?void 0:i.musicAssetReference.locator)&&void 0!==e?e:null,{useThumbnailIfAvailable:!0,storageIdFileRecord:a,stockVisualAssetMetadataStore:o,minSize:100,idealSize:200})}),[i,a,o]);return(0,uw.jsxs)("div",{className:"flex h-full w-full flex-col items-stretch",children:[(0,uw.jsxs)("div",{className:"w-full",children:[null!=(null===i||void 0===i?void 0:i.musicInfo.licenseUrl)&&(0,uw.jsxs)("a",{href:i.musicInfo.licenseUrl,target:"_blank",rel:"noreferrer",className:"float-left inline-flex flex-shrink-0 items-center text-sm text-gray-500 hover:text-gray-900",children:[(0,uw.jsx)(bn,{className:"mr-2 h-4 w-4"}),(0,uw.jsx)("span",{className:"hidden xl:inline-flex",children:"Download license"}),(0,uw.jsx)("span",{className:"inline-flex xl:hidden",children:"License"})]}),(0,uw.jsxs)("div",{className:"relative flex w-full items-center gap-x-4 py-4",children:[null!=i&&(0,uw.jsx)("div",{className:"flex-start flex-shrink-0 items-center justify-center",children:(0,uw.jsx)(rG,{audioSrc:Sn.AssetH.getAssetLocatorUrl(i.musicAssetReference.locator,{useThumbnailIfAvailable:!1,storageIdFileRecord:a,stockVisualAssetMetadataStore:o,minSize:0,idealSize:0}),volume:1,className:"h-6 w-6"})}),(0,uw.jsx)("div",{className:"h-12 w-12 flex-shrink-0 overflow-hidden rounded-md bg-gray-100",children:null!=i?_?(0,uw.jsx)("img",{src:_}):(0,uw.jsx)(gG,{className:"p-1 text-gray-600"}):(0,uw.jsx)(_Z,{className:"p-1 text-gray-400"})}),(0,uw.jsxs)("div",{className:"block w-full overflow-hidden",children:[(0,uw.jsx)("div",{className:"text-ellipsis whitespace-nowrap text-left",children:(0,uw.jsxs)("h3",{className:"text-md truncate font-medium text-gray-900",children:[" ",null!==(e=null===i||void 0===i?void 0:i.musicInfo.title)&&void 0!==e?e:(0,uw.jsx)("span",{className:"opacity-50",children:"No title"})]})}),(0,uw.jsx)("div",{className:"text-ellipsis whitespace-nowrap text-left",children:(0,uw.jsxs)("h4",{className:"truncate text-sm font-normal text-gray-500",children:[" ",null!==(r=null===i||void 0===i?void 0:i.musicInfo.artist)&&void 0!==r?r:(0,uw.jsx)("span",{className:"opacity-50",children:"No artist"})]})})]}),(0,uw.jsx)("div",{className:"ml-auto",children:(0,uw.jsx)("div",{className:"w-24 lg:w-36",children:null!=i&&(0,uw.jsx)(GQ,{volume:Sn.MathH.clip({num:i.musicAssetReference.volume,min:0,max:1}),onVolumeChange:y})})}),null!=i&&(0,uw.jsx)("div",{className:"",children:(0,uw.jsx)(qB,{className:"h-6 w-6 cursor-pointer text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-0","aria-hidden":"true",onClick:m})})]})]}),(0,uw.jsx)(HQ,{tabs:S,currentTabValue:c,content:w,id:"music-list"})]})},JQ=["title","titleId"];var ZQ=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,JQ);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"}))}));function QQ(e,r){var n=k((0,t.useState)(e),2),i=n[0],a=n[1],o=hF(e);return fF((function(){return a(o.current)}),[o,a].concat(u(r))),i}function $Q(e,r,n){var i=k((0,t.useState)(n),2),a=i[0],o=i[1],s=void 0!==e,u=(0,t.useRef)(s),c=(0,t.useRef)(!1),l=(0,t.useRef)(!1);return!s||u.current||c.current?!s&&u.current&&!l.current&&(l.current=!0,u.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(c.current=!0,u.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[s?e:a,pF((function(e){return s||o(e),null==r?void 0:r(e)}))]}function e$(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=0,i=Object.entries(e);n<i.length;n++){var a=k(i[n],2),o=a[0],s=a[1];r$(r,t$(t,o),s)}return r}function t$(e,t){return e?e+"["+t+"]":t}function r$(e,t,r){if(Array.isArray(r)){var n,i=T(r.entries());try{for(i.s();!(n=i.n()).done;){var a=k(n.value,2),o=a[0],s=a[1];r$(e,t$(t,o.toString()),s)}}catch(u){i.e(u)}finally{i.f()}}else r instanceof Date?e.push([t,r.toISOString()]):"boolean"==typeof r?e.push([t,r?"1":"0"]):"string"==typeof r?e.push([t,r]):"number"==typeof r?e.push([t,"".concat(r)]):null==r?e.push([t,""]):e$(r,t,e)}var n$,i$=["value","defaultValue","form","name","onChange","by","disabled","horizontal","multiple"],a$=["id"],o$=["id"],s$=["id"],u$=["id","disabled","value"],c$=function(e){return e[e.Open=0]="Open",e[e.Closed=1]="Closed",e}(c$||{}),l$=function(e){return e[e.Single=0]="Single",e[e.Multi=1]="Multi",e}(l$||{}),d$=function(e){return e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e}(d$||{}),f$=function(e){return e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e}(f$||{});function h$(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},r=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,n=CU(t(e.options.slice()),(function(e){return e.dataRef.current.domRef.current})),i=r?n.indexOf(r):null;return-1===i&&(i=null),{options:n,activeOptionIndex:i}}var p$=(We(n$={},1,(function(e){return e.dataRef.current.disabled||1===e.listboxState?e:ze(ze({},e),{},{activeOptionIndex:null,listboxState:1})})),We(n$,0,(function(e){if(e.dataRef.current.disabled||0===e.listboxState)return e;var t=e.activeOptionIndex,r=e.dataRef.current.isSelected,n=e.options.findIndex((function(e){return r(e.dataRef.current.value)}));return-1!==n&&(t=n),ze(ze({},e),{},{listboxState:0,activeOptionIndex:t})})),We(n$,2,(function(e,t){var r;if(e.dataRef.current.disabled||1===e.listboxState)return e;var n=h$(e),i=DK(t,{resolveItems:function(){return n.options},resolveActiveIndex:function(){return n.activeOptionIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return ze(ze(ze({},e),n),{},{searchQuery:"",activeOptionIndex:i,activationTrigger:null!=(r=t.trigger)?r:1})})),We(n$,3,(function(e,t){if(e.dataRef.current.disabled||1===e.listboxState)return e;var r=""!==e.searchQuery?0:1,n=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+r).concat(e.options.slice(0,e.activeOptionIndex+r)):e.options).find((function(e){var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))})),a=i?e.options.indexOf(i):-1;return-1===a||a===e.activeOptionIndex?ze(ze({},e),{},{searchQuery:n}):ze(ze({},e),{},{searchQuery:n,activeOptionIndex:a,activationTrigger:1})})),We(n$,4,(function(e){return e.dataRef.current.disabled||1===e.listboxState||""===e.searchQuery?e:ze(ze({},e),{},{searchQuery:""})})),We(n$,5,(function(e,t){var r={id:t.id,dataRef:t.dataRef},n=h$(e,(function(e){return[].concat(u(e),[r])}));return null===e.activeOptionIndex&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(r)),ze(ze({},e),n)})),We(n$,6,(function(e,t){var r=h$(e,(function(e){var r=e.findIndex((function(e){return e.id===t.id}));return-1!==r&&e.splice(r,1),e}));return ze(ze(ze({},e),r),{},{activationTrigger:1})})),We(n$,7,(function(e,t){return ze(ze({},e),{},{labelId:t.id})})),n$),v$=(0,t.createContext)(null);function g$(e){var r=(0,t.useContext)(v$);if(null===r){var n=new Error("<".concat(e," /> is missing a parent <Listbox /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,g$),n}return r}v$.displayName="ListboxActionsContext";var m$=(0,t.createContext)(null);function y$(e){var r=(0,t.useContext)(m$);if(null===r){var n=new Error("<".concat(e," /> is missing a parent <Listbox /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,y$),n}return r}function b$(e,t){return EF(t.type,p$,e,t)}m$.displayName="ListboxDataContext";var S$=t.Fragment;var E$=NF.RenderStrategy|NF.Static;var x$=BF((function(e,r){var n,i=e.value,a=e.defaultValue,o=e.form,s=e.name,u=e.onChange,c=e.by,l=void 0===c?function(e,t){return e===t}:c,d=e.disabled,f=void 0!==d&&d,h=e.horizontal,p=void 0!==h&&h,v=e.multiple,g=void 0!==v&&v,m=He(e,i$),y=p?"horizontal":"vertical",b=SF(r),S=k($Q(i,u,a),2),E=S[0],x=void 0===E?g?[]:void 0:E,w=S[1],_=k((0,t.useReducer)(b$,{dataRef:(0,t.createRef)(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),2),T=_[0],A=_[1],C=(0,t.useRef)({static:!1,hold:!1}),P=(0,t.useRef)(null),I=(0,t.useRef)(null),O=(0,t.useRef)(null),R=pF("string"==typeof l?function(e,t){var r=l;return(null==e?void 0:e[r])===(null==t?void 0:t[r])}:l),N=(0,t.useCallback)((function(e){var t;return EF(L.mode,(We(t={},1,(function(){return x.some((function(t){return R(t,e)}))})),We(t,0,(function(){return R(x,e)})),t))}),[x]),L=(0,t.useMemo)((function(){return ze(ze({},T),{},{value:x,disabled:f,mode:g?1:0,orientation:y,compare:R,isSelected:N,optionsPropsRef:C,labelRef:P,buttonRef:I,optionsRef:O})}),[x,f,g,T]);fF((function(){T.dataRef.current=L}),[L]),hB([L.buttonRef,L.optionsRef],(function(e,t){var r;A({type:1}),wU(t,xU.Loose)||(e.preventDefault(),null==(r=L.buttonRef.current)||r.focus())}),0===L.listboxState);var j=(0,t.useMemo)((function(){return{open:0===L.listboxState,disabled:f,value:x}}),[L,f,x]),M=pF((function(e){var t=L.options.find((function(t){return t.id===e}));t&&H(t.dataRef.current.value)})),D=pF((function(){if(null!==L.activeOptionIndex){var e=L.options[L.activeOptionIndex],t=e.dataRef,r=e.id;H(t.current.value),A({type:2,focus:MK.Specific,id:r})}})),F=pF((function(){return A({type:0})})),U=pF((function(){return A({type:1})})),B=pF((function(e,t,r){return e===MK.Specific?A({type:2,focus:MK.Specific,id:t,trigger:r}):A({type:2,focus:e,trigger:r})})),G=pF((function(e,t){return A({type:5,id:e,dataRef:t}),function(){return A({type:6,id:e})}})),V=pF((function(e){return A({type:7,id:e}),function(){return A({type:7,id:null})}})),H=pF((function(e){var t;return EF(L.mode,(We(t={},0,(function(){return null==w?void 0:w(e)})),We(t,1,(function(){var t=L.value.slice(),r=t.findIndex((function(t){return R(t,e)}));return-1===r?t.push(e):t.splice(r,1),null==w?void 0:w(t)})),t))})),W=pF((function(e){return A({type:3,value:e})})),q=pF((function(){return A({type:4})})),z=(0,t.useMemo)((function(){return{onChange:H,registerOption:G,registerLabel:V,goToOption:B,closeListbox:U,openListbox:F,selectActiveOption:D,selectOption:M,search:W,clearSearch:q}}),[]),Y={ref:b},X=(0,t.useRef)(null),K=uF();return(0,t.useEffect)((function(){X.current&&void 0!==a&&K.addEventListener(X.current,"reset",(function(){null==w||w(a)}))}),[X,w]),t.createElement(v$.Provider,{value:z},t.createElement(m$.Provider,{value:L},t.createElement(CF,{value:EF(L.listboxState,(n={},We(n,0,TF.Open),We(n,1,TF.Closed),n))},null!=s&&null!=x&&e$(We({},s,x)).map((function(e,r){var n=k(e,2),i=n[0],a=n[1];return t.createElement(vU,ze({features:pU.Hidden,ref:0===r?function(e){var t;X.current=null!=(t=null==e?void 0:e.closest("form"))?t:null}:void 0},GF({key:i,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:o,name:i,value:a})))})),jF({ourProps:Y,theirProps:m,slot:j,defaultTag:S$,name:"Listbox"}))))})),w$=BF((function(e,r){var n,i=uB(),a=e.id,o=void 0===a?"headlessui-listbox-button-".concat(i):a,s=He(e,a$),u=y$("Listbox.Button"),c=g$("Listbox.Button"),l=SF(u.buttonRef,r),d=uF(),f=pF((function(e){switch(e.key){case _B.Space:case _B.Enter:case _B.ArrowDown:e.preventDefault(),c.openListbox(),d.nextFrame((function(){u.value||c.goToOption(MK.First)}));break;case _B.ArrowUp:e.preventDefault(),c.openListbox(),d.nextFrame((function(){u.value||c.goToOption(MK.Last)}))}})),h=pF((function(e){if(e.key===_B.Space)e.preventDefault()})),p=pF((function(e){if(yB(e.currentTarget))return e.preventDefault();0===u.listboxState?(c.closeListbox(),d.nextFrame((function(){var e;return null==(e=u.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),c.openListbox())})),v=QQ((function(){if(u.labelId)return[u.labelId,o].join(" ")}),[u.labelId,o]),g=(0,t.useMemo)((function(){return{open:0===u.listboxState,disabled:u.disabled,value:u.value}}),[u]);return jF({ourProps:{ref:l,id:o,type:PK(e,u.buttonRef),"aria-haspopup":"listbox","aria-controls":null==(n=u.optionsRef.current)?void 0:n.id,"aria-expanded":0===u.listboxState,"aria-labelledby":v,disabled:u.disabled,onKeyDown:f,onKeyUp:h,onClick:p},theirProps:s,slot:g,defaultTag:"button",name:"Listbox.Button"})})),k$=BF((function(e,r){var n=uB(),i=e.id,a=void 0===i?"headlessui-listbox-label-".concat(n):i,o=He(e,o$),s=y$("Listbox.Label"),u=g$("Listbox.Label"),c=SF(s.labelRef,r);fF((function(){return u.registerLabel(a)}),[a]);var l=pF((function(){var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),d=(0,t.useMemo)((function(){return{open:0===s.listboxState,disabled:s.disabled}}),[s]);return jF({ourProps:{ref:c,id:a,onClick:l},theirProps:o,slot:d,defaultTag:"label",name:"Listbox.Label"})})),_$=BF((function(e,r){var n,i=uB(),a=e.id,o=void 0===a?"headlessui-listbox-options-".concat(i):a,s=He(e,s$),u=y$("Listbox.Options"),c=g$("Listbox.Options"),l=SF(u.optionsRef,r),d=uF(),f=uF(),h=AF(),p=null!==h?(h&TF.Open)===TF.Open:0===u.listboxState;(0,t.useEffect)((function(){var e,t=u.optionsRef.current;t&&0===u.listboxState&&t!==(null==(e=sU(t))?void 0:e.activeElement)&&t.focus({preventScroll:!0})}),[u.listboxState,u.optionsRef]);var v=pF((function(e){switch(f.dispose(),e.key){case _B.Space:if(""!==u.searchQuery)return e.preventDefault(),e.stopPropagation(),c.search(e.key);case _B.Enter:if(e.preventDefault(),e.stopPropagation(),null!==u.activeOptionIndex){var t=u.options[u.activeOptionIndex].dataRef;c.onChange(t.current.value)}0===u.mode&&(c.closeListbox(),sF().nextFrame((function(){var e;return null==(e=u.buttonRef.current)?void 0:e.focus({preventScroll:!0})})));break;case EF(u.orientation,{vertical:_B.ArrowDown,horizontal:_B.ArrowRight}):return e.preventDefault(),e.stopPropagation(),c.goToOption(MK.Next);case EF(u.orientation,{vertical:_B.ArrowUp,horizontal:_B.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),c.goToOption(MK.Previous);case _B.Home:case _B.PageUp:return e.preventDefault(),e.stopPropagation(),c.goToOption(MK.First);case _B.End:case _B.PageDown:return e.preventDefault(),e.stopPropagation(),c.goToOption(MK.Last);case _B.Escape:return e.preventDefault(),e.stopPropagation(),c.closeListbox(),d.nextFrame((function(){var e;return null==(e=u.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case _B.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(c.search(e.key),f.setTimeout((function(){return c.clearSearch()}),350))}})),g=QQ((function(){var e;return null==(e=u.buttonRef.current)?void 0:e.id}),[u.buttonRef.current]),m=(0,t.useMemo)((function(){return{open:0===u.listboxState}}),[u]);return jF({ourProps:{"aria-activedescendant":null===u.activeOptionIndex||null==(n=u.options[u.activeOptionIndex])?void 0:n.id,"aria-multiselectable":1===u.mode||void 0,"aria-labelledby":g,"aria-orientation":u.orientation,id:o,onKeyDown:v,role:"listbox",tabIndex:0,ref:l},theirProps:s,slot:m,defaultTag:"ul",features:E$,visible:p,name:"Listbox.Options"})})),T$=BF((function(e,r){var n=uB(),i=e.id,a=void 0===i?"headlessui-listbox-option-".concat(n):i,o=e.disabled,s=void 0!==o&&o,u=e.value,c=He(e,u$),l=y$("Listbox.Option"),d=g$("Listbox.Option"),f=null!==l.activeOptionIndex&&l.options[l.activeOptionIndex].id===a,h=l.isSelected(u),p=(0,t.useRef)(null),v=RK(p),g=hF({disabled:s,value:u,domRef:p,get textValue(){return v()}}),m=SF(r,p);fF((function(){if(0===l.listboxState&&f&&0!==l.activationTrigger){var e=sF();return e.requestAnimationFrame((function(){var e,t;null==(t=null==(e=p.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}}),[p,f,l.listboxState,l.activationTrigger,l.activeOptionIndex]),fF((function(){return d.registerOption(a,g)}),[g,a]);var y=pF((function(e){if(s)return e.preventDefault();d.onChange(u),0===l.mode&&(d.closeListbox(),sF().nextFrame((function(){var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})})))})),b=pF((function(){if(s)return d.goToOption(MK.Nothing);d.goToOption(MK.Specific,a)})),S=LK(),E=pF((function(e){return S.update(e)})),x=pF((function(e){S.wasMoved(e)&&(s||f||d.goToOption(MK.Specific,a,0))})),w=pF((function(e){S.wasMoved(e)&&(s||f&&d.goToOption(MK.Nothing))})),k=(0,t.useMemo)((function(){return{active:f,selected:h,disabled:s}}),[f,h,s]);return jF({ourProps:{id:a,ref:m,role:"option",tabIndex:!0===s?void 0:-1,"aria-disabled":!0===s||void 0,"aria-selected":h,disabled:void 0,onClick:y,onFocus:b,onPointerEnter:E,onMouseEnter:E,onPointerMove:x,onMouseMove:x,onPointerLeave:w,onMouseLeave:w},theirProps:c,slot:k,defaultTag:"li",name:"Listbox.Option"})})),A$=Object.assign(x$,{Button:w$,Label:k$,Options:_$,Option:T$}),C$=["title","titleId"];var P$=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,C$);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"}))})),I$=["title","titleId"];var O$=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,I$);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))})),R$=["title","titleId"];var N$,L$=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,R$);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM9 9a.75.75 0 0 0 0 1.5h.253a.25.25 0 0 1 .244.304l-.459 2.066A1.75 1.75 0 0 0 10.747 15H11a.75.75 0 0 0 0-1.5h-.253a.25.25 0 0 1-.244-.304l.459-2.066A1.75 1.75 0 0 0 9.253 9H9Z",clipRule:"evenodd"}))})),j$=function(e){var r=e.content,n=(0,t.useMemo)((function(){return _x()}),[]);return(0,uw.jsxs)("div",{className:"focus:ring-none inline-block h-[1rem] w-[1rem] cursor-help text-gray-400",children:[(0,uw.jsx)(L$,{id:n}),(0,uw.jsx)(vn,{anchorId:n,variant:"dark",place:"top",positionStrategy:"fixed",className:"z-50 shadow-xl",style:{opacity:"100%"},delayShow:0,content:r})]})},M$=function(e){var t=e.children,r=e.tooltip;return(0,uw.jsxs)("div",{className:"mb-1.5 inline-flex items-center justify-between",children:[(0,uw.jsx)("label",{className:"mr-1 text-sm font-medium leading-6 text-gray-900",children:t}),r&&(0,uw.jsx)(j$,{content:r})]})},D$=function(e){var r=e.label,n=e.placeholder,i=e.items,a=e.actionButton,o=e.currentValue,s=e.setValue,u=e.onClear,c=e.className,l=e.dropdownPosition,d=void 0===l?"bottom":l,f=e.size,h=void 0===f?"medium":f,p=e.isLoading,v=(0,t.useMemo)((function(){return i.find((function(e){return e.value===o}))}),[i,o]),g=(0,t.useCallback)((function(e){null==e?null===u||void 0===u||u():s(e)}),[u,s]);return(0,uw.jsx)(A$,{value:o,onChange:g,children:function(e){var o,s=e.open;return(0,uw.jsxs)(uw.Fragment,{children:[r&&(0,uw.jsx)(M$,{children:r}),(0,uw.jsxs)("div",{className:Dn("relative",null!==c&&void 0!==c?c:""),children:[(0,uw.jsxs)(A$.Button,{"aria-disabled":p,className:Dn("border-1 relative box-border w-full rounded-lg border border-gray-200 bg-white text-left outline-none ring-0 transition-all focus:outline-none focus:ring-0",p?"":"hover:bg-gray-100","small"===h?"py-1 pl-2 pr-8 text-sm":"py-2 pl-3 pr-10 text-sm"),children:[(0,uw.jsxs)("div",{className:Dn("w-full",p?"invisible":""),children:[(0,uw.jsxs)("span",{className:"flex items-center",children:[(null===v||void 0===v?void 0:v.icon)&&(0,uw.jsx)("div",{className:Dn("h-5 w-5 flex-shrink-0","small"===h?"mr-2":"mr-3"),children:v.icon}),(0,uw.jsx)("span",{className:Dn("block truncate whitespace-nowrap",null==(null===v||void 0===v?void 0:v.text)?"text-gray-600":"text-gray-900"),children:null!==(o=null===v||void 0===v?void 0:v.text)&&void 0!==o?o:n})]}),(0,uw.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center",children:(0,uw.jsx)(P$,{className:Dn("text-gray-400","small"===h?"mr-1 h-4 w-4":"mr-2 h-5 w-5"),"aria-hidden":"true"})})]}),p&&(0,uw.jsx)("div",{className:"absolute left-0 top-0 flex h-full w-full items-center justify-center",children:(0,uw.jsx)($M,{className:"h-5 w-5 text-gray-500"})})]}),0!==i.length&&(0,uw.jsx)(iU,{show:s,as:t.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,uw.jsxs)(A$.Options,{className:Dn("border-1 absolute z-20 box-border max-h-60 w-full cursor-pointer overflow-auto rounded-xl border border-gray-200 bg-white p-1 text-base shadow-lg focus:outline-none sm:text-sm","bottom"===d?"top-full mt-1":"bottom-full mb-1"),children:[null!=u&&(0,uw.jsx)(A$.Option,{className:Dn("relative select-none rounded-lg text-gray-500 transition-all hover:bg-gray-100","small"===h?"py-1 pl-2 pr-2":"py-2 pl-3 pr-3"),value:null,children:(0,uw.jsxs)("div",{className:"flex items-center",children:[(0,uw.jsx)("div",{className:"mr-2 h-5 w-5",children:(0,uw.jsx)(qB,{})}),(0,uw.jsx)("span",{className:"ml-1 block truncate whitespace-nowrap font-medium",children:"Clear"})]})}),i.map((function(e,t){return(0,uw.jsx)(A$.Option,{className:function(e){var t=e.active;return Dn(t?"bg-gray-100 text-gray-900":"text-gray-900","relative select-none rounded-lg transition-all","small"===h?"py-1 pl-2 pr-7":"py-2 pl-3 pr-8")},value:e.value,children:function(t){var r=t.selected;return(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsxs)("div",{className:"flex items-center",children:[null!==e&&void 0!==e&&e.icon?(0,uw.jsx)("div",{className:"mr-3 h-5 w-5 flex-shrink-0",children:e.icon}):(0,uw.jsx)(uw.Fragment,{}),(0,uw.jsx)("span",{className:Dn(r?"font-semibold":"font-normal","block truncate whitespace-nowrap"),children:e.text})]}),r?(0,uw.jsx)("span",{className:Dn("absolute inset-y-0 right-0 flex items-center","small"===h?"pr-2":"pr-3"),children:(0,uw.jsx)(O$,{className:Dn("small"===h?"h-4 w-4":"h-5 w-5"),"aria-hidden":"true"})}):null]})}},t)})),a&&(0,uw.jsx)("button",{onClick:a.onClick,className:Dn("relative w-full select-none rounded-lg text-gray-900 outline-none ring-0 transition-all hover:bg-gray-100 focus:outline-none focus:ring-0","small"===h?"py-1 pl-2 pr-2":"py-2 pl-3 pr-2"),children:(0,uw.jsx)(uw.Fragment,{children:(0,uw.jsxs)("div",{className:"flex items-center",children:[(null===a||void 0===a?void 0:a.icon)&&(0,uw.jsx)("div",{className:"mr-3 h-5 w-5",children:a.icon}),(0,uw.jsx)("span",{className:"block truncate whitespace-nowrap font-normal",children:a.text})]})})})]})})]})]})}})},F$=function(){return(0,uw.jsx)("div",{className:"text-blue-500",children:(0,uw.jsxs)("svg",{fill:"currentColor",strokeWidth:"0",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[(0,uw.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",d:"M 29 4 A 2.0002 2.0002 0 1 0 29 8 L 38.007812 8 L 29.910156 16.095703 C 27.028979 13.851975 23.421392 12.5 19.5 12.5 C 10.134844 12.5 2.5 20.134851 2.5 29.5 C 2.5 38.865149 10.134844 46.5 19.5 46.5 C 28.865156 46.5 36.5 38.865149 36.5 29.5 C 36.5 25.494174 35.095325 21.810986 32.763672 18.900391 L 41 10.664062 L 41 20 A 2.0002 2.0002 0 1 0 45 20 L 45 6 A 2.0002 2.0002 0 0 0 43 4 L 29 4 z M 19.5 16.5 C 26.703397 16.5 32.5 22.296607 32.5 29.5 C 32.5 36.703393 26.703397 42.5 19.5 42.5 C 12.296603 42.5 6.5 36.703393 6.5 29.5 C 6.5 22.296607 12.296603 16.5 19.5 16.5 z"})," "]})})},U$=function(){return(0,uw.jsxs)("div",{className:"text-pink-500",children:[(0,uw.jsx)("svg",{fill:"currentColor",strokeWidth:"0",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:(0,uw.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",d:"M 23.5 0.5 C 14.134844 0.5 6.5 8.1348506 6.5 17.5 C 6.5 26.187566 13.073365 33.374913 21.5 34.371094 L 21.5 38.5 L 16.5 38.5 A 2.0002 2.0002 0 1 0 16.5 42.5 L 21.5 42.5 L 21.5 45.970703 A 2.0002 2.0002 0 1 0 25.5 45.970703 L 25.5 42.5 L 30.5 42.5 A 2.0002 2.0002 0 1 0 30.5 38.5 L 25.5 38.5 L 25.5 34.371094 C 33.926635 33.374913 40.5 26.187566 40.5 17.5 C 40.5 8.1348506 32.865156 0.5 23.5 0.5 z M 23.5 4.5 C 30.703397 4.5 36.5 10.296607 36.5 17.5 C 36.5 24.703393 30.703397 30.5 23.5 30.5 C 16.296603 30.5 10.5 24.703393 10.5 17.5 C 10.5 10.296607 16.296603 4.5 23.5 4.5 z"})})," "]})},B$=Sn.TypeT.strictObjectToEntries(Sn.TtsC.DETECT_LANGUAGE_CODE_DISPLAYABLE_LANGUAGE_INFO_MAP).flatMap((function(e){if(null==e)return[];var t=k(e,2),r=t[0],n=t[1];return null==n?[]:[{text:n.languageName,value:r,icon:(0,uw.jsx)("div",{className:"-mt-[5px] text-xl",children:n.flagEmoji})}]})),G$=function(e){var t=e.split("-");return{languageCode:Sn.ArrayH.arrGetFirst(t),countryCode:Sn.ArrayH.arrGetOrOmit(t,1)}},V$=r(16031),H$=function(){return(0,uw.jsx)("div",{className:"text-purple-500",children:(0,uw.jsxs)("svg",{fill:"currentColor",strokeWidth:"0",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[(0,uw.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",d:"M 27.996094 6 A 2.0002 2.0002 0 1 0 27.996094 10 L 35.167969 10 L 28.496094 16.671875 L 26.912109 15.085938 A 2.0004766 2.0004766 0 0 0 24.082031 17.914062 L 25.667969 19.5 L 22.931641 22.236328 C 21.068312 20.934651 18.929721 20 16.496094 20 C 10.168506 20 4.9960938 25.172417 4.9960938 31.5 C 4.9960938 37.827583 10.168506 43 16.496094 43 C 22.823682 43 27.996094 37.827583 27.996094 31.5 C 27.996094 29.066955 27.060876 26.929482 25.759766 25.066406 L 28.496094 22.328125 L 30.082031 23.914062 A 2.0004766 2.0004766 0 1 0 32.912109 21.085938 L 31.326172 19.5 L 37.996094 12.830078 L 37.996094 20 A 2.0002 2.0002 0 1 0 41.996094 20 L 41.996094 8 A 2.0002 2.0002 0 0 0 39.996094 6 L 27.996094 6 z M 16.496094 24 C 20.661923 24 23.996094 27.334173 23.996094 31.5 C 23.996094 35.665827 20.661923 39 16.496094 39 C 12.330265 39 8.9960938 35.665827 8.9960938 31.5 C 8.9960938 27.334173 12.330265 24 16.496094 24 z"})," "]})})},W$=(We(N$={},Sn.TtsT.DisplayableGender.MALE,(0,uw.jsx)(F$,{})),We(N$,Sn.TtsT.DisplayableGender.FEMALE,(0,uw.jsx)(U$,{})),We(N$,Sn.TtsT.DisplayableGender.NEUTRAL,(0,uw.jsx)(H$,{})),{XA:"Saudi Arabia",IN:"India",CZ:"Czech Republic",DK:"Denmark",BE:"Belgium",NL:"Netherlands",AU:"Australia",GB:"United Kingdom",US:"United States",PH:"Philippines",FI:"Finland",CA:"Canada",FR:"France",DE:"Germany",GR:"Greece",HU:"Hungary",ID:"Indonesia",IT:"Italy",JP:"Japan",KR:"South Korea",MY:"Malaysia",CN:"China",TW:"Taiwan",NO:"Norway",PL:"Poland",BR:"Brazil",PT:"Portugal",RO:"Romania",RU:"Russia",SK:"Slovakia",ES:"Spain",SE:"Sweden",TR:"Turkey",UA:"Ukraine",VN:"Vietnam",TH:"Thailand",NG:"Nigeria",MX:"Mexico",BG:"Bulgaria",HR:"Croatia",JM:"Jamaica",ZA:"South Africa",IE:"Ireland",SG:"Singapore",SCT:"Scotland"}),q$={XA:"\ud83c\uddf8\ud83c\udde6",IN:"\ud83c\uddee\ud83c\uddf3",CZ:"\ud83c\udde8\ud83c\uddff",DK:"\ud83c\udde9\ud83c\uddf0",BE:"\ud83c\udde7\ud83c\uddea",NL:"\ud83c\uddf3\ud83c\uddf1",AU:"\ud83c\udde6\ud83c\uddfa",GB:"\ud83c\uddec\ud83c\udde7",SCT:"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f",IE:"\ud83c\uddee\ud83c\uddea",SG:"\ud83c\uddf8\ud83c\uddec",US:"\ud83c\uddfa\ud83c\uddf8",PH:"\ud83c\uddf5\ud83c\udded",FI:"\ud83c\uddeb\ud83c\uddee",CA:"\ud83c\udde8\ud83c\udde6",FR:"\ud83c\uddeb\ud83c\uddf7",DE:"\ud83c\udde9\ud83c\uddea",GR:"\ud83c\uddec\ud83c\uddf7",HU:"\ud83c\udded\ud83c\uddfa",ID:"\ud83c\uddee\ud83c\udde9",IT:"\ud83c\uddee\ud83c\uddf9",JP:"\ud83c\uddef\ud83c\uddf5",KR:"\ud83c\uddf0\ud83c\uddf7",MY:"\ud83c\uddf2\ud83c\uddfe",CN:"\ud83c\udde8\ud83c\uddf3",TW:"\ud83c\uddf9\ud83c\uddfc",NO:"\ud83c\uddf3\ud83c\uddf4",PL:"\ud83c\uddf5\ud83c\uddf1",BR:"\ud83c\udde7\ud83c\uddf7",PT:"\ud83c\uddf5\ud83c\uddf9",RO:"\ud83c\uddf7\ud83c\uddf4",RU:"\ud83c\uddf7\ud83c\uddfa",SK:"\ud83c\uddf8\ud83c\uddf0",ES:"\ud83c\uddea\ud83c\uddf8",SE:"\ud83c\uddf8\ud83c\uddea",TR:"\ud83c\uddf9\ud83c\uddf7",UA:"\ud83c\uddfa\ud83c\udde6",VN:"\ud83c\uddfb\ud83c\uddf3",TH:"\ud83c\uddf9\ud83c\udded",NG:"\ud83c\uddf3\ud83c\uddec",MX:"\ud83c\uddf2\ud83c\uddfd",BG:"\ud83c\udde7\ud83c\uddec",HR:"\ud83c\udded\ud83c\uddf7",JM:"\ud83c\uddef\ud83c\uddf2",ZA:"\ud83c\uddff\ud83c\udde6"},z$=function(e){var t,r,n,i=e.countryCode,a=e.languageCode;return null!==(t=null!==(r=q$[null!==i&&void 0!==i?i:""])&&void 0!==r?r:null===(n=Sn.TtsC.LANGUAGE_CODE_DISPLAYABLE_LANGUAGE_INFO_MAP[a])||void 0===n?void 0:n.flagEmoji)&&void 0!==t?t:"\ud83c\udf0d"},Y$=[{icon:(0,uw.jsx)(TK,{type:kK.LIFELIKE}),text:"",value:Sn.TtsT.TtsProviderName.ELEVEN_LABS},{icon:(0,uw.jsx)(TK,{type:kK.STANDARD}),text:"",value:Sn.TtsT.TtsProviderName.OPEN_AI},{icon:(0,uw.jsx)(TK,{type:kK.BASIC}),text:"",value:Sn.TtsT.TtsProviderName.GOOGLE}],X$=[{icon:(0,uw.jsx)(F$,{}),text:"Male",value:Sn.TtsT.DisplayableGender.MALE},{icon:(0,uw.jsx)(U$,{}),text:"Female",value:Sn.TtsT.DisplayableGender.FEMALE}],K$=function(e){var t=e.text;return(0,uw.jsx)("div",{className:"inline-flex rounded-md bg-gray-100 px-2 py-0.5 text-xs font-medium text-gray-900 transition-colors group-hover:bg-gray-400/20",children:(0,uw.jsx)("div",{children:t})})},J$=function(e){var r=e.displayableVoices,n=e.selectedDisplayableVoice,i=e.setSelectedDisplayableVoice,a=e.languageCodeFilter,o=(0,t.useCallback)((function(e){return function(){i(e)}}),[i]);return(0,uw.jsx)(uw.Fragment,{children:r.map((function(e,t){var r,i,s=sk()(e,n),u=e.displayName,c=e.ttsVoice,l=e.displayGender,d=G$(c.languageCode),f=d.languageCode,h=d.countryCode,p=z$({languageCode:f,countryCode:h}),v=null!==(r=null===(i=Sn.TtsC.LANGUAGE_CODE_DISPLAYABLE_LANGUAGE_INFO_MAP[f])||void 0===i?void 0:i.languageName)&&void 0!==r?r:"Filipino";return(0,uw.jsxs)("div",{onClick:o(e),className:Dn("group flex w-full cursor-pointer items-center justify-center space-x-4 rounded-xl px-3 py-3 transition-all",s?"bg-gray-100":"hover:bg-gray-100"),children:[(0,uw.jsx)("div",{className:"h-5 w-5 flex-shrink-0",children:(0,uw.jsx)(rG,{audioSrc:Sn.TtsH.ttsVoiceToAudioUrl(c,a),volume:1,className:"h-5 w-5"})}),(0,uw.jsx)("div",{className:Dn("block h-full cursor-pointer items-center overflow-hidden text-ellipsis text-gray-900",s?"font-medium":"font-normal"),children:(0,uw.jsx)("div",{className:"truncate",children:u})}),(0,uw.jsxs)("div",{className:"flex flex-grow items-center justify-end space-x-1 text-right",children:[c.providerName===Sn.TtsT.TtsProviderName.ELEVEN_LABS&&(0,uw.jsx)(TK,{type:kK.LIFELIKE}),c.providerName===Sn.TtsT.TtsProviderName.OPEN_AI&&(0,uw.jsx)(TK,{type:kK.STANDARD}),c.providerName===Sn.TtsT.TtsProviderName.GOOGLE&&(0,uw.jsx)(TK,{type:kK.BASIC}),(0,uw.jsx)(K$,{text:Sn.StringH.capitalizeStr(l)}),(0,uw.jsx)(K$,{text:p+" "+v})]})]},"".concat(u,"-").concat(t))}))})},Z$=function(e){return(0,V$.cloneDeep)(Sn.TtsC.ALL_DISPLAYABLE_VOICES).sort((function(t,r){var n=G$(e),i="tl"===n.languageCode?"fil":n.languageCode,a=n.countryCode,o=G$(t.ttsVoice.languageCode),s=o.languageCode,u=o.countryCode,c=G$(r.ttsVoice.languageCode),l=c.languageCode,d=c.countryCode;if(null==i)return 0;if(s===i&&l===i){if(u===a&&d!==a)return-1;if(u!==a&&d===a)return 1}else{if(s===i&&l!==i)return-1;if(s!==i&&l===i)return 1}return t.ttsVoice.providerName===Sn.TtsT.TtsProviderName.GOOGLE?1:r.ttsVoice.providerName===Sn.TtsT.TtsProviderName.GOOGLE?-1:0}))},Q$=function(e){var r=e.selectedDisplayableVoice,n=e.setSelectedDisplayableVoice,i=(e.displayableVoices,e.languageCodeFilter),a=e.setLanguageCodeFilter,o=k((0,t.useState)(null),2),s=o[0],u=o[1],c=k((0,t.useState)(null),2),l=c[0],d=c[1],f=k((0,t.useState)(null),2),h=f[0],p=f[1],v=(0,t.useMemo)((function(){var e,t;return null!==(e=null===(t=Sn.TtsC.LANGUAGE_CODE_DISPLAYABLE_LANGUAGE_INFO_MAP[i])||void 0===t?void 0:t.countryCodes)&&void 0!==e?e:[]}),[i]),g=(0,t.useMemo)((function(){return h?"".concat(i,"-").concat(h):i}),[h,i]),m=(0,t.useMemo)((function(){return Z$(g).filter((function(e){return Sn.TtsH.isLanguageCodeSupportedByTtsVoice({languageCode:"tl"===i?"fil":i,ttsVoice:e.ttsVoice})&&(null==s||e.ttsVoice.providerName===s)&&(null==l||e.displayGender===l)}))}),[i,s,l,g]),y=(0,t.useCallback)((function(){p(null)}),[]);(0,t.useEffect)((function(){v.includes(null!==h&&void 0!==h?h:"US")||y()}),[v,y,h]);var b=(0,t.useCallback)((function(){u(null)}),[]),S=(0,t.useCallback)((function(){d(null)}),[]),E=((0,t.useCallback)((function(){u(null),d(null)}),[]),(0,t.useCallback)((function(e){n(e)}),[n])),x=(0,t.useMemo)((function(){return Sn.TypeT.strictObjectToEntries(Sn.TtsC.LANGUAGE_CODE_DISPLAYABLE_LANGUAGE_INFO_MAP).flatMap((function(e){if(null==e)return[];var t=k(e,2),r=(t[0],t[1]);if(null==r)return[];var n=r.languageName,a=r.detectLanguageCode,o=(r.languageCode,r.countryCodes,r.flagEmoji);return[{text:n,value:a,icon:(0,uw.jsx)("div",{className:"-mt-[5px] text-xl",children:h&&i===a?q$[h]:o})}]}))}),[h,i]);return(0,uw.jsxs)("div",{className:"h-full",children:[(0,uw.jsxs)("div",{className:"mb-2 mt-2 after:clear-both after:block after:content-['']",children:[(0,uw.jsx)("div",{className:"float-left mr-1 mt-1",children:(0,uw.jsx)(D$,{placeholder:"Script language",size:"small",className:"w-48",currentValue:i,setValue:a,items:x})}),(0,uw.jsx)("div",{className:"float-left mr-1 mt-1 w-48",children:(0,uw.jsx)(D$,{placeholder:"Accent",size:"small",currentValue:h,setValue:p,onClear:y,items:v.map((function(e){return{icon:(0,uw.jsx)("div",{className:"-mt-[5px] text-xl",children:q$[e]}),text:W$[e],value:e}}))})}),(0,uw.jsx)("div",{className:"float-left mr-1 mt-1 w-32",children:(0,uw.jsx)(D$,{placeholder:"Quality",size:"small",currentValue:s,setValue:u,items:Y$,onClear:b})}),(0,uw.jsx)("div",{className:"float-left mt-1 w-36",children:(0,uw.jsx)(D$,{placeholder:"Gender",size:"small",currentValue:l,setValue:d,items:X$,onClear:S})})]}),(0,uw.jsx)("div",{className:"space-y-2 divide-y divide-gray-200",children:(0,uw.jsx)("div",{children:(0,uw.jsx)(J$,{displayableVoices:m,setSelectedDisplayableVoice:E,selectedDisplayableVoice:r,languageCodeFilter:G$(i).languageCode})})})]})},$$=function(e){var r=e.displayableVoice,n=e.setDisplayableVoice,i=e.languageCodeFilter,a=e.setLanguageCodeFilter,o=e.voiceVolume,s=e.setVoiceVolume,u=e.isShowingVoiceVolumeSlider,c=r.displayName,l=r.ttsVoice,d=r.displayGender,f=(0,t.useMemo)((function(){return G$(l.languageCode)}),[l.languageCode]),h=f.languageCode,p=f.countryCode,v=(0,t.useMemo)((function(){return z$({languageCode:h,countryCode:p})}),[h,p]),g=(0,t.useMemo)((function(){var e;return null===(e=Sn.TtsC.LANGUAGE_CODE_DISPLAYABLE_LANGUAGE_INFO_MAP[h])||void 0===e?void 0:e.languageName}),[h]);return(0,uw.jsxs)("div",{className:"flex h-full w-full flex-col items-stretch",children:[(0,uw.jsx)("div",{className:"w-full",children:(0,uw.jsxs)("div",{className:"mb-2 mt-4 w-full space-y-2",children:[(0,uw.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,uw.jsx)("div",{className:"inline-flex h-full shrink-0 items-center justify-center",children:(0,uw.jsx)(rG,{audioSrc:Sn.TtsH.ttsVoiceToAudioUrl(l,i),volume:o,className:"h-6 w-6"})}),(0,uw.jsx)("div",{className:"relative h-10 w-10",children:(0,uw.jsx)(ZQ,{className:"h-10 w-10 overflow-hidden rounded-full bg-gray-100 pt-2 text-gray-900"})}),(0,uw.jsx)("div",{className:"flex flex-shrink items-center text-left",children:(0,uw.jsx)("div",{className:"inline-flex items-center truncate text-lg font-medium text-gray-900",children:null!=r?(0,uw.jsx)("span",{children:c}):(0,uw.jsx)("p",{className:"text-base text-gray-700",children:"The selected voice is no longer supported. Please select a different voice."})})}),u&&(0,uw.jsx)("div",{className:"ml-auto mr-2",children:(0,uw.jsx)("div",{className:"w-24 lg:w-36",children:(0,uw.jsx)(GQ,{volume:o,onVolumeChange:s})})})]}),null!=r&&(0,uw.jsxs)("div",{className:"flex w-full items-center space-x-1",children:[l.providerName===Sn.TtsT.TtsProviderName.ELEVEN_LABS&&(0,uw.jsx)(TK,{type:kK.LIFELIKE}),l.providerName===Sn.TtsT.TtsProviderName.OPEN_AI&&(0,uw.jsx)(TK,{type:kK.STANDARD}),l.providerName===Sn.TtsT.TtsProviderName.GOOGLE&&(0,uw.jsx)(TK,{type:kK.BASIC}),(0,uw.jsx)(K$,{text:Sn.StringH.capitalizeStr(d)}),(0,uw.jsx)(K$,{text:v+" "+g})]})]})}),(0,uw.jsx)(Q$,{displayableVoices:Sn.TtsC.ALL_DISPLAYABLE_VOICES,selectedDisplayableVoice:r,setSelectedDisplayableVoice:n,languageCodeFilter:i,setLanguageCodeFilter:a})]})},e0=function(){var e=jD(),r=MD(kk.selectProjectVoice),n=k((0,t.useState)("en"),2),i=n[0],a=n[1],o=(0,t.useMemo)((function(){var e={ttsVoice:r.ttsVoice,displayTags:[],displayGender:Sn.TtsT.DisplayableGender.NEUTRAL,displayName:"Voice"},t=r.ttsVoice;switch(t.providerName){case Sn.TtsT.TtsProviderName.GOOGLE:var n;return null!==(n=Sn.TtsC.GOOGLE_DISPLAYABLE_VOICES.find((function(e){return e.ttsVoice.name===t.name})))&&void 0!==n?n:e;case Sn.TtsT.TtsProviderName.OPEN_AI:var i;return null!==(i=Sn.TtsC.OPEN_AI_DISPLAYABLE_VOICES.find((function(e){return e.ttsVoice.voiceId===t.voiceId})))&&void 0!==i?i:e;case Sn.TtsT.TtsProviderName.ELEVEN_LABS:var a;return null!==(a=Sn.TtsC.ELEVEN_LABS_DISPLAYABLE_VOICES.find((function(e){return e.ttsVoice.voiceId===t.voiceId})))&&void 0!==a?a:e}}),[r.ttsVoice]),s=(0,t.useCallback)((function(t){e(ZN.setVoiceTtsVoice({newTtsVoice:t.ttsVoice}))}),[e]),u=(0,t.useCallback)((function(t){e(ZN.setVoiceVolume({newVoiceVolume:t}))}),[e]);return(0,uw.jsx)($$,{displayableVoice:o,setDisplayableVoice:s,voiceVolume:r.volume,languageCodeFilter:i,setLanguageCodeFilter:a,setVoiceVolume:u,isShowingVoiceVolumeSlider:!0})};function t0(){var e=(0,t.useRef)(!1);return FG((function(){return e.current=!0,function(){e.current=!1}}),[]),e}var r0=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.apply(this,arguments)}return h(r,[{key:"getSnapshotBeforeUpdate",value:function(e){var t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){var r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return this.props.children}}]),r}(t.Component);function n0(e){var r=e.children,n=e.isPresent,i=(0,t.useId)(),a=(0,t.useRef)(null),o=(0,t.useRef)({width:0,height:0,top:0,left:0});return(0,t.useInsertionEffect)((function(){var e=o.current,t=e.width,r=e.height,s=e.top,u=e.left;if(!n&&a.current&&t&&r){a.current.dataset.motionPopId=i;var c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(t,"px !important;\n            height: ").concat(r,"px !important;\n            top: ").concat(s,"px !important;\n            left: ").concat(u,"px !important;\n          }\n        ")),function(){document.head.removeChild(c)}}}),[n]),t.createElement(r0,{isPresent:n,childRef:a,sizeRef:o},t.cloneElement(r,{ref:a}))}var i0=function(e){var r=e.children,n=e.initial,i=e.isPresent,a=e.onExitComplete,o=e.custom,s=e.presenceAffectsLayout,u=e.mode,c=mH(a0),l=(0,t.useId)(),d=(0,t.useMemo)((function(){return{id:l,initial:n,isPresent:i,custom:o,onExitComplete:function(e){c.set(e,!0);var t,r=T(c.values());try{for(r.s();!(t=r.n()).done;){if(!t.value)return}}catch(n){r.e(n)}finally{r.f()}a&&a()},register:function(e){return c.set(e,!1),function(){return c.delete(e)}}}}),s?void 0:[i]);return(0,t.useMemo)((function(){c.forEach((function(e,t){return c.set(t,!1)}))}),[i]),t.useEffect((function(){!i&&!c.size&&a&&a()}),[i]),"popLayout"===u&&(r=t.createElement(n0,{isPresent:i},r)),t.createElement(MG.Provider,{value:d},r)};function a0(){return new Map}var o0=function(e){return e.key||""};var s0,u0,c0,l0=function(e){var r=e.children,n=e.custom,i=e.initial,a=void 0===i||i,o=e.onExitComplete,s=e.exitBeforeEnter,c=e.presenceAffectsLayout,l=void 0===c||c,d=e.mode,f=void 0===d?"sync":d;lW(!s,"Replace exitBeforeEnter with mode='wait'");var h=(0,t.useContext)(uV).forceRender||function(){var e=t0(),r=k((0,t.useState)(0),2),n=r[0],i=r[1],a=(0,t.useCallback)((function(){e.current&&i(n+1)}),[n]);return[(0,t.useCallback)((function(){return AH.postRender(a)}),[a]),n]}()[0],p=t0(),v=function(e){var r=[];return t.Children.forEach(e,(function(e){(0,t.isValidElement)(e)&&r.push(e)})),r}(r),g=v,m=(0,t.useRef)(new Map).current,y=(0,t.useRef)(g),b=(0,t.useRef)(new Map).current,S=(0,t.useRef)(!0);if(FG((function(){S.current=!1,function(e,t){e.forEach((function(e){var r=o0(e);t.set(r,e)}))}(v,b),y.current=g})),function(e){(0,t.useEffect)((function(){return function(){return e()}}),[])}((function(){S.current=!0,b.clear(),m.clear()})),S.current)return t.createElement(t.Fragment,null,g.map((function(e){return t.createElement(i0,{key:o0(e),isPresent:!0,initial:!!a&&void 0,presenceAffectsLayout:l,mode:f},e)})));g=u(g);for(var E=y.current.map(o0),x=v.map(o0),w=E.length,_=0;_<w;_++){var T=E[_];-1!==x.indexOf(T)||m.has(T)||m.set(T,void 0)}return"wait"===f&&m.size&&(g=[]),m.forEach((function(e,r){if(-1===x.indexOf(r)){var i=b.get(r);if(i){var a=E.indexOf(r),s=e;if(!s){s=t.createElement(i0,{key:o0(i),isPresent:!1,onExitComplete:function(){m.delete(r);var e=Array.from(b.keys()).filter((function(e){return!x.includes(e)}));if(e.forEach((function(e){return b.delete(e)})),y.current=v.filter((function(t){var n=o0(t);return n===r||e.includes(n)})),!m.size){if(!1===p.current)return;h(),o&&o()}},custom:n,presenceAffectsLayout:l,mode:f},i),m.set(r,s)}g.splice(a,0,s)}}})),g=g.map((function(e){var r=e.key;return m.has(r)?e:t.createElement(i0,{key:o0(e),isPresent:!0,presenceAffectsLayout:l,mode:f},e)})),t.createElement(t.Fragment,null,m.size?g:g.map((function(e){return(0,t.cloneElement)(e)})))},d0=function(e){return e.SCRIPT="SCRIPT",e.SCENES="SCENES",e.MUSIC="MUSIC",e.VOICE="VOICE",e.CAPTIONS="CAPTIONS",e}(d0||{}),f0=[d0.SCRIPT,d0.VOICE,d0.MUSIC,d0.CAPTIONS],h0=(We(s0={},d0.SCRIPT,(0,uw.jsx)(lG,{})),We(s0,d0.SCENES,(0,uw.jsx)(yJ,{})),We(s0,d0.MUSIC,(0,uw.jsx)(KQ,{})),We(s0,d0.VOICE,(0,uw.jsx)(e0,{})),We(s0,d0.CAPTIONS,(0,uw.jsx)(wZ,{})),s0),p0=(We(u0={},d0.SCRIPT,(0,uw.jsx)(fG,{className:"h-full w-full"})),We(u0,d0.SCENES,(0,uw.jsx)(pG,{className:"h-full w-full"})),We(u0,d0.MUSIC,(0,uw.jsx)(gG,{className:"h-full w-full"})),We(u0,d0.VOICE,(0,uw.jsx)(yG,{className:"h-full w-full"})),We(u0,d0.CAPTIONS,(0,uw.jsx)(SG,{className:"h-full w-full"})),u0),v0=(We(c0={},d0.SCRIPT,(0,uw.jsx)(xG,{className:"h-full w-full"})),We(c0,d0.SCENES,(0,uw.jsx)(kG,{className:"h-full w-full"})),We(c0,d0.MUSIC,(0,uw.jsx)(TG,{className:"h-full w-full"})),We(c0,d0.VOICE,(0,uw.jsx)(CG,{className:"h-full w-full"})),We(c0,d0.CAPTIONS,(0,uw.jsx)(IG,{className:"h-full w-full"})),c0),g0=function(){var e=k((0,t.useState)(d0.SCRIPT),2),r=e[0],n=e[1],i=k((0,t.useState)({}),2),a=i[0],o=i[1];(0,t.useEffect)((function(){o((function(e){return e[r]?e:ze(ze({},e),{},We({},r,!0))}))}),[r]);var s=(0,t.useCallback)((function(e){e!==r&&(Mx("click_generator_form_tab",{generatorFormTab:e}),n(e))}),[n,r]),u=(0,t.useMemo)((function(){var e=f0.indexOf(r);return(0,uw.jsx)("div",{className:"group grid gap-x-3 px-4 pt-3",style:{gridTemplateColumns:"repeat(".concat(f0.length,", minmax(0, 1fr))")},children:f0.map((function(t,r){return(0,uw.jsxs)("button",{className:Dn("border-1 col-span-1 inline-flex items-center space-x-2 space-y-1 rounded-xl border px-2 py-2 text-gray-700 outline-none transition-all focus:outline-none xl:px-3",r===e?"border-main-400 bg-main-100 text-main-600":"border-gray-200 bg-gray-50 hover:bg-gray-200 hover:text-gray-900"),onMouseDown:function(){s(t)},onClick:function(){s(t)},children:[(0,uw.jsx)("div",{className:"mx-auto inline-flex h-6 w-6 flex-shrink-0 sm:mx-0 sm:h-5 sm:w-5 lg:mx-auto lg:h-6 lg:w-6 xl:mx-0 xl:h-5 xl:w-5",children:r===e?p0[t]:v0[t]}),(0,uw.jsx)("p",{className:"hidden h-full text-base font-medium sm:inline-flex lg:hidden xl:inline-flex xl:text-sm 2xl:text-base",children:Sn.StringH.capitalizeStr(t)})]},t)}))})}),[r,s]);return(0,uw.jsxs)("div",{className:"flex h-full w-full flex-col overflow-hidden",children:[(0,uw.jsx)("div",{className:"w-full flex-none",children:u}),f0.map((function(e){return e===r||a[e]?(0,uw.jsx)("div",{className:Dn("relative w-full flex-1 overflow-hidden",e===r?"":"hidden"),children:(0,uw.jsx)(l0,{children:(0,uw.jsx)(SK.div,{initial:{opacity:0},animate:{opacity:1,y:0,transition:{duration:.2,delay:.1,ease:"easeInOut"}},exit:{opacity:0,transition:{duration:.2,delay:0,ease:"easeInOut"}},className:"h-full w-full overflow-y-auto px-4",children:h0[e]})})},e):(0,uw.jsx)("div",{className:"hidden"},e)}))]})},m0=["title","titleId"];var y0=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,m0);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"M6.3 2.84A1.5 1.5 0 0 0 4 4.11v11.78a1.5 1.5 0 0 0 2.3 1.27l9.344-5.891a1.5 1.5 0 0 0 0-2.538L6.3 2.841Z"}))})),b0=["title","titleId"];var S0,E0,x0,w0,k0=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,b0);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"M5.75 3a.75.75 0 0 0-.75.75v12.5c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75V3.75A.75.75 0 0 0 7.25 3h-1.5ZM12.75 3a.75.75 0 0 0-.75.75v12.5c0 .414.336.75.75.75h1.5a.75.75 0 0 0 .75-.75V3.75a.75.75 0 0 0-.75-.75h-1.5Z"}))})),_0=function(e){var r=e.backgroundAssetIndex,n=e.expandedBackgroundVisualAssetReference,i=e.timelineContainerRef,a=e.timelineDuration,o=e.scale,s=jD(),u=MD(kk.selectProjectBlock),c=MD(Ck.selectStorageIdFileRecord),l=MD(Ck.selectStockVisualAssetMetadataStore),d=(MD(kk.selectProjectAspectRatio),MD(kk.selectProjectBackground),MD(kk.selectProjectId),MD(kk.selectFocusedBackgroundRefId)),f=MD(kk.selectSelectedBackgroundRefId),h=eF(),p=k((0,t.useState)(!1),2),v=p[0],g=p[1],m=k((0,t.useState)(!1),2),y=m[0],b=m[1],S=(0,t.useRef)(null),E=k((0,t.useState)(""),2),x=(E[0],E[1],k((0,t.useState)(null),2)),w=(x[0],x[1],k((0,t.useState)(!1),2)),_=(w[0],w[1],k((0,t.useState)(!1),2)),T=(_[0],_[1],k((0,t.useState)(!1),2)),A=T[0],C=(T[1],k((0,t.useState)(0),2)),P=C[0],I=C[1],O=n.refId,R=f===O,N=null!=d&&d!==O,L=((0,t.useRef)(null),(0,t.useRef)(null));(0,t.useEffect)((function(){if(L.current){var e=new ResizeObserver((function(e){var t=Sn.ArrayH.arrGetFirstOrOmit(e);if(t){var r=t.contentRect.width;I(r)}}));return e.observe(L.current),function(){e.disconnect()}}}),[L]);var j=(0,t.useMemo)((function(){if(null!=(null===n||void 0===n?void 0:n.locator)){var e=Sn.AssetH.getAssetLocatorUrl(n.locator,{useThumbnailIfAvailable:!0,storageIdFileRecord:c,stockVisualAssetMetadataStore:l,minSize:100,idealSize:200});return{backgroundImage:"url(".concat(e,")")}}}),[null===n||void 0===n?void 0:n.locator,c,l]),M=(0,t.useCallback)((function(e){s(ZN.setFocusedBackgroundRefId({newFocusedBackgroundRefId:O})),g(!0),S.current=e.clientX,e.preventDefault(),e.stopPropagation()}),[s,O]),D=(0,t.useCallback)((function(){s(ZN.setFocusedBackgroundRefId({newFocusedBackgroundRefId:null})),g(!1),S.current=null}),[s]),F=(0,t.useCallback)((function(e){s(ZN.setFocusedBackgroundRefId({newFocusedBackgroundRefId:O})),b(!0),S.current=e.clientX,e.preventDefault(),e.stopPropagation()}),[s,O]),U=(0,t.useCallback)((function(){s(ZN.setFocusedBackgroundRefId({newFocusedBackgroundRefId:null})),b(!1),S.current=null}),[s]),B=(0,t.useCallback)((function(e){var t=e.clientX,r=e.isStart;return null==i.current?0:Sn.MathH.clip({num:R0({clientX:t+(r?-4:4),timelineContainerElement:i.current,timelineDuration:a,scale:o})/o,min:0,max:a})}),[i,a,o]),G=(0,t.useCallback)((function(e){h((function(){if(v&&null!=i.current&&null!=S.current){var t=B({clientX:S.current,isStart:!0}),r=B({clientX:e.clientX,isStart:!0});S.current=e.clientX;try{s(WN.dragBackgroundAssetStartTime({backgroundRefId:O,startTimeShift:r-t}))}catch(n){s(UM.handleError(n,{defaultErr:Sn.ErrorH.newHiddenError("Failed to drag start."),forceHidden:!0}))}}}),5),e.preventDefault()}),[s,v,B,h,i,O]),V=(0,t.useCallback)((function(e){h((function(){if(y&&null!=i.current&&null!=S.current){var t=B({clientX:S.current,isStart:!1}),r=B({clientX:e.clientX,isStart:!1});S.current=e.clientX;try{s(WN.dragBackgroundAssetEndTime({backgroundRefId:O,endTimeShift:r-t}))}catch(n){s(UM.handleError(n,{defaultErr:Sn.ErrorH.newHiddenError("Failed to drag end."),forceHidden:!0}))}}}),5),e.preventDefault()}),[s,y,B,h,i,O]),H=(0,t.useCallback)((function(){N||s(ZN.selectBackgroundAsset({backgroundRefId:O}))}),[s,N,O]);return(0,t.useEffect)((function(){return v&&(document.addEventListener("mousemove",G),document.addEventListener("mouseup",D)),y&&(document.addEventListener("mousemove",V),document.addEventListener("mouseup",U)),function(){document.removeEventListener("mousemove",G),document.removeEventListener("mouseup",D),document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",U)}}),[v,y,G,D,U,V]),null==u.backgroundVisualAssetReferences||null==n?(0,uw.jsx)(uw.Fragment,{}):(0,uw.jsxs)(uw.Fragment,{children:[N&&(0,uw.jsx)("div",{className:"absolute left-0 top-5 z-20 -mx-2 h-[52px] w-full rounded-lg"}),(0,uw.jsxs)("div",{ref:L,className:Dn("border-1 group relative float-left h-[52px] w-full cursor-pointer rounded-lg border border-gray-200 bg-gray-100 bg-contain bg-repeat transition-colors",N?"opacity-50":"opacity-100",R?"ring-2 ring-main-500":""),style:j,onMouseDown:H,children:[r>0&&(0,uw.jsx)("div",{onMouseDown:M,onMouseUp:D,className:Dn("absolute left-0 top-0 z-20 h-full w-[12px] cursor-ew-resize rounded-l-lg bg-gray-900 px-[5px] py-3 transition-opacity",v?"opacity-100":P<40?"opacity-0 hover:opacity-75":"opacity-25 hover:opacity-90 group-hover:opacity-75"),children:(0,uw.jsx)("div",{className:"h-full w-full rounded-full bg-white"})}),r<u.backgroundVisualAssetReferences.length-1&&(0,uw.jsx)("div",{onMouseDown:F,onMouseUp:U,className:Dn("absolute right-0 top-0 z-20 h-full w-[12px] cursor-ew-resize rounded-r-lg bg-gray-900 px-[5px] py-3 transition-opacity",y?"opacity-90":P<40?"opacity-0 hover:opacity-75":"opacity-25 hover:opacity-90 group-hover:opacity-75"),children:(0,uw.jsx)("div",{className:"h-full w-full rounded-full bg-white"})}),(0,uw.jsx)(SK.div,{initial:{opacity:0},animate:{opacity:A?1:0},className:Dn("absolute left-0 top-0 flex h-full w-full items-center justify-center rounded-lg bg-black/[0.8]",A?"block":"hidden"),children:(0,uw.jsx)($M,{className:"mx-auto h-6 w-6 text-gray-300"})})]})]})},T0=function(e){var t=e.numSeconds;return(0,uw.jsxs)("span",{className:"notranslate",children:[(0,uw.jsx)("span",{id:"minutes",children:Math.floor(t/60)}),":",(0,uw.jsx)("span",{id:"seconds",children:(Math.floor(t)%60).toString().padStart(2,"0")})]})},A0=function(e){return e.job.currentSessionHandledCompletedJobIds},C0=function(e){return e.job.jobIdInitialJobMap},P0=function(){var e=jD(),r=MD(aw.selectPrivateWorkspaceInfo),n=MD(kk.selectProjectId),i=MD(A0),a=k((0,t.useState)([]),2),o=a[0],s=a[1],u=(0,t.useMemo)((function(){return Sn.WorkspaceH.getWorkspaceRecentInitiatedProjectExportJobs({workspaceInfo:r,projectId:n})}),[r,n]),c=(0,t.useMemo)((function(){return u.find((function(e){var t=Sn.JobH.getJobLoadingInfo(e).loadingState;return t===Sn.LoadingT.LoadingState.UNATTEMPTED||t===Sn.LoadingT.LoadingState.LOADING}))}),[u]),l=(0,t.useMemo)((function(){return o.filter((function(e){return!i[e]}))}),[o,i]),d=(0,t.useCallback)(Ot(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e(xw()),l.length>0&&e(Jk.handleJobCompletions({jobIds:l,performCompletionAction:!1}))}catch(r){e(UM.handleError(r,{defaultErr:Sn.ErrorH.newFatalError("An error occurred while opening recent exports.")}))}case 1:case"end":return t.stop()}}),t)}))),[e,l]);return(0,t.useEffect)((function(){var e=function(){s(u.filter((function(e){var t=Sn.JobH.getJobLoadingInfo(e),r=t.loadingState,n=t.secondsAtLoadingState;return(r===Sn.LoadingT.LoadingState.FULFILLED||r===Sn.LoadingT.LoadingState.REJECTED)&&!e.metadata.isCompletionHandled&&n>Sn.JobC.MAX_AUTO_HANDLE_COMPLETION_DELAY_SECONDS})).map((function(e){return e.metadata.jobId})))};e();var t=setInterval((function(){e()}),Sn.JobC.MAX_AUTO_HANDLE_COMPLETION_DELAY_SECONDS*Sn.TimeC.MILLISECONDS_PER_SECOND);return function(){clearInterval(t)}}),[u]),(0,uw.jsxs)("button",{className:Dn("relative flex items-center space-x-2 rounded-lg px-2 py-1 text-sm font-medium outline-none transition-colors",null==c?"border border-gray-200 bg-white text-gray-900 hover:bg-gray-100":"bg-main-600 text-white hover:bg-main-700"),onClick:d,children:[null==c?(0,uw.jsxs)("span",{children:[(0,uw.jsx)("span",{className:"hidden sm:flex",children:"Recent downloads"}),(0,uw.jsx)("span",{className:"flex sm:hidden",children:"Downloads"})]}):(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)($M,{className:"h-4 w-4 text-white"}),(0,uw.jsx)("span",{children:"Exporting..."})]}),l.length>0&&(0,uw.jsx)("span",{className:"absolute right-0 top-0 inline-flex h-5 min-w-[1.25rem] -translate-y-1/2 translate-x-1/2 items-center justify-center rounded-full border border-gray-200 bg-red-600 px-1 text-xs font-semibold text-white",children:l.length})]})},I0=(We(S0={},ak.IS_PAUSED,(0,uw.jsx)(y0,{className:"h-full w-full"})),We(S0,ak.IS_PLAYING,(0,uw.jsx)(k0,{className:"h-full w-full"})),We(S0,ak.IS_AT_END,(0,uw.jsx)(y0,{className:"h-full w-full"})),We(S0,ak.IS_STALE,(0,uw.jsx)(y0,{className:"h-full w-full"})),S0),O0=(We(E0={},ak.IS_PAUSED,"Play"),We(E0,ak.IS_PLAYING,"Pause"),We(E0,ak.IS_AT_END,"Restart"),We(E0,ak.IS_STALE,"Generate"),E0),R0=function(e){var t=e.clientX,r=e.timelineContainerElement,n=e.timelineDuration,i=e.scale;return Sn.MathH.clip({num:t-r.offsetLeft+r.scrollLeft-96,min:0,max:n*i})},N0=function(){var e=jD(),r=QD(),n=MD(kk.selectExpandedBackgroundVisualAssetReferences),i=MD(kk.selectTimelineCurrentTime),a=MD(kk.selectIsGenerationLoading),o=MD(kk.selectActionButtonState),s=MD(kk.selectTimelineDuration),u=(MD(kk.selectSelectedBackgroundRefId),k((0,t.useState)(0),2)),c=u[0],l=u[1],d=k((0,t.useState)(!1),2),f=d[0],h=d[1],p=$D().width,v=(0,t.useRef)(null),g=(0,t.useRef)(null),m=(0,t.useRef)(null);(0,t.useEffect)((function(){if(null!=m.current){m.current.getBoundingClientRect().right>=window.innerWidth-16&&m.current.scrollIntoView({behavior:"auto",block:"center",inline:"start"})}}),[i]);var y=(0,t.useCallback)((function(){try{e(WN.handleActionButtonPress())}catch(t){e(UM.handleError(t))}}),[e]),b=(0,t.useMemo)((function(){return 0===s?80:Math.max(80,(p-108)/s)}),[p,s]),S=eF(),E=(0,t.useCallback)((function(e){if(null!=v.current){var t=R0({clientX:e.clientX,timelineContainerElement:v.current,timelineDuration:s,scale:b});S((function(){l(t)}),16)}}),[S,s,b]),x=(0,t.useCallback)((function(t){var r,n=null===(r=g.current)||void 0===r?void 0:r.getBoundingClientRect().top;null!=n&&t.clientY-n<67&&t.clientY-n>-5&&e(WN.moveAndAlignTimeline({newTimelineCurrentTime:c/b}))}),[e,c,b]),w=eF(),_=(0,t.useCallback)((function(t){if(t.preventDefault(),null!=v.current&&f){var r=R0({clientX:t.clientX,timelineContainerElement:v.current,timelineDuration:s,scale:b});w((function(){e(WN.moveAndAlignTimeline({newTimelineCurrentTime:r/b}))}),16)}}),[e,w,f,s,b]),T=(0,t.useCallback)((function(e){var t;e.preventDefault(),null===(t=m.current)||void 0===t||t.setPointerCapture(e.pointerId),h(!0)}),[]),A=(0,t.useCallback)((function(e){var t;e.preventDefault(),null===(t=m.current)||void 0===t||t.releasePointerCapture(e.pointerId),h(!1)}),[]);return(0,uw.jsxs)("div",{className:"flex w-full flex-col content-center items-stretch",children:[!r&&(0,uw.jsxs)("div",{className:"relative w-full",children:[(0,uw.jsx)("div",{onMouseMove:E,onMouseDown:x,ref:v,className:"relative w-full overflow-x-auto pb-1 pl-[96px] pr-4 pt-3",children:(0,uw.jsxs)("div",{className:Dn("relative flex h-full items-center justify-center gap-0 pt-6"),style:{minWidth:0===s?"100%":s*b},ref:g,children:[(0,uw.jsx)("div",{className:"hidden animate-pulse"}),(0,uw.jsx)("div",{className:Dn("group absolute left-0 top-0 z-10 flex h-[8px] min-w-full rounded-full bg-gray-100",0===s?"":"cursor-pointer"),children:(0,uw.jsx)("div",{className:Dn("absolute z-10 -mt-[3px] h-[14px] w-[14px] -translate-x-1/2 transform rounded-full bg-gray-400 opacity-0 transition-opacity",0===s?"":"cursor-pointer group-hover:opacity-100"),style:{left:c}})}),(0,uw.jsxs)("div",{className:"absolute top-[2px] z-10 h-[66px] w-[14px] -translate-x-1/2 transform cursor-ew-resize",style:{left:0===s?0:i*b,display:n?"block":"none"},ref:m,onPointerDown:T,onPointerUp:A,onPointerMove:_,children:[(0,uw.jsx)("div",{className:"absolute -left-[1px] -top-[6px] z-10 h-[16px] w-[16px] rounded-full bg-gray-900"}),(0,uw.jsx)("div",{className:"z-5 absolute left-[5px] top-[2px] h-16 w-[4px] rounded-full border border-white bg-gray-900"})]}),(0,uw.jsx)("div",{className:Dn("-mt-[10px] flex h-[56px] min-w-full rounded-lg",0===s?"bg-gray-100":""),children:0===s||null==n?(0,uw.jsx)(uw.Fragment,{}):n.map((function(e,t){return(0,uw.jsx)(SK.div,{id:"scene-".concat(t),transition:{duration:.3,delay:.3+.1*t},style:{flex:e.duration/s},className:Dn(0===t?"":"pl-0.5",t===n.length-1?"":"pr-0.5"),children:(0,uw.jsx)(_0,{backgroundAssetIndex:t,expandedBackgroundVisualAssetReference:e,timelineContainerRef:v,timelineDuration:s,scale:b})},e.refId)}))})]})}),(0,uw.jsx)("button",{id:"video-timeline-action-button",className:Dn("border-1 group absolute left-4 top-[18px] z-20 flex h-16 w-16 items-center justify-center rounded-2xl border border-gray-300 bg-white shadow-lg outline-none ring-2 ring-gray-200 transition-all hover:bg-gray-100 focus:outline-none",a?"cursor-not-allowed":"cursor-pointer"),onClick:y,disabled:a,children:a?(0,uw.jsx)("div",{className:"h-6 w-6",children:(0,uw.jsx)($M,{})}):(0,uw.jsx)("div",{className:Dn("focus:ring-10 flex items-center justify-center text-gray-900",o===ak.IS_PLAYING?"h-8 w-8":"h-7 w-7"),children:I0[o]})}),(0,uw.jsx)(vn,{anchorSelect:"#video-timeline-action-button",variant:"dark",place:"bottom",positionStrategy:"fixed",className:"z-30 shadow-xl",style:{opacity:"100%"},delayShow:500,content:O0[o]}),(0,uw.jsx)("div",{className:"border-1 absolute bottom-0 right-0 h-full w-4 border-r border-white bg-gradient-to-l from-white to-[rgba(255,255,255,0)]"}),(0,uw.jsx)("div",{className:"border-1 absolute bottom-0 left-0 h-full w-4 border-l border-white bg-gradient-to-r from-white to-[rgba(255,255,255,0)]"})]}),(0,uw.jsxs)("div",{className:"my-2 grid h-8 w-full grid-cols-3 px-4 text-sm",children:[r?(0,uw.jsx)("div",{className:"col-span-1 flex items-center justify-start"}):(0,uw.jsxs)("div",{id:"timestamp",className:"col-span-1 flex items-center text-left font-medium text-gray-700",children:[(0,uw.jsx)(T0,{numSeconds:i}),"\xa0/\xa0",(0,uw.jsx)(T0,{numSeconds:s})]}),(0,uw.jsx)("div",{className:"col-span-1 flex items-center justify-center",children:(0,uw.jsx)(P0,{})}),(0,uw.jsx)("div",{className:"col-span-1 flex items-center justify-start"})]})]})},L0=function(e){e.preventDefault()},j0=["maxLoadRetries","onError"],M0=t.forwardRef((function(e,t){var r=e.maxLoadRetries,n=e.onError,i=He(e,j0),a=iF(t),o=nF({onError:n,maxLoadRetries:r});return(0,uw.jsx)("video",ze({ref:a,preload:"auto",playsInline:!0,disablePictureInPicture:!0,onError:o,onContextMenu:L0},i))})),D0=M0,F0=["maxLoadRetries","onMount","onError"],U0=t.forwardRef((function(e,t){var r=e.maxLoadRetries,n=e.onMount,i=e.onError,a=He(e,F0),o=iF(t);ZD((function(){return null!=n&&n(),function(){}}));var s=nF({onError:i,maxLoadRetries:r});return(0,uw.jsx)("img",ze({ref:o,onError:s,onContextMenu:L0},a))})),B0=U0,G0=function(){var e=Ot(Pt().mark((function e(t){var r,n,i,a,o,s,u,c,l,d,f,h,p,v,g,m;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.element,n=t.displayTiming,i=t.assetTrim,a=t.isPreviewPlaying,o=t.timelineCurrentTime,s=t.projectDuration,u=t.syncingSecondsEpsilon,c=t.enableLooping,null!==r&&void 0!==r&&r.src){e.next=3;break}return e.abrupt("return");case 3:if(l=function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.play();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),e.prev=4,null==n||!Sn.AssetH.isDisplayTimingActive({displayTiming:n,currentTime:o,projectDuration:s})){e.next=29;break}if(h=Sn.TypeT.isNumber(r.duration)?r.duration:n.endTime-n.startTime,p=h*(null!==(d=null===i||void 0===i?void 0:i.startProportion)&&void 0!==d?d:0),v=h*(null!==(f=null===i||void 0===i?void 0:i.endProportion)&&void 0!==f?f:1),g=(o-n.startTime)%(v-p)+p,(m=Math.abs(r.currentTime-g)>=u||r.currentTime>=h&&a&&c)&&(r.currentTime=g),!a){e.next=23;break}if(!r.paused){e.next=18;break}return e.next=16,l();case 16:e.next=21;break;case 18:if(!(r instanceof HTMLVideoElement&&r.readyState<2)){e.next=21;break}return e.next=21,l();case 21:e.next=27;break;case 23:if(!(m&&r instanceof HTMLVideoElement&&r.readyState<2)){e.next=26;break}return e.next=26,l();case 26:r.pause();case 27:e.next=31;break;case 29:r.currentTime=0,r.paused||r.pause();case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(4),console.error(e.t0);case 36:case"end":return e.stop()}}),e,null,[[4,33]])})));return function(t){return e.apply(this,arguments)}}(),V0=null!==(x0=null===(w0=window)||void 0===w0?void 0:w0.devicePixelRatio)&&void 0!==x0?x0:1,H0=function(e){var r=e.previewWidth,n=e.previewHeight,i=e.timelineCurrentTime,a=e.timelineDuration,o=e.isPreviewPlaying,s=e.expandedBackgroundVisualAssetReferences,u=e.storageIdFileRecord,c=e.stockVisualAssetMetadataStore,l=(0,t.useRef)(null),d=(0,t.useRef)(null),f=(0,t.useRef)(null),h=(0,t.useRef)(null),p=(0,t.useRef)(null),v=(0,t.useRef)(null),g=(0,t.useRef)(null),m=(0,t.useMemo)((function(){var e,t=T(s.entries());try{for(t.s();!(e=t.n()).done;){var r=k(e.value,2),n=r[0],a=r[1];if(i<a.overallAssetTiming.endTime)return n}}catch(o){t.e(o)}finally{t.f()}return s.length-1}),[s,i]),y=(0,t.useMemo)((function(){return r*V0}),[r]),b=(0,t.useMemo)((function(){return n*V0}),[n]),S=(0,t.useMemo)((function(){var e=[void 0,void 0,void 0],t=[void 0,void 0,void 0];return[m-1,m,m+1].forEach((function(r){var n=Sn.ArrayH.arrGetOrOmit(s,r),i=r%3,a=function(){if(null==n)return{imageSrc:void 0,videoSrc:void 0};var e=Sn.AssetH.getAssetLocatorUrl(n.locator,{useThumbnailIfAvailable:!1,storageIdFileRecord:u,stockVisualAssetMetadataStore:c,minSize:480,idealSize:540});if(null!=e){var t,r=Sn.FileH.getFileExtension(e);if(!0===(null===(t=Sn.StorageC.SUPPORTED_FILE_TYPE_DESCRIPTORS.find((function(e){return e.fileExtension===r})))||void 0===t?void 0:t.mimeType.startsWith("image")))return{imageSrc:e,videoSrc:void 0}}return{imageSrc:Sn.AssetH.getAssetLocatorUrl(n.locator,{useThumbnailIfAvailable:!0,storageIdFileRecord:u,stockVisualAssetMetadataStore:c,minSize:360,idealSize:540}),videoSrc:e}}(),o=a.imageSrc,l=a.videoSrc;e[i]=o,t[i]=l})),{imageSrcs:e,videoSrcs:t}}),[s,m,u,c]),E=S.imageSrcs,x=S.videoSrcs,w=(0,t.useCallback)((function(e){var t=e%3;return 0===t?{imageElement:l.current,videoElement:h.current}:1===t?{imageElement:d.current,videoElement:p.current}:2===t?{imageElement:f.current,videoElement:v.current}:{imageElement:null,videoElement:null}}),[]);return(0,t.useEffect)((function(){var e,t=g.current;if(null!=t){t.width=y,t.height=b;var r=t.getContext("2d");if(null!=r){var n=w(m),u=n.videoElement,c=n.imageElement,l=Sn.ArrayH.arrGetOrOmit(s,m);G0({element:u,displayTiming:null===l||void 0===l?void 0:l.overallAssetTiming,assetTrim:null!==(e=null===l||void 0===l?void 0:l.trim)&&void 0!==e?e:null,isPreviewPlaying:o,timelineCurrentTime:i,projectDuration:a,syncingSecondsEpsilon:o?1:.1,enableLooping:!0}).catch(console.error);var d=w(m-1).videoElement;null!==d&&void 0!==d&&d.src&&(Sn.TypeT.isNumber(d.duration)&&(d.currentTime=d.duration),d.pause());var f=w(m+1).videoElement;null!==f&&void 0!==f&&f.src&&(f.currentTime=0,f.pause());var h=function(){r.save();try{var e=null!==u&&void 0!==u&&u.src&&u.readyState>=2?[u]:null!==u&&void 0!==u&&u.src&&u.readyState>=1?null!==c&&void 0!==c&&c.src&&c.complete?[c,u]:[u]:null!==c&&void 0!==c&&c.src&&c.complete?[c]:[];if(0===e.length)return;var t=Sn.ArrayH.arrGetLast(e);if(r.clearRect(0,0,y,b),null==l)return;var n=Sn.CanvasH.getNumBlurPixels({canvasWidth:y,canvasHeight:b});r.filter=l.containAndBlur?"blur(".concat(n,"px)"):"none";var a=Sn.AnimationH.getBackgroundKeyFramesForAnimationType(l.animationType),o=Sn.AnimationH.backgroundKeyFramesToCurrentKeyFrame({backgroundKeyFrames:a,completionProportion:Sn.MathH.clip({num:(i-l.overallAssetTiming.startTime)/l.duration,min:0,max:1})}),s=Sn.FileH.getVisualElementTrueSize(t),d=s.width,f=s.height,h=Math.max(y,b*d/f),p=Math.max(b,y*f/d),v=(y-h)/2,g=(b-p)/2,m=Sn.AnimationH.getRectPositionForKeyFrame({defaultRectPosition:{x:v,y:g,width:h,height:p},keyFrame:o});if(r.fillStyle="black",r.fillRect(m.x,m.y,m.width,m.height),e.forEach((function(e){r.drawImage(e,m.x,m.y,m.width,m.height)})),l.containAndBlur){r.filter="none";var S=Math.min(y,b*d/f),E=Math.min(b,y*f/d),x=(y-S)/2,w=(b-E)/2;r.fillStyle="black";var k=Sn.AnimationH.getRectPositionForKeyFrame({defaultRectPosition:{x:x,y:w,width:S,height:E},keyFrame:o});r.fillRect(k.x,k.y,k.width,k.height),e.forEach((function(e){r.drawImage(e,k.x,k.y,k.width,k.height)}))}}catch(_){console.error(_)}r.restore()};h();var p=[];return u&&p.push(u),c&&p.push(c),p.forEach((function(e){e.addEventListener("loadedmetadata",h),e.addEventListener("loadeddata",h),e.addEventListener("load",h)})),function(){p.forEach((function(e){e.removeEventListener("loadedmetadata",h),e.removeEventListener("loadeddata",h),e.removeEventListener("load",h)}))}}}}),[y,b,m,s,i,a,o,w]),(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)(B0,{ref:l,src:Sn.ArrayH.arrGetOrOmit(E,0),className:"hidden",maxLoadRetries:5}),(0,uw.jsx)(B0,{ref:d,src:Sn.ArrayH.arrGetOrOmit(E,1),className:"hidden",maxLoadRetries:5}),(0,uw.jsx)(B0,{ref:f,src:Sn.ArrayH.arrGetOrOmit(E,2),className:"hidden",maxLoadRetries:5}),(0,uw.jsx)(D0,{ref:h,src:Sn.ArrayH.arrGetOrOmit(x,0),className:"hidden",maxLoadRetries:5,muted:!0}),(0,uw.jsx)(D0,{ref:p,src:Sn.ArrayH.arrGetOrOmit(x,1),className:"hidden",maxLoadRetries:5,muted:!0}),(0,uw.jsx)(D0,{ref:v,src:Sn.ArrayH.arrGetOrOmit(x,2),className:"hidden",maxLoadRetries:5,muted:!0}),(0,uw.jsx)("canvas",{width:y,height:b,ref:g,className:"absolute h-full w-full"})]})},W0=["volume","maxLoadRetries","onError"],q0=t.forwardRef((function(e,r){var n=e.volume,i=e.maxLoadRetries,a=e.onError,o=He(e,W0),s=iF(r);(0,t.useEffect)((function(){var e=s.current;e&&void 0!==n&&(e.volume=n)}),[s,n]);var u=nF({onError:a,maxLoadRetries:i});return(0,uw.jsx)("audio",ze({ref:s,preload:"auto",onError:u,onContextMenu:L0},o))})),z0=q0,Y0=function(e){var r,n,i,a=e.timelineCurrentTime,o=e.timelineDuration,s=e.isPreviewPlaying,u=e.expandedAudioAssetReferences,c=e.storageIdFileRecord,l=e.stockVisualAssetMetadataStore,d=(0,t.useRef)(null),f=(0,t.useRef)(null),h=(0,t.useRef)(null),p=(0,t.useMemo)((function(){var e,t=T(u.entries());try{for(t.s();!(e=t.n()).done;){var r=k(e.value,2),n=r[0],i=r[1];if(a<i.overallAssetTiming.endTime)return n}}catch(o){t.e(o)}finally{t.f()}return u.length-1}),[u,a]),v=(0,t.useMemo)((function(){var e=[void 0,void 0,void 0],t=[0,0,0];return[p-1,p,p+1].forEach((function(r){var n,i=Sn.ArrayH.arrGetOrOmit(u,r),a=r%3,o=function(){if(null!=i)return Sn.AssetH.getAssetLocatorUrl(i.locator,{useThumbnailIfAvailable:!1,storageIdFileRecord:c,stockVisualAssetMetadataStore:l,minSize:0,idealSize:0})}();e[a]=o,t[a]=null!==(n=null===i||void 0===i?void 0:i.volume)&&void 0!==n?n:0})),{audioSrcs:e,audioVolumes:t}}),[u,p,c,l]),g=v.audioSrcs,m=v.audioVolumes,y=(0,t.useCallback)((function(e){var t=e%3;return 0===t?d.current:1===t?f.current:2===t?h.current:null}),[]);return(0,t.useEffect)((function(){var e=y(p),t=Sn.ArrayH.arrGetOrOmit(u,p);G0({element:e,displayTiming:null===t||void 0===t?void 0:t.overallAssetTiming,assetTrim:null,isPreviewPlaying:s,timelineCurrentTime:a,projectDuration:o,syncingSecondsEpsilon:s?1:.1,enableLooping:!1}).catch(console.error);var r=y(p-1);null!==r&&void 0!==r&&r.src&&(Sn.TypeT.isNumber(r.duration)&&(r.currentTime=r.duration),r.pause());var n=y(p+1);null!==n&&void 0!==n&&n.src&&(n.currentTime=0,n.pause())}),[p,u,a,o,s,y]),(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)(z0,{ref:d,src:Sn.ArrayH.arrGetOrOmit(g,0),className:"hidden",volume:null!==(r=Sn.ArrayH.arrGetOrOmit(m,0))&&void 0!==r?r:0,maxLoadRetries:5}),(0,uw.jsx)(z0,{ref:f,src:Sn.ArrayH.arrGetOrOmit(g,1),className:"hidden",volume:null!==(n=Sn.ArrayH.arrGetOrOmit(m,1))&&void 0!==n?n:0,maxLoadRetries:5}),(0,uw.jsx)(z0,{ref:h,src:Sn.ArrayH.arrGetOrOmit(g,2),className:"hidden",volume:null!==(i=Sn.ArrayH.arrGetOrOmit(m,2))&&void 0!==i?i:0,maxLoadRetries:5})]})},X0=function(e){var r=e.timelineCurrentTime,n=e.timelineDuration,i=e.isPreviewPlaying,a=e.musicAssetReference,o=e.storageIdFileRecord,s=e.stockVisualAssetMetadataStore,u=(0,t.useRef)(null),c=(0,t.useMemo)((function(){return{musicSrc:function(){if(null!=a)return Sn.AssetH.getAssetLocatorUrl(a.locator,{useThumbnailIfAvailable:!1,storageIdFileRecord:o,stockVisualAssetMetadataStore:s,minSize:0,idealSize:0})}(),musicVolume:a.volume}}),[a,o,s]),l=c.musicSrc,d=c.musicVolume;return(0,t.useEffect)((function(){var e=u.current;G0({element:e,displayTiming:null==a?void 0:{startTime:0,endTime:n},assetTrim:null,isPreviewPlaying:i,timelineCurrentTime:r,projectDuration:n,syncingSecondsEpsilon:i?1:.1,enableLooping:!0}).catch(console.error)}),[a,r,n,i]),(0,uw.jsx)(uw.Fragment,{children:(0,uw.jsx)(z0,{ref:u,src:l,className:"hidden",volume:d,maxLoadRetries:5})})},K0=function(e){var r=e.loadingMessages,n=e.isLight,i=void 0!==n&&n,a=k((0,t.useState)(r[0]),2),o=a[0],s=a[1];return ZD((function(){return setInterval((function(){s(r[Math.floor(Math.random()*r.length)])}),3e3),function(){}})),(0,uw.jsx)(uw.Fragment,{children:(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)("div",{className:Dn("absolute left-0 top-0 z-10 h-full w-full overflow-hidden backdrop-blur-sm",i?"bg-white/80":"bg-black/80"),children:(0,uw.jsxs)("div",{className:"absolute left-1/2 top-1/2 z-10 -translate-x-1/2 -translate-y-1/2","data-aos":"fade-up","data-aos-delay":"100",children:[(0,uw.jsx)("div",{className:Dn("absolute left-1/2 top-1/2 z-10 h-12 w-12 -translate-x-1/2 -translate-y-1/2 animate-pulse overflow-hidden blur-md",i?"text-black/10":"text-white/10"),children:(0,uw.jsx)($M,{})}),(0,uw.jsx)("div",{className:"relative",children:(0,uw.jsx)("div",{className:"flex items-center justify-center",children:(0,uw.jsx)("div",{className:"relative flex h-48 w-48 items-center justify-center",children:(0,uw.jsxs)("svg",{className:"pointer-events-none absolute inset-0 left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 transform opacity-50 blur-lg will-change-transform",width:"480",height:"480",viewBox:"0 0 480 480",xmlns:"http://www.w3.org/2000/svg",children:[(0,uw.jsx)("defs",{children:(0,uw.jsxs)("linearGradient",{id:"pulse-a",x1:"50%",x2:"50%",y1:"100%",y2:"0%",children:[(0,uw.jsx)("stop",{offset:"0%",stopColor:i?"#000":"#fff"}),(0,uw.jsx)("stop",{offset:"100%",stopColor:i?"#999":"#555"})]})}),(0,uw.jsxs)("g",{fillRule:"evenodd",children:[(0,uw.jsx)("path",{className:"pulse",fill:"url(#pulse-a)",fillRule:"evenodd",d:"M240,0 C372.5484,0 480,107.4516 480,240 C480,372.5484 372.5484,480 240,480 C107.4516,480 0,372.5484 0,240 C0,107.4516 107.4516,0 240,0 Z M240,88.8 C156.4944,88.8 88.8,156.4944 88.8,240 C88.8,323.5056 156.4944,391.2 240,391.2 C323.5056,391.2 391.2,323.5056 391.2,240 C391.2,156.4944 323.5056,88.8 240,88.8 Z"}),(0,uw.jsx)("path",{className:"pulse pulse-1",fill:"url(#pulse-a)",fillRule:"evenodd",d:"M240,0 C372.5484,0 480,107.4516 480,240 C480,372.5484 372.5484,480 240,480 C107.4516,480 0,372.5484 0,240 C0,107.4516 107.4516,0 240,0 Z M240,88.8 C156.4944,88.8 88.8,156.4944 88.8,240 C88.8,323.5056 156.4944,391.2 240,391.2 C323.5056,391.2 391.2,323.5056 391.2,240 C391.2,156.4944 323.5056,88.8 240,88.8 Z"}),(0,uw.jsx)("path",{className:"pulse pulse-2",fill:"url(#pulse-a)",fillRule:"evenodd",d:"M240,0 C372.5484,0 480,107.4516 480,240 C480,372.5484 372.5484,480 240,480 C107.4516,480 0,372.5484 0,240 C0,107.4516 107.4516,0 240,0 Z M240,88.8 C156.4944,88.8 88.8,156.4944 88.8,240 C88.8,323.5056 156.4944,391.2 240,391.2 C323.5056,391.2 391.2,323.5056 391.2,240 C391.2,156.4944 323.5056,88.8 240,88.8 Z"})]})]})})})})]})}),(0,uw.jsx)(SK.div,{animate:{opacity:[0,1,1,1,1,1,0]},transition:{duration:3,repeat:1/0},className:Dn("absolute left-1/2 top-1/2 z-20 w-full -translate-x-1/2 -translate-y-1/2 text-center text-xl font-medium",i?"text-gray-900":"text-white"),children:o})]})})},J0=function(e){var r=e.previewWidth,n=e.previewHeight,i=e.timelineCurrentTime,a=e.timelineDuration,o=e.expandedCaptions,s=jD(),u=(0,t.useRef)(null),c=(0,t.useMemo)((function(){var e,t=T(o.entries());try{for(t.s();!(e=t.n()).done;){var r=k(e.value,2),n=r[0],s=r[1];if(Sn.AssetH.isDisplayTimingActive({displayTiming:s.overallCaptionTiming,currentTime:i,projectDuration:a}))return n}}catch(u){t.e(u)}finally{t.f()}return o.length-1}),[o,i,a]),l=r,d=n;return(0,t.useEffect)((function(){if(!(null==u.current||l<=0||d<=0)){u.current.width=l,u.current.height=d;var e=new aA(u.current,{width:l,height:d,enableRetinaScaling:!0}),t=Sn.ArrayH.arrGetOrOmit(o,c);if(null!=t)try{Sn.CanvasH.drawTextOnCanvas({fabricCanvas:e,text:t.captionText,captionStyle:t.captionStyle,isPreview:!1,useNodeFabric:!1})}catch(r){s(UM.handleError(r,{defaultErr:Sn.ErrorH.newHiddenError("Failed to draw video caption."),forceHidden:!0}))}return function(){e.dispose()}}}),[s,o,c,l,d]),(0,uw.jsx)("canvas",{ref:u,width:l,height:d,className:"absolute h-full w-full"})},Z0=Sn.ArrayH.arrShuffle(["Finding relevant stock footage...","Mixing the audio...","Analyzing the script...","Cropping background videos...","Generating a storyboard...","Rendering the final video...","Adding captions...","Auto-editing clips...","Applying custom settings...","Generating AI voiceover...","Optimizing AI voiceover...","Smoothing AI voiceover...","Trimming video clips...","Balancing audio levels...","Adjusting video quality...","Finalizing video output...","Setting up your timeline...","Generating preview...","Merging video clips...","Loading video assets...","Predicting optimal edits...","Analyzing video content...","Refining output quality...","Optimizing playback speed...","Finding relevant assets..."]),Q0=function(){var e=jD(),r=(MD(kk.selectProjectBlock),MD(kk.selectProjectMusic)),n=MD(kk.selectProjectExpandedCaptions),i=MD(kk.selectProjectAspectRatio),a=MD(kk.selectTimelineCurrentTime),o=MD(kk.selectTimelineDuration),s=MD(kk.selectIsPreviewPlaying),c=MD(kk.selectExpandedBackgroundVisualAssetReferences),l=MD(kk.selectExpandedAudioAssetReferences),d=MD(kk.selectIsGenerationLoading),f=MD(kk.selectProjectLastProjectwideGenerationInput),h=MD(kk.selectProjectIsGenerationRequired),p=MD(Ck.selectStorageIdFileRecord),v=MD(kk.selectActionButtonState),g=MD(Ck.selectStockVisualAssetMetadataStore),m=(0,t.useRef)(null),y=k((0,t.useState)({width:0,height:0}),2),b=y[0],S=y[1],E=k((0,t.useState)(Z0),2),x=E[0],w=E[1];(0,t.useEffect)((function(){w((function(e){return u(Sn.ArrayH.arrShuffle(e))}))}),[d]),(0,t.useEffect)((function(){if(null!=m.current){var e=function(){var e,t,r,n=null===(e=m.current)||void 0===e?void 0:e.getBoundingClientRect(),i={width:null!==(t=null===n||void 0===n?void 0:n.width)&&void 0!==t?t:0,height:null!==(r=null===n||void 0===n?void 0:n.height)&&void 0!==r?r:0};S((function(e){return e.width!==i.width||e.height!==i.height?i:e}))};e();var t=new ResizeObserver(e);return t.observe(m.current),function(){t.disconnect()}}}),[m]),(0,t.useEffect)((function(){if(d){var e=function(e){e.preventDefault(),e.returnValue="You still haven't generated a video. Are you sure you want to leave?"};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}}),[d]);var _=(0,t.useMemo)((function(){return Math.min(b.width,b.height*i.width/i.height)}),[b,i]),T=(0,t.useMemo)((function(){return Math.min(b.height,b.width*i.height/i.width)}),[b,i]),A=(0,t.useMemo)((function(){return{width:_,height:T}}),[_,T]),C=(0,t.useCallback)((function(){try{e(WN.revertToLastGeneratedProject())}catch(t){e(UM.handleError(t))}}),[e]),P=(0,t.useCallback)((function(){Mx("click_play_button_in_preview");try{e(WN.handleActionButtonPress())}catch(t){e(UM.handleError(t))}}),[e]),I=(0,t.useCallback)((function(){e(Ew())}),[e]);return(0,uw.jsxs)("div",{className:"h-full flex-col overflow-hidden px-2 py-2",children:[null!=r&&(0,uw.jsx)(X0,{timelineCurrentTime:a,timelineDuration:o,isPreviewPlaying:s,musicAssetReference:r.musicAssetReference,storageIdFileRecord:p,stockVisualAssetMetadataStore:g}),null!=l&&(0,uw.jsx)(Y0,{timelineCurrentTime:a,timelineDuration:o,isPreviewPlaying:s,expandedAudioAssetReferences:l,storageIdFileRecord:p,stockVisualAssetMetadataStore:g}),(0,uw.jsx)("div",{className:"relative flex h-full w-full items-center justify-center",ref:m,children:(0,uw.jsxs)("div",{className:"group relative h-full w-full overflow-hidden rounded-2xl bg-gray-300 sm:rounded-3xl",style:A,children:[(0,uw.jsxs)(SK.div,{className:"absolute h-full w-full overflow-hidden rounded-2xl sm:rounded-3xl",initial:{filter:d||h?"blur(10px)":"blur(0px)"},animate:{filter:d||h?"blur(10px)":"blur(0px)"},transition:{delay:d?.5:0,duration:.5},children:[null!=c&&(0,uw.jsx)(H0,{previewWidth:_,previewHeight:T,timelineCurrentTime:a,timelineDuration:o,isPreviewPlaying:s,expandedBackgroundVisualAssetReferences:c,storageIdFileRecord:p,stockVisualAssetMetadataStore:g}),null!=n&&(0,uw.jsx)(J0,{previewWidth:_,previewHeight:T,timelineCurrentTime:a,timelineDuration:o,expandedCaptions:n}),(0,uw.jsx)(SK.div,{animate:{left:d?"-100%":"150%"},initial:{left:"-100%"},transition:{duration:.6,ease:"easeInOut",delay:.5},className:Dn("absolute -top-[100%] z-20 h-[400%] w-10 rotate-45 overflow-hidden bg-white blur-3xl",d?"opacity-0":"opacity-75")})]},d?"blur":"unblur"),d&&(0,uw.jsx)(K0,{loadingMessages:x}),h&&!d&&(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsxs)("div",{className:"absolute left-0 top-0 z-10 h-full w-full overflow-hidden rounded-2xl sm:rounded-3xl",children:[(0,uw.jsx)("div",{className:"absolute left-1/2 top-1/2 z-20 -translate-x-1/2 -translate-y-1/2 transform",children:(0,uw.jsx)(tD,{id:"generate-button",onClick:function(){e(WN.handleActionButtonPress())},isLoading:d,innerClassName:"flex flex-row items-center justify-center space-x-2 rounded-xl",className:Dn("rounded-xl border border-transparent px-4 py-2 text-center text-lg font-semibold text-gray-900 outline-none ring-0 transition-all",d?"bg-gray-200":"bg-white hover:bg-gray-200"),children:(0,uw.jsx)("div",{children:"Generate voice-over"})})}),null!=f&&(0,uw.jsxs)("div",{className:"absolute bottom-2 z-10 w-full items-center justify-center text-center",children:[(0,uw.jsx)("div",{className:"mx-auto hidden w-full pb-2 text-center text-sm font-medium text-white lg:block",children:"Don't want to regenerate?"}),(0,uw.jsx)("button",{onClick:C,className:"cursor-pointer rounded-lg bg-white px-2 py-1 text-sm font-medium text-gray-900 transition-all hover:bg-gray-200 focus:outline-none focus:ring-0",children:"Reset to last generation"})]})]}),(0,uw.jsx)(SK.div,{animate:{opacity:1},initial:{opacity:0},className:"z-1 absolute left-0 top-0 h-full w-full overflow-hidden rounded-2xl bg-[rgba(0,0,0,0.75)] sm:rounded-3xl"})]}),!h&&!d&&(0,uw.jsx)("div",{className:Dn("absolute bottom-0 left-0 top-0 z-40 flex w-full items-end overflow-hidden rounded-2xl align-bottom transition-all group-hover:opacity-100 sm:rounded-3xl",0===a||v===ak.IS_AT_END?"opacity-100":"opacity-0"),children:(0,uw.jsxs)("div",{className:"mt-auto w-full space-y-2 bg-gradient-to-t from-black/60 to-transparent p-4 pt-12",children:[(0,uw.jsx)("div",{className:"w-full",children:(0,uw.jsx)(BQ,{axis:"x",x:a,disabled:d,xmin:0,xmax:o,xstep:.001,onChange:function(t){var r=t.x;e(WN.moveAndAlignTimeline({newTimelineCurrentTime:r}))},styles:{track:{backgroundColor:"rgb(209 213 219)",width:"100%",height:4,cursor:"pointer"},active:{backgroundColor:"rgb(220 38 38)",cursor:"pointer"},thumb:{width:16,height:16,backgroundColor:"rgb(220 38 38)",boxShadow:"rgb(0 0 0)",cursor:"pointer"},disabled:{opacity:.5}}})}),(0,uw.jsxs)("div",{className:"flex w-full items-center justify-between space-x-2 sm:pl-1",children:[(0,uw.jsx)("button",{className:Dn("h-7 w-7 flex-none text-white focus:outline-none focus:ring-0"),onClick:P,children:I0[v]}),(0,uw.jsxs)("div",{className:"flex-grow items-center justify-end space-x-3 text-right",children:[(0,uw.jsx)("div",{className:"inline-flex py-1 text-xs font-medium text-gray-100",children:"Preview not working?"}),(0,uw.jsx)("button",{onClick:I,className:"cursor-pointer rounded-lg bg-white px-2 py-1 text-sm font-medium text-gray-900 transition-all hover:bg-gray-200 focus:outline-none focus:ring-0",children:"Download"})]})]})]})})]})})]})},$0=["title","titleId"];var e1=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,$0);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"}))})),t1=["title","titleId"];var r1=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,t1);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"}))})),n1=["title","titleId"];var i1=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,n1);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M12 6.75a5.25 5.25 0 0 1 6.775-5.025.75.75 0 0 1 .313 1.248l-3.32 3.319c.063.475.276.934.641 1.299.365.365.824.578 1.3.64l3.318-3.319a.75.75 0 0 1 1.248.313 5.25 5.25 0 0 1-5.472 6.756c-1.018-.086-1.87.1-2.309.634L7.344 21.3A3.298 3.298 0 1 1 2.7 16.657l8.684-7.151c.533-.44.72-1.291.634-2.309A5.342 5.342 0 0 1 12 6.75ZM4.117 19.125a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Z",clipRule:"evenodd"}),t.createElement("path",{d:"m10.076 8.64-2.201-2.2V4.874a.75.75 0 0 0-.364-.643l-3.75-2.25a.75.75 0 0 0-.916.113l-.75.75a.75.75 0 0 0-.113.916l2.25 3.75a.75.75 0 0 0 .643.364h1.564l2.062 2.062 1.575-1.297Z"}),t.createElement("path",{fillRule:"evenodd",d:"m12.556 17.329 4.183 4.182a3.375 3.375 0 0 0 4.773-4.773l-3.306-3.305a6.803 6.803 0 0 1-1.53.043c-.394-.034-.682-.006-.867.042a.589.589 0 0 0-.167.063l-3.086 3.748Zm3.414-1.36a.75.75 0 0 1 1.06 0l1.875 1.876a.75.75 0 1 1-1.06 1.06L15.97 17.03a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))})),a1=["title","titleId"];var o1=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,a1);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm14.024-.983a1.125 1.125 0 0 1 0 1.966l-5.603 3.113A1.125 1.125 0 0 1 9 15.113V8.887c0-.857.921-1.4 1.671-.983l5.603 3.113Z",clipRule:"evenodd"}))})),s1=window.matchMedia("(display-mode: standalone)").matches,u1=["title","titleId"];var c1=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,u1);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"}))})),l1=["title","titleId"];var d1=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,l1);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.75 4.5-7.5 7.5 7.5 7.5m-6-15L5.25 12l7.5 7.5"}))})),f1=function(e){var t=e.title,r=e.children;return(0,uw.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,uw.jsx)("div",{className:"w-full flex-shrink-0 px-2",children:(0,uw.jsx)("div",{className:"w-full justify-center truncate border-b border-gray-100 px-6 py-1.5 text-center text-base font-medium text-gray-900",children:t})}),(0,uw.jsx)("div",{className:"w-full flex-grow overflow-y-scroll p-3",children:r})]})},h1=function(){return(0,uw.jsx)(f1,{title:"No selection"})},p1=["title","titleId"];var v1=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,p1);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M2.515 10.674a1.875 1.875 0 0 0 0 2.652L8.89 19.7c.352.351.829.549 1.326.549H19.5a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-9.284c-.497 0-.974.198-1.326.55l-6.375 6.374ZM12.53 9.22a.75.75 0 1 0-1.06 1.06L13.19 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06l1.72-1.72 1.72 1.72a.75.75 0 1 0 1.06-1.06L15.31 12l1.72-1.72a.75.75 0 1 0-1.06-1.06l-1.72 1.72-1.72-1.72Z",clipRule:"evenodd"}))})),g1=function(e){var r=e.value,n=e.onNewValue,i=e.onPressEnter,a=e.className,o=e.placeholder,s=e.type,u=e.required,c=e.autoComplete,l=e.autoFocus,d=e.disabled,f=e.dataCy,h=(0,t.useCallback)((function(e){"Enter"===e.key&&null!=i&&i()}),[i]);return(0,uw.jsx)("input",{type:null!==s&&void 0!==s?s:"text",value:r,required:null!==u&&void 0!==u&&u,onChange:function(e){n(e.target.value)},onKeyDown:h,autoComplete:c,autoFocus:l,className:Dn("text-md block w-full rounded-lg border-gray-200 text-gray-900 transition-colors placeholder:text-gray-400 hover:border-gray-300 focus:border-gray-700 focus:ring-1 focus:ring-inset focus:ring-gray-700",null!==a&&void 0!==a?a:""),placeholder:o,disabled:d,"data-cy":f})},m1=["title","titleId"];var y1=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,m1);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}));function b1(){return b1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b1.apply(this,arguments)}function S1(e,t){return S1=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S1(e,t)}var E1=function(e){var r,n;function i(){return e.apply(this,arguments)||this}n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,S1(r,n);var a=i.prototype;return a.getColumns=function(){var e=this.props,r=e.children,n=e.columnsCount,i=Array.from({length:n},(function(){return[]}));return t.Children.forEach(r,(function(e,r){e&&t.isValidElement(e)&&i[r%n].push(e)})),i},a.renderColumns=function(){var e=this.props.gutter;return this.getColumns().map((function(r,n){return t.createElement("div",{key:n,style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch",flex:1,width:0,gap:e}},r.map((function(e){return e})))}))},a.render=function(){var e=this.props,r=e.gutter,n=e.className,i=e.style;return t.createElement("div",{style:b1({display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"stretch",boxSizing:"border-box",width:"100%",gap:r},i),className:n},this.renderColumns())},i}(t.Component);E1.propTypes={},E1.defaultProps={columnsCount:3,gutter:"0",className:null,style:{}};var x1=E1,w1="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,k1=function(){var e=function(){var e=(0,t.useState)(!1),r=e[0],n=e[1];return w1((function(){n(!0)}),[]),r}(),r=(0,t.useState)(0),n=r[0],i=r[1],a=(0,t.useCallback)((function(){e&&i(window.innerWidth)}),[e]);return w1((function(){if(e)return window.addEventListener("resize",a),a(),function(){return window.removeEventListener("resize",a)}}),[e,a]),n},_1=function(e){var r=e.columnsCountBreakPoints,n=void 0===r?{350:1,750:2,900:3}:r,i=e.children,a=e.className,o=void 0===a?null:a,s=e.style,u=void 0===s?null:s,c=k1(),l=(0,t.useMemo)((function(){var e=Object.keys(n).sort((function(e,t){return e-t})),t=e.length>0?n[e[0]]:1;return e.forEach((function(e){e<c&&(t=n[e])})),t}),[c,n]);return t.createElement("div",{className:o,style:u},t.Children.map(i,(function(e,r){return t.cloneElement(e,{key:r,columnsCount:l})})))};_1.propTypes={};var T1=_1,A1=x1,C1=function(e){return e.modal.isModalOpen},P1=function(e){return e.modal.modalData},I1=function(e){var r=e.tabInfos,n=e.children,i=e.header,a=e.isOpen,o=e.onChangeIsOpen,s=e.currentTabId,u=e.onChangeTabId,c=e.hasSaveChanges,l=void 0!==c&&c,d=e.isClosable,f=void 0===d||d,h=MD(C1),p=(0,t.useCallback)((function(){f&&null!=o&&o(!1)}),[f,o]);return(0,uw.jsx)(iU.Root,{show:a&&!h,as:t.Fragment,children:(0,uw.jsxs)(HB,{as:"div",className:"relative z-30",onClose:p,children:[(0,uw.jsx)(iU.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,uw.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,uw.jsx)("div",{className:"fixed inset-0 z-30 overflow-y-auto",children:(0,uw.jsx)("div",{className:"flex min-h-full items-end justify-center text-center sm:items-center",children:(0,uw.jsx)(iU.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,uw.jsxs)(HB.Panel,{className:"relative mt-8 transform overflow-hidden rounded-t-3xl bg-white px-4 py-6 text-left shadow-xl transition-all sm:mb-4 sm:mt-4 sm:rounded-3xl sm:p-6",children:[f&&(0,uw.jsx)("div",{className:"absolute right-0 top-0 block pr-4 pt-4",children:(0,uw.jsxs)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-0",onClick:p,"data-cy":"close-modal-button",children:[(0,uw.jsx)("span",{className:"sr-only",children:"Close"}),(0,uw.jsx)(qB,{className:"h-6 w-6","aria-hidden":"true"})]})}),(0,uw.jsxs)("div",{className:"w-[42rem] max-w-full",children:[i,r&&r.length>0&&u&&s&&(0,uw.jsx)("div",{className:"-mt-2",children:(0,uw.jsx)(VQ,{tabs:r,currentTabValue:s})}),(0,uw.jsx)("div",{children:n}),l&&(0,uw.jsx)("div",{className:"flex items-center justify-end pt-4",children:(0,uw.jsx)("button",{type:"button",className:"rounded-lg bg-main-600 px-3 py-2 text-sm font-medium text-white transition-colors hover:bg-main-700 focus:outline-none focus:ring-0",onClick:p,children:"Save changes"})})]})]})})})})]})})},O1=[{text:"Contain",value:"contain_and_blur"},{text:"Cover",value:"cover"}],R1=(Sn.AnimationT.AnimationType.NONE,Sn.AnimationT.AnimationType.ZOOM_IN,Sn.AnimationT.AnimationType.ZOOM_OUT,function(e){return e.STOCK_VIDEOS="STOCK_VIDEOS",e.UPLOADS="UPLOADS",e}(R1||{})),N1={storageScope:{type:Sn.StorageT.WorkspaceStorageScopeType.GLOBAL},storageFileTypes:[Sn.StorageT.WorkspaceStorageFileType.IMAGE,Sn.StorageT.WorkspaceStorageFileType.VIDEO]},L1=function(e){var r=e.backgroundProjectSidePanelSelection,n=jD(),i=MD(Ck.selectStorageIdFileRecord),a=MD(Ck.selectStockVisualAssetMetadataStore),o=MD(kk.selectExpandedBackgroundVisualAssetReferences),s=MD(kk.selectSelectedBackgroundRefId),u=MD(kk.selectProjectAspectRatio),c=MD(C1),l=(0,t.useRef)(null),d=k((0,t.useState)(!1),2),f=d[0],h=d[1],p=k((0,t.useState)(!1),2),v=p[0],g=p[1],m=k((0,t.useState)(!1),2),y=m[0],b=m[1],S=k((0,t.useState)(R1.STOCK_VIDEOS),2),E=S[0],x=S[1],w=k((0,t.useState)(!1),2),_=w[0],T=w[1],A=k((0,t.useState)(""),2),C=A[0],P=A[1],I=k((0,t.useState)(null),2),O=I[0],R=I[1],N=k((0,t.useState)(!1),2),L=N[0],j=N[1],M=k((0,t.useState)(!1),2),D=M[0],F=M[1],U=(0,t.useMemo)((function(){return null===o||void 0===o?void 0:o.findIndex((function(e){return e.refId===r.backgroundRefId}))}),[o,r.backgroundRefId]),B=(0,t.useMemo)((function(){if(null!=U)return Sn.ArrayH.arrGetOrOmit(null!==o&&void 0!==o?o:void 0,U)}),[U,o]),G=(0,t.useMemo)((function(){if(null!=(null===B||void 0===B?void 0:B.locator))return Sn.AssetH.getAssetLocatorUrl(B.locator,{useThumbnailIfAvailable:!0,storageIdFileRecord:i,stockVisualAssetMetadataStore:a,minSize:100,idealSize:360})}),[null===B||void 0===B?void 0:B.locator,i,a]),V=(0,t.useCallback)((function(e){n(ZN.setBlockBackgroundContainAndBlur({backgroundRefId:r.backgroundRefId,newContainAndBlur:"contain_and_blur"===e}))}),[n,r.backgroundRefId]),H=((0,t.useCallback)((function(e){n(ZN.setBlockBackgroundAnimationType({backgroundRefId:r.backgroundRefId,newAnimationType:e}))}),[n,r.backgroundRefId]),(0,t.useCallback)((function(){h(!0)}),[]),(0,t.useCallback)((function(e){if(f&&null!=B&&null!=l.current)try{var t=l.current.getBoundingClientRect(),i=(e.clientX-t.x-6)/t.width;n(ZN.setBlockBackgroundTrimStartProportion({backgroundRefId:r.backgroundRefId,newTrimStartProportion:i}))}catch(a){n(UM.handleError(a,{defaultErr:Sn.ErrorH.newHiddenError("Failed to drag trim start."),forceHidden:!0}))}}),[n,r.backgroundRefId,B,f])),W=(0,t.useCallback)((function(){h(!1)}),[]),q=((0,t.useCallback)((function(){g(!0)}),[]),(0,t.useCallback)((function(e){if(v&&null!=B&&null!=l.current)try{var t=l.current.getBoundingClientRect(),i=(e.clientX-t.x+6)/t.width;n(ZN.setBlockBackgroundTrimEndProportion({backgroundRefId:r.backgroundRefId,newTrimEndProportion:i}))}catch(a){n(UM.handleError(a,{defaultErr:Sn.ErrorH.newHiddenError("Failed to drag trim end."),forceHidden:!0}))}}),[n,r.backgroundRefId,B,v])),z=(0,t.useCallback)((function(){g(!1)}),[]);(0,t.useEffect)((function(){return f&&(document.addEventListener("mousemove",H),document.addEventListener("mouseup",W)),v&&(document.addEventListener("mousemove",q),document.addEventListener("mouseup",z)),function(){document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",W),document.removeEventListener("mousemove",q),document.removeEventListener("mouseup",z)}}),[f,v,H,W,q,z]);var Y=null!=s&&null!=B&&s===(null===B||void 0===B?void 0:B.refId),X=(0,t.useCallback)((function(){if(null!=(null===B||void 0===B?void 0:B.refId))try{Mx("timeline_delete_scene",{backgroundRefId:B.refId}),n(WN.deleteBackgroundAsset({backgroundRefId:B.refId}))}catch(e){n(UM.handleError(e,{defaultErr:Sn.ErrorH.newFatalError("Failed to delete scene.")}))}}),[n,null===B||void 0===B?void 0:B.refId]),K=(0,t.useCallback)(Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(null===B||void 0===B?void 0:B.refId)){e.next=2;break}return e.abrupt("return");case 2:return b(!0),e.prev=3,e.next=6,n(WN.regenerateAsset({backgroundRefId:B.refId})).unwrap();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),n(UM.handleError(e.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to regenerate asset.")}));case 11:b(!1);case 12:case"end":return e.stop()}}),e,null,[[3,8]])}))),[n,null===B||void 0===B?void 0:B.refId]),J=(0,t.useCallback)((function(){if(null!=(null===B||void 0===B?void 0:B.refId))try{Mx("timeline_split_scene",{backgroundRefId:B.refId}),n(WN.splitBackgroundAsset({backgroundRefId:B.refId}))}catch(e){n(UM.handleError(e,{defaultErr:Sn.ErrorH.newFatalError("Failed to split scene.")}))}}),[n,null===B||void 0===B?void 0:B.refId]),Z=(0,t.useMemo)((function(){var e,t,r;return(null===B||void 0===B||null===(e=B.locator)||void 0===e?void 0:e.type)===Sn.AssetT.AssetLocatorType.CORE&&null!==(t=null===(r=a.coreRecordIdMetadataRecord[B.locator.recordId])||void 0===r?void 0:r.attribution)&&void 0!==t?t:null}),[B,a]),Q=(0,t.useCallback)((function(e){T(e)}),[]),$=(0,t.useCallback)(Ot(Pt().mark((function e(){var t,r,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C){e.next=3;break}return R([]),e.abrupt("return");case 3:return j(!0),e.prev=4,e.next=7,Xw({dispatch:n});case 7:return t=e.sent,e.next=10,Sn.ApiLibraryE.SearchLibrary.call(t,{query:C,aspectRatio:u,libraryType:Sn.LibraryT.LibraryType.CORE});case 10:r=e.sent,i=r.resData,a=i.stockVisualAssetLocators,o=i.stockVisualAssetMetadataStore,n(Uk.addStockVisualAssetMetadataStore({newStockVisualAssetMetadataStore:o})),R(a),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),n(UM.handleError(e.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to get search results from stock video library.")}));case 20:j(!1);case 21:case"end":return e.stop()}}),e,null,[[4,17]])}))),[n,C,j,R,u]),ee=(0,t.useCallback)(function(){var e=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(null===B||void 0===B?void 0:B.refId)){e.next=2;break}return e.abrupt("return");case 2:Mx("timeline_change_asset",{asset:t,backgroundRefId:B.refId});try{n(ZN.setBlockBackgroundVisualAssetLocator({backgroundRefId:B.refId,newVisualAssetLocator:t})),T(!1)}catch(r){n(UM.handleError(r,{defaultErr:Sn.ErrorH.newFatalError("Failed to change asset.")}))}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,null===B||void 0===B?void 0:B.refId]),te=(0,t.useCallback)((function(e){return Ot(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ee(e);case 1:case"end":return t.stop()}}),t)})))}),[ee]),re=(0,t.useCallback)(function(){var e=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.prev=1,e.next=4,ee({type:Sn.AssetT.AssetLocatorType.STORAGE,storageScope:t.storageFileMetadata.storageScope,storageFileId:t.storageFileId});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),n(UM.handleError(e.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to select uploaded background asset.")}));case 9:setTimeout((function(){F(!1)}),1e3);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),[n,ee]),ne=(0,t.useCallback)((function(){T(!0),x(R1.STOCK_VIDEOS),P("")}),[]),ie=(0,t.useCallback)((function(){T(!0),x(R1.UPLOADS)}),[]),ae=(0,t.useMemo)((function(){return[{value:R1.STOCK_VIDEOS,onSelect:function(){x(R1.STOCK_VIDEOS)},displayNode:(0,uw.jsx)(uw.Fragment,{children:"Stock Videos"})},{value:R1.UPLOADS,onSelect:function(){x(R1.UPLOADS)},displayNode:(0,uw.jsx)(uw.Fragment,{children:"Upload Media"})}]}),[x]),oe=(0,t.useCallback)((function(e){var t=Sn.ArrayH.arrGetFirstOrOmit(e);null!=t&&re(t)}),[re]),se=(0,t.useMemo)((function(){if(null==B)return(0,uw.jsx)(uw.Fragment,{});switch(E){case R1.STOCK_VIDEOS:return(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsxs)("div",{className:"w-full",children:[(0,uw.jsx)("div",{children:(0,uw.jsx)("div",{className:"py-4",children:(0,uw.jsx)("div",{className:"block w-full",children:(0,uw.jsxs)("div",{className:"relative flex w-full text-gray-400 focus-within:text-gray-900",children:[(0,uw.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:(0,uw.jsx)(y1,{className:"h-5 w-5","aria-hidden":"true"})}),(0,uw.jsx)(g1,{type:"text",value:C,onNewValue:function(e){P(e)},onPressEnter:$,className:"mr-2 pl-10",placeholder:"Search for videos"}),(0,uw.jsx)(tD,{type:"submit",disabled:L,isLoading:L,onClick:$,className:Dn("text-md inline-flex cursor-pointer items-center rounded-lg px-4 py-2 font-medium text-white ring-0 transition-colors focus:outline-none",L?"bg-gray-500":"bg-main-600 hover:bg-main-700"),"data-cy":"image-generator-submit-button",children:"Search"})]})})})}),(0,uw.jsx)("div",{className:"relative h-96 w-full flex-wrap overflow-auto",children:null==O||L?(0,uw.jsx)("div",{className:"col-span-12 text-center text-sm text-gray-500",children:"Search a term or phrase to find relevant stock videos."}):0!==O.length?(0,uw.jsx)(T1,{columnsCountBreakPoints:{360:1,480:2,640:3},children:(0,uw.jsx)(A1,{gutter:"8px",children:O.map((function(e,t){return(0,uw.jsx)(SK.div,{initial:{opacity:0},whileInView:{opacity:L?0:1},whileHover:{opacity:.8},onClick:te(e),className:"block h-auto w-full cursor-pointer overflow-hidden rounded-xl bg-gray-300",children:(0,uw.jsx)("img",{className:"h-full w-full",src:Sn.AssetH.getAssetLocatorUrl(e,{useThumbnailIfAvailable:!0,storageIdFileRecord:i,stockVisualAssetMetadataStore:a,minSize:100,idealSize:240})})},t)}))})}):(0,uw.jsx)("div",{className:"col-span-12 text-center text-sm text-gray-500",children:"No search results"})})]}),(0,uw.jsx)(SK.div,{initial:{opacity:0},animate:{opacity:L?1:0},className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 transform",children:(0,uw.jsx)($M,{className:"mx-auto mt-4 h-6 w-6 text-gray-300"})})]});case R1.UPLOADS:return(0,uw.jsx)("div",{children:D?(0,uw.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,uw.jsx)($M,{className:"h-8 w-8 text-gray-500"})}):(0,uw.jsx)("div",{className:"h-[31rem] w-full overflow-y-auto py-4",children:(0,uw.jsx)(JZ,{searchFilter:N1,isShowingUploadBanner:!0,isShowingOptions:!1,isShowingFileSizes:!1,audioPreviewIconMode:"never",onClickStorageFile:re,onUploadComplete:oe})})});default:return Sn.ErrorH.assertNever(E)}}),[E,B,te,L,C,O,D,re,oe,$,i,a]);if((0,t.useEffect)((function(){if(Y&&!c&&!_){var e=function(e){"Backspace"===e.code?X():"KeyR"===e.code?K():"KeyS"===e.code?J():"KeyO"===e.code?ne():"KeyU"===e.code&&ie()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}}),[Y,c,_,X,K,J,ne,ie]),null==U||null==B)return(0,uw.jsx)(h1,{});var ue=B.containAndBlur?"contain_and_blur":"cover";return(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)(f1,{title:"Scene ".concat(U+1),children:(0,uw.jsxs)("div",{className:Dn("space-y-3",f||v?"cursor-ew-resize":""),children:[(0,uw.jsxs)("div",{className:"w-full",children:[(0,uw.jsx)("img",{src:G,className:"mx-auto h-32 overflow-hidden rounded-xl bg-gray-50"}),null!=Z&&Z.providerName===Sn.LibraryT.LibraryProviderName.PEXELS&&(0,uw.jsxs)("span",{className:"flex items-center justify-center gap-2.5 p-1.5 text-sm text-gray-500",children:[(0,uw.jsx)("img",{className:"inline-flex h-4 rounded-sm transition-all hover:opacity-80",src:"https://storage.googleapis.com/videogen-assets/logos/pexels-icon.png"}),(0,uw.jsxs)("span",{className:"truncate text-ellipsis whitespace-nowrap text-xs",children:["Shot by ",Z.creatorName]})]}),(0,uw.jsxs)("div",{className:"mb-2 space-y-2 py-3 text-gray-900",children:[(0,uw.jsxs)(tD,{className:"w-full rounded-xl border border-gray-200 bg-gray-100 px-2.5 py-1.5 text-gray-900 hover:bg-gray-200",innerClassName:"flex flex-row items-center gap-2.5 w-full",onClick:X,isLoading:!1,children:[(0,uw.jsx)("span",{className:"flex h-5 w-5 items-center justify-center",children:"\ud83d\uddd1\ufe0f"}),(0,uw.jsx)("span",{className:"text-base font-medium text-gray-900",children:"Delete"}),Y&&(0,uw.jsx)("div",{className:"ml-auto flex items-center justify-center text-gray-500",children:(0,uw.jsx)(v1,{className:"h-6 w-6"})})]}),(0,uw.jsxs)(tD,{className:"w-full rounded-xl border border-gray-200 bg-gray-100 px-2.5 py-1.5 text-gray-900 hover:bg-gray-200",innerClassName:"flex flex-row items-center gap-2.5 w-full",onClick:J,isLoading:!1,children:[(0,uw.jsx)("span",{className:"flex h-5 w-5 items-center justify-center",children:"\u2702\ufe0f"}),(0,uw.jsx)("span",{className:"text-base font-medium text-gray-900",children:"Split"}),Y&&(0,uw.jsx)("div",{className:"ml-auto h-5 w-5 flex-shrink-0 rounded-md bg-gray-500 text-sm font-medium leading-5 text-gray-100",children:"S"})]}),(0,uw.jsxs)(tD,{className:Dn("w-full rounded-xl border border-gray-200 bg-gray-100 px-2.5 py-1.5 text-gray-900",y?"":" hover:bg-gray-200"),innerClassName:"flex flex-row items-center gap-2.5 w-full",onClick:K,isLoading:y,children:[(0,uw.jsx)("span",{className:"flex h-5 w-5 items-center justify-center",children:"\ud83c\udfb2"}),(0,uw.jsx)("span",{className:"text-base font-medium text-gray-900",children:"Regenerate"}),Y&&(0,uw.jsx)("div",{className:"ml-auto h-5 w-5 flex-shrink-0 rounded-md bg-gray-500 text-sm font-medium leading-5 text-gray-100",children:"R"})]}),(0,uw.jsxs)(tD,{className:"w-full rounded-xl border border-gray-200 bg-gray-100 px-2.5 py-1.5 text-gray-900 hover:bg-gray-200",innerClassName:"flex flex-row items-center gap-2.5 w-full",onClick:ne,isLoading:!1,children:[(0,uw.jsx)("span",{className:"flex h-5 w-5 items-center justify-center",children:"\ud83d\udd0d"}),(0,uw.jsx)("span",{className:"text-base font-medium text-gray-900",children:"Search"}),Y&&(0,uw.jsx)("div",{className:"ml-auto h-5 w-5 flex-shrink-0 rounded-md bg-gray-500 text-sm font-medium leading-5 text-gray-100",children:"O"})]}),(0,uw.jsxs)(tD,{className:"w-full rounded-xl border border-gray-200 bg-gray-100 px-2.5 py-1.5 text-gray-900 hover:bg-gray-200",innerClassName:"flex flex-row items-center gap-2.5 w-full",onClick:ie,isLoading:!1,children:[(0,uw.jsx)("span",{className:"flex h-5 w-5 items-center justify-center",children:"\ud83d\udcc1"}),(0,uw.jsx)("span",{className:"text-base font-medium text-gray-900",children:"Upload"}),Y&&(0,uw.jsx)("div",{className:"ml-auto h-5 w-5 flex-shrink-0 rounded-md bg-gray-500 text-sm font-medium leading-5 text-gray-100",children:"U"})]})]})]}),(0,uw.jsxs)("div",{children:[(0,uw.jsx)("h3",{className:"mb-1 text-sm font-medium text-gray-900",children:"Background fit"}),(0,uw.jsx)("div",{className:"flex w-full gap-2",children:(0,uw.jsx)(D$,{items:O1,currentValue:ue,setValue:V,className:"w-full"})})]})]})}),(0,uw.jsx)(I1,{tabInfos:ae,isOpen:_,onChangeIsOpen:Q,onChangeTabId:x,currentTabId:E,children:se})]})},j1=function(){var e=jD(),r=MD(kk.selectProjectSidePanelSelection),n=MD(kk.selectIsProjectSidePanelOpen),i=(0,t.useCallback)((function(){e(ZN.toggleIsProjectSidePanelOpen())}),[e]);return(0,uw.jsxs)("div",{className:"relative h-full bg-white",children:[(0,uw.jsx)("button",{className:Dn("absolute top-1 rounded-lg transition-all hover:bg-gray-100",n?"left-1":"-left-8"),onClick:i,children:(0,uw.jsx)("div",{className:"flex items-center justify-center p-1",children:n?(0,uw.jsx)(c1,{className:"z-50 h-5 w-5 text-gray-400"}):(0,uw.jsx)(d1,{className:"z-50 h-5 w-5 text-gray-400"})})}),(0,uw.jsx)("div",{className:Dn("h-full overflow-x-hidden transition-all",n?"w-64":"w-0"),children:(0,uw.jsx)("div",{className:"h-full w-64",children:null==r?(0,uw.jsx)(h1,{}):r.type===qN.BACKGROUND?(0,uw.jsx)(L1,{backgroundProjectSidePanelSelection:r}):Sn.ErrorH.assertNever(r.type)})})]})},M1=function(){var e=jD(),r=MD(kk.selectIsGenerationLoading),n=k((0,t.useState)(!0),2),i=n[0],a=n[1],o=(0,t.useRef)(null),s=(0,t.useRef)(null);return(0,t.useEffect)((function(){var t=function(t){null!=o.current&&o.current.contains(t.target)||null!=s.current&&s.current.contains(t.target)||e(ZN.deselectTimeline())};return document.addEventListener("click",t),function(){document.removeEventListener("click",t)}}),[e]),(0,uw.jsxs)("main",{className:"flex h-full flex-col items-stretch justify-center overflow-hidden",children:[(0,uw.jsxs)("div",{className:"relative flex h-full w-full min-w-0 flex-grow flex-col overflow-hidden border-t border-gray-200 lg:flex-row lg:overflow-hidden",children:[(0,uw.jsxs)("div",{className:Dn("relative h-full w-full flex-shrink-0 overflow-hidden bg-white lg:h-full lg:w-[40rem] lg:max-w-[40%]",i?"hidden lg:block":"block"),children:[(0,uw.jsx)(g0,{}),r&&(0,uw.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 z-20 animate-pulse cursor-progress bg-white/75"})]}),(0,uw.jsxs)("div",{className:"hidden h-full w-[1px] lg:block",children:[(0,uw.jsx)("div",{className:"h-1/2 w-full bg-gradient-to-b from-transparent to-gray-200"}),(0,uw.jsx)("div",{className:"h-1/2 w-full bg-gradient-to-b from-gray-200 to-transparent"})]}),(0,uw.jsxs)("div",{className:"flex flex-grow flex-row",children:[(0,uw.jsx)("div",{className:Dn("relative h-full max-h-full w-40 flex-1 flex-grow flex-col overflow-hidden bg-gray-50 lg:border-none",i?"flex":"hidden lg:flex"),children:(0,uw.jsx)(Q0,{})}),(0,uw.jsxs)("div",{className:"hidden sm:inline-flex",ref:s,children:[(0,uw.jsx)("div",{className:"block h-full w-[1px] flex-shrink-0",children:(0,uw.jsx)("div",{className:"h-full w-full bg-gray-200"})}),(0,uw.jsx)(j1,{})]})]})]}),(0,uw.jsxs)("div",{className:"relative block w-full shrink-0 border-t border-gray-200 bg-white text-center",ref:o,children:[(0,uw.jsx)(N0,{}),r&&(0,uw.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 z-20 animate-pulse cursor-progress bg-white/75"})]}),(0,uw.jsxs)("div",{className:Dn("grid w-full grid-cols-2 gap-1 border-t border-gray-100 bg-white text-sm lg:hidden",s1?"pb-6":""),children:[(0,uw.jsxs)("button",{className:Dn("space-y-1 p-3",i?"opacity-75 hover:opacity-90":"opacity-100"),onClick:function(){a(!1)},children:[(0,uw.jsx)("div",{className:"mx-auto h-6 w-6",children:i?(0,uw.jsx)(e1,{}):(0,uw.jsx)(i1,{})}),(0,uw.jsx)("div",{children:"Editor"})]}),(0,uw.jsxs)("button",{className:Dn("space-y-1 p-3",i?"opacity-100":"opacity-75 hover:opacity-90"),onClick:function(){a(!0)},children:[(0,uw.jsx)("div",{className:"mx-auto h-6 w-6",children:i?(0,uw.jsx)(o1,{}):(0,uw.jsx)(r1,{})}),(0,uw.jsx)("div",{children:"Preview"})]})]})]})},D1=["title","titleId"];var F1=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,D1);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z"}))})),U1=function(){var e,r=MD(aw.selectPrivateSimpleUser),n=k((0,t.useState)(!1),2),i=n[0],a=n[1];return(0,uw.jsxs)("div",{className:"flex h-full w-full max-w-xs items-center overflow-hidden rounded-full bg-gray-500 hover:ring-4 hover:ring-gray-100",children:[r.photoURL&&(0,uw.jsx)("img",{className:Dn(i?"h-full w-full rounded-full":"hidden"),src:r.photoURL,alt:null!==(e=r.displayName)&&void 0!==e?e:"Anon",onError:function(e){a(!1)},onLoad:function(){a(!0)}}),!i&&(0,uw.jsx)(F1,{className:"h-full w-full rounded-full pt-1 text-white"})]})},B1=[{name:"Home",pathname:"/",dataCy:"profile-nav-home-button"},{name:"Account settings",pathname:"/settings",dataCy:"profile-nav-account-settings-button"},{name:"Sign out",pathname:"/logout",dataCy:"profile-nav-sign-out-button"}],G1=function(){var e=aF();return(0,uw.jsxs)(iJ,{as:"div",className:"z-30",children:[(0,uw.jsx)("div",{children:(0,uw.jsx)(iJ.Button,{className:"flex h-10 w-10 max-w-xs items-center rounded-full bg-white text-sm ring-4 ring-white transition-all hover:ring-gray-100","data-cy":"profile-nav-button",children:(0,uw.jsx)(U1,{})})}),(0,uw.jsx)(lZ,{position:"right",items:B1.map((function(t){return{text:t.name,onSelect:function(){e({pathname:t.pathname})},dataCy:t.dataCy}}))})]})},V1=["title","titleId"];var H1=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,V1);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}));function W1(e){return CJ({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.354 6.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708 0z"},child:[]},{tag:"path",attr:{d:"M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383zm.653.757c-.757.653-1.153 1.44-1.153 2.056v.448l-.445.049C2.064 6.805 1 7.952 1 9.318 1 10.785 2.23 12 3.781 12h8.906C13.98 12 15 10.988 15 9.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 4.825 10.328 3 8 3a4.53 4.53 0 0 0-2.941 1.1z"},child:[]}]})(e)}function q1(e){return CJ({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M10.706 3.294A12.545 12.545 0 0 0 8 3C5.259 3 2.723 3.882.663 5.379a.485.485 0 0 0-.048.736.518.518 0 0 0 .668.05A11.448 11.448 0 0 1 8 4c.63 0 1.249.05 1.852.148l.854-.854zM8 6c-1.905 0-3.68.56-5.166 1.526a.48.48 0 0 0-.063.745.525.525 0 0 0 .652.065 8.448 8.448 0 0 1 3.51-1.27L8 6zm2.596 1.404.785-.785c.63.24 1.227.545 1.785.907a.482.482 0 0 1 .063.745.525.525 0 0 1-.652.065 8.462 8.462 0 0 0-1.98-.932zM8 10l.933-.933a6.455 6.455 0 0 1 2.013.637c.285.145.326.524.1.75l-.015.015a.532.532 0 0 1-.611.09A5.478 5.478 0 0 0 8 10zm4.905-4.905.747-.747c.59.3 1.153.645 1.685 1.03a.485.485 0 0 1 .047.737.518.518 0 0 1-.668.05 11.493 11.493 0 0 0-1.811-1.07zM9.02 11.78c.238.14.236.464.04.66l-.707.706a.5.5 0 0 1-.707 0l-.707-.707c-.195-.195-.197-.518.04-.66A1.99 1.99 0 0 1 8 11.5c.374 0 .723.102 1.021.28zm4.355-9.905a.53.53 0 0 1 .75.75l-10.75 10.75a.53.53 0 0 1-.75-.75l10.75-10.75z"},child:[]}]})(e)}var z1=function(){var e=MD(kk.selectProjectLastEditSecondsSinceEpoch),r=MD(kk.selectLastSavedEditSecondsSinceEpoch),n=MD(kk.selectFailedProjectSaveAttemptsStreak),i=(0,t.useMemo)((function(){var t=null!==r&&void 0!==r?r:e,i=Sn.TimeH.getCurrentSecondsSinceEpoch()-t<Sn.TimeC.SECONDS_PER_DAY,a=i?Sn.TimeH.secondsSinceEpochToTimeStr(t):Sn.TimeH.secondsSinceEpochToDateStr(t);return null!=n&&n>=2?{icon:(0,uw.jsx)(q1,{className:"h-full w-full"}),summary:"Saving failed since ".concat(a)}:null!=n&&n>=1||null!=r&&r+5<e?{icon:(0,uw.jsx)(H1,{className:"h-full w-full animate-spin"}),summary:"Saving..."}:{icon:(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)(W1,{id:"saved-to-cloud-icon",className:"h-full w-full"}),(0,uw.jsx)(vn,{anchorSelect:"#saved-to-cloud-icon",variant:"dark",place:"bottom",className:"z-50 shadow-xl",style:{opacity:"100%"},delayShow:500,content:"Last modified ".concat(i?"at":"on"," ").concat(a)})]}),summary:"Saved to Cloud"}}),[e,r,n]),a=i.icon,o=i.summary;return(0,uw.jsxs)("span",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,uw.jsx)("span",{className:"h-5 w-5",children:a}),(0,uw.jsx)("p",{className:"hidden xl:inline-flex",children:o})]})},Y1=["title","titleId"];var X1=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,Y1);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm-.75-4.75a.75.75 0 0 0 1.5 0V8.66l1.95 2.1a.75.75 0 1 0 1.1-1.02l-3.25-3.5a.75.75 0 0 0-1.1 0L6.2 9.74a.75.75 0 1 0 1.1 1.02l1.95-2.1v4.59Z",clipRule:"evenodd"}))})),K1=function(e){return e.payment.inputtedStripePromotionCode},J1=function(e){return e.payment.stripePromotionCodeSummaryRecord},Z1={selectInputtedStripePromotionCode:K1,selectStripePromotionCodeSummaryRecord:J1,selectIsStripePromotionCodeLoading:function(e){return e.payment.isStripePromotionCodeLoading},selectRewardfulInfo:function(e){return e.payment.rewardfulInfo},selectStripePromotionCodeSummary:rw([K1,J1],(function(e,t){var r;return null==e?null:null!==(r=t[e])&&void 0!==r?r:null}))},Q1=function(e){var r=e.locationName,n=e.isLarge,i=jD(),a=MD(aw.selectPrivateWorkspaceInfo),o=(MD(Z1.selectStripePromotionCodeSummary),(0,t.useMemo)((function(){return Sn.WorkspaceH.getNextHighestWorkspaceAuthLevel(Sn.WorkspaceH.getWorkspaceAuthLevel(a))}),[a])),s=(0,t.useMemo)((function(){if(null!=a.freeAccessUsageCreditsContainer)return null;var e=null==a.subscription?Sn.PaymentT.SubscriptionType.PRO:Sn.PaymentH.subscriptionTypeComparator.getNextOrderedItem(a.subscription.subscriptionType),t=null==e?0:Sn.WorkspaceH.getWorkspaceEligibleFreeTrialDaysForNewSubscriptionType({workspaceInfo:a,newSubscriptionType:e});return{upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},callToAction:t>0?"Start free trial":"Upgrade plan"}}),[a]);if(null==s)return(0,uw.jsx)(uw.Fragment,{});var u=s.upgradeRequirement,c=s.callToAction;return(0,uw.jsx)("button",{className:Dn("flex items-center justify-center border border-transparent bg-main-600 text-center font-semibold text-white transition-all hover:bg-main-700 md:block",n?"rounded-xl px-4 py-2.5 text-base":"text-md h-10 rounded-xl px-3"),onClick:function(){Mx("click_upgrade_button",{locationName:r}),i(yw({upgradeAction:{type:Sn.ErrorT.KnownErrorActionType.UPGRADE,currentWorkspaceAuthLevel:Sn.WorkspaceH.getWorkspaceAuthLevel(a),requiredWorkspaceAuthLevel:o,upgradeRequirement:u,upgradeToIncreaseMessage:"unlock the full power of VideoGen"}}))},children:(0,uw.jsxs)("div",{className:"mx-auto flex items-center justify-center",children:[(0,uw.jsx)(X1,{className:"h-5 w-5 flex-shrink-0 text-white","aria-hidden":"true"}),(0,uw.jsx)("span",{className:"ml-2 hidden whitespace-nowrap sm:inline-block",children:c})]})})},$1=r(75192),e2=r.n($1),t2=r(54063),r2=r.n(t2),n2=r(46939),i2=r.n(n2),a2=r(71843),o2=r.n(a2),s2="bodyAttributes",u2="htmlAttributes",c2="titleAttributes",l2={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},d2=(Object.keys(l2).map((function(e){return l2[e]})),"charset"),f2="cssText",h2="href",p2="http-equiv",v2="innerHTML",g2="itemprop",m2="name",y2="property",b2="rel",S2="src",E2="target",x2={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},w2="defaultTitle",k2="defer",_2="encodeSpecialCharacters",T2="onChangeClientState",A2="titleTemplate",C2=Object.keys(x2).reduce((function(e,t){return e[x2[t]]=t,e}),{}),P2=[l2.NOSCRIPT,l2.SCRIPT,l2.STYLE],I2="data-react-helmet",O2="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R2=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),N2=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L2=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},j2=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},M2=function(e){var t=G2(e,l2.TITLE),r=G2(e,A2);if(r&&t)return r.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var n=G2(e,w2);return t||n||void 0},D2=function(e){return G2(e,T2)||function(){}},F2=function(e,t){return t.filter((function(t){return"undefined"!==typeof t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return N2({},e,t)}),{})},U2=function(e,t){return t.filter((function(e){return"undefined"!==typeof e[l2.BASE]})).map((function(e){return e[l2.BASE]})).reverse().reduce((function(t,r){if(!t.length)for(var n=Object.keys(r),i=0;i<n.length;i++){var a=n[i].toLowerCase();if(-1!==e.indexOf(a)&&r[a])return t.concat(r)}return t}),[])},B2=function(e,t,r){var n={};return r.filter((function(t){return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&z2("Helmet: "+e+' should be of type "Array". Instead found type "'+O2(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,r){var i={};r.filter((function(e){for(var r=void 0,a=Object.keys(e),o=0;o<a.length;o++){var s=a[o],u=s.toLowerCase();-1===t.indexOf(u)||r===b2&&"canonical"===e[r].toLowerCase()||u===b2&&"stylesheet"===e[u].toLowerCase()||(r=u),-1===t.indexOf(s)||s!==v2&&s!==f2&&s!==g2||(r=s)}if(!r||!e[r])return!1;var c=e[r].toLowerCase();return n[r]||(n[r]={}),i[r]||(i[r]={}),!n[r][c]&&(i[r][c]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],u=o2()({},n[s],i[s]);n[s]=u}return e}),[]).reverse()},G2=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(n.hasOwnProperty(t))return n[t]}return null},V2=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout((function(){V2(t)}),0)}}(),H2=function(e){return clearTimeout(e)},W2="undefined"!==typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||V2:r.g.requestAnimationFrame||V2,q2="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||H2:r.g.cancelAnimationFrame||H2,z2=function(e){return console&&"function"===typeof console.warn&&console.warn(e)},Y2=null,X2=function(e,t){var r=e.baseTag,n=e.bodyAttributes,i=e.htmlAttributes,a=e.linkTags,o=e.metaTags,s=e.noscriptTags,u=e.onChangeClientState,c=e.scriptTags,l=e.styleTags,d=e.title,f=e.titleAttributes;Z2(l2.BODY,n),Z2(l2.HTML,i),J2(d,f);var h={baseTag:Q2(l2.BASE,r),linkTags:Q2(l2.LINK,a),metaTags:Q2(l2.META,o),noscriptTags:Q2(l2.NOSCRIPT,s),scriptTags:Q2(l2.SCRIPT,c),styleTags:Q2(l2.STYLE,l)},p={},v={};Object.keys(h).forEach((function(e){var t=h[e],r=t.newTags,n=t.oldTags;r.length&&(p[e]=r),n.length&&(v[e]=h[e].oldTags)})),t&&t(),u(e,p,v)},K2=function(e){return Array.isArray(e)?e.join(""):e},J2=function(e,t){"undefined"!==typeof e&&document.title!==e&&(document.title=K2(e)),Z2(l2.TITLE,t)},Z2=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var n=r.getAttribute(I2),i=n?n.split(","):[],a=[].concat(i),o=Object.keys(t),s=0;s<o.length;s++){var u=o[s],c=t[u]||"";r.getAttribute(u)!==c&&r.setAttribute(u,c),-1===i.indexOf(u)&&i.push(u);var l=a.indexOf(u);-1!==l&&a.splice(l,1)}for(var d=a.length-1;d>=0;d--)r.removeAttribute(a[d]);i.length===a.length?r.removeAttribute(I2):r.getAttribute(I2)!==o.join(",")&&r.setAttribute(I2,o.join(","))}},Q2=function(e,t){var r=document.head||document.querySelector(l2.HEAD),n=r.querySelectorAll(e+"["+I2+"]"),i=Array.prototype.slice.call(n),a=[],o=void 0;return t&&t.length&&t.forEach((function(t){var r=document.createElement(e);for(var n in t)if(t.hasOwnProperty(n))if(n===v2)r.innerHTML=t.innerHTML;else if(n===f2)r.styleSheet?r.styleSheet.cssText=t.cssText:r.appendChild(document.createTextNode(t.cssText));else{var s="undefined"===typeof t[n]?"":t[n];r.setAttribute(n,s)}r.setAttribute(I2,"true"),i.some((function(e,t){return o=t,r.isEqualNode(e)}))?i.splice(o,1):a.push(r)})),i.forEach((function(e){return e.parentNode.removeChild(e)})),a.forEach((function(e){return r.appendChild(e)})),{oldTags:i,newTags:a}},$2=function(e){return Object.keys(e).reduce((function(t,r){var n="undefined"!==typeof e[r]?r+'="'+e[r]+'"':""+r;return t?t+" "+n:n}),"")},e5=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,r){return t[x2[r]||r]=e[r],t}),t)},t5=function(e,r,n){switch(e){case l2.TITLE:return{toComponent:function(){return function(e,r,n){var i,a=((i={key:r})[I2]=!0,i),o=e5(n,a);return[t.createElement(l2.TITLE,o,r)]}(0,r.title,r.titleAttributes)},toString:function(){return function(e,t,r,n){var i=$2(r),a=K2(t);return i?"<"+e+" "+I2+'="true" '+i+">"+j2(a,n)+"</"+e+">":"<"+e+" "+I2+'="true">'+j2(a,n)+"</"+e+">"}(e,r.title,r.titleAttributes,n)}};case s2:case u2:return{toComponent:function(){return e5(r)},toString:function(){return $2(r)}};default:return{toComponent:function(){return function(e,r){return r.map((function(r,n){var i,a=((i={key:n})[I2]=!0,i);return Object.keys(r).forEach((function(e){var t=x2[e]||e;if(t===v2||t===f2){var n=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:n}}else a[t]=r[e]})),t.createElement(e,a)}))}(e,r)},toString:function(){return function(e,t,r){return t.reduce((function(t,n){var i=Object.keys(n).filter((function(e){return!(e===v2||e===f2)})).reduce((function(e,t){var i="undefined"===typeof n[t]?t:t+'="'+j2(n[t],r)+'"';return e?e+" "+i:i}),""),a=n.innerHTML||n.cssText||"",o=-1===P2.indexOf(e);return t+"<"+e+" "+I2+'="true" '+i+(o?"/>":">"+a+"</"+e+">")}),"")}(e,r,n)}}}},r5=function(e){var t=e.baseTag,r=e.bodyAttributes,n=e.encode,i=e.htmlAttributes,a=e.linkTags,o=e.metaTags,s=e.noscriptTags,u=e.scriptTags,c=e.styleTags,l=e.title,d=void 0===l?"":l,f=e.titleAttributes;return{base:t5(l2.BASE,t,n),bodyAttributes:t5(s2,r,n),htmlAttributes:t5(u2,i,n),link:t5(l2.LINK,a,n),meta:t5(l2.META,o,n),noscript:t5(l2.NOSCRIPT,s,n),script:t5(l2.SCRIPT,u,n),style:t5(l2.STYLE,c,n),title:t5(l2.TITLE,{title:d,titleAttributes:f},n)}},n5=function(e){var r,n;return n=r=function(r){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,r.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r),n.prototype.shouldComponentUpdate=function(e){return!i2()(this.props,e)},n.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case l2.SCRIPT:case l2.NOSCRIPT:return{innerHTML:t};case l2.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},n.prototype.flattenArrayTypeChildren=function(e){var t,r=e.child,n=e.arrayTypeChildren,i=e.newChildProps,a=e.nestedChildren;return N2({},n,((t={})[r.type]=[].concat(n[r.type]||[],[N2({},i,this.mapNestedChildrenToProps(r,a))]),t))},n.prototype.mapObjectTypeChildren=function(e){var t,r,n=e.child,i=e.newProps,a=e.newChildProps,o=e.nestedChildren;switch(n.type){case l2.TITLE:return N2({},i,((t={})[n.type]=o,t.titleAttributes=N2({},a),t));case l2.BODY:return N2({},i,{bodyAttributes:N2({},a)});case l2.HTML:return N2({},i,{htmlAttributes:N2({},a)})}return N2({},i,((r={})[n.type]=N2({},a),r))},n.prototype.mapArrayTypeChildrenToProps=function(e,t){var r=N2({},t);return Object.keys(e).forEach((function(t){var n;r=N2({},r,((n={})[t]=e[t],n))})),r},n.prototype.warnOnInvalidChildren=function(e,t){return!0},n.prototype.mapChildrenToProps=function(e,r){var n=this,i={};return t.Children.forEach(e,(function(e){if(e&&e.props){var t=e.props,a=t.children,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,r){return t[C2[r]||r]=e[r],t}),t)}(L2(t,["children"]));switch(n.warnOnInvalidChildren(e,a),e.type){case l2.LINK:case l2.META:case l2.NOSCRIPT:case l2.SCRIPT:case l2.STYLE:i=n.flattenArrayTypeChildren({child:e,arrayTypeChildren:i,newChildProps:o,nestedChildren:a});break;default:r=n.mapObjectTypeChildren({child:e,newProps:r,newChildProps:o,nestedChildren:a})}}})),r=this.mapArrayTypeChildrenToProps(i,r)},n.prototype.render=function(){var r=this.props,n=r.children,i=L2(r,["children"]),a=N2({},i);return n&&(a=this.mapChildrenToProps(n,a)),t.createElement(e,a)},R2(n,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),n}(t.Component),r.propTypes={base:e2().object,bodyAttributes:e2().object,children:e2().oneOfType([e2().arrayOf(e2().node),e2().node]),defaultTitle:e2().string,defer:e2().bool,encodeSpecialCharacters:e2().bool,htmlAttributes:e2().object,link:e2().arrayOf(e2().object),meta:e2().arrayOf(e2().object),noscript:e2().arrayOf(e2().object),onChangeClientState:e2().func,script:e2().arrayOf(e2().object),style:e2().arrayOf(e2().object),title:e2().string,titleAttributes:e2().object,titleTemplate:e2().string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=e.peek,r.rewind=function(){var t=e.rewind();return t||(t=r5({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},n}(r2()((function(e){return{baseTag:U2([h2,E2],e),bodyAttributes:F2(s2,e),defer:G2(e,k2),encode:G2(e,_2),htmlAttributes:F2(u2,e),linkTags:B2(l2.LINK,[b2,h2],e),metaTags:B2(l2.META,[m2,d2,p2,y2,g2],e),noscriptTags:B2(l2.NOSCRIPT,[v2],e),onChangeClientState:D2(e),scriptTags:B2(l2.SCRIPT,[S2,v2],e),styleTags:B2(l2.STYLE,[f2],e),title:M2(e),titleAttributes:F2(c2,e)}}),(function(e){Y2&&q2(Y2),e.defer?Y2=W2((function(){X2(e,(function(){Y2=null}))})):(X2(e),Y2=null)}),r5)((function(){return null})));n5.renderStatic=n5.rewind;var i5=function(e){var r=e.webTitle,n=void 0===r?"VideoGen":r,i=be(),a=(0,t.useMemo)((function(){return Sn.AppH.getAppUrlForPath(Ix,i.pathname)}),[i]);return(0,uw.jsxs)(n5,{children:[(0,uw.jsx)("title",{children:n}),(0,uw.jsx)("link",{rel:"canonical",href:a}),(0,uw.jsx)("link",{rel:"icon",href:"/favicon.ico"})]})},a5=function(){var e=jD(),r=MD(kk.selectProjectTitle),n=MD(kk.selectProjectBlock),i=MD(kk.selectIsGenerationLoading),a=(0,t.useCallback)(Ot(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null!=n.backgroundVisualAssetReferences&&null!=n.generatedScriptElements){t.next=4;break}return t.next=4,e(WN.generateProject({})).unwrap();case 4:e(Ew()),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e(UM.handleError(t.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to initiate video download.")}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[e,n]),o=((0,t.useCallback)((function(){try{e(_w())}catch(t){e(UM.handleError(t,{defaultErr:Sn.ErrorH.newFatalError("Failed to open Academy.")}))}}),[e]),r?"".concat(r," - VideoGen"):"VideoGen");return(0,uw.jsxs)("div",{className:"fixed flex h-full max-h-viewport w-screen flex-col",children:[(0,uw.jsx)(i5,{webTitle:o}),(0,uw.jsxs)("header",{className:"relative flex h-16 flex-shrink-0 items-center bg-white",children:[(0,uw.jsx)("div",{className:"inset-y-0 left-0 flex-shrink-0",children:(0,uw.jsx)(aG,{to:"/",className:"ml-2 mr-1 flex items-center justify-center rounded-lg p-2 text-gray-500 transition-all hover:bg-gray-100 sm:ml-4 sm:mr-4",children:(0,uw.jsx)(mn,{className:"h-5 w-5"})})}),(0,uw.jsxs)("div",{className:"flex min-w-0 flex-1 items-center justify-between",children:[(0,uw.jsxs)("div",{className:"mr-2 flex min-w-0 flex-1 items-center gap-1 sm:gap-2 lg:mr-4",children:[(0,uw.jsx)("div",{className:"h-full w-32 md:w-48 xl:w-64",children:(0,uw.jsx)("input",{id:"video-title-input",type:"text",name:"video-title",autoComplete:"off",value:r,maxLength:128,onChange:function(t){return e(ZN.setTitle({newTitle:t.target.value}))},className:"inline-flex h-full  w-full truncate rounded-lg border-gray-200 text-sm text-gray-900 outline-none ring-0 transition-all placeholder:text-gray-400 hover:border-gray-300 focus:border-gray-700 focus:ring-1 focus:ring-inset focus:ring-gray-700",placeholder:"Title"})}),(0,uw.jsx)("div",{children:(0,uw.jsx)(dJ,{})}),(0,uw.jsx)("div",{className:"ml-2 hidden lg:inline-block",children:(0,uw.jsx)(z1,{})}),(0,uw.jsx)("div",{className:"-mx-0.5 block sm:mx-auto"}),(0,uw.jsx)(Q1,{locationName:"project",isLarge:!1}),(0,uw.jsxs)(tD,{id:"export-button",onClick:a,isLoading:i,className:Dn("text-md rounded-xl px-4 py-2 text-center font-medium text-white outline-none ring-0 transition-all",i?"bg-gray-400":"bg-gray-900 hover:bg-gray-700"),innerClassName:"flex items-center justify-center",children:[(0,uw.jsx)(bn,{className:"h-5 w-5"}),(0,uw.jsxs)("div",{className:"ml-2 inline-block",children:["Download",(0,uw.jsx)("span",{className:"hidden lg:inline-flex",children:"\xa0video"})]})]}),(0,uw.jsx)(vn,{anchorId:"export-button",variant:"dark",place:"bottom",positionStrategy:"fixed",className:"z-50 shadow-xl",style:{opacity:"100%"},delayShow:500,content:"Export / Download"})]}),(0,uw.jsx)("div",{className:"flex flex-shrink-0 items-center space-x-10 pr-2 sm:pr-4",children:(0,uw.jsx)("div",{className:"flex items-center space-x-8",children:(0,uw.jsx)(G1,{})})})]})]}),(0,uw.jsx)(M1,{})]})},o5=function(){return(0,uw.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 24 24",width:"24",children:[(0,uw.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,uw.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,uw.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,uw.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),(0,uw.jsx)("path",{d:"M1 1h22v22H1z",fill:"none"})]})},s5=function(){return(0,uw.jsx)(uw.Fragment,{children:(0,uw.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-500",children:["By continuing, you agree to our"," ",(0,uw.jsx)("a",{href:"/terms-of-service",className:"underline",target:"_blank",children:"Terms of Service"})," ","and"," ",(0,uw.jsx)("a",{href:"/privacy-policy",className:"underline",target:"_blank",children:"Privacy Policy"}),"."]})})},u5=function(e){var r=e.value,n=e.onNewValue,i=e.onPressEnter,a=e.className,o=e.placeholder,s=e.type,u=e.required,c=e.warningMessage,l=e.autoComplete,d=e.autoFocus,f=e.disabled,h=e.dataCy,p=((0,t.useCallback)((function(e){"Enter"===e.key&&null!=i&&i()}),[i]),(0,t.useMemo)((function(){return null!=c&&""!==c}),[c]));return(0,uw.jsxs)("div",{className:"relative",children:[(0,uw.jsx)(g1,{value:r,onNewValue:n,onPressEnter:i,placeholder:o,type:s,required:u,autoComplete:l,autoFocus:d,disabled:f,dataCy:h,className:Dn(null!==a&&void 0!==a?a:"",p?"mb-1 border-red-500 hover:border-red-600 focus:border-red-600 focus:ring-red-600":"border-gray-200 hover:border-gray-300 focus:border-gray-700 focus:ring-gray-700")}),(0,uw.jsx)("p",{className:"text-xs text-red-500",children:c})]})},c5=function(){var e="standalone"in window.navigator&&window.navigator.standalone,t=window.navigator.userAgent.toLowerCase(),r=t.includes("safari");return/iphone|ipod|ipad/.test(t)?!r&&!e:t.includes("wv")}(),l5=function(){var e=jD(),r=k((0,t.useState)(!1),2),n=r[0],i=r[1],a=k((0,t.useState)(!1),2),o=a[0],s=a[1],u=k((0,t.useState)(""),2),c=u[0],l=u[1],d=k((0,t.useState)(""),2),f=d[0],h=d[1],p=k((0,t.useState)(""),2),v=p[0],g=p[1],m=k((0,t.useState)(!1),2),y=m[0],b=m[1],S=k((0,t.useState)(""),2),E=S[0],x=S[1],w=k((0,t.useState)(""),2),_=w[0],T=w[1],A=k((0,t.useState)(""),2),C=A[0],P=A[1],I=(0,t.useCallback)(Ot(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.prev=1,t.next=4,e(Yw.signInWithGoogle()).unwrap();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),e(UM.handleError(t.t0));case 9:s(!1);case 10:case"end":return t.stop()}}),t,null,[[1,6]])}))),[e]);ZD((function(){return Mx("view_sign_up_page"),function(){}}));var O=(0,t.useCallback)((function(){return f?f.length<6?(T("Password must be at least 6 characters."),!1):(T(""),!0):(T("Please enter a password."),!1)}),[f]),R=(0,t.useCallback)((function(){return f!==v?(P("Passwords do not match."),!1):(P(""),!0)}),[f,v]),N=(0,t.useCallback)((function(){return c?Sn.StringH.isStrValidEmail(c)?(x(""),!0):(x("Please enter a valid email."),!1):(x("Please enter an email."),!1)}),[c]);(0,t.useEffect)((function(){E&&N()}),[E,N]),(0,t.useEffect)((function(){_&&O()}),[_,O]),(0,t.useEffect)((function(){C&&R()}),[C,R]);var L=(0,t.useCallback)(Ot(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i(!0),t.prev=1,!(N()&&O()&&R())){t.next=5;break}return t.next=5,e(Yw.signUpWithEmailPassword({email:c,password:f})).unwrap();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),e(UM.handleError(t.t0));case 10:i(!1);case 11:case"end":return t.stop()}}),t,null,[[1,7]])}))),[e,c,f,N,O,R]),j=(0,t.useCallback)((function(){N()&&b(!0)}),[N]),M=(0,t.useCallback)((function(){b(!1)}),[]),D=n||o;return(0,uw.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,uw.jsx)("div",{className:"flex flex-1 flex-col justify-center px-4 py-12 sm:px-6 lg:flex-none lg:px-20 xl:px-24",children:(0,uw.jsxs)("div",{className:"mx-auto w-full max-w-sm lg:w-96",children:[(0,uw.jsxs)("div",{className:Dn("text-center",y?"hidden":""),children:[(0,uw.jsx)("img",{className:"mx-auto h-8 w-auto",src:"/logo-red.svg",alt:"VideoGen Logo"}),(0,uw.jsx)("h2",{className:"mt-6 text-3xl font-bold tracking-tight text-gray-900",children:"Sign up in seconds"}),(0,uw.jsx)("p",{className:"text-md mt-2 text-gray-600",children:"Join 1M+ others creating videos with VideoGen."})]}),(0,uw.jsxs)("div",{className:"mt-8",children:[(0,uw.jsxs)("div",{className:Dn(y||c5?"hidden":""),children:[(0,uw.jsx)("div",{children:(0,uw.jsx)("div",{children:(0,uw.jsx)("div",{children:(0,uw.jsxs)("button",{onClick:I,disabled:D,className:"text-md relative inline-flex w-full items-center justify-center space-x-4 rounded-xl border border-gray-300 bg-white px-4 py-3 font-medium text-gray-900 transition-colors hover:bg-gray-100","data-cy":"sign-up-with-google-button",children:[(0,uw.jsx)("span",{className:"absolute left-4 top-3",children:(0,uw.jsx)(o5,{})}),(0,uw.jsx)("span",{children:"Continue with Google"})]})})})}),(0,uw.jsxs)("div",{className:"relative mb-3 mt-4",children:[(0,uw.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,uw.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,uw.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,uw.jsx)("span",{className:"bg-white px-2 text-gray-500",children:"Or"})})]})]}),(0,uw.jsx)("div",{children:(0,uw.jsxs)("div",{className:"space-y-4",children:[(0,uw.jsx)("div",{className:Dn(y?"":"hidden"),children:(0,uw.jsxs)("button",{type:"submit",className:"text-md group mb-2 w-full rounded-xl bg-gray-100 px-4 py-3 font-medium text-gray-900 transition-all hover:bg-gray-300 focus:outline-none focus:ring-0",onClick:M,children:[(0,uw.jsx)("span",{className:"mr-3",children:"\u2190"}),(0,uw.jsx)("span",{children:"Use a different sign up method"})]})}),(0,uw.jsxs)("div",{children:[(0,uw.jsx)(M$,{children:"Email"}),(0,uw.jsx)(u5,{type:"email",autoComplete:"email",value:c,onNewValue:l,required:!0,dataCy:"sign-up-email-input",warningMessage:E})]}),(0,uw.jsxs)("div",{className:Dn(y?"":"hidden"),children:[(0,uw.jsx)(M$,{children:"Password"}),(0,uw.jsx)(u5,{type:"password",autoComplete:"current-password",value:f,onNewValue:h,required:!0,dataCy:"sign-up-password-input",warningMessage:_})]}),(0,uw.jsxs)("div",{className:Dn(y?"":"hidden"),children:[(0,uw.jsx)(M$,{children:"Confirm Password"}),(0,uw.jsx)(u5,{type:"password",value:v,onNewValue:g,required:!0,dataCy:"sign-up-confirm-password-input",warningMessage:C})]}),(0,uw.jsx)("div",{className:Dn(y?"":"hidden"),children:(0,uw.jsx)(tD,{type:"submit",className:"text-md flex w-full justify-center rounded-xl border border-transparent bg-gray-900 px-4 py-3 font-semibold text-white shadow-sm transition-colors hover:bg-gray-700 focus:outline-none focus:ring-0",onClick:L,isLoading:n,disabled:D,"data-cy":"sign-up-with-email-password-button",children:"Sign up"})}),(0,uw.jsx)("div",{className:Dn(y?"hidden":""),children:(0,uw.jsx)("button",{type:"submit",className:"text-md flex w-full justify-center rounded-xl border border-transparent bg-gray-900 px-4 py-3 font-semibold text-white shadow-sm transition-colors hover:bg-gray-700 focus:outline-none focus:ring-0",onClick:j,children:"Continue with email"})}),(0,uw.jsxs)("div",{children:[(0,uw.jsxs)("div",{className:"mb-12 text-center",children:[(0,uw.jsx)("span",{className:"text-sm text-gray-500",children:"Already have an account?"}),(0,uw.jsx)("br",{}),(0,uw.jsx)(aG,{to:"/signin",className:"text-md font-medium text-main-600 hover:text-main-500",children:"Sign in"})]}),(0,uw.jsx)(s5,{})]})]})})]})]})})})},d5=function(){var e=jD(),r=k((0,t.useState)(!1),2),n=r[0],i=r[1],a=k((0,t.useState)(!1),2),o=a[0],s=a[1],u=k((0,t.useState)(""),2),c=u[0],l=u[1],d=k((0,t.useState)(""),2),f=d[0],h=d[1],p=k((0,t.useState)(!1),2),v=p[0],g=p[1],m=k((0,t.useState)(""),2),y=m[0],b=m[1],S=k((0,t.useState)(""),2),E=S[0],x=S[1],w=(0,t.useCallback)((function(){return c?Sn.StringH.isStrValidEmail(c)?(b(""),!0):(b("Please enter a valid email."),!1):(b("Please enter an email."),!1)}),[c]),_=(0,t.useCallback)((function(){return f?f.length<6?(x("Password must be at least 6 characters."),!1):(x(""),!0):(x("Please enter a password."),!1)}),[f]);(0,t.useEffect)((function(){y&&w()}),[y,w]),(0,t.useEffect)((function(){E&&_()}),[E,_]);var T=(0,t.useCallback)(Ot(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!w()||!_()){t.next=11;break}return i(!0),t.prev=2,t.next=5,e(Yw.signInWithEmailPassword({email:c,password:f})).unwrap();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e(UM.handleError(t.t0));case 10:i(!1);case 11:case"end":return t.stop()}}),t,null,[[2,7]])}))),[e,c,f,w,_]),A=(0,t.useCallback)(Ot(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.prev=1,t.next=4,e(Yw.signInWithGoogle()).unwrap();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),e(UM.handleError(t.t0));case 9:s(!1);case 10:case"end":return t.stop()}}),t,null,[[1,6]])}))),[e]),C=(0,t.useCallback)((function(){w()&&g(!0)}),[w]),P=(0,t.useCallback)((function(){g(!1)}),[]),I=n||o;return(0,uw.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,uw.jsx)("div",{className:"flex flex-1 flex-col justify-center px-4 py-12 sm:px-6 lg:flex-none lg:px-20 xl:px-24",children:(0,uw.jsxs)("div",{className:"mx-auto w-full max-w-sm lg:w-96",children:[(0,uw.jsxs)("div",{className:Dn("text-center",v?"hidden":""),children:[(0,uw.jsx)("img",{className:"mx-auto h-8 w-auto",src:"/logo-red.svg",alt:"VideoGen Logo"}),(0,uw.jsx)("h2",{className:"mt-6 text-3xl font-bold tracking-tight text-gray-900",children:"Welcome back to VideoGen"}),(0,uw.jsx)("p",{className:"text-md mt-2 text-gray-600",children:"It's great to see you again \ud83d\ude0a"})]}),(0,uw.jsxs)("div",{className:"mt-8",children:[(0,uw.jsxs)("div",{className:Dn(v||c5?"hidden":""),children:[(0,uw.jsx)("div",{children:(0,uw.jsx)("div",{children:(0,uw.jsx)("div",{children:(0,uw.jsx)("div",{children:(0,uw.jsxs)("button",{"data-cy":"sign-in-with-google-button",onClick:A,disabled:I,className:"text-md relative inline-flex w-full items-center justify-center space-x-4 rounded-xl border border-gray-300 bg-white px-4 py-3 font-medium text-gray-900 transition-colors hover:bg-gray-100",children:[(0,uw.jsx)("span",{className:"absolute left-4 top-3",children:(0,uw.jsx)(o5,{})}),(0,uw.jsx)("span",{children:"Continue with Google"})]})})})})}),(0,uw.jsxs)("div",{className:"relative mb-3 mt-4",children:[(0,uw.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,uw.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,uw.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,uw.jsx)("span",{className:"bg-white px-2 text-gray-500",children:"Or"})})]})]}),(0,uw.jsx)("div",{children:(0,uw.jsxs)("div",{className:"space-y-4",children:[(0,uw.jsx)("div",{className:Dn(v?"":"hidden"),children:(0,uw.jsxs)("button",{type:"submit",className:"text-md group mb-2 w-full rounded-xl bg-gray-100 px-4 py-3 font-medium text-gray-900 transition-all hover:bg-gray-300 focus:outline-none focus:ring-0",onClick:P,children:[(0,uw.jsx)("span",{className:"mr-3",children:"\u2190"}),(0,uw.jsx)("span",{children:"Use a different sign in method"})]})}),(0,uw.jsxs)("div",{children:[(0,uw.jsx)(M$,{children:"Email"}),(0,uw.jsx)(u5,{type:"email",value:c,onNewValue:l,autoComplete:"email",required:!0,warningMessage:y,dataCy:"sign-in-email-input"})]}),(0,uw.jsxs)("div",{className:Dn(v?"":"hidden"),children:[(0,uw.jsx)(M$,{children:"Password"}),(0,uw.jsx)(u5,{type:"password",value:f,onNewValue:h,autoComplete:"current-password",required:!0,warningMessage:E,dataCy:"sign-in-password-input"})]}),(0,uw.jsx)("div",{className:Dn("flex items-center justify-between"),children:(0,uw.jsx)("div",{className:"text-sm",children:(0,uw.jsx)(aG,{to:"/change-password",className:"font-medium text-main-600 hover:text-main-500",children:"Forgot your password?"})})}),(0,uw.jsx)("div",{className:Dn(v?"":"hidden"),children:(0,uw.jsx)(tD,{type:"submit",className:"text-md flex w-full justify-center rounded-xl border border-transparent bg-gray-900 px-4 py-3 font-semibold text-white shadow-sm transition-colors hover:bg-gray-700 focus:outline-none focus:ring-0",onClick:T,isLoading:n,disabled:I,"data-cy":"sign-in-with-email-password-button",children:"Sign in"})}),(0,uw.jsx)("div",{className:Dn(v?"hidden":""),children:(0,uw.jsx)("button",{type:"submit",className:"text-md flex w-full justify-center rounded-xl border border-transparent bg-gray-900 px-4 py-3 font-semibold text-white shadow-sm transition-colors hover:bg-gray-700 focus:outline-none focus:ring-0",onClick:C,children:"Continue with email"})}),(0,uw.jsxs)("div",{children:[(0,uw.jsxs)("div",{className:"mb-12 text-center",children:[(0,uw.jsx)("span",{className:"text-sm text-gray-500",children:"Don't have an account?"}),(0,uw.jsx)("br",{}),(0,uw.jsx)(aG,{to:"/signup",className:"text-md font-medium text-main-600 hover:text-main-500",children:"Sign up"})]}),(0,uw.jsx)(s5,{})]})]})})]})]})})})},f5=function(){var e,r,n,i,a,o=jD(),s=k((0,t.useState)(!1),2),u=s[0],c=s[1],l=k((0,t.useState)(null!==(e=null===(r=mx.currentUser)||void 0===r?void 0:r.email)&&void 0!==e?e:""),2),d=l[0],f=l[1],h=1===(null===(n=mx.currentUser)||void 0===n?void 0:n.providerData.length)&&"google.com"===(null===(i=Sn.ArrayH.arrGetFirstOrOmit(null===(a=mx.currentUser)||void 0===a?void 0:a.providerData))||void 0===i?void 0:i.providerId),p=(0,t.useCallback)(Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,o(Yw.resetPassword({email:d}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),o(UM.handleError(e.t0,{defaultErr:Sn.ErrorH.newFatalError('Failed to send email link to "'.concat(d,'" for password reset.'))}));case 9:c(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])}))),[o,d]);return(0,uw.jsx)(uw.Fragment,{children:(0,uw.jsx)("div",{className:"flex min-h-screen flex-col bg-gray-50 py-12",children:(0,uw.jsx)("main",{className:"mx-auto flex w-full max-w-7xl flex-grow flex-col justify-center px-6 lg:px-8",children:(0,uw.jsx)("div",{className:"flex flex-shrink-0 justify-center",children:(0,uw.jsx)("div",{className:"bg-white shadow sm:rounded-lg",children:(0,uw.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,uw.jsx)("h3",{className:"text-2xl font-semibold text-gray-900",children:h?"Add password sign in to your account":"Reset your password"}),(0,uw.jsx)("div",{className:"mt-2 max-w-xl text-base text-gray-700",children:(0,uw.jsx)("p",{children:h?(0,uw.jsxs)(uw.Fragment,{children:["We will send you an email with a link to add a password sign in method.",(0,uw.jsx)("br",{}),(0,uw.jsx)(aG,{to:"/settings",className:"font-medium text-main-600 hover:text-main-500",children:"Go back to VideoGen"})]}):(0,uw.jsxs)(uw.Fragment,{children:["We will send you an email with a link to reset your password.\xa0",(0,uw.jsx)(aG,{to:"/signin",className:"font-medium text-main-600 hover:text-main-500",children:"Sign in"})]})})}),(0,uw.jsxs)("div",{className:"mt-5 sm:flex sm:items-center",children:[(0,uw.jsxs)("div",{className:"w-full sm:max-w-xs",children:[(0,uw.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email"}),(0,uw.jsx)(g1,{type:"email",placeholder:"you@example.com",value:d,onNewValue:f})]}),(0,uw.jsx)(tD,{type:"submit",className:"mt-3 inline-flex w-full items-center justify-center rounded-lg border border-transparent bg-main-600 px-4 py-2 text-base font-medium text-white hover:bg-main-700 focus:outline-none focus:ring-0 sm:ml-3 sm:mt-0 sm:w-auto",onClick:p,isLoading:u,children:"Request Link"})]})]})})})})})})},h5=function(){return(0,uw.jsx)(uw.Fragment,{children:(0,uw.jsx)("div",{className:"flex min-h-screen flex-col bg-white pb-12 pt-16",children:(0,uw.jsx)("main",{className:"mx-auto flex w-full max-w-7xl flex-grow flex-col justify-center px-6 lg:px-8",children:(0,uw.jsx)("div",{className:"py-8",children:(0,uw.jsxs)("div",{className:"text-center",children:[(0,uw.jsx)("h1",{className:"text-lg font-bold tracking-tight text-gray-900",children:"You are now logged out"}),(0,uw.jsxs)("div",{className:"mt-6 text-gray-500",children:[(0,uw.jsx)(aG,{to:"/signin",className:"text-base font-medium text-main-600 hover:text-main-500",children:"Sign in"})," ","|"," ",(0,uw.jsx)(aG,{to:"/signup",className:"text-base font-medium text-main-600 hover:text-main-500",children:"Sign up"})]})]})})})})})},p5=Sn.WebsiteH.getWebsiteBasePath(Ix),v5=function(){var e=jD(),r=MD(aw.selectIsUserFetched),n=MD(aw.selectSimpleUser);return(0,t.useEffect)((function(){var t=function(){var t=Ot(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:if(null==n){t.next=11;break}return t.prev=3,t.next=6,e(Yw.logOut()).unwrap();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),e(UM.handleError(t.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to log out.")}));case 11:window.location.href=p5;case 12:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(){return t.apply(this,arguments)}}();t()}),[e,r,n]),(0,uw.jsx)(h5,{})},g5=function(e){return e.HOME="HOME",e.SETTINGS="SETTINGS",e.SUPPORT="SUPPORT",e.MEDIA="MEDIA",e.BRAND_KIT="BRAND_KIT",e.USAGE="USAGE",e.AI_ARTIST="AI_ARTIST",e.API="API",e.AFFILIATES="AFFILIATES",e.DUBBING="DUBBING",e}({}),m5=["title","titleId"];var y5=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,m5);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))})),b5=["title","titleId"];var S5=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,b5);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))})),E5=["title","titleId"];var x5=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,E5);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))})),w5=["title","titleId"];var k5=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,w5);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m6.75 7.5 3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0 0 21 18V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v12a2.25 2.25 0 0 0 2.25 2.25Z"}))})),_5=["title","titleId"];var T5=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,_5);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})),A5=["title","titleId"];var C5=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,A5);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))})),P5=["title","titleId"];var I5=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,P5);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))})),O5=["title","titleId"];var R5=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,O5);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"}),t.createElement("path",{d:"m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"}))})),N5=["title","titleId"];var L5=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,N5);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"M19.5 21a3 3 0 0 0 3-3v-4.5a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3V18a3 3 0 0 0 3 3h15ZM1.5 10.146V6a3 3 0 0 1 3-3h5.379a2.25 2.25 0 0 1 1.59.659l2.122 2.121c.14.141.331.22.53.22H19.5a3 3 0 0 1 3 3v1.146A4.483 4.483 0 0 0 19.5 9h-15a4.483 4.483 0 0 0-3 1.146Z"}))})),j5=["title","titleId"];var M5=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,j5);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"}))})),D5=["title","titleId"];var F5=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,D5);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M2.25 6a3 3 0 0 1 3-3h13.5a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V6Zm3.97.97a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 0 1-1.06-1.06l1.72-1.72-1.72-1.72a.75.75 0 0 1 0-1.06Zm4.28 4.28a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z",clipRule:"evenodd"}))})),U5=["title","titleId"];var B5=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,U5);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"M10.464 8.746c.227-.18.497-.311.786-.394v2.795a2.252 2.252 0 0 1-.786-.393c-.394-.313-.546-.681-.546-1.004 0-.323.152-.691.546-1.004ZM12.75 15.662v-2.824c.347.085.664.228.921.421.427.32.579.686.579.991 0 .305-.152.671-.579.991a2.534 2.534 0 0 1-.921.42Z"}),t.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v.816a3.836 3.836 0 0 0-1.72.756c-.712.566-1.112 1.35-1.112 2.178 0 .829.4 1.612 1.113 2.178.502.4 1.102.647 1.719.756v2.978a2.536 2.536 0 0 1-.921-.421l-.879-.66a.75.75 0 0 0-.9 1.2l.879.66c.533.4 1.169.645 1.821.75V18a.75.75 0 0 0 1.5 0v-.81a4.124 4.124 0 0 0 1.821-.749c.745-.559 1.179-1.344 1.179-2.191 0-.847-.434-1.632-1.179-2.191a4.122 4.122 0 0 0-1.821-.75V8.354c.29.082.559.213.786.393l.415.33a.75.75 0 0 0 .933-1.175l-.415-.33a3.836 3.836 0 0 0-1.719-.755V6Z",clipRule:"evenodd"}))})),G5=["title","titleId"];var V5=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,G5);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))})),H5=["title","titleId"];var W5=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,H5);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))})),q5=function(e){switch(e){case g5.AI_ARTIST:return"AI Artist";case g5.API:return"API";default:return Sn.StringH.capitalizeStr(e)}},z5=function(e){var r=e.currentPage,n=(jD(),aF()),i=qa(aw.selectPrivateWorkspaceInfo),a=(0,t.useMemo)((function(){return[{page:g5.HOME,route:"/",Icon:y5,SolidIcon:R5},{page:g5.MEDIA,route:"/media",Icon:S5,SolidIcon:L5,badgeType:kK.PRO},{page:g5.BRAND_KIT,route:"/brand-kit",Icon:x5,SolidIcon:M5,badgeType:kK.PRO},{page:g5.API,route:"/api",Icon:k5,SolidIcon:F5,badgeType:kK.NEW},{page:g5.AI_ARTIST,route:"/ai-artist",Icon:kG,SolidIcon:pG},{page:g5.AFFILIATES,route:"/affiliates",Icon:T5,SolidIcon:B5},{page:g5.USAGE,route:"/usage",Icon:C5,SolidIcon:V5},{page:g5.SUPPORT,route:"/support",Icon:I5,SolidIcon:W5}].concat(u(Ix===Sn.ConfigT.Environment.LOCAL?[{page:g5.DUBBING,route:"/dubbing",Icon:CG,SolidIcon:yG}]:[]))}),[]),o=(0,t.useCallback)(Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({pathname:"/new"});case 1:case"end":return e.stop()}}),e)}))),[n]);return(0,uw.jsxs)("nav",{className:"flex h-full w-full flex-col gap-4 overflow-y-auto border-r border-gray-100 bg-gray-50 px-4 py-4 md:px-5 md:py-5",children:[(0,uw.jsx)("div",{className:"flex flex-shrink-0 items-center",children:(0,uw.jsxs)(aG,{to:"/",className:"flex h-8 items-center text-xl font-bold focus:outline-none",children:[(0,uw.jsx)("img",{className:"mr-3 h-5 w-auto",src:"/logo-red.svg",alt:"VideoGen Logo"}),"VideoGen"]})}),(0,uw.jsx)("div",{className:"z-30 mt-1 flex-shrink-0 text-right",children:(0,uw.jsx)("button",{onClick:o,className:"w-full text-center",children:(0,uw.jsx)("div",{className:"flex w-full items-center justify-center rounded-xl bg-main-600 p-3 text-center text-base font-semibold text-white transition-all hover:bg-main-700",children:(0,uw.jsx)("div",{className:"mx-auto flex items-center justify-center",children:(0,uw.jsx)("span",{children:"Generate a video"})})},"cta")})}),(0,uw.jsx)("div",{"data-cy":"dashboard-sidebar-pages-nav-list",className:"-mx-4 flex-grow space-y-1 overflow-y-auto px-4",children:a.map((function(e){var t=e.page,n=e.route,i=e.Icon,a=e.SolidIcon,o=e.badgeType;return(0,uw.jsxs)(aG,{to:n,className:Dn("".concat(t===r?"bg-gray-200 font-medium text-gray-900":"font-normal text-gray-700 hover:bg-gray-200"," group flex items-center rounded-xl px-4 py-2 text-sm transition-colors")),children:[(0,uw.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,uw.jsxs)("div",{className:"flex items-center space-x-4",children:[t===r?(0,uw.jsx)(a,{className:"h-5 w-5","aria-hidden":"true"}):(0,uw.jsx)(i,{className:"h-5 w-5","aria-hidden":"true"}),(0,uw.jsx)("span",{children:q5(t)})]})}),o&&(0,uw.jsx)(TK,{type:o})]},t)}))}),(0,uw.jsx)("div",{className:"flex w-full flex-shrink-0 flex-col items-stretch",children:i.permissions.isAdmin?(0,uw.jsx)("div",{className:"flex w-full rounded-xl bg-gray-500 p-3 text-center text-base font-semibold text-white transition-all",children:(0,uw.jsx)("div",{className:"mx-auto flex",children:"Admin"})}):(0,uw.jsx)(Q1,{locationName:"dashboard-sidebar",isLarge:!0})})]})},Y5=["title","titleId"];var X5=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,Y5);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75ZM2 10a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 10Zm0 5.25a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))})),K5=["title","titleId"];var J5=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,K5);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11ZM2 9a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 2 9Z",clipRule:"evenodd"}))})),Z5=function(){var e,r,n=jD(),i=(0,t.useCallback)((function(){Mx("click_resend_verification_email"),n(Yw.sendVerificationEmail({}))}),[n]),a=(0,t.useCallback)((function(){Mx("click_already_verified_email"),n(Yw.checkEmailVerified())}),[n]);return(0,uw.jsx)("div",{className:"mx-auto mb-4 w-full rounded-3xl border-4 border-yellow-500 bg-yellow-50 px-4 py-6",children:(0,uw.jsx)("div",{className:"flex",children:(0,uw.jsxs)("div",{className:"ml-3",children:[(0,uw.jsx)("h3",{className:"text-2xl font-semibold text-yellow-900",children:"Please verify your email"}),(0,uw.jsx)("div",{className:"mt-2 text-lg text-yellow-700",children:(0,uw.jsxs)("p",{children:["We sent an email to ",(0,uw.jsx)("u",{children:null!==(e=null===(r=mx.currentUser)||void 0===r?void 0:r.email)&&void 0!==e?e:"your email address"}),". Just click the link in the email to complete your signup. If you don't see it, you may need to ",(0,uw.jsx)("span",{className:"text-semibold",children:"check your spam folder"}),"."]})}),(0,uw.jsx)("div",{className:"mt-4",children:(0,uw.jsxs)("div",{className:"w-full space-y-2 sm:flex sm:w-auto sm:space-x-2 sm:space-y-0",children:[(0,uw.jsx)("button",{type:"button",onClick:i,className:"w-full rounded-xl bg-yellow-800 px-4 py-2 text-lg font-semibold text-white transition-colors hover:bg-yellow-600 focus:outline-none focus:ring-0 sm:w-auto",children:"Resend Email Verification Link"}),(0,uw.jsx)("button",{type:"button",onClick:a,className:"w-full px-4 py-2 text-lg font-semibold text-yellow-800 transition-colors hover:text-yellow-600 focus:outline-none focus:ring-0 sm:w-auto",children:(0,uw.jsx)("u",{children:"I already verified my email"})})]})})]})})})},Q5=["title","titleId"];var $5,e3,t3=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,Q5);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495ZM10 5a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 10 5Zm0 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"}))})),r3=function(e){var r=e.subtle,n=jD(),i=MD(aw.selectPrivateWorkspaceInfo),a=(MD(Z1.selectStripePromotionCodeSummary),(0,t.useCallback)((function(){null!=i&&n(yw({upgradeAction:null})),Mx("click_upgrade_banner")}),[n,i])),o=(0,t.useMemo)((function(){var e=null==i.subscription?Sn.PaymentT.SubscriptionType.PRO:Sn.PaymentH.subscriptionTypeComparator.getNextOrderedItem(i.subscription.subscriptionType);return(null==e?0:Sn.WorkspaceH.getWorkspaceEligibleFreeTrialDaysForNewSubscriptionType({workspaceInfo:i,newSubscriptionType:e}))>0?"Start free trial":"Upgrade plan"}),[i]);return null!=i.subscription&&i.subscription.subscriptionType===Sn.PaymentT.SubscriptionType.STARTER?(0,uw.jsxs)(SK.div,{initial:{y:r?0:-20,opacity:0,backgroundColor:"#fff"},animate:{y:0,opacity:1,backgroundColor:"#fff"},whileHover:{scale:1.02,backgroundColor:"#dc2626"},onClick:a,className:"relative isolate mb-4 flex cursor-pointer items-center overflow-hidden rounded-2xl border-2 border-black bg-gray-50 p-4 sm:before:flex-1",children:[(0,uw.jsx)("div",{className:"absolute left-[max(-7rem,calc(50%-52rem))] top-1/2 -z-10 -translate-y-1/2 transform-gpu blur-2xl","aria-hidden":"true",children:(0,uw.jsx)("div",{className:"aspect-[577/310] w-[36.0625rem] bg-gradient-to-r from-[#9089fc] to-[#dc2626] opacity-40",style:{clipPath:"polygon(74.8% 41.9%, 97.2% 73.2%, 100% 34.9%, 92.5% 0.4%, 87.5% 0%, 75% 28.6%, 58.5% 54.6%, 50.1% 56.8%, 46.9% 44%, 48.3% 17.4%, 24.7% 53.9%, 0% 27.9%, 11.9% 74.2%, 24.9% 54.1%, 68.6% 100%, 74.8% 41.9%)"}})}),(0,uw.jsx)("div",{className:"absolute left-[max(45rem,calc(50%+8rem))] top-1/2 -z-10 -translate-y-1/2 transform-gpu blur-2xl","aria-hidden":"true",children:(0,uw.jsx)("div",{className:"aspect-[577/310] w-[36.0625rem] bg-gradient-to-r from-[#dc2626] to-[#9089fc] opacity-40",style:{clipPath:"polygon(74.8% 41.9%, 97.2% 73.2%, 100% 34.9%, 92.5% 0.4%, 87.5% 0%, 75% 28.6%, 58.5% 54.6%, 50.1% 56.8%, 46.9% 44%, 48.3% 17.4%, 24.7% 53.9%, 0% 27.9%, 11.9% 74.2%, 24.9% 54.1%, 68.6% 100%, 74.8% 41.9%)"}})}),(0,uw.jsxs)("div",{className:"flex w-full flex-wrap items-center justify-center gap-x-4 gap-y-2",children:[(0,uw.jsx)("div",{className:"flex-grow pl-4 text-left text-xl font-medium text-gray-900",children:"Upload your own content, access more templates, and do more with Pro."}),(0,uw.jsxs)("button",{onClick:a,className:"float-right inline-flex flex-shrink-0 items-center justify-center space-x-2 rounded-xl bg-gray-900 px-4 py-2 text-lg font-semibold text-white shadow-sm",children:[(0,uw.jsx)("div",{children:o}),(0,uw.jsx)("div",{"aria-hidden":"true",children:"\u2192"})]})]}),(0,uw.jsx)("div",{className:"flex flex-1 justify-end"})]}):null!=i.subscription||null!=i.freeAccessUsageCreditsContainer?(0,uw.jsx)(uw.Fragment,{}):(0,uw.jsxs)(SK.div,{initial:{y:r?0:-20,opacity:0,backgroundColor:"#000"},animate:{y:0,opacity:1,backgroundColor:"#000"},whileHover:{scale:1.02,backgroundColor:"#dc2626"},onClick:a,className:"relative isolate mb-4 flex cursor-pointer items-center overflow-hidden rounded-2xl bg-gray-50 p-4 sm:before:flex-1",children:[(0,uw.jsx)("div",{className:"absolute left-[max(-7rem,calc(50%-52rem))] top-1/2 -z-10 -translate-y-1/2 transform-gpu blur-2xl","aria-hidden":"true",children:(0,uw.jsx)("div",{className:"aspect-[577/310] w-[36.0625rem] bg-gradient-to-r from-[#9089fc] to-[#dc2626] opacity-40",style:{clipPath:"polygon(74.8% 41.9%, 97.2% 73.2%, 100% 34.9%, 92.5% 0.4%, 87.5% 0%, 75% 28.6%, 58.5% 54.6%, 50.1% 56.8%, 46.9% 44%, 48.3% 17.4%, 24.7% 53.9%, 0% 27.9%, 11.9% 74.2%, 24.9% 54.1%, 68.6% 100%, 74.8% 41.9%)"}})}),(0,uw.jsx)("div",{className:"absolute left-[max(45rem,calc(50%+8rem))] top-1/2 -z-10 -translate-y-1/2 transform-gpu blur-2xl","aria-hidden":"true",children:(0,uw.jsx)("div",{className:"aspect-[577/310] w-[36.0625rem] bg-gradient-to-r from-[#dc2626] to-[#9089fc] opacity-40",style:{clipPath:"polygon(74.8% 41.9%, 97.2% 73.2%, 100% 34.9%, 92.5% 0.4%, 87.5% 0%, 75% 28.6%, 58.5% 54.6%, 50.1% 56.8%, 46.9% 44%, 48.3% 17.4%, 24.7% 53.9%, 0% 27.9%, 11.9% 74.2%, 24.9% 54.1%, 68.6% 100%, 74.8% 41.9%)"}})}),(0,uw.jsxs)("div",{className:"flex w-full flex-wrap items-center justify-center gap-x-4 gap-y-2",children:[(0,uw.jsx)("div",{className:"flex-grow pl-4 text-left text-xl font-medium text-white",children:"Get unlimited downloads, file uploads, AI features and more."}),(0,uw.jsxs)("button",{onClick:a,className:"float-right inline-flex flex-shrink-0 items-center justify-center space-x-2 rounded-xl bg-white px-4 py-2 text-lg font-semibold text-gray-900 shadow-sm",children:[(0,uw.jsx)("div",{children:o}),(0,uw.jsx)("div",{"aria-hidden":"true",children:"\u2192"})]})]}),(0,uw.jsx)("div",{className:"flex flex-1 justify-end"})]})},n3=function(){var e=aF(),r=MD(aw.selectPrivateWorkspaceInfo),n=(0,t.useCallback)(Ot(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Mx("click_create_project_card"),e({pathname:"/new"});case 2:case"end":return t.stop()}}),t)}))),[e]),i=(0,t.useCallback)((function(){Mx("click_add_brand_card"),e({pathname:"/brand-kit"})}),[e]),a=(0,t.useCallback)((function(){Mx("click_refer_and_earn_card"),e({pathname:"/affiliates"})}),[e]),o=(0,t.useCallback)((function(){Mx("click_access_api_card"),e({pathname:"/api"})}),[e]),s=(0,t.useMemo)((function(){return[{name:"Generate a video",icon:(0,uw.jsx)(HZ,{className:"h-full w-full text-white"}),backgroundColorClass:"bg-main-600",onClick:n},{name:"Add your brand",icon:(0,uw.jsx)(M5,{className:"h-full w-full text-white"}),backgroundColorClass:"bg-amber-500",onClick:i,badge:(0,uw.jsx)(TK,{type:kK.PRO})},{name:"Refer and earn",icon:(0,uw.jsx)(B5,{className:"h-full w-full text-white"}),backgroundColorClass:"bg-green-500",onClick:a},{name:"Get API access",icon:(0,uw.jsx)(F5,{className:"h-full w-full text-white"}),backgroundColorClass:"bg-purple-600",onClick:o,badge:(0,uw.jsx)(TK,{type:kK.BUSINESS})}]}),[n,i,a,o]);return(0,uw.jsx)("div",{className:"border-1 relative w-full bg-white",children:(0,uw.jsx)("div",{className:"relative",children:(0,uw.jsx)("div",{className:"mb-6 grid w-full grid-cols-1 gap-2 lg:grid-cols-2 2xl:grid-cols-4",children:r&&s.map((function(e,t){var r=e.name,n=e.icon,i=e.backgroundColorClass,a=e.onClick,o=e.badge;return(0,uw.jsxs)(SK.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},onClick:a,className:"border-1 group relative col-span-1 inline-flex cursor-pointer items-center space-x-4 rounded-2xl border border-gray-200 bg-gray-50 p-3 transition-colors hover:border-gray-200 hover:bg-gray-200",children:[(0,uw.jsx)("div",{className:Dn("relative flex h-9 w-9 items-center rounded-lg p-1.5",i),children:n}),(0,uw.jsx)("div",{className:"text-left",children:(0,uw.jsx)("div",{className:"text-lg font-medium text-gray-900",children:r})}),o&&(0,uw.jsx)("div",{className:"absolute right-3 block",children:o})]},t)}))})})})},i3=function(){return(0,uw.jsxs)("div",{className:"mx-auto my-12 grid max-w-xl gap-6",children:[(0,uw.jsxs)("div",{className:"col-span-1 text-center",children:[(0,uw.jsx)("h2",{className:"text-3xl font-semibold text-gray-900 sm:text-4xl",children:"Welcome to VideoGen"}),(0,uw.jsx)("p",{className:"mt-2 text-lg font-normal text-gray-700",children:"Your personal video creation assistant, powered by AI."})]}),(0,uw.jsxs)(aG,{to:"/new",className:"group relative mx-auto",children:[(0,uw.jsx)("div",{className:"absolute left-0 top-0 flex h-full w-full items-center justify-center rounded-2xl bg-black/80 p-4 text-center text-lg font-medium text-white opacity-0 transition-opacity group-hover:opacity-100",children:"Generate your first video"}),(0,uw.jsx)("img",{alt:"",src:"https://storage.googleapis.com/videogen-assets/example2.gif",className:"block h-64 rounded-2xl object-cover"})]}),(0,uw.jsx)("p",{className:"text-sm font-normal text-gray-500",children:"Trusted by over 1,000,000 users worldwide."})]})},a3=function(e){var r=e.searchQuery,n=jD(),i=(aF(),MD(aw.selectPrivateWorkspaceInfo)),a=k((0,t.useState)(null),2),o=a[0],s=a[1],u=k((0,t.useState)(null),2),c=u[0],l=u[1],d=k((0,t.useState)(!1),2),f=d[0],h=d[1],p=k((0,t.useState)(!1),2),v=p[0],g=p[1];ZD((function(){var e=function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!=mx.currentUser){e.next=3;break}throw Sn.ErrorH.newFatalError("Failed to load projects. Try refreshing the page.");case 3:return e.t0=s,e.next=6,JM({dispatch:n,workspaceId:mx.currentUser.uid});case 6:e.t1=e.sent,(0,e.t0)(e.t1),e.next=13;break;case 10:e.prev=10,e.t2=e.catch(0),n(UM.handleError(e.t2,{defaultErr:Sn.ErrorH.newFatalError("Failed to load projects. Try refreshing the page.")}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){}}));var m=(0,t.useMemo)((function(){return[{text:"Delete",onSelect:function(e){l(e),h(!0)},icon:(0,uw.jsx)(jZ,{className:"h-full w-full"})}]}),[]),y=(0,t.useCallback)(Ot(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),e.prev=1,null!=c){e.next=4;break}throw Sn.ErrorH.newFatalError("Failed to delete project.");case 4:return e.next=6,XM({workspaceId:i.workspaceId,projectId:c.metadata.projectId});case 6:s(null!==(t=null===o||void 0===o?void 0:o.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.projectId)!==c.metadata.projectId})))&&void 0!==t?t:null),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(UM.handleError(e.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to delete project.")}));case 12:h(!1),setTimeout((function(){g(!1)}),1e3);case 14:case"end":return e.stop()}}),e,null,[[1,9]])}))),[n,o,c,i.workspaceId]),b=(0,t.useMemo)((function(){if(null==o)return null;if(!r)return o;var e=r.toLowerCase();return o.filter((function(t){return t.metadata.title.toLowerCase().includes(e)}))}),[o,r]);return null==b?(0,uw.jsx)("div",{className:"text-center text-sm text-gray-500"}):(0,uw.jsxs)("div",{className:"text-center",children:[o&&0!==o.length?(0,uw.jsx)("div",{className:"flex-col items-stretch",children:(0,uw.jsxs)("div",{className:"inline-block w-full align-middle",children:[(0,uw.jsx)(r3,{}),(0,uw.jsx)("div",{className:"mt-0",children:(0,uw.jsx)(n3,{})}),(0,uw.jsxs)("div",{className:"min-w-full",children:[(0,uw.jsx)("div",{className:"grid w-full grid-cols-12 border-b border-gray-200 py-4 font-medium text-gray-900",children:(0,uw.jsxs)("div",{className:"text-md col-span-7 ml-1 text-left",children:["Recent videos",r&&(0,uw.jsxs)("span",{className:"font-normal text-gray-500",children:['\xa0\xa0|\xa0\xa0Title contains "',r,'"']})]})}),(0,uw.jsxs)("div",{className:"text-left",children:[r&&0===b.length&&(0,uw.jsxs)("div",{className:"flex h-32 w-full flex-col items-center justify-center",children:[(0,uw.jsx)(t3,{className:"h-10 w-10 text-gray-400"}),(0,uw.jsx)("div",{className:"mt-2 text-base text-gray-500",children:"No videos found. Try searching for something else."})]}),b.map((function(e,t){var r;return(0,uw.jsxs)(aG,{to:"/project/".concat(e.metadata.projectId),className:"grid w-full cursor-pointer grid-cols-12 border-b border-gray-100 px-3 py-2 transition-all hover:rounded-xl hover:bg-gray-100",children:[(0,uw.jsx)("div",{className:"col-span-7",children:(0,uw.jsxs)("div",{className:"flex items-center",children:[(0,uw.jsx)("div",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center",children:(0,uw.jsx)(HZ,{className:"h-5 w-5 text-gray-900"})}),(0,uw.jsx)("div",{className:"w-full px-4",children:(0,uw.jsx)("div",{className:"text-md w-full truncate font-medium text-gray-900",children:e.metadata.title})})]})}),(0,uw.jsx)("div",{className:"col-span-3 flex items-center justify-end text-sm text-gray-500 opacity-0 md:opacity-100",children:Sn.StringH.capitalizeStr(Sn.TimeH.secondsSinceEpochToRelativeDateStr(null!==(r=e.metadata.lastEditSecondsSinceEpoch)&&void 0!==r?r:0),{allWords:!1})}),(0,uw.jsx)("div",{className:"col-span-2 text-right text-sm font-medium sm:pr-0",children:(0,uw.jsxs)(iJ,{as:"div",className:"z-30 mr-3 mt-1 text-right",children:[(0,uw.jsx)(iJ.Button,{className:"h-8 w-8 rounded-full transition-colors hover:bg-gray-300",onClick:function(e){e.stopPropagation()},children:(0,uw.jsx)(NZ,{className:"m-1 h-6 text-gray-500"})}),(0,uw.jsx)(lZ,{position:"right",items:m.map((function(t){return{text:t.text,icon:t.icon,onSelect:function(){t.onSelect(e)}}}))})]})})]},t)}))]})]})]})}):(0,uw.jsx)("div",{className:"flex-col items-stretch",children:(0,uw.jsxs)("div",{className:"inline-block w-full align-middle",children:[(0,uw.jsx)(r3,{}),(0,uw.jsx)("div",{className:"mt-0",children:(0,uw.jsx)(n3,{})}),(0,uw.jsx)(i3,{})]})}),null!=c&&(0,uw.jsx)(KZ,{isModalOpen:f,closeModal:function(){h(!1)},deletedAssetDisplayName:c.metadata.title,isDeletionPending:v,confirmDeletion:y})]})},o3=Sn.WebsiteH.getWebsiteUrlForPath(Ix,"/contact"),s3=function(){return(0,uw.jsx)("div",{id:"contact",className:"w-full",children:(0,uw.jsxs)("a",{href:o3,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center space-x-2 rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm font-semibold text-gray-900 transition-colors hover:bg-gray-100 focus:outline-none focus:ring-0",children:[(0,uw.jsx)("div",{children:"Contact support"}),(0,uw.jsx)(hJ,{className:"h-4 w-4"})]})})},u3=null!=($5=t.startTransition)?$5:function(e){e()},c3=["defaultOpen"],l3=["id"],d3=["id"],f3=function(e){return e[e.Open=0]="Open",e[e.Closed=1]="Closed",e}(f3||{}),h3=function(e){return e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e}(h3||{}),p3=(We(e3={},0,(function(e){var t;return ze(ze({},e),{},{disclosureState:EF(e.disclosureState,(t={},We(t,0,1),We(t,1,0),t))})})),We(e3,1,(function(e){return 1===e.disclosureState?e:ze(ze({},e),{},{disclosureState:1})})),We(e3,4,(function(e){return!0===e.linkedPanel?e:ze(ze({},e),{},{linkedPanel:!0})})),We(e3,5,(function(e){return!1===e.linkedPanel?e:ze(ze({},e),{},{linkedPanel:!1})})),We(e3,2,(function(e,t){return e.buttonId===t.buttonId?e:ze(ze({},e),{},{buttonId:t.buttonId})})),We(e3,3,(function(e,t){return e.panelId===t.panelId?e:ze(ze({},e),{},{panelId:t.panelId})})),e3),v3=(0,t.createContext)(null);function g3(e){var r=(0,t.useContext)(v3);if(null===r){var n=new Error("<".concat(e," /> is missing a parent <Disclosure /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,g3),n}return r}v3.displayName="DisclosureContext";var m3=(0,t.createContext)(null);function y3(e){var r=(0,t.useContext)(m3);if(null===r){var n=new Error("<".concat(e," /> is missing a parent <Disclosure /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,y3),n}return r}m3.displayName="DisclosureAPIContext";var b3=(0,t.createContext)(null);function S3(e,t){return EF(t.type,p3,e,t)}b3.displayName="DisclosurePanelContext";var E3=t.Fragment;var x3=NF.RenderStrategy|NF.Static;var w3=BF((function(e,r){var n,i=e.defaultOpen,a=void 0!==i&&i,o=He(e,c3),s=(0,t.useRef)(null),u=SF(r,bF((function(e){s.current=e}),void 0===e.as||e.as===t.Fragment)),c=(0,t.useRef)(null),l=(0,t.useRef)(null),d=(0,t.useReducer)(S3,{disclosureState:a?0:1,linkedPanel:!1,buttonRef:l,panelRef:c,buttonId:null,panelId:null}),f=k(d,2),h=f[0],p=h.disclosureState,v=h.buttonId,g=f[1],m=pF((function(e){g({type:1});var t=sU(s);if(t&&v){var r=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:t.getElementById(v):t.getElementById(v);null==r||r.focus()}})),y=(0,t.useMemo)((function(){return{close:m}}),[m]),b=(0,t.useMemo)((function(){return{open:0===p,close:m}}),[p,m]),S={ref:u};return t.createElement(v3.Provider,{value:d},t.createElement(m3.Provider,{value:y},t.createElement(CF,{value:EF(p,(n={},We(n,0,TF.Open),We(n,1,TF.Closed),n))},jF({ourProps:S,theirProps:o,slot:b,defaultTag:E3,name:"Disclosure"}))))})),k3=BF((function(e,r){var n=uB(),i=e.id,a=void 0===i?"headlessui-disclosure-button-".concat(n):i,o=He(e,l3),s=k(g3("Disclosure.Button"),2),u=s[0],c=s[1],l=(0,t.useContext)(b3),d=null!==l&&l===u.panelId,f=(0,t.useRef)(null),h=SF(f,r,d?null:u.buttonRef),p=DF();(0,t.useEffect)((function(){if(!d)return c({type:2,buttonId:a}),function(){c({type:2,buttonId:null})}}),[a,c,d]);var v=pF((function(e){var t;if(d){if(1===u.disclosureState)return;switch(e.key){case _B.Space:case _B.Enter:e.preventDefault(),e.stopPropagation(),c({type:0}),null==(t=u.buttonRef.current)||t.focus()}}else switch(e.key){case _B.Space:case _B.Enter:e.preventDefault(),e.stopPropagation(),c({type:0})}})),g=pF((function(e){if(e.key===_B.Space)e.preventDefault()})),m=pF((function(t){var r;yB(t.currentTarget)||e.disabled||(d?(c({type:0}),null==(r=u.buttonRef.current)||r.focus()):c({type:0}))})),y=(0,t.useMemo)((function(){return{open:0===u.disclosureState}}),[u]),b=PK(e,f);return jF({mergeRefs:p,ourProps:d?{ref:h,type:b,onKeyDown:v,onClick:m}:{ref:h,id:a,type:b,"aria-expanded":0===u.disclosureState,"aria-controls":u.linkedPanel?u.panelId:void 0,onKeyDown:v,onKeyUp:g,onClick:m},theirProps:o,slot:y,defaultTag:"button",name:"Disclosure.Button"})})),_3=BF((function(e,r){var n=uB(),i=e.id,a=void 0===i?"headlessui-disclosure-panel-".concat(n):i,o=He(e,d3),s=k(g3("Disclosure.Panel"),2),u=s[0],c=s[1],l=y3("Disclosure.Panel").close,d=DF(),f=SF(r,u.panelRef,(function(e){u3((function(){return c({type:e?4:5})}))}));(0,t.useEffect)((function(){return c({type:3,panelId:a}),function(){c({type:3,panelId:null})}}),[a,c]);var h=AF(),p=null!==h?(h&TF.Open)===TF.Open:0===u.disclosureState,v=(0,t.useMemo)((function(){return{open:0===u.disclosureState,close:l}}),[u,l]),g={ref:f,id:a};return t.createElement(b3.Provider,{value:u.panelId},jF({mergeRefs:d,ourProps:g,theirProps:o,slot:v,defaultTag:"div",features:x3,visible:p,name:"Disclosure.Panel"}))})),T3=Object.assign(w3,{Button:k3,Panel:_3}),A3=["title","titleId"];var C3=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,A3);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M5.25 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5H6a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))})),P3=["title","titleId"];var I3=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,P3);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M12 5.25a.75.75 0 0 1 .75.75v5.25H18a.75.75 0 0 1 0 1.5h-5.25V18a.75.75 0 0 1-1.5 0v-5.25H6a.75.75 0 0 1 0-1.5h5.25V6a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))})),O3=function(e){var t=e.faqs,r=e.isTitleSmall;return(0,uw.jsx)("div",{id:"faq",children:(0,uw.jsxs)("div",{className:"mt-2",children:[(0,uw.jsx)("h3",{className:Dn("mb-4 font-semibold text-gray-900",r?"text-xl":"text-3xl"),children:"Frequently Asked Questions"}),(0,uw.jsx)("dl",{className:"mt-6",children:t.map((function(e,t){return(0,uw.jsx)(T3,{as:"div",className:"border-gray-120 border-t py-4",children:function(t){var r=t.open;return(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)("dt",{children:(0,uw.jsxs)(T3.Button,{className:"flex w-full items-start justify-between text-left text-gray-900",children:[(0,uw.jsx)("span",{className:"text-base font-semibold leading-6",children:e.question}),(0,uw.jsx)("span",{className:"ml-6 flex h-6 items-center",children:r?(0,uw.jsx)(C3,{className:"h-6 w-6","aria-hidden":"true"}):(0,uw.jsx)(I3,{className:"h-6 w-6","aria-hidden":"true"})})]})}),(0,uw.jsx)(T3.Panel,{as:"dd",className:"pr-12 pt-4",children:(0,uw.jsx)("p",{className:"whitespace-pre-wrap text-base leading-6 text-gray-700",children:e.answer})})]})}},t)}))})]})})},R3=function(){return(0,uw.jsx)("div",{id:"contact",className:"w-full",children:(0,uw.jsxs)("a",{href:"https://help.videogen.io",target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center space-x-2 rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm font-semibold text-gray-900 transition-colors hover:bg-gray-100 focus:outline-none focus:ring-0",children:[(0,uw.jsx)("div",{children:"Visit help center"}),(0,uw.jsx)(hJ,{className:"h-4 w-4"})]})})},N3=[{question:"How do I verify my email?",answer:"You can verify your email by clicking the link in the email we sent you when you signed up. If you didn't receive the email, you can request a new one by clicking 'Resend Verification Email' on the home page. If you still don't receive the email, it may be in your spam folder or you may have entered the wrong email address."},{question:"How do I create more videos?",answer:'You can create more videos by upgrading your plan. You can do this by clicking "Upgrade Plan" on the home page.'},{question:"How do I create longer videos?",answer:'You can create longer videos by upgrading your plan to Pro. Pro users can create videos up to 10,000 characters long. You can do this by clicking "Upgrade Plan" on the home page.'},{question:"The selected videos don't match the generated script. What should I do?",answer:'If the selected videos do not match the generated script, hover over a specific video and regenerate that specific video. You can also use the "Scenes" tab to adjust the scene matching algorithm. You can also hover over a scene and upload your own content or search our stock library.'},{question:"What languages can I generate videos in?",answer:"Here is a list of the 56 supported languages:\n\nAfrikaans, Arabic, Armenian, Azerbaijani, Belarusian, Bosnian, Bulgarian, Catalan, Chinese, Croatian, Czech, Danish, Dutch, English, Estonian, Finnish, French, Galician, German, Greek, Hebrew, Hindi, Hungarian, Icelandic, Indonesian, Italian, Japanese, Kannada, Kazakh, Korean, Latvian, Lithuanian, Macedonian, Malay, Marathi, Maori, Nepali, Norwegian, Persian, Polish, Portuguese, Romanian, Russian, Serbian, Slovak, Slovenian, Spanish, Swahili, Swedish, Tagalog, Tamil, Thai, Turkish, Ukrainian, Urdu, Vietnamese, and Welsh."},{question:"How do I customize my video (captions, voice, music, etc.)?",answer:"The tabs in the left side of the project can be used to customize the script, music, voice, and captions."},{question:"Can I upload my own voiceover?",answer:"You can try uploading your own voiceover as music and lowering the volume of the text-to-speech. Make sure you read the script at the same pace as the video to match the timings. However, this is a temporary workaround as we build out a full voiceover feature."},{question:"Can I upload my own images / videos / audio?",answer:"Yes, you can upload your own images, videos, and audio. You have to be on a paid plan to upload your own assets."},{question:"Can I use generated videos for commercial purposes?",answer:"Yes, you can use the videos for commercial purposes. All assets are copyright-free and you can use them for any purpose without needing to credit us."},{question:"How do AI credits work?",answer:"- When you modify a video script and click 'Generate', new text-to-speech audio will be generated. This process will consume AI credits from your available quota. Each character (letter, number, or symbol) in the script counts as ".concat(Sn.StringH.numWithUnits(Sn.WorkspaceC.AI_CREDITS_PER_TTS_CHAR,"credit"),".\n- Other tools have their own rate which will be explicitly listed on the tool. For example, AI Artist is ").concat(Sn.StringH.numWithUnits(Sn.WorkspaceC.AI_CREDITS_PER_IMAGE_GENERATION,"credit")," per image.\n- To track your remaining credits, visit the 'Usage' tab.\n- If you need more credits, consider upgrading your plan.")},{question:"How do I view and download my invoices?",answer:'You can view and download invoices by clicking "View invoice history" on the settings page.'}],L3=function(){return(0,uw.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,uw.jsx)(O3,{faqs:N3}),(0,uw.jsxs)("div",{className:"space-y-2 rounded-xl bg-gray-100 p-4",children:[(0,uw.jsx)("div",{className:"text-md font-normal",children:"Please only contact support if you cannot find the answer to your question in the FAQs. We are a small team and will try our best to respond ASAP :)"}),(0,uw.jsxs)("div",{className:"flex space-x-2",children:[(0,uw.jsx)("div",{className:"flex-shrink",children:(0,uw.jsx)(R3,{})}),(0,uw.jsx)("div",{className:"flex-shrink",children:(0,uw.jsx)(s3,{})})]})]}),(0,uw.jsxs)("div",{className:"space-x-4 text-sm text-gray-500",children:[(0,uw.jsx)("a",{target:"_blank",rel:"noreferrer",className:"hover:underline",href:Sn.WebsiteH.getWebsiteUrlForPath(Ix,"/privacy-policy"),children:"Privacy Policy"}),(0,uw.jsx)("a",{target:"_blank",rel:"noreferrer",className:"hover:underline",href:Sn.WebsiteH.getWebsiteUrlForPath(Ix,"/terms-of-service"),children:"Terms of Service"})]})]})},j3=function(e){var t=e.children;return(0,uw.jsx)("div",{className:"overflow-hidden border-b border-gray-200 bg-white py-8",children:t})},M3=["title","titleId"];var D3=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,M3);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"M6.75 9.25a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5h-6.5Z"}))})),F3=["title","titleId"];var U3=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,F3);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"M10.75 6.75a.75.75 0 0 0-1.5 0v2.5h-2.5a.75.75 0 0 0 0 1.5h2.5v2.5a.75.75 0 0 0 1.5 0v-2.5h2.5a.75.75 0 0 0 0-1.5h-2.5v-2.5Z"}))})),B3=function(){var e,r,n,i,a,o,s,u,c,l=jD(),d=MD(aw.selectPrivateSimpleUser),f=MD(aw.selectPrivateWorkspaceInfo),h=MD(aw.selectAreAllCurrenciesEnabled),p=k((0,t.useState)(!1),2),v=p[0],g=p[1],m=k((0,t.useState)(null!==(e=null===(r=mx.currentUser)||void 0===r?void 0:r.displayName)&&void 0!==e?e:""),2),y=m[0],b=m[1],S=k((0,t.useState)(null!==(n=null===(i=mx.currentUser)||void 0===i?void 0:i.email)&&void 0!==n?n:""),2),E=S[0],x=S[1],w=(0,t.useMemo)((function(){return d.providerData.some((function(e){return"google.com"===e.providerId}))}),[d]),_=(0,t.useCallback)(Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,l(Yw.updateUserProfile({newDisplayName:y}));case 4:return e.next=6,l(Yw.updateUserEmail({newEmail:E}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l(UM.handleError(e.t0));case 11:g(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),[l,y,E]),T=(0,t.useCallback)((function(){l(iD.toggleAreAllCurrenciesEnabled())}),[l]);return(0,uw.jsx)(j3,{children:(0,uw.jsxs)("div",{"data-cy":"account-settings",children:[(0,uw.jsxs)("div",{className:"-mt-6 space-y-6",children:[(0,uw.jsxs)("div",{children:[(0,uw.jsx)("div",{className:"flex justify-between align-top",children:(0,uw.jsx)("h3",{className:"text-2xl font-semibold leading-6 text-gray-900",children:"Account Settings"})}),(0,uw.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"We use this information for necessary account alerts and marketing communications."})]}),(0,uw.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,uw.jsxs)("div",{className:"col-span-3",children:[(0,uw.jsx)(M$,{children:"Sign in methods"}),null===(a=mx.currentUser)||void 0===a?void 0:a.providerData.map((function(e){var t;return(0,uw.jsx)("div",{className:"mb-1",children:(0,uw.jsxs)("div",{className:"flex items-start justify-between rounded-lg bg-gray-50 p-4",children:[(0,uw.jsxs)("div",{className:"sm:flex sm:items-start",children:[null!==e&&void 0!==e&&e.photoURL?(0,uw.jsx)("img",{src:e.photoURL,className:"bg-red h-8 w-8 rounded-full"}):(0,uw.jsx)("div",{className:"h-8 w-8",children:(0,uw.jsx)(U1,{})}),(0,uw.jsxs)("div",{className:"mt-3 sm:-mt-1 sm:ml-4",children:[(0,uw.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"google.com"===e.providerId?"Google":"Email/Password"}),(0,uw.jsx)("div",{className:"text-sm text-gray-600 sm:flex sm:items-center",children:(0,uw.jsx)("div",{children:null!==(t=e.email)&&void 0!==t?t:d.email})})]})]}),(0,uw.jsx)("div",{className:"ml-6 mt-0 flex-shrink-0",children:"google.com"!==e.providerId&&(0,uw.jsx)(aG,{to:"/change-password",className:"inline-flex items-center rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-0",children:"Change password"})})]})},e.uid)})),1===(null===(o=mx.currentUser)||void 0===o?void 0:o.providerData.length)&&"google.com"===(null===(s=Sn.ArrayH.arrGetFirstOrOmit(null===(u=mx.currentUser)||void 0===u?void 0:u.providerData))||void 0===s?void 0:s.providerId)&&(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)(aG,{to:"/change-password",className:"mt-2 inline-flex items-center rounded-xl border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-900 hover:bg-gray-50 focus:outline-none focus:ring-0",children:"Add password sign in method"}),(0,uw.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Recommended for sharing your account with others."})]})]}),(0,uw.jsxs)("div",{className:"col-span-3",children:[(0,uw.jsx)(M$,{children:(0,uw.jsxs)(uw.Fragment,{children:["Email",w&&"*"]})}),(0,uw.jsx)("div",{children:(0,uw.jsx)(g1,{type:"email",value:E,onNewValue:x,placeholder:"you@example.com"})}),w&&(0,uw.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"*Changing your email will also change the Google account associated with it."})]}),(0,uw.jsxs)("div",{className:"col-span-3",children:[(0,uw.jsx)(M$,{children:"Username"}),(0,uw.jsx)("div",{children:(0,uw.jsx)(g1,{value:y,onNewValue:b,placeholder:"Username"})})]})]})]}),(0,uw.jsx)("div",{className:"mt-8",children:(0,uw.jsx)(tD,{className:"text-md inline-flex justify-center rounded-xl border border-transparent bg-main-600 px-4 py-2 font-semibold text-white hover:bg-main-700 focus:outline-none focus:ring-0",onClick:_,isLoading:v,children:"Save changes"})}),(0,uw.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"Workspace ID: ".concat(null!==(c=null===f||void 0===f?void 0:f.workspaceId)&&void 0!==c?c:"")}),f.permissions.isAdmin&&(0,uw.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,uw.jsx)("div",{className:"w-full rounded-md bg-green-50 p-4 text-center text-lg font-bold text-green-700",children:"Admin Account"}),(0,uw.jsxs)("div",{className:"flex items-center gap-2 px-2",children:[(0,uw.jsx)("input",{checked:h,onChange:T,type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-main-600 focus:ring-main-600"}),(0,uw.jsx)("p",{className:"text-base font-normal text-gray-900",children:(0,uw.jsx)("i",{children:"Enable all currencies? (Admin only)"})})]}),(0,uw.jsx)(T3,{as:"div",className:"rounded-lg border border-gray-100 bg-gray-100 p-4 hover:border-gray-300",children:function(e){var t=e.open;return(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)("dt",{children:(0,uw.jsxs)(T3.Button,{className:"flex w-full items-start justify-between text-left text-gray-900",children:[(0,uw.jsx)("span",{className:"text-base font-semibold leading-6",children:"WorkspaceInfo (Admin only)"}),(0,uw.jsx)("span",{className:"ml-6 flex h-6 items-center",children:t?(0,uw.jsx)(D3,{className:"h-6 w-6","aria-hidden":"true"}):(0,uw.jsx)(U3,{className:"h-6 w-6","aria-hidden":"true"})})]})}),(0,uw.jsx)(T3.Panel,{as:"dd",className:"pr-12 pt-4",children:(0,uw.jsx)("p",{className:"whitespace-pre-wrap text-base leading-6 text-gray-700",children:(0,uw.jsx)("pre",{children:JSON.stringify(f,null,2)})})})]})}})]}),f.permissions.isLocalTester&&(0,uw.jsx)("div",{className:"mt-3 w-full rounded-md bg-blue-50 p-4 text-center text-lg font-bold text-blue-700",children:"Local Tester Account"})]})})},G3=["title","titleId"];var V3=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,G3);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M16.403 12.652a3 3 0 0 0 0-5.304 3 3 0 0 0-3.75-3.751 3 3 0 0 0-5.305 0 3 3 0 0 0-3.751 3.75 3 3 0 0 0 0 5.305 3 3 0 0 0 3.75 3.751 3 3 0 0 0 5.305 0 3 3 0 0 0 3.751-3.75Zm-2.546-4.46a.75.75 0 0 0-1.214-.883l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z",clipRule:"evenodd"}))})),H3=[5,10,15,30,45,60,90,120,150,180,240,300,360,420,480,540,600,900,1200,1500,1800],W3=function(e){var t=function(e){var t=.06*e.numChars;if(e.floorToDurationOption)for(var r=H3.length-1;r>=0;r-=1){var n=Sn.ArrayH.arrGet(H3,r);if(n<=t)return n}return t}({numChars:e.numChars,floorToDurationOption:e.floorToDurationOption});return Sn.TimeH.secondsToDurationStr(t,{units:["minutes"]})},q3=function(e){return e.PAID="PAID",e.FREE_ACCESS="FREE_ACCESS",e}({}),z3=function(e){var r=e.usageContainerType,n=MD(aw.selectPrivateWorkspaceInfo),i=(0,t.useMemo)((function(){switch(r){case q3.PAID:return{usageCreditsContainer:n.paidUsageCreditsContainer,subscription:n.subscription};case q3.FREE_ACCESS:return{usageCreditsContainer:n.freeAccessUsageCreditsContainer,subscription:null};default:return Sn.ErrorH.assertNever(r)}}),[n,r]),a=i.usageCreditsContainer,o=i.subscription,s=(0,t.useMemo)((function(){if(null==a)return null;var e=a.usageCredits,t=a.creditsRefillSubscriptionType,r=[];if(Sn.TypeT.strictObjectToEntries(e).forEach((function(e){var i=k(e,2),a=i[0],o=i[1];if(Sn.WorkspaceC.USAGE_CREDIT_KEY_VISIBILITY_MAP[a]===Sn.WorkspaceT.UsageCreditKeyVisibility.EXTERNAL){var s=Sn.WorkspaceH.getSubscriptionTypeMaxUsageCredits({subscriptionType:t,workspaceCreationSse:n.creationSecondsSinceEpoch,workspaceStripeInvoiceSummaries:n.stripeInvoiceSummaries,groupIdentifierNumberRecord:n.groupIdentifierNumberRecord});r.push({name:Sn.WorkspaceC.USAGE_CREDIT_KEY_PLURAL_NAME_MAP[a],value:(0,uw.jsxs)("span",{children:[(0,uw.jsxs)("span",{className:"mr-1.5",children:[Sn.StringH.formatNumber(o)," /"," ",Sn.StringH.formatNumber(s[a])]}),"remaining","aiCredits"===a&&(0,uw.jsxs)("span",{className:"block font-normal lg:ml-2 lg:inline-flex",children:["(~",W3({numChars:o/Sn.WorkspaceC.AI_CREDITS_PER_TTS_CHAR,floorToDurationOption:!1})," ","of video)"]})]},a)})}})),null!=o){var i="active"===o.stripeSubscriptionStatus||"trialing"===o.stripeSubscriptionStatus;r.push({name:"Subscription status",value:(0,uw.jsxs)("div",{className:Dn("flex items-center gap-1.5 rounded-full py-1 pl-1 pr-2",i?"bg-green-200 text-green-600":"bg-yellow-200 text-yellow-600"),children:[(0,uw.jsx)("div",{className:"h-5 w-5",children:i?(0,uw.jsx)(V3,{}):(0,uw.jsx)(t3,{})}),o.stripeSubscriptionStatus.replaceAll("_"," ")]})})}var s=Sn.WorkspaceH.getNextCreditRefillSse({usageCreditsContainer:a,subscription:o});if(null!=s){var u=Sn.TimeH.getCurrentSecondsSinceEpoch(),c=s-u,l=c<=Sn.TimeC.SECONDS_PER_MINUTE?"soon":c<=Sn.TimeC.SECONDS_PER_DAY?"in ".concat(Sn.TimeH.secondsToDurationStr(c)):Sn.TimeH.secondsSinceEpochToDateStr(s);r.push({name:"Next credit refill",value:l})}return r}),[a,o,n.creationSecondsSinceEpoch,n.stripeInvoiceSummaries,n.groupIdentifierNumberRecord]);return null==s?(0,uw.jsx)(uw.Fragment,{}):(0,uw.jsx)("div",{className:"border-1 grid w-full grid-cols-2 overflow-hidden rounded-xl bg-gray-50",style:{gridTemplateColumns:"min-content auto"},children:s.map((function(e,t){var r=e.name,n=e.value;return(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)("div",{className:Dn("col-span-1 flex flex-shrink-0 items-center whitespace-nowrap px-4 py-3 text-base text-gray-700",t===s.length-1?"":"border-b border-gray-200"),children:r}),(0,uw.jsx)("div",{className:Dn("col-span-1 flex flex-grow items-center whitespace-nowrap px-4 py-3 text-left text-sm font-medium text-gray-500",t===s.length-1?"":"border-b border-gray-200"),children:n})]})}))})},Y3=function(){var e,t,r=jD(),n=MD(aw.selectPrivateWorkspaceInfo);return(0,uw.jsx)(j3,{children:(0,uw.jsxs)("div",{className:"space-y-6","data-cy":"billing-settings",children:[(0,uw.jsx)("div",{children:(0,uw.jsx)("h3",{className:"text-2xl font-semibold leading-6 text-gray-900",children:"Billing Settings"})}),(0,uw.jsxs)("div",{children:[(0,uw.jsx)(M$,{children:"Subscription"}),(0,uw.jsxs)("div",{className:"flex flex-row items-center justify-between space-x-2 rounded-xl bg-gray-50 px-4 py-3",children:[(0,uw.jsx)("div",{className:"text-xl font-semibold",children:Sn.StringH.capitalizeStr(null!==(e=null===(t=n.subscription)||void 0===t?void 0:t.subscriptionType)&&void 0!==e?e:"Free")}),(0,uw.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,uw.jsx)(Q1,{locationName:"billing-settings",isLarge:!1}),null!=n.subscription&&(0,uw.jsx)("button",{onClick:function(){Mx("click_manage_subscription_in_settings"),r(Sw())},className:"inline-flex justify-center rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200 focus:outline-none focus:ring-0",children:"Manage subscription"}),null!=n.stripeCustomerSummary&&(0,uw.jsxs)(aG,{to:"/manage-subscription",className:"inline-flex justify-center rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200 focus:outline-none focus:ring-0",children:[(0,uw.jsx)("span",{className:"hidden lg:block",children:"View invoice history"}),(0,uw.jsx)("span",{className:"lg:hidden",children:"Invoices"})]})]})]}),(0,uw.jsx)("div",{className:"mt-3",children:(0,uw.jsx)(z3,{usageContainerType:q3.PAID})})]})]})})},X3=function(){var e=jD(),r=k((0,t.useState)(""),2),n=r[0],i=r[1],a=k((0,t.useState)(!1),2),o=a[0],s=a[1],u=(0,t.useCallback)((function(e){i(e.toUpperCase())}),[]),c=(0,t.useCallback)(Ot(Pt().mark((function t(){var r;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s(!0),t.prev=1,n){t.next=4;break}throw Sn.ErrorH.newWarningError("Access code cannot be empty.");case 4:return t.next=6,Xw({dispatch:e});case 6:return r=t.sent,t.next=9,Sn.ApiWorkspaceE.ClaimFreeAccessCode.call(r,{freeAccessCodeId:n});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e(UM.handleError(t.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to claim access code.")}));case 14:s(!1);case 15:case"end":return t.stop()}}),t,null,[[1,11]])}))),[e,n]);return(0,uw.jsxs)("div",{className:"relative",children:[(0,uw.jsx)(g1,{type:"text",value:n,onNewValue:u,onPressEnter:c,className:"pr-[12.5rem]"}),(0,uw.jsx)(tD,{onClick:c,className:"absolute right-[7px] top-1/2 -translate-y-1/2 rounded-md bg-gray-100 px-2 py-1 text-sm font-medium text-gray-700 hover:bg-gray-200 hover:text-gray-900",isLoading:o,children:"Claim access code \u2192"})]})},K3=["title","titleId"];var J3=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,K3);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))})),Z3=function(){var e,t=MD(aw.selectPrivateWorkspaceInfo);return(0,uw.jsx)(j3,{children:(0,uw.jsxs)("div",{className:"space-y-4","data-cy":"billing-settings",children:[(0,uw.jsxs)("div",{children:[(0,uw.jsx)("h3",{className:"text-2xl font-semibold leading-6 text-gray-900",children:"Access code"}),(0,uw.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Access codes are one-time use codes granted to partners by VideoGen staff. These are not the same as coupon codes."})]}),(0,uw.jsxs)("div",{children:[null!=t.freeAccessUsageCreditsContainer&&(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsxs)("div",{children:[(0,uw.jsx)(M$,{children:"Plan"}),(0,uw.jsx)("div",{className:"flex flex-row items-center justify-between rounded-lg bg-gray-50 p-4",children:(0,uw.jsx)("div",{className:"text-xl font-semibold",children:Sn.StringH.capitalizeStr(null!==(e=t.freeAccessUsageCreditsContainer.creditsRefillSubscriptionType)&&void 0!==e?e:"Free")})})]}),(0,uw.jsxs)("div",{className:"mt-3",children:[(0,uw.jsx)(M$,{children:"Usage Credits"}),(0,uw.jsx)(z3,{usageContainerType:q3.FREE_ACCESS})]})]}),(0,uw.jsx)("div",{className:"mt-3",children:null==t.redeemedFreeAccessCodeId?(0,uw.jsx)(X3,{}):(0,uw.jsxs)("div",{className:"flex items-center",children:[(0,uw.jsx)(J3,{className:"mr-2 h-5 w-5 text-green-600"}),(0,uw.jsxs)("p",{children:["Claimed access code"," ",(0,uw.jsx)("code",{className:"text-green-600",children:t.redeemedFreeAccessCodeId})]})]})})]})]})})},Q3=function(){var e=jD();return(0,uw.jsx)(j3,{children:(0,uw.jsxs)("div",{className:"space-y-6",children:[(0,uw.jsxs)("div",{children:[(0,uw.jsx)("div",{className:"flex justify-between align-top",children:(0,uw.jsxs)("h3",{className:"inline-flex items-center space-x-2 text-center text-2xl font-semibold text-amber-600",children:[(0,uw.jsx)(ZB,{className:"inline-flex h-6 w-6 text-amber-600"}),(0,uw.jsx)("div",{children:"Danger Zone"})]})}),(0,uw.jsx)("p",{className:"mt-2 text-sm font-medium text-gray-900",children:"Be careful and make sure you know what you're doing before making any changes here."})]}),(0,uw.jsxs)("div",{className:"col-span-3",children:[(0,uw.jsx)("span",{className:"cursor-pointer text-sm text-gray-500 underline hover:text-gray-600",onClick:function(){e(bw())},children:"Delete your account"})," "]})]})})},$3=function(){return(0,uw.jsx)("div",{className:"mb-1 mt-6",children:(0,uw.jsxs)("p",{className:"text-center text-sm text-gray-400",children:["\xa9 2024 VideoGen, LLC."," ",null!=nk&&(0,uw.jsxs)(uw.Fragment,{children:["Version"," ",null!=nk.prod&&"".concat(nk.prod,"-"),nk.shortSha]})]})})},e4=function(){return(0,uw.jsxs)("div",{className:"flex flex-col",children:[(0,uw.jsx)(B3,{}),(0,uw.jsx)(Y3,{}),(0,uw.jsx)(Z3,{}),(0,uw.jsx)(Q3,{}),(0,uw.jsx)($3,{})]})},t4=function(e){var t=e.src,r=e.prompt;return(0,uw.jsxs)("div",{className:"group relative overflow-hidden rounded-lg",children:[(0,uw.jsx)("img",{src:t,className:"h-full w-full object-cover"}),(0,uw.jsx)("div",{className:"absolute bottom-0 left-0 h-full w-full items-end bg-gradient-to-t from-black/[0.8] to-black/[0.2] pb-4 pl-4 pr-4 pt-8 opacity-0 transition-all group-hover:opacity-100"}),(0,uw.jsx)("div",{className:"absolute bottom-0 z-10 p-4 opacity-0 transition-all group-hover:opacity-100",children:(0,uw.jsx)("p",{className:"text-sm text-white",children:r})})]})},r4=Sn.ArrayH.arrShuffle(["Choosing a color palette...","Picking the right brush...","Adding detailed strokes...","Blending the colors...","Preparing the canvas...","Setting the canvas dimensions...","Arranging the design layers...","Adjusting the contrast...","Tuning the image textures...","Zooming into the details...","Consulting the color wheel...","Applying filters...","Correcting color balance...","Inserting shapes...","Trimming image edges...","Editing image proportions...","Smoothing image edges...","Applying shadow effects...","Saving image in high resolution...","Integrating design motifs...","Taking a coffee break...","Cleaning the brushes...","Sharpening the image...","Hiring a model...","Finding a photographer...","Building the set...","Setting up the lighting...","Adjusting the camera...","Taking the shot...","Developing the film...","Printing the image...","Waking up the AI...","Small talking with the AI...","Asking the AI about its day...","Giving the AI a cookie...","Taking a sip of water...","Taking a deep breath..."]),n4=[{question:"What should I write?",answer:(0,uw.jsxs)(uw.Fragment,{children:["Write any imaginative description or concept you have in mind. From"," ",(0,uw.jsx)("i",{children:"'A tranquil Japanese garden at dusk, where shimmering koi fish glide beneath a stone bridge. Cherry blossom petals gently float down, illuminated by the soft glow of hanging paper lanterns.'"})," ","to"," ",(0,uw.jsx)("i",{children:"'An old-world library with walls lined with leather-bound books. A spiral staircase winds upwards, leading to a secret attic. Golden rays of sunlight filter through a stained-glass window, casting colorful patterns on a wooden reading desk.'"}),", the sky's the limit! Your input will guide the AI to create an image that brings your vision to life."]})},{question:"How does it work?",answer:"Our AI Artist uses advanced AI technology to transform your text prompts into visual images. When you type in a description, the AI delves into a vast knowledge of visual concepts and styles, then crafts an image that corresponds to your prompt. It's like having a digital artist at your fingertips!"},{question:"Are these images copyrighted?",answer:"Images generated through our AI Artist are royalty-free for you to use. However, if you plan on using them for commercial purposes or in projects with broader visibility, it's always a good idea to consult with legal guidance to ensure you're covered."},{question:"Why didn't the image match my description?",answer:"While our AI is powerful, sometimes interpretations can vary. It's much like asking different artists to paint the same concept; results might differ. If the generated image isn't quite right, feel free to refine your description or try again. Remember, it's an AI-powered tool, and while it's incredibly smart, it's still learning from every interaction."},{question:"Are the people it generates real?",answer:"No, the people generated by our AI Artist are not real individuals. They are purely AI-generated representations based on countless visual inputs the system has been trained on."},{question:"Are there any limitations to the AI Artist?",answer:"While our AI is advanced and versatile, it might not always interpret very complex or abstract prompts perfectly. It's best used for general concepts and ideas, and if an image isn't quite right, you can refine your description or try again."}],i4=[{src:"https://storage.googleapis.com/videogen-assets/image-generator-examples/image-generator-example-1.jpg",prompt:"A cinematic shot of an evil red dragon sitting on top of a rocky mountain."},{src:"https://storage.googleapis.com/videogen-assets/image-generator-examples/image-generator-example-3.jpg",prompt:"Anime of an elf holding a golden sword. She is walking through a mystical forest."},{src:"https://storage.googleapis.com/videogen-assets/image-generator-examples/image-generator-example-2.jpg",prompt:"An adorable dog floating on clouds."},{src:"https://storage.googleapis.com/videogen-assets/image-generator-examples/image-generator-example-6.jpg",prompt:"A gladiator stands after the battle, fear and horror on his face, tired and beaten, sand on his face mixed with sweat."},{src:"https://storage.googleapis.com/videogen-assets/image-generator-examples/image-generator-example-4.jpg",prompt:"New york city in the year 2103, cyberpunk style."},{src:"https://storage.googleapis.com/videogen-assets/image-generator-examples/image-generator-example-8.jpg",prompt:"Graffiti-style dark-skinned young woman in an abandoned factory, wall with graffiti, short messy hair, intricate details, urban clothes"},{src:"https://storage.googleapis.com/videogen-assets/image-generator-examples/image-generator-example-5.jpg",prompt:"(Action film photograph) a Porsche is (flying high through the air), being driven by an action star. with a lot of fire behind it and a building on fire, Dustin Nguyen, action scene, concept art, auto-destructive art, crowded city street with people watching an cheering"},{src:"https://storage.googleapis.com/videogen-assets/image-generator-examples/image-generator-example-9.jpg",prompt:"A hyper-detailed 8k monochrome illustration inspired by Adolf Fassbender's film photography showcases a goth werewolf in a black suit on a throne. Using film noir aesthetics, it blends realistic matte skin with visible pores, soft lighting, heavy shadows, and the golden ratio for a masterpiece quality."}],a4=function(){var e=jD(),r=k((0,t.useState)(""),2),n=r[0],i=r[1],a=k((0,t.useState)(""),2),o=a[0],s=a[1],c=k((0,t.useState)(null),2),l=c[0],d=c[1],f=k((0,t.useState)(!1),2),h=f[0],p=f[1],v=k((0,t.useState)(r4),2),g=v[0],m=v[1],y=function(){var t=Ot(Pt().mark((function t(){var r,i,a,o;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!h){t.next=2;break}return t.abrupt("return");case 2:if(Mx("generate_image",{prompt:n}),p(!0),t.prev=4,n){t.next=7;break}throw Sn.ErrorH.newWarningError("AI Artist prompt cannot be empty.");case 7:return t.next=9,Xw({dispatch:e});case 9:return r=t.sent,t.next=12,Sn.ApiDiffusionE.TextToImage.call(r,{text:n,dalleImageSize:"1024x1024"});case 12:i=t.sent,a=i.resData,o=a.imageBase64,s(n),d("data:image/png;base64,".concat(o)),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(4),e(UM.handleError(t.t0,{defaultErr:Sn.ErrorH.newWarningError("Failed to generate image.")}));case 22:p(!1);case 23:case"end":return t.stop()}}),t,null,[[4,19]])})));return function(){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){m((function(e){return u(Sn.ArrayH.arrShuffle(e))}))}),[h]),(0,uw.jsxs)("div",{className:"mt-2",children:[(0,uw.jsxs)("div",{className:"relative",children:[(0,uw.jsx)("div",{className:"w-full text-left",children:(0,uw.jsxs)("div",{children:[(0,uw.jsx)("h3",{className:"text-4xl font-semibold text-gray-900",children:"Bring your ideas to life"}),(0,uw.jsxs)("p",{className:"mt-2 text-lg text-gray-700",children:["Generate copyright-free images of ",(0,uw.jsx)("i",{children:"anything"})," with AI Artist (",Sn.StringH.numWithUnits(Sn.WorkspaceC.AI_CREDITS_PER_IMAGE_GENERATION,"AI credit")," per image)."]})]})}),(0,uw.jsx)("div",{className:"group mt-8 block w-full",children:(0,uw.jsxs)("div",{className:"relative items-stretch space-y-2 rounded-lg sm:flex sm:flex-grow sm:space-x-2 sm:space-y-0",children:[(0,uw.jsx)(g1,{type:"text",placeholder:"Describe an image of anything...",value:n,onNewValue:i,onPressEnter:y,className:"block w-full resize-none rounded-xl border-gray-200 bg-transparent px-4 py-2 text-lg text-gray-900 placeholder:text-gray-400 hover:border-gray-300 focus:border-gray-300 focus:ring-0",dataCy:"image-generator-prompt-input",autoFocus:!0}),(0,uw.jsx)("button",{type:"submit",disabled:h,className:"inline-flex w-full cursor-pointer items-center rounded-xl bg-main-600 px-4 py-2 text-lg font-medium text-white ring-0 transition-colors hover:bg-main-700 hover:ring-main-700 focus:outline-none sm:w-auto",onClick:y,"data-cy":"image-generator-submit-button",children:h?(0,uw.jsxs)("div",{className:"mx-auto inline-flex items-center justify-center space-x-2 opacity-50",children:[(0,uw.jsx)($M,{className:"h-5 w-5","aria-hidden":"true"}),(0,uw.jsx)("span",{children:"Generating"})]}):(0,uw.jsx)("div",{className:"mx-auto inline-flex items-center justify-center space-x-2 whitespace-nowrap",children:(0,uw.jsx)("span",{children:"Generate image"})})})]})})]}),(0,uw.jsx)("div",{className:"my-8 flex items-center justify-center sm:px-8",children:(0,uw.jsxs)("div",{className:"relative aspect-1 w-96 max-w-full overflow-hidden rounded-2xl bg-gray-100",children:[h&&(0,uw.jsx)(K0,{loadingMessages:g}),l&&(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)(SK.div,{animate:{left:h?"-100%":"150%"},initial:{left:"-100%"},transition:{duration:.6,ease:"easeInOut",delay:.3},className:Dn("absolute -top-[100%] z-20 h-[400%] w-10 rotate-45 overflow-hidden bg-white blur-3xl",h?"opacity-0":"opacity-75")}),(0,uw.jsx)("img",{className:"h-full w-full transition-all ".concat(h?"blur-md":""),src:l,alt:o,"data-cy":"image-generator-output-image"}),!h&&(0,uw.jsx)("a",{className:"absolute right-2 top-2 rounded-lg bg-white/80 p-1 transition-all hover:bg-white",href:l,download:"VideoGen_Image.png",children:(0,uw.jsx)(OZ,{className:"h-5 w-5 text-black"})})]})]})}),(0,uw.jsx)("div",{className:"my-4 w-full text-left text-sm font-medium text-gray-900",children:"Examples (Hover to see the prompt)"}),(0,uw.jsx)("div",{className:"mb-16 grid grid-cols-2 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:i4.map((function(e,t){var r=e.src,n=e.prompt;return(0,uw.jsx)(SK.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1*t},className:"col-span-1",children:(0,uw.jsx)(t4,{src:r,prompt:n})},t)}))}),(0,uw.jsx)("div",{id:"faqs",children:(0,uw.jsx)(O3,{faqs:n4})})]})},o4=function(){return(0,uw.jsx)("div",{className:"flex flex-col gap-6",children:(0,uw.jsx)(a4,{})})},s4={storageScope:{type:Sn.StorageT.WorkspaceStorageScopeType.GLOBAL}},u4=function(){var e=jD(),r=(0,t.useCallback)((function(t){e(ww({storageFileId:t.storageFileId}))}),[e]);return(0,uw.jsx)("div",{className:"flex flex-col gap-6",children:(0,uw.jsx)(JZ,{searchFilter:s4,isShowingUploadBanner:!0,isShowingOptions:!0,isShowingFileSizes:!0,audioPreviewIconMode:"hover",onClickStorageFile:r})})},c4=function(){var e=MD(aw.selectPrivateWorkspaceInfo),r=jD(),n=aF(),i=k((0,t.useState)(!1),2),a=i[0],o=i[1];if(!(0,t.useMemo)((function(){var t,r;return null!==(t=null===(r=e.subscription)||void 0===r?void 0:r.cancelingAtPeriodEnd)&&void 0!==t&&t}),[e]))return(0,uw.jsx)(uw.Fragment,{});var s=function(){var e=Ot(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xw({dispatch:r});case 2:return t=e.sent,o(!0),e.prev=4,e.next=7,Sn.ApiPaymentE.RenewSubscription.call(t,{});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),n({pathname:"/manage-subscription"});case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(){return e.apply(this,arguments)}}();return(0,uw.jsx)("div",{className:"mx-auto mb-4 w-full rounded-3xl border-4 border-yellow-500 bg-yellow-50 px-4 py-6",children:(0,uw.jsxs)("div",{className:"flex",children:[(0,uw.jsx)("div",{className:"flex-shrink-0",children:(0,uw.jsx)(t3,{className:"h-9 w-9 text-yellow-500","aria-hidden":"true"})}),(0,uw.jsxs)("div",{className:"ml-3",children:[(0,uw.jsx)("h3",{className:"text-2xl font-semibold text-yellow-900",children:"Please renew your plan"}),(0,uw.jsx)("div",{className:"mt-2 text-lg text-yellow-900",children:(0,uw.jsxs)("p",{children:["Renew your canceled subscription to avoid permanently losing access to all your data, including files, projects, discounts and usage credits. For support, contact"," ",(0,uw.jsx)("a",{href:"mailto:support@videogen.io",target:"_blank",rel:"noreferrer",className:"transition-opacity hover:opacity-50",children:(0,uw.jsx)("u",{children:"support@videogen.io"})}),"."]})}),(0,uw.jsx)("div",{className:"mt-4",children:(0,uw.jsx)("div",{className:"flex",children:(0,uw.jsx)(tD,{type:"button",isLoading:a,className:"rounded-xl bg-yellow-800 px-4 py-2 text-lg font-semibold text-white transition-colors hover:bg-yellow-600 focus:outline-none focus:ring-0",onClick:s,children:"Renew your plan"})})})]})]})})},l4=function(){var e=MD(aw.selectPrivateWorkspaceInfo).freeAccessUsageCreditsContainer;return(0,uw.jsx)("div",{children:(0,uw.jsxs)("div",{className:"mt-2 space-y-6",children:[(0,uw.jsx)("div",{children:(0,uw.jsx)("h3",{className:"mb-4 text-3xl font-semibold text-gray-900",children:"Usage Credits"})}),(0,uw.jsx)("div",{children:(0,uw.jsx)(z3,{usageContainerType:q3.PAID})}),e&&(0,uw.jsxs)("div",{className:"space-y-6",children:[(0,uw.jsx)("div",{children:(0,uw.jsx)("h3",{className:"text-xl font-medium leading-6 text-gray-900",children:"Free Access Code Usage Credits"})}),(0,uw.jsx)("div",{className:"mt-3",children:(0,uw.jsx)(z3,{usageContainerType:q3.FREE_ACCESS})})]})]})})},d4=[{question:"How do I create more videos? How do I get more credits?",answer:'You can create more videos by upgrading your plan. You can do this by clicking "Upgrade Plan" button or the "Increase your usage limits" button below.'},{question:"How do AI credits work?",answer:"- When you modify a video script and click 'Generate', new text-to-speech audio will be generated. This process will consume AI credits from your available quota. Each character (letter, number, or symbol) in the script counts as ".concat(Sn.StringH.numWithUnits(Sn.WorkspaceC.AI_CREDITS_PER_TTS_CHAR,"credit"),".\n- Other tools have their own rate which will be explicitly listed on the tool. For example, AI Artist is ").concat(Sn.StringH.numWithUnits(Sn.WorkspaceC.AI_CREDITS_PER_IMAGE_GENERATION,"credit")," per image.\n- To track your remaining credits, visit the 'Usage' tab.\n- If you need more credits, consider upgrading your plan.")},{question:"What are iStock videos?",answer:"iStock videos are videos you can use in your projects from the iStock library by Getty Images. You can find iStock videos in the Background tab in a project. You will only be charged credits when you download an iStock video."},{question:"When will my credits refill? How is the refill date determined?",answer:'Your credits will refill in intervals of one month. The refill day is the day that you started your current subscription tier. For example, if you subscribed to a plan on the 15th of the month, your credits will refill on the 15th of each month until you cancel. If you have always been on the free plan, the refill day is the day that you created your account. Note that the refill days of a yearly subscription may not always be on the exact same day of the month; this is because we refill yearly subscriptions in 12 equal intervals throughout the year, but some months longer than others.\n\nIf you\'re ever unsure about your next refill date, check the "Usage" tab on the dashboard for more info.'}],f4=function(){var e=MD(aw.selectPrivateWorkspaceInfo),r=jD(),n=(0,t.useCallback)((function(){r(yw({upgradeAction:{type:Sn.ErrorT.KnownErrorActionType.UPGRADE,currentWorkspaceAuthLevel:Sn.WorkspaceH.getWorkspaceAuthLevel(e),requiredWorkspaceAuthLevel:Sn.WorkspaceH.getNextHighestWorkspaceAuthLevel(Sn.WorkspaceH.getWorkspaceAuthLevel(e)),upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"increase your usage credits"}}))}),[r,e]);return(0,uw.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,uw.jsx)(l4,{}),(0,uw.jsx)(O3,{faqs:d4,isTitleSmall:!0}),(0,uw.jsx)("div",{className:"-my-4 w-full",children:(0,uw.jsx)("button",{onClick:n,rel:"noreferrer",className:"mx-auto inline-flex items-center justify-center space-x-2 rounded-xl bg-main-600 px-4 py-2 text-base font-semibold text-white transition-colors hover:bg-main-700 focus:outline-none focus:ring-0",children:(0,uw.jsx)("div",{children:"Increase your usage limits"})})}),(0,uw.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,uw.jsx)("p",{className:"inline-flex sm:mb-0",children:"Need custom limits?\xa0"}),(0,uw.jsxs)(aG,{to:pJ,target:"_blank",className:"inline-flex w-auto items-center space-x-1 text-center font-medium text-gray-900 hover:underline",children:[(0,uw.jsx)("span",{children:"Request Enterprise Access"}),(0,uw.jsx)(hJ,{className:"h-4 w-4"})]})]})]})},h4=["title","titleId"];var p4=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,h4);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M15.312 11.424a5.5 5.5 0 0 1-9.201 2.466l-.312-.311h2.433a.75.75 0 0 0 0-1.5H3.989a.75.75 0 0 0-.75.75v4.242a.75.75 0 0 0 1.5 0v-2.43l.31.31a7 7 0 0 0 11.712-3.138.75.75 0 0 0-1.449-.39Zm1.23-3.723a.75.75 0 0 0 .219-.53V2.929a.75.75 0 0 0-1.5 0V5.36l-.31-.31A7 7 0 0 0 3.239 8.188a.75.75 0 1 0 1.448.389A5.5 5.5 0 0 1 13.89 6.11l.311.31h-2.432a.75.75 0 0 0 0 1.5h4.243a.75.75 0 0 0 .53-.219Z",clipRule:"evenodd"}))})),v4=function(e){var r=e.title,n=e.rowInfos,i=e.emptyContent,a=e.nonemptyFooterContent,o=e.createButtonInfo,s=e.loadingState,u=e.loadData,c=e.maxExpectedLoadMs,l=e.className,d=k((0,t.useState)(!1),2),f=d[0],h=d[1];return ZD((function(){return s!==Sn.LoadingT.LoadingState.UNATTEMPTED&&s!==Sn.LoadingT.LoadingState.REJECTED||u(),function(){}})),(0,t.useEffect)((function(){if(h(!1),s===Sn.LoadingT.LoadingState.LOADING){var e=setTimeout((function(){h(!0)}),c);return function(){h(!1),clearTimeout(e)}}}),[s,c]),(0,uw.jsxs)("div",{className:l,children:[(0,uw.jsxs)("div",{className:"flex w-full items-center justify-between border-b border-gray-200 pb-2 font-medium text-gray-900",children:[(0,uw.jsx)("p",{className:"flex h-full items-center justify-center text-lg",children:r}),(0,uw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,uw.jsx)("button",{onClick:u,className:"h-8 w-8 rounded-full bg-white p-1.5 text-gray-500 transition-colors hover:bg-gray-200 hover:text-gray-900",children:(0,uw.jsx)(p4,{className:"h-full w-full"})}),o&&(0,uw.jsx)("button",{className:"rounded-xl bg-main-600 px-4 py-2 text-base font-medium text-white transition-colors hover:bg-main-700 focus:outline-none focus:ring-0",onClick:o.onClick,children:o.callToAction})]})]}),null!=i&&s===Sn.LoadingT.LoadingState.FULFILLED&&0===n.length&&(0,uw.jsx)("div",{className:"w-full py-4",children:i}),n.map((function(e,t){var r=e.mainRowContent,n=e.onClick,i=e.linkTo,a=e.menuDropDownItems,o=(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)("div",{className:"flex-grow",children:r}),(0,uw.jsx)("div",{className:Dn("flex-shrink-0 text-right text-sm font-medium",null==a?"hidden":""),children:(0,uw.jsxs)(iJ,{as:"div",className:"z-30 mr-1 mt-1 text-right",children:[(0,uw.jsx)(iJ.Button,{className:"h-8 w-8 rounded-full transition-colors hover:bg-gray-300",onClick:function(e){e.stopPropagation()},children:(0,uw.jsx)(NZ,{className:"m-1 h-6 text-gray-500"})}),a&&(0,uw.jsx)(lZ,{position:"right",items:a})]})})]}),s="flex items-center w-full border-b border-gray-100 px-3 py-2 transition-all hover:rounded-xl hover:bg-gray-100";return null!=i?(0,uw.jsx)(aG,{to:i,onClick:n,className:s,children:o},t):null!=n?(0,uw.jsx)("button",{onClick:n,className:s,children:o},t):(0,uw.jsx)("div",{className:s,children:o},t)})),s===Sn.LoadingT.LoadingState.LOADING&&(0,uw.jsxs)("div",{className:"flex w-full flex-col items-center justify-center gap-4 p-4",children:[(0,uw.jsx)($M,{className:"h-8 w-8 text-gray-500"}),f&&(0,uw.jsxs)("p",{className:"text-base text-gray-700",children:[r," are taking longer than expected to load."," ",(0,uw.jsx)("button",{onClick:u,children:(0,uw.jsx)("u",{children:"Click here"})})," ","to reload the page."]})]}),null!=a&&s===Sn.LoadingT.LoadingState.FULFILLED&&n.length>0&&(0,uw.jsx)("div",{className:"w-full py-4",children:a})]})},g4=["title","titleId"];var m4=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,g4);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))})),y4=["Store and access your brand\u2019s key messaging, guidelines, and knowledge in one place","Keep your brand\u2019s voice, style, and tone consistent across all your content","Add your brand colors, logo, and fonts (coming soon)"],b4=function(){var e=jD(),r=MD(aw.selectPrivateWorkspaceInfo),n=(0,t.useCallback)((function(){e(Tw({initialBrand:Sn.BrandH.getDefaultBrand({brandId:Sn.UuidH.generateUuid()}),isBrandNew:!0}))}),[e]);return(0,uw.jsx)("div",{children:(0,uw.jsxs)("div",{className:"relative isolate overflow-hidden rounded-2xl bg-amber-50 sm:rounded-3xl",children:[(0,uw.jsx)("div",{className:"mx-auto max-w-7xl",children:(0,uw.jsxs)("div",{className:"mx-auto flex max-w-2xl flex-col gap-10 bg-white/5 p-4 ring-1 ring-white/10 sm:py-8 lg:mx-0 lg:max-w-none lg:flex-row lg:items-center xl:gap-x-12",children:[(0,uw.jsx)("img",{alt:"",src:"https://storage.googleapis.com/videogen-assets/designer-square.jpg",className:"lg:aspect-square hidden flex-none rounded-2xl object-cover shadow-xl lg:block lg:h-64 lg:w-64"}),(0,uw.jsxs)("div",{className:"w-full flex-auto",children:[(0,uw.jsxs)("h2",{className:"text-4xl font-semibold text-gray-900",children:[(0,uw.jsx)("span",{className:"hidden sm:inline-flex",children:"\ud83d\udc4b\xa0\xa0"}),(0,uw.jsx)("span",{className:"inline-flex bg-gradient-to-bl from-amber-600 to-gray-900 bg-clip-text text-transparent",children:"Say hello to Brand Kit"})]}),(0,uw.jsx)("p",{className:"mt-4 text-lg leading-8 text-gray-700",children:"Tune our AI to your brand's unique voice, style and knowledge base."}),(0,uw.jsx)("ul",{role:"list",className:"mt-4 grid grid-cols-1 gap-x-8 gap-y-3 text-base leading-7 text-gray-900",children:y4.map((function(e){return(0,uw.jsxs)("li",{className:"flex gap-x-3",children:[(0,uw.jsx)(RG,{"aria-hidden":"true",className:"h-7 w-5 flex-none"}),e]},e)}))}),(0,uw.jsx)("div",{className:"mt-6 flex",children:(0,uw.jsx)("button",{onClick:n,className:"inline-flex items-center justify-center space-x-2 rounded-xl bg-gradient-to-tr from-amber-700 to-amber-500 px-4 py-2 text-base font-semibold text-white transition-all hover:opacity-50 focus:outline-none focus:ring-0",children:Sn.WorkspaceH.workspaceInfoSatisfiesAuthLevel({workspaceInfo:r,requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.PRO})?"Add new brand":"Upgrade to unlock Brand Kit"})})]})]})}),(0,uw.jsx)("div",{"aria-hidden":"true",className:"absolute inset-x-0 -top-16 -z-10 flex transform-gpu justify-center overflow-hidden blur-3xl",children:(0,uw.jsx)("div",{style:{clipPath:"polygon(73.6% 51.7%, 91.7% 11.8%, 100% 46.4%, 97.4% 82.2%, 92.5% 84.9%, 75.7% 64%, 55.3% 47.5%, 46.5% 49.4%, 45% 62.9%, 50.3% 87.2%, 21.3% 64.1%, 0.1% 100%, 5.4% 51.1%, 21.4% 63.9%, 58.9% 0.2%, 73.6% 51.7%)"},className:"aspect-[1318/752] w-[82.375rem] flex-none bg-gradient-to-r from-yellow-500 to-orange-600 opacity-10"})})]})})},S4=function(){var e=jD(),r=MD(uD),n=MD(cD),i=k((0,t.useState)(null),2),a=i[0],o=i[1],s=k((0,t.useState)(!1),2),u=s[0],c=s[1],l=k((0,t.useState)(!1),2),d=l[0],f=l[1],h=(0,t.useCallback)((function(){c(!1)}),[]),p=(0,t.useCallback)(Ot(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f(!0),null!=(null===a||void 0===a?void 0:a.brandId)){t.next=4;break}return c(!1),t.abrupt("return");case 4:return t.prev=4,t.next=7,e(hD.deleteBrand({brandId:a.brandId})).unwrap();case 7:c(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),e(UM.handleError(t.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to delete brand.",{rawData:{brandId:a.brandId}})}));case 13:f(!1);case 14:case"end":return t.stop()}}),t,null,[[4,10]])}))),[e,null===a||void 0===a?void 0:a.brandId]),v=(0,t.useCallback)((function(){try{e(hD.getBrands())}catch(t){e(UM.handleError(t,{defaultErr:Sn.ErrorH.newFatalError("Failed to get brands.")}))}}),[e]),g=(0,t.useMemo)((function(){return r.map((function(t){var r=function(){e(Tw({initialBrand:t,isBrandNew:!1}))};return{mainRowContent:(0,uw.jsxs)("div",{className:"flex w-full items-center justify-start gap-3 py-1",children:[(0,uw.jsx)(M5,{className:"h-7 w-7 text-gray-900"})," ",t.name]}),onClick:r,menuDropDownItems:[{text:"Edit",icon:(0,uw.jsx)(m4,{className:"h-full w-full"}),onSelect:r},{text:"Delete",icon:(0,uw.jsx)(jZ,{className:"h-full w-full"}),onSelect:function(){o(t),c(!0)}}]}}))}),[e,r]),m=(0,t.useCallback)((function(){e(Tw({initialBrand:Sn.BrandH.getDefaultBrand({brandId:Sn.UuidH.generateUuid()}),isBrandNew:!0}))}),[e]),y=(0,t.useMemo)((function(){return{callToAction:"Add new brand",onClick:m}}),[m]);return(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)(v4,{title:"Brands",rowInfos:g,emptyContent:(0,uw.jsx)(b4,{}),createButtonInfo:y,loadData:v,loadingState:n,maxExpectedLoadMs:1e4}),null!=a&&(0,uw.jsx)(KZ,{isModalOpen:u,closeModal:h,deletedAssetDisplayName:null===a||void 0===a?void 0:a.name,isDeletionPending:d,confirmDeletion:p})]})},E4=function(){return(0,uw.jsx)("div",{className:"flex flex-col gap-6",children:(0,uw.jsx)(S4,{})})},x4=["title","titleId"];var w4=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,x4);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M15.75 1.5a6.75 6.75 0 0 0-6.651 7.906c.067.39-.032.717-.221.906l-6.5 6.499a3 3 0 0 0-.878 2.121v2.818c0 .414.336.75.75.75H6a.75.75 0 0 0 .75-.75v-1.5h1.5A.75.75 0 0 0 9 19.5V18h1.5a.75.75 0 0 0 .53-.22l2.658-2.658c.19-.189.517-.288.906-.22A6.75 6.75 0 1 0 15.75 1.5Zm0 3a.75.75 0 0 0 0 1.5A2.25 2.25 0 0 1 18 8.25a.75.75 0 0 0 1.5 0 3.75 3.75 0 0 0-3.75-3.75Z",clipRule:"evenodd"}))})),k4=["title","titleId"];var _4,T4=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,k4);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M15.75 2.25H21a.75.75 0 0 1 .75.75v5.25a.75.75 0 0 1-1.5 0V4.81L8.03 17.03a.75.75 0 0 1-1.06-1.06L19.19 3.75h-3.44a.75.75 0 0 1 0-1.5Zm-10.5 4.5a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h10.5a1.5 1.5 0 0 0 1.5-1.5V10.5a.75.75 0 0 1 1.5 0v8.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V8.25a3 3 0 0 1 3-3h8.25a.75.75 0 0 1 0 1.5H5.25Z",clipRule:"evenodd"}))})),A4=function(){return(0,uw.jsxs)("a",{href:"https://apidog.com/apidoc/project-642501",target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center space-x-2 rounded-xl border border-gray-300 bg-white px-4 py-2 text-base font-semibold text-gray-900 transition-colors hover:bg-gray-100 focus:outline-none focus:ring-0",children:[(0,uw.jsx)("div",{children:"View docs"}),(0,uw.jsx)(T4,{className:"h-5 w-5"})]})},C4=["Setup in less than 5 minutes","Full commercial use rights with no attribution required","Available in all major frameworks (Node.js, Python, Ruby, PHP, Java, C#, etc.)"],P4=function(){var e=jD(),r=MD(aw.selectPrivateWorkspaceInfo),n=k((0,t.useState)(!1),2),i=n[0],a=n[1],o=(0,t.useMemo)((function(){return Sn.WorkspaceH.workspaceInfoSatisfiesAuthLevel({workspaceInfo:r,requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.BUSINESS})}),[r]),s=(0,t.useCallback)(Ot(Pt().mark((function t(){var n;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a(!0),t.prev=1,Sn.WorkspaceH.checkWorkspaceInfoSatisfiesAuthLevel({workspaceInfo:r,requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.BUSINESS,upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"get early access to VideoGen's API"}),!r.isExternalApiEnabled){t.next=5;break}throw Sn.ErrorH.newWarningError("VideoGen API is already enabled. Our engineers will be in touch with you shortly to grant you an API key.");case 5:return t.next=7,Xw({dispatch:e});case 7:return n=t.sent,t.next=10,Sn.ApiDeveloperE.SetApiEnabled.call(n,{newIsExternalApiEnabled:!0});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),e(UM.handleError(t.t0,{defaultErr:Sn.ErrorH.newFatalError("Insufficient permissions to enable the VideoGen external API. Contact support@videogen.io for assistance.")}));case 15:a(!1);case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),[e,r]);return(0,uw.jsx)("div",{children:(0,uw.jsxs)("div",{className:"relative isolate overflow-hidden rounded-2xl bg-gray-100 sm:rounded-3xl",children:[(0,uw.jsxs)("div",{className:"mx-auto max-w-7xl p-8",children:[(0,uw.jsx)("div",{className:"bg-white/5 ring-1 ring-white/10",children:(0,uw.jsxs)("div",{className:"w-full flex-auto",children:[(0,uw.jsx)("h2",{className:"text-3xl font-semibold text-gray-900",children:(0,uw.jsx)("span",{className:"inline-block bg-gradient-to-bl from-purple-800 to-gray-900 bg-clip-text text-transparent",children:"The World's First Text-to-Video API"})}),(0,uw.jsx)("div",{children:(0,uw.jsxs)("div",{className:"mx-auto mt-2 flex items-center space-x-1.5 text-sm font-medium",children:[(0,uw.jsx)("span",{children:"Backed by"}),"\xa0",(0,uw.jsx)("img",{src:"https://storage.googleapis.com/videogen-assets/yc.webp",alt:"Y Combinator",className:"inline-block h-6 w-auto"}),(0,uw.jsx)("span",{className:"text-[#ff4000]",children:"Combinator"})]})}),(0,uw.jsx)("p",{className:"mt-4 text-lg leading-8 text-gray-700",children:"Generate professional, copyright-free videos with realistic voice-overs from text."}),(0,uw.jsx)("ul",{role:"list",className:"mt-4 grid grid-cols-1 gap-x-8 gap-y-3 text-base leading-7 text-gray-900",children:C4.map((function(e,t){return(0,uw.jsxs)("li",{className:"flex gap-x-3",children:[(0,uw.jsx)(RG,{"aria-hidden":"true",className:"h-7 w-5 flex-none"}),e]},t)}))}),(0,uw.jsxs)("div",{className:"mt-6 flex space-x-2",children:[!r.isExternalApiEnabled&&(0,uw.jsx)(tD,{onClick:s,className:"inline-flex items-center justify-center space-x-2 rounded-xl bg-gradient-to-tr from-gray-900 to-purple-900 px-4 py-2 text-base font-semibold text-white transition-all hover:opacity-50 focus:outline-none focus:ring-0",isLoading:i,children:o?(0,uw.jsx)(uw.Fragment,{children:"Enable the VideoGen API"}):(0,uw.jsx)(uw.Fragment,{children:"Upgrade to Business for API access"})}),(0,uw.jsxs)("a",{href:pJ,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center space-x-2 rounded-xl border border-gray-300 bg-white px-4 py-2 text-base font-semibold text-gray-900 transition-colors hover:bg-gray-100 focus:outline-none focus:ring-0",children:[(0,uw.jsx)("div",{children:"Book a call"}),(0,uw.jsx)(hJ,{className:"h-5 w-5"})]}),(0,uw.jsx)(A4,{})]})]})}),(0,uw.jsx)("div",{className:"mt-4 flex space-x-4",children:(0,uw.jsxs)("div",{className:"space-y-2",children:[(0,uw.jsx)("div",{children:(0,uw.jsx)("img",{alt:"",src:"https://storage.googleapis.com/videogen-assets/example2.gif",className:"block h-64 rounded-2xl object-cover"})}),(0,uw.jsx)("div",{children:"Generated using the VideoGen API"})]})})]}),(0,uw.jsx)("div",{"aria-hidden":"true",className:"absolute inset-x-0 -top-16 -z-10 flex transform-gpu justify-center overflow-hidden blur-3xl",children:(0,uw.jsx)("div",{style:{clipPath:"polygon(73.6% 51.7%, 91.7% 11.8%, 100% 46.4%, 97.4% 82.2%, 92.5% 84.9%, 75.7% 64%, 55.3% 47.5%, 46.5% 49.4%, 45% 62.9%, 50.3% 87.2%, 21.3% 64.1%, 0.1% 100%, 5.4% 51.1%, 21.4% 63.9%, 58.9% 0.2%, 73.6% 51.7%)"},className:"aspect-[1318/752] w-[82.375rem] flex-none bg-gradient-to-r from-purple-500 to-blue-900 opacity-10"})})]})})},I4=function(){var e=jD(),r=MD(pD),n=MD(vD),i=k((0,t.useState)(null),2),a=i[0],o=i[1],s=k((0,t.useState)(!1),2),u=s[0],c=s[1],l=k((0,t.useState)(!1),2),d=l[0],f=l[1],h=(0,t.useCallback)((function(){c(!1)}),[]),p=(0,t.useCallback)(Ot(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f(!0),null!=a){t.next=4;break}return c(!1),t.abrupt("return");case 4:return t.prev=4,t.next=7,e(bD.deleteExternalApiKeyInfo({externalApiKeyId:a.externalApiKeyId})).unwrap();case 7:c(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),e(UM.handleError(t.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to delete API key.",{rawData:{selectedApiKeyInfoForDeletion:a}})}));case 13:f(!1);case 14:case"end":return t.stop()}}),t,null,[[4,10]])}))),[e,a]),v=(0,t.useCallback)((function(){try{e(bD.getWorkspaceExternalApiKeyInfos())}catch(t){e(UM.handleError(t,{defaultErr:Sn.ErrorH.newFatalError("Failed to get API keys.")}))}}),[e]),g=(0,t.useMemo)((function(){return r.map((function(e){return{mainRowContent:(0,uw.jsxs)("div",{className:"flex w-full items-center justify-start gap-3 py-1",children:[(0,uw.jsx)(w4,{className:"h-6 w-6 text-gray-900"})," ",e.externalApiKeyNickname]}),menuDropDownItems:[{text:"Delete",icon:(0,uw.jsx)(jZ,{className:"h-full w-full"}),onSelect:function(){o(e),c(!0)}}]}}))}),[r]),m=(0,t.useCallback)((function(){e(Pw())}),[e]),y=(0,t.useMemo)((function(){return{callToAction:"Generate API key",onClick:m}}),[m]);return(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)(v4,{title:"API Keys",rowInfos:g,emptyContent:(0,uw.jsx)(P4,{}),nonemptyFooterContent:(0,uw.jsx)(A4,{}),createButtonInfo:y,loadData:v,loadingState:n,maxExpectedLoadMs:1e4}),null!=a&&(0,uw.jsx)(KZ,{isModalOpen:u,closeModal:h,deletedAssetDisplayName:null===a||void 0===a?void 0:a.externalApiKeyNickname,isDeletionPending:d,confirmDeletion:p})]})},O4=function(){return(0,uw.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,uw.jsx)(I4,{}),(0,uw.jsxs)("div",{className:"text-base",children:[(0,uw.jsx)("p",{className:"text-lg font-medium text-gray-900",children:"AI Credit breakdown"}),(0,uw.jsxs)("ul",{className:"mt-2 list-inside list-disc text-gray-900",children:[(0,uw.jsxs)("li",{children:[(0,uw.jsx)("span",{className:"font-semibold",children:"Text-to-speech"}),": 1 AI credit per character of inputted text."]}),(0,uw.jsxs)("li",{children:[(0,uw.jsx)("span",{className:"font-semibold",children:"Image generation"}),": 250 AI credits per generated image."]}),(0,uw.jsxs)("li",{children:[(0,uw.jsx)("span",{className:"font-semibold",children:"AI prompt"}),": 100 AI credits per prompt."]}),(0,uw.jsxs)("li",{children:[(0,uw.jsx)("span",{className:"font-semibold",children:"Website scan and summarization"}),": 1,000 AI credits per website."]})]})]})]})},R4=function(){return(0,uw.jsx)("div",{className:"flex flex-col gap-6",children:(0,uw.jsx)("div",{children:(0,uw.jsxs)("div",{className:"mt-2 space-y-6",children:[(0,uw.jsx)("div",{className:"mx-auto text-3xl font-semibold text-gray-900",children:"Earn up to $1,188 for every customer you refer!"}),(0,uw.jsx)("div",{children:(0,uw.jsxs)("ol",{className:"list-inside list-decimal text-lg\tfont-normal\t",children:[(0,uw.jsxs)("li",{children:["Click"," ",(0,uw.jsx)("a",{href:"https://videogen.io/affiliate-program",target:"_blank",rel:"noreferrer",onClick:function(){Mx("click_become_affiliate")},children:'"Become an Affiliate"'})," ","and sign up."]}),(0,uw.jsx)("li",{children:"Share and promote your unique referral link."}),(0,uw.jsxs)("li",{children:["Earn a ",(0,uw.jsx)("u",{children:"30% commission"})," for every customer you refer for the first 12 months of their subscription."]}),(0,uw.jsx)("li",{children:"Get paid every Monday via PayPal."})]})}),(0,uw.jsxs)("div",{className:"items-center space-y-2 sm:flex sm:gap-x-2 sm:space-y-0",children:[(0,uw.jsx)("a",{href:"https://videogen.io/affiliate-program",target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center space-x-2 rounded-xl bg-main-600 px-4 py-2 text-base font-semibold text-white transition-colors hover:bg-main-700 focus:outline-none focus:ring-0",onClick:function(){Mx("click_become_affiliate")},children:(0,uw.jsx)("div",{children:"Become an Affiliate"})}),(0,uw.jsx)("a",{href:"https://videogen.getrewardful.com/login",target:"_blank",rel:"noreferrer",className:"border-1 inline-flex items-center justify-center space-x-2 rounded-xl border border-gray-200 bg-white px-4 py-2 text-base font-semibold text-gray-900 transition-colors hover:bg-gray-100 focus:outline-none focus:ring-0",onClick:function(){Mx("click_visit_affiliate_dashboard")},children:"Visit your Affiliate Dashboard"})]}),(0,uw.jsxs)("div",{className:"pb-4 text-lg",children:["Let's do the math on how much you can earn based on which plan your referrals choose:",(0,uw.jsx)("br",{}),(0,uw.jsx)("br",{}),(0,uw.jsx)("b",{children:"Pro Plan:"})," $24/mo * 30% = $7.20/mo",(0,uw.jsx)("br",{}),(0,uw.jsx)("b",{children:"Scale Plan:"})," $99/mo * 30% = $29.70/mo",(0,uw.jsx)("br",{}),(0,uw.jsx)("b",{children:"Business Plan:"})," $330/mo * 30% = $99/mo",(0,uw.jsx)("br",{}),(0,uw.jsx)("br",{}),"That means you can earn up to $1,188 total for every business customer you refer! If you're a content creator, business owner, blogger, or have a large following, this is a great way to monetize your audience or cross-sell your customers.",(0,uw.jsx)("br",{}),(0,uw.jsx)("br",{}),"Just getting started? We recommend sharing your unique link on social media (YouTube, LinkedIn, Facebook, TikTok, etc.), online communities and forums (Reddit, Quora, etc.), blogs, and newsletters.",(0,uw.jsx)("br",{}),(0,uw.jsx)("br",{}),"Don't spam or mislead! Start conversations, answer questions related to video creation, and share how VideoGen can be a solution. You can also research more advanced strategies like search engine optimization (SEO) and influencer marketing.",(0,uw.jsx)("br",{}),(0,uw.jsx)("br",{}),"Remember, there are no limits to how much you can earn\u2014the more you share, the more potential earnings you can unlock! What are you waiting for? You can get started today as an Affiliate for free!"]})]})})})},N4=function(){var e=jD(),r=k((0,t.useState)(""),2),n=r[0],i=r[1],a=(0,t.useCallback)(Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)}))),[e]);return Ix!==Sn.ConfigT.Environment.LOCAL?(0,uw.jsx)(uw.Fragment,{}):(0,uw.jsxs)("div",{children:[(0,uw.jsx)(g1,{value:n,onNewValue:i}),(0,uw.jsx)("button",{className:"inline-flex cursor-pointer items-center rounded-xl bg-main-600 px-4 py-2 text-lg font-medium text-white ring-0 transition-colors hover:bg-main-700 hover:ring-main-700 focus:outline-none",onClick:a,children:"Dub"})]})},L4=function(e){var r=e.currentPage,n=MD(aw.selectPrivateSimpleUser),i=jD(),a=QD(),o=k((0,t.useState)(!1),2),s=o[0],u=o[1],c=k((0,t.useState)(""),2),l=c[0],d=c[1],f=r===g5.HOME;(0,t.useCallback)((function(){try{i(_w())}catch(e){i(UM.handleError(e,{defaultErr:Sn.ErrorH.newFatalError("Failed to open Academy.")}))}}),[i]);return(0,uw.jsxs)("div",{className:"fixed flex h-screen w-screen",children:[(0,uw.jsx)(iU.Root,{show:s,as:t.Fragment,children:(0,uw.jsxs)(HB,{as:"div",className:"relative z-40 md:hidden",onClose:u,children:[(0,uw.jsx)(iU.Child,{as:t.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,uw.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75"})}),(0,uw.jsx)("div",{className:"fixed inset-0 z-40 flex",children:(0,uw.jsx)(iU.Child,{as:t.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:(0,uw.jsx)(HB.Panel,{className:"w-full max-w-[16rem] flex-1",children:(0,uw.jsx)(z5,{currentPage:r})})})})]})}),(0,uw.jsx)("div",{className:"hidden flex-shrink-0 bg-black md:block md:h-full md:w-64",children:(0,uw.jsx)(z5,{currentPage:r})}),(0,uw.jsxs)("div",{className:"flex h-full w-full flex-col overflow-auto pb-20 sm:pb-0",children:[(0,uw.jsxs)("div",{className:"flex h-16 flex-shrink-0 items-center border-b border-gray-100",children:[(0,uw.jsxs)("button",{type:"button",className:"ml-2 flex h-10 w-10 items-center justify-center rounded-xl text-gray-500 transition-all hover:bg-gray-100 md:hidden",onClick:function(){u(!0)},children:[(0,uw.jsx)("span",{className:"sr-only",children:"Open sidebar"}),(0,uw.jsx)(X5,{className:"h-6 w-6","aria-hidden":"true"})]}),(0,uw.jsx)("div",{className:"flex-grow px-4",children:f&&(0,uw.jsxs)("div",{className:"relative w-full text-gray-400 transition-all focus-within:text-gray-900",children:[(0,uw.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center",children:(0,uw.jsx)(J5,{className:"h-5 w-5","aria-hidden":"true"})}),(0,uw.jsx)("input",{onChange:function(e){d(e.target.value)},className:"block h-full w-full border-transparent py-2 pl-8 pr-3 text-gray-900 placeholder-gray-400 focus:border-transparent focus:outline-none focus:ring-0 sm:text-sm",placeholder:a?"Search":"Search your videos...",value:l})]})}),(0,uw.jsx)("div",{className:"fixed right-6 top-3 z-20 flex items-center space-x-4 md:ml-6",children:(0,uw.jsx)(G1,{})})]}),(0,uw.jsx)("div",{className:"flex-1",children:(0,uw.jsx)("div",{className:"relative min-h-full py-6",children:(0,uw.jsxs)("div",{className:"mx-auto mb-6 max-w-7xl px-4 sm:px-6 md:px-8",children:[!n.emailVerified&&(0,uw.jsx)(Z5,{}),(0,uw.jsx)(c4,{}),function(){switch(r){case g5.HOME:return(0,uw.jsx)(a3,{searchQuery:l});case g5.SETTINGS:return(0,uw.jsx)(e4,{});case g5.SUPPORT:return(0,uw.jsx)(L3,{});case g5.MEDIA:return(0,uw.jsx)(u4,{});case g5.BRAND_KIT:return(0,uw.jsx)(E4,{});case g5.USAGE:return(0,uw.jsx)(f4,{});case g5.API:return(0,uw.jsx)(O4,{});case g5.AFFILIATES:return(0,uw.jsx)(R4,{});case g5.AI_ARTIST:return(0,uw.jsx)(o4,{});case g5.DUBBING:return(0,uw.jsx)(N4,{});default:return Sn.ErrorH.assertNever(r)}}()]})})})]})]})},j4=function(){return(0,uw.jsx)(L4,{currentPage:g5.HOME})},M4=function(){return(0,uw.jsx)(L4,{currentPage:g5.SETTINGS})},D4=function(){return(0,uw.jsx)(L4,{currentPage:g5.SUPPORT})},F4=function(){return(0,uw.jsx)(L4,{currentPage:g5.MEDIA})},U4=function(e){var r=e.visualDelayMs,n=e.longestExpectedLoadingMs,i=k((0,t.useState)(!1),2),a=i[0],o=i[1];return(0,t.useEffect)((function(){var e=null,t=setTimeout((function(){o(!0)}),r),i=setTimeout((function(){e=St.error("This page is taking longer than expected to load. Try refreshing the page. Contact support@videogen.io if this problem persists.",{autoClose:!1,closeButton:!1,closeOnClick:!1,draggable:!1})}),n);return function(){null!=e&&St.dismiss(e),clearTimeout(t),clearTimeout(i)}}),[r,n]),(0,uw.jsx)("div",{className:"flex h-screen w-screen items-center justify-center",children:a&&(0,uw.jsx)("div",{children:(0,uw.jsx)("img",{className:"h-16 w-auto animate-bounce",src:"/logo-red.svg",alt:"VideoGen Logo"})})})},B4=Sn.ApiH.serverTimeoutSecondsToClientTimeoutSeconds(Sn.ApiPaymentO.PRESET_CREATE_CUSTOMER_PORTAL_SESSION_OPTIONS.serverTimeoutSeconds)*Sn.TimeC.MILLISECONDS_PER_SECOND,G4=function(){var e=jD(),t=aF(),r=MD(aw.selectPrivateWorkspaceInfo);return ZD((function(){var n=function(){var n=Ot(Pt().mark((function n(){var i,a,o,s,u,c;return Pt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,null!=r.stripeCustomerSummary){n.next=5;break}return t({pathname:"/upgrade"}),n.abrupt("return");case 5:return i=Jx(),a=Sn.TypeT.castOrDefault(i.flowType,Sn.PaymentT.castAsPortalSessionFlowType,Sn.PaymentT.PortalSessionFlowType.ALL),n.next=9,Xw({dispatch:e});case 9:return o=n.sent,n.next=12,Sn.ApiPaymentE.CreateCustomerPortalSession.call(o,{flowType:a});case 12:s=n.sent,u=s.resData,c=u.portalSessionUrl,window.location.href=c,n.next=22;break;case 18:n.prev=18,n.t0=n.catch(0),e(UM.handleError(n.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to open the manage subscription page.")})),t({pathname:"/"});case 22:case"end":return n.stop()}}),n,null,[[0,18]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){}})),(0,uw.jsx)(U4,{visualDelayMs:0,longestExpectedLoadingMs:B4})},V4=Sn.WebsiteH.getWebsiteUrlForPath(Ix,"/contact"),H4=function(){return(0,uw.jsxs)("div",{className:"flex min-h-screen flex-col bg-white pb-12 pt-16",children:[(0,uw.jsxs)("main",{className:"mx-auto flex w-full max-w-7xl flex-grow flex-col justify-center px-6 lg:px-8",children:[(0,uw.jsx)("div",{className:"flex flex-shrink-0 justify-center",children:(0,uw.jsxs)(aG,{to:"/",className:"inline-flex",children:[(0,uw.jsx)("span",{className:"sr-only",children:"VideoGen"}),(0,uw.jsx)("img",{className:"h-12 w-auto",src:"/logo-red.svg",alt:"VideoGen Logo"})]})}),(0,uw.jsx)("div",{className:"py-16",children:(0,uw.jsxs)("div",{className:"text-center",children:[(0,uw.jsx)("p",{className:"text-base font-semibold text-main-600",children:"404"}),(0,uw.jsx)("h1",{className:"mt-2 text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl",children:"Page not found."}),(0,uw.jsx)("p",{className:"mt-2 text-base text-gray-500",children:"Sorry, we couldn't find the page you're looking for."}),(0,uw.jsx)("div",{className:"mt-6",children:(0,uw.jsxs)(aG,{to:"/",className:"text-base font-medium text-main-600 hover:text-main-500",children:["Go back home",(0,uw.jsx)("span",{"aria-hidden":"true",children:" \u2192"})]})})]})})]}),(0,uw.jsx)("footer",{className:"mx-auto w-full max-w-7xl flex-shrink-0 px-6 lg:px-8",children:(0,uw.jsx)("nav",{className:"flex justify-center space-x-4",children:(0,uw.jsx)("a",{href:V4,target:"_blank",rel:"noreferrer",className:"text-sm font-medium text-gray-500 hover:text-gray-600",children:"Contact Support"})})})]})},W4=null!==(_4=Jx().displayMessage)&&void 0!==_4?_4:Sn.ErrorC.DEFAULT_ERROR_MESSAGE,q4=function(){throw Sn.ErrorH.newFatalError(W4)},z4=["title","titleId"];var Y4=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,z4);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M17 10a.75.75 0 0 1-.75.75H5.612l4.158 3.96a.75.75 0 1 1-1.04 1.08l-5.5-5.25a.75.75 0 0 1 0-1.08l5.5-5.25a.75.75 0 1 1 1.04 1.08L5.612 9.25H16.25A.75.75 0 0 1 17 10Z",clipRule:"evenodd"}))})),X4=[Sn.TemplateC.DEFAULT_BLANK_TEMPLATE,{name:"TikTok / Reel",writingStyle:"entertaining, viral, relatable and shareable",emoji:"\ud83d\udcf1",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!1,websiteLabel:null,aspectRatio:Sn.ProjectC.PORTRAIT_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.PRO},{name:"Promo",writingStyle:"engaging, informative and persuasive",emoji:"\ud83c\udff7\ufe0f",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!1,websiteLabel:null,aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.PRO},{name:"Satire",writingStyle:"satirical, humorous and sarcastic",emoji:"\ud83d\ude02",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!1,websiteLabel:null,aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.FREE},{name:"Search Engine Optimization",writingStyle:"informative, engaging, easy to read, and SEO-friendly",emoji:"\ud83d\udd0d",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!1,websiteLabel:null,aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.BUSINESS},{name:"Explainer Video",writingStyle:"educational",emoji:"\ud83d\udcda",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!1,websiteLabel:null,aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.FREE},{name:"Cartoon",writingStyle:"engaging",emoji:"\ud83c\udfa8",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.SLOW_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!0,requiresWebsite:!1,websiteLabel:null,aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.PRO},{name:"Website to Video",writingStyle:"engaging and informative",emoji:"\ud83c\udf10",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!0,websiteLabel:"Website",aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.BUSINESS},{name:"Advertisement",writingStyle:"engaging and persuasive ad copy with an attention-grabbing hook",emoji:"\ud83d\uddbc",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!1,websiteLabel:null,aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.SCALE},{name:"YouTube",writingStyle:"engaging, relatable and informative",emoji:"\ud83c\udfa5",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!1,websiteLabel:null,aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.PRO},{name:"E-commerce Page to Video",writingStyle:"engaging and informative",emoji:"\ud83d\uded2",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!0,websiteLabel:"E-commerce Page",aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.BUSINESS},{name:"Employee Training",writingStyle:"professional and instructional",emoji:"\ud83d\udccb",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!1,websiteLabel:null,aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.BUSINESS},{name:"Professional",writingStyle:"professional",emoji:"\ud83d\udcbc",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!1,websiteLabel:null,aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.FREE},{name:"Sales Pitch",writingStyle:"persuasive and engaging",emoji:"\ud83d\udcb0",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!1,websiteLabel:null,aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.SCALE},{name:"Product Overview",writingStyle:"engaging and informative",emoji:"\ud83d\udce6",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!1,websiteLabel:null,aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.SCALE},{name:"Brand Story",writingStyle:"engaging and informative",emoji:"\ud83d\udcd6",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!1,websiteLabel:null,aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.SCALE},{name:"Internal Communication",writingStyle:"professional and informative",emoji:"\ud83d\udce2",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!1,websiteLabel:null,aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.PRO},{name:"Rhyming Poem",writingStyle:"a rhyming poem",emoji:"\ud83d\udcdc",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!1,websiteLabel:null,aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.FREE},{name:"Investor Pitch",writingStyle:"professional and persuasive",emoji:"\ud83d\udc54",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!1,websiteLabel:"Landing Page",aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.BUSINESS},{name:"Business Overview",writingStyle:"professional and informative",emoji:"\ud83d\udcca",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!1,websiteLabel:null,aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.BUSINESS},{name:"Nonprofit",writingStyle:"inspiring, professional and emotional",emoji:"\ud83c\udf31",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!1,websiteLabel:null,aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.PRO},{name:"Landing Page to Video",writingStyle:"engaging and informative",emoji:"\ud83d\ude80",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!0,websiteLabel:"Landing Page",aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.BUSINESS},{name:"Real Estate",writingStyle:"professional, welcoming and informative",emoji:"\ud83c\udfe0",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!1,websiteLabel:"Listing Page",aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.BUSINESS},{name:"Medical",writingStyle:"professional and informative",emoji:"\ud83e\ude7a",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!1,websiteLabel:null,aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.BUSINESS},{name:"Dramatic",writingStyle:"super dramatic, intense, and over-the-top emotional",emoji:"\ud83c\udfad",previewSrc:null,sceneWordLengthThreshold:Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD,useGetty:!1,useCartoon:!1,requiresWebsite:!1,websiteLabel:null,aspectRatio:Sn.ProjectC.LANDSCAPE_ASPECT_RATIO,requiredAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.FREE}],K4=function(e){var t=e.template,r=e.className;return(0,uw.jsxs)("div",{className:Dn("inline-flex flex-row items-center justify-center gap-2 rounded-lg bg-gray-100 px-2 py-0.5 text-sm font-medium text-gray-900",null!==r&&void 0!==r?r:""),children:[(0,uw.jsx)("span",{className:"text-base",children:t.emoji}),(0,uw.jsx)("span",{children:t.name})]})},J4=function(e){var t=e.children,r=e.isShowingContinueButton,n=e.onClickContinueButton,i=e.continueButtonText,a=e.isContinueButtonLoading,o=e.isShowingSecondaryButton,s=e.secondaryButtonText,u=e.onClickSecondaryButton,c=e.templateForTag;return(0,uw.jsxs)("div",{className:"relative",children:[(0,uw.jsx)("div",{className:"flex w-full items-start justify-center overflow-y-auto px-4 pb-6 pt-28 sm:px-6",children:(0,uw.jsxs)("div",{className:"relative w-full",children:[c&&(0,uw.jsx)(K4,{template:c,className:"absolute -top-14 left-0"}),t,(0,uw.jsx)("div",{className:"h-20"})]})}),(0,uw.jsxs)("div",{className:"pointer-events-none fixed bottom-0 left-0 right-0 flex h-20 items-center justify-center gap-2 bg-gradient-to-t from-white via-white/80 to-white/0 sm:gap-4",children:[r&&(0,uw.jsx)(tD,{onClick:n,isLoading:null!==a&&void 0!==a&&a,disabled:null!==a&&void 0!==a&&a,className:Dn("pointer-events-auto inline-flex h-11 items-center justify-center rounded-xl bg-main-600 px-4 text-lg font-semibold text-white transition-colors focus:outline-none focus:ring-0",a?"animate-pulse":"hover:bg-main-700 "),children:null!==i&&void 0!==i?i:"Continue"}),o&&(0,uw.jsx)("button",{onClick:u,className:"pointer-events-auto inline-flex h-11 items-center justify-center rounded-xl border border-gray-200 bg-gray-50 px-4 text-base font-semibold text-gray-900 transition-colors hover:bg-gray-300 focus:outline-none focus:ring-0",children:null!==s&&void 0!==s?s:"Continue"})]})]})},Z4=function(e){return e.TEMPLATES="TEMPLATES",e.PROMPT="PROMPT",e.SCRIPT="SCRIPT",e.SETTINGS="SETTINGS",e}({}),Q4=r(94421);function $4(e){return"string"===typeof e}function e6(e,t,r){return r.indexOf(e)===t}function t6(e){return-1===e.indexOf(",")?e:e.split(",")}function r6(e){if(!e)return e;if("C"===e||"posix"===e||"POSIX"===e)return"en-US";if(-1!==e.indexOf(".")){var t=e.split(".")[0];return r6(void 0===t?"":t)}if(-1!==e.indexOf("@")){var r=e.split("@")[0];return r6(void 0===r?"":r)}if(-1===e.indexOf("-")||(n=e).toLowerCase()!==n)return e;var n,i=e.split("-"),a=i[0],o=i[1],s=void 0===o?"":o;return"".concat(a,"-").concat(s.toUpperCase())}var n6=Q4((function(e){var t=void 0===e?{}:e,r=t.useFallbackLocale,n=void 0===r||r,i=t.fallbackLocale,a=void 0===i?"en-US":i,o=[];if("undefined"!==typeof navigator){for(var s=[],u=0,c=navigator.languages||[];u<c.length;u++){var l=c[u];s=s.concat(t6(l))}var d=navigator.language,f=d?t6(d):d;o=o.concat(s,f)}return n&&o.push(a),o.filter($4).map(r6).filter(e6)}),{cacheKey:JSON.stringify});var i6,a6=Q4((function(e){return n6(e)[0]||null}),{cacheKey:JSON.stringify}),o6=null!==(i6=Sn.TtsH.voiceDisplayNameOrUniqueIdToDisplayableVoice("Matilda"))&&void 0!==i6?i6:{ttsVoice:{providerName:Sn.TtsT.TtsProviderName.ELEVEN_LABS,languageCode:"en-US",voiceId:"XrExE9yKIg1WjnnlVkGX"},displayGender:Sn.TtsT.DisplayableGender.FEMALE,displayName:"Matilda",displayTags:["educational","narration"]},s6=(0,t.createContext)(null),u6=function(e){var t=G$(e),r=t.languageCode,n=t.countryCode;try{return{languageString:e,languageCode:r,countryCode:n,castedLanguageCode:Sn.TranslateT.castAsDetectLanguageLanguageCode(r)}}catch(i){return console.error(i),{languageString:e,languageCode:r,countryCode:n,castedLanguageCode:"en"}}}(a6()),c6=function(e){var r=e.children,n=k((0,t.useState)(Z4.TEMPLATES),2),i=n[0],a=n[1],o=k((0,t.useState)(Sn.TemplateC.DEFAULT_BLANK_TEMPLATE),2),s=o[0],u=o[1],c=k((0,t.useState)(""),2),l=c[0],d=c[1],f=k((0,t.useState)(Sn.GeneratorC.DEFAULT_TARGET_SCRIPT_WORD_COUNT),2),h=f[0],p=f[1],v=k((0,t.useState)(null),2),g=v[0],m=v[1],y=k((0,t.useState)([]),2),b=y[0],S=y[1],E=k((0,t.useState)(u6.castedLanguageCode),2),x=E[0],w=E[1],_=k((0,t.useState)(""),2),T=_[0],A=_[1],C=k((0,t.useState)(o6),2),P=C[0],I=C[1],O=k((0,t.useState)(1),2),R=O[0],N=O[1],L=k((0,t.useState)(Sn.ProjectC.LANDSCAPE_ASPECT_RATIO),2),j=L[0],M=L[1],D=k((0,t.useState)(Sn.GeneratorC.FAST_SCENE_WORD_LENGTH_THRESHOLD),2),F=D[0],U=D[1],B=k((0,t.useState)(!1),2),G=B[0],V=B[1],H=k((0,t.useState)(!1),2),W=H[0],q=H[1],z=k((0,t.useState)([]),2),Y=z[0],X=z[1];(0,t.useEffect)((function(){M(s.aspectRatio)}),[s.aspectRatio]),(0,t.useEffect)((function(){U(s.sceneWordLengthThreshold)}),[s.sceneWordLengthThreshold]),(0,t.useEffect)((function(){V(s.useGetty)}),[s.useGetty]),(0,t.useEffect)((function(){q(s.useCartoon)}),[s.useCartoon]);var K={currentInitializerPageName:i,setCurrentInitializerPageName:a,template:s,setTemplate:u,prompt:l,setPrompt:d,outputLanguageCode:x,setOutputLanguageCode:w,websiteUrls:b,setWebsiteUrls:S,targetScriptWordCount:h,setTargetScriptWordCount:p,selectedBrand:g,setSelectedBrand:m,script:T,setScript:A,displayableVoice:P,setDisplayableVoice:I,voiceVolume:R,setVoiceVolume:N,aspectRatio:j,setAspectRatio:M,sceneWordLengthThreshold:F,setSceneWordLengthThreshold:U,useGetty:G,setUseGetty:V,useCartoon:W,setUseCartoon:q,inputStorageFileLocators:Y,setInputStorageFileLocators:X};return(0,uw.jsx)(s6.Provider,{value:K,children:r})},l6=function(){var e=(0,t.useContext)(s6);if(null==e)throw Sn.ErrorH.newInternalError("Cannot call useInitializerContext outside of InitializerContextProvider.");return e},d6=function(){var e=jD(),r=MD(aw.selectPrivateWorkspaceInfo),n=l6(),i=n.setTemplate,a=n.setCurrentInitializerPageName,o=(0,t.useCallback)((function(e){i(e),a(Z4.PROMPT)}),[i,a]),s=(0,t.useCallback)((function(t){return function(){try{Sn.WorkspaceH.checkWorkspaceInfoSatisfiesAuthLevel({workspaceInfo:r,requiredWorkspaceAuthLevel:t.requiredAuthLevel,upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"use this template"}),Mx("select_template",ze({},t)),o(t)}catch(n){e(UM.handleError(n))}}}),[o,r,e]);return(0,uw.jsx)(J4,{children:(0,uw.jsxs)("div",{className:"w-full space-y-8",children:[(0,uw.jsxs)("div",{children:[(0,uw.jsx)("h3",{className:"text-4xl font-semibold text-gray-900",children:"Choose a template"}),(0,uw.jsx)("p",{className:"mt-2 text-lg text-gray-700",children:"Each template is tuned for a specific video style and purpose."})]}),(0,uw.jsx)("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 lg:gap-4",children:X4.map((function(e,t){return(0,uw.jsxs)("button",{onClick:s(e),className:"relative flex h-full flex-col items-start space-y-4 overflow-hidden rounded-2xl bg-gray-100 p-4 text-left transition-all hover:bg-gray-200 sm:p-6",children:[(0,uw.jsx)("div",{className:"text-3xl",children:e.emoji}),(0,uw.jsx)("div",{className:"text-base font-medium",children:e.name}),(0,uw.jsxs)("div",{className:"absolute -top-2 right-2 space-x-2",children:[e.useCartoon&&(0,uw.jsx)(TK,{type:kK.NEW}),(0,uw.jsx)(TK,{type:_K[e.requiredAuthLevel]})]})]},t)}))}),(0,uw.jsxs)("div",{className:"mx-auto w-full text-center text-sm text-gray-500",children:[(0,uw.jsx)("p",{className:"inline-flex sm:mb-0",children:"Want a custom template for your business/organization?\xa0"}),(0,uw.jsxs)(aG,{to:pJ,target:"_blank",className:"inline-flex w-auto items-center space-x-1 text-center font-medium text-gray-900 hover:underline",children:[(0,uw.jsx)("span",{children:"Request Enterprise Access"}),(0,uw.jsx)(hJ,{className:"h-4 w-4"})]})]})]})})},f6=["title","titleId"];var h6=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,f6);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm.75-11.25a.75.75 0 0 0-1.5 0v2.5h-2.5a.75.75 0 0 0 0 1.5h2.5v2.5a.75.75 0 0 0 1.5 0v-2.5h2.5a.75.75 0 0 0 0-1.5h-2.5v-2.5Z",clipRule:"evenodd"}))})),p6=function(e){var r,n=e.selectedBrand,i=e.onSelectBrand,a=e.onInitiateAddBrand,o=jD(),s=MD(aw.selectPrivateWorkspaceInfo),u=MD(uD),c=MD(cD),l=(0,t.useMemo)((function(){return u.map((function(e){return{text:e.name,value:e.brandId,icon:(0,uw.jsx)(M5,{className:"h-full w-full"})}}))}),[u]),d=(0,t.useMemo)((function(){return Sn.WorkspaceH.workspaceInfoSatisfiesAuthLevel({workspaceInfo:s,requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.PRO})}),[s]),f=(0,t.useCallback)((function(){var e=Sn.BrandH.getDefaultBrand({brandId:Sn.UuidH.generateUuid()});a({newBrandIdToBeAdded:e.brandId}),o(Tw({initialBrand:e,isBrandNew:!0}))}),[o,a]),h=(0,t.useCallback)((function(e){var t,r=null!==(t=u.find((function(t){return t.brandId===e})))&&void 0!==t?t:null;null==r&&f(),i(r)}),[u,i,f]),p=(0,t.useCallback)((function(){i(null)}),[i]),v=(0,t.useCallback)((function(){try{o(hD.getBrands())}catch(e){o(UM.handleError(e,{defaultErr:Sn.ErrorH.newFatalError("Failed to get brands.")}))}}),[o]),g=(0,t.useCallback)((function(){null!=n&&o(Tw({initialBrand:n,isBrandNew:!1}))}),[o,n]);return(0,uw.jsxs)("div",{className:Dn("flex w-full flex-row items-center gap-2",d?"justify-between":"justify-center"),children:[d&&u.length>0&&(0,uw.jsxs)("div",{className:"flex max-w-[16rem] flex-grow flex-row items-center justify-center gap-2",children:[(0,uw.jsx)(D$,{placeholder:"Select a brand",size:"small",items:l,actionButton:{text:"New brand",onClick:f,icon:(0,uw.jsx)(h6,{className:"h-full w-full"})},currentValue:null!==(r=null===n||void 0===n?void 0:n.brandId)&&void 0!==r?r:null,setValue:h,onClear:l.length>0?p:void 0,className:"w-40 flex-grow"}),c===Sn.LoadingT.LoadingState.REJECTED&&(0,uw.jsx)("button",{onClick:v,className:"h-8 w-8 flex-shrink-0 rounded-full bg-gray-100 p-1.5 text-gray-700 hover:bg-gray-200",children:(0,uw.jsx)(H1,{className:"h-full w-full"})})]}),d&&null!=n&&(0,uw.jsx)("button",{onClick:g,className:"border-1 block cursor-pointer items-center justify-center whitespace-nowrap rounded-lg border border-gray-200 bg-white px-2 py-1 text-sm font-medium text-gray-900 transition-colors hover:bg-gray-200 focus:outline-none",children:(0,uw.jsx)("span",{children:"Edit ".concat(Sn.StringH.truncateTextWithEllipsis(n.name,16))})}),d&&0===u.length&&(0,uw.jsxs)("button",{onClick:f,className:"border-1 inline-flex cursor-pointer items-center justify-center space-x-2 whitespace-nowrap rounded-lg border border-gray-200 bg-white px-2 py-1 text-sm font-medium text-gray-900 transition-colors hover:bg-gray-200 focus:outline-none",children:[(0,uw.jsx)("div",{className:"h-5 w-5",children:(0,uw.jsx)(x5,{className:"h-full w-full text-gray-900"})}),(0,uw.jsx)("span",{children:"Add brand"})]}),!d&&(0,uw.jsx)("div",{className:"w-full space-y-2",children:(0,uw.jsxs)("button",{onClick:f,className:"border-1 inline-flex cursor-pointer items-center justify-center space-x-2 whitespace-nowrap rounded-lg border border-gray-200 bg-white py-1 pl-2 pr-1 text-sm font-medium text-gray-900 transition-colors hover:bg-gray-200 focus:outline-none",children:[(0,uw.jsx)("div",{className:"h-5 w-5",children:(0,uw.jsx)(x5,{className:"h-full w-full text-gray-900"})}),(0,uw.jsx)("span",{children:"Add brand"}),(0,uw.jsx)(TK,{type:kK.PRO})]})})]})},v6=["title","titleId"];var g6=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,v6);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))})),m6=function(e){var r=e.storageFiles,n=e.onRemoveStorageFile,i=(0,t.useCallback)((function(e){return function(){n(e)}}),[n]);return(0,uw.jsx)("div",{className:"flex flex-col items-stretch gap-2",children:r.map((function(e,t){return(0,uw.jsxs)("div",{className:"flex w-full flex-row items-center gap-4 rounded-lg bg-gray-100 px-2 py-1",children:[(0,uw.jsx)("div",{className:"h-7 w-10 flex-shrink-0",children:(0,uw.jsx)(XZ,{storageFile:e,isIcon:!0,showAudioPlayButtonOnIcon:!1})}),(0,uw.jsx)("div",{className:"flex-grow",children:(0,uw.jsx)("p",{className:"text-sm text-gray-900",children:e.storageFileMetadata.displayName})}),(0,uw.jsx)("div",{className:"flex flex-shrink-0 items-center",children:(0,uw.jsx)("button",{className:"h-4 w-4 text-gray-900 transition-colors hover:text-gray-500",onClick:i(e),children:(0,uw.jsx)(qB,{className:"h-full w-full"})})})]},t)}))})},y6=[{title:"Very short",description:"50 words",targetScriptWordCount:50},{title:"Short",description:"150 words",targetScriptWordCount:150},{title:"Medium",description:"300 words",targetScriptWordCount:300},{title:"Long",description:"600 words",targetScriptWordCount:600},{title:"Very long",description:"1000 words",targetScriptWordCount:1e3}],b6={storageScope:{type:Sn.StorageT.WorkspaceStorageScopeType.GLOBAL},storageFileTypes:[Sn.StorageT.WorkspaceStorageFileType.IMAGE,Sn.StorageT.WorkspaceStorageFileType.VIDEO]},S6=function(){var e,r=jD(),n=l6(),i=n.setCurrentInitializerPageName,a=n.template,o=n.prompt,s=n.setPrompt,c=n.script,l=n.outputLanguageCode,d=n.setOutputLanguageCode,f=n.websiteUrls,h=n.setWebsiteUrls,p=n.targetScriptWordCount,v=n.setTargetScriptWordCount,g=n.selectedBrand,m=n.setSelectedBrand,y=n.setScript,b=n.inputStorageFileLocators,S=n.setInputStorageFileLocators,E=MD(aw.selectPrivateWorkspaceInfo),x=MD(uD),w=MD(Ck.selectStorageIdFileRecord),_=MD(C1),T=k((0,t.useState)(null),2),A=T[0],C=T[1],P=k((0,t.useState)(!1),2),I=P[0],O=P[1],R=(0,t.useRef)(null),N=k((0,t.useState)(""),2),L=N[0],j=N[1],M=k((0,t.useState)(""),2),D=M[0],F=M[1],U=k((0,t.useState)([]),2),B=U[0],G=U[1],V=k((0,t.useState)(""),2),H=V[0],W=V[1],q=k((0,t.useState)(!1),2),z=q[0],Y=q[1],X=k((0,t.useState)(!1),2),K=X[0],J=X[1];(0,t.useEffect)((function(){_&&J(!1)}),[_]),(0,t.useEffect)((function(){G(f.map((function(){}))),F("")}),[f]);var Z=(0,t.useMemo)((function(){return Sn.WorkspaceH.workspaceInfoSatisfiesAuthLevel({workspaceInfo:E,requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.PRO})}),[E]),Q=(0,t.useMemo)((function(){return Sn.WorkspaceH.workspaceInfoSatisfiesAuthLevel({workspaceInfo:E,requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.BUSINESS})}),[E]);(0,t.useEffect)((function(){if(null!=A){var e=x.find((function(e){return e.brandId===A}));if(null!=e)return C(null),void m(e)}if(null!=g){var t=x.find((function(e){return e.brandId===g.brandId}));null!=t&&m(t)}}),[x,g,A,m]),(0,t.useEffect)((function(){o&&j("")}),[o]),(0,t.useEffect)((function(){y6.some((function(e){return e.targetScriptWordCount===p}))||Y(!0)}),[p]);var $=(0,t.useCallback)((function(e){if(Mx("set_target_script_word_count",{targetScriptWordCount:e}),Y(!1),e>250&&!Z)try{r(yw({upgradeAction:{type:Sn.ErrorT.KnownErrorActionType.UPGRADE,currentWorkspaceAuthLevel:Sn.WorkspaceH.getWorkspaceAuthLevel(E),requiredWorkspaceAuthLevel:Sn.WorkspaceH.getNextHighestWorkspaceAuthLevel(Sn.WorkspaceH.getWorkspaceAuthLevel(E)),upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"generate scripts longer than 300 words"}}))}catch(t){r(UM.handleError(t))}else W(""),v(e)}),[r,Z,E,v]),ee=(0,t.useMemo)((function(){var e,t=Sn.WorkspaceH.getWorkspaceAuthLevelUsageLimits(Sn.WorkspaceH.getWorkspaceAuthLevel(E)).numCharsPerScript;return(e=t,{upperBound:Math.ceil(e/7),approx:Math.round(e/5.7),lowerBound:Math.floor(e/4)}).lowerBound-50}),[E]),te=(0,t.useCallback)((function(e){var t=Number(e),n=isNaN(t)?0:Math.floor(Math.min(Math.max(t,0),ee));if(W(n===t?"":t>ee?"Maximum word count: ".concat(ee):"Please enter a valid number"),Z)v(n);else try{r(yw({upgradeAction:{type:Sn.ErrorT.KnownErrorActionType.UPGRADE,currentWorkspaceAuthLevel:Sn.WorkspaceH.getWorkspaceAuthLevel(E),requiredWorkspaceAuthLevel:Sn.WorkspaceH.getNextHighestWorkspaceAuthLevel(Sn.WorkspaceH.getWorkspaceAuthLevel(E)),upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"generate scripts with a custom word count"}}))}catch(i){r(UM.handleError(i))}}),[r,ee,Z,E,v]),re=(0,t.useCallback)((function(e){d(e)}),[d]),ne=(0,t.useCallback)((function(e){var t=e.newBrandIdToBeAdded;C(t)}),[]),ie=(0,t.useCallback)((function(e){y(e),i(Z4.SCRIPT)}),[y,i]),ae=(0,t.useCallback)(Ot(Pt().mark((function e(){var t,n,i,s,u,c,d;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),t=!1,e.prev=2,o||(j("Please enter a prompt."),null!=R.current&&R.current.focus(),t=!0),n=f.map((function(e){return e.startsWith("http://")||e.startsWith("https://")?e:"http://"+e})),G(n.map((function(e){return Sn.PathH.isStrValidWebsiteUrl(e)?void 0:(t=!0,"Please enter a valid URL.")}))),a.requiresWebsite&&0===n.length&&(F("Required: ".concat(null!==(i=a.websiteLabel)&&void 0!==i?i:"website resource",".")),t=!0),!t){e.next=9;break}throw Sn.ErrorH.newHiddenError("Invalid prompt input.");case 9:return Mx("generate_script",{prompt:o,template:a,targetScriptWordCount:p,brandId:null===g||void 0===g?void 0:g.brandId,outputLanguageCode:l,websiteUrls:n}),e.next=12,Xw({dispatch:r});case 12:return s=e.sent,e.next=15,Sn.ApiNlpE.WriteVideoScript.call(s,{prompt:o,template:a,targetScriptWordCount:p,brand:g,outputLanguageCode:l,websiteUrls:n});case 15:u=e.sent,c=u.resData,d=c.script,ie(d),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),r(UM.handleError(e.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to generate script.",{rawData:{prompt:o}})}));case 24:O(!1);case 25:case"end":return e.stop()}}),e,null,[[2,21]])}))),[r,ie,o,g,p,a,f,l]),oe=(0,t.useCallback)((function(){Mx("skip_to_script"),i(Z4.SCRIPT)}),[i]),se=(0,t.useMemo)((function(){return f.length>=3}),[f.length]),ue=(0,t.useMemo)((function(){return b.length>=10}),[b.length]),ce=(0,t.useCallback)((function(e){return function(){h((function(t){return t.filter((function(t,r){return r!==e}))}))}}),[h]),le=(0,t.useCallback)((function(e){return function(t){h((function(r){return r.map((function(r,n){return n===e?t:r}))}))}}),[h]),de=(0,t.useCallback)((function(){if(Q)h((function(e){return[].concat(u(e),[""])}));else try{r(yw({upgradeAction:{type:Sn.ErrorT.KnownErrorActionType.UPGRADE,currentWorkspaceAuthLevel:Sn.WorkspaceH.getWorkspaceAuthLevel(E),requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.BUSINESS,upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"add website resources"}}))}catch(e){r(UM.handleError(e))}}),[h,E,Q,r]),fe=(0,t.useMemo)((function(){return I&&f.length>0}),[I,f]),he=(0,t.useMemo)((function(){return[].concat(u(y6.map((function(e,t){var r=!(Z||e.targetScriptWordCount<250);return{text:(0,uw.jsxs)("div",{className:"flex space-x-2",children:[r&&(0,uw.jsx)(TK,{type:kK.PRO}),(0,uw.jsxs)("span",{className:"inline-flex text-gray-900",children:[e.title,(0,uw.jsxs)("span",{className:"inline-flex text-gray-500",children:["\xa0~",e.description]})]})]}),value:e.targetScriptWordCount}}))),[{text:(0,uw.jsxs)("div",{className:"flex space-x-2",children:[!Z&&(0,uw.jsx)(TK,{type:kK.PRO}),(0,uw.jsx)("span",{className:"inline-flex text-gray-900",children:"Custom word count"})]}),value:z?p:100}])}),[Z,p,z]),pe=(0,t.useMemo)((function(){return Sn.TypeT.getArrayWithoutOmissions(b.map((function(e){return w[e.storageFileId]})))}),[b,w]),ve=(0,t.useCallback)((function(){try{Sn.WorkspaceH.checkWorkspaceInfoSatisfiesAuthLevel({workspaceInfo:E,requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.PRO,upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"upload your own files"}),J(!0)}catch(e){r(UM.handleError(e,{defaultErr:Sn.ErrorH.newFatalError("Failed to add file.")}))}}),[r,E]),ge=(0,t.useCallback)((function(){J(!1)}),[]),me=(0,t.useCallback)((function(e){S((function(t){return t.some((function(t){return t.storageFileId===e.storageFileId}))?t:[].concat(u(t),[e])}))}),[S]),ye=(0,t.useCallback)((function(e){me(Sn.StorageH.storageFileToLocator(e)),ge()}),[me,ge]),be=(0,t.useCallback)((function(e){e.forEach((function(e){me(Sn.StorageH.storageFileToLocator(e))})),ge()}),[me,ge]),Se=(0,t.useCallback)((function(e){S((function(t){return t.filter((function(t){return t.storageFileId!==e.storageFileId}))}))}),[S]);return(0,uw.jsxs)(J4,{isShowingContinueButton:!0,onClickContinueButton:ae,continueButtonText:c?"Regenerate script":"Generate script",isContinueButtonLoading:I,isShowingSecondaryButton:!0,onClickSecondaryButton:oe,secondaryButtonText:c?"Continue to script":"Start with blank script",templateForTag:a,children:[fe&&(0,uw.jsx)("div",{className:"fixed bottom-0 left-0 right-0 top-0 z-50",children:(0,uw.jsx)(K0,{loadingMessages:["Scanning websites. This will take about 1 minute."]})}),(0,uw.jsxs)("div",{children:[(0,uw.jsx)("h3",{className:"text-4xl font-semibold text-gray-900",children:"Outline your video"}),(0,uw.jsx)("p",{className:"mt-2 text-lg text-gray-700",children:"Add resources for VideoGen to incorporate into your video, then tell VideoGen what you want your video to be about."})]}),(0,uw.jsxs)("div",{className:"mt-4 w-full",children:[(0,uw.jsxs)("div",{className:"w-full",children:[(0,uw.jsxs)("div",{className:"flex flex-wrap items-center justify-start gap-2",children:[(0,uw.jsx)("div",{className:"flex",children:(0,uw.jsx)("div",{className:"flex w-full flex-col gap-2",children:(0,uw.jsx)("div",{className:"flex items-center",children:Z?(0,uw.jsx)("button",{onClick:ve,disabled:ue,className:Dn("border-1 flex items-center justify-center space-x-0.5 rounded-lg border border-gray-200 px-2 py-1 text-sm font-medium transition-all",ue?"cursor-not-allowed bg-gray-100 text-gray-500":"bg-white text-gray-900 hover:bg-gray-200"),children:ue?(0,uw.jsxs)(uw.Fragment,{children:["Max ",10," files"]}):(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)("div",{className:"relative h-5 w-5",children:(0,uw.jsx)(kG,{className:"h-full w-full"})}),(0,uw.jsx)("span",{children:"\xa0Add media"})]})}):(0,uw.jsxs)("button",{onClick:ve,className:"border-1 inline-flex cursor-pointer items-center justify-center space-x-2 whitespace-nowrap rounded-lg border border-gray-200 bg-white py-1 pl-2 pr-1 text-sm font-medium text-gray-900 transition-colors hover:bg-gray-200 focus:outline-none",children:[(0,uw.jsx)("div",{className:"relative h-5 w-5",children:(0,uw.jsx)(kG,{className:"h-full w-full"})}),(0,uw.jsx)("span",{children:"Add media"}),(0,uw.jsx)(TK,{type:kK.PRO})]})})})}),(0,uw.jsxs)("div",{className:"flex items-center",children:[Q?(0,uw.jsx)("button",{onClick:de,disabled:se,className:Dn("border-1 flex items-center justify-center space-x-2 rounded-lg border border-gray-200 px-2 py-1 text-sm font-medium transition-all",se?"cursor-not-allowed bg-gray-100 text-gray-500":"bg-white text-gray-900 hover:bg-gray-200",a.requiresWebsite&&0===f.length?"ring-2 ring-main-600":""),children:se?(0,uw.jsxs)(uw.Fragment,{children:["Max ",3," websites"]}):(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)("div",{className:"h-5 w-5",children:(0,uw.jsx)(g6,{className:"h-full w-full"})}),(0,uw.jsxs)("span",{children:["Add\xa0",null!==(e=a.websiteLabel)&&void 0!==e?e:"website"]})]})}):(0,uw.jsxs)("button",{onClick:de,className:"border-1 inline-flex cursor-pointer items-center justify-center space-x-2 whitespace-nowrap rounded-lg border border-gray-200 bg-white py-1 pl-2 pr-1 text-sm font-medium text-gray-900 transition-colors hover:bg-gray-200 focus:outline-none",children:[(0,uw.jsx)("div",{className:"h-5 w-5",children:(0,uw.jsx)(g6,{className:"h-full w-full"})}),(0,uw.jsx)("span",{children:"Add website"}),(0,uw.jsx)(TK,{type:kK.BUSINESS})]}),D.length>0&&(0,uw.jsx)("p",{className:"ml-2 text-sm text-red-500",children:D})]}),(0,uw.jsx)("div",{children:(0,uw.jsx)("div",{className:"flex",children:(0,uw.jsx)(p6,{selectedBrand:g,onSelectBrand:m,onInitiateAddBrand:ne})})})]}),f.length>0&&(0,uw.jsx)("div",{className:"mt-2 w-full space-y-2",children:f.map((function(e,t){var r,n=null!==(r=Sn.ArrayH.arrGetOrOmit(B,t))&&void 0!==r?r:"",i=null!=n&&""!==n;return(0,uw.jsx)("div",{className:"w-full",children:(0,uw.jsxs)("div",{className:"flex w-full items-center",children:[(0,uw.jsx)("div",{className:"w-full flex-grow",children:(0,uw.jsx)(u5,{value:e,warningMessage:n,onNewValue:le(t),placeholder:"https://example.com",className:"w-full flex-grow rounded-r-none py-1 text-sm"})}),(0,uw.jsx)("button",{onClick:ce(t),className:Dn("h-[30px] flex-shrink-0 rounded-r-lg border border-l-0 border-gray-200 bg-gray-100 pl-[7px] pr-2 text-gray-900 transition-colors hover:bg-gray-200",i?"mb-5":""),children:(0,uw.jsx)(qB,{className:"h-4 w-4"})})]})},t)}))}),pe.length>0&&(0,uw.jsx)("div",{className:"mt-2",children:(0,uw.jsx)(m6,{storageFiles:pe,onRemoveStorageFile:Se})}),(0,uw.jsx)(Mn,{ref:R,className:Dn("text-md z-5 relative mt-4 block max-h-full w-full cursor-text rounded-xl px-3 py-2 text-gray-900 outline-none ring-0 transition-colors placeholder:text-gray-400 focus:outline-none focus:ring-1 focus:ring-inset",L?"border-red-500 hover:border-red-600 focus:border-red-600 focus:ring-red-600":"border-gray-200 hover:border-gray-300 focus:border-gray-700 focus:ring-gray-700"),value:o,onChange:function(e){s(e.target.value)},minRows:4,style:{resize:"none"},placeholder:"What do you want VideoGen to make a video about?",autoFocus:!0}),(0,uw.jsx)("p",{className:"text-sm text-red-500",children:L})]}),(0,uw.jsxs)("div",{className:"mt-4 grid w-full grid-cols-1 gap-2 pb-40 sm:grid-cols-2 sm:gap-4",children:[(0,uw.jsx)("div",{className:"col-span-1 w-full",children:(0,uw.jsxs)("div",{className:"inline-flex w-full items-center justify-center space-x-2",children:[(0,uw.jsx)("div",{className:"flex-shrink-0 text-sm text-gray-500",children:"Script language:"}),(0,uw.jsx)(D$,{placeholder:"Script language",size:"small",className:"w-full",currentValue:l,setValue:re,items:B$})]})}),(0,uw.jsxs)("div",{className:"col-span-1",children:[(0,uw.jsxs)("div",{className:"inline-flex w-full items-center justify-center space-x-2",children:[(0,uw.jsx)("div",{className:"inline-flex flex-shrink-0 text-sm text-gray-500",children:"Script length:"}),(0,uw.jsx)(D$,{placeholder:"Custom length",className:"w-full",size:"small",currentValue:p,setValue:$,items:he})]}),z&&(0,uw.jsx)("div",{className:"relative mt-2 w-full",children:(0,uw.jsxs)("div",{className:"overflow-warp w-full items-center text-left",children:[(0,uw.jsx)("span",{className:"overflow-warp text-sm text-gray-500",children:"Custom word count"}),(0,uw.jsxs)("div",{className:"mt-1",children:[(0,uw.jsx)(g1,{value:p.toString(),onNewValue:te,className:Dn("px-2 py-1 text-sm",H?"border-red-500 hover:border-red-600 focus:border-red-600 focus:ring-red-600":"border-gray-200 hover:border-gray-300 focus:border-gray-700 focus:ring-gray-700")}),H.length>0&&(0,uw.jsx)("p",{className:"mt-1 h-4 text-xs text-red-500",children:H})]}),!Z&&(0,uw.jsx)("div",{className:"absolute right-0 top-0",children:(0,uw.jsx)(TK,{type:kK.PRO})})]})})]})]}),(0,uw.jsx)(zB,{isModalOpen:K,closeModal:ge,showX:!0,children:(0,uw.jsxs)("div",{className:"w-full max-w-4xl",children:[(0,uw.jsx)("h3",{className:"text-4xl font-semibold text-gray-900",children:"Add media"}),(0,uw.jsxs)("div",{className:"mb-4 mt-2 inline-flex items-center justify-center text-lg text-gray-700",children:[(0,uw.jsx)("span",{className:"hidden sm:mr-2 sm:inline-flex",children:(0,uw.jsx)(TK,{type:kK.BETA,size:wK.LARGE})}),(0,uw.jsx)("span",{children:"Upload an image or video, and our AI will seamlessly edit and incorporate it into your custom video."})]}),(0,uw.jsx)(JZ,{searchFilter:b6,isShowingUploadBanner:!0,isShowingOptions:!1,isShowingFileSizes:!1,audioPreviewIconMode:"never",onClickStorageFile:ye,onUploadComplete:be})]})})]})]})},E6=function(){var e=jD(),r=l6(),n=r.template,i=r.script,a=r.setScript,o=r.outputLanguageCode,s=r.setCurrentInitializerPageName,u=r.displayableVoice,c=r.setDisplayableVoice,l=r.voiceVolume,d=r.setVoiceVolume,f=k((0,t.useState)(""),2),h=f[0],p=f[1],v=k((0,t.useState)(o),2),g=v[0],m=v[1],y=(0,t.useCallback)((function(){try{if(!i)throw p("Please write a script."),Sn.ErrorH.newHiddenError("Script cannot be empty.");Mx("continue_to_settings",{script:i,displayableVoice:u,voiceVolume:l}),s(Z4.SETTINGS)}catch(t){e(UM.handleError(t))}}),[e,i,s,u,l]);return(0,t.useEffect)((function(){i&&p("")}),[i]),(0,t.useEffect)((function(){var e=Sn.ArrayH.arrGetFirstOrOmit(Z$(g));null!=e&&c(e)}),[g,o,c]),(0,uw.jsxs)(J4,{isShowingContinueButton:!0,onClickContinueButton:y,continueButtonText:"Continue",templateForTag:n,children:[(0,uw.jsxs)("div",{children:[(0,uw.jsx)("h3",{className:"text-4xl font-semibold text-gray-900",children:"Edit your script"}),(0,uw.jsx)("p",{className:"mt-2 text-lg text-gray-700",children:"Write or paste your script here and choose an AI narrator to read it."})]}),(0,uw.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,uw.jsx)(cG,{text:i,onChangeText:a,minRows:6,scriptWarning:h,autoFocus:!0}),(0,uw.jsxs)("div",{children:[(0,uw.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"AI Narrator"}),(0,uw.jsxs)("div",{className:"mt-1 items-center xl:inline-flex xl:space-x-1",children:[(0,uw.jsx)("p",{className:"text-sm text-gray-500",children:"Explore the world's most advanced AI voices to narrate your script in any language or accent!"}),(0,uw.jsxs)("div",{className:"inline-flex flex-col text-sm text-gray-500 sm:flex-row",children:[(0,uw.jsx)("p",{children:"Want to clone your own voice?\xa0"}),(0,uw.jsxs)(aG,{to:pJ,target:"_blank",className:"mx-auto inline-flex items-center justify-center space-x-1 text-center font-medium text-gray-900 hover:underline",children:[(0,uw.jsx)("span",{children:"Request Enterprise Access"}),(0,uw.jsx)(hJ,{className:"h-4 w-4"})]})]})]}),(0,uw.jsx)($$,{displayableVoice:u,setDisplayableVoice:c,voiceVolume:l,languageCodeFilter:g,setLanguageCodeFilter:m,setVoiceVolume:d,isShowingVoiceVolumeSlider:!1})]})]})]})},x6=function(){var e=jD(),r=aF(),n=MD(aw.selectPrivateWorkspaceInfo),i=l6(),a=i.template,o=i.script,s=i.displayableVoice,u=i.voiceVolume,c=i.aspectRatio,l=i.setAspectRatio,d=i.sceneWordLengthThreshold,f=i.setSceneWordLengthThreshold,h=i.useGetty,p=i.setUseGetty,v=i.useCartoon,g=i.setUseCartoon,m=i.inputStorageFileLocators,y=k((0,t.useState)(!1),2),b=y[0],S=y[1],E=(0,t.useCallback)(Ot(Pt().mark((function t(){var i,a,l,f;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(!0),t.prev=1,i=Sn.GeneratorH.getDefaultGenerator({groupIdentifierNumberRecord:n.groupIdentifierNumberRecord,workspaceCreationSse:n.creationSecondsSinceEpoch}),a=ze(ze({},i),{},{block:ze(ze({},i.block),{},{draftText:o}),voice:{ttsVoice:s.ttsVoice,volume:u,pronunciationReplacements:[]},background:{config:{assetMode:Sn.GeneratorT.AssetMode.AUTOMATIC,sceneWordLengthThreshold:d,useGetty:h,useCartoon:v}},inputStorageFileLocators:m}),t.next=6,e(WN.createProject({generator:a,aspectRatio:c})).unwrap();case 6:l=t.sent,f=l.newProject,e(WN.generateProject({projectOverride:f})),r({pathname:"/project/".concat(f.metadata.projectId)},{replace:!0}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),e(UM.handleError(t.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to generate project.")}));case 15:S(!1);case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),[e,s.ttsVoice,u,o,r,c,n.creationSecondsSinceEpoch,n.groupIdentifierNumberRecord,d,h,v,m]);return(0,uw.jsxs)(J4,{isShowingContinueButton:!0,onClickContinueButton:E,continueButtonText:"Generate video",isContinueButtonLoading:b,templateForTag:a,children:[(0,uw.jsx)("div",{className:"mb-4",children:(0,uw.jsx)("h3",{className:"text-4xl font-semibold text-gray-900",children:"Generate your video"})}),(0,uw.jsx)(mJ,{aspectRatio:c,setAspectRatio:l,sceneWordLengthThreshold:d,setSceneWordLengthThreshold:f,useGetty:h,setUseGetty:p,useCartoon:v,setUseCartoon:g})]})},w6=function(){var e=aF(),r=l6(),n=r.currentInitializerPageName,i=r.setCurrentInitializerPageName,a=(0,t.useCallback)((function(){switch(n){case Z4.TEMPLATES:e({pathname:"/"});break;case Z4.PROMPT:i(Z4.TEMPLATES);break;case Z4.SCRIPT:i(Z4.PROMPT);break;case Z4.SETTINGS:i(Z4.SCRIPT);break;default:return Sn.ErrorH.assertNever(n)}}),[e,n,i]);return(0,uw.jsxs)("div",{className:"fixed h-screen w-screen",children:[(0,uw.jsx)("div",{className:"fixed right-4 top-3 z-20 flex items-center space-x-4 sm:right-6 md:ml-6",children:(0,uw.jsx)(G1,{})}),(0,uw.jsx)("button",{className:"fixed left-4 top-3 z-20 rounded-lg bg-gray-100 p-2 ring-4 ring-white transition-all hover:bg-gray-200 sm:left-6",onClick:a,children:(0,uw.jsx)(Y4,{className:"h-5 w-5 text-gray-700"})}),(0,uw.jsx)("div",{className:"h-full w-full overflow-auto",children:(0,uw.jsx)("div",{className:"mx-auto max-w-6xl",children:function(){switch(n){case Z4.TEMPLATES:return(0,uw.jsx)(d6,{});case Z4.PROMPT:return(0,uw.jsx)(S6,{});case Z4.SCRIPT:return(0,uw.jsx)(E6,{});case Z4.SETTINGS:return(0,uw.jsx)(x6,{});default:return Sn.ErrorH.assertNever(n)}}()})})]})},k6=function(){var e=jD(),r=aF(),n=MD(aw.selectPrivateWorkspaceInfo);return(0,t.useEffect)((function(){e(ZN.resetProjectState())}),[e]),rF(["browserExtensionGenerator"],(function(t){var i=t.browserExtensionGenerator;if(null!=i){var a=function(){var t=Ot(Pt().mark((function t(){var a,o,s;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=Sn.ExtensionH.browserExtensionGeneratorToGenerator({browserExtensionGenerator:Sn.ExtensionT.castAsBrowserExtensionGenerator(JSON.parse(i)),groupIdentifierNumberRecord:n.groupIdentifierNumberRecord,workspaceCreationSse:n.creationSecondsSinceEpoch}),t.next=4,e(WN.createProject({generator:a,aspectRatio:Yx()(Sn.ProjectC.LANDSCAPE_ASPECT_RATIO)})).unwrap();case 4:o=t.sent,s=o.newProject,r({pathname:"/project/".concat(s.metadata.projectId)},{replace:!0}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),r({pathname:"/"}),e(UM.handleError(t.t0,{defaultErr:Sn.ErrorH.newWarningError("Failed to create a new project. You may need to update to the latest version of the VideoGen browser extension.",{rawData:{browserExtensionGenerator:i}})}));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();a()}})),(0,uw.jsx)(c6,{children:(0,uw.jsx)(w6,{})})},_6=function(e){var t=e.value,r=e.onNewValue,n=e.className,i=e.placeholder,a=e.required,o=e.autoComplete;return(0,uw.jsx)("input",{type:"number",inputMode:"numeric",value:Sn.TypeT.isNumber(t)?"".concat(t):"",required:null!==a&&void 0!==a&&a,onChange:function(e){r(e.target.valueAsNumber)},onWheel:function(e){e.currentTarget.blur()},autoComplete:o,className:Dn("text-md block w-full rounded-md border-gray-200 text-gray-900 placeholder:text-gray-400 hover:border-gray-300 focus:border-gray-700 focus:ring-1 focus:ring-inset focus:ring-gray-700",null!==n&&void 0!==n?n:""),placeholder:i})},T6=function(e){var r=e.value,n=e.className,i=(0,t.useMemo)((function(){return JSON.stringify(r,null,2)}),[r]);return(0,uw.jsx)("div",{className:n,children:(0,uw.jsx)("pre",{children:i})})},A6=[{executeLocally:!0,callToAction:"Execute action locally"},{executeLocally:!1,callToAction:"Execute action on prod"}],C6=function(e){var r=e.currentModalActionInput,n=e.setCurrentModalActionInput,i=e.currentExecutingActionType,a=e.setCurrentExecutingActionType,o=e.isModalOpen,s=e.setIsModalOpen,c=jD(),l=k((0,t.useState)(Math.floor(10*Math.random())),2),d=l[0],f=l[1],h=k((0,t.useState)(""),2),p=h[0],v=h[1],g=k((0,t.useState)(Array(10).fill(!1)),2),m=g[0],y=g[1],b=k((0,t.useState)(null),2),S=b[0],E=b[1],x=k((0,t.useState)(!1),2),w=(x[0],x[1],(0,t.useMemo)((function(){return!!r&&Sn.AdminH.isAdminActionTypeDangerous(r.type)}),[r])),_=(0,t.useMemo)((function(){return null==r?"":Sn.StringH.capitalizeStr(r.type)}),[r]),T=(0,t.useMemo)((function(){return!!p&&null==i&&(!w||m.every((function(e,t){return e===(t!==d)})))}),[p,m,w,d,i]);(0,t.useEffect)((function(){f(Math.floor(10*Math.random())),v(""),y(Array(10).fill(!1)),E(null)}),[null===r||void 0===r?void 0:r.type]);var A=(0,t.useCallback)((function(){s(!1)}),[s]),C=(0,t.useCallback)((function(e){var t=e.executeLocally;return Ot(Pt().mark((function e(){var n,i,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a(null!==(n=null===r||void 0===r?void 0:r.type)&&void 0!==n?n:null),E(null),e.prev=2,null!=r){e.next=5;break}throw Sn.ErrorH.newFatalError("Failed to get admin action input.");case 5:if(T){e.next=7;break}throw Sn.ErrorH.newFatalError("This admin action is not ready to be executed.");case 7:return e.next=9,Xw({dispatch:c});case 9:return i=e.sent,e.next=12,Sn.ApiAdminE.InitiateAdminAction.call(i,{adminActionInput:r,executeLocally:t},{adminSecret:p});case 12:o=e.sent,s=o.resData,E(s),console.log(s),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),c(UM.handleError(e.t0));case 21:a(null);case 22:case"end":return e.stop()}}),e,null,[[2,18]])})))}),[c,p,T,a,r]),P=(0,t.useCallback)((function(e){return function(t){if(null!=r){var i=Sn.TypeT.isString(t)||Sn.TypeT.isNumber(t)?t:0;n(Sn.AdminT.castAsAdminActionInput(ze(ze({},r),{},{args:ze(ze({},r.args),{},We({},e,i))})))}}}),[r,n]),I=(0,t.useMemo)((function(){if(null==r)return null;var e=r.args;return Sn.TypeT.getArrayWithoutOmissions(Object.entries(e).filter((function(e){var t=k(e,2),r=t[0];t[1];return"type"!==r})).map((function(e){var t=k(e,2),r=t[0],n=t[1];return Sn.TypeT.isString(n)?(0,uw.jsxs)("div",{children:[(0,uw.jsx)("label",{className:"text-sm text-gray-500",children:r}),(0,uw.jsx)(g1,{type:"text",value:n,onNewValue:P(r)})]},r):Sn.TypeT.isNumber(n)?(0,uw.jsxs)("div",{children:[(0,uw.jsx)("label",{className:"text-sm text-gray-500",children:r}),(0,uw.jsx)(_6,{value:n,onNewValue:P(r)})]},r):void 0})))}),[r,P]);return(0,uw.jsx)(zB,{isModalOpen:o,closeModal:A,showX:!1,children:(0,uw.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,uw.jsxs)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:["Are you sure you want to"," ",w?(0,uw.jsx)("span",{className:"font-bold text-yellow-600",children:"dangerously"}):""," ",'execute the "',(0,uw.jsx)("i",{children:_}),'" admin action?']}),(0,uw.jsxs)("div",{children:[(0,uw.jsx)("label",{className:"text-sm text-gray-500",children:"Admin Secret"}),(0,uw.jsx)(g1,{type:"password",value:p,onNewValue:v})]}),(0,uw.jsx)("div",{className:"flex flex-col gap-4",children:I}),w&&(0,uw.jsxs)("div",{className:"flex flex-col gap-2 rounded-lg bg-yellow-100 p-3 text-yellow-600",children:[(0,uw.jsxs)("div",{className:"flex items-center",children:[(0,uw.jsx)(t3,{className:"mr-2 h-5 w-5"}),(0,uw.jsx)("h3",{className:"text-lg font-bold",children:"Important Warning!"})]}),(0,uw.jsxs)("p",{children:["This action will make severe, irreversible changes to the production VideoGen database. To make sure that these changes align with the current production deployment, make sure you are on the latest production branch, which is"," ",(0,uw.jsx)("code",{children:"prod/n"})," for the largest ",(0,uw.jsx)("code",{children:"n"})," of all branches in the form"," ",(0,uw.jsx)("code",{children:"prod/*"}),"."]}),(0,uw.jsxs)("p",{children:["By checking the boxes at all indices except ",d,", you confirm that you understand the risk and still wish to execute this action."]}),(0,uw.jsx)("div",{className:"mt-2 flex justify-center gap-2",children:Array(10).fill(null).map((function(e,t){return(0,uw.jsx)("input",{checked:m[t],onChange:function(){!function(e){y((function(t){var r=u(t);return r[e]=!t[e],r}))}(t)},type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-yellow-600 focus:ring-yellow-600"},t)}))})]}),(0,uw.jsxs)("div",{children:[(0,uw.jsx)("label",{className:"text-sm text-gray-500",children:"Raw admin action input"}),(0,uw.jsx)(T6,{className:"overflow-x-auto overflow-y-hidden rounded-lg bg-gray-200 p-3 text-sm",value:r})]}),null!=S&&(0,uw.jsxs)("div",{children:[(0,uw.jsx)("label",{className:"text-sm text-gray-500",children:"Output"}),(0,uw.jsx)(T6,{className:"overflow-x-auto overflow-y-hidden rounded-lg bg-gray-200 p-3 text-sm",value:S})]}),(0,uw.jsxs)("div",{className:"flex gap-3",children:[A6.map((function(e,t){var r=e.executeLocally,n=e.callToAction;return(0,uw.jsx)("button",{type:"button",disabled:!T,className:Dn("inline-flex w-full justify-center rounded-md border border-transparent px-4 py-2 text-base font-medium text-white shadow-sm focus:outline-none focus:ring-0 sm:w-auto sm:text-sm",T?"bg-red-600 hover:bg-red-700":"bg-gray-500"),onClick:C({executeLocally:r}),children:n},t)})),(0,uw.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-0 sm:mt-0 sm:w-auto sm:text-sm",onClick:A,children:"Cancel"})]})]})})},P6=function(e){var r=e.defaultAdminActionInput,n=e.setCurrentModalActionInput,i=e.setIsModalOpen,a=(0,t.useMemo)((function(){return Sn.AdminH.isAdminActionTypeDangerous(r.type)}),[r.type]),o=(0,t.useMemo)((function(){return Sn.StringH.capitalizeStr(r.type)}),[r.type]);return(0,uw.jsxs)("button",{className:Dn("flex h-10 items-center justify-center rounded-lg px-3",a?"bg-yellow-600 hover:bg-yellow-700":"bg-gray-300 hover:bg-gray-400"),onClick:function(){n(r),i(!0)},children:[a&&(0,uw.jsx)(t3,{className:"mr-2 h-5 w-5"}),o]})},I6=[{type:Sn.AdminT.AdminActionType.CAST_FIRESTORE_COLLECTION,args:{type:Sn.AdminT.AdminActionArgsType.FIRESTORE_COLLECTION,collectionName:"",baseCollectionLimit:0}},{type:Sn.AdminT.AdminActionType.CAST_AND_UPDATE_FIRESTORE_COLLECTION,args:{type:Sn.AdminT.AdminActionArgsType.FIRESTORE_COLLECTION,collectionName:"",baseCollectionLimit:0}},{type:Sn.AdminT.AdminActionType.DELETE_ACCOUNT,args:{type:Sn.AdminT.AdminActionArgsType.ACCOUNT_IDENTIFICATION,workspaceId:"",email:""}},{type:Sn.AdminT.AdminActionType.REFILL_CREDITS_IN_ALL_FREE_WORKSPACE_INFOS,args:{type:Sn.AdminT.AdminActionArgsType.NONE}},{type:Sn.AdminT.AdminActionType.CREATE_FREE_ACCESS_CODE_BATCH,args:{type:Sn.AdminT.AdminActionArgsType.FREE_ACCESS_CODE_BATCH,numFreeAccessCodes:0,freeAccessCodeType:"",freeAccessCodeSource:""}},{type:Sn.AdminT.AdminActionType.GET_SEND_GRID_FIELD_DEFINITIONS,args:{type:Sn.AdminT.AdminActionArgsType.NONE}},{type:Sn.AdminT.AdminActionType.GET_ALL_ADMIN_USERS,args:{type:Sn.AdminT.AdminActionArgsType.NONE}},{type:Sn.AdminT.AdminActionType.GET_ALL_SCRIPT_TEXTS,args:{type:Sn.AdminT.AdminActionArgsType.NONE}},{type:Sn.AdminT.AdminActionType.GENERATE_LIBRARY_INPUT_FILE_RANGE,args:{type:Sn.AdminT.AdminActionArgsType.LIBRARY_INPUT_FILE_RANGE,startIndex:0,endIndex:0}},{type:Sn.AdminT.AdminActionType.UPSERT_LIBRARY_INPUT_FILE_RANGE,args:{type:Sn.AdminT.AdminActionArgsType.LIBRARY_INPUT_FILE_RANGE,startIndex:0,endIndex:0}},{type:Sn.AdminT.AdminActionType.COMPILE_GETTY_ASSET_USAGES,args:{type:Sn.AdminT.AdminActionArgsType.NONE}},{type:Sn.AdminT.AdminActionType.UPDATE_GETTY_ASSETS,args:{type:Sn.AdminT.AdminActionArgsType.NONE}}],O6=function(){var e=k((0,t.useState)(!1),2),r=e[0],n=e[1],i=k((0,t.useState)(null),2),a=i[0],o=i[1],s=k((0,t.useState)(null),2),u=s[0],c=s[1];return(0,uw.jsxs)("div",{className:"my-6 flex h-full w-full flex-col items-center gap-4",children:[null==u?I6.map((function(e,t){return(0,uw.jsx)(P6,{defaultAdminActionInput:e,setCurrentModalActionInput:o,setIsModalOpen:n},t)})):(0,uw.jsxs)("div",{className:"max-w-lg rounded-lg bg-yellow-100 p-3 text-yellow-600",children:[(0,uw.jsxs)("div",{className:"flex items-center",children:[(0,uw.jsx)(t3,{className:"mr-2 h-5 w-5"}),(0,uw.jsx)("h3",{className:"text-lg font-bold",children:"Live Admin Action!"})]}),(0,uw.jsxs)("p",{children:['The "',(0,uw.jsx)("i",{children:Sn.StringH.capitalizeStr(u)}),'" admin action is currently being executed, so no other admin actions can be executed at this time.']})]}),(0,uw.jsx)(C6,{currentModalActionInput:a,setCurrentModalActionInput:o,currentExecutingActionType:u,setCurrentExecutingActionType:c,isModalOpen:r,setIsModalOpen:n})]})},R6=function(){var e=k((0,t.useState)(!1),2),r=e[0],n=e[1];return(0,uw.jsxs)("div",{className:"fixed flex h-screen w-screen flex-col items-center overflow-hidden overflow-y-auto px-4",children:[(0,uw.jsxs)("h1",{className:"py-6 text-2xl text-black",children:[(0,uw.jsx)("b",{children:"VideoGen"})," Local Admin Panel"]}),(0,uw.jsxs)("div",{className:"flex max-w-lg flex-col gap-2 rounded-lg bg-yellow-100 p-3 text-yellow-600",children:[(0,uw.jsxs)("div",{className:"flex items-center",children:[(0,uw.jsx)(t3,{className:"mr-2 h-5 w-5"}),(0,uw.jsx)("h3",{className:"text-lg font-bold",children:"Important Warning!"})]}),(0,uw.jsx)("p",{children:"Admin actions have the ability to make severe, irreversible changes to the production VideoGen database."}),(0,uw.jsx)("p",{children:"By checking the following box, you confirm that you understand the risk and still wish to proceed."}),(0,uw.jsx)("div",{className:"mt-2 flex justify-center gap-2",children:(0,uw.jsx)("input",{checked:r,onChange:function(){n((function(e){return!e}))},type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-yellow-600 focus:ring-yellow-600"})})]}),r&&(0,uw.jsx)(O6,{})]})},N6=function(){var e=jD(),r=k((0,t.useState)(Sn.LoadingT.LoadingState.UNATTEMPTED),2),n=r[0],i=r[1],a=(0,t.useRef)(!1);return rF(["command"],(function(t){var r=t.command,n=function(){var t=Ot(Pt().mark((function t(){var n;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.current){t.next=2;break}return t.abrupt("return");case 2:if(a.current=!0,i(Sn.LoadingT.LoadingState.LOADING),t.prev=4,null!=r){t.next=7;break}throw Sn.ErrorH.newFatalError("No local tester command provided.");case 7:return t.next=9,Xw({dispatch:e});case 9:return n=t.sent,t.next=12,Sn.ApiLocalTestE.ExecuteLocalTesterCommand.call(n,{localTesterCommand:Sn.LocalTestT.castAsLocalTesterCommand(JSON.parse(r))});case 12:i(Sn.LoadingT.LoadingState.FULFILLED),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(4),e(UM.handleError(t.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to execute local tester command.")})),i(Sn.LoadingT.LoadingState.REJECTED);case 19:case"end":return t.stop()}}),t,null,[[4,15]])})));return function(){return t.apply(this,arguments)}}();n()})),(0,uw.jsx)("p",{"data-cy":"execute-local-tester-command-loading-state-text",children:n})},L6=function(){return(0,uw.jsx)(L4,{currentPage:g5.AI_ARTIST})},j6=["title","titleId"];var M6=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,j6);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M5.25 2.25a3 3 0 0 0-3 3v4.318a3 3 0 0 0 .879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 0 0 5.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 0 0-2.122-.879H5.25ZM6.375 7.5a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z",clipRule:"evenodd"}))})),D6=["title","titleId"];var F6=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,D6);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))})),U6=["id","passive"],B6=(0,t.createContext)(null);function G6(){var e=(0,t.useContext)(B6);if(null===e){var r=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,G6),r}return e}function V6(){var e=k((0,t.useState)([]),2),r=e[0],n=e[1];return[r.length>0?r.join(" "):void 0,(0,t.useMemo)((function(){return function(e){var r=pF((function(e){return n((function(t){return[].concat(u(t),[e])})),function(){return n((function(t){var r=t.slice(),n=r.indexOf(e);return-1!==n&&r.splice(n,1),r}))}})),i=(0,t.useMemo)((function(){return{register:r,slot:e.slot,name:e.name,props:e.props}}),[r,e.slot,e.name,e.props]);return t.createElement(B6.Provider,{value:i},e.children)}}),[n])]}var H6,W6=BF((function(e,t){var r=uB(),n=e.id,i=void 0===n?"headlessui-label-".concat(r):n,a=e.passive,o=void 0!==a&&a,s=He(e,U6),u=G6(),c=SF(t);fF((function(){return u.register(i)}),[i,u.register]);var l=ze(ze({ref:c},u.props),{},{id:i});return o&&("onClick"in l&&(delete l.htmlFor,delete l.onClick),"onClick"in s&&delete s.onClick),jF({ourProps:l,theirProps:s,slot:u.slot||{},defaultTag:"label",name:u.name||"Label"})})),q6=Object.assign(W6,{}),z6=["id","value","defaultValue","form","name","onChange","by","disabled"],Y6=["id","value","disabled"],X6=function(e){return e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e}(X6||{}),K6=(We(H6={},0,(function(e,t){var r=[].concat(u(e.options),[{id:t.id,element:t.element,propsRef:t.propsRef}]);return ze(ze({},e),{},{options:CU(r,(function(e){return e.element.current}))})})),We(H6,1,(function(e,t){var r=e.options.slice(),n=e.options.findIndex((function(e){return e.id===t.id}));return-1===n?e:(r.splice(n,1),ze(ze({},e),{},{options:r}))})),H6),J6=(0,t.createContext)(null);function Z6(e){var r=(0,t.useContext)(J6);if(null===r){var n=new Error("<".concat(e," /> is missing a parent <RadioGroup /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,Z6),n}return r}J6.displayName="RadioGroupDataContext";var Q6=(0,t.createContext)(null);function $6(e){var r=(0,t.useContext)(Q6);if(null===r){var n=new Error("<".concat(e," /> is missing a parent <RadioGroup /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,$6),n}return r}function e7(e,t){return EF(t.type,K6,e,t)}Q6.displayName="RadioGroupActionsContext";var t7=function(e){return e[e.Empty=1]="Empty",e[e.Active=2]="Active",e}(t7||{});var r7,n7=BF((function(e,r){var n=uB(),i=e.id,a=void 0===i?"headlessui-radiogroup-".concat(n):i,o=e.value,s=e.defaultValue,u=e.form,c=e.name,l=e.onChange,d=e.by,f=void 0===d?function(e,t){return e===t}:d,h=e.disabled,p=void 0!==h&&h,v=He(e,z6),g=pF("string"==typeof f?function(e,t){var r=f;return(null==e?void 0:e[r])===(null==t?void 0:t[r])}:f),m=k((0,t.useReducer)(e7,{options:[]}),2),y=m[0],b=m[1],S=y.options,E=k(V6(),2),x=E[0],w=E[1],_=k(xB(),2),A=_[0],C=_[1],P=(0,t.useRef)(null),I=SF(P,r),O=k($Q(o,l,s),2),R=O[0],N=O[1],L=(0,t.useMemo)((function(){return S.find((function(e){return!e.propsRef.current.disabled}))}),[S]),j=(0,t.useMemo)((function(){return S.some((function(e){return g(e.propsRef.current.value,R)}))}),[S,R]),M=pF((function(e){var t;if(p||g(e,R))return!1;var r=null==(t=S.find((function(t){return g(t.propsRef.current.value,e)})))?void 0:t.propsRef.current;return(null==r||!r.disabled)&&(null==N||N(e),!0)}));jK({container:P.current,accept:function(e){return"radio"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}});var D=pF((function(e){var t=P.current;if(t){var r=sU(t),n=S.filter((function(e){return!1===e.propsRef.current.disabled})).map((function(e){return e.element.current}));switch(e.key){case _B.Enter:!function(e){var t,r,n=null!=(t=null==e?void 0:e.form)?t:e.closest("form");if(n){var i,a=T(n.elements);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(o!==e&&("INPUT"===o.tagName&&"submit"===o.type||"BUTTON"===o.tagName&&"submit"===o.type||"INPUT"===o.nodeName&&"image"===o.type))return void o.click()}}catch(s){a.e(s)}finally{a.f()}null==(r=n.requestSubmit)||r.call(n)}}(e.currentTarget);break;case _B.ArrowLeft:case _B.ArrowUp:if(e.preventDefault(),e.stopPropagation(),PU(n,yU.Previous|yU.WrapAround)===bU.Success){var i=S.find((function(e){return e.element.current===(null==r?void 0:r.activeElement)}));i&&M(i.propsRef.current.value)}break;case _B.ArrowRight:case _B.ArrowDown:if(e.preventDefault(),e.stopPropagation(),PU(n,yU.Next|yU.WrapAround)===bU.Success){var a=S.find((function(e){return e.element.current===(null==r?void 0:r.activeElement)}));a&&M(a.propsRef.current.value)}break;case _B.Space:e.preventDefault(),e.stopPropagation();var o=S.find((function(e){return e.element.current===(null==r?void 0:r.activeElement)}));o&&M(o.propsRef.current.value)}}})),F=pF((function(e){return b(ze({type:0},e)),function(){return b({type:1,id:e.id})}})),U=(0,t.useMemo)((function(){return ze({value:R,firstOption:L,containsCheckedOption:j,disabled:p,compare:g},y)}),[R,L,j,p,g,y]),B=(0,t.useMemo)((function(){return{registerOption:F,change:M}}),[F,M]),G={ref:I,id:a,role:"radiogroup","aria-labelledby":x,"aria-describedby":A,onKeyDown:D},V=(0,t.useMemo)((function(){return{value:R}}),[R]),H=(0,t.useRef)(null),W=uF();return(0,t.useEffect)((function(){H.current&&void 0!==s&&W.addEventListener(H.current,"reset",(function(){M(s)}))}),[H,M]),t.createElement(C,{name:"RadioGroup.Description"},t.createElement(w,{name:"RadioGroup.Label"},t.createElement(Q6.Provider,{value:B},t.createElement(J6.Provider,{value:U},null!=c&&null!=R&&e$(We({},c,R)).map((function(e,r){var n=k(e,2),i=n[0],a=n[1];return t.createElement(vU,ze({features:pU.Hidden,ref:0===r?function(e){var t;H.current=null!=(t=null==e?void 0:e.closest("form"))?t:null}:void 0},GF({key:i,as:"input",type:"radio",checked:null!=a,hidden:!0,readOnly:!0,form:u,name:i,value:a})))})),jF({ourProps:G,theirProps:v,slot:V,defaultTag:"div",name:"RadioGroup"})))))})),i7=BF((function(e,r){var n,i=uB(),a=e.id,o=void 0===a?"headlessui-radiogroup-option-".concat(i):a,s=e.value,u=e.disabled,c=void 0!==u&&u,l=He(e,Y6),d=(0,t.useRef)(null),f=SF(d,r),h=k(V6(),2),p=h[0],v=h[1],g=k(xB(),2),m=g[0],y=g[1],b=gF(1),S=b.addFlag,E=b.removeFlag,x=b.hasFlag,w=hF({value:s,disabled:c}),_=Z6("RadioGroup.Option"),T=$6("RadioGroup.Option");fF((function(){return T.registerOption({id:o,element:d,propsRef:w})}),[o,T,d,w]);var A=pF((function(e){var t;if(yB(e.currentTarget))return e.preventDefault();T.change(s)&&(S(2),null==(t=d.current)||t.focus())})),C=pF((function(e){if(yB(e.currentTarget))return e.preventDefault();S(2)})),P=pF((function(){return E(2)})),I=(null==(n=_.firstOption)?void 0:n.id)===o,O=_.disabled||c,R=_.compare(_.value,s),N={ref:f,id:o,role:"radio","aria-checked":R?"true":"false","aria-labelledby":p,"aria-describedby":m,"aria-disabled":!!O||void 0,tabIndex:O?-1:R||!_.containsCheckedOption&&I?0:-1,onClick:O?void 0:A,onFocus:O?void 0:C,onBlur:O?void 0:P},L=(0,t.useMemo)((function(){return{checked:R,disabled:O,active:x(2)}}),[R,O,x]);return t.createElement(y,{name:"RadioGroup.Description"},t.createElement(v,{name:"RadioGroup.Label"},jF({ourProps:N,theirProps:l,slot:L,defaultTag:"div",name:"RadioGroup.Option"})))})),a7=Object.assign(n7,{Option:i7,Label:q6,Description:kB}),o7=function(e){var t=e.subscriptionFeatures;return(0,uw.jsx)("div",{className:"flex flex-1 flex-col",children:(0,uw.jsx)(SK.ul,{role:"list",className:"mb-auto space-y-3",children:t.map((function(e,t){return(0,uw.jsx)(SK.li,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2+.1*t},className:"w-full",children:(0,uw.jsx)("span",{className:"whitespace-pre-wrap text-base font-normal leading-6 text-gray-900",children:e})},t)}))})})},s7=function(e){var t,r=e.subscriptionType,n=e.stripeCurrency,i=e.workspaceCreationSse,a=e.workspaceStripeInvoiceSummaries,o=(e.currentUserSubscriptionType,e.groupIdentifierNumberRecord),s=(e.isSimplified,Sn.WorkspaceH.getSubscriptionTypeMaxUsageCredits({subscriptionType:r,workspaceCreationSse:i,workspaceStripeInvoiceSummaries:a,groupIdentifierNumberRecord:o})),u=Sn.WorkspaceH.subscriptionTypeToWorkspaceAuthLevel(r),c=Sn.WorkspaceH.getWorkspaceAuthLevelUsageLimits(u),l=(Sn.WorkspaceH.getWorkspaceAuthLevelUsageLimits(u).totalStorageBytes,[]),d=W3({numChars:s.aiCredits/Sn.WorkspaceC.AI_CREDITS_PER_TTS_CHAR,floorToDurationOption:!1}),f=W3({numChars:c.numCharsPerScript,floorToDurationOption:!1}).replace(/s$/,"");switch(l.push((0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)("span",{className:"font-semibold",children:d})," of video per month",(0,uw.jsx)("br",{}),(0,uw.jsxs)("span",{className:"h-0 text-sm text-gray-500",children:["(",Sn.StringH.formatNumber(s.aiCredits)," AI credits)"]})]}),(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)("span",{className:"font-semibold",children:f})," max video length",(0,uw.jsx)("br",{}),(0,uw.jsxs)("span",{className:"h-0 text-sm text-gray-500",children:["(",Sn.StringH.formatNumber(c.numCharsPerScript)," character max script length)"]})]})),r){case Sn.PaymentT.SubscriptionType.STARTER:break;case Sn.PaymentT.SubscriptionType.PRO:l.push((0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsxs)("span",{children:[(0,uw.jsx)("span",{className:"font-semibold",children:"Pro"}),"\xa0templates"]}),(0,uw.jsx)("br",{}),(0,uw.jsx)("span",{className:"h-0 text-sm text-gray-500",children:"General, versatile templates"})]}),(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)("span",{className:"font-semibold",children:"Unlimited"}),"\xa0",(0,uw.jsx)("span",{children:"downloads, uploads, and brands"})]}));break;case Sn.PaymentT.SubscriptionType.SCALE:l.push((0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsxs)("span",{children:[(0,uw.jsx)("span",{className:"font-semibold",children:"Pro + Scale"}),"\xa0templates"]}),(0,uw.jsx)("br",{}),(0,uw.jsx)("span",{className:"h-0 text-sm text-gray-500",children:"General and more specialized"})]}),(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)("span",{className:"font-semibold",children:"Unlimited"}),"\xa0",(0,uw.jsx)("span",{children:"downloads, uploads, and brands"})]}));break;case Sn.PaymentT.SubscriptionType.BUSINESS:l.push((0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)("span",{className:"font-semibold",children:"Text-to-Video API"})," access"]}),(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsxs)("span",{className:"font-semibold",children:[s.gettyAssetDownloads," Getty Images\xae"]}),"\xa0",(0,uw.jsx)("span",{children:"videos per month\xa0"}),(0,uw.jsxs)("span",{className:"block w-fit items-center rounded-md bg-green-200 px-1 py-[1px] text-xs font-semibold text-green-700",children:["usd"===n?"":"USD ",(t=s.gettyAssetDownloads,Sn.StringH.formatNumberInCurrency({num:48*t,currency:"usd"}))," value"]})]}),(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsxs)("span",{children:[(0,uw.jsx)("span",{className:"font-semibold",children:"Pro + Scale + Business"}),"\xa0templates"]}),(0,uw.jsx)("br",{}),(0,uw.jsx)("span",{className:"h-0 text-sm text-gray-500",children:"General, specialized, and industry-specific"})]}),(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)("span",{className:"font-semibold",children:"Unlimited"}),"\xa0",(0,uw.jsx)("span",{children:"downloads, uploads, and brands"})]}));break;case Sn.PaymentT.SubscriptionType.ENTERPRISE_TIER_1:case Sn.PaymentT.SubscriptionType.ENTERPRISE_TIER_2:case Sn.PaymentT.SubscriptionType.ENTERPRISE_TIER_3:case Sn.PaymentT.SubscriptionType.ENTERPRISE_TIER_4:case Sn.PaymentT.SubscriptionType.ENTERPRISE_TIER_5:case Sn.PaymentT.SubscriptionType.ENTERPRISE_TIER_6:case Sn.PaymentT.SubscriptionType.ENTERPRISE_TIER_7:case Sn.PaymentT.SubscriptionType.ENTERPRISE_TIER_8:return[];default:return Sn.ErrorH.assertNever(r)}return l},u7="https://js.stripe.com/v3",c7=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,l7="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",d7=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(u7).concat(t);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(r),r},f7=null,h7=null,p7=null,v7=function(e){return null!==f7?f7:(f7=new Promise((function(t,r){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(l7),window.Stripe)t(window.Stripe);else try{var n=function(){for(var e=document.querySelectorAll('script[src^="'.concat(u7,'"]')),t=0;t<e.length;t++){var r=e[t];if(c7.test(r.src))return r}return null}();if(n&&e)console.warn(l7);else if(n){if(n&&null!==p7&&null!==h7){var i;n.removeEventListener("load",p7),n.removeEventListener("error",h7),null===(i=n.parentNode)||void 0===i||i.removeChild(n),n=d7(e)}}else n=d7(e);p7=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,r),h7=function(e){return function(){e(new Error("Failed to load Stripe.js"))}}(r),n.addEventListener("load",p7),n.addEventListener("error",h7)}catch(a){return void r(a)}else t(null)})),f7.catch((function(e){return f7=null,Promise.reject(e)})))},g7=!1,m7=function(){return r7||(r7=v7(null).catch((function(e){return r7=null,Promise.reject(e)})))};Promise.resolve().then((function(){return m7()})).catch((function(e){g7||console.warn(e)}));var y7=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];g7=!0;var n=Date.now();return m7().then((function(e){return function(e,t,r){if(null===e)return null;var n=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"4.4.0",startTime:t})}(n,r),n}(e,t,n)}))},b7=Ox?"pk_test_51MsyxeCL8XHlgtohdryk9S1ujT3Zit9eCMaSlipz4AIKK0ToWKmb8ozoCBN5x7qpR5P8fcricAk1wuod2uRXMa0t00RgkxBbOn":"pk_live_51MsyxeCL8XHlgtoh7Kqjl2DmettykCPYBF7neRAVHk6sUwuF3ergZjga5JThQE8doSUFqGJy4TCWxrZBZNuGWt1R00Wla3xUf8",S7=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=b7){e.next=4;break}e.t0=null,e.next=7;break;case 4:return e.next=6,y7(b7);case 6:e.t0=e.sent;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})))(),E7=function(){var e=Ot(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S7;case 2:if(null!=(t=e.sent)){e.next=5;break}throw Sn.ErrorH.newInternalError("Failed to load Stripe.");case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x7=function(){var e=Ot(Pt().mark((function e(t){var r,n,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.paymentIntentSummary,n=t.paymentIntentClientSecret,i=t.invoiceUrl,e.next=3,E7();case 3:a=e.sent,o=Sn.PaymentH.getManageSubscriptionUrl({env:Ix,invoiceUrl:i}),e.t0=r.stripePaymentIntentStatus,e.next="requires_action"===e.t0?8:"requires_payment_method"===e.t0?15:17;break;case 8:if(null!=n){e.next=12;break}window.open(o,"_blank"),e.next=14;break;case 12:return e.next=14,a.handleNextAction({clientSecret:n});case 14:return e.abrupt("break",17);case 15:return window.open(o,"_blank"),e.abrupt("break",17);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w7=r(14696),k7=function(e){var r=e.checkoutSessionClientSecret,n=e.onCheckoutComplete,i=e.className,a=(0,t.useMemo)((function(){return{clientSecret:r,onComplete:n}}),[r,n]);return(0,uw.jsx)("div",{className:i,children:(0,uw.jsx)(w7.EmbeddedCheckoutProvider,{stripe:S7,options:a,children:(0,uw.jsx)(w7.EmbeddedCheckout,{})})})},_7=function(e){var r=e.checkoutSessionClientSecret,n=e.handleCloseModal,i=e.handleExitEmbeddedCheckout,a=k((0,t.useState)(!1),2),o=a[0],s=a[1],u=(0,t.useCallback)((function(){s(!0)}),[]),c=(0,t.useCallback)((function(){i({isCheckoutComplete:o})}),[i,o]);return(0,uw.jsxs)("div",{className:"relative flex w-[calc(100vw-2rem)] max-w-[62rem] flex-col items-center justify-center gap-5 md:w-[calc(100vw-4rem)]",children:[!o&&(0,uw.jsx)("button",{className:"absolute -top-2 left-0 text-gray-400 hover:text-gray-500 sm:top-0",onClick:c,children:(0,uw.jsx)(Y4,{className:"h-6 w-6"})}),(0,uw.jsx)(k7,{checkoutSessionClientSecret:r,onCheckoutComplete:u,className:"w-full"}),o&&(0,uw.jsx)("button",{onClick:n,className:"rounded-xl bg-red-600 px-4 py-2 text-base font-medium text-white hover:bg-red-700",children:"Continue to VideoGen"})]})},T7=Sn.WebsiteH.getWebsiteUrlForPath(Ix,"/pricing"),A7=[(0,uw.jsx)(uw.Fragment,{children:"Everything in Business"}),(0,uw.jsx)(uw.Fragment,{children:"Custom AI limits"}),(0,uw.jsx)(uw.Fragment,{children:"Priority support"}),(0,uw.jsx)(uw.Fragment,{children:"Experimental features"})],C7=function(e){var r,n,i=e.isOpen,a=e.upgradeAction,o=e.isDefaultPaymentFrequencyMonthly,s=void 0===o||o,c=e.initialStripePromotionCode,l=jD(),d=MD(aw.selectPrivateWorkspaceInfo),f=MD(Z1.selectInputtedStripePromotionCode),h=MD(Z1.selectStripePromotionCodeSummary),p=MD(Z1.selectIsStripePromotionCodeLoading),v=MD(Z1.selectRewardfulInfo),g=MD(aw.selectCountryCurrencies),m=k((0,t.useState)(null!==(r=Sn.ArrayH.arrGetFirstOrOmit(g))&&void 0!==r?r:"usd"),2),y=m[0],b=m[1],S=k((0,t.useState)(s?Sn.PaymentT.SubscriptionPaymentFrequency.MONTHLY:Sn.PaymentT.SubscriptionPaymentFrequency.YEARLY),2),E=S[0],x=S[1],w=k((0,t.useState)(null),2),_=w[0],A=w[1],C=k((0,t.useState)(null),2),P=C[0],I=C[1],O=k((0,t.useState)(null),2),R=O[0],N=O[1],L=E===Sn.PaymentT.SubscriptionPaymentFrequency.MONTHLY,j=(0,t.useRef)(c);(0,t.useEffect)((function(){null!=j.current&&l(tk.setInputtedStripePromotionCode({newInputtedStripePromotionCode:j.current}))}),[l]),(0,t.useEffect)((function(){Mx("toggle_subscription_payment_frequency",{subscriptionPaymentFrequency:E})}),[E]);var M=(0,t.useCallback)((function(){l(tk.setInputtedStripePromotionCode({newInputtedStripePromotionCode:null}))}),[l]),D=(0,t.useCallback)((function(e){l(tk.setInputtedStripePromotionCode({newInputtedStripePromotionCode:e}))}),[l]),F=(0,t.useCallback)((function(){l(tk.showStripePromotionCodeInput())}),[l]),U=(0,t.useMemo)((function(){return null==h?null:Sn.PaymentH.getStripePromotionCodeSummaryDescription(h)}),[h]),B=(0,t.useCallback)(Ot(Pt().mark((function e(){var t,r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}throw Sn.ErrorH.newWarningError("Promotion code cannot be empty.");case 2:return e.next=4,l(Zw.getPromotionCodeSummary({stripePromotionCode:f})).unwrap();case 4:return t=e.sent,r=t.stripePromotionCodeSummary,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)}))),[l,f]),G=(0,t.useCallback)(Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),[B]),V=(0,t.useCallback)(function(){var e=Ot(Pt().mark((function e(t){var r,n,i,a,o,s,u,c,h,p,g,m,b,S,x,w;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.subscriptionType,n=t.isConfirmingSubscription,Mx("click_upgrade_button_in_modal",{subscriptionType:r,subscriptionPaymentFrequency:E}),A(r),i=!1,e.prev=4,!f){e.next=11;break}return e.next=8,B();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=null;case 12:return a=e.t0,o=null!=a&&Sn.PaymentH.isStripePromotionCodeSummaryValidForSubscriptionPurchase({isUsingTestStripe:Ox,groupIdentifierNumberRecord:d.groupIdentifierNumberRecord,workspaceCreationSse:d.creationSecondsSinceEpoch,stripePromotionCodeSummary:a,subscriptionType:r,subscriptionPaymentFrequency:E,stripeCurrency:y}),s=o?a.stripePromotionCode:null,e.next=17,Xw({dispatch:l});case 17:if(u=e.sent,null!=(null===d||void 0===d?void 0:d.subscription)){e.next=35;break}return e.next=21,Sn.ApiPaymentE.PurchaseSubscription.call(u,{stripeSubscriptionInput:{subscriptionType:r,subscriptionPaymentFrequency:E,stripePromotionCode:s,stripeCurrency:y},checkoutSessionType:Sn.PaymentT.CheckoutSessionType.ELEMENTS,rewardfulId:null!==(c=null===v||void 0===v?void 0:v.rewardfulId)&&void 0!==c?c:null,returnUrlPath:window.location.pathname});case 21:h=e.sent,p=h.resData,g=p.checkoutSessionSummary,e.t1=g.type,e.next=e.t1===Sn.PaymentT.CheckoutSessionType.HOSTED?27:e.t1===Sn.PaymentT.CheckoutSessionType.ELEMENTS?30:32;break;case 27:return window.location.href=g.checkoutSessionUrl,i=!0,e.abrupt("break",33);case 30:return N(g._privateCheckoutSessionClientSecret),e.abrupt("break",33);case 32:Sn.ErrorH.assertNever(g);case 33:e.next=47;break;case 35:if(!n){e.next=46;break}return e.next=38,Sn.ApiPaymentE.ChangeSubscription.call(u,{newStripeSubscriptionInput:{subscriptionType:r,subscriptionPaymentFrequency:E,stripePromotionCode:s,stripeCurrency:y}});case 38:return m=e.sent,b=m.resData,S=b.paymentIntentSummary,x=b._privatePaymentIntentClientSecret,w=b.invoiceUrl,e.next=43,x7({paymentIntentSummary:S,paymentIntentClientSecret:x,invoiceUrl:w});case 43:l(Iw()),e.next=47;break;case 46:I({subscriptionType:r,subscriptionPaymentFrequency:E});case 47:e.next=52;break;case 49:e.prev=49,e.t2=e.catch(4),l(UM.handleError(e.t2,{defaultErr:Sn.ErrorH.newFatalError("Failed to upgrade plan. Contact support@videogen.io for help upgrading your plan.")}));case 52:i||A(null);case 53:case"end":return e.stop()}}),e,null,[[4,49]])})));return function(t){return e.apply(this,arguments)}}(),[l,d,E,B,f,null===v||void 0===v?void 0:v.rewardfulId,y]),H=(0,t.useMemo)((function(){return null==a?null:Sn.WorkspaceH.workspaceAuthLevelToSubscriptionType(Sn.WorkspaceH.getFirstNondeprecatedWorkspaceAuthLevelToSatisfy(a.requiredWorkspaceAuthLevel))}),[a]),W=k((0,t.useState)(!0),2),q=W[0],z=W[1],Y=(0,t.useMemo)((function(){var e,t;if(null!=d.freeAccessUsageCreditsContainer)return[];var r=q;return Sn.TypeT.getArrayWithoutOmissions(Sn.PaymentH.getAllHigherSubscriptionTypes(null!==(e=null===d||void 0===d||null===(t=d.subscription)||void 0===t?void 0:t.subscriptionType)&&void 0!==e?e:null,{includeDeprecatedSubscriptionTypes:!1}).map((function(e){return function(e){var t,r,n=e.workspaceInfo,i=(e.stripePromotionCodeSummary,e.subscriptionType),a=e.subscriptionPaymentFrequency,o=(e.setSubscriptionPaymentFrequency,e.selectedCurrency),s=e.isSimplified,u=void 0!==s&&s;if(i!==Sn.PaymentT.SubscriptionType.ENTERPRISE_TIER_1&&i!==Sn.PaymentT.SubscriptionType.ENTERPRISE_TIER_2&&i!==Sn.PaymentT.SubscriptionType.ENTERPRISE_TIER_3&&i!==Sn.PaymentT.SubscriptionType.ENTERPRISE_TIER_4&&i!==Sn.PaymentT.SubscriptionType.ENTERPRISE_TIER_5&&i!==Sn.PaymentT.SubscriptionType.ENTERPRISE_TIER_6&&i!==Sn.PaymentT.SubscriptionType.ENTERPRISE_TIER_7&&i!==Sn.PaymentT.SubscriptionType.ENTERPRISE_TIER_8){var c=Sn.PaymentH.getDefaultSubscriptionPriceSummary({isUsingTestStripe:Ox,groupIdentifierNumberRecord:n.groupIdentifierNumberRecord,workspaceCreationSse:n.creationSecondsSinceEpoch,subscriptionType:i,subscriptionPaymentFrequency:Sn.PaymentT.SubscriptionPaymentFrequency.MONTHLY,stripeCurrency:o}),l=Sn.PaymentH.getDefaultSubscriptionPriceSummary({isUsingTestStripe:Ox,groupIdentifierNumberRecord:n.groupIdentifierNumberRecord,workspaceCreationSse:n.creationSecondsSinceEpoch,subscriptionType:i,subscriptionPaymentFrequency:Sn.PaymentT.SubscriptionPaymentFrequency.YEARLY,stripeCurrency:o});if(null!=c&&null!=l){var d="usd"!==o,f=Sn.PaymentH.stripeAmountToStr({amount:c.unitAmount,currency:c.stripeCurrency,prependUsdForClarity:d}),h=Sn.PaymentH.stripeAmountToStr({amount:l.unitAmount,currency:l.stripeCurrency,prependUsdForClarity:d}),p=Sn.PaymentH.stripeAmountToStr({amount:l.unitAmount/12,currency:l.stripeCurrency,prependUsdForClarity:d}),v=Sn.WorkspaceH.getWorkspaceEligibleFreeTrialDaysForNewSubscriptionType({workspaceInfo:n,newSubscriptionType:i}),g=function(){switch(i){case Sn.PaymentT.SubscriptionType.STARTER:return"For individuals";case Sn.PaymentT.SubscriptionType.PRO:return"For hobbyists, nonprofits, and small creators.";case Sn.PaymentT.SubscriptionType.SCALE:return"For larger creators, educators, and freelancers.";case Sn.PaymentT.SubscriptionType.BUSINESS:return"For teams, businesses, L&D, HR, and agencies.";default:return Sn.ErrorH.assertNever(i)}}(),m=function(){switch(a){case Sn.PaymentT.SubscriptionPaymentFrequency.MONTHLY:return v>0?"".concat(Sn.StringH.numWithUnits(v,"day")," free, then ").concat(f," monthly"):(0,uw.jsx)(uw.Fragment,{});case Sn.PaymentT.SubscriptionPaymentFrequency.YEARLY:return v>0?"".concat(Sn.StringH.numWithUnits(v,"day")," free, then ").concat(h," yearly"):"Billed ".concat(h," yearly");default:throw Sn.ErrorH.newFatalError("Invalid subscription payment frequency: ".concat(a))}}(),y=null!=n.subscription&&Sn.PaymentH.isSubscriptionFreeTrialActive(n.subscription),b=Sn.StringH.capitalizeStr(i),S=function(){if(v>0)return{callToAction:"".concat(y?"Switch to":"Start"," ").concat(b," free trial"),subscriptionChangeConfirmationMessage:"Click to confirm ".concat(b," free trial")};var e,t=null!==(e=n.subscription)&&void 0!==e&&e.cancelingAtPeriodEnd?"Subscribe":"Upgrade";return{callToAction:"".concat(t," to ").concat(Sn.StringH.capitalizeStr(i)),subscriptionChangeConfirmationMessage:"Click to confirm your payment"}}(),E=S.callToAction,x=S.subscriptionChangeConfirmationMessage;return{subscriptionType:i,offerMessage:i===Sn.PaymentT.SubscriptionType.PRO?"Most popular":void 0,monthlyPriceAmountStr:f,yearlyPriceAmountStr:h,yearlyPerMonthPriceAmountStr:p,bottomText:m,features:s7({subscriptionType:i,stripeCurrency:o,workspaceCreationSse:n.creationSecondsSinceEpoch,workspaceStripeInvoiceSummaries:n.stripeInvoiceSummaries,currentUserSubscriptionType:null!==(t=null===(r=n.subscription)||void 0===r?void 0:r.subscriptionType)&&void 0!==t?t:null,groupIdentifierNumberRecord:n.groupIdentifierNumberRecord,isSimplified:u}),callToAction:E,descriptionText:g,subscriptionChangeConfirmationMessage:x}}}}({subscriptionType:e,stripePromotionCodeSummary:h,subscriptionPaymentFrequency:E,workspaceInfo:d,setSubscriptionPaymentFrequency:x,selectedCurrency:y,isSimplified:r})})))}),[d,h,E,q,y]),X=(0,t.useMemo)((function(){return Y.length<=2}),[Y]),K=(0,t.useMemo)((function(){var e,t;return null!==(e=null!==(t=Y.find((function(e){return e.subscriptionType===H})))&&void 0!==t?t:Sn.ArrayH.arrGetFirstOrOmit(Y))&&void 0!==e?e:null}),[Y,H]),J=null!==(n=null===K||void 0===K?void 0:K.subscriptionType)&&void 0!==n?n:null,Z=(0,t.useMemo)((function(){return null!=d.freeAccessUsageCreditsContainer?"Request a custom plan":null==J?"Upgrade your plan":"Get VideoGen ".concat(Sn.StringH.capitalizeStr(J))}),[d.freeAccessUsageCreditsContainer,J]),Q=(0,t.useRef)(i);(0,t.useEffect)((function(){i&&!Q.current&&z(!0),Q.current=i}),[i]);var $=(0,t.useCallback)((function(){l(Iw())}),[l]),ee=(0,t.useCallback)((function(e){e.isCheckoutComplete?$():N(null)}),[$]),te=(0,t.useMemo)((function(){return g.length<=1?null:g.map((function(e){return{text:function(){switch(e){case"usd":return"\ud83c\uddfa\ud83c\uddf8\xa0\xa0USD";case"inr":return"\ud83c\uddee\ud83c\uddf3\xa0\xa0INR";case"brl":return"\ud83c\udde7\ud83c\uddf7\xa0\xa0BRL";case"vnd":return"\ud83c\uddfb\ud83c\uddf3\xa0\xa0VND";case"pkr":return"\ud83c\uddf5\ud83c\uddf0\xa0\xa0PKR";case"eur":return"\ud83c\uddea\ud83c\uddfa\xa0\xa0EUR";case"gbp":return"\ud83c\uddec\ud83c\udde7\xa0\xa0GBP";case"aud":return"\ud83c\udde6\ud83c\uddfa\xa0\xa0AUD";case"ngn":return"\ud83c\uddf3\ud83c\uddec\xa0\xa0NGN";case"mxn":return"\ud83c\uddf2\ud83c\uddfd\xa0\xa0MXN";case"chf":return"\ud83c\udde8\ud83c\udded\xa0\xa0CHF";case"cad":return"\ud83c\udde8\ud83c\udde6\xa0\xa0CAD";case"php":return"\ud83c\uddf5\ud83c\udded\xa0\xa0PHP";case"idr":return"\ud83c\uddee\ud83c\udde9\xa0\xa0IDR";case"bdt":return"\ud83c\udde7\ud83c\udde9\xa0\xa0BDT";default:return Sn.ErrorH.assertNever(e)}}(),value:e}}))}),[g]),re=(0,t.useMemo)((function(){var e=Sn.PaymentC.STRIPE_CURRENCY_TIER_MAP[y];switch(e){case"1":case"2":return"4 months free";case"3":return"6 months free";default:return Sn.ErrorH.assertNever(e)}}),[y]),ne=(0,t.useMemo)((function(){return Math.max.apply(Math,u(Y.flatMap((function(e){return[e.monthlyPriceAmountStr,e.yearlyPerMonthPriceAmountStr]})).map((function(e){var t,r=0,n=T(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;r+=","===i||"."===i?.2:" "===i?.5:1}}catch(a){n.e(a)}finally{n.f()}return r}))))}),[Y]);return null!=R?(0,uw.jsx)(_7,{checkoutSessionClientSecret:R,handleCloseModal:$,handleExitEmbeddedCheckout:ee}):(0,uw.jsxs)("div",{className:Dn("flex flex-col items-center gap-4",Y.length>1?"max-w-8xl":"max-w-5xl"),"data-cy":"upgrade-modal",children:[(0,uw.jsx)("div",{className:"w-full p-2 text-center text-2xl font-semibold text-gray-900",children:null!=a?(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsxs)("span",{children:[Z," to "]}),(0,uw.jsxs)("span",{children:[a.upgradeToIncreaseMessage,"."]})]}):(0,uw.jsx)("span",{children:"Choose the plan that's right for you."})}),Y.length>0&&(0,uw.jsxs)("div",{className:"relative flex w-full flex-col items-center justify-center gap-3",children:[(0,uw.jsxs)(a7,{value:E,onChange:x,className:"grid grid-cols-2 gap-x-1 rounded-xl bg-gray-100 p-1 text-center text-sm font-semibold",children:[(0,uw.jsx)(a7.Option,{value:Sn.PaymentT.SubscriptionPaymentFrequency.MONTHLY,disabled:L,className:function(e){var t=e.checked;return Dn(t?"bg-white text-gray-900":"text-gray-500 hover:bg-gray-50","cursor-pointer rounded-lg px-2 py-1 transition-colors")},children:(0,uw.jsx)("span",{children:"Monthly"})}),(0,uw.jsx)(a7.Option,{value:Sn.PaymentT.SubscriptionPaymentFrequency.YEARLY,disabled:!L,className:function(e){var t=e.checked;return Dn(t?"bg-white text-gray-900":"text-gray-500 hover:bg-gray-50","cursor-pointer rounded-lg px-2 py-1 transition-colors")},children:(0,uw.jsxs)("span",{children:["Yearly",(0,uw.jsx)("span",{className:"px-1 text-gray-300",children:"\u2022"}),(0,uw.jsx)("span",{className:"text-main-600",children:re})]})})]}),null!=te&&(0,uw.jsx)("div",{className:"static flex h-full items-center justify-end md:absolute md:right-0 md:top-0",children:(0,uw.jsx)(D$,{items:te,currentValue:y,setValue:b,className:"w-[6.5rem]",size:"small"})})]}),(0,uw.jsxs)("div",{className:"flex w-full flex-col items-stretch justify-center gap-3 md:flex-row xl:gap-4",children:[Y.map((function(e){var t,r=null!=P&&e.subscriptionType===P.subscriptionType&&E===P.subscriptionPaymentFrequency,n=e.subscriptionType===J;return(0,uw.jsx)(SK.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"relative mx-auto w-full flex-1",children:(0,uw.jsxs)("div",{className:Dn("flex h-full flex-col justify-between rounded-2xl bg-gray-50",n?"border-2 border-green-500 p-[14px]":"p-4"),children:[n&&(0,uw.jsx)("div",{className:"absolute right-2 top-2 inline-flex items-center rounded-md bg-green-200 px-1 py-[1px] text-xs font-semibold text-green-700",children:"Recommended"}),(0,uw.jsxs)("div",{children:[(0,uw.jsxs)("h3",{className:"space-x-2 text-lg font-semibold leading-8 text-gray-900",children:[(0,uw.jsxs)("span",{children:[e.subscriptionType===Sn.PaymentT.SubscriptionType.PRO&&(0,uw.jsx)(uw.Fragment,{children:"\ud83d\udc8e"}),e.subscriptionType===Sn.PaymentT.SubscriptionType.SCALE&&(0,uw.jsx)(uw.Fragment,{children:"\ud83c\udf0d"}),e.subscriptionType===Sn.PaymentT.SubscriptionType.BUSINESS&&(0,uw.jsx)(uw.Fragment,{children:"\ud83d\udcbc"})]}),(0,uw.jsx)("span",{children:Sn.StringH.capitalizeStr(e.subscriptionType)})]}),(0,uw.jsx)("div",{className:"h-8 leading-3",children:(0,uw.jsx)("span",{className:"text-sm text-gray-500",children:e.descriptionText})}),(0,uw.jsxs)("div",{className:Dn("mt-4 flex h-10 items-baseline font-bold tracking-tight text-gray-900",ne<=4.5?"text-4xl":ne<=7?"text-4xl md:text-3xl lg:text-4xl":ne<=9.5?"text-4xl md:text-2xl lg:text-4xl":"text-4xl md:text-xl lg:text-3xl xl:text-4xl"),children:[L?e.monthlyPriceAmountStr:e.yearlyPerMonthPriceAmountStr,(0,uw.jsx)("div",{className:"-mb-4 ml-2 text-sm font-medium leading-8 tracking-normal text-gray-500",children:"/month"})]}),(0,uw.jsx)("p",{className:"mt-1 h-0 text-xs text-gray-500",children:null!==(t=e.bottomText)&&void 0!==t?t:""})]}),(0,uw.jsx)("div",{className:"mb-4 mt-6",children:(0,uw.jsx)(SK.button,{whileTap:{scale:.95},disabled:null!=_,className:Dn("group flex w-full items-center justify-center rounded-xl px-2 py-2.5 text-center text-base font-semibold outline-none transition-colors",_===e.subscriptionType?"opacity-75":"",r?"bg-gray-900 text-white hover:bg-gray-700":n?"bg-green-500 text-white hover:bg-green-600":"bg-white text-gray-900 ring-1 ring-gray-200 hover:bg-gray-200 hover:ring-gray-300"),onClick:function(){V({subscriptionType:e.subscriptionType,isConfirmingSubscription:r})},children:_===e.subscriptionType?(0,uw.jsx)($M,{className:"h-6 w-6"}):(0,uw.jsx)(uw.Fragment,{children:r&&e.subscriptionChangeConfirmationMessage?e.subscriptionChangeConfirmationMessage:e.callToAction})})}),(0,uw.jsx)(o7,{subscriptionFeatures:e.features})]})},e.subscriptionType)})),X&&(0,uw.jsx)(SK.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"relative mx-auto w-full flex-1",children:(0,uw.jsxs)("div",{className:"flex h-full flex-col justify-between rounded-2xl bg-gray-50 p-4",children:[(0,uw.jsxs)("div",{children:[(0,uw.jsxs)("h3",{className:"space-x-2 text-lg font-semibold leading-8 text-gray-900",children:[(0,uw.jsx)("span",{children:"\ud83c\udfe2"}),(0,uw.jsx)("span",{children:"Enterprise"})]}),(0,uw.jsx)("div",{className:"h-8 leading-3",children:(0,uw.jsx)("span",{className:"text-sm text-gray-500",children:"For large organizations and high volume users."})}),(0,uw.jsx)("div",{className:"mt-4 flex items-baseline text-4xl font-bold tracking-tight text-gray-900",children:"Custom"}),(0,uw.jsx)("p",{className:"mt-1 h-0 text-xs text-gray-500",children:"Tailored to your needs"})]}),(0,uw.jsx)("div",{className:"mb-4 mt-6",children:(0,uw.jsx)("a",{className:Dn("group flex w-full items-center justify-center rounded-xl bg-white px-2 py-2.5 text-center text-base font-semibold text-gray-900 outline-none ring-1 ring-gray-200 transition-colors hover:border-gray-300 hover:bg-gray-200 hover:ring-gray-300"),href:pJ,target:"_blank",rel:"noreferrer",children:"Contact sales"})}),(0,uw.jsx)(o7,{subscriptionFeatures:A7})]})})]}),(0,uw.jsxs)("div",{className:"-mt-1 grid w-full grid-cols-1 items-center gap-4 md:grid-cols-3",children:[(0,uw.jsx)("div",{className:"col-span-1 text-center md:text-left",children:Y.length>0&&(0,uw.jsx)("div",{className:"items-start",children:f===(null===h||void 0===h?void 0:h.stripePromotionCode)?(0,uw.jsxs)("div",{children:[(0,uw.jsxs)("div",{className:"flex w-fit items-center gap-2 rounded-lg bg-gray-100 px-3 py-2",children:[(0,uw.jsx)(M6,{className:"h-5 w-5 text-gray-500"}),h.stripePromotionCode,(0,uw.jsx)("button",{className:"ml-1 text-gray-500 hover:text-gray-600",onClick:M,children:(0,uw.jsx)(F6,{className:"h-5 w-5"})})]}),(0,uw.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:U})]}):(0,uw.jsx)("div",{children:null!=f?(0,uw.jsxs)("div",{className:"text-left",children:[(0,uw.jsx)(M$,{children:"Coupon Code"}),(0,uw.jsxs)("div",{className:"relative -mt-1 flex items-center justify-center space-x-1",children:[(0,uw.jsx)(g1,{className:"py-1.5",value:f,onNewValue:D,dataCy:"promo-code-input"}),(0,uw.jsx)(tD,{className:"border-1 inline-flex rounded-lg border border-gray-700 bg-gray-900 px-3 py-1.5 text-base font-medium text-white transition-colors hover:bg-gray-500",onClick:G,isLoading:p,children:"Apply"})]})]}):(0,uw.jsx)("button",{className:"mx-auto cursor-pointer items-center justify-center gap-2 text-center text-sm text-gray-500 hover:underline",onClick:F,children:"Add coupon"})})})}),(0,uw.jsx)("div",{className:"col-span-1 text-center",children:(0,uw.jsxs)(aG,{to:T7,target:"_blank",className:"mx-auto inline-flex items-center justify-center space-x-1 text-center text-sm font-medium text-gray-900 hover:underline",children:[(0,uw.jsx)("span",{children:"See all features"}),(0,uw.jsx)(hJ,{className:"h-4 w-4"})]})}),!X&&(0,uw.jsx)("div",{className:"col-span-1 text-center md:text-right",children:(0,uw.jsxs)(aG,{to:pJ,target:"_blank",className:"mx-auto inline-flex items-center justify-center space-x-1 rounded-lg bg-gray-900 px-2 py-1 text-center text-sm font-medium text-white hover:bg-gray-500 hover:underline",children:[(0,uw.jsx)("span",{children:"Enterprise \u2013 Talk to sales"}),(0,uw.jsx)(hJ,{className:"h-4 w-4"})]})})]})]})},P7=function(){var e=MD(aw.selectPrivateWorkspaceInfo),r=tF().urlParamsRecord,n=r.message,i=r.isMonthly,a=r.promotionCode,o=r.authLevel,s=r.subscriptionType,u=(0,t.useMemo)((function(){try{return Sn.WorkspaceT.castAsWorkspaceAuthLevel(null===o||void 0===o?void 0:o.toUpperCase())}catch(e){}try{return Sn.WorkspaceH.subscriptionTypeToWorkspaceAuthLevel(Sn.PaymentT.castAsSubscriptionType(null===s||void 0===s?void 0:s.toUpperCase()))}catch(t){}return Sn.WorkspaceT.WorkspaceAuthLevel.PRO}),[o,s]),c=(0,t.useMemo)((function(){return{type:Sn.ErrorT.KnownErrorActionType.UPGRADE,currentWorkspaceAuthLevel:Sn.WorkspaceH.getWorkspaceAuthLevel(e),requiredWorkspaceAuthLevel:u,upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:null!==n&&void 0!==n?n:"unlock the full power of VideoGen"}}),[e,n,u]);return(0,uw.jsxs)("div",{className:"flex min-h-screen flex-col bg-white px-4 pb-5",children:[(0,uw.jsx)("div",{className:"mt-5 flex flex-shrink-0 items-center px-4",children:(0,uw.jsxs)(aG,{to:"/",className:"flex h-8 items-center text-lg font-bold text-gray-900 opacity-100 transition-all hover:opacity-80 focus:outline-none",children:[(0,uw.jsx)("span",{className:"font-medium",children:"\u2190"}),(0,uw.jsx)("img",{className:"mx-3 h-[18px] w-auto",src:"/logo-red.svg",alt:"VideoGen Logo"}),"VideoGen"]})}),(0,uw.jsx)("div",{className:"fixed right-4 top-4 z-20 flex items-center md:ml-6",children:(0,uw.jsx)(G1,{})}),(0,uw.jsx)("div",{className:"mx-auto mt-6 max-w-full overflow-hidden rounded-3xl pb-6",children:(0,uw.jsx)(C7,{isOpen:!0,upgradeAction:c,isDefaultPaymentFrequencyMonthly:"false"!==i,initialStripePromotionCode:a})})]})},I7=function(){return(0,uw.jsx)(L4,{currentPage:g5.USAGE})},O7=function(){return(0,uw.jsx)(L4,{currentPage:g5.BRAND_KIT})},R7=["title","titleId"];var N7=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,R7);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))})),L7=function(e){var t=e.managerAction,r=e.className,n=t.input,i=t.output;return(0,uw.jsxs)("div",{className:Dn("flex flex-row rounded-lg border border-gray-200 bg-gray-100",null!==r&&void 0!==r?r:""),children:[(0,uw.jsxs)("div",{className:"w-1/2 flex-grow overflow-scroll p-4",children:[(0,uw.jsx)("h3",{className:"mb-2 text-center text-lg font-medium text-gray-700",children:"Input"}),(0,uw.jsx)(T6,{value:n,className:"text-sm"})]}),(0,uw.jsx)("div",{className:"relative w-[1px] flex-shrink-0 bg-gray-200",children:(0,uw.jsx)("div",{className:"absolute left-1/2 top-1/2 h-8 w-8 -translate-x-1/2 -translate-y-1/2 rounded-full border border-gray-200 bg-gray-100 p-1 text-gray-900",children:(0,uw.jsx)(N7,{className:"h-full w-full"})})}),(0,uw.jsxs)("div",{className:"w-1/2 flex-grow overflow-scroll p-4",children:[(0,uw.jsx)("h3",{className:"mb-2 text-center text-lg font-medium text-gray-700",children:"Output"}),(0,uw.jsx)(T6,{value:i,className:"text-sm"})]})]})},j7=function(e){switch(e){case Sn.ManagerT.ManagerActionType.GET_WORKSPACE_INFO:case Sn.ManagerT.ManagerActionType.REFILL_WORKSPACE_CREDITS:return{type:e,workspaceIdOrEmail:""};default:return Sn.ErrorH.assertNever(e)}},M7=j7(Sn.ManagerT.ManagerActionType.GET_WORKSPACE_INFO),D7=Object.values(Sn.ManagerT.ManagerActionType).map((function(e){return{text:Sn.StringH.capitalizeStr(e),value:e}})),F7=function(){var e=jD(),r=k((0,t.useState)(M7),2),n=r[0],i=r[1],a=k((0,t.useState)([]),2),o=a[0],s=a[1],c=k((0,t.useState)(!1),2),l=c[0],d=c[1],f=(0,t.useCallback)((function(e){var t=j7(e);try{i((function(r){return Sn.ManagerT.castAsManagerActionInput(ze(ze({},t),ze(ze({},r),{},{type:e})))}))}catch(r){i(t)}}),[]),h=(0,t.useCallback)((function(e){i((function(t){return ze(ze({},t),{},{workspaceIdOrEmail:e})}))}),[]),p=(0,t.useCallback)(Ot(Pt().mark((function t(){var r,i,a,o;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.prev=1,t.next=4,Xw({dispatch:e});case 4:return r=t.sent,t.next=7,Sn.ApiManagerE.ExecuteManagerAction.call(r,{managerActionInput:n});case 7:i=t.sent,a=i.resData,o=a.managerActionOutput,s((function(e){return[{managerActionId:Sn.UuidH.generateUuid(),input:n,output:o}].concat(u(e)).slice(0,20)})),St.success("Successfully executed ".concat(Sn.StringH.capitalizeStr(n.type)," manager action.")),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),e(UM.handleError(t.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to execute manager action.")}));case 17:d(!1);case 18:case"end":return t.stop()}}),t,null,[[1,14]])}))),[e,n]);return(0,uw.jsxs)("div",{className:"flex w-full max-w-6xl flex-col items-stretch gap-2 px-4 pb-4",children:[(0,uw.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"New manager action"}),(0,uw.jsxs)("div",{className:"flex w-full flex-col items-stretch gap-4",children:[(0,uw.jsx)("div",{children:(0,uw.jsx)(D$,{label:"Manager action type",items:D7,currentValue:n.type,setValue:f})}),(0,uw.jsxs)("div",{children:[(0,uw.jsx)(M$,{tooltip:"Workspace ID is a 28-character alphanumeric ID that uniquely identifies each VideoGen account.",children:"Workspace ID or Email"}),(0,uw.jsx)(g1,{value:n.workspaceIdOrEmail,onNewValue:h})]}),(0,uw.jsx)("div",{className:"rounded-lg border border-gray-200 bg-gray-100 p-4 text-sm",children:(0,uw.jsx)(T6,{value:n})}),(0,uw.jsx)(tD,{className:"inline-flex justify-center rounded-lg border border-transparent bg-main-600 px-4 py-2 text-sm font-semibold text-white hover:bg-main-700 focus:outline-none focus:ring-0",onClick:p,isLoading:l,children:"Execute manager action"})]}),(0,uw.jsxs)("div",{children:[(0,uw.jsx)("h1",{className:"mt-6 text-xl font-semibold text-gray-900",children:"Completed manager actions"}),(0,uw.jsx)("p",{className:"text-sm text-gray-600",children:"Sorted from newest to oldest."})]}),(0,uw.jsx)("div",{className:"flex w-full flex-col items-stretch gap-4",children:o.map((function(e){return(0,uw.jsx)(L7,{managerAction:e,className:"max-h-96"},e.managerActionId)}))})]})},U7=function(){return(0,uw.jsxs)("div",{className:"fixed flex h-screen w-screen flex-col items-center overflow-hidden overflow-y-auto px-4",children:[(0,uw.jsxs)("h1",{className:"py-6 text-2xl text-black",children:[(0,uw.jsx)("b",{children:"VideoGen"})," Manager Panel"]}),(0,uw.jsx)(F7,{})]})},B7=function(){return(0,uw.jsx)(L4,{currentPage:g5.API})},G7=function(){return(0,uw.jsx)(L4,{currentPage:g5.AFFILIATES})},V7=["title","titleId"];var H7=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,V7);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 0 0-4.5 4.5V9H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2h-.5V5.5A4.5 4.5 0 0 0 10 1Zm3 8V5.5a3 3 0 1 0-6 0V9h6Z",clipRule:"evenodd"}))})),W7=["title","titleId"];var q7=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,W7);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M14.5 1A4.5 4.5 0 0 0 10 5.5V9H3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2h-1.5V5.5a3 3 0 1 1 6 0v2.75a.75.75 0 0 0 1.5 0V5.5A4.5 4.5 0 0 0 14.5 1Z",clipRule:"evenodd"}))})),z7=["title","titleId"];var Y7,X7=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,z7);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}),t.createElement("path",{d:"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}))})),K7=[{icon:(0,uw.jsx)("div",{className:"p-0.5",children:(0,uw.jsx)(H7,{})}),text:"Only you can view",value:Sn.ExportT.ExportVisibilityType.PRIVATE},{icon:(0,uw.jsx)("div",{className:"p-0.5",children:(0,uw.jsx)(q7,{})}),text:"Anyone with the link",value:Sn.ExportT.ExportVisibilityType.PUBLIC}],J7="Failed to view video. It either doesn't exist or failed to export. Double check your URL and try again.",Z7=function(){var e,r=xe().exportId,n=jD(),i=aF(),a=MD(aw.selectSimpleUser),o=MD(aw.selectIsUserFetched),s=MD(aw.selectWorkspaceInfo),u=MD(C0),c=null!=a,l=k((0,t.useState)(null),2),d=l[0],f=l[1],h=k((0,t.useState)(null),2),p=h[0],v=h[1],g=k((0,t.useState)(Sn.LoadingT.LoadingState.UNATTEMPTED),2),m=g[0],y=g[1],b=k((0,t.useState)(!1),2),S=b[0],E=b[1],x=k((0,t.useState)(null),2),w=x[0],_=x[1],T=k((0,t.useState)(0),2),A=T[0],C=T[1],P=k((0,t.useState)(0),2),I=P[0],O=P[1],R=k((0,t.useState)(!1),2),N=R[0],L=R[1],j=k((0,t.useState)(!1),2),M=j[0],D=j[1],F=k((0,t.useState)(!1),2),U=F[0],B=F[1],G=k((0,t.useState)(!1),2),V=G[0],H=G[1],W=(0,t.useRef)(null),q=(0,t.useRef)(null),z=(0,t.useRef)(null);rF(["initialJob"],(function(e){var t=e.initialJob;try{null!=t&&f(Sn.JobT.castAsExportJob(JSON.parse(t)))}catch(r){n(UM.handleError(r,{defaultErr:Sn.ErrorH.newHiddenError("Failed to parse query initial job.",{rawData:{initialJob:t}})}))}return function(){}}));var Y=(0,t.useMemo)((function(){return null!=(null===s||void 0===s?void 0:s.workspaceId)&&null!=(null===p||void 0===p?void 0:p.exportWorkspaceId)&&s.workspaceId===p.exportWorkspaceId}),[null===s||void 0===s?void 0:s.workspaceId,null===p||void 0===p?void 0:p.exportWorkspaceId]),X=(0,t.useMemo)((function(){var e,t,r,n,i,a=null!==(e=null===p||void 0===p||null===(t=p.exportJob)||void 0===t?void 0:t.metadata.jobId)&&void 0!==e?e:null===d||void 0===d?void 0:d.metadata.jobId,o=function(){if(!Y||null==(null===s||void 0===s?void 0:s.recentInitiatedIdJobRecord)||null==a)return null;var e=s.recentInitiatedIdJobRecord[a];return(null===e||void 0===e?void 0:e.type)===Sn.JobT.JobType.EXPORT?e:null}(),c=function(){if(!Y||null==a)return null;var e=u[a];return(null===e||void 0===e?void 0:e.type)===Sn.JobT.JobType.EXPORT?e:null}();return null!==(r=null!==(n=null!==(i=null!==o&&void 0!==o?o:null===p||void 0===p?void 0:p.exportJob)&&void 0!==i?i:c)&&void 0!==n?n:d)&&void 0!==r?r:null}),[Y,null===p||void 0===p?void 0:p.exportJob,null===s||void 0===s?void 0:s.recentInitiatedIdJobRecord,u,d]),K=k((0,t.useState)(null),2),J=K[0],Z=K[1];(0,t.useEffect)((function(){if(null!=X){var e=function(){Z(Sn.JobH.getJobLoadingInfoAndSummary(X))};e();var t=setInterval((function(){e()}),Sn.TimeC.MILLISECONDS_PER_SECOND);return function(){clearInterval(t)}}}),[X]);var Q=eF(),$=(0,t.useCallback)(Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r){e.next=2;break}return e.abrupt("return");case 2:_(null),y(Sn.LoadingT.LoadingState.LOADING),v(null),Q(Ot(Pt().mark((function e(){var t,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xw({dispatch:n});case 3:return t=e.sent,e.next=6,Sn.ApiExportE.ViewExport.call(t,{exportId:r});case 6:i=e.sent,a=i.resData,o=a.hydratedExportInfo,y(Sn.LoadingT.LoadingState.FULFILLED),v(o),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),y(Sn.LoadingT.LoadingState.REJECTED),_(Sn.ErrorH.convertUnknownErrorToPublicKnownError(e.t0,{defaultErr:Sn.ErrorH.newFatalError(J7)}).displayMessage),n(UM.handleError(e.t0,{defaultErr:Sn.ErrorH.newHiddenError("Failed to view export.",{rawData:{exportId:r}}),forceHidden:!0}));case 18:case"end":return e.stop()}}),e,null,[[0,13]])}))),1e3);case 6:case"end":return e.stop()}}),e)}))),[n,r,Q]);ZD((function(){return Mx("view_export",{exportId:r}),function(){}})),(0,t.useEffect)((function(){o&&(null==a||null!=a&&null!=s)&&m===Sn.LoadingT.LoadingState.UNATTEMPTED&&$()}),[n,o,m,a,s,$]);var ee=(0,t.useRef)(null),te=(0,t.useRef)(null),re=(0,t.useRef)(null);(0,t.useEffect)((function(){var e;ee.current=null!==(e=null===X||void 0===X?void 0:X.primaryHydratedExportUrl)&&void 0!==e?e:null}),[null===X||void 0===X?void 0:X.primaryHydratedExportUrl]),(0,t.useEffect)((function(){var e;te.current=null!==(e=null===X||void 0===X?void 0:X.thumbnailHydratedExportUrl)&&void 0!==e?e:null}),[null===X||void 0===X?void 0:X.thumbnailHydratedExportUrl]),(0,t.useEffect)((function(){re.current=$}),[$]),(0,t.useEffect)((function(){var e=Sn.TimeC.MILLISECONDS_PER_DAY,t=setInterval((function(){if(null!=re.current){var t=Sn.StorageH.isHydratedUrlExpiring({hydratedUrl:ee.current,expirationBufferMilliseconds:e}),r=Sn.StorageH.isHydratedUrlExpiring({hydratedUrl:te.current,expirationBufferMilliseconds:e});(t||r)&&re.current()}}),e);return function(){clearInterval(t)}}),[n]),(0,t.useEffect)((function(){var e=setInterval((function(){var e=W.current;null==e?(O(0),C(0),L(!1)):(O(Sn.TypeT.isNumber(e.duration)?e.duration:0),C(e.currentTime),L(!e.paused))}),16);return function(){clearInterval(e)}}),[]);var ne=(0,t.useMemo)((function(){return m!==Sn.LoadingT.LoadingState.FULFILLED||0===I?ak.IS_STALE:A>=I?ak.IS_AT_END:N?ak.IS_PLAYING:ak.IS_PAUSED}),[m,A,I,N]),ie=(0,t.useCallback)((function(){if(null!=W.current)switch(ne){case ak.IS_STALE:return void $();case ak.IS_AT_END:return W.current.currentTime=0,void W.current.play().catch(console.error);case ak.IS_PAUSED:return void W.current.play().catch(console.error);case ak.IS_PLAYING:return H(!0),void W.current.pause();default:return Sn.ErrorH.assertNever(ne)}}),[ne,$]),ae=(0,t.useCallback)((function(){null!=q.current&&(document.fullscreenEnabled?document.fullscreenElement?document.exitFullscreen():q.current.requestFullscreen():D((function(e){return!e})))}),[]);(0,t.useEffect)((function(){var e=function(){document.fullscreenEnabled&&D(null!=document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),function(){document.removeEventListener("fullscreenchange",e)}}),[]),(0,t.useEffect)((function(){var e=function(e){if(null!=W.current&&Sn.TypeT.isNumber(W.current.duration))if("Space"===e.code||"KeyK"===e.code)ie();else if("ArrowLeft"===e.code)W.current.currentTime=Math.max(W.current.currentTime-5,0);else if("ArrowRight"===e.code)W.current.currentTime=Math.min(W.current.currentTime+5,W.current.duration);else if("KeyJ"===e.code)W.current.currentTime=Math.max(W.current.currentTime-10,0);else if("KeyL"===e.code)W.current.currentTime=Math.min(W.current.currentTime+10,W.current.duration);else if("Comma"===e.code)W.current.paused&&(W.current.currentTime=Math.max(W.current.currentTime-1/30,0));else if("Period"===e.code)W.current.paused&&(W.current.currentTime=Math.min(W.current.currentTime+1/30,W.current.duration));else if("KeyF"===e.code)ae();else if(e.code.startsWith("Digit")){var t=Sn.StringH.parseIntOrOmit(e.key);null!=t&&t>=0&&t<=9&&(W.current.currentTime=t/10*W.current.duration)}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[ie,ae]);var oe=eF(),se=(0,t.useCallback)((function(e){var t=e.x;oe((function(){W.current&&(W.current.currentTime=t)}),16)}),[oe]),ue=(0,t.useCallback)((function(){var e="".concat(window.location.origin,"/view/").concat(r);navigator.clipboard.writeText(e),B(!0),Mx("copy_share_link",{shareLink:e})}),[r]);(0,t.useEffect)((function(){if(U){var e=setTimeout((function(){B(!1)}),2e3);return function(){clearTimeout(e)}}}),[U]);var ce=k((0,t.useState)(window.innerHeight-156),2),le=ce[0],de=ce[1];(0,t.useEffect)((function(){var e=function(){if(null!=q.current){var e=q.current.getBoundingClientRect().width;!document.fullscreenEnabled&&M?de(window.innerHeight):de(Math.min(9/16*e,window.innerHeight-156))}};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[M]),(0,t.useEffect)((function(){V&&!c&&n(Cw())}),[V,c,n]);var fe=(0,t.useCallback)(function(){var e=Ot(Pt().mark((function e(t){var i,a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r){e.next=2;break}return e.abrupt("return");case 2:if((null===p||void 0===p?void 0:p.visibilityType)!==t){e.next=4;break}return e.abrupt("return");case 4:return Mx("set_export_visibility",{exportId:r,newVisibilityType:t}),E(!0),e.prev=6,e.next=9,Xw({dispatch:n});case 9:return i=e.sent,e.next=12,Sn.ApiExportE.SetExportVisibility.call(i,{exportId:r,newVisibilityType:t});case 12:a=e.sent,o=a.resData,s=o.newExportInfo,v((function(e){return null==e?null:ze(ze({},e),{},{visibilityType:s.visibilityType})})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),n(UM.handleError(e.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to modify export visibility.",{rawData:{newVisibilityType:t}})}));case 21:E(!1);case 22:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t){return e.apply(this,arguments)}}(),[n,r,null===p||void 0===p?void 0:p.visibilityType]),he=(0,t.useCallback)((function(){if(null!=(null===X||void 0===X?void 0:X.primaryHydratedExportUrl))try{if(c){var e;Mx("click_download_video_from_view");var t=Sn.TimeH.getCurrentMillisecondsSinceEpoch();if(X.primaryHydratedExportUrl.expirationMillisecondsSinceEpoch<t)throw Sn.ErrorH.newWarningError("Export file is out of date. Refresh the page to get the latest version.",{rawData:{latestExportJob:X,currentMsSinceEpoch:t}});Vk({url:X.primaryHydratedExportUrl.signedUrl,fileName:Sn.StorageH.constructStorageFileDisplayFileName({displayName:null!==(e=X.exportFileDisplayName)&&void 0!==e?e:"VideoGen",subtypeFileExtension:Sn.FileH.getFileExtension(X.primaryHydratedExportUrl.signedUrl),storageFileSubtype:Sn.StorageT.WorkspaceStorageFileSubtype.PRIMARY})})}else i({pathname:"/signup",newQueryParamsRecord:{next:window.location.href}}),Mx("click_sign_up_to_download_video_from_view")}catch(r){n(UM.handleError(r,{defaultErr:Sn.ErrorH.newFatalError("Failed to download video.")}))}}),[n,c,i,X]),pe=(0,t.useMemo)((function(){var e,t,r;return null!=(null===X||void 0===X?void 0:X.primaryHydratedExportUrl)?(0,uw.jsx)(uw.Fragment,{}):m===Sn.LoadingT.LoadingState.REJECTED||null!=(null===X||void 0===X||null===(e=X.metadata.latestAttemptProgress)||void 0===e?void 0:e.errorDisplayMessage)?(0,uw.jsxs)("div",{className:"absolute left-0 top-0 flex h-full w-full flex-col items-center justify-center gap-3 p-8",children:[(0,uw.jsx)(ZB,{className:"h-12 w-12 text-yellow-500"}),(0,uw.jsx)("p",{className:"text-base text-gray-300",children:null!==(t=null!==w&&void 0!==w?w:null===X||void 0===X||null===(r=X.metadata.latestAttemptProgress)||void 0===r?void 0:r.errorDisplayMessage)&&void 0!==t?t:J7})]}):m===Sn.LoadingT.LoadingState.UNATTEMPTED||m===Sn.LoadingT.LoadingState.LOADING||(null===J||void 0===J?void 0:J.jobLoadingInfo.loadingState)===Sn.LoadingT.LoadingState.UNATTEMPTED||(null===J||void 0===J?void 0:J.jobLoadingInfo.loadingState)===Sn.LoadingT.LoadingState.LOADING?(0,uw.jsxs)("div",{className:"absolute left-0 top-0 flex h-full w-full flex-col items-center justify-center gap-4 p-8",children:[(0,uw.jsx)($M,{className:"mb-4 h-8 w-8 text-white"}),null!=(null===J||void 0===J?void 0:J.jobLoadingSummary)&&(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)("p",{className:"text-base font-medium text-white",children:J.jobLoadingSummary}),(0,uw.jsx)("p",{className:"text-base font-medium text-white",children:"We'll email you when your video is ready!"})]})]}):(0,uw.jsx)(uw.Fragment,{})}),[X,m,w,J]);(0,t.useEffect)((function(){var e=z.current;if(null!=e){var t=e.getContext("2d");if(null!=t){var r=function(){t.save();var r=W.current;if(null!==r&&void 0!==r&&r.src){var n=q.current;if(null!=n){try{e.width=n.clientWidth*V0,e.height=n.clientHeight*V0,t.clearRect(0,0,e.width,e.height);var i=Sn.FileH.getVisualElementTrueSize(r),a=i.width,o=i.height,s=Math.min(e.width,e.height*a/o),u=Math.min(e.height,e.width*o/a),c=(e.width-s)/2,l=(e.height-u)/2;t.fillStyle="black",t.drawImage(r,c,l,s,u)}catch(d){console.error(d)}t.restore()}}},n=null,i=function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(),n=requestAnimationFrame(i);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n=requestAnimationFrame(i),function(){null!=n&&cancelAnimationFrame(n)}}}}),[]);var ve=null!==X&&void 0!==X&&X.exportFileDisplayName?"".concat(null===X||void 0===X?void 0:X.exportFileDisplayName," - VideoGen"):"VideoGen";return(0,uw.jsxs)("div",{children:[(0,uw.jsx)(i5,{webTitle:ve}),(0,uw.jsx)("nav",{className:"border-b border-gray-100 px-6 py-3",children:(0,uw.jsxs)("div",{className:"flex flex-shrink-0 items-center justify-between space-x-2",children:[(0,uw.jsxs)("a",{href:"/",target:"_blank",rel:"noreferrer",className:"flex h-10 items-center text-xl font-bold focus:outline-none",children:[(0,uw.jsx)("img",{className:"mr-3 h-5 w-auto",src:"/logo-red.svg",alt:"VideoGen Logo"}),(0,uw.jsx)("span",{className:"hidden sm:inline-flex",children:"VideoGen"})]}),o&&(0,uw.jsx)("div",{className:"flex space-x-2",children:c?(0,uw.jsx)(G1,{}):(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)(aG,{to:"/signin?next=".concat(window.location.href),target:"_blank",rel:"noreferrer",className:"border-1 hidden rounded-xl border border-gray-200 px-4 py-2 text-base font-medium leading-6 text-gray-900 transition-colors hover:bg-gray-200 sm:inline-flex",onClick:function(){Mx("click_sign_in_from_view_nav")},children:"Log in"}),(0,uw.jsxs)(aG,{to:"/signup?next=".concat(window.location.href),target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-xl border border-transparent bg-gray-900 px-4 py-2 text-base font-medium text-white shadow-sm transition-all hover:bg-gray-700",onClick:function(){Mx("click_sign_up_from_view_nav")},children:["Get VideoGen",(0,uw.jsx)("span",{className:"hidden opacity-70 sm:inline-flex",children:"\xa0-\xa0It's free"})]})]})})]})}),(0,uw.jsxs)("div",{className:"mx-auto w-full max-w-7xl",children:[(0,uw.jsx)("div",{className:"relative",children:(0,uw.jsx)("div",{className:"relative flex h-full w-full overflow-hidden rounded-xl",children:(0,uw.jsxs)("div",{ref:q,className:Dn(!document.fullscreenEnabled&&M?"fixed inset-0 z-40":"group relative my-4 block h-full w-full overflow-hidden sm:mx-4 sm:rounded-xl","bg-black"),style:{height:le},onClick:ie,children:[(0,uw.jsx)("canvas",{className:"absolute inset-0 h-full w-full",ref:z}),(0,uw.jsx)(D0,{className:"hidden",ref:W,src:null===X||void 0===X||null===(e=X.primaryHydratedExportUrl)||void 0===e?void 0:e.signedUrl}),(0,uw.jsx)("div",{className:Dn("absolute bottom-0 left-0 top-0 flex w-full items-end align-bottom transition-all group-hover:opacity-100",!document.fullscreenEnabled&&M?"z-50":"z-10",0===A||ne!==ak.IS_PLAYING?"opacity-100":"opacity-0"),children:(0,uw.jsxs)("div",{className:"mt-auto w-full space-y-2 bg-gradient-to-t from-black/70 to-transparent p-4 pt-12",onClick:function(e){e.stopPropagation(),e.preventDefault()},children:[(0,uw.jsx)("div",{className:"w-full",children:(0,uw.jsx)(BQ,{axis:"x",x:A,xmin:0,xmax:I,xstep:.001,onChange:se,styles:{track:{backgroundColor:"rgb(209 213 219)",width:"100%",height:4,cursor:"pointer"},active:{backgroundColor:"rgb(220 38 38)",cursor:"pointer"},thumb:{width:16,height:16,backgroundColor:"rgb(220 38 38)",boxShadow:"rgb(0 0 0)",cursor:"pointer"},disabled:{opacity:.5}}})}),(0,uw.jsxs)("div",{className:"flex w-full items-center justify-between space-x-3 sm:px-1",children:[(0,uw.jsx)("button",{className:Dn("h-7 w-7 flex-none text-white hover:text-gray-200 focus:outline-none focus:ring-0"),onClick:ie,onKeyUp:function(e){e.preventDefault()},children:I0[ne]}),(0,uw.jsxs)("div",{id:"timestamp",className:"flex flex-none items-center justify-center text-left text-sm font-medium text-white",children:[(0,uw.jsx)(T0,{numSeconds:A}),"\xa0/\xa0",(0,uw.jsx)(T0,{numSeconds:I})]}),(0,uw.jsxs)("div",{className:"inline-flex flex-grow items-center justify-end space-x-3 text-right",children:[o&&(c?(0,uw.jsx)("button",{onClick:he,className:"cursor-pointer rounded-lg bg-white px-2 py-1 text-sm font-medium text-gray-900 transition-all hover:bg-gray-200 focus:outline-none focus:ring-0",children:"Download"}):(0,uw.jsx)(aG,{to:"/signup?next=".concat(window.location.href),target:"_blank",rel:"noreferrer",className:"cursor-pointer rounded-lg bg-white px-2 py-1 text-sm font-medium text-gray-900 transition-all hover:bg-gray-200 focus:outline-none focus:ring-0",onClick:function(e){e.stopPropagation(),Mx("click_sign_up_to_download_video_from_view")},children:"Sign up to download"})),(0,uw.jsx)("button",{onClick:ae,className:"h-6 w-6 cursor-pointer text-white transition-all hover:text-gray-200 focus:outline-none focus:ring-0",onKeyUp:function(e){e.preventDefault()},children:M?(0,uw.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",id:"exit-fullscreen",fill:"currentColor",children:(0,uw.jsx)("path",{d:"M4 11h3c2.2055664 0 4-1.7944336 4-4v-3c0-.5522461-.4477539-1-1-1s-1 .4477539-1 1v3c0 1.1030273-.8969727 2-2 2h-3c-.5522461 0-1 .4477539-1 1s.4477539 1 1 1zM17 11h3c.5522461 0 1-.4477539 1-1s-.4477539-1-1-1h-3c-1.1030273 0-2-.8969727-2-2v-3c0-.5522461-.4477539-1-1-1s-1 .4477539-1 1v3c0 2.2055664 1.7944336 4 4 4zM14 21c.5522461 0 1-.4477539 1-1v-3c0-1.1030273.8969727-2 2-2h3c.5522461 0 1-.4477539 1-1s-.4477539-1-1-1h-3c-2.2055664 0-4 1.7944336-4 4v3c0 .5522461.4477539 1 1 1zM4 15h3c1.1030273 0 2 .8969727 2 2v3c0 .5522461.4477539 1 1 1s1-.4477539 1-1v-3c0-2.2055664-1.7944336-4-4-4h-3c-.5522461 0-1 .4477539-1 1s.4477539 1 1 1z"})}):(0,uw.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",id:"full-screen",fill:"currentColor",children:(0,uw.jsx)("path",{d:"M7 22h2c.6 0 1-.4 1-1s-.4-1-1-1H7c-1.1 0-2-.9-2-2v-2c0-.6-.4-1-1-1s-1 .4-1 1v2c0 2.2 1.8 4 4 4zm8 0h2c2.2 0 4-1.8 4-4v-2c0-.6-.4-1-1-1s-1 .4-1 1v2c0 1.1-.9 2-2 2h-2c-.6 0-1 .4-1 1s.4 1 1 1zm0-17h2c1.1 0 2 .9 2 2v2c0 .6.4 1 1 1s1-.4 1-1V7c0-2.2-1.8-4-4-4h-2c-.6 0-1 .4-1 1s.4 1 1 1zM4 10c.6 0 1-.4 1-1V7c0-1.1.9-2 2-2h2c.6 0 1-.4 1-1s-.4-1-1-1H7C4.8 3 3 4.8 3 7v2c0 .6.4 1 1 1z"})})})]})]})]})}),pe]})})}),(0,uw.jsxs)("div",{className:"w-full items-center justify-between space-y-2 px-2 sm:flex sm:space-x-2 sm:space-y-0 sm:px-4",children:[(0,uw.jsxs)("div",{className:"flex-end inline-flex flex-none items-center justify-center space-x-2",children:[(0,uw.jsxs)("button",{onMouseDown:ue,className:Dn("inline-flex items-center justify-center space-x-2 rounded-xl px-4 py-2 text-base font-medium text-white transition-colors focus:outline-none focus:ring-0",U?"bg-gray-900":"bg-main-600 hover:bg-main-700"),children:[(0,uw.jsx)("span",{className:"h-5 w-5",children:U?(0,uw.jsx)(RG,{}):(0,uw.jsx)(X7,{})}),(0,uw.jsx)("span",{children:U?"Link copied":"Copy link"})]}),o&&Y&&null!=p&&(0,uw.jsxs)("div",{className:"-mt-2 mb-2.5 w-60",children:[(0,uw.jsx)("div",{className:"mb-1 text-xs text-gray-500",children:"Who can view this video?"}),(0,uw.jsx)(D$,{className:"",dropdownPosition:"top",items:K7,currentValue:p.visibilityType,setValue:fe,isLoading:S})]})]}),(0,uw.jsx)("div",{className:"flex-start",children:o&&(0,uw.jsx)(uw.Fragment,{children:c?(0,uw.jsx)(uw.Fragment,{}):(0,uw.jsx)(uw.Fragment,{children:(0,uw.jsx)(aG,{to:"/signup?next=".concat(window.location.href),target:"_blank",rel:"noreferrer",className:"text-md inline-flex items-center justify-center rounded-xl border border-gray-200 bg-none px-4 py-2 font-medium text-gray-900 transition-colors hover:bg-gray-200 focus:outline-none focus:ring-0",onClick:function(){Mx("click_sign_up_from_view")},children:(0,uw.jsx)("span",{children:"Create videos like this with VideoGen"})})})})})]})]})]})},Q7=15*Sn.TimeC.MILLISECONDS_PER_SECOND,$7=function(){return(0,uw.jsx)(U4,{visualDelayMs:0,longestExpectedLoadingMs:Q7})},e8=function(){var e=jD(),t=MD(aw.selectPrivateWorkspaceInfo),r=MD(aw.selectPrivateSimpleUser);return rF(["upgrade"],(function(n){"true"===n.upgrade&&r.emailVerified&&e(yw({upgradeAction:{type:Sn.ErrorT.KnownErrorActionType.UPGRADE,currentWorkspaceAuthLevel:Sn.WorkspaceH.getWorkspaceAuthLevel(t),requiredWorkspaceAuthLevel:Sn.WorkspaceH.getNextHighestWorkspaceAuthLevel(Sn.WorkspaceH.getWorkspaceAuthLevel(t)),upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"unlock the full power of VideoGen"}}))})),rF(["academy"],(function(t){"true"===t.academy&&e(_w())})),(0,uw.jsx)(uw.Fragment,{})},t8=function(e){var r=e.children,n=jD(),i=aF(),a=be(),o=MD(aw.selectSimpleUser),s=MD(aw.selectIsUserFetched),u=MD(aw.selectWorkspaceInfo);return(0,t.useEffect)((function(){s&&null==o&&(n(iD.initializeInitialPrivatePageUrlPath({initialPrivatePageUrlPath:window.location.pathname+window.location.search+window.location.hash})),i({pathname:"/signup"}))}),[n,s,o,i,u]),(0,t.useEffect)((function(){n(kD.pauseAudioPreview())}),[a,n]),null==o||null==u?(0,uw.jsx)($7,{}):(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)(e8,{}),r]})},r8=function(e){var r=e.children,n=jD(),i=aF(),a=MD(aw.selectSimpleUser),o=MD(aw.selectIsUserFetched),s=MD(aw.selectInitialPrivatePageUrlPath),u=MD(aw.selectHasShownInitialPrivatePageUrlPath),c=k((0,t.useState)(u||null==s?"/":s),1)[0];return(0,t.useEffect)((function(){o&&null!=a&&(n(iD.markInitialPrivatePageUrlPathAsShown()),i({pathname:c}))}),[n,o,a,i,c]),o?(0,uw.jsxs)(uw.Fragment,{children:[r,(0,uw.jsx)(fw,{})]}):(0,uw.jsx)($7,{})},n8=function(e){var r=e.children,n=MD(aw.selectPrivateWorkspaceInfo),i=aF();return(0,t.useEffect)((function(){n.permissions.isAdmin||i({pathname:"/"})}),[n.permissions.isAdmin,i]),n.permissions.isAdmin?(0,uw.jsx)(uw.Fragment,{children:r}):(0,uw.jsx)($7,{})},i8=function(e){var r=e.children,n=jD(),i=aF(),a=xe().projectId,o=MD(kk.selectIsProjectLoaded),s=MD(kk.selectOptionalProjectId);return ZD((function(){var e=function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!=a){e.next=3;break}throw Sn.ErrorH.newInternalError("projectId param must be defined in ProjectGate");case 3:if(a!==s){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,n(WN.loadProject({projectId:a})).unwrap();case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),i({pathname:"/"}),n(UM.handleError(e.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to load project.")}));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){}})),(0,t.useEffect)((function(){var e=null,t=null,r=function(){var i=Ot(Pt().mark((function i(a){var o;return Pt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:o=null==t?0:a-t,t=a;try{n(WN.handleTimeUpdate({deltaMs:o}))}catch(s){console.error(s)}e=requestAnimationFrame(r);case 4:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}();return e=requestAnimationFrame(r),function(){null!=e&&cancelAnimationFrame(e)}}),[n]),o?(0,uw.jsx)(uw.Fragment,{children:r}):(0,uw.jsx)($7,{})},a8=function(e){var r=e.children,n=MD(aw.selectWorkspaceInfo),i=aF();return(0,t.useEffect)((function(){null==n||n.permissions.isLocalTester||i({pathname:"/"})}),[n,i]),null!==n&&void 0!==n&&n.permissions.isLocalTester?(0,uw.jsx)(uw.Fragment,{children:r}):(0,uw.jsx)($7,{})},o8=function(){var e=jD(),r=MD(YB),n=MD(XB),i=MD(KB),a=(0,t.useRef)(null);return(0,t.useEffect)((function(){var e,t;i?null===(e=a.current)||void 0===e||e.play().catch(console.error):null===(t=a.current)||void 0===t||t.pause()}),[i]),(0,uw.jsx)(z0,{ref:a,src:null!==r&&void 0!==r?r:void 0,onCanPlay:function(e){i&&e.currentTarget.play().catch(console.error)},onEnded:function(t){t.currentTarget.pause(),t.currentTarget.currentTime=0,e(kD.pauseAudioPreview())},className:"hidden",volume:n})},s8=function(e){var r=e.children,n=MD(aw.selectPrivateWorkspaceInfo),i=aF();return(0,t.useEffect)((function(){n.permissions.isManager||i({pathname:"/"})}),[n.permissions.isManager,i]),n.permissions.isManager?(0,uw.jsx)(uw.Fragment,{children:r}):(0,uw.jsx)($7,{})},u8=function(e){var r=e.to,n=be(),i=aF(),a=k((0,t.useState)(!0),2),o=a[0],s=a[1],u=(0,t.useMemo)((function(){return Sn.TypeT.isString(r)?r:r(n)}),[r,n]),c=(0,t.useMemo)((function(){return u.startsWith("/")}),[u]);return ZD((function(){return setTimeout((function(){s(!1)}),3e3),function(){}})),(0,t.useEffect)((function(){c?i({pathname:u},{replace:!0}):window.location.href=u}),[u,i,c]),o?(0,uw.jsx)($7,{}):c?(0,uw.jsx)(aG,{to:u,replace:!0,children:"Click here if the page did not redirect."}):(0,uw.jsx)("a",{href:u,children:"Click here if the page did not redirect."})},c8=function(){var e=jD(),r=MD(aw.selectPrivateWorkspaceInfo),n=k((0,t.useState)(!1),2),i=n[0],a=n[1],o=k((0,t.useState)(""),2),s=o[0],u=o[1],c=(0,t.useMemo)((function(){return"DELETE"!==s}),[s]),l=(0,t.useCallback)((function(){e(Iw())}),[e]),d=(0,t.useCallback)(Ot(Pt().mark((function t(){var r;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=2;break}return t.abrupt("return");case 2:return a(!0),t.prev=3,t.next=6,Xw({dispatch:e});case 6:return r=t.sent,t.next=9,Sn.ApiWorkspaceE.DeleteAccount.call(r,{});case 9:window.location.reload(),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),e(UM.handleError(t.t0)),a(!1);case 16:case"end":return t.stop()}}),t,null,[[3,12]])}))),[e,c]);return(0,uw.jsxs)("div",{className:"flex w-screen max-w-xs flex-col gap-4",children:[(0,uw.jsx)("h3",{className:"text-center text-lg font-medium leading-6 text-gray-900 sm:text-left",children:"Are you sure you want to delete your account?"}),(0,uw.jsxs)("div",{className:"flex max-w-lg flex-col gap-2 rounded-lg bg-yellow-100 p-3 text-yellow-600",children:[(0,uw.jsxs)("div",{className:"flex items-center",children:[(0,uw.jsx)(t3,{className:"mr-2 h-5 w-5"}),(0,uw.jsx)("h3",{className:"text-lg font-bold",children:"Important Warning!"})]}),(0,uw.jsx)("p",{children:"This action is irreversible and will permanently delete all of your data."}),(null===r||void 0===r?void 0:r.subscription)&&(0,uw.jsxs)("p",{children:["Deleting your account will also permanently cancel your"," ",Sn.StringH.capitalizeStr(r.subscription.subscriptionType)," subscription and destroy your remaining credits."]}),(0,uw.jsxs)("p",{children:["Type ",(0,uw.jsx)("code",{className:"rounded-md bg-yellow-50 px-2 py-1 font-semibold",children:"DELETE"})," into the following box to confirm that you understand the risk and still wish to delete your account."]}),(0,uw.jsx)("div",{className:"mt-2 flex justify-center gap-2",children:(0,uw.jsx)(g1,{value:s,onNewValue:u})})]}),(0,uw.jsxs)("div",{className:"sm:flex",children:[(0,uw.jsx)(tD,{type:"button",disabled:c,className:Dn("inline-flex w-full justify-center rounded-md border border-transparent px-4 py-2 text-base font-medium text-white shadow-sm focus:outline-none focus:ring-0 sm:w-auto sm:text-sm",i?"opacity-75":"",c?"bg-gray-600 hover:bg-gray-700":"bg-yellow-600 hover:bg-yellow-700"),isLoading:i,onClick:d,children:"Delete your account"}),(0,uw.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-0 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm",onClick:l,children:"Cancel"})]})]})},l8=function(){var e=jD(),r=aF(),n=MD(aw.selectPrivateWorkspaceInfo),i=k((0,t.useState)(!1),2),a=i[0],o=i[1],s=(0,t.useCallback)(Ot(Pt().mark((function t(){var r,n,i,a;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.prev=1,t.next=4,Xw({dispatch:e});case 4:return r=t.sent,t.next=7,Sn.ApiPaymentE.CreateCustomerPortalSession.call(r,{flowType:Sn.PaymentT.PortalSessionFlowType.ALL});case 7:n=t.sent,i=n.resData,a=i.portalSessionUrl,window.location.href=a,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),e(UM.handleError(t.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to load customer portal. Please try again later. If the problem persists, contact support@videogen.io.")}));case 16:o(!1);case 17:case"end":return t.stop()}}),t,null,[[1,13]])}))),[e]);return(0,t.useEffect)((function(){null==(null===n||void 0===n?void 0:n.subscription)&&e(Iw())}),[e,null===n||void 0===n?void 0:n.subscription]),null==(null===n||void 0===n?void 0:n.subscription)?(0,uw.jsx)(uw.Fragment,{}):(0,uw.jsxs)("div",{className:"flex w-screen max-w-md flex-col gap-4",children:[(0,uw.jsx)("h3",{className:"pr-8 text-center text-xl font-medium leading-6 text-gray-900 sm:text-left",children:"Are you sure you want to manage your subscription?"}),(0,uw.jsx)("p",{className:"text-md text-gray-500",children:"We encourage you to contact support. if you are having issues with the platform. We are happy to help you resolve them."}),(0,uw.jsxs)("div",{className:"flex max-w-lg flex-col gap-2 rounded-lg border-2 border-yellow-200 bg-yellow-100 p-3 text-yellow-900",children:[(0,uw.jsxs)("div",{className:"flex items-center",children:[(0,uw.jsx)(t3,{className:"mr-2 h-5 w-5"}),(0,uw.jsx)("h3",{className:"text-lg font-bold",children:"Important Warning!"})]}),(0,uw.jsxs)("p",{children:["If you cancel or downgrade your plan, projects made with your"," ",Sn.StringH.capitalizeStr(n.subscription.subscriptionType)," subscription may become permanently lost."]})]}),(0,uw.jsxs)("div",{className:"items-center space-y-4 sm:flex sm:space-x-2 sm:space-y-0",children:[(0,uw.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md border border-transparent bg-main-600 px-4 py-2 text-base font-medium text-white transition-colors hover:bg-main-700 focus:outline-none focus:ring-0 sm:w-auto sm:text-sm",onClick:function(){Mx("close_manage_subscription_modal"),e(Iw())},children:"Go back"}),(0,uw.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md border border-transparent bg-main-600 px-4 py-2 text-base font-medium text-white transition-colors hover:bg-main-700 focus:outline-none focus:ring-0 sm:w-auto sm:text-sm",onClick:function(){Mx("click_support_on_manage_subscription"),e(Iw()),r({pathname:"/support"})},children:"Contact support"}),(0,uw.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-white text-sm font-medium text-gray-500 underline focus:outline-none focus:ring-0 sm:mt-0 sm:w-auto sm:pl-2",onClick:function(){Mx("click_manage_subscription_button_in_modal"),s()},children:a?(0,uw.jsx)($M,{className:"h-4 w-4"}):"Manage Subscription"})]})]})},d8=[480,720,1080],f8=function(){var e=jD(),r=MD(kk.selectProjectBlock),n=MD(kk.selectIsExportInitiationLoading),i=k((0,t.useState)(1080),2),a=i[0],o=i[1],s=k((0,t.useState)(!1),2),u=s[0],c=s[1],l=(0,t.useCallback)((function(e){return function(){o(e)}}),[]),d=(0,t.useCallback)(Ot(Pt().mark((function t(){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=2;break}return t.abrupt("return");case 2:return Mx("click_export_video_in_modal"),c(!0),t.prev=4,t.next=7,e(WN.initiateExport({minDimensionPixels:a})).unwrap();case 7:setInterval((function(){c(!1)}),2e3),e(Iw()),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),e(UM.handleError(t.t0)),c(!1);case 15:case"end":return t.stop()}}),t,null,[[4,11]])}))),[e,n,a]);(0,t.useEffect)((function(){null!=r.backgroundVisualAssetReferences&&null!=r.generatedScriptElements||e(Iw())}),[e,r]);var f=n||u;return(0,uw.jsxs)("div",{className:"w-screen max-w-xs space-y-8",children:[(0,uw.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Download Settings"}),(0,uw.jsxs)("div",{children:[(0,uw.jsx)(M$,{children:"Resolution"}),(0,uw.jsx)(CZ,{tabs:d8.map((function(e){return{value:Sn.ProjectH.minDimensionPixelsToStr(e),onSelect:l(e)}})),currentTabValue:Sn.ProjectH.minDimensionPixelsToStr(a)})]}),(0,uw.jsx)("div",{children:(0,uw.jsx)("button",{onClick:d,disabled:f,className:"text-md mt-2 inline-block w-full rounded-xl bg-main-600 px-4 py-2 text-center font-semibold text-white shadow-md transition-colors hover:bg-main-700 disabled:animate-pulse disabled:cursor-not-allowed disabled:bg-gray-700",children:f?"Export pending...":"Download video"})})]})},h8=function(e){var r=e.storageFileId,n=jD(),i=MD(Ck.selectStorageIdFileRecord)[r];return(0,t.useEffect)((function(){null==i&&n(Iw())}),[n,i]),null==i?(0,uw.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,uw.jsx)($M,{className:"h-8 w-8"})}):(0,uw.jsxs)("div",{className:"flex w-screen max-w-xs flex-col gap-4",children:[(0,uw.jsxs)("div",{className:"pr-10",children:[(0,uw.jsx)("div",{className:"truncate text-lg font-medium text-gray-900",children:i.storageFileMetadata.displayName}),(0,uw.jsx)("div",{className:"truncate text-gray-500",children:Sn.StringH.capitalizeStr(i.type)})]}),(0,uw.jsx)("div",{className:"rounded-lg",children:(0,uw.jsx)(XZ,{storageFile:i,isIcon:!1,showAudioPlayButtonOnIcon:!1})})]})},p8=(We(Y7={},Sn.LoadingT.LoadingState.UNATTEMPTED,(0,uw.jsx)($M,{className:"p-1 text-gray-500"})),We(Y7,Sn.LoadingT.LoadingState.LOADING,(0,uw.jsx)($M,{className:"p-1 text-gray-500"})),We(Y7,Sn.LoadingT.LoadingState.FULFILLED,(0,uw.jsx)(J3,{className:"text-green-600"})),We(Y7,Sn.LoadingT.LoadingState.REJECTED,(0,uw.jsx)(ZB,{className:"text-yellow-600"})),Y7),v8=function(e){var r=e.exportJob,n=k((0,t.useState)(null),2),i=n[0],a=n[1];(0,t.useEffect)((function(){if(null!=r){var e=function(){a(Sn.JobH.getJobLoadingInfoAndSummary(r))};e();var t=setInterval((function(){e()}),Sn.TimeC.MILLISECONDS_PER_SECOND);return function(){clearInterval(t)}}}),[r]);var o=(0,t.useMemo)((function(){var e=r.aspectRatio,t=r.thumbnailHydratedExportUrl,n={aspectRatio:Sn.CanvasH.aspectRatioToWidthHeightRatio(e)};return(0,uw.jsx)("div",{className:"group relative flex h-full w-full items-center justify-center",children:(0,uw.jsx)("div",{style:n,className:"max-h-full max-w-full overflow-hidden",children:(0,uw.jsx)("img",{src:null===t||void 0===t?void 0:t.signedUrl,className:"h-full w-full"})})})}),[r]);return null==i?(0,uw.jsx)(uw.Fragment,{}):(0,uw.jsxs)(aG,{to:"/view/".concat(r.exportId),target:"_blank",rel:"noreferrer",className:"flex w-full flex-row items-center gap-4 overflow-hidden rounded-lg bg-white px-1 py-1.5 hover:bg-gray-100",children:[(0,uw.jsx)("div",{className:"h-6 w-6 flex-shrink-0",children:p8[i.jobLoadingInfo.loadingState]}),(0,uw.jsx)("div",{className:"h-16 w-16 flex-shrink-0 items-center justify-center overflow-hidden rounded-lg border border-gray-200 bg-gray-100",children:o}),(0,uw.jsx)("div",{className:"flex min-w-0 flex-grow items-center justify-start",children:(0,uw.jsx)("p",{className:"text-sm leading-4 text-gray-900",children:i.jobLoadingSummary})})]})},g8=function(){var e=MD(aw.selectPrivateWorkspaceInfo),r=MD(kk.selectProjectId),n=MD(kk.selectOptionalProjectInternalInfo),i=(0,t.useMemo)((function(){return Sn.WorkspaceH.getWorkspaceRecentInitiatedProjectExportJobs({workspaceInfo:e,projectId:r})}),[e,r]),a=(0,t.useMemo)((function(){return null==n?i:Sn.ArrayH.arrWithoutDuplicates([].concat(u(i),u(n.projectExportJobs)),(function(e){return e.metadata.jobId}))}),[n,i]);return(0,uw.jsxs)("div",{className:"flex max-h-full w-screen max-w-sm flex-col space-y-8",children:[(0,uw.jsx)("h1",{className:"flex-shrink-0 text-xl font-semibold text-black",children:"Recent downloads"}),(0,uw.jsx)("div",{className:"flex-grow overflow-hidden",children:0===a.length?(0,uw.jsx)("div",{className:"flex h-full w-full flex-col items-center justify-center",children:(0,uw.jsxs)("div",{className:"flex flex-row items-center justify-center gap-2",children:[(0,uw.jsx)(ZB,{className:"h-5 w-5 text-gray-400"}),(0,uw.jsx)("span",{className:"text-base text-gray-500",children:"No recent downloads"})]})}):(0,uw.jsx)("div",{className:"h-full w-full overflow-y-auto",children:a.map((function(e){return(0,uw.jsx)(v8,{exportJob:e},e.metadata.jobId)}))})})]})},m8=["title","titleId"];var y8=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,m8);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"M5.055 7.06C3.805 6.347 2.25 7.25 2.25 8.69v8.122c0 1.44 1.555 2.343 2.805 1.628L12 14.471v2.34c0 1.44 1.555 2.343 2.805 1.628l7.108-4.061c1.26-.72 1.26-2.536 0-3.256l-7.108-4.061C13.555 6.346 12 7.249 12 8.689v2.34L5.055 7.061Z"}))})),b8=["title","titleId"];var S8=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,b8);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 0 1-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 0 1-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 0 1-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584ZM12 18a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))})),E8=["title","titleId"];var x8=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,E8);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{fillRule:"evenodd",d:"M4.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm6 0a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm6 0a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z",clipRule:"evenodd"}))})),w8=["title","titleId"];var k8=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,w8);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"M11.7 2.805a.75.75 0 0 1 .6 0A60.65 60.65 0 0 1 22.83 8.72a.75.75 0 0 1-.231 1.337 49.948 49.948 0 0 0-9.902 3.912l-.003.002c-.114.06-.227.119-.34.18a.75.75 0 0 1-.707 0A50.88 50.88 0 0 0 7.5 12.173v-.224c0-.131.067-.248.172-.311a54.615 54.615 0 0 1 4.653-2.52.75.75 0 0 0-.65-1.352 56.123 56.123 0 0 0-4.78 2.589 1.858 1.858 0 0 0-.859 1.228 49.803 49.803 0 0 0-4.634-1.527.75.75 0 0 1-.231-1.337A60.653 60.653 0 0 1 11.7 2.805Z"}),t.createElement("path",{d:"M13.06 15.473a48.45 48.45 0 0 1 7.666-3.282c.134 1.414.22 2.843.255 4.284a.75.75 0 0 1-.46.711 47.87 47.87 0 0 0-8.105 4.342.75.75 0 0 1-.832 0 47.87 47.87 0 0 0-8.104-4.342.75.75 0 0 1-.461-.71c.035-1.442.121-2.87.255-4.286.921.304 1.83.634 2.726.99v1.27a1.5 1.5 0 0 0-.14 2.508c-.09.38-.222.753-.397 1.11.452.213.901.434 1.346.66a6.727 6.727 0 0 0 .551-1.607 1.5 1.5 0 0 0 .14-2.67v-.645a48.549 48.549 0 0 1 3.44 1.667 2.25 2.25 0 0 0 2.12 0Z"}),t.createElement("path",{d:"M4.462 19.462c.42-.419.753-.89 1-1.395.453.214.902.435 1.347.662a6.742 6.742 0 0 1-1.286 1.794.75.75 0 0 1-1.06-1.06Z"}))})),_8=["title","titleId"];var T8=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,_8);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"M10.5 1.875a1.125 1.125 0 0 1 2.25 0v8.219c.517.162 1.02.382 1.5.659V3.375a1.125 1.125 0 0 1 2.25 0v10.937a4.505 4.505 0 0 0-3.25 2.373 8.963 8.963 0 0 1 4-.935A.75.75 0 0 0 18 15v-2.266a3.368 3.368 0 0 1 .988-2.37 1.125 1.125 0 0 1 1.591 1.59 1.118 1.118 0 0 0-.329.79v3.006h-.005a6 6 0 0 1-1.752 4.007l-1.736 1.736a6 6 0 0 1-4.242 1.757H10.5a7.5 7.5 0 0 1-7.5-7.5V6.375a1.125 1.125 0 0 1 2.25 0v5.519c.46-.452.965-.832 1.5-1.141V3.375a1.125 1.125 0 0 1 2.25 0v6.526c.495-.1.997-.151 1.5-.151V1.875Z"}))})),A8=["title","titleId"];var C8=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,A8);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))})),P8=["title","titleId"];var I8=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,P8);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.05 4.575a1.575 1.575 0 1 0-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 0 1 3.15 0v1.5m-3.15 0 .075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 0 1 3.15 0V15M6.9 7.575a1.575 1.575 0 1 0-3.15 0v8.175a6.75 6.75 0 0 0 6.75 6.75h2.018a5.25 5.25 0 0 0 3.712-1.538l1.732-1.732a5.25 5.25 0 0 0 1.538-3.712l.003-2.024a.668.668 0 0 1 .198-.471 1.575 1.575 0 1 0-2.228-2.228 3.818 3.818 0 0 0-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0 1 16.35 15m.002 0h-.002"}))})),O8=["title","titleId"];var R8,N8,L8=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,O8);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))})),j8=function(e){return e.EXPERIMENT_WITH_PROMPTING="EXPERIMENT_WITH_PROMPTING",e.EDIT_SCRIPT_CONTENT="EDIT_SCRIPT_CONTENT",e.CHANGE_IRRELEVANT_SCENES="CHANGE_IRRELEVANT_SCENES",e.DRAG_SPLIT_DELETE_SCENES="DRAG_SPLIT_DELETE_SCENES",e.CHANGE_SCENE_PACING="CHANGE_SCENE_PACING",e.CHANGE_VOICE="CHANGE_VOICE",e.ADD_CUSTOM_PRONUNCIATIONS="ADD_CUSTOM_PRONUNCIATIONS",e.CHANGE_CAPTION_STYLE="CHANGE_CAPTION_STYLE",e.HIDE_CAPTIONS="HIDE_CAPTIONS",e.RESIZE_VIDEO="RESIZE_VIDEO",e.CHANGE_MUSIC="CHANGE_MUSIC",e.USE_AI_ARTIST="USE_AI_ARTIST",e}(j8||{}),M8=(We(R8={},j8.EXPERIMENT_WITH_PROMPTING,{imageUrl:"https://storage.googleapis.com/videogen-assets/common-action-assets/EXPERIMENT_WITH_PROMPTING_720p.jpg",action:j8.EXPERIMENT_WITH_PROMPTING,title:"Experiment with your initial prompt",text:'Get creative and include details in your initial prompt to guide the AI. We recommend specifying the tone and style in your prompt. For example, you could try writing: "Make a video about Ancient Egypt in with a serious tone. Write in the style of a BBC documentary. Include facts about the pyramids and the Nile River."'}),We(R8,j8.EDIT_SCRIPT_CONTENT,{videoUrl:"https://storage.googleapis.com/videogen-assets/common-action-assets/EDIT_SCRIPT_CONTENT_480p.mp4",action:j8.EDIT_SCRIPT_CONTENT,title:"Directly edit your script",text:"Directly modify the content of your script using the textbox on the right side of the screen. Once you're happy, click 'Generate' to apply your changes."}),We(R8,j8.CHANGE_IRRELEVANT_SCENES,{videoUrl:"https://storage.googleapis.com/videogen-assets/common-action-assets/CHANGE_IRRELEVANT_SCENES_480p.mp4",action:j8.CHANGE_IRRELEVANT_SCENES,title:"Change specific scenes",text:"Hover over a scene in the timeline and click 'Regenerate' to automatically generate a new scene. Click 'Change Media' to search VideoGen's copyright-free library, or 'Upload' to add your own videos/images."}),We(R8,j8.DRAG_SPLIT_DELETE_SCENES,{videoUrl:"https://storage.googleapis.com/videogen-assets/common-action-assets/DRAG_SPLIT_DELETE_SCENES_480p.mp4",action:j8.DRAG_SPLIT_DELETE_SCENES,title:"Drag, split, and delete scenes",text:"Click and drag the corners of a scene in the timeline to change its timing and duration. Hover and click 'Split' or 'Delete' for more options."}),We(R8,j8.CHANGE_SCENE_PACING,{videoUrl:"https://storage.googleapis.com/videogen-assets/common-action-assets/CHANGE_SCENE_PACING_480p.mp4",action:j8.CHANGE_SCENE_PACING,title:"Change the pacing of your video",text:"Click the 'Background' tab on the left and choose from different pacing options. This will change the rate at which the background video changes."}),We(R8,j8.CHANGE_VOICE,{videoUrl:"https://storage.googleapis.com/videogen-assets/common-action-assets/CHANGE_VOICE_480p.mp4",action:j8.CHANGE_VOICE,title:"Change the AI voice",text:"Click the 'Voice' tab on the left and choose from different AI voices. If you need a specific accent, try 'Monolingual Voices'. You may need to scroll down to see them. You have the luxury of choosing from a diverse array of 50+ ultra realistic voices under the 'Lifelike Voices' tab (whispering voices, raspy voices, and more)."}),We(R8,j8.ADD_CUSTOM_PRONUNCIATIONS,{videoUrl:"https://storage.googleapis.com/videogen-assets/common-action-assets/ADD_CUSTOM_PRONUNCIATIONS_480p.mp4",action:j8.ADD_CUSTOM_PRONUNCIATIONS,title:"Correct mispronunciations",text:"Click the 'Voice' tab on the left and then click 'Add custom pronunciations'. These will override the AI's pronunciation for specific words. Please note this only works for single words, not phrases."}),We(R8,j8.CHANGE_CAPTION_STYLE,{videoUrl:"https://storage.googleapis.com/videogen-assets/common-action-assets/CHANGE_CAPTION_STYLE_480p.mp4",action:j8.CHANGE_CAPTION_STYLE,title:"Change the caption style",text:"Click the 'Captions' tab on the left to customize your captions. Choose from our presets, or use the top bar to customize the font, size, color, position, stroke and more."}),We(R8,j8.HIDE_CAPTIONS,{videoUrl:"https://storage.googleapis.com/videogen-assets/common-action-assets/HIDE_CAPTIONS_480p.mp4",action:j8.HIDE_CAPTIONS,title:"Hide the captions",text:"Click the 'Captions' tab on the left and click the eye icon to hide captions. You can also select the preset with the crossed-out circle."}),We(R8,j8.RESIZE_VIDEO,{videoUrl:"https://storage.googleapis.com/videogen-assets/common-action-assets/RESIZE_VIDEO_480p.mp4",action:j8.RESIZE_VIDEO,title:"Resize your video",text:"Click the 'Resize' button on the top right to change the size of the video."}),We(R8,j8.CHANGE_MUSIC,{imageUrl:"https://storage.googleapis.com/videogen-assets/common-action-assets/CHANGE_MUSIC_720p.jpg",action:j8.CHANGE_MUSIC,title:"Add background music",text:"Click the 'Music' tab on the left to choose from different background music options and adjust the volume. While all music is royalty-free, you may receive a copyright claim on some social media platforms (A copyright claim is not the same as a strike and will not result in a ban). You can also upload your own music by clicking 'Upload Audio'."}),We(R8,j8.USE_AI_ARTIST,{imageUrl:"https://storage.googleapis.com/videogen-assets/common-action-assets/USE_AI_ARTIST_720p.jpg",action:j8.USE_AI_ARTIST,title:"Generate unique images with AI Artist",text:"Click the 'AI Artist' tab on the left of your home screen. Describe anything and click 'Generate' to create a unique, copyright-free image. Click the download icon in the top right to save them to your computer. Feel free to upload these images to your VideoGen videos!"}),R8),D8=function(e){return e.SCRIPT="SCRIPT",e.SCENES="SCENES",e.VOICE="VOICE",e.CAPTIONS="CAPTIONS",e.MORE="MORE",e}({}),F8=(We(N8={},D8.SCRIPT,{title:"Script",collection:D8.SCRIPT,icon:(0,uw.jsx)(xG,{}),solidIcon:(0,uw.jsx)(fG,{}),tutorials:[M8[j8.EXPERIMENT_WITH_PROMPTING],M8[j8.EDIT_SCRIPT_CONTENT]]}),We(N8,D8.SCENES,{title:"Scenes",collection:D8.SCENES,icon:(0,uw.jsx)(kG,{}),solidIcon:(0,uw.jsx)(pG,{}),tutorials:[M8[j8.CHANGE_IRRELEVANT_SCENES],M8[j8.DRAG_SPLIT_DELETE_SCENES],M8[j8.CHANGE_SCENE_PACING]]}),We(N8,D8.VOICE,{title:"Voice",collection:D8.VOICE,icon:(0,uw.jsx)(CG,{}),solidIcon:(0,uw.jsx)(yG,{}),tutorials:[M8[j8.CHANGE_VOICE],M8[j8.ADD_CUSTOM_PRONUNCIATIONS]]}),We(N8,D8.CAPTIONS,{title:"Captions",collection:D8.CAPTIONS,icon:(0,uw.jsx)(IG,{}),solidIcon:(0,uw.jsx)(SG,{}),tutorials:[M8[j8.CHANGE_CAPTION_STYLE],M8[j8.HIDE_CAPTIONS]]}),We(N8,D8.MORE,{title:"More",collection:D8.MORE,icon:(0,uw.jsx)(C8,{}),solidIcon:(0,uw.jsx)(x8,{}),tutorials:[M8[j8.RESIZE_VIDEO],M8[j8.USE_AI_ARTIST],M8[j8.CHANGE_MUSIC]]}),N8),U8=function(e){var r=e.preSelectedTutorialCollection,n=k((0,t.useState)(null!==r&&void 0!==r?r:null),2),i=n[0],a=n[1],o=MD(aw.selectSimpleUser),s=(0,t.useMemo)((function(){var e,t;return null!==(e=Sn.ArrayH.arrGetFirstOrOmit(null===o||void 0===o||null===(t=o.displayName)||void 0===t?void 0:t.split(" ")))&&void 0!==e?e:"VideoGen User"}),[null===o||void 0===o?void 0:o.displayName]),u=(0,t.useCallback)((function(e){Mx("select_tutorial_collection",{collection:e}),a(e)}),[]),c=(0,t.useMemo)((function(){return i?F8[i]:null}),[i]);return(0,uw.jsx)("div",{className:"w-full transition-all",children:(0,uw.jsx)("div",{className:"relative max-w-4xl lg:w-screen",children:(0,uw.jsxs)("div",{children:[(0,uw.jsxs)("div",{className:"pb-8 pt-4 text-center",children:[(0,uw.jsxs)("div",{className:"relative mx-auto h-12 w-12 rounded-full bg-gradient-to-br from-main-900 to-main-500 p-2 text-white",children:[(0,uw.jsx)("div",{className:"absolute -inset-1 animate-pulse animate-spin rounded-full bg-gradient-to-r from-red-600 to-violet-600 opacity-25 blur transition duration-1000"}),(0,uw.jsx)(k8,{className:"absolute z-10 h-8 w-8 text-white"})]}),(0,uw.jsx)("div",{className:"pt-4 text-center text-2xl font-semibold text-gray-900",children:"VideoGen Academy"}),(0,uw.jsx)("p",{className:"text-md text-gray-500",children:"Master AI video creation with VideoGen."})]}),(0,uw.jsxs)("div",{className:"grid grid-cols-3 gap-1 overflow-hidden rounded-xl md:grid-cols-6",children:[(0,uw.jsxs)("button",{className:Dn("col-span-1 items-center space-y-2 rounded-xl p-3 text-center text-gray-700 outline-none transition-all focus:outline-none",null===i?"bg-gray-200 text-gray-900":"bg-gray-100 hover:bg-gray-200 hover:text-gray-900",null!=i&&null!==i?"opacity-50":""),onClick:function(){u(null)},children:[(0,uw.jsx)("div",{className:"mx-auto h-6 w-6 -rotate-45",children:null===i?(0,uw.jsx)(T8,{}):(0,uw.jsx)(I8,{})}),(0,uw.jsx)("p",{className:"text-md font-medium",children:"Welcome"})]},"Welcome"),Object.values(F8).map((function(e){var t=e.title,r=e.collection,n=e.icon,a=e.solidIcon,o=i===r;return(0,uw.jsxs)("button",{className:Dn("col-span-1 items-center space-y-2 rounded-xl p-3 text-center text-gray-700 outline-none transition-all focus:outline-none",o?"bg-gray-200 text-gray-900":"bg-gray-100 opacity-50 hover:bg-gray-200 hover:text-gray-900"),onClick:function(){u(r)},children:[(0,uw.jsx)("div",{className:"mx-auto h-6 w-6",children:o?a:n}),(0,uw.jsx)("p",{className:"text-md font-medium",children:t})]},t)}))]}),(0,uw.jsx)("div",{children:null!=c?(0,uw.jsxs)("div",{children:[(0,uw.jsxs)("div",{id:"table-of-contents",className:"border-b border-gray-200 py-8",children:[(0,uw.jsxs)("div",{children:[(0,uw.jsx)("div",{className:"h-10 w-10 rounded-lg bg-main-100 p-2 text-main-600",children:c.solidIcon}),(0,uw.jsx)("h2",{className:"mt-4 items-center justify-center space-x-2 text-left text-lg font-medium text-gray-900",children:"Table of contents:"})]}),(0,uw.jsx)("div",{className:"mt-4",children:c.tutorials.map((function(e,t){e.videoUrl;var r=e.action,n=e.title;e.text,e.learnMoreUrl,e.imageUrl;return(0,uw.jsx)("div",{children:(0,uw.jsx)("a",{href:"#".concat(r),onClick:function(){Mx("select_tutorial",{action:r})},className:"text-md text-gray-500 underline transition-colors hover:text-main-600",children:n})},r)}))})]}),(0,uw.jsx)("div",{children:c.tutorials.map((function(e,t){var r=e.videoUrl,n=e.action,i=e.title,a=e.text,o=e.learnMoreUrl,s=e.imageUrl;return(0,uw.jsxs)("div",{id:n,className:"pt-12",children:[(0,uw.jsxs)("div",{className:"grid grid-cols-1 items-center justify-center",children:[(0,uw.jsxs)("div",{className:"col-span-1",children:[(0,uw.jsx)("h2",{className:"text-left text-xl font-semibold text-gray-900",children:i}),(0,uw.jsx)("p",{className:"mt-4 whitespace-pre-wrap text-left text-gray-900",children:a})]}),r&&(0,uw.jsx)("div",{className:"col-span-1 mt-6 space-y-2",children:(0,uw.jsx)("video",{className:"w-full max-w-4xl rounded-xl ring-2 ring-gray-200",controls:!0,src:r})}),s&&(0,uw.jsx)("div",{className:"col-span-1 mt-6 space-y-2",children:(0,uw.jsx)("img",{className:"w-full max-w-4xl rounded-xl ring-2 ring-gray-200",src:s})})]}),o&&(0,uw.jsxs)("a",{href:o,target:"_blank",rel:"noreferrer",className:"mt-10 inline-flex items-center justify-center space-x-2 text-sm font-medium text-gray-500 transition-colors hover:text-gray-700",children:[(0,uw.jsx)("span",{className:"underline",children:"Learn more"}),(0,uw.jsx)(L8,{className:"h-6 w-6"})]})]},n)}))})]}):(0,uw.jsx)("div",{children:(0,uw.jsx)("div",{id:"table-of-contents",className:"py-8",children:(0,uw.jsxs)("div",{className:"rounded-xl border border-gray-100 bg-gradient-to-br from-white to-gray-100 p-4 text-left text-lg text-gray-700 lg:p-8",children:[(0,uw.jsxs)("span",{children:["Hello ",s,","]}),(0,uw.jsx)("br",{}),(0,uw.jsx)("br",{}),(0,uw.jsx)("span",{children:"VideoGen Academy was created to help you master the art of AI video creation, regardless of skill level. With any new technology, the people who learn to adopt it first will have the most to gain \u2013 and we want that to be you!"}),(0,uw.jsx)("br",{}),(0,uw.jsx)("br",{}),(0,uw.jsx)("span",{children:"Our mission is to save you time and energy creating videos, so we made sure to keep the learning curve as low as possible. Choose a category above to get started. Please let us know if you have any questions or feedback!"}),(0,uw.jsx)("br",{}),(0,uw.jsx)("br",{}),(0,uw.jsxs)("span",{children:["Best Regards,",(0,uw.jsx)("br",{}),"Anton and David",(0,uw.jsx)("br",{}),"Co-founders of VideoGen"]})]})})})}),null!=i&&(0,uw.jsxs)("div",{className:"mt-4 space-y-2 rounded-xl bg-gray-100 p-4",children:[(0,uw.jsx)("h2",{className:"text-left text-xl font-semibold text-gray-900",children:"More resources"}),(0,uw.jsx)("div",{className:"text-md font-normal",children:"Please only contact support if you cannot find the answer to your question using the provided resources. We are a small team and will try our best to respond ASAP :)"}),(0,uw.jsxs)("div",{className:"flex space-x-2",children:[(0,uw.jsx)("div",{className:"flex-shrink",children:(0,uw.jsx)(R3,{})}),(0,uw.jsx)("div",{className:"flex-shrink",children:(0,uw.jsx)(s3,{})})]})]})]})})})},B8=["title","titleId"];var G8,V8=t.forwardRef((function(e,r){var n=e.title,i=e.titleId,a=He(e,B8);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),n?t.createElement("title",{id:i},n):null,t.createElement("path",{d:"m5.433 13.917 1.262-3.155A4 4 0 0 1 7.58 9.42l6.92-6.918a2.121 2.121 0 0 1 3 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 0 1-.65-.65Z"}),t.createElement("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0 0 10 3H4.75A2.75 2.75 0 0 0 2 5.75v9.5A2.75 2.75 0 0 0 4.75 18h9.5A2.75 2.75 0 0 0 17 15.25V10a.75.75 0 0 0-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5Z"}))})),H8=function(e){return e.HAS_SEEN_INITIAL_FEEDBACK_MODAL="HAS_SEEN_INITIAL_FEEDBACK_MODAL",e}(H8||{}),W8=function(){function e(t){var r=t.key,n=t.castAsValue,i=t.defaultValue;c(this,e),this.key=void 0,this.castAsValue=void 0,this.defaultValue=void 0,this.cachedStringifiedValue=void 0,this.key=r,this.castAsValue=n,this.defaultValue=i,this.cachedStringifiedValue=null}return h(e,[{key:"setValue",value:function(e){var t=JSON.stringify(e);if(this.cachedStringifiedValue!==t)try{localStorage.setItem(this.key,t),this.cachedStringifiedValue=t}catch(r){console.error("Error setting localStorage item:",r)}}},{key:"getValue",value:function(){var e,t=null!==(e=this.cachedStringifiedValue)&&void 0!==e?e:localStorage.getItem(this.key);if(null==t)return this.defaultValue;try{var r=this.castAsValue(JSON.parse(t));return this.cachedStringifiedValue=t,r}catch(n){return console.error("Error retrieving or casting localStorage item:",n),null}}}]),e}(),q8={HasSeenInitialFeedbackModal:new W8({key:H8.HAS_SEEN_INITIAL_FEEDBACK_MODAL,castAsValue:Sn.TypeT.castAsBoolean,defaultValue:!1})},z8=["\ud83d\ude20","\ud83d\ude41","\ud83d\ude10","\ud83d\ude42","\ud83d\ude01"],Y8=function(e){return e.SCRIPT="SCRIPT",e.BACKGROUND="BACKGROUND",e.PACING="PACING",e.VOICEOVER="VOICEOVER",e.CAPTIONS="CAPTIONS",e.OTHER="OTHER",e}({}),X8=(We(G8={},Y8.SCRIPT,{name:"Script Generation",type:Y8.SCRIPT,icon:(0,uw.jsx)(fG,{}),relevantTutorialCollection:D8.SCRIPT}),We(G8,Y8.BACKGROUND,{name:"Background Footage",type:Y8.BACKGROUND,icon:(0,uw.jsx)(pG,{}),relevantTutorialCollection:D8.SCENES}),We(G8,Y8.PACING,{name:"Video Pacing",type:Y8.PACING,icon:(0,uw.jsx)(y8,{}),relevantTutorialCollection:D8.SCENES}),We(G8,Y8.VOICEOVER,{name:"AI Voice-over",type:Y8.VOICEOVER,icon:(0,uw.jsx)(yG,{}),relevantTutorialCollection:D8.VOICE}),We(G8,Y8.CAPTIONS,{name:"Captions",type:Y8.CAPTIONS,icon:(0,uw.jsx)(SG,{}),relevantTutorialCollection:D8.CAPTIONS}),We(G8,Y8.OTHER,{name:"Other",type:Y8.OTHER,icon:(0,uw.jsx)(S8,{}),relevantTutorialCollection:void 0}),G8),K8=function(){var e=jD(),r=k((0,t.useState)(null),2),n=r[0],i=r[1],a=k((0,t.useState)(null),2),o=a[0],s=a[1],u=k((0,t.useState)(""),2),c=u[0],l=u[1],d=k((0,t.useState)(!1),2),f=d[0],h=d[1],p=MD(aw.selectPrivateWorkspaceInfo),v=(Sn.WorkspaceH.getNextHighestWorkspaceAuthLevel(Sn.WorkspaceH.getWorkspaceAuthLevel(p)),(0,t.useMemo)((function(){return null!=n}),[n])),g=(0,t.useMemo)((function(){return null!=o}),[o]),m=(0,t.useMemo)((function(){return o===Y8.OTHER}),[o]),y=(0,t.useCallback)((function(e){i(e),Mx("submit_feedback_rating",{rating:e,outOf:z8.length})}),[]),b=(0,t.useCallback)((function(e){s(e),Mx("submit_feedback_feature_improvement",{keyFeature:e,selectedRating:n}),e!==Y8.OTHER&&h(!0)}),[n]),S=(0,t.useCallback)((function(e){l(e.target.value)}),[]),E=(0,t.useCallback)((function(){Mx("submit_additional_feedback",{additionalFeedback:c,selectedRating:n}),h(!0)}),[c,n]),x=((0,t.useCallback)((function(){var e=(0,uw.jsx)("span",{children:"Learn more with VideoGen Academy"});if(null==o)return e;var t=X8[o].relevantTutorialCollection;return null==t?e:(0,uw.jsxs)("span",{children:["View recommended tutorials\xa0",(0,uw.jsxs)("span",{className:"text-gray-500",children:["(",F8[t].title,")"]})]})}),[o]),(0,t.useCallback)((function(){Mx("click_learn_more",{selectedKeyFeatureType:o,selectedRating:n});try{if(null==o)e(_w());else{var t=X8[o].relevantTutorialCollection;e(_w({preSelectedTutorialCollection:t}))}}catch(r){e(UM.handleError(r))}}),[e,o,n]),(0,t.useCallback)((function(){Mx("click_continue_editing",{selectedKeyFeatureType:o,selectedRating:n});try{e(Iw())}catch(t){e(UM.handleError(t))}}),[e,o,n])),w=(0,t.useCallback)((function(){if(Mx("click_upgrade_and_download",{selectedKeyFeatureType:o,selectedRating:n}),Sn.WorkspaceH.workspaceInfoSatisfiesAuthLevel({workspaceInfo:p,requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.STARTER}))e(Ew());else try{e(yw({upgradeAction:{type:Sn.ErrorT.KnownErrorActionType.UPGRADE,currentWorkspaceAuthLevel:Sn.WorkspaceH.getWorkspaceAuthLevel(p),requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.STARTER,upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"download and share your video"}}))}catch(t){e(UM.handleError(t))}}),[e,p,o,n]);return(0,t.useEffect)((function(){q8.HasSeenInitialFeedbackModal.setValue(!0)}),[]),(0,uw.jsx)("div",{className:"w-full transition-all",children:(0,uw.jsxs)("div",{className:"relative max-w-2xl md:h-72 md:w-screen",children:[!v&&(0,uw.jsxs)("div",{className:"flex h-full flex-col items-center justify-center",children:[(0,uw.jsx)("div",{className:"flex-shrink pt-2",children:(0,uw.jsx)("div",{className:"text-center text-2xl font-semibold text-gray-900",children:"How would you rate your experience so far?"})}),(0,uw.jsx)("div",{className:"flex flex-grow justify-center gap-2 pb-8 pt-2 text-center",children:z8.map((function(e,t){return(0,uw.jsx)("div",{className:"flex items-center",children:(0,uw.jsx)("button",{className:Dn("group rounded-xl p-2 text-5xl outline-none transition-all hover:bg-gray-100 sm:p-4",n===t?"bg-gray-100":"hover:bg-gray-100"),onClick:function(){y(t+1)},children:(0,uw.jsx)("div",{className:Dn("scale-100 transition-all group-hover:scale-125 group-hover:opacity-100",n===t?"scale-125":"",v&&n!==t?"opacity-50":""),children:e})})},e)}))})]},"rating"),v&&!g&&(0,uw.jsxs)("div",{children:[(0,uw.jsx)("div",{className:"pb-8 pt-2",children:(0,uw.jsx)("div",{className:"text-center text-2xl font-semibold text-gray-900",children:"What could we improve to make your experience better?"})}),(0,uw.jsx)("div",{className:"grid grid-cols-3 gap-2",children:Object.values(X8).map((function(e){var t=e.name,r=e.type,n=e.icon,i=(e.relevantTutorialCollection,o===r);return(0,uw.jsxs)("button",{className:Dn("col-span-1 items-center space-y-2 rounded-xl p-6 text-center text-gray-700 outline-none transition-all focus:outline-none",i?"bg-gray-200 text-gray-900":"bg-gray-100 hover:bg-gray-200 hover:text-gray-900",null==o||i?"":"opacity-50"),onClick:function(){b(r)},children:[(0,uw.jsx)("div",{className:"mx-auto h-6 w-6",children:n}),(0,uw.jsx)("p",{className:"text-md font-medium",children:t})]},t)}))})]},"key-feature"),m&&!f&&(0,uw.jsxs)("div",{className:"flex h-full flex-col justify-center space-y-2",children:[(0,uw.jsx)("div",{className:"mb-2",children:(0,uw.jsx)("span",{className:"text-2xl font-semibold text-gray-900",children:"How can we improve your experience?"})}),(0,uw.jsx)(Mn,{value:c,onChange:S,className:"text-md relative block w-full flex-grow cursor-text rounded-xl border-gray-200 bg-transparent bg-none px-3 py-2 text-gray-900 opacity-100 outline-none ring-0 transition-colors placeholder:text-gray-400 hover:border-gray-300 focus:border-gray-300 focus:outline-none focus:ring-0",placeholder:"Please provide more details...",style:{resize:"none"},minRows:3}),(0,uw.jsx)("div",{className:"space-y-1",children:(0,uw.jsx)("button",{type:"button",onClick:E,className:"text-md rounded-xl bg-main-600 px-3 py-2 font-medium text-white transition-colors hover:bg-main-700 focus:outline-none focus:ring-0",children:"Submit feedback"})})]}),f&&(0,uw.jsxs)("div",{className:"flex h-full flex-col justify-center space-y-2",children:[(0,uw.jsx)("div",{className:"mb-4",children:(0,uw.jsxs)("div",{children:[(0,uw.jsx)("h3",{className:"text-4xl font-semibold text-gray-900",children:"Thank you for your feedback!"}),(0,uw.jsx)("p",{className:"mt-2 text-lg text-gray-700",children:"We appreciate your input and will use it to improve your experience."})]})}),(0,uw.jsxs)("div",{className:"space-y-2 text-lg",children:[(0,uw.jsxs)("button",{onClick:w,className:"group flex w-full items-center space-x-4 rounded-2xl border border-gray-200 p-2 transition-colors hover:bg-gray-200",children:[(0,uw.jsx)("div",{className:"h-10 w-10 rounded-xl bg-gray-900 p-[9px] text-white",children:(0,uw.jsx)(bn,{})}),(0,uw.jsx)("span",{children:"Download and share your video"})]}),(0,uw.jsxs)("button",{onClick:x,className:"group flex w-full items-center space-x-4 rounded-2xl border border-gray-200 p-2 transition-colors  hover:bg-gray-200",children:[(0,uw.jsx)("div",{className:"h-10 w-10 rounded-xl bg-gray-200 p-2 text-gray-900",children:(0,uw.jsx)(V8,{})}),(0,uw.jsx)("span",{children:"Continue editing your video"})]}),(0,uw.jsxs)(aG,{to:"/new",target:"_blank",className:"group flex w-full items-center space-x-4 rounded-2xl border border-gray-200 p-2 transition-colors hover:bg-gray-200",children:[(0,uw.jsx)("div",{className:"h-10 w-10 rounded-xl bg-main-600 p-2 text-white",children:(0,uw.jsx)(uG,{})}),(0,uw.jsx)("span",{children:"Generate a new video"})]})]})]})]})})},J8=["Clear and concise report suitable for a business meeting","A casual, friendly tone perfect for chatting with friends","Narrative story that captures the imagination of children","Humorous and entertaining, intended for a comedy club audience","Analytical and detailed explanation for data scientists","Epic and grandiose style, reminiscent of ancient legends","Persuasive and convincing tone, targeted at potential investors","Eerie and haunting style to craft a chilling horror story","Engaging marketing material for an audience of artists and writers"],Z8=function(e){var r=e.initialBrand,n=e.isBrandNew,i=jD(),a=MD(aw.selectPrivateWorkspaceInfo),o=k((0,t.useState)(r),2),s=o[0],u=o[1],c=k((0,t.useState)(!1),2),l=c[0],d=c[1],f=k((0,t.useState)(0),2),h=f[0],p=f[1];(0,t.useEffect)((function(){var e=setInterval((function(){p((function(e){return(e+1)%J8.length}))}),4e3);return function(){clearInterval(e)}}),[]),(0,t.useEffect)((function(){try{Sn.WorkspaceH.checkWorkspaceInfoSatisfiesAuthLevel({workspaceInfo:a,requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.PRO,upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"create a brand"})}catch(e){i(Iw()),i(UM.handleError(e))}}),[i,a]);var v=(0,t.useMemo)((function(){var e;return null!==(e=Sn.ArrayH.arrGetOrOmit(J8,h))&&void 0!==e?e:Sn.ArrayH.arrGetFirst(J8)}),[h]),g=(0,t.useCallback)((function(e){u((function(t){return ze(ze({},t),{},{name:e})}))}),[]),m=(0,t.useCallback)((function(e){u((function(t){return ze(ze({},t),{},{customInstructions:e.target.value})}))}),[]),y=(0,t.useCallback)((function(e){u((function(t){return ze(ze({},t),{},{writingStyle:e.target.value})}))}),[]),b=(0,t.useCallback)((function(){i(Iw())}),[i]),S=(0,t.useCallback)(Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,i(hD.saveBrand({newBrand:s})).unwrap();case 4:i(Iw()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),i(UM.handleError(e.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to save brand.",{rawData:{brand:s}})}));case 10:d(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])}))),[i,s]);return(0,uw.jsxs)("div",{className:"flex w-full max-w-2xl flex-col gap-4 md:w-screen",onClick:function(e){e.stopPropagation()},children:[(0,uw.jsxs)("div",{children:[(0,uw.jsx)("h3",{className:"text-4xl font-semibold text-gray-900",children:n?"New brand":"Edit brand"}),(0,uw.jsx)("p",{className:"mt-2 text-lg text-gray-700",children:"Tune VideoGen's AI to create videos with your brand in mind."})]}),(0,uw.jsx)("div",{className:"mt-2",children:(0,uw.jsx)(g1,{className:"relative",value:s.name,onNewValue:g,placeholder:"Brand name"})}),(0,uw.jsx)("div",{children:(0,uw.jsxs)("div",{children:[(0,uw.jsxs)("div",{className:"mb-4 mt-4",children:[(0,uw.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Writing Style"}),(0,uw.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"What tone and style should VideoGen's AI use for video scripts?"})]}),(0,uw.jsx)(Mn,{className:"w-full rounded-xl border-gray-200 px-3 py-2 text-base text-gray-900 outline-none ring-0 transition-colors placeholder:text-gray-400 hover:border-gray-300 focus:border-gray-700 focus:outline-none focus:ring-1 focus:ring-inset focus:ring-gray-700",value:s.writingStyle,onChange:y,minRows:2,maxRows:10,style:{resize:"none"},placeholder:v})]})}),(0,uw.jsxs)("div",{children:[(0,uw.jsxs)("div",{className:"mb-4",children:[(0,uw.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Knowledge Base"}),(0,uw.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"What would you like VideoGen's AI to know about your brand?"})]}),(0,uw.jsx)(Mn,{className:"w-full rounded-xl border-gray-200 px-3 py-2 text-base text-gray-900 outline-none ring-0 transition-colors placeholder:text-gray-400 hover:border-gray-300 focus:border-gray-700 focus:outline-none focus:ring-1 focus:ring-inset focus:ring-gray-700",value:s.customInstructions,onChange:m,minRows:5,maxRows:10,style:{resize:"none"},placeholder:"".concat(s.name?s.name:"This brand"," is...")})]}),(0,uw.jsxs)("div",{className:"flex h-10 items-stretch gap-2",children:[(0,uw.jsx)(tD,{className:"inline-flex flex-grow items-center justify-center rounded-xl bg-main-600 px-4 text-base font-medium text-white hover:bg-main-700 focus:outline-none focus:ring-0",isLoading:l,onClick:S,children:n?"Create brand":"Save brand"}),(0,uw.jsx)("button",{className:"flex flex-shrink-0 items-center justify-center rounded-xl border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-0",onClick:b,children:"Cancel"})]})]})},Q8=function(){return(0,uw.jsxs)("div",{className:"w-full max-w-xs space-y-6",children:[(0,uw.jsx)("h1",{className:"text-xl font-medium text-gray-900",children:"\ud83c\udf89\xa0\xa0New Update Available"}),(0,uw.jsxs)("p",{className:"text-gray-900",children:["We're working hard to constantly improve VideoGen with new features and bug fixes.",(0,uw.jsx)("br",{}),(0,uw.jsx)("br",{}),"Please refresh the page to update VideoGen and continue using it."]}),(0,uw.jsx)("div",{children:(0,uw.jsx)("button",{onClick:function(){window.location.reload()},className:"flex w-full items-center justify-center rounded-xl border border-transparent bg-main-600 px-4 py-2 text-center text-base font-semibold text-white transition-all hover:bg-main-700 md:block",children:"Refresh to\xa0update"})})]})},$8=function(){return(0,uw.jsxs)("div",{className:"w-screen max-w-xs space-y-2",children:[(0,uw.jsx)("h1",{className:"text-xl font-medium text-gray-900",children:"Sign up to VideoGen and create videos like this in seconds."}),(0,uw.jsx)("div",{children:(0,uw.jsx)("a",{href:"/",target:"_blank",rel:"noreferrer",className:"text-md mt-2 inline-block w-full rounded-xl bg-main-600 px-4 py-2 text-center font-semibold text-white shadow-md transition-colors hover:bg-main-700 disabled:animate-pulse disabled:cursor-not-allowed disabled:bg-gray-700",children:"Sign up for free"})})]})},e9=function(){var e=jD(),r=MD(aw.selectPrivateWorkspaceInfo),n=k((0,t.useState)(""),2),i=n[0],a=n[1],o=k((0,t.useState)(!1),2),s=o[0],u=o[1],c=k((0,t.useState)(null),2),l=c[0],d=c[1],f=k((0,t.useState)(!1),2),h=f[0],p=f[1];(0,t.useEffect)((function(){try{Sn.WorkspaceH.checkWorkspaceInfoSatisfiesAuthLevel({workspaceInfo:r,requiredWorkspaceAuthLevel:Sn.WorkspaceT.WorkspaceAuthLevel.BUSINESS,upgradeRequirement:{type:Sn.ErrorT.KnownErrorUpgradeRequirementType.UNSPECIFIED_UPGRADE},upgradeToIncreaseMessage:"use the VideoGen API"})}catch(t){e(Iw()),e(UM.handleError(t))}}),[e,r]);var v=(0,t.useCallback)((function(){e(Iw())}),[e]),g=(0,t.useCallback)(Ot(Pt().mark((function t(){var r,n;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.prev=1,t.next=4,e(bD.createExternalApiKeyInfo({newExternalApiKeyNickname:i})).unwrap();case 4:r=t.sent,n=r._privateNewExternalApiKey,d(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(UM.handleError(t.t0,{defaultErr:Sn.ErrorH.newFatalError("Failed to create API key.",{rawData:{newExternalApiKeyNickname:i}})}));case 12:u(!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])}))),[e,i]),m=(0,t.useCallback)((function(){p((function(e){return!e}))}),[]);return(0,uw.jsx)("div",{className:"flex w-screen max-w-lg flex-col gap-4",onClick:function(e){e.stopPropagation()},children:null==l?(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)("h3",{className:"text-center text-xl font-semibold leading-6 text-gray-900 sm:text-left",children:"New API Key"}),(0,uw.jsxs)("div",{children:[(0,uw.jsx)("h3",{className:"mb-2 text-sm font-medium text-gray-900",children:"API Key Nickname"}),(0,uw.jsx)(g1,{className:"relative",value:i,onNewValue:a})]}),(0,uw.jsxs)("div",{className:"flex h-10 items-stretch gap-2",children:[(0,uw.jsx)(tD,{className:"inline-flex flex-grow items-center justify-center rounded-xl bg-main-600 px-4 text-base font-medium text-white hover:bg-main-700 focus:outline-none focus:ring-0",isLoading:s,onClick:g,children:"Generate API Key"}),(0,uw.jsx)("button",{className:"flex flex-shrink-0 items-center justify-center rounded-xl border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-0",onClick:v,children:"Cancel"})]})]}):(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)("h3",{className:"text-center text-xl font-semibold leading-6 text-gray-900 sm:text-left",children:"New API Key"}),(0,uw.jsxs)("div",{className:"flex max-w-lg flex-col gap-2 rounded-lg border-2 border-yellow-200 bg-yellow-100 p-3 text-yellow-900",children:[(0,uw.jsxs)("div",{className:"flex items-center",children:[(0,uw.jsx)(ZB,{className:"mr-2 h-5 w-5"}),(0,uw.jsx)("h3",{className:"text-lg font-bold",children:"Important Warning!"})]}),(0,uw.jsx)("p",{children:"After you close this page, you'll never be able to see this API key again on the VideoGen website. Make sure to record it somewhere safe."}),(0,uw.jsx)("p",{className:"mt-2",children:"If you do lose your API key, you can always delete it and generate a new one."})]}),(0,uw.jsx)("div",{className:"rounded-xl bg-gray-100 p-4",children:(0,uw.jsx)("code",{className:"font-mono text-base font-semibold",children:h?l:"*".repeat(l.length)})}),(0,uw.jsx)("div",{children:(0,uw.jsx)("button",{className:"text-sm font-medium text-gray-500 hover:text-gray-600",onClick:m,children:(0,uw.jsx)("u",{children:h?(0,uw.jsx)(uw.Fragment,{children:"Hide API key"}):(0,uw.jsx)(uw.Fragment,{children:"Show API key"})})})})]})})},t9=function(){var e,r=jD(),n=MD(C1),i=MD(P1),a=MD(kk.selectIsProjectLoaded),o=MD(aw.selectWorkspaceInfo),s=MD(aw.selectSimpleUser),u=(0,t.useCallback)((function(){r(Iw())}),[r]),c=(0,t.useMemo)((function(){return null==(null===i||void 0===i?void 0:i.type)?null:pw[i.type]}),[null===i||void 0===i?void 0:i.type]),l=(0,t.useMemo)((function(){return null==c||!a&&c.requiresProject||(null==o||null==s)&&c.isPrivate}),[a,o,s,c]);(0,t.useEffect)((function(){l&&r(Iw())}),[r,l]);var d=(0,t.useMemo)((function(){if(null==i||l)return null;switch(i.type){case hw.UPGRADE:var e=i.upgradeAction;return(0,uw.jsx)(C7,{isOpen:n,upgradeAction:e});case hw.DELETE_ACCOUNT:return(0,uw.jsx)(c8,{});case hw.MANAGE_SUBSCRIPTION:return(0,uw.jsx)(l8,{});case hw.EXPORT:return(0,uw.jsx)(f8,{});case hw.EXPORT_JOBS:return(0,uw.jsx)(g8,{});case hw.STORAGE_FILE_PREVIEW:var t=i.storageFileId;return(0,uw.jsx)(h8,{storageFileId:t});case hw.INITIAL_FEEDBACK:return(0,uw.jsx)(K8,{});case hw.ACADEMY:var r=i.preSelectedTutorialCollection;return(0,uw.jsx)(U8,{preSelectedTutorialCollection:r});case hw.EDIT_BRAND:var a=i.initialBrand,o=i.isBrandNew;return(0,uw.jsx)(Z8,{initialBrand:a,isBrandNew:o});case hw.REFRESH_TO_UPDATE:return(0,uw.jsx)(Q8,{});case hw.VIEW_SIGN_UP_CTA:return(0,uw.jsx)($8,{});case hw.CREATE_API_KEY:return(0,uw.jsx)(e9,{});default:return Sn.ErrorH.assertNever(i)}}),[l,n,i]);return l?(0,uw.jsx)(uw.Fragment,{}):(0,uw.jsx)(zB,{isModalOpen:n,closeModal:u,showX:null!==(e=null===c||void 0===c?void 0:c.showX)&&void 0!==e&&e,children:d})},r9=function(){return(0,uw.jsx)(L4,{currentPage:g5.DUBBING})},n9={success:"bg-white data-cy-toast-success",error:"bg-white data-cy-toast-error",info:"bg-white data-cy-toast-info",warning:"bg-white data-cy-toast-warning",default:"bg-white data-cy-toast-default",dark:"bg-white-600 font-gray-300 data-cy-toast-dark"};dw()||Rx.ZP.gtag("consent","default",{ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",analytics_storage:"denied",region:"EEA"}),Rx.ZP.gtag("consent","default",{ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted",analytics_storage:"granted"}),Rx.ZP.initialize(Sn.AnalyticsC.GOOGLE_ANALYTICS_ID),sw().init(Sn.AnalyticsC.FACEBOOK_PIXEL_ID);var i9=Sn.WebsiteH.getWebsiteUrlForPath(Ix,"/privacy-policy"),a9=Sn.WebsiteH.getWebsiteUrlForPath(Ix,"/terms-of-service"),o9=function(){var e=be();return(0,t.useEffect)((function(){Mx("page_view",{$page_name:e.pathname}),Rx.ZP.send({hitType:"pageview",page:e.pathname}),sw().pageView()}),[e]),(0,uw.jsxs)("div",{className:"h-screen overflow-auto",children:[(0,uw.jsx)(i5,{}),(0,uw.jsxs)(Fe,{children:[(0,uw.jsx)(Me,{path:"/privacy-policy",element:(0,uw.jsx)(u8,{to:i9})}),(0,uw.jsx)(Me,{path:"/terms-of-service",element:(0,uw.jsx)(u8,{to:a9})}),(0,uw.jsx)(Me,{path:"/",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(j4,{})})}),(0,uw.jsx)(Me,{path:"/home",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(u8,{to:"/"})})}),(0,uw.jsx)(Me,{path:"/ai-artist",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(L6,{})})}),(0,uw.jsx)(Me,{path:"/settings",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(M4,{})})}),(0,uw.jsx)(Me,{path:"/support",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(D4,{})})}),(0,uw.jsx)(Me,{path:"/usage",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(I7,{})})}),(0,uw.jsx)(Me,{path:"/brand-kit",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(O7,{})})}),(0,uw.jsx)(Me,{path:"/api",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(B7,{})})}),(0,uw.jsx)(Me,{path:"/affiliates",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(G7,{})})}),(0,uw.jsx)(Me,{path:"/media",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(F4,{})})}),(0,uw.jsx)(Me,{path:"/dubbing",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(r9,{})})}),(0,uw.jsx)(Me,{path:"/new",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(k6,{})})}),(0,uw.jsx)(Me,{path:"/project",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(u8,{to:"/new"})})}),(0,uw.jsx)(Me,{path:"/project/:projectId",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(i8,{children:(0,uw.jsx)(a5,{})})})}),(0,uw.jsx)(Me,{path:"/view/:exportId",element:(0,uw.jsx)(Z7,{})}),(0,uw.jsx)(Me,{path:"/studio",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(u8,{to:"/project"})})}),(0,uw.jsx)(Me,{path:"/studio/:projectId",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(u8,{to:function(e){return e.pathname.replace("/studio/","/project/")}})})}),(0,uw.jsx)(Me,{path:"/upgrade",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(P7,{})})}),(0,uw.jsx)(Me,{path:"/checkout",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(P7,{})})}),(0,uw.jsx)(Me,{path:"/manage-subscription",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(G4,{})})}),(0,uw.jsx)(Me,{path:"/change-password",element:(0,uw.jsx)(f5,{})}),(0,uw.jsx)(Me,{path:"/signup",element:(0,uw.jsx)(r8,{children:(0,uw.jsx)(l5,{})})}),(0,uw.jsx)(Me,{path:"/signin",element:(0,uw.jsx)(r8,{children:(0,uw.jsx)(d5,{})})}),(0,uw.jsx)(Me,{path:"/logout",element:(0,uw.jsx)(v5,{})}),(0,uw.jsx)(Me,{path:"/signout",element:(0,uw.jsx)(v5,{})}),(0,uw.jsx)(Me,{path:"/error",element:(0,uw.jsx)(q4,{})}),Ix===Sn.ConfigT.Environment.LOCAL&&(0,uw.jsxs)(uw.Fragment,{children:[(0,uw.jsx)(Me,{path:"/local-admin-panel",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(n8,{children:(0,uw.jsx)(R6,{})})})}),(0,uw.jsx)(Me,{path:"/execute-local-tester-command",element:(0,uw.jsx)(a8,{children:(0,uw.jsx)(N6,{})})})]}),(0,uw.jsx)(Me,{path:"/manager-panel",element:(0,uw.jsx)(t8,{children:(0,uw.jsx)(s8,{children:(0,uw.jsx)(U7,{})})})}),(0,uw.jsx)(Me,{path:"*",element:(0,uw.jsx)(H4,{})})]}),(0,uw.jsx)(t9,{}),(0,uw.jsx)(o8,{}),(0,uw.jsx)(Ct,{toastClassName:function(e){var t;return Dn("default"===(null===e||void 0===e?void 0:e.type)?"cursor-default":"cursor-pointer",n9[null!==(t=null===e||void 0===e?void 0:e.type)&&void 0!==t?t:"default"],"top-center"===(null===e||void 0===e?void 0:e.position)?"sm:-mx-8 mt-2 sm:mt-0 w-96":"","relative flex p-2 pb-3 items-center border border-1 border-gray-200 mb-2 rounded-xl justify-between shadow-xl overflow-hidden")},bodyClassName:function(){return"flex space-x-2 text-md text-gray-900 p-2 leading-5"},position:"top-center",autoClose:1e3*Sn.ErrorC.ERROR_DISPLAY_SECONDS,limit:Sn.ErrorC.MAX_DISPLAYED_ERRORS,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,uw.jsx)("canvas",{id:"fabric-generation-canvas",className:"hidden"})]})},s9=(0,t.createContext)(null),u9={didCatch:!1,error:null},c9=function(e){v(n,e);var r=b(n);function n(e){var t;return c(this,n),(t=r.call(this,e)).resetErrorBoundary=t.resetErrorBoundary.bind(y(t)),t.state=u9,t}return h(n,[{key:"resetErrorBoundary",value:function(){if(null!==this.state.error){for(var e,t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];null===(e=(t=this.props).onReset)||void 0===e||e.call(t,{args:n,reason:"imperative-api"}),this.setState(u9)}}},{key:"componentDidCatch",value:function(e,t){var r,n;null===(r=(n=this.props).onError)||void 0===r||r.call(n,e,t)}},{key:"componentDidUpdate",value:function(e,t){var r,n,i=this.state.didCatch,a=this.props.resetKeys;i&&null!==t.error&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((function(e,r){return!Object.is(e,t[r])}))}(e.resetKeys,a)&&(null===(r=(n=this.props).onReset)||void 0===r||r.call(n,{next:a,prev:e.resetKeys,reason:"keys"}),this.setState(u9))}},{key:"render",value:function(){var e=this.props,r=e.children,n=e.fallbackRender,i=e.FallbackComponent,a=e.fallback,o=this.state,s=o.didCatch,u=o.error,c=r;if(s){var l={error:u,resetErrorBoundary:this.resetErrorBoundary};if("function"===typeof n)c=n(l);else if(i)c=(0,t.createElement)(i,l);else{if(null!==a&&!(0,t.isValidElement)(a))throw u;c=a}}return(0,t.createElement)(s9.Provider,{value:{didCatch:s,error:u,resetErrorBoundary:this.resetErrorBoundary}},c)}}],[{key:"getDerivedStateFromError",value:function(e){return{didCatch:!0,error:e}}}]),n}(t.Component);var l9=Sn.WebsiteH.getWebsiteUrlForPath(Ix,"/contact"),d9=function(e){var r=e.error,n=e.resetErrorBoundary,i=(0,t.useMemo)((function(){var e=Sn.ErrorH.convertUnknownErrorToPublicKnownError(r),t=Sn.ErrorH.convertUnknownErrorToSecretKnownError(r),n=e.errorId,i=e.severity,a=e.displayMessage,o=e.action,s=t.rawMessage;return Mx("uncaught-error",{errorId:n,severity:i,displayMessage:a,secretRawMessage:s,action:o}),null===a||void 0===a?void 0:a.replaceAll("Something went wrong.","").trim()}),[r]);return(0,uw.jsxs)("div",{className:"flex min-h-screen flex-col bg-white pb-12 pt-16",children:[(0,uw.jsxs)("main",{className:"mx-auto flex w-full max-w-7xl flex-grow flex-col justify-center px-6 lg:px-8",children:[(0,uw.jsx)("div",{className:"flex flex-shrink-0 justify-center",children:(0,uw.jsxs)(aG,{to:"/",className:"inline-flex",children:[(0,uw.jsx)("span",{className:"sr-only",children:"VideoGen"}),(0,uw.jsx)("img",{className:"h-12 w-auto",src:"/logo-red.svg",alt:"VideoGen Logo"})]})}),(0,uw.jsx)("div",{className:"py-16",children:(0,uw.jsxs)("div",{className:"text-center",children:[(0,uw.jsx)("h1",{className:"mt-2 text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl",children:"Whoops, something went wrong."}),(0,uw.jsx)("p",{className:"mt-2 text-base text-gray-500",children:i}),(0,uw.jsxs)("div",{className:"mt-6 text-center text-gray-500",children:[(0,uw.jsx)("button",{className:"text-base font-medium text-main-600 hover:text-main-500",onClick:n,children:"Reload page"})," ","|"," ",(0,uw.jsx)("button",{onClick:function(){window.location.href=Sn.AppH.getAppBasePath(Ix)},className:"text-base font-medium text-main-600 hover:text-main-500",children:"Return home"})]})]})})]}),(0,uw.jsx)("footer",{className:"mx-auto w-full max-w-7xl flex-shrink-0 px-6 lg:px-8",children:(0,uw.jsx)("nav",{className:"flex justify-center space-x-4",children:(0,uw.jsx)("a",{href:l9,target:"_blank",rel:"noreferrer",className:"text-sm font-medium text-gray-500 hover:text-gray-600",children:"Contact Support"})})})]})},f9=function(e){var t=e.children;return(0,uw.jsx)(c9,{FallbackComponent:d9,onReset:function(){window.location.reload()},children:t})},h9=r(175),p9=r.n(h9),v9=[];function g9(e){var t=e.defaultIntegrations||[],r=e.integrations;t.forEach((function(e){e.isDefaultInstance=!0}));var n=function(e){var t={};return e.forEach((function(e){var r=e.name,n=t[r];n&&!n.isDefaultInstance&&e.isDefaultInstance||(t[r]=e)})),Object.values(t)}(Array.isArray(r)?[].concat(u(t),u(r)):"function"===typeof r?YL(r(t)):t),i=n.findIndex((function(e){return"Debug"===e.name}));if(i>-1){var a=k(n.splice(i,1),1)[0];n.push(a)}return n}function m9(e,t){var r,n=T(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;i&&i.afterAllSetup&&i.afterAllSetup(e)}}catch(a){n.e(a)}finally{n.f()}}function y9(e,t,r){if(r[t.name])Nj&&AL.log("Integration skipped because it was already installed: ".concat(t.name));else{if(r[t.name]=t,-1===v9.indexOf(t.name)&&"function"===typeof t.setupOnce&&(t.setupOnce(),v9.push(t.name)),t.setup&&"function"===typeof t.setup&&t.setup(e),"function"===typeof t.preprocessEvent){var n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(function(t,r){return n(t,r,e)}))}if("function"===typeof t.processEvent){var i=t.processEvent.bind(t),a=Object.assign((function(t,r){return i(t,r,e)}),{id:t.name});e.addEventProcessor(a)}Nj&&AL.log("Integration installed: ".concat(t.name))}}var b9,S9=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],E9=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"InboundFilters",processEvent:function(t,r,n){var i=n.getOptions(),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{allowUrls:[].concat(u(e.allowUrls||[]),u(t.allowUrls||[])),denyUrls:[].concat(u(e.denyUrls||[]),u(t.denyUrls||[])),ignoreErrors:[].concat(u(e.ignoreErrors||[]),u(t.ignoreErrors||[]),u(e.disableErrorDefaults?[]:S9)),ignoreTransactions:[].concat(u(e.ignoreTransactions||[]),u(t.ignoreTransactions||[])),ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,i);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(Nue){}return!1}(e))return Nj&&AL.warn("Event dropped due to being internal Sentry Error.\nEvent: ".concat(HL(e))),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){var t,r=[];e.message&&r.push(e.message);try{t=e.exception.values[e.exception.values.length-1]}catch(Nue){}t&&t.value&&(r.push(t.value),t.type&&r.push("".concat(t.type,": ").concat(t.value)));return r}(e).some((function(e){return OL(e,t)}))}(e,t.ignoreErrors))return Nj&&AL.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: ".concat(HL(e))),!0;if(function(e){if(e.type)return!1;if(!e.exception||!e.exception.values||0===e.exception.values.length)return!1;return!e.message&&!e.exception.values.some((function(e){return e.stacktrace||e.type&&"Error"!==e.type||e.value}))}(e))return Nj&&AL.warn("Event dropped due to not having an error message, error type or stacktrace.\nEvent: ".concat(HL(e))),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;var r=e.transaction;return!!r&&OL(r,t)}(e,t.ignoreTransactions))return Nj&&AL.warn("Event dropped due to being matched by `ignoreTransactions` option.\nEvent: ".concat(HL(e))),!0;if(function(e,t){if(!t||!t.length)return!1;var r=x9(e);return!!r&&OL(r,t)}(e,t.denyUrls))return Nj&&AL.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: ".concat(HL(e),".\nUrl: ").concat(x9(e))),!0;if(!function(e,t){if(!t||!t.length)return!0;var r=x9(e);return!r||OL(r,t)}(e,t.allowUrls))return Nj&&AL.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: ".concat(HL(e),".\nUrl: ").concat(x9(e))),!0;return!1}(t,a)?null:t}}};function x9(e){try{var t;try{t=e.exception.values[0].stacktrace.frames}catch(Nue){}return t?function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length-1;t>=0;t--){var r=e[t];if(r&&"<anonymous>"!==r.filename&&"[native code]"!==r.filename)return r.filename||null}return null}(t):null}catch(r){return Nj&&AL.error("Cannot extract url for event ".concat(HL(e))),null}}var w9=new WeakMap,k9=function(){return{name:"FunctionToString",setupOnce:function(){b9=Function.prototype.toString;try{Function.prototype.toString=function(){for(var e=jL(this),t=w9.has(vj())&&void 0!==e?e:this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return b9.apply(t,n)}}catch(Nue){}},setup:function(e){w9.set(e,!0)}}},_9=function(){var e;return{name:"Dedupe",processEvent:function(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){var r=e.message,n=t.message;if(!r&&!n)return!1;if(r&&!n||!r&&n)return!1;if(r!==n)return!1;if(!A9(e,t))return!1;if(!T9(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){var r=C9(t),n=C9(e);if(!r||!n)return!1;if(r.type!==n.type||r.value!==n.value)return!1;if(!A9(e,t))return!1;if(!T9(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return Nj&&AL.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(r){}return e=t}}};function T9(e,t){var r=Tj(e),n=Tj(t);if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++){var a=n[i],o=r[i];if(a.filename!==o.filename||a.lineno!==o.lineno||a.colno!==o.colno||a.function!==o.function)return!1}return!0}function A9(e,t){var r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return!(r.join("")!==n.join(""))}catch(i){return!1}}function C9(e){return e.exception&&e.exception.values&&e.exception.values[0]}function P9(e,t){!0===t.debug&&(Nj?AL.enable():TL((function(){console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}))),fj().update(t.initialScope);var r=new e(t);return function(e){fj().setClient(e)}(r),r.init(),r}var I9=eL;function O9(){if(!("fetch"in I9))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(Nue){return!1}}function R9(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}var N9={},L9={};function j9(e,t){N9[e]=N9[e]||[],N9[e].push(t)}function M9(e,t){L9[e]||(t(),L9[e]=!0)}function D9(e,t){var r=e&&N9[e];if(r){var n,i=T(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;try{a(t)}catch(Nue){wL&&AL.error("Error while triggering instrumentation handler.\nType: ".concat(e,"\nName: ").concat(_j(a),"\nError:"),Nue)}}}catch(o){i.e(o)}finally{i.f()}}}var F9=eL;var U9,B9=eL;function G9(e){var t="history";j9(t,e),M9(t,V9)}function V9(){if(function(){var e=F9.chrome,t=e&&e.app&&e.app.runtime,r="history"in F9&&!!F9.history.pushState&&!!F9.history.replaceState;return!t&&r}()){var e=B9.onpopstate;B9.onpopstate=function(){var t=B9.location.href,r=U9;if(U9=t,D9("history",{from:r,to:t}),e)try{for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e.apply(this,i)}catch(o){}},RL(B9.history,"pushState",t),RL(B9.history,"replaceState",t)}function t(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.length>2?r[2]:void 0;if(i){var a=U9,o=String(i);U9=o,D9("history",{from:a,to:o})}return e.apply(this,r)}}}function H9(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[t],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"npm",i=e._metadata||{};i.sdk||(i.sdk={name:"sentry.javascript.".concat(t),packages:r.map((function(e){return{name:"".concat(n,":@sentry/").concat(e),version:$N}})),version:$N}),e._metadata=i}var W9=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function q9(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.host,n=e.path,i=e.pass,a=e.port,o=e.projectId,s=e.protocol,u=e.publicKey;return"".concat(s,"://").concat(u).concat(t&&i?":".concat(i):"")+"@".concat(r).concat(a?":".concat(a):"","/").concat(n?"".concat(n,"/"):n).concat(o)}function z9(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Y9(e){var t="string"===typeof e?function(e){var t=W9.exec(e);if(t){var r=k(t.slice(1),6),n=r[0],i=r[1],a=r[2],o=void 0===a?"":a,s=r[3],u=void 0===s?"":s,c=r[4],l=void 0===c?"":c,d=r[5],f="",h=void 0===d?"":d,p=h.split("/");if(p.length>1&&(f=p.slice(0,-1).join("/"),h=p.pop()),h){var v=h.match(/^\d+/);v&&(h=v[0])}return z9({host:u,pass:o,path:f,projectId:h,port:l,protocol:n,publicKey:i})}TL((function(){console.error("Invalid Sentry Dsn: ".concat(e))}))}(e):z9(e);if(t&&function(e){if(!wL)return!0;var t=e.port,r=e.projectId,n=e.protocol;return!["protocol","publicKey","host","projectId"].find((function(t){return!e[t]&&(AL.error("Invalid Sentry Dsn: ".concat(t," missing")),!0)}))&&(r.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(n)?!t||!isNaN(parseInt(t,10))||(AL.error("Invalid Sentry Dsn: Invalid port ".concat(t)),!1):(AL.error("Invalid Sentry Dsn: Invalid protocol ".concat(n)),!1):(AL.error("Invalid Sentry Dsn: Invalid projectId ".concat(r)),!1))}(t))return t}function X9(e){return[e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]]}function K9(e,t){var r=k(e,2),n=r[0],i=r[1];return[n,[].concat(u(i),[t])]}function J9(e,t){var r,n=T(e[1]);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(t(i,i[0].type))return!0}}catch(a){n.e(a)}finally{n.f()}return!1}function Z9(e){return eL.__SENTRY__&&eL.__SENTRY__.encodePolyfill?eL.__SENTRY__.encodePolyfill(e):(new TextEncoder).encode(e)}function Q9(e){var t=k(e,2),r=t[0],n=t[1],i=JSON.stringify(r);function a(e){"string"===typeof i?i="string"===typeof e?i+e:[Z9(i),e]:i.push("string"===typeof e?Z9(e):e)}var o,s=T(n);try{for(s.s();!(o=s.n()).done;){var u=k(o.value,2),c=u[0],l=u[1];if(a("\n".concat(JSON.stringify(c),"\n")),"string"===typeof l||l instanceof Uint8Array)a(l);else{var d=void 0;try{d=JSON.stringify(l)}catch(Nue){d=JSON.stringify(Aj(l))}a(d)}}}catch(f){s.e(f)}finally{s.f()}return"string"===typeof i?i:function(e){var t,r=e.reduce((function(e,t){return e+t.length}),0),n=new Uint8Array(r),i=0,a=T(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;n.set(o,i),i+=o.length}}catch(f){a.e(f)}finally{a.f()}return n}(i)}function $9(e){return[{type:"span"},e]}function eee(e){var t="string"===typeof e.data?Z9(e.data):e.data;return[UL({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}var tee={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function ree(e){return tee[e]}function nee(e){if(e&&e.sdk){var t=e.sdk;return{name:t.name,version:t.version}}}function iee(e,t,r,n){var i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return ze(ze(ze({event_id:e.event_id,sent_at:(new Date).toISOString()},t&&{sdk:t}),!!r&&n&&{dsn:q9(n)}),i&&{trace:UL(ze({},i))})}var aee=function(e){v(r,e);var t=b(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn";return c(this,r),(n=t.call(this,e)).message=e,n.name=(this instanceof r?this.constructor:void 0).prototype.constructor.name,Object.setPrototypeOf(y(n),(this instanceof r?this.constructor:void 0).prototype),n.logLevel=i,n}return h(r)}(E(Error));var oee="7";function see(e){var t=e.protocol?"".concat(e.protocol,":"):"",r=e.port?":".concat(e.port):"";return"".concat(t,"//").concat(e.host).concat(r).concat(e.path?"/".concat(e.path):"","/api/")}function uee(e,t){return r=ze({sentry_key:e.publicKey,sentry_version:oee},t&&{sentry_client:"".concat(t.name,"/").concat(t.version)}),Object.keys(r).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(r[e]))})).join("&");var r}function cee(e,t,r){return t||"".concat(function(e){return"".concat(see(e)).concat(e.projectId,"/envelope/")}(e),"?").concat(uee(e,r))}function lee(e,t,r,n){var i=nee(r),a=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[].concat(u(e.sdk.integrations||[]),u(t.integrations||[])),e.sdk.packages=[].concat(u(e.sdk.packages||[]),u(t.packages||[])))}(e,r&&r.sdk);var o=iee(e,i,n,t);return delete e.sdkProcessingMetadata,X9(o,[[{type:a},e]])}function dee(e){if("boolean"===typeof e)return Number(e);var t="string"===typeof e?parseFloat(e):e;if(!("number"!==typeof t||isNaN(t)||t<0||t>1))return t;Nj&&AL.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ".concat(JSON.stringify(e)," of type ").concat(JSON.stringify(typeof e),"."))}var fee="Not capturing exception because it's already been captured.",hee=function(){function e(t){if(c(this,e),this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Y9(t.dsn):Nj&&AL.warn("No DSN provided, client will not send events."),this._dsn){var r=cee(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport(ze(ze({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},t.transportOptions),{},{url:r}))}}return h(e,[{key:"captureException",value:function(e,t,r){var n=this,i=GL();if(zL(e))return Nj&&AL.log(fee),i;var a=ze({event_id:i},t);return this._process(this.eventFromException(e,a).then((function(e){return n._captureEvent(e,a,r)}))),a.event_id}},{key:"captureMessage",value:function(e,t,r,n){var i=this,a=ze({event_id:GL()},r),o=lL(e)?e:String(e),s=dL(e)?this.eventFromMessage(o,t,a):this.eventFromException(e,a);return this._process(s.then((function(e){return i._captureEvent(e,a,n)}))),a.event_id}},{key:"captureEvent",value:function(e,t,r){var n=GL();if(t&&t.originalException&&zL(t.originalException))return Nj&&AL.log(fee),n;var i=ze({event_id:n},t),a=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,i,a||r)),i.event_id}},{key:"captureSession",value:function(e){"string"!==typeof e.release?Nj&&AL.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),ej(e,{init:!1}))}},{key:"getDsn",value:function(){return this._dsn}},{key:"getOptions",value:function(){return this._options}},{key:"getSdkMetadata",value:function(){return this._options._metadata}},{key:"getTransport",value:function(){return this._transport}},{key:"flush",value:function(e){var t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then((function(r){return t.flush(e).then((function(e){return r&&e}))}))):Ij(!0)}},{key:"close",value:function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,t.emit("close"),e}))}},{key:"getEventProcessors",value:function(){return this._eventProcessors}},{key:"addEventProcessor",value:function(e){this._eventProcessors.push(e)}},{key:"init",value:function(){(this._isEnabled()||this._options.integrations.some((function(e){return e.name.startsWith("Spotlight")})))&&this._setupIntegrations()}},{key:"getIntegrationByName",value:function(e){return this._integrations[e]}},{key:"addIntegration",value:function(e){var t=this._integrations[e.name];y9(this,e,this._integrations),t||m9(this,[e])}},{key:"sendEvent",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.emit("beforeSendEvent",e,r);var n,i=lee(e,this._dsn,this._options._metadata,this._options.tunnel),a=T(r.attachments||[]);try{for(a.s();!(n=a.n()).done;){i=K9(i,eee(n.value))}}catch(s){a.e(s)}finally{a.f()}var o=this.sendEnvelope(i);o&&o.then((function(r){return t.emit("afterSendEvent",e,r)}),null)}},{key:"sendSession",value:function(e){var t=function(e,t,r,n){var i=nee(r);return X9(ze(ze({sent_at:(new Date).toISOString()},i&&{sdk:i}),!!n&&t&&{dsn:q9(t)}),["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t)}},{key:"recordDroppedEvent",value:function(e,t,r){if(this._options.sendClientReports){var n="number"===typeof r?r:1,i="".concat(e,":").concat(t);Nj&&AL.log('Recording outcome: "'.concat(i,'"').concat(n>1?" (".concat(n," times)"):"")),this._outcomes[i]=(this._outcomes[i]||0)+n}}},{key:"on",value:function(e,t){var r=this._hooks[e]=this._hooks[e]||[];return r.push(t),function(){var e=r.indexOf(t);e>-1&&r.splice(e,1)}}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=this._hooks[e];i&&i.forEach((function(e){return e.apply(void 0,r)}))}},{key:"sendEnvelope",value:function(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(function(e){return Nj&&AL.error("Error while sending event:",e),e})):(Nj&&AL.error("Transport disabled"),Ij({}))}},{key:"_setupIntegrations",value:function(){var e=this._options.integrations;this._integrations=function(e,t){var r={};return t.forEach((function(t){t&&y9(e,t,r)})),r}(this,e),m9(this,e)}},{key:"_updateSessionFromEvent",value:function(e,t){var r=!1,n=!1,i=t.exception&&t.exception.values;if(i){n=!0;var a,o=T(i);try{for(o.s();!(a=o.n()).done;){var s=a.value.mechanism;if(s&&!1===s.handled){r=!0;break}}}catch(c){o.e(c)}finally{o.f()}}var u="ok"===e.status;(u&&0===e.errors||u&&r)&&(ej(e,ze(ze({},r&&{status:"crashed"}),{},{errors:e.errors||Number(n||r)})),this.captureSession(e))}},{key:"_isClientDoneProcessing",value:function(e){var t=this;return new Rj((function(r){var n=0,i=setInterval((function(){0==t._numProcessing?(clearInterval(i),r(!0)):(n+=1,e&&n>=e&&(clearInterval(i),r(!1)))}),1)}))}},{key:"_isEnabled",value:function(){return!1!==this.getOptions().enabled&&void 0!==this._transport}},{key:"_prepareEvent",value:function(e,t,r){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:hj(),a=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),this.emit("preprocessEvent",e,t),e.type||i.setLastEventId(e.event_id||t.event_id),AM(a,e,t,r,this,i).then((function(e){if(null===e)return e;var t=ze(ze({},i.getPropagationContext()),r?r.getPropagationContext():void 0);if(!(e.contexts&&e.contexts.trace)&&t){var a=t.traceId,o=t.spanId,s=t.parentSpanId,u=t.dsc;e.contexts=ze({trace:UL({trace_id:a,span_id:o,parent_span_id:s})},e.contexts);var c=u||xM(a,n);e.sdkProcessingMetadata=ze({dynamicSamplingContext:c},e.sdkProcessingMetadata)}return e}))}},{key:"_captureEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return this._processEvent(e,t,r).then((function(e){return e.event_id}),(function(e){if(Nj){var t=e;"log"===t.logLevel?AL.log(t.message):AL.warn(t)}}))}},{key:"_processEvent",value:function(e,t,r){var n=this,i=this.getOptions(),a=i.sampleRate,o=vee(e),s=pee(e),u=e.type||"error",c="before send for type `".concat(u,"`"),l="undefined"===typeof a?void 0:dee(a);if(s&&"number"===typeof l&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error",e),Oj(new aee("Discarding event because it's not included in the random sample (sampling rate = ".concat(a,")"),"log"));var d="replay_event"===u?"replay":u,f=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,r,f).then((function(r){if(null===r)throw n.recordDroppedEvent("event_processor",d,e),new aee("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return r;var a=function(e,t,r,n){var i=t.beforeSend,a=t.beforeSendTransaction,o=t.beforeSendSpan;if(pee(r)&&i)return i(r,n);if(vee(r)){if(r.spans&&o){var s,u=[],c=T(r.spans);try{for(c.s();!(s=c.n()).done;){var l=o(s.value);l?u.push(l):e.recordDroppedEvent("before_send","span")}}catch(f){c.e(f)}finally{c.f()}r.spans=u}if(a){if(r.spans){var d=r.spans.length;r.sdkProcessingMetadata=ze(ze({},r.sdkProcessingMetadata),{},{spanCountBeforeProcessing:d})}return a(r,n)}}return r}(n,i,r,t);return function(e,t){var r="".concat(t," must return `null` or a valid event.");if(pL(e))return e.then((function(e){if(!fL(e)&&null!==e)throw new aee(r);return e}),(function(e){throw new aee("".concat(t," rejected with ").concat(e))}));if(!fL(e)&&null!==e)throw new aee(r);return e}(a,c)})).then((function(i){if(null===i){if(n.recordDroppedEvent("before_send",d,e),o){var a=1+(e.spans||[]).length;n.recordDroppedEvent("before_send","span",a)}throw new aee("".concat(c," returned `null`, will not send event."),"log")}var s=r&&r.getSession();if(!o&&s&&n._updateSessionFromEvent(s,i),o){var u=(i.sdkProcessingMetadata&&i.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(i.spans?i.spans.length:0);u>0&&n.recordDroppedEvent("before_send","span",u)}var l=i.transaction_info;if(o&&l&&i.transaction!==e.transaction){i.transaction_info=ze(ze({},l),{},{source:"custom"})}return n.sendEvent(i,t),i})).then(null,(function(e){if(e instanceof aee)throw e;throw n.captureException(e,{data:{__sentry__:!0},originalException:e}),new aee("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ".concat(e))}))}},{key:"_process",value:function(e){var t=this;this._numProcessing++,e.then((function(e){return t._numProcessing--,e}),(function(e){return t._numProcessing--,e}))}},{key:"_clearOutcomes",value:function(){var e=this._outcomes;return this._outcomes={},Object.entries(e).map((function(e){var t=k(e,2),r=t[0],n=t[1],i=k(r.split(":"),2);return{reason:i[0],category:i[1],quantity:n}}))}},{key:"_flushOutcomes",value:function(){Nj&&AL.log("Flushing outcomes...");var e=this._clearOutcomes();if(0!==e.length)if(this._dsn){Nj&&AL.log("Sending outcomes:",e);var t,r,n,i=(t=e,X9((r=this._options.tunnel&&q9(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:n||JL(),discarded_events:t}]]));this.sendEnvelope(i)}else Nj&&AL.log("No dsn provided, will not send outcomes");else Nj&&AL.log("No outcomes to send")}}]),e}();function pee(e){return void 0===e.type}function vee(e){return"transaction"===e.type}var gee="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function mee(e,t){var r=See(e,t),n={type:t&&t.name,value:xee(t)};return r.length&&(n.stacktrace={frames:r}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function yee(e,t,r,n){var i=vj(),a=i&&i.getOptions().normalizeDepth,o=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var r=e[t];if(r instanceof Error)return r}return}(t),s={__serialized__:Cj(t,a)};if(o)return{exception:{values:[mee(e,o)]},extra:s};var u={exception:{values:[{type:hL(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:_ee(t,{isUnhandledRejection:n})}]},extra:s};if(r){var c=See(e,r);c.length&&(u.exception.values[0].stacktrace={frames:c})}return u}function bee(e,t){return{exception:{values:[mee(e,t)]}}}function See(e,t){var r=t.stacktrace||t.stack||"",n=function(e){if(e&&Eee.test(e.message))return 1;return 0}(t),i=function(e){if("number"===typeof e.framesToPop)return e.framesToPop;return 0}(t);try{return e(r,n,i)}catch(Nue){}return[]}var Eee=/Minified React error #\d+;/i;function xee(e){var t=e&&e.message;return t?t.error&&"string"===typeof t.error.message?t.error.message:t:"No error message"}function wee(e,t,r,n,i){var a;if(sL(t)&&t.error)return bee(e,t.error);if(uL(t)||oL(t,"DOMException")){var o=t;if("stack"in t)a=bee(e,t);else{var s=o.name||(uL(o)?"DOMError":"DOMException"),u=o.message?"".concat(s,": ").concat(o.message):s;WL(a=kee(e,u,r,n),u)}return"code"in o&&(a.tags=ze(ze({},a.tags),{},{"DOMException.code":"".concat(o.code)})),a}return aL(t)?bee(e,t):fL(t)||hL(t)?(qL(a=yee(e,t,r,i),{synthetic:!0}),a):(WL(a=kee(e,t,r,n),"".concat(t),void 0),qL(a,{synthetic:!0}),a)}function kee(e,t,r,n){var i={};if(n&&r){var a=See(e,r);a.length&&(i.exception={values:[{value:t,stacktrace:{frames:a}}]})}if(lL(t)){var o=t.__sentry_template_string__,s=t.__sentry_template_values__;return i.logentry={message:o,params:s},i}return i.message=t,i}function _ee(e,t){var r=t.isUnhandledRejection,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,r=Object.keys(ML(e));r.sort();var n=r[0];if(!n)return"[object has no keys]";if(n.length>=t)return CL(n,t);for(var i=r.length;i>0;i--){var a=r.slice(0,i).join(", ");if(!(a.length>t))return i===r.length?a:CL(a,t)}return""}(e),i=r?"promise rejection":"exception";if(sL(e))return"Event `ErrorEvent` captured as ".concat(i," with message `").concat(e.message,"`");if(hL(e)){var a=function(e){try{var t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(Nue){}}(e);return"Event `".concat(a,"` (type=").concat(e.type,") captured as ").concat(i)}return"Object captured as ".concat(i," with keys: ").concat(n)}var Tee=eL,Aee=0;function Cee(){return Aee>0}function Pee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if("function"!==typeof e)return e;try{var n=e.__sentry_wrapped__;if(n)return n;if(jL(e))return e}catch(Nue){return e}var i=function(){var n=Array.prototype.slice.call(arguments);try{r&&"function"===typeof r&&r.apply(this,arguments);var i=n.map((function(e){return Pee(e,t)}));return e.apply(this,i)}catch(a){throw Aee++,setTimeout((function(){Aee--})),pj((function(e){e.addEventProcessor((function(e){return t.mechanism&&(WL(e,void 0,void 0),qL(e,t.mechanism)),e.extra=ze(ze({},e.extra),{},{arguments:n}),e})),OM(a)})),a}};try{for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a])}catch(o){}LL(i,e),NL(e,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:function(){return e.name}})}catch(o){}return i}var Iee,Oee,Ree,Nee=function(e){v(r,e);var t=b(r);function r(e){var n;c(this,r);var i=ze({parentSpanIsAlwaysRootSpan:!0},e);return H9(i,"browser",["browser"],Tee.SENTRY_SDK_SOURCE||"npm"),n=t.call(this,i),i.sendClientReports&&Tee.document&&Tee.document.addEventListener("visibilitychange",(function(){"hidden"===Tee.document.visibilityState&&n._flushOutcomes()})),n}return h(r,[{key:"eventFromException",value:function(e,t){return function(e,t,r,n){var i=wee(e,t,r&&r.syntheticException||void 0,n);return qL(i),i.level="error",r&&r.event_id&&(i.event_id=r.event_id),Ij(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}},{key:"eventFromMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2?arguments[2]:void 0;return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=kee(e,t,n&&n.syntheticException||void 0,i);return a.level=r,n&&n.event_id&&(a.event_id=n.event_id),Ij(a)}(this._options.stackParser,e,t,r,this._options.attachStacktrace)}},{key:"captureUserFeedback",value:function(e){if(this._isEnabled()){var t=function(e,t){var r=t.metadata,n=t.tunnel,i=t.dsn,a=ze(ze({event_id:e.event_id,sent_at:(new Date).toISOString()},r&&r.sdk&&{sdk:{name:r.sdk.name,version:r.sdk.version}}),!!n&&!!i&&{dsn:q9(i)}),o=function(e){return[{type:"user_report"},e]}(e);return X9(a,[o])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(t)}else gee&&AL.warn("SDK not enabled, will not capture user feedback.")}},{key:"_prepareEvent",value:function(e,t,n){return e.platform=e.platform||"javascript",to(g(r.prototype),"_prepareEvent",this).call(this,e,t,n)}}]),r}(hee),Lee=1e3;function jee(e){j9("dom",e),M9("dom",Mee)}function Mee(){if(B9.document){var e=D9.bind(null,"dom"),t=Dee(e,!0);B9.document.addEventListener("click",t,!1),B9.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((function(t){var r=B9[t]&&B9[t].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(RL(r,"addEventListener",(function(t){return function(r,n,i){if("click"===r||"keypress"==r)try{var a=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},o=a[r]=a[r]||{refCount:0};if(!o.handler){var s=Dee(e);o.handler=s,t.call(this,r,s,i)}o.refCount++}catch(Nue){}return t.call(this,r,n,i)}})),RL(r,"removeEventListener",(function(e){return function(t,r,n){if("click"===t||"keypress"==t)try{var i=this.__sentry_instrumentation_handlers__||{},a=i[t];a&&(a.refCount--,a.refCount<=0&&(e.call(this,t,a.handler,n),a.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete this.__sentry_instrumentation_handlers__)}catch(Nue){}return e.call(this,t,r,n)}})))}))}}function Dee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(r){if(r&&!r._sentryCaptured){var n=function(e){try{return e.target}catch(Nue){return null}}(r);if(!function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(r.type,n)){NL(r,"_sentryCaptured",!0),n&&!n._sentryId&&NL(n,"_sentryId",GL());var i="keypress"===r.type?"input":r.type;if(!function(e){if(e.type!==Oee)return!1;try{if(!e.target||e.target._sentryId!==Ree)return!1}catch(Nue){}return!0}(r))e({event:r,name:i,global:t}),Oee=r.type,Ree=n?n._sentryId:void 0;clearTimeout(Iee),Iee=B9.setTimeout((function(){Ree=void 0,Oee=void 0}),Lee)}}}}var Fee="__sentry_xhr_v3__";function Uee(e){j9("xhr",e),M9("xhr",Bee)}function Bee(){if(B9.XMLHttpRequest){var e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply:function(e,t,r){var n=1e3*ZL(),i=cL(r[0])?r[0].toUpperCase():void 0,a=function(e){if(cL(e))return e;try{return e.toString()}catch(t){}return}(r[1]);if(!i||!a)return e.apply(t,r);t[Fee]={method:i,url:a,request_headers:{}},"POST"===i&&a.match(/sentry_key/)&&(t.__sentry_own_request__=!0);var o=function(){var e=t[Fee];if(e&&4===t.readyState){try{e.status_code=t.status}catch(Nue){}D9("xhr",{endTimestamp:1e3*ZL(),startTimestamp:n,xhr:t})}};return"onreadystatechange"in t&&"function"===typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:function(e,t,r){return o(),e.apply(t,r)}}):t.addEventListener("readystatechange",o),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply:function(e,t,r){var n=k(r,2),i=n[0],a=n[1],o=t[Fee];return o&&cL(i)&&cL(a)&&(o.request_headers[i.toLowerCase()]=a),e.apply(t,r)}}),e.apply(t,r)}}),e.send=new Proxy(e.send,{apply:function(e,t,r){var n=t[Fee];return n?(void 0!==r[0]&&(n.body=r[0]),D9("xhr",{startTimestamp:1e3*ZL(),xhr:t}),e.apply(t,r)):e.apply(t,r)}})}}var Gee=100;function Vee(e,t){var r=vj(),n=hj();if(r){var i=r.getOptions(),a=i.beforeBreadcrumb,o=void 0===a?null:a,s=i.maxBreadcrumbs,u=void 0===s?Gee:s;if(!(u<=0)){var c=ze({timestamp:JL()},e),l=o?TL((function(){return o(c,t)})):c;null!==l&&(r.emit&&r.emit("beforeAddBreadcrumb",l,t),n.addBreadcrumb(l,u))}}}function Hee(){"console"in eL&&kL.forEach((function(e){e in eL.console&&RL(eL.console,e,(function(t){return _L[e]=t,function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];D9("console",{args:r,level:e});var i=_L[e];i&&i.apply(eL.console,r)}}))}))}function Wee(e,t){var r="fetch";j9(r,e),M9(r,(function(){return qee(void 0,t)}))}function qee(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&!function(){if("string"===typeof EdgeRuntime)return!0;if(!O9())return!1;if(R9(I9.fetch))return!0;var e=!1,t=I9.document;if(t&&"function"===typeof t.createElement)try{var r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=R9(r.contentWindow.fetch)),t.head.removeChild(r)}catch(n){wL&&AL.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}()||RL(eL,"fetch",(function(t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){var t=k(e,2),r=t[0],n=t[1];return{url:Zee(r),method:Jee(n,"method")?String(n.method).toUpperCase():"GET"}}var i=e[0];return{url:Zee(i),method:Jee(i,"method")?String(i.method).toUpperCase():"GET"}}(n),o={args:n,fetchData:{method:a.method,url:a.url},startTimestamp:1e3*ZL()};e||D9("fetch",ze({},o));var s=(new Error).stack;return t.apply(eL,n).then(function(){var t=Ot(Pt().mark((function t(r){return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e?e(r):D9("fetch",ze(ze({},o),{},{endTimestamp:1e3*ZL(),response:r})),t.abrupt("return",r);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(e){throw D9("fetch",ze(ze({},o),{},{endTimestamp:1e3*ZL(),error:e})),aL(e)&&void 0===e.stack&&(e.stack=s,NL(e,"framesToPop",1)),e}))}}))}function zee(e,t){return Yee.apply(this,arguments)}function Yee(){return Yee=Ot(Pt().mark((function e(t,r){var n,i;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.body&&t.body.getReader)){e.next=4;break}return n=function(){var e=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.done){e.next=14;break}return e.prev=2,e.next=5,Promise.race([i.read(),new Promise((function(e){setTimeout((function(){e({done:!0})}),5e3)}))]);case 5:return r=e.sent,e.next=8,n(r);case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:e.next=15;break;case 14:return e.abrupt("return",Promise.resolve());case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),i=t.body.getReader(),e.abrupt("return",i.read().then(n).then(r).catch((function(){})));case 4:case"end":return e.stop()}}),e)}))),Yee.apply(this,arguments)}function Xee(e){return Kee.apply(this,arguments)}function Kee(){return(Kee=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=t.clone(),e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return");case 7:return e.next=9,zee(r,(function(){D9("fetch-body-resolved",{endTimestamp:1e3*ZL(),response:t})}));case 9:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function Jee(e,t){return!!e&&"object"===typeof e&&!!e[t]}function Zee(e){return"string"===typeof e?e:e?Jee(e,"url")?e.url:e.toString?e.toString():"":""}var Qee=["fatal","error","warning","log","info","debug"];function $ee(e){return"warn"===e?"warning":Qee.includes(e)?e:"log"}function ete(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}var tte=1024,rte=function(){var e=ze({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{name:"Breadcrumbs",setup:function(t){e.console&&function(e){var t="console";j9(t,e),M9(t,Hee)}(function(e){return function(t){if(vj()===e){var r={category:"console",data:{arguments:t.args,logger:"console"},level:$ee(t.level),message:PL(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;r.message="Assertion failed: ".concat(PL(t.args.slice(1)," ")||"console.assert"),r.data.arguments=t.args.slice(1)}Vee(r,{input:t.args,level:t.level})}}}(t)),e.dom&&jee(function(e,t){return function(r){if(vj()===e){var n,i,a="object"===typeof t?t.serializeAttribute:void 0,o="object"===typeof t&&"number"===typeof t.maxStringLength?t.maxStringLength:void 0;o&&o>tte&&(gee&&AL.warn("`dom.maxStringLength` cannot exceed ".concat(tte,", but a value of ").concat(o," was configured. Sentry will use ").concat(tte," instead.")),o=tte),"string"===typeof a&&(a=[a]);try{var s=r.event,u=function(e){return!!e&&!!e.target}(s)?s.target:s;n=bL(u,{keyAttrs:a,maxStringLength:o}),i=xL(u)}catch(Nue){n="<unknown>"}if(0!==n.length){var c={category:"ui.".concat(r.name),message:n};i&&(c.data={"ui.component_name":i}),Vee(c,{event:r.event,name:r.name,global:r.global})}}}}(t,e.dom)),e.xhr&&Uee(function(e){return function(t){if(vj()===e){var r=t.startTimestamp,n=t.endTimestamp,i=t.xhr[Fee];if(r&&n&&i){var a=i.method,o=i.url,s=i.status_code,u=i.body;Vee({category:"xhr",data:{method:a,url:o,status_code:s},type:"http"},{xhr:t.xhr,input:u,startTimestamp:r,endTimestamp:n})}}}}(t)),e.fetch&&Wee(function(e){return function(t){if(vj()===e){var r=t.startTimestamp,n=t.endTimestamp;if(n&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){Vee({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:r,endTimestamp:n})}else{var i=t.response;Vee({category:"fetch",data:ze(ze({},t.fetchData),{},{status_code:i&&i.status}),type:"http"},{input:t.args,response:i,startTimestamp:r,endTimestamp:n})}}}}(t)),e.history&&G9(function(e){return function(t){if(vj()===e){var r=t.from,n=t.to,i=ete(Tee.location.href),a=r?ete(r):void 0,o=ete(n);a&&a.path||(a=i),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),Vee({category:"navigation",data:{from:r,to:n}})}}}(t)),e.sentry&&t.on("beforeSendEvent",function(e){return function(t){vj()===e&&Vee({category:"sentry.".concat("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:HL(t)},{event:t})}}(t))}}};var nte=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],ite=function(){var e=ze({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{name:"BrowserApiErrors",setupOnce:function(){e.setTimeout&&RL(Tee,"setTimeout",ate),e.setInterval&&RL(Tee,"setInterval",ate),e.requestAnimationFrame&&RL(Tee,"requestAnimationFrame",ote),e.XMLHttpRequest&&"XMLHttpRequest"in Tee&&RL(XMLHttpRequest.prototype,"send",ste);var t=e.eventTarget;t&&(Array.isArray(t)?t:nte).forEach(ute)}}};function ate(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];return r[0]=Pee(i,{mechanism:{data:{function:_j(e)},handled:!1,type:"instrument"}}),e.apply(this,r)}}function ote(e){return function(t){return e.apply(this,[Pee(t,{mechanism:{data:{function:"requestAnimationFrame",handler:_j(e)},handled:!1,type:"instrument"}})])}}function ste(e){return function(){var t=this;["onload","onerror","onprogress","onreadystatechange"].forEach((function(e){e in t&&"function"===typeof t[e]&&RL(t,e,(function(t){var r={mechanism:{data:{function:e,handler:_j(t)},handled:!1,type:"instrument"}},n=jL(t);return n&&(r.mechanism.data.handler=_j(n)),Pee(t,r)}))}));for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.apply(this,n)}}function ute(e){var t=Tee,r=t[e]&&t[e].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(RL(r,"addEventListener",(function(t){return function(r,n,i){try{"function"===typeof n.handleEvent&&(n.handleEvent=Pee(n.handleEvent,{mechanism:{data:{function:"handleEvent",handler:_j(n),target:e},handled:!1,type:"instrument"}}))}catch(a){}return t.apply(this,[r,Pee(n,{mechanism:{data:{function:"addEventListener",handler:_j(n),target:e},handled:!1,type:"instrument"}}),i])}})),RL(r,"removeEventListener",(function(e){return function(t,r,n){var i=r;try{var a=i&&i.__sentry_wrapped__;a&&e.call(this,t,a,n)}catch(Nue){}return e.call(this,t,i,n)}})))}var cte=null;function lte(e){var t="error";j9(t,e),M9(t,dte)}function dte(){cte=eL.onerror,eL.onerror=function(e,t,r,n,i){return D9("error",{column:n,error:i,line:r,msg:e,url:t}),!(!cte||cte.__SENTRY_LOADER__)&&cte.apply(this,arguments)},eL.onerror.__SENTRY_INSTRUMENTED__=!0}var fte=null;function hte(e){var t="unhandledrejection";j9(t,e),M9(t,pte)}function pte(){fte=eL.onunhandledrejection,eL.onunhandledrejection=function(e){return D9("unhandledrejection",e),!(fte&&!fte.__SENTRY_LOADER__)||fte.apply(this,arguments)},eL.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var vte=function(){var e=ze({onerror:!0,onunhandledrejection:!0},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{name:"GlobalHandlers",setupOnce:function(){Error.stackTraceLimit=50},setup:function(t){e.onerror&&(!function(e){lte((function(t){var r=mte(),n=r.stackParser,i=r.attachStacktrace;if(vj()===e&&!Cee()){var a=t.msg,o=t.url,s=t.line,u=t.column,c=t.error,l=function(e,t,r,n){var i=e.exception=e.exception||{},a=i.values=i.values||[],o=a[0]=a[0]||{},s=o.stacktrace=o.stacktrace||{},u=s.frames=s.frames||[],c=isNaN(parseInt(n,10))?void 0:n,l=isNaN(parseInt(r,10))?void 0:r,d=cL(t)&&t.length>0?t:EL();0===u.length&&u.push({colno:c,filename:d,function:yj,in_app:!0,lineno:l});return e}(wee(n,c||a,void 0,i,!1),o,s,u);l.level="error",RM(l,{originalException:c,mechanism:{handled:!1,type:"onerror"}})}}))}(t),gte("onerror")),e.onunhandledrejection&&(!function(e){hte((function(t){var r=mte(),n=r.stackParser,i=r.attachStacktrace;if(vj()===e&&!Cee()){var a=function(e){if(dL(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(t){}return e}(t),o=dL(a)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: ".concat(String(a))}]}}:wee(n,a,void 0,i,!0);o.level="error",RM(o,{originalException:a,mechanism:{handled:!1,type:"onunhandledrejection"}})}}))}(t),gte("onunhandledrejection"))}}};function gte(e){gee&&AL.log("Global Handler attached: ".concat(e))}function mte(){var e=vj();return e&&e.getOptions()||{stackParser:function(){return[]},attachStacktrace:!1}}var yte=function(){return{name:"HttpContext",preprocessEvent:function(e){if(Tee.navigator||Tee.location||Tee.document){var t=e.request&&e.request.url||Tee.location&&Tee.location.href,r=(Tee.document||{}).referrer,n=(Tee.navigator||{}).userAgent,i=ze(ze(ze({},e.request&&e.request.headers),r&&{Referer:r}),n&&{"User-Agent":n}),a=ze(ze(ze({},e.request),t&&{url:t}),{},{headers:i});e.request=a}}}};function bte(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;if(a.exception&&a.exception.values&&o&&vL(o.originalException,Error)){var s,u,c=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;c&&(a.exception.values=(s=Ste(e,t,i,o.originalException,n,a.exception.values,c,0),u=r,s.map((function(e){return e.value&&(e.value=CL(e.value,u)),e}))))}}function Ste(e,t,r,n,i,a,o,s){if(a.length>=r+1)return a;var c=u(a);if(vL(n[i],Error)){Ete(o,s);var l=e(t,n[i]),d=c.length;xte(l,i,d,s),c=Ste(e,t,r,n[i],i,[l].concat(u(c)),l,d)}return Array.isArray(n.errors)&&n.errors.forEach((function(n,a){if(vL(n,Error)){Ete(o,s);var l=e(t,n),d=c.length;xte(l,"errors[".concat(a,"]"),d,s),c=Ste(e,t,r,n,i,[l].concat(u(c)),l,d)}})),c}function Ete(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=ze(ze(ze({},e.mechanism),"AggregateError"===e.type&&{is_exception_group:!0}),{},{exception_id:t})}function xte(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=ze(ze({},e.mechanism),{},{type:"chained",source:t,exception_id:r,parent_id:n})}var wte=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit||5,r=e.key||"cause";return{name:"LinkedErrors",preprocessEvent:function(e,n,i){var a=i.getOptions();bte(mee,a.stackParser,a.maxValueLength,r,t,e,n)}}};function kte(e,t,r,n){var i={filename:e,function:"<anonymous>"===t?yj:t,in_app:!0};return void 0!==r&&(i.lineno=r),void 0!==n&&(i.colno=n),i}var _te=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Tte=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ate=/\((\S*)(?::(\d+))(?::(\d+))\)/,Cte=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Pte=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Ite=[[30,function(e){var t=_te.exec(e);if(t){var r=k(t,4),n=r[1],i=r[2],a=r[3];return kte(n,yj,+i,+a)}var o=Tte.exec(e);if(o){if(o[2]&&0===o[2].indexOf("eval")){var s=Ate.exec(o[2]);s&&(o[2]=s[1],o[3]=s[2],o[4]=s[3])}var u=k(Rte(o[1]||yj,o[2]),2),c=u[0];return kte(u[1],c,o[3]?+o[3]:void 0,o[4]?+o[4]:void 0)}}],[50,function(e){var t=Cte.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var r=Pte.exec(t[3]);r&&(t[1]=t[1]||"eval",t[3]=r[1],t[4]=r[2],t[5]="")}var n=t[3],i=t[1]||yj,a=k(Rte(i,n),2);return i=a[0],kte(n=a[1],i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]],Ote=Ej.apply(void 0,Ite),Rte=function(e,t){var r=-1!==e.indexOf("safari-extension"),n=-1!==e.indexOf("safari-web-extension");return r||n?[-1!==e.indexOf("@")?e.split("@")[0]:yj,r?"safari-extension:".concat(t):"safari-web-extension:".concat(t)]:[e,t]},Nte="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Lte={};function jte(e){var t=Lte[e];if(t)return t;var r=B9[e];if(R9(r))return Lte[e]=r.bind(B9);var n=B9.document;if(n&&"function"===typeof n.createElement)try{var i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);var a=i.contentWindow;a&&a[e]&&(r=a[e]),n.head.removeChild(i)}catch(Nue){Nte&&AL.warn("Could not create sandbox iframe for ".concat(e," check, bailing to window.").concat(e,": "),Nue)}return r?Lte[e]=r.bind(B9):r}function Mte(e){Lte[e]=void 0}function Dte(){return jte("setTimeout").apply(void 0,arguments)}function Fte(e){var t=[];function r(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(n){if(!(void 0===e||t.length<e))return Oj(new aee("Not adding Promise because buffer limit was reached."));var i=n();return-1===t.indexOf(i)&&t.push(i),i.then((function(){return r(i)})).then(null,(function(){return r(i).then(null,(function(){}))})),i},drain:function(e){return new Rj((function(r,n){var i=t.length;if(!i)return r(!0);var a=setTimeout((function(){e&&e>0&&r(!1)}),e);t.forEach((function(e){Ij(e).then((function(){--i||(clearTimeout(a),r(!0))}),n)}))}))}}}var Ute=6e4;function Bte(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return function(e,t){return e[t]||e.all||0}(e,t)>r}function Gte(e,t){var r=t.statusCode,n=t.headers,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),a=ze({},e),o=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(o){var u,c=T(o.trim().split(","));try{for(c.s();!(u=c.n()).done;){var l=k(u.value.split(":",5),5),d=l[0],f=l[1],h=l[4],p=parseInt(d,10),v=1e3*(isNaN(p)?60:p);if(f){var g,m=T(f.split(";"));try{for(m.s();!(g=m.n()).done;){var y=g.value;"metric_bucket"===y&&h&&!h.split(";").includes("custom")||(a[y]=i+v)}}catch(b){m.e(b)}finally{m.f()}}else a.all=i+v}}catch(b){c.e(b)}finally{c.f()}}else s?a.all=i+function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),r=parseInt("".concat(e),10);if(!isNaN(r))return 1e3*r;var n=Date.parse("".concat(e));return isNaN(n)?Ute:n-t}(s,i):429===r&&(a.all=i+6e4);return a}var Vte=64;function Hte(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}function Wte(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jte("fetch"),r=0,n=0;return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fte(e.bufferSize||Vte),n={};return{send:function(i){var a=[];if(J9(i,(function(t,r){var i=ree(r);if(Bte(n,i)){var o=Hte(t,r);e.recordDroppedEvent("ratelimit_backoff",i,o)}else a.push(t)})),0===a.length)return Ij({});var o=X9(i[0],a),s=function(t){J9(o,(function(r,n){var i=Hte(r,n);e.recordDroppedEvent(t,ree(n),i)}))};return r.add((function(){return t({body:Q9(o)}).then((function(e){return void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&Nj&&AL.warn("Sentry responded with status code ".concat(e.statusCode," to sent event.")),n=Gte(n,e),e}),(function(e){throw s("network_error"),e}))})).then((function(e){return e}),(function(e){if(e instanceof aee)return Nj&&AL.error("Skipped sending event because buffer is full."),s("queue_overflow"),Ij({});throw e}))},flush:function(e){return r.drain(e)}}}(e,(function(i){var a=i.body.length;r+=a,n++;var o=ze({body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&n<15},e.fetchOptions);if(!t)return Mte("fetch"),Oj("No fetch implementation available");try{return t(e.url,o).then((function(e){return r-=a,n--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}}))}catch(Nue){return Mte("fetch"),r-=a,n--,Oj(Nue)}}))}function qte(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={defaultIntegrations:[E9(),k9(),ite(),rte(),vte(),wte(),_9(),yte()],release:"string"===typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:Tee.SENTRY_RELEASE&&Tee.SENTRY_RELEASE.id?Tee.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return null==e.defaultIntegrations&&delete e.defaultIntegrations,ze(ze({},t),e)}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});if(!function(){var e="undefined"!==typeof Tee.window&&Tee;if(!e)return!1;var t=e[e.chrome?"chrome":"browser"],r=t&&t.runtime&&t.runtime.id,n=Tee.location&&Tee.location.href||"",i=!!r&&Tee===Tee.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some((function(e){return n.startsWith("".concat(e,"//"))})),a="undefined"!==typeof e.nw;return!!r&&!i&&!a}()){gee&&(O9()||AL.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));var t,r=ze(ze({},e),{},{stackParser:(t=e.stackParser||Ote,Array.isArray(t)?Ej.apply(void 0,u(t)):t),integrations:g9(e),transport:e.transport||Wte}),n=P9(Nee,r);return e.autoSessionTracking&&function(){if("undefined"===typeof Tee.document)return void(gee&&AL.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));LM({ignoreDuration:!0}),DM(),G9((function(e){var t=e.from,r=e.to;void 0!==t&&t!==r&&(LM({ignoreDuration:!0}),DM())}))}(),n}TL((function(){console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}))}function zte(e){if("boolean"===typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;var t=vj(),r=e||t&&t.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}var Yte=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,e),this._traceId=t.traceId||GL(),this._spanId=t.spanId||GL().substring(16)}return h(e,[{key:"spanContext",value:function(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}},{key:"end",value:function(e){}},{key:"setAttribute",value:function(e,t){return this}},{key:"setAttributes",value:function(e){return this}},{key:"setStatus",value:function(e){return this}},{key:"updateName",value:function(e){return this}},{key:"isRecording",value:function(){return!1}},{key:"addEvent",value:function(e,t,r){return this}},{key:"addLink",value:function(e){return this}},{key:"addLinks",value:function(e){return this}},{key:"recordException",value:function(e,t){}}]),e}();function Xte(e){if(e&&0!==e.length){var t={};return e.forEach((function(e){var r=e.attributes||{},n=r[Yj],i=r[Xj];"string"===typeof n&&"number"===typeof i&&(t[e.name]={value:i,unit:n})})),t}}var Kte="_sentryScope",Jte="_sentryIsolationScope";function Zte(e){return{scope:e[Kte],isolationScope:e[Jte]}}var Qte=function(){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,e),this._traceId=r.traceId||GL(),this._spanId=r.spanId||GL().substring(16),this._startTime=r.startTimestamp||ZL(),this._attributes={},this.setAttributes(ze((We(t={},qj,"manual"),We(t,Wj,r.op),t),r.attributes)),this._name=r.name,r.parentSpanId&&(this._parentSpanId=r.parentSpanId),"sampled"in r&&(this._sampled=r.sampled),r.endTimestamp&&(this._endTime=r.endTimestamp),this._events=[],this._isStandaloneSpan=r.isStandalone,this._endTime&&this._onSpanEnded()}return h(e,[{key:"addLink",value:function(e){return this}},{key:"addLinks",value:function(e){return this}},{key:"recordException",value:function(e,t){}},{key:"spanContext",value:function(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:this._sampled?aM:0}}},{key:"setAttribute",value:function(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this}},{key:"setAttributes",value:function(e){var t=this;return Object.keys(e).forEach((function(r){return t.setAttribute(r,e[r])})),this}},{key:"updateStartTime",value:function(e){this._startTime=cM(e)}},{key:"setStatus",value:function(e){return this._status=e,this}},{key:"updateName",value:function(e){return this._name=e,this}},{key:"end",value:function(e){this._endTime||(this._endTime=cM(e),function(e){if(Nj){var t=dM(e),r=t.description,n=void 0===r?"< unknown name >":r,i=t.op,a=void 0===i?"< unknown op >":i,o=e.spanContext().spanId,s=yM(e)===e,u='[Tracing] Finishing "'.concat(a,'" ').concat(s?"root ":"",'span "').concat(n,'" with ID ').concat(o);AL.log(u)}}(this),this._onSpanEnded())}},{key:"getSpanJSON",value:function(){return UL({data:this._attributes,description:this._name,op:this._attributes[Wj],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:hM(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[qj],_metrics_summary:eM(this),profile_id:this._attributes["sentry.profile_id"],exclusive_time:this._attributes[Kj],measurements:Xte(this._events),is_segment:this._isStandaloneSpan&&yM(this)===this||void 0,segment_id:this._isStandaloneSpan?yM(this).spanContext().spanId:void 0})}},{key:"isRecording",value:function(){return!this._endTime&&!!this._sampled}},{key:"addEvent",value:function(e,t,r){Nj&&AL.log("[Tracing] Adding an event to span:",e);var n=$te(t)?t:r||ZL(),i=$te(t)?{}:t||{},a={name:e,time:cM(n),attributes:i};return this._events.push(a),this}},{key:"isStandaloneSpan",value:function(){return!!this._isStandaloneSpan}},{key:"_onSpanEnded",value:function(){var e=vj();if(e&&e.emit("spanEnd",this),this._isStandaloneSpan||this===yM(this))if(this._isStandaloneSpan)this._sampled?function(e){var t=vj();if(!t)return;var r=e[1];if(!r||0===r.length)return void t.recordDroppedEvent("before_send","span");var n=t.getTransport();n&&n.send(e).then(null,(function(e){Nj&&AL.error("Error while sending span:",e)}))}(function(e,t){var r,n=wM(e[0]),i=t&&t.getDsn(),a=t&&t.getOptions().tunnel,o=ze(ze({sent_at:(new Date).toISOString()},function(e){return!!e.trace_id&&!!e.public_key}(n)&&{trace:n}),!!a&&i&&{dsn:q9(i)}),s=t&&t.getOptions().beforeSendSpan,u=s?function(e){return s(dM(e))}:function(e){return dM(e)},c=[],l=T(e);try{for(l.s();!(r=l.n()).done;){var d=u(r.value);d&&c.push($9(d))}}catch(f){l.e(f)}finally{l.f()}return X9(o,c)}([this],e)):(Nj&&AL.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));else{var t=this._convertSpanToTransaction();if(t)(Zte(this).scope||fj()).captureEvent(t)}}},{key:"_convertSpanToTransaction",value:function(){var e=this;if(ere(dM(this))){this._name||(Nj&&AL.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");var t=Zte(this),r=t.scope,n=t.isolationScope,i=(r||fj()).getClient()||vj();if(!0!==this._sampled)return Nj&&AL.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(i&&i.recordDroppedEvent("sample_rate","transaction"));var a=mM(this).filter((function(t){return t!==e&&!tre(t)})).map((function(e){return dM(e)})).filter(ere),o=this._attributes[Vj],s=ze({contexts:{trace:oM(this)},spans:a.length>1e3?a.sort((function(e,t){return e.start_timestamp-t.start_timestamp})).slice(0,1e3):a,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:ze({capturedSpanScope:r,capturedSpanIsolationScope:n},UL({dynamicSamplingContext:wM(this)})),_metrics_summary:eM(this)},o&&{transaction_info:{source:o}}),u=Xte(this._events);return u&&Object.keys(u).length&&(Nj&&AL.log("[Measurements] Adding measurements to transaction event",JSON.stringify(u,void 0,2)),s.measurements=u),s}}}]),e}();function $te(e){return e&&"number"===typeof e||e instanceof Date||Array.isArray(e)}function ere(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function tre(e){return e instanceof Qte&&e.isStandaloneSpan()}var rre="__SENTRY_SUPPRESS_TRACING__";function nre(e){var t=sre();if(t.startInactiveSpan)return t.startInactiveSpan(e);var r=ore(e),n=e.forceTransaction,i=e.parentSpan,a=e.scope?function(t){return pj(e.scope,t)}:void 0!==i?function(e){return ire(i,e)}:function(e){return e()};return a((function(){var t=fj(),i=cre(t);return e.onlyIfParent&&!i?new Yte:are({parentSpan:i,spanArguments:r,forceTransaction:n,scope:t})}))}function ire(e,t){var r=sre();return r.withActiveSpan?r.withActiveSpan(e,t):pj((function(r){return rj(r,e||void 0),t(r)}))}function are(e){var t=e.parentSpan,r=e.spanArguments,n=e.forceTransaction,i=e.scope;if(!zte())return new Yte;var a,o=hj();if(t&&!n)a=function(e,t,r){var n=e.spanContext(),i=n.spanId,a=n.traceId,o=!t.getScopeData().sdkProcessingMetadata[rre]&&fM(e),s=o?new Qte(ze(ze({},r),{},{parentSpanId:i,traceId:a,sampled:o})):new Yte({traceId:a});gM(e,s);var u=vj();u&&(u.emit("spanStart",s),r.endTimestamp&&u.emit("spanEnd",s));return s}(t,i,r),gM(t,a);else if(t){var s=wM(t),u=t.spanContext(),c=u.traceId,l=u.spanId,d=fM(t);EM(a=ure(ze({traceId:c,parentSpanId:l},r),i,d),s)}else{var f=ze(ze({},o.getPropagationContext()),i.getPropagationContext()),h=f.traceId,p=f.dsc,v=f.parentSpanId,g=f.sampled;a=ure(ze({traceId:h,parentSpanId:v},r),i,g),p&&EM(a,p)}return function(e){if(Nj){var t=dM(e),r=t.description,n=void 0===r?"< unknown name >":r,i=t.op,a=void 0===i?"< unknown op >":i,o=t.parent_span_id,s=e.spanContext().spanId,u=fM(e),c=yM(e),l=c===e,d="[Tracing] Starting ".concat(u?"sampled":"unsampled"," ").concat(l?"root ":"","span"),f=["op: ".concat(a),"name: ".concat(n),"ID: ".concat(s)];if(o&&f.push("parent ID: ".concat(o)),!l){var h=dM(c),p=h.op,v=h.description;f.push("root ID: ".concat(c.spanContext().spanId)),p&&f.push("root op: ".concat(p)),v&&f.push("root description: ".concat(v))}AL.log("".concat(d,"\n  ").concat(f.join("\n  ")))}}(a),function(e,t,r){e&&(NL(e,Jte,r),NL(e,Kte,t))}(a,i,o),a}function ore(e){var t=ze({isStandalone:(e.experimental||{}).standalone},e);if(e.startTime){var r=ze({},t);return r.startTimestamp=cM(e.startTime),delete r.startTime,r}return t}function sre(){return dj(rL())}function ure(e,t,r){var n=vj(),i=n&&n.getOptions()||{},a=e.name,o=void 0===a?"":a,s=e.attributes,u=t.getScopeData().sdkProcessingMetadata[rre]?[!1]:function(e,t){if(!zte(e))return[!1];var r,n=dee(r="function"===typeof e.tracesSampler?e.tracesSampler(t):void 0!==t.parentSampled?t.parentSampled:"undefined"!==typeof e.tracesSampleRate?e.tracesSampleRate:1);return void 0===n?(Nj&&AL.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):n?Math.random()<n?[!0,n]:(Nj&&AL.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ".concat(Number(r),")")),[!1,n]):(Nj&&AL.log("[Tracing] Discarding transaction because ".concat("function"===typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,n])}(i,{name:o,parentSampled:r,attributes:s,transactionContext:{name:o,parentSampled:r}}),c=k(u,2),l=c[0],d=c[1],f=new Qte(ze(ze({},e),{},{attributes:ze(We({},Vj,"custom"),e.attributes),sampled:l}));return void 0!==d&&f.setAttribute(Hj,d),n&&n.emit("spanStart",f),f}function cre(e){var t=nj(e);if(t){var r=vj();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?yM(t):t}}function lre(e){for(var t=void 0,r=e[0],n=1;n<e.length;){var i=e[n],a=e[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(t=r,r=a(r)):"call"!==i&&"optionalCall"!==i||(r=a((function(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=r).call.apply(e,[t].concat(i))})),t=void 0)}return r}var dre,fre,hre,pre,vre,gre,mre=function(e,t,r,n){var i,a;return function(o){t.value>=0&&(o||n)&&((a=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,r),e(t))}},yre=function(){return B9.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},bre=function(){var e=yre();return e&&e.activationStart||0},Sre=function(e,t){var r=yre(),n="navigate";r&&(B9.document&&B9.document.prerendering||bre()>0?n="prerender":B9.document&&B9.document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-")));return{name:e,value:"undefined"===typeof t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},Ere=function(e,t,r){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch(Nue){}},xre=function(e){var t=function(t){("pagehide"===t.type||B9.document&&"hidden"===B9.document.visibilityState)&&e(t)};B9.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},wre=function(e){var t=!1;return function(r){t||(e(r),t=!0)}},kre=-1,_re=function e(t){"hidden"===B9.document.visibilityState&&kre>-1&&(kre="visibilitychange"===t.type?t.timeStamp:0,removeEventListener("visibilitychange",e,!0),removeEventListener("prerenderingchange",e,!0))},Tre=function(){return B9.document&&kre<0&&(kre="hidden"!==B9.document.visibilityState||B9.document.prerendering?1/0:0,addEventListener("visibilitychange",_re,!0),addEventListener("prerenderingchange",_re,!0)),{get firstHiddenTime(){return kre}}},Are=function(e){B9.document&&B9.document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Cre=[1800,3e3],Pre=[.1,.25],Ire=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Are((function(){var r,n=Tre(),i=Sre("FCP"),a=Ere("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(a.disconnect(),e.startTime<n.firstHiddenTime&&(i.value=Math.max(e.startTime-bre(),0),i.entries.push(e),r(!0)))}))}));a&&(r=mre(e,i,Cre,t.reportAllChanges))}))}(wre((function(){var r,n=Sre("CLS",0),i=0,a=[],o=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=a[0],r=a[a.length-1];i&&t&&r&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,a.push(e)):(i=e.value,a=[e])}})),i>n.value&&(n.value=i,n.entries=a,r())},s=Ere("layout-shift",o);s&&(r=mre(e,n,Pre,t.reportAllChanges),xre((function(){o(s.takeRecords()),r(!0)})),setTimeout(r,0))})))},Ore=[100,300],Rre=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Are((function(){var r,n=Tre(),i=Sre("FID"),a=function(e){e.startTime<n.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),r(!0))},o=function(e){e.forEach(a)},s=Ere("first-input",o);r=mre(e,i,Ore,t.reportAllChanges),s&&xre(wre((function(){o(s.takeRecords()),s.disconnect()})))}))},Nre=0,Lre=1/0,jre=0,Mre=function(e){e.forEach((function(e){e.interactionId&&(Lre=Math.min(Lre,e.interactionId),jre=Math.max(jre,e.interactionId),Nre=jre?(jre-Lre)/7+1:0)}))},Dre=[200,500],Fre=function(){return(dre?Nre:performance.interactionCount||0)-0},Ure=[],Bre={},Gre=function(e){var t=Ure[Ure.length-1],r=Bre[e.interactionId];if(r||Ure.length<10||t&&e.duration>t.latency){if(r)r.entries.push(e),r.latency=Math.max(r.latency,e.duration);else{var n={id:e.interactionId,latency:e.duration,entries:[e]};Bre[n.id]=n,Ure.push(n)}Ure.sort((function(e,t){return t.latency-e.latency})),Ure.splice(10).forEach((function(e){delete Bre[e.id]}))}},Vre=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Are((function(){"interactionCount"in performance||dre||(dre=Ere("event",Mre,{type:"event",buffered:!0,durationThreshold:0}));var r,n=Sre("INP"),i=function(e){e.forEach((function(e){(e.interactionId&&Gre(e),"first-input"===e.entryType)&&(!Ure.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&Gre(e))}));var t=function(){var e=Math.min(Ure.length-1,Math.floor(Fre()/50));return Ure[e]}();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r())},a=Ere("event",i,{durationThreshold:null!=t.durationThreshold?t.durationThreshold:40});r=mre(e,n,Dre,t.reportAllChanges),a&&("PerformanceEventTiming"in B9&&"interactionId"in PerformanceEventTiming.prototype&&a.observe({type:"first-input",buffered:!0}),xre((function(){i(a.takeRecords()),n.value<0&&Fre()>0&&(n.value=0,n.entries=[]),r(!0)})))}))},Hre=[2500,4e3],Wre={},qre=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Are((function(){var r,n=Tre(),i=Sre("LCP"),a=function(e){var t=e[e.length-1];t&&t.startTime<n.firstHiddenTime&&(i.value=Math.max(t.startTime-bre(),0),i.entries=[t],r())},o=Ere("largest-contentful-paint",a);if(o){r=mre(e,i,Hre,t.reportAllChanges);var s=wre((function(){Wre[i.id]||(a(o.takeRecords()),o.disconnect(),Wre[i.id]=!0,r(!0))}));["keydown","click"].forEach((function(e){B9.document&&addEventListener(e,(function(){return setTimeout(s,0)}),!0)})),xre(s)}}))},zre=[800,1800],Yre=function e(t){B9.document&&B9.document.prerendering?Are((function(){return e(t)})):B9.document&&"complete"!==B9.document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},Xre=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Sre("TTFB"),n=mre(e,r,zre,t.reportAllChanges);Yre((function(){var e=yre();if(e){var t=e.responseStart;if(t<=0||t>performance.now())return;r.value=Math.max(t-bre(),0),r.entries=[e],n(!0)}}))},Kre={},Jre={};function Zre(e){return une("cls",e,nne,fre,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function Qre(e){return une("lcp",e,ane,pre,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function $re(e){return une("fid",e,ine,hre)}function ene(e){return une("inp",e,sne,gre)}function tne(e,t){return cne(e,t),Jre[e]||(!function(e){var t={};"event"===e&&(t.durationThreshold=0);Ere(e,(function(t){rne(e,{entries:t})}),t)}(e),Jre[e]=!0),lne(e,t)}function rne(e,t){var r=Kre[e];if(r&&r.length){var n,i=T(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;try{a(t)}catch(Nue){Nte&&AL.error("Error while triggering instrumentation handler.\nType: ".concat(e,"\nName: ").concat(_j(a),"\nError:"),Nue)}}}catch(o){i.e(o)}finally{i.f()}}}function nne(){return Ire((function(e){rne("cls",{metric:e}),fre=e}),{reportAllChanges:!0})}function ine(){return Rre((function(e){rne("fid",{metric:e}),hre=e}))}function ane(){return qre((function(e){rne("lcp",{metric:e}),pre=e}),{reportAllChanges:!0})}function one(){return Xre((function(e){rne("ttfb",{metric:e}),vre=e}))}function sne(){return Vre((function(e){rne("inp",{metric:e}),gre=e}))}function une(e,t,r,n){var i,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return cne(e,t),Jre[e]||(i=r(),Jre[e]=!0),n&&t({metric:n}),lne(e,t,a?i:void 0)}function cne(e,t){Kre[e]=Kre[e]||[],Kre[e].push(t)}function lne(e,t,r){return function(){r&&r();var n=Kre[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}}function dne(e){return"number"===typeof e&&isFinite(e)}function fne(e,t,r,n){var i=Object.assign({},(VX(n),n)),a=dM(e).start_timestamp;return a&&a>t&&"function"===typeof e.updateStartTime&&e.updateStartTime(t),ire(e,(function(){var e=nre(ze({startTime:t},i));return e&&e.end(r),e}))}function hne(e){var t=vj();if(t){var r,n=e.name,i=e.transaction,a=e.attributes,o=e.startTime,s=t.getOptions(),u=s.release,c=s.environment,l=t.getIntegrationByName("Replay"),d=l&&l.getReplayId(),f=fj(),h=f.getUser(),p=void 0!==h?h.email||h.id||h.ip_address:void 0;try{r=f.getScopeData().contexts.profile.profile_id}catch(Nue){}return nre({name:n,attributes:ze({release:u,environment:c,user:p||void 0,profile_id:r||void 0,replay_id:d||void 0,transaction:i,"user_agent.original":B9.navigator&&B9.navigator.userAgent},a),startTime:o,experimental:{standalone:!0}})}}function pne(){return B9&&B9.addEventListener&&B9.performance}function vne(e){return e/1e3}function gne(){var e,t,r=0;if(function(){try{return lre([PerformanceObserver,"access",function(e){return e.supportedEntryTypes},"optionalAccess",function(e){return e.includes},"call",function(e){return e("layout-shift")}])}catch(Nue){return!1}}()){var n=!1,i=Zre((function(t){var n=t.metric,i=n.entries[n.entries.length-1];i&&(r=n.value,e=i)}),!0);xre((function(){a()})),setTimeout((function(){var e=lre([vj(),"optionalAccess",function(e){return e.on},"call",function(t){return t("startNavigationSpan",(function(){a(),e&&e()}))}]),r=bM(),n=r&&yM(r),i=n&&dM(n);i&&"pageload"===i.op&&(t=n.spanContext().spanId)}),0)}function a(){n||(n=!0,t&&function(e,t,r){var n;Nte&&AL.log("Sending CLS span (".concat(e,")"));var i=vne((QL||0)+(lre([t,"optionalAccess",function(e){return e.startTime}])||0)),a=fj().getScopeData().transactionName,o=t?bL(lre([t,"access",function(e){return e.sources},"access",function(e){return e[0]},"optionalAccess",function(e){return e.node}])):"Layout shift",s=UL((n={},We(n,qj,"auto.http.browser.cls"),We(n,Wj,"ui.webvital.cls"),We(n,Kj,lre([t,"optionalAccess",function(e){return e.duration}])||0),We(n,"sentry.pageload.span_id",r),n)),u=hne({name:o,transaction:a,attributes:s,startTime:i});lre([u,"optionalAccess",function(e){return e.addEvent},"call",function(t){var r;return t("cls",(We(r={},Yj,""),We(r,Xj,e),r))}]),lre([u,"optionalAccess",function(e){return e.end},"call",function(e){return e(i)}])}(r,e,t),i())}}var mne,yne,bne=2147483647,Sne=0,Ene={};function xne(e){var t=e.recordClsStandaloneSpans,r=pne();if(r&&QL){r.mark&&B9.performance.mark("sentry-tracing-init");var n=$re((function(e){var t=e.metric,r=t.entries[t.entries.length-1];if(r){var n=vne(QL),i=vne(r.startTime);Nte&&AL.log("[Measurements] Adding FID"),Ene.fid={value:t.value,unit:"millisecond"},Ene["mark.fid"]={value:n+i,unit:"second"}}})),i=Qre((function(e){var t=e.metric,r=t.entries[t.entries.length-1];r&&(Nte&&AL.log("[Measurements] Adding LCP"),Ene.lcp={value:t.value,unit:"millisecond"},mne=r)}),!0),a=function(e){return une("ttfb",e,one,vre)}((function(e){var t=e.metric;t.entries[t.entries.length-1]&&(Nte&&AL.log("[Measurements] Adding TTFB"),Ene.ttfb={value:t.value,unit:"millisecond"})})),o=t?gne():Zre((function(e){var t=e.metric,r=t.entries[t.entries.length-1];r&&(Nte&&AL.log("[Measurements] Adding CLS ".concat(t.value)),Ene.cls={value:t.value,unit:""},yne=r)}),!0);return function(){n(),i(),a(),o&&o()}}return function(){}}function wne(e,t){var r=pne();if(r&&B9.performance.getEntries&&QL){Nte&&AL.log("[Tracing] Adding & adjusting spans using Performance API");var n=vne(QL),i=r.getEntries(),a=dM(e),o=a.op,s=a.start_timestamp;if(i.slice(Sne).forEach((function(t){var r=vne(t.startTime),i=vne(Math.max(0,t.duration));if(!("navigation"===o&&s&&n+r<s))switch(t.entryType){case"navigation":!function(e,t,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((function(n){kne(e,t,n,r)})),kne(e,t,"secureConnection",r,"TLS/SSL","connectEnd"),kne(e,t,"fetch",r,"cache","domainLookupStart"),kne(e,t,"domainLookup",r,"DNS"),function(e,t,r){var n=r+vne(t.requestStart),i=r+vne(t.responseEnd),a=r+vne(t.responseStart);t.responseEnd&&(fne(e,n,i,{op:"browser",name:"request",attributes:We({},qj,"auto.ui.browser.metrics")}),fne(e,a,i,{op:"browser",name:"response",attributes:We({},qj,"auto.ui.browser.metrics")}))}(e,t,r)}(e,t,n);break;case"mark":case"paint":case"measure":!function(e,t,r,n,i){var a=yre(),o=vne(a?a.requestStart:0),s=i+Math.max(r,o),u=i+r,c=u+n,l=We({},qj,"auto.resource.browser.metrics");s!==u&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=s);fne(e,s,c,{name:t.name,op:t.entryType,attributes:l})}(e,t,r,i,n);var a=Tre(),u=t.startTime<a.firstHiddenTime;"first-paint"===t.name&&u&&(Nte&&AL.log("[Measurements] Adding FP"),Ene.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&u&&(Nte&&AL.log("[Measurements] Adding FCP"),Ene.fcp={value:t.startTime,unit:"millisecond"});break;case"resource":!function(e,t,r,n,i,a){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;var o=ete(r),s=We({},qj,"auto.resource.browser.metrics");_ne(s,t,"transferSize","http.response_transfer_size"),_ne(s,t,"encodedBodySize","http.response_content_length"),_ne(s,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(s["resource.render_blocking_status"]=t.renderBlockingStatus);o.protocol&&(s["url.scheme"]=o.protocol.split(":").pop());o.host&&(s["server.address"]=o.host);s["url.same_origin"]=r.includes(B9.location.origin);var u=a+n,c=u+i;fne(e,u,c,{name:r.replace(B9.location.origin,""),op:t.initiatorType?"resource.".concat(t.initiatorType):"resource.other",attributes:s})}(e,t,t.name,r,i,n)}})),Sne=Math.max(i.length-1,0),function(e){var t=B9.navigator;if(!t)return;var r=t.connection;r&&(r.effectiveType&&e.setAttribute("effectiveConnectionType",r.effectiveType),r.type&&e.setAttribute("connectionType",r.type),dne(r.rtt)&&(Ene["connection.rtt"]={value:r.rtt,unit:"millisecond"}));dne(t.deviceMemory)&&e.setAttribute("deviceMemory","".concat(t.deviceMemory," GB"));dne(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===o){!function(e){var t=yre();if(!t)return;var r=t.responseStart,n=t.requestStart;n<=r&&(Nte&&AL.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:r-n,unit:"millisecond"})}(Ene);var u=Ene["mark.fid"];u&&Ene.fid&&(fne(e,u.value,u.value+vne(Ene.fid.value),{name:"first input delay",op:"ui.action",attributes:We({},qj,"auto.ui.browser.metrics")}),delete Ene["mark.fid"]),"fcp"in Ene&&t.recordClsOnPageloadSpan||delete Ene.cls,Object.entries(Ene).forEach((function(e){var t=k(e,2),r=t[0],n=t[1];!function(e,t,r){var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:bM(),a=i&&yM(i);a&&a.addEvent(e,(We(n={},Xj,t),We(n,Yj,r),n))}(r,n.value,n.unit)})),e.setAttribute("performance.timeOrigin",n),function(e){mne&&(Nte&&AL.log("[Measurements] Adding LCP Data"),mne.element&&e.setAttribute("lcp.element",bL(mne.element)),mne.id&&e.setAttribute("lcp.id",mne.id),mne.url&&e.setAttribute("lcp.url",mne.url.trim().slice(0,200)),e.setAttribute("lcp.size",mne.size));yne&&yne.sources&&(Nte&&AL.log("[Measurements] Adding CLS Data"),yne.sources.forEach((function(t,r){return e.setAttribute("cls.source.".concat(r+1),bL(t.node))})))}(e)}mne=void 0,yne=void 0,Ene={}}}function kne(e,t,r,n,i,a){var o=a?t[a]:t["".concat(r,"End")],s=t["".concat(r,"Start")];s&&o&&fne(e,n+vne(s),n+vne(o),{op:"browser",name:i||r,attributes:We({},qj,"auto.ui.browser.metrics")})}function _ne(e,t,r,n){var i=t[r];null!=i&&i<bne&&(e[n]=i)}var Tne=[],Ane=new Map;function Cne(){if(pne()&&QL){var e=ene((function(e){var t,r=e.metric;if(void 0!=r.value){var n=r.entries.find((function(e){return e.duration===r.value&&Pne[e.name]}));if(n){var i=n.interactionId,a=Pne[n.name],o=vne(QL+n.startTime),s=vne(r.value),u=bM(),c=u?yM(u):void 0,l=(null!=i?Ane.get(i):void 0)||c,d=l?dM(l).description:fj().getScopeData().transactionName,f=hne({name:bL(n.target),transaction:d,attributes:UL((We(t={},qj,"auto.http.browser.inp"),We(t,Wj,"ui.interaction.".concat(a)),We(t,Kj,n.duration),t)),startTime:o});lre([f,"optionalAccess",function(e){return e.addEvent},"call",function(e){var t;return e("inp",(We(t={},Yj,"millisecond"),We(t,Xj,r.value),t))}]),lre([f,"optionalAccess",function(e){return e.end},"call",function(e){return e(o+s)}])}}}));return function(){e()}}return function(){}}var Pne={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};var Ine={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},One="heartbeatFailed",Rne="idleTimeout",Nne="finalTimeout",Lne="externalFinish";function jne(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Map,i=!1,a=Lne,o=!r.disableAutoFinish,s=[],c=r.idleTimeout,l=void 0===c?Ine.idleTimeout:c,d=r.finalTimeout,f=void 0===d?Ine.finalTimeout:d,h=r.childSpanTimeout,p=void 0===h?Ine.childSpanTimeout:h,v=r.beforeSpanEnd,g=vj();if(!g||!zte())return new Yte;var m=fj(),y=bM(),b=function(e){var t=nre(e);return rj(fj(),t),Nj&&AL.log("[Tracing] Started span is an idle span"),t}(e);function S(){t&&(clearTimeout(t),t=void 0)}function E(e){S(),t=setTimeout((function(){!i&&0===n.size&&o&&(a=Rne,b.end(e))}),l)}function x(e){t=setTimeout((function(){!i&&o&&(a=One,b.end(e))}),p)}function w(e){i=!0,n.clear(),s.forEach((function(e){return e()})),rj(m,y);var t=dM(b);if(t.start_timestamp){(t.data||{})[zj]||b.setAttribute(zj,a),AL.log('[Tracing] Idle span "'.concat(t.op,'" finished'));var r=mM(b).filter((function(e){return e!==b})),o=0;r.forEach((function(t){t.isRecording()&&(t.setStatus({code:nM,message:"cancelled"}),t.end(e),Nj&&AL.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));var r=dM(t),n=r.timestamp,i=void 0===n?0:n,a=r.start_timestamp,s=void 0===a?0:a,u=s<=e,c=i-s<=(f+l)/1e3;if(Nj){var d=JSON.stringify(t,void 0,2);u?c||AL.log("[Tracing] Discarding span since it finished after idle span final timeout",d):AL.log("[Tracing] Discarding span since it happened after idle span was finished",d)}c&&u||(!function(e,t){e[pM]&&e[pM].delete(t)}(b,t),o++)})),o>0&&b.setAttribute("sentry.idle_span_discarded_spans",o)}}return b.end=new Proxy(b.end,{apply:function(e,t,r){v&&v(b);var n=_(r),i=n[0],a=n.slice(1),o=cM(i||ZL()),s=mM(b).filter((function(e){return e!==b}));if(!s.length)return w(o),Reflect.apply(e,t,[o].concat(u(a)));var c=s.map((function(e){return dM(e).timestamp})).filter((function(e){return!!e})),l=c.length?Math.max.apply(Math,u(c)):void 0,d=dM(b).start_timestamp,h=Math.min(d?d+f/1e3:1/0,Math.max(d||-1/0,Math.min(o,l||1/0)));return w(h),Reflect.apply(e,t,[h].concat(u(a)))}}),s.push(g.on("spanStart",(function(e){var t;i||e===b||dM(e).timestamp||mM(b).includes(e)&&(t=e.spanContext().spanId,S(),n.set(t,!0),x(ZL()+p/1e3))}))),s.push(g.on("spanEnd",(function(e){var t;i||(t=e.spanContext().spanId,n.has(t)&&n.delete(t),0===n.size&&E(ZL()+l/1e3))}))),s.push(g.on("idleSpanEnableAutoFinish",(function(e){e===b&&(o=!0,E(),n.size&&x())}))),r.disableAutoFinish||E(),setTimeout((function(){i||(b.setStatus({code:nM,message:"deadline_exceeded"}),a=Nne,b.end())}),f),b}var Mne=!1;function Dne(){var e=bM(),t=e&&yM(e);if(t){var r="internal_error";Nj&&AL.log("[Tracing] Root span: ".concat(r," -> Global error occured")),t.setStatus({code:nM,message:r})}}function Fne(e,t,r,n){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"auto.http.browser";if(e.fetchData){var o=zte()&&t(e.fetchData.url);if(!e.endTimestamp||!o){var s=fj(),c=vj(),l=e.fetchData,d=l.method,f=l.url,h=function(e){try{return new URL(e).href}catch(Nue){return}}(f),p=h?ete(h).host:void 0,v=!!bM(),g=o&&v?nre({name:"".concat(d," ").concat(f),attributes:(i={url:f,type:"fetch","http.method":d,"http.url":h,"server.address":p},We(i,qj,a),We(i,Wj,"http.client"),i)}):new Yte;if(e.fetchData.__span=g.spanContext().spanId,n[g.spanContext().spanId]=g,r(e.fetchData.url)&&c){var m=e.args[0];e.args[1]=e.args[1]||{};var y=e.args[1];y.headers=function(e,t,r,n,i){var a=ze(ze({},hj().getPropagationContext()),r.getPropagationContext()),o=a.traceId,s=a.spanId,c=a.sampled,l=a.dsc,d=i?uM(i):Qj(o,s,c),f=Bj(l||(i?wM(i):xM(o,t))),h=n.headers||("undefined"!==typeof Request&&vL(e,Request)?e.headers:void 0);if(h){if("undefined"!==typeof Headers&&vL(h,Headers)){var p=new Headers(h);return p.append("sentry-trace",d),f&&p.append(jj,f),p}if(Array.isArray(h)){var v=[].concat(u(h),[["sentry-trace",d]]);return f&&v.push([jj,f]),v}var g="baggage"in h?h.baggage:void 0,m=[];return Array.isArray(g)?m.push.apply(m,u(g)):g&&m.push(g),f&&m.push(f),ze(ze({},h),{},{"sentry-trace":d,baggage:m.length>0?m.join(","):void 0})}return{"sentry-trace":d,baggage:f}}(m,c,s,y,zte()&&v?g:void 0)}return g}var b=e.fetchData.__span;if(!b)return;var S=n[b];S&&(!function(e,t){if(t.response){iM(e,t.response.status);var r=t.response&&t.response.headers&&t.response.headers.get("content-length");if(r){var n=parseInt(r);n>0&&e.setAttribute("http.response_content_length",n)}}else t.error&&e.setStatus({code:nM,message:"internal_error"});e.end()}(S,e),delete n[b])}}Dne.tag="sentry_tracingErrorCallback";var Une=new WeakMap,Bne=new Map,Gne={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function Vne(e,t){var r=ze({traceFetch:Gne.traceFetch,traceXHR:Gne.traceXHR},t),n=r.traceFetch,i=r.traceXHR,a=r.shouldCreateSpanForRequest,o=r.enableHTTPTimings,s=r.tracePropagationTargets,u="function"===typeof a?a:function(e){return!0},c=function(e){return function(e,t){var r=Tee.location&&Tee.location.href;if(r){var n,i;try{n=new URL(e,r),i=new URL(r).origin}catch(Nue){return!1}var a=n.origin===i;return t?OL(n.toString(),t)||a&&OL(n.pathname,t):a}var o=!!e.match(/^\/(?!\/)/);return t?OL(e,t):o}(e,s)},l={};n&&(e.addEventProcessor((function(e){return"transaction"===e.type&&e.spans&&e.spans.forEach((function(e){if("http.client"===e.op){var t=Bne.get(e.span_id);t&&(e.timestamp=t/1e3,Bne.delete(e.span_id))}})),e})),function(e){var t="fetch-body-resolved";j9(t,e),M9(t,(function(){return qee(Xee)}))}((function(e){if(e.response){var t=Une.get(e.response);t&&e.endTimestamp&&Bne.set(t,e.endTimestamp)}})),Wee((function(e){var t=Fne(e,u,c,l);if(e.response&&e.fetchData.__span&&Une.set(e.response,e.fetchData.__span),t){var r=qne(e.fetchData.url),n=r?ete(r).host:void 0;t.setAttributes({"http.url":r,"server.address":n})}o&&t&&Hne(t)}))),i&&Uee((function(e){var t=function(e,t,r,n){var i,a=e.xhr,o=a&&a[Fee];if(!a||a.__sentry_own_request__||!o)return;var s=zte()&&t(o.url);if(e.endTimestamp&&s){var u=a.__sentry_xhr_span_id__;if(!u)return;var c=n[u];return void(c&&void 0!==o.status_code&&(iM(c,o.status_code),c.end(),delete n[u]))}var l=qne(o.url),d=l?ete(l).host:void 0,f=!!bM(),h=s&&f?nre({name:"".concat(o.method," ").concat(o.url),attributes:(i={type:"xhr","http.method":o.method,"http.url":l,url:o.url,"server.address":d},We(i,qj,"auto.http.browser"),We(i,Wj,"http.client"),i)}):new Yte;a.__sentry_xhr_span_id__=h.spanContext().spanId,n[a.__sentry_xhr_span_id__]=h;var p=vj();a.setRequestHeader&&r(o.url)&&p&&function(e,t,r){var n=fj(),i=ze(ze({},hj().getPropagationContext()),n.getPropagationContext()),a=i.traceId,o=i.spanId,s=i.sampled,u=i.dsc,c=r&&zte()?uM(r):Qj(a,o,s),l=Bj(u||(r?wM(r):xM(a,t)));!function(e,t,r){try{e.setRequestHeader("sentry-trace",t),r&&e.setRequestHeader(jj,r)}catch(ct){}}(e,c,l)}(a,p,zte()&&f?h:void 0);return h}(e,u,c,l);o&&t&&Hne(t)}))}function Hne(e){var t=(dM(e).data||{}).url;if(t&&"string"===typeof t)var r=tne("resource",(function(n){n.entries.forEach((function(n){if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"===typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(n)&&n.name.endsWith(t)){var i=function(e){var t=function(e){var t,r="unknown",n="unknown",i="",a=T(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;if("/"===o){var s=k(e.split("/"),2);r=s[0],n=s[1];break}if(!isNaN(Number(o))){r="h"===i?"http":i,n=e.split(i)[1];break}i+=o}}catch(u){a.e(u)}finally{a.f()}i===e&&(r=i);return{name:r,version:n}}(e.nextHopProtocol),r=t.name,n=t.version,i=[];if(i.push(["network.protocol.version",n],["network.protocol.name",r]),!QL)return i;return[].concat(i,[["http.request.redirect_start",Wne(e.redirectStart)],["http.request.fetch_start",Wne(e.fetchStart)],["http.request.domain_lookup_start",Wne(e.domainLookupStart)],["http.request.domain_lookup_end",Wne(e.domainLookupEnd)],["http.request.connect_start",Wne(e.connectStart)],["http.request.secure_connection_start",Wne(e.secureConnectionStart)],["http.request.connection_end",Wne(e.connectEnd)],["http.request.request_start",Wne(e.requestStart)],["http.request.response_start",Wne(e.responseStart)],["http.request.response_end",Wne(e.responseEnd)]])}(n);i.forEach((function(t){return e.setAttribute.apply(e,u(t))})),setTimeout(r)}}))}))}function Wne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return((QL||performance.timeOrigin)+e)/1e3}function qne(e){try{return new URL(e,Tee.location.origin).href}catch(t){return}}var zne=ze(ze({},Ine),{},{instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{}},Gne);function Yne(e){var t,r=(t="meta[name=".concat(e,"]"),mL.document&&mL.document.querySelector?mL.document.querySelector(t):null);return r?r.getAttribute("content"):void 0}function Xne(e,t){var r=t&&t.getDsn(),n=t&&t.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,r)||function(e,t){if(!t)return!1;return Kne(e)===Kne(t)}(e,n)}function Kne(e){return"/"===e[e.length-1]?e.slice(0,-1):e}function Jne(){return!("undefined"!==typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0)}function Zne(){return"undefined"!==typeof window&&(!Jne()||void 0!==eL.process&&"renderer"===eL.process.type)}var Qne,$ne=eL,eie="sentryReplaySession",tie="replay_event",rie="Unable to send Replay",nie=5e3,iie=3,aie=15e4,oie=5e3,sie=2e7,uie=36e5;function cie(e,t){return null!=e?e:t()}function lie(e){for(var t=void 0,r=e[0],n=1;n<e.length;){var i=e[n],a=e[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(t=r,r=a(r)):"call"!==i&&"optionalCall"!==i||(r=a((function(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=r).call.apply(e,[t].concat(i))})),t=void 0)}return r}function die(e){var t=lie([e,"optionalAccess",function(e){return e.host}]);return Boolean(lie([t,"optionalAccess",function(e){return e.shadowRoot}])===e)}function fie(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function hie(e){try{var t=e.rules||e.cssRules;return t?((r=Array.from(t,pie).join("")).includes(" background-clip: text;")&&!r.includes(" -webkit-background-clip: text;")&&(r=r.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),r):null}catch(n){return null}var r}function pie(e){var t;if(function(e){return"styleSheet"in e}(e))try{t=hie(e.styleSheet)||function(e){var t=e.cssText;if(t.split('"').length<3)return t;var r=["@import","url(".concat(JSON.stringify(e.href),")")];return""===e.layerName?r.push("layer"):e.layerName&&r.push("layer(".concat(e.layerName,")")),e.supportsText&&r.push("supports(".concat(e.supportsText,")")),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}(e)}catch(r){}else if(function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":"))return function(e){var t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(e.cssText);return t||e.cssText}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(Qne||(Qne={}));var vie=function(){function e(){c(this,e),this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}return h(e,[{key:"getId",value:function(e){return e?cie(lie([this,"access",function(e){return e.getMeta},"call",function(t){return t(e)},"optionalAccess",function(e){return e.id}]),(function(){return-1})):-1}},{key:"getNode",value:function(e){return this.idNodeMap.get(e)||null}},{key:"getIds",value:function(){return Array.from(this.idNodeMap.keys())}},{key:"getMeta",value:function(e){return this.nodeMetaMap.get(e)||null}},{key:"removeNodeFromMap",value:function(e){var t=this,r=this.getId(e);this.idNodeMap.delete(r),e.childNodes&&e.childNodes.forEach((function(e){return t.removeNodeFromMap(e)}))}},{key:"has",value:function(e){return this.idNodeMap.has(e)}},{key:"hasNode",value:function(e){return this.nodeMetaMap.has(e)}},{key:"add",value:function(e,t){var r=t.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,t)}},{key:"replace",value:function(e,t){var r=this.getNode(e);if(r){var n=this.nodeMetaMap.get(r);n&&this.nodeMetaMap.set(t,n)}this.idNodeMap.set(e,t)}},{key:"reset",value:function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}]),e}();function gie(e){var t=e.maskInputOptions,r=e.tagName,n=e.type;return"OPTION"===r&&(r="SELECT"),Boolean(t[r.toLowerCase()]||n&&t[n]||"password"===n||"INPUT"===r&&!n&&t.text)}function mie(e){var t=e.isMasked,r=e.element,n=e.value,i=e.maskInputFn,a=n||"";return t?(i&&(a=i(a,r)),"*".repeat(a.length)):a}function yie(e){return e.toLowerCase()}function bie(e){return e.toUpperCase()}var Sie="__rrweb_original__";function Eie(e){var t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?yie(t):null}function xie(e,t,r){return"INPUT"!==t||"radio"!==r&&"checkbox"!==r?e.value:e.getAttribute("value")||""}function wie(e,t){var r;try{r=new URL(e,cie(t,(function(){return window.location.href})))}catch(n){return null}return cie(lie([r.pathname.match(/\.([0-9a-z]+)(?:$)/i),"optionalAccess",function(e){return e[1]}]),(function(){return null}))}var kie={};function _ie(e){var t=kie[e];if(t)return t;var r=window.document,n=window[e];if(r&&"function"===typeof r.createElement)try{var i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);var a=i.contentWindow;a&&a[e]&&(n=a[e]),r.head.removeChild(i)}catch(Nue){}return kie[e]=n.bind(window)}function Tie(){return _ie("setTimeout").apply(void 0,arguments)}function Aie(){return _ie("clearTimeout").apply(void 0,arguments)}var Cie,Pie,Iie=1,Oie=new RegExp("[^a-z0-9-_:]"),Rie=-2;function Nie(){return Iie++}var Lie=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,jie=/^(?:[a-z+]+:)?\/\//i,Mie=/^www\..*/i,Die=/^(data:)([^,]*),(.*)/i;function Fie(e,t){return(e||"").replace(Lie,(function(e,r,n,i,a,o){var s,u=n||a||o,c=r||i||"";if(!u)return e;if(jie.test(u)||Mie.test(u))return"url(".concat(c).concat(u).concat(c,")");if(Die.test(u))return"url(".concat(c).concat(u).concat(c,")");if("/"===u[0])return"url(".concat(c).concat((s=t,(s.indexOf("//")>-1?s.split("/").slice(0,3).join("/"):s.split("/")[0]).split("?")[0]+u)).concat(c,")");var l=t.split("/"),d=u.split("/");l.pop();var f,h=T(d);try{for(h.s();!(f=h.n()).done;){var p=f.value;"."!==p&&(".."===p?l.pop():l.push(p))}}catch(v){h.e(v)}finally{h.f()}return"url(".concat(c).concat(l.join("/")).concat(c,")")}))}var Uie=/^[^ \t\n\r\u000c]+/,Bie=/^[, \t\n\r\u000c]+/;function Gie(e,t){if(!t||""===t.trim())return t;var r=e.createElement("a");return r.href=t,r.href}function Vie(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function Hie(){var e=document.createElement("a");return e.href="",e.href}function Wie(e,t,r,n,i,a){return n?"src"===r||"href"===r&&("use"!==t||"#"!==n[0])||"xlink:href"===r&&"#"!==n[0]?Gie(e,n):"background"!==r||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===r?function(e,t){if(""===t.trim())return t;var r=0;function n(e){var n,i=e.exec(t.substring(r));return i?(n=i[0],r+=n.length,n):""}for(var i=[];n(Bie),!(r>=t.length);){var a=n(Uie);if(","===a.slice(-1))a=Gie(e,a.substring(0,a.length-1)),i.push(a);else{var o="";a=Gie(e,a);for(var s=!1;;){var u=t.charAt(r);if(""===u){i.push((a+o).trim());break}if(s)")"===u&&(s=!1);else{if(","===u){r+=1,i.push((a+o).trim());break}"("===u&&(s=!0)}o+=u,r+=1}}}return i.join(", ")}(e,n):"style"===r?Fie(n,Hie()):"object"===t&&"data"===r?Gie(e,n):"function"===typeof a?a(r,n,i):n:Gie(e,n):n}function qie(e,t,r){return("video"===e||"audio"===e)&&"autoplay"===t}function zie(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e?e.nodeType!==e.ELEMENT_NODE||n>r?-1:t(e)?n:zie(e.parentNode,t,r,n+1):-1}function Yie(e,t){return function(r){var n=r;if(null===n)return!1;try{if(e)if("string"===typeof e){if(n.matches(".".concat(e)))return!0}else if(function(e,t){for(var r=e.classList.length;r--;){var n=e.classList[r];if(t.test(n))return!0}return!1}(n,e))return!0;return!(!t||!n.matches(t))}catch(i){return!1}}}function Xie(e,t,r,n,i,a){try{var o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===o)return!1;if("INPUT"===o.tagName){var s=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(s))return!0}var u=-1,c=-1;if(a){if((c=zie(o,Yie(n,i)))<0)return!0;u=zie(o,Yie(t,r),c>=0?c:1/0)}else{if((u=zie(o,Yie(t,r)))<0)return!1;c=zie(o,Yie(n,i),u>=0?u:1/0)}return u>=0?!(c>=0)||u<=c:!(c>=0)&&!!a}catch(Nue){}return!!a}function Kie(e,t){var r=t.doc,n=t.mirror,i=t.blockClass,a=t.blockSelector,o=t.unblockSelector,s=t.maskAllText,u=t.maskAttributeFn,c=t.maskTextClass,l=t.unmaskTextClass,d=t.maskTextSelector,f=t.unmaskTextSelector,h=t.inlineStylesheet,p=t.maskInputOptions,v=void 0===p?{}:p,g=t.maskTextFn,m=t.maskInputFn,y=t.dataURLOptions,b=void 0===y?{}:y,S=t.inlineImages,E=t.recordCanvas,x=t.keepIframeSrcFn,w=t.newlyAddedElement,k=void 0!==w&&w,_=function(e,t){if(!t.hasNode(e))return;var r=t.getId(e);return 1===r?void 0:r}(r,n);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:Qne.Document,childNodes:[],compatMode:e.compatMode}:{type:Qne.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Qne.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:_};case e.ELEMENT_NODE:return function(e,t){for(var r,n=t.doc,i=t.blockClass,a=t.blockSelector,o=t.unblockSelector,s=t.inlineStylesheet,u=t.maskInputOptions,c=void 0===u?{}:u,l=t.maskAttributeFn,d=t.maskInputFn,f=t.dataURLOptions,h=void 0===f?{}:f,p=t.inlineImages,v=t.recordCanvas,g=t.keepIframeSrcFn,m=t.newlyAddedElement,y=void 0!==m&&m,b=t.rootId,S=(t.maskAllText,t.maskTextClass),E=t.unmaskTextClass,x=t.maskTextSelector,w=t.unmaskTextSelector,k=function(e,t,r,n){try{if(n&&e.matches(n))return!1;if("string"===typeof t){if(e.classList.contains(t))return!0}else for(var i=e.classList.length;i--;){var a=e.classList[i];if(t.test(a))return!0}if(r)return e.matches(r)}catch(Nue){}return!1}(e,i,a,o),_=function(e){if(e instanceof HTMLFormElement)return"form";var t=yie(e.tagName);return Oie.test(t)?"div":t}(e),T={},A=e.attributes.length,C=0;C<A;C++){var P=e.attributes[C];P.name&&!qie(_,P.name,P.value)&&(T[P.name]=Wie(n,_,yie(P.name),P.value,e,l))}if("link"===_&&s){var I=Array.from(n.styleSheets).find((function(t){return t.href===e.href})),O=null;I&&(O=hie(I)),O&&(delete T.rel,delete T.href,T._cssText=Fie(O,I.href))}if("style"===_&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){var R=hie(e.sheet);R&&(T._cssText=Fie(R,Hie()))}if("input"===_||"textarea"===_||"select"===_||"option"===_){var N=e,L=Eie(N),j=xie(N,bie(_),L),M=N.checked;if("submit"!==L&&"button"!==L&&j){var D=Xie(N,S,x,E,w,gie({type:L,tagName:bie(_),maskInputOptions:c}));T.value=mie({isMasked:D,element:N,value:j,maskInputFn:d})}M&&(T.checked=M)}"option"===_&&(e.selected&&!c.select?T.selected=!0:delete T.selected);if("canvas"===_&&v)if("2d"===e.__context)(function(e){var t=e.getContext("2d");if(!t)return!0;for(var r=0;r<e.width;r+=50)for(var n=0;n<e.height;n+=50){var i=t.getImageData,a=Sie in i?i[Sie]:i;if(new Uint32Array(a.call(t,r,n,Math.min(50,e.width-r),Math.min(50,e.height-n)).data.buffer).some((function(e){return 0!==e})))return!1}return!0})(e)||(T.rr_dataURL=e.toDataURL(h.type,h.quality));else if(!("__context"in e)){var F=e.toDataURL(h.type,h.quality),U=document.createElement("canvas");U.width=e.width,U.height=e.height,F!==U.toDataURL(h.type,h.quality)&&(T.rr_dataURL=F)}if("img"===_&&p){Cie||(Cie=n.createElement("canvas"),Pie=Cie.getContext("2d"));var B=e,G=B.crossOrigin;B.crossOrigin="anonymous";var V=function e(){B.removeEventListener("load",e);try{Cie.width=B.naturalWidth,Cie.height=B.naturalHeight,Pie.drawImage(B,0,0),T.rr_dataURL=Cie.toDataURL(h.type,h.quality)}catch(t){console.warn("Cannot inline img src=".concat(B.currentSrc,"! Error: ").concat(t))}G?T.crossOrigin=G:B.removeAttribute("crossorigin")};B.complete&&0!==B.naturalWidth?V():B.addEventListener("load",V)}"audio"!==_&&"video"!==_||(T.rr_mediaState=e.paused?"paused":"played",T.rr_mediaCurrentTime=e.currentTime);y||(e.scrollLeft&&(T.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(T.rr_scrollTop=e.scrollTop));if(k){var H=e.getBoundingClientRect(),W=H.width,q=H.height;T={class:T.class,rr_width:"".concat(W,"px"),rr_height:"".concat(q,"px")}}"iframe"!==_||g(T.src)||(k||e.contentDocument||(T.rr_src=T.src),delete T.src);try{customElements.get(_)&&(r=!0)}catch(Nue){}return{type:Qne.Element,tagName:_,attributes:T,childNodes:[],isSVG:Vie(e)||void 0,needBlock:k,rootId:b,isCustom:r}}(e,{doc:r,blockClass:i,blockSelector:a,unblockSelector:o,inlineStylesheet:h,maskAttributeFn:u,maskInputOptions:v,maskInputFn:m,dataURLOptions:b,inlineImages:S,recordCanvas:E,keepIframeSrcFn:x,newlyAddedElement:k,rootId:_,maskAllText:s,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f});case e.TEXT_NODE:return function(e,t){var r=t.maskAllText,n=t.maskTextClass,i=t.unmaskTextClass,a=t.maskTextSelector,o=t.unmaskTextSelector,s=t.maskTextFn,u=t.maskInputOptions,c=t.maskInputFn,l=t.rootId,d=e.parentNode&&e.parentNode.tagName,f=e.textContent,h="STYLE"===d||void 0,p="SCRIPT"===d||void 0,v="TEXTAREA"===d||void 0;if(h&&f){try{e.nextSibling||e.previousSibling||lie([e,"access",function(e){return e.parentNode},"access",function(e){return e.sheet},"optionalAccess",function(e){return e.cssRules}])&&(f=hie(e.parentNode.sheet))}catch(m){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(m),e)}f=Fie(f,Hie())}p&&(f="SCRIPT_PLACEHOLDER");var g=Xie(e,n,a,i,o,r);h||p||v||!f||!g||(f=s?s(f,e.parentElement):f.replace(/[\S]/g,"*"));v&&f&&(u.textarea||g)&&(f=c?c(f,e.parentNode):f.replace(/[\S]/g,"*"));if("OPTION"===d&&f){f=mie({isMasked:Xie(e,n,a,i,o,gie({type:null,tagName:d,maskInputOptions:u})),element:e,value:f,maskInputFn:c})}return{type:Qne.Text,textContent:f||"",isStyle:h,rootId:l}}(e,{maskAllText:s,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:g,maskInputOptions:v,maskInputFn:m,rootId:_});case e.CDATA_SECTION_NODE:return{type:Qne.CDATA,textContent:"",rootId:_};case e.COMMENT_NODE:return{type:Qne.Comment,textContent:e.textContent||"",rootId:_};default:return!1}}function Jie(e){return void 0===e||null===e?"":e.toLowerCase()}function Zie(e,t){var r,n=t.doc,i=t.mirror,a=t.blockClass,o=t.blockSelector,s=t.unblockSelector,u=t.maskAllText,c=t.maskTextClass,l=t.unmaskTextClass,d=t.maskTextSelector,f=t.unmaskTextSelector,h=t.skipChild,p=void 0!==h&&h,v=t.inlineStylesheet,g=void 0===v||v,m=t.maskInputOptions,y=void 0===m?{}:m,b=t.maskAttributeFn,S=t.maskTextFn,E=t.maskInputFn,x=t.slimDOMOptions,w=t.dataURLOptions,k=void 0===w?{}:w,_=t.inlineImages,T=void 0!==_&&_,A=t.recordCanvas,C=void 0!==A&&A,P=t.onSerialize,I=t.onIframeLoad,O=t.iframeLoadTimeout,R=void 0===O?5e3:O,N=t.onStylesheetLoad,L=t.stylesheetLoadTimeout,j=void 0===L?5e3:L,M=t.keepIframeSrcFn,D=void 0===M?function(){return!1}:M,F=t.newlyAddedElement,U=void 0!==F&&F,B=t.preserveWhiteSpace,G=void 0===B||B,V=Kie(e,{doc:n,mirror:i,blockClass:a,blockSelector:o,maskAllText:u,unblockSelector:s,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:g,maskInputOptions:y,maskAttributeFn:b,maskTextFn:S,maskInputFn:E,dataURLOptions:k,inlineImages:T,recordCanvas:C,keepIframeSrcFn:D,newlyAddedElement:U});if(!V)return console.warn(e,"not serialized"),null;r=i.hasNode(e)?i.getId(e):!function(e,t){if(t.comment&&e.type===Qne.Comment)return!0;if(e.type===Qne.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"===typeof e.attributes.href&&"js"===wie(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(Jie(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===Jie(e.attributes.name)||"icon"===Jie(e.attributes.rel)||"apple-touch-icon"===Jie(e.attributes.rel)||"shortcut icon"===Jie(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&Jie(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(Jie(e.attributes.property).match(/^(og|twitter|fb):/)||Jie(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===Jie(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===Jie(e.attributes.name)||"googlebot"===Jie(e.attributes.name)||"bingbot"===Jie(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===Jie(e.attributes.name)||"generator"===Jie(e.attributes.name)||"framework"===Jie(e.attributes.name)||"publisher"===Jie(e.attributes.name)||"progid"===Jie(e.attributes.name)||Jie(e.attributes.property).match(/^article:/)||Jie(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===Jie(e.attributes.name)||"yandex-verification"===Jie(e.attributes.name)||"csrf-token"===Jie(e.attributes.name)||"p:domain_verify"===Jie(e.attributes.name)||"verify-v1"===Jie(e.attributes.name)||"verification"===Jie(e.attributes.name)||"shopify-checkout-api-token"===Jie(e.attributes.name)))return!0}}return!1}(V,x)&&(G||V.type!==Qne.Text||V.isStyle||V.textContent.replace(/^\s+|\s+$/gm,"").length)?Nie():Rie;var H=Object.assign(V,{id:r});if(i.add(e,H),r===Rie)return null;P&&P(e);var W=!p;if(H.type===Qne.Element){W=W&&!H.needBlock,delete H.needBlock;var q=e.shadowRoot;q&&fie(q)&&(H.isShadowHost=!0)}if((H.type===Qne.Document||H.type===Qne.Element)&&W){x.headWhitespace&&H.type===Qne.Element&&"head"===H.tagName&&(G=!1);for(var z={doc:n,mirror:i,blockClass:a,blockSelector:o,maskAllText:u,unblockSelector:s,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,skipChild:p,inlineStylesheet:g,maskInputOptions:y,maskAttributeFn:b,maskTextFn:S,maskInputFn:E,slimDOMOptions:x,dataURLOptions:k,inlineImages:T,recordCanvas:C,preserveWhiteSpace:G,onSerialize:P,onIframeLoad:I,iframeLoadTimeout:R,onStylesheetLoad:N,stylesheetLoadTimeout:j,keepIframeSrcFn:D},Y=0,X=Array.from(e.childNodes);Y<X.length;Y++){var K=Zie(X[Y],z);K&&H.childNodes.push(K)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(var J=0,Z=Array.from(e.shadowRoot.childNodes);J<Z.length;J++){var Q=Zie(Z[J],z);Q&&(fie(e.shadowRoot)&&(Q.isShadow=!0),H.childNodes.push(Q))}}return e.parentNode&&die(e.parentNode)&&fie(e.parentNode)&&(H.isShadow=!0),H.type===Qne.Element&&"iframe"===H.tagName&&function(e,t,r){var n=e.contentWindow;if(n){var i,a=!1;try{i=n.document.readyState}catch(u){return}if("complete"===i){var o="about:blank";if(n.location.href!==o||e.src===o||""===e.src)return Tie(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}else{var s=Tie((function(){a||(t(),a=!0)}),r);e.addEventListener("load",(function(){Aie(s),a=!0,t()}))}}}(e,(function(){var t=e.contentDocument;if(t&&I){var r=Zie(t,{doc:t,mirror:i,blockClass:a,blockSelector:o,unblockSelector:s,maskAllText:u,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:g,maskInputOptions:y,maskAttributeFn:b,maskTextFn:S,maskInputFn:E,slimDOMOptions:x,dataURLOptions:k,inlineImages:T,recordCanvas:C,preserveWhiteSpace:G,onSerialize:P,onIframeLoad:I,iframeLoadTimeout:R,onStylesheetLoad:N,stylesheetLoadTimeout:j,keepIframeSrcFn:D});r&&I(e,r)}}),R),H.type===Qne.Element&&"link"===H.tagName&&"string"===typeof H.attributes.rel&&("stylesheet"===H.attributes.rel||"preload"===H.attributes.rel&&"string"===typeof H.attributes.href&&"css"===wie(H.attributes.href))&&function(e,t,r){var n,i=!1;try{n=e.sheet}catch(o){return}if(!n){var a=Tie((function(){i||(t(),i=!0)}),r);e.addEventListener("load",(function(){Aie(a),i=!0,t()}))}}(e,(function(){if(N){var t=Zie(e,{doc:n,mirror:i,blockClass:a,blockSelector:o,unblockSelector:s,maskAllText:u,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:g,maskInputOptions:y,maskAttributeFn:b,maskTextFn:S,maskInputFn:E,slimDOMOptions:x,dataURLOptions:k,inlineImages:T,recordCanvas:C,preserveWhiteSpace:G,onSerialize:P,onIframeLoad:I,iframeLoadTimeout:R,onStylesheetLoad:N,stylesheetLoadTimeout:j,keepIframeSrcFn:D});t&&N(e,t)}}),j),H}function Qie(e){for(var t=void 0,r=e[0],n=1;n<e.length;){var i=e[n],a=e[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(t=r,r=a(r)):"call"!==i&&"optionalCall"!==i||(r=a((function(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=r).call.apply(e,[t].concat(i))})),t=void 0)}return r}function $ie(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,n={capture:!0,passive:!0};return r.addEventListener(e,t,n),function(){return r.removeEventListener(e,t,n)}}var eae="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",tae={map:{},getId:function(){return console.error(eae),-1},getNode:function(){return console.error(eae),null},removeNodeFromMap:function(){console.error(eae)},has:function(){return console.error(eae),!1},reset:function(){console.error(eae)}};function rae(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=null,i=0;return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var u=Date.now();i||!1!==r.leading||(i=u);var c=t-(u-i),l=this;c<=0||c>t?(n&&(!function(){xae("clearTimeout").apply(void 0,arguments)}(n),n=null),i=u,e.apply(l,o)):n||!1===r.trailing||(n=wae((function(){i=!1===r.leading?0:Date.now(),n=null,e.apply(l,o)}),c))}}function nae(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window,a=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,n?r:{set:function(e){var t=this;wae((function(){r.set.call(t,e)}),0),a&&a.set&&a.set.call(this,e)}}),function(){return nae(e,t,a||{},!0)}}function iae(e,t,r){try{if(!(t in e))return function(){};var n=e[t],i=r(n);return"function"===typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=i,function(){e[t]=n}}catch(a){return function(){}}}"undefined"!==typeof window&&window.Proxy&&window.Reflect&&(tae=new Proxy(tae,{get:function(e,t,r){return"map"===t&&console.error(eae),Reflect.get(e,t,r)}}));var aae=Date.now;function oae(e){var t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:Qie([t,"optionalAccess",function(e){return e.documentElement},"access",function(e){return e.scrollLeft}])||Qie([t,"optionalAccess",function(e){return e.body},"optionalAccess",function(e){return e.parentElement},"optionalAccess",function(e){return e.scrollLeft}])||Qie([t,"optionalAccess",function(e){return e.body},"optionalAccess",function(e){return e.scrollLeft}])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:Qie([t,"optionalAccess",function(e){return e.documentElement},"access",function(e){return e.scrollTop}])||Qie([t,"optionalAccess",function(e){return e.body},"optionalAccess",function(e){return e.parentElement},"optionalAccess",function(e){return e.scrollTop}])||Qie([t,"optionalAccess",function(e){return e.body},"optionalAccess",function(e){return e.scrollTop}])||0}}function sae(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function uae(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function cae(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function lae(e,t,r,n,i){if(!e)return!1;var a=cae(e);if(!a)return!1;var o=Yie(t,r);if(!i){var s=n&&a.matches(n);return o(a)&&!s}var u=zie(a,o),c=-1;return!(u<0)&&(n&&(c=zie(a,Yie(null,n))),u>-1&&c<0||u<c)}function dae(e,t){return t.getId(e)===Rie}function fae(e,t){if(die(e))return!1;var r=t.getId(e);return!t.has(r)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||fae(e.parentNode,t))}function hae(e){return Boolean(e.changedTouches)}function pae(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function vae(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function gae(e){return Boolean(Qie([e,"optionalAccess",function(e){return e.shadowRoot}]))}/[1-9][0-9]{12}/.test(Date.now().toString())||(aae=function(){return(new Date).getTime()});var mae=function(){function e(){c(this,e),this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}return h(e,[{key:"getId",value:function(e){return t=this.styleIDMap.get(e),r=function(){return-1},null!=t?t:r();var t,r}},{key:"has",value:function(e){return this.styleIDMap.has(e)}},{key:"add",value:function(e,t){return this.has(e)?this.getId(e):(r=void 0===t?this.id++:t,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r);var r}},{key:"getStyle",value:function(e){return this.idStyleMap.get(e)||null}},{key:"reset",value:function(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}},{key:"generateId",value:function(){return this.id++}}]),e}();function yae(e){var t=null;return Qie([e,"access",function(e){return e.getRootNode},"optionalCall",function(e){return e()},"optionalAccess",function(e){return e.nodeType}])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function bae(e){var t=e.ownerDocument;if(!t)return!1;var r=function(e){for(var t,r=e;t=yae(r);)r=t;return r}(e);return t.contains(r)}function Sae(e){var t=e.ownerDocument;return!!t&&(t.contains(e)||bae(e))}var Eae={};function xae(e){var t=Eae[e];if(t)return t;var r=window.document,n=window[e];if(r&&"function"===typeof r.createElement)try{var i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);var a=i.contentWindow;a&&a[e]&&(n=a[e]),r.head.removeChild(i)}catch(Nue){}return Eae[e]=n.bind(window)}function wae(){return xae("setTimeout").apply(void 0,arguments)}var kae=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(kae||{}),_ae=function(e){return e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e}(_ae||{}),Tae=function(e){return e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e}(Tae||{}),Aae=function(e){return e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e}(Aae||{});function Cae(e){for(var t=void 0,r=e[0],n=1;n<e.length;){var i=e[n],a=e[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(t=r,r=a(r)):"call"!==i&&"optionalCall"!==i||(r=a((function(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=r).call.apply(e,[t].concat(i))})),t=void 0)}return r}function Pae(e){return"__ln"in e}var Iae,Oae=function(){function e(){c(this,e),this.length=0,this.head=null,this.tail=null}return h(e,[{key:"get",value:function(e){if(e>=this.length)throw new Error("Position outside of list range");for(var t=this.head,r=0;r<e;r++)t=Cae([t,"optionalAccess",function(e){return e.next}])||null;return t}},{key:"addNode",value:function(e){var t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Pae(e.previousSibling)){var r=e.previousSibling.__ln.next;t.next=r,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,r&&(r.previous=t)}else if(e.nextSibling&&Pae(e.nextSibling)&&e.nextSibling.__ln.previous){var n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}},{key:"removeNode",value:function(e){var t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}]),e}(),Rae=function(e,t){return"".concat(e,"@").concat(t)},Nae=function(){function e(){var t=this;c(this,e),this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=function(e){e.forEach(t.processMutation),t.emit()},this.emit=function(){if(!t.frozen&&!t.locked){for(var e=[],r=new Set,n=new Oae,i=function(e){for(var r=e,n=Rie;n===Rie;)n=(r=r&&r.nextSibling)&&t.mirror.getId(r);return n},a=function(a){if(a.parentNode&&Sae(a)){var o=die(a.parentNode)?t.mirror.getId(yae(a)):t.mirror.getId(a.parentNode),s=i(a);if(-1===o||-1===s)return n.addNode(a);var u=Zie(a,{doc:t.doc,mirror:t.mirror,blockClass:t.blockClass,blockSelector:t.blockSelector,maskAllText:t.maskAllText,unblockSelector:t.unblockSelector,maskTextClass:t.maskTextClass,unmaskTextClass:t.unmaskTextClass,maskTextSelector:t.maskTextSelector,unmaskTextSelector:t.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:t.inlineStylesheet,maskInputOptions:t.maskInputOptions,maskAttributeFn:t.maskAttributeFn,maskTextFn:t.maskTextFn,maskInputFn:t.maskInputFn,slimDOMOptions:t.slimDOMOptions,dataURLOptions:t.dataURLOptions,recordCanvas:t.recordCanvas,inlineImages:t.inlineImages,onSerialize:function(e){pae(e,t.mirror)&&!lae(e,t.blockClass,t.blockSelector,t.unblockSelector,!1)&&t.iframeManager.addIframe(e),vae(e,t.mirror)&&t.stylesheetManager.trackLinkElement(e),gae(a)&&t.shadowDomManager.addShadowRoot(a.shadowRoot,t.doc)},onIframeLoad:function(e,r){lae(e,t.blockClass,t.blockSelector,t.unblockSelector,!1)||(t.iframeManager.attachIframe(e,r),e.contentWindow&&t.canvasManager.addWindow(e.contentWindow),t.shadowDomManager.observeAttachShadow(e))},onStylesheetLoad:function(e,r){t.stylesheetManager.attachLinkElement(e,r)}});u&&(e.push({parentId:o,nextId:s,node:u}),r.add(u.id))}};t.mapRemoves.length;)t.mirror.removeNodeFromMap(t.mapRemoves.shift());var o,s=T(t.movedSet);try{for(s.s();!(o=s.n()).done;){var u=o.value;jae(t.removes,u,t.mirror)&&!t.movedSet.has(u.parentNode)||a(u)}}catch(x){s.e(x)}finally{s.f()}var c,l=T(t.addedSet);try{for(l.s();!(c=l.n()).done;){var d=c.value;Dae(t.droppedSet,d)||jae(t.removes,d,t.mirror)?Dae(t.movedSet,d)?a(d):t.droppedSet.add(d):a(d)}}catch(x){l.e(x)}finally{l.f()}for(var f=null;n.length;){var h=null;if(f){var p=t.mirror.getId(f.value.parentNode),v=i(f.value);-1!==p&&-1!==v&&(h=f)}if(!h)for(var g=n.tail;g;){var m=g;if(g=g.previous,m){var y=t.mirror.getId(m.value.parentNode);if(-1===i(m.value))continue;if(-1!==y){h=m;break}var b=m.value;if(b.parentNode&&b.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var S=b.parentNode.host;if(-1!==t.mirror.getId(S)){h=m;break}}}}if(!h){for(;n.head;)n.removeNode(n.head.value);break}f=h.previous,n.removeNode(h.value),a(h.value)}var E={texts:t.texts.map((function(e){return{id:t.mirror.getId(e.node),value:e.value}})).filter((function(e){return!r.has(e.id)})).filter((function(e){return t.mirror.has(e.id)})),attributes:t.attributes.map((function(e){var r=e.attributes;if("string"===typeof r.style){var n=JSON.stringify(e.styleDiff),i=JSON.stringify(e._unchangedStyles);n.length<r.style.length&&(n+i).split("var(").length===r.style.split("var(").length&&(r.style=e.styleDiff)}return{id:t.mirror.getId(e.node),attributes:r}})).filter((function(e){return!r.has(e.id)})).filter((function(e){return t.mirror.has(e.id)})),removes:t.removes,adds:e};(E.texts.length||E.attributes.length||E.removes.length||E.adds.length)&&(t.texts=[],t.attributes=[],t.attributeMap=new WeakMap,t.removes=[],t.addedSet=new Set,t.movedSet=new Set,t.droppedSet=new Set,t.movedMap={},t.mutationCb(E))}},this.processMutation=function(e){if(!dae(e.target,t.mirror))switch(e.type){case"characterData":var r=e.target.textContent;lae(e.target,t.blockClass,t.blockSelector,t.unblockSelector,!1)||r===e.oldValue||t.texts.push({value:Xie(e.target,t.maskTextClass,t.maskTextSelector,t.unmaskTextClass,t.unmaskTextSelector,t.maskAllText)&&r?t.maskTextFn?t.maskTextFn(r,cae(e.target)):r.replace(/[\S]/g,"*"):r,node:e.target});break;case"attributes":var n=e.target,i=e.attributeName,a=e.target.getAttribute(i);if("value"===i){var o=Eie(n),s=n.tagName;a=xie(n,s,o);var u=gie({maskInputOptions:t.maskInputOptions,tagName:s,type:o});a=mie({isMasked:Xie(e.target,t.maskTextClass,t.maskTextSelector,t.unmaskTextClass,t.unmaskTextSelector,u),element:n,value:a,maskInputFn:t.maskInputFn})}if(lae(e.target,t.blockClass,t.blockSelector,t.unblockSelector,!1)||a===e.oldValue)return;var c=t.attributeMap.get(e.target);if("IFRAME"===n.tagName&&"src"===i&&!t.keepIframeSrcFn(a)){if(n.contentDocument)return;i="rr_src"}if(c||(c={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},t.attributes.push(c),t.attributeMap.set(e.target,c)),"type"===i&&"INPUT"===n.tagName&&"password"===(e.oldValue||"").toLowerCase()&&n.setAttribute("data-rr-is-password","true"),!qie(n.tagName,i)&&(c.attributes[i]=Wie(t.doc,yie(n.tagName),yie(i),a,n,t.maskAttributeFn),"style"===i)){if(!t.unattachedDoc)try{t.unattachedDoc=document.implementation.createHTMLDocument()}catch(Nue){t.unattachedDoc=t.doc}var l=t.unattachedDoc.createElement("span");e.oldValue&&l.setAttribute("style",e.oldValue);for(var d=0,f=Array.from(n.style);d<f.length;d++){var h=f[d],p=n.style.getPropertyValue(h),v=n.style.getPropertyPriority(h);p!==l.style.getPropertyValue(h)||v!==l.style.getPropertyPriority(h)?c.styleDiff[h]=""===v?p:[p,v]:c._unchangedStyles[h]=[p,v]}for(var g=0,m=Array.from(l.style);g<m.length;g++){var y=m[g];""===n.style.getPropertyValue(y)&&(c.styleDiff[y]=!1)}}break;case"childList":if(lae(e.target,t.blockClass,t.blockSelector,t.unblockSelector,!0))return;e.addedNodes.forEach((function(r){return t.genAdds(r,e.target)})),e.removedNodes.forEach((function(r){var n=t.mirror.getId(r),i=die(e.target)?t.mirror.getId(e.target.host):t.mirror.getId(e.target);lae(e.target,t.blockClass,t.blockSelector,t.unblockSelector,!1)||dae(r,t.mirror)||!function(e,t){return-1!==t.getId(e)}(r,t.mirror)||(t.addedSet.has(r)?(Lae(t.addedSet,r),t.droppedSet.add(r)):t.addedSet.has(e.target)&&-1===n||fae(e.target,t.mirror)||(t.movedSet.has(r)&&t.movedMap[Rae(n,i)]?Lae(t.movedSet,r):t.removes.push({parentId:i,id:n,isShadow:!(!die(e.target)||!fie(e.target))||void 0})),t.mapRemoves.push(r))}))}},this.genAdds=function(e,r){if(!t.processedNodeManager.inOtherBuffer(e,t)&&!t.addedSet.has(e)&&!t.movedSet.has(e)){if(t.mirror.hasNode(e)){if(dae(e,t.mirror))return;t.movedSet.add(e);var n=null;r&&t.mirror.hasNode(r)&&(n=t.mirror.getId(r)),n&&-1!==n&&(t.movedMap[Rae(t.mirror.getId(e),n)]=!0)}else t.addedSet.add(e),t.droppedSet.delete(e);lae(e,t.blockClass,t.blockSelector,t.unblockSelector,!1)||(e.childNodes.forEach((function(e){return t.genAdds(e)})),gae(e)&&e.shadowRoot.childNodes.forEach((function(r){t.processedNodeManager.add(r,t),t.genAdds(r,e)})))}}}return h(e,[{key:"init",value:function(e){var t=this;["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((function(r){t[r]=e[r]}))}},{key:"freeze",value:function(){this.frozen=!0,this.canvasManager.freeze()}},{key:"unfreeze",value:function(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}},{key:"isFrozen",value:function(){return this.frozen}},{key:"lock",value:function(){this.locked=!0,this.canvasManager.lock()}},{key:"unlock",value:function(){this.locked=!1,this.canvasManager.unlock(),this.emit()}},{key:"reset",value:function(){this.shadowDomManager.reset(),this.canvasManager.reset()}}]),e}();function Lae(e,t){e.delete(t),t.childNodes.forEach((function(t){return Lae(e,t)}))}function jae(e,t,r){return 0!==e.length&&Mae(e,t,r)}function Mae(e,t,r){var n=t.parentNode;if(!n)return!1;var i=r.getId(n);return!!e.some((function(e){return e.id===i}))||Mae(e,n,r)}function Dae(e,t){return 0!==e.size&&Fae(e,t)}function Fae(e,t){var r=t.parentNode;return!!r&&(!!e.has(r)||Fae(e,r))}function Uae(e){Iae=e}function Bae(){Iae=void 0}var Gae=function(e){if(!Iae)return e;return function(){try{return e.apply(void 0,arguments)}catch(t){if(Iae&&!0===Iae(t))return function(){};throw t}}};function Vae(e){for(var t=void 0,r=e[0],n=1;n<e.length;){var i=e[n],a=e[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(t=r,r=a(r)):"call"!==i&&"optionalCall"!==i||(r=a((function(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=r).call.apply(e,[t].concat(i))})),t=void 0)}return r}var Hae=[];function Wae(e){try{if("composedPath"in e){var t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(r){}return e&&e.target}function qae(e,t){var r=new Nae;Hae.push(r),r.init(e);var n=window.MutationObserver||window.__rrMutationObserver,i=Vae([window,"optionalAccess",function(e){return e.Zone},"optionalAccess",function(e){return e.__symbol__},"optionalCall",function(e){return e("MutationObserver")}]);i&&window[i]&&(n=window[i]);var a=new n(Gae((function(t){e.onMutation&&!1===e.onMutation(t)||r.processMutations.bind(r)(t)})));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function zae(e){var t=e.mouseInteractionCb,r=e.doc,n=e.mirror,i=e.blockClass,a=e.blockSelector,o=e.unblockSelector,s=e.sampling;if(!1===s.mouseInteraction)return function(){};var u=!0===s.mouseInteraction||void 0===s.mouseInteraction?{}:s.mouseInteraction,c=[],l=null;return Object.keys(Tae).filter((function(e){return Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==u[e]})).forEach((function(e){var s=yie(e),u=function(e){return function(r){var s=Wae(r);if(!lae(s,i,a,o,!0)){var u=null,c=e;if("pointerType"in r){switch(r.pointerType){case"mouse":u=Aae.Mouse;break;case"touch":u=Aae.Touch;break;case"pen":u=Aae.Pen}u===Aae.Touch?Tae[e]===Tae.MouseDown?c="TouchStart":Tae[e]===Tae.MouseUp&&(c="TouchEnd"):Aae.Pen}else hae(r)&&(u=Aae.Touch);null!==u?(l=u,(c.startsWith("Touch")&&u===Aae.Touch||c.startsWith("Mouse")&&u===Aae.Mouse)&&(u=null)):Tae[e]===Tae.Click&&(u=l,l=null);var d=hae(r)?r.changedTouches[0]:r;if(d){var f=n.getId(s),h=d.clientX,p=d.clientY;Gae(t)(ze({type:Tae[c],id:f,x:h,y:p},null!==u&&{pointerType:u}))}}}}(e);if(window.PointerEvent)switch(Tae[e]){case Tae.MouseDown:case Tae.MouseUp:s=s.replace("mouse","pointer");break;case Tae.TouchStart:case Tae.TouchEnd:return}c.push($ie(s,u,r))})),Gae((function(){c.forEach((function(e){return e()}))}))}function Yae(e){var t=e.scrollCb,r=e.doc,n=e.mirror,i=e.blockClass,a=e.blockSelector,o=e.unblockSelector,s=e.sampling,u=Gae(rae(Gae((function(e){var s=Wae(e);if(s&&!lae(s,i,a,o,!0)){var u=n.getId(s);if(s===r&&r.defaultView){var c=oae(r.defaultView);t({id:u,x:c.left,y:c.top})}else t({id:u,x:s.scrollLeft,y:s.scrollTop})}})),s.scroll||100));return $ie("scroll",u,r)}var Xae=["INPUT","TEXTAREA","SELECT"],Kae=new WeakMap;function Jae(e){var t=e.inputCb,r=e.doc,n=e.mirror,i=e.blockClass,a=e.blockSelector,o=e.unblockSelector,s=e.ignoreClass,c=e.ignoreSelector,l=e.maskInputOptions,d=e.maskInputFn,f=e.sampling,h=e.userTriggeredOnInput,p=e.maskTextClass,v=e.unmaskTextClass,g=e.maskTextSelector,m=e.unmaskTextSelector;function y(e){var t=Wae(e),n=e.isTrusted,u=t&&bie(t.tagName);if("OPTION"===u&&(t=t.parentElement),t&&u&&!(Xae.indexOf(u)<0)&&!lae(t,i,a,o,!0)){var f=t;if(!(f.classList.contains(s)||c&&f.matches(c))){var y=Eie(t),S=xie(f,u,y),E=!1,x=gie({maskInputOptions:l,tagName:u,type:y}),w=Xie(t,p,g,v,m,x);"radio"!==y&&"checkbox"!==y||(E=t.checked),S=mie({isMasked:w,element:t,value:S,maskInputFn:d}),b(t,h?{text:S,isChecked:E,userTriggered:n}:{text:S,isChecked:E});var k=t.name;"radio"===y&&k&&E&&r.querySelectorAll('input[type="radio"][name="'.concat(k,'"]')).forEach((function(e){if(e!==t){var r=mie({isMasked:w,element:e,value:xie(e,u,y),maskInputFn:d});b(e,h?{text:r,isChecked:!E,userTriggered:!1}:{text:r,isChecked:!E})}}))}}}function b(e,r){var i=Kae.get(e);if(!i||i.text!==r.text||i.isChecked!==r.isChecked){Kae.set(e,r);var a=n.getId(e);Gae(t)(ze(ze({},r),{},{id:a}))}}var S=("last"===f.input?["change"]:["input","change"]).map((function(e){return $ie(e,Gae(y),r)})),E=r.defaultView;if(!E)return function(){S.forEach((function(e){return e()}))};var x=E.Object.getOwnPropertyDescriptor(E.HTMLInputElement.prototype,"value"),w=[[E.HTMLInputElement.prototype,"value"],[E.HTMLInputElement.prototype,"checked"],[E.HTMLSelectElement.prototype,"value"],[E.HTMLTextAreaElement.prototype,"value"],[E.HTMLSelectElement.prototype,"selectedIndex"],[E.HTMLOptionElement.prototype,"selected"]];return x&&x.set&&S.push.apply(S,u(w.map((function(e){return nae(e[0],e[1],{set:function(){Gae(y)({target:this,isTrusted:!1})}},!1,E)})))),Gae((function(){S.forEach((function(e){return e()}))}))}function Zae(e){return function(e,t){if(toe("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||toe("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||toe("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||toe("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){var r=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(r)}else if(e.parentStyleSheet){var n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function Qae(e,t,r){var n,i;return e?(e.ownerNode?n=t.getId(e.ownerNode):i=r.getId(e),{styleId:i,id:n}):{}}function $ae(e,t){var r=e.mirror,n=e.stylesheetManager,i=null;i="#document"===t.nodeName?r.getId(t):r.getId(t.host);var a="#document"===t.nodeName?Vae([t,"access",function(e){return e.defaultView},"optionalAccess",function(e){return e.Document}]):Vae([t,"access",function(e){return e.ownerDocument},"optionalAccess",function(e){return e.defaultView},"optionalAccess",function(e){return e.ShadowRoot}]),o=Vae([a,"optionalAccess",function(e){return e.prototype}])?Object.getOwnPropertyDescriptor(Vae([a,"optionalAccess",function(e){return e.prototype}]),"adoptedStyleSheets"):void 0;return null!==i&&-1!==i&&a&&o?(Object.defineProperty(t,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:function(){var e=this;return Vae([o,"access",function(e){return e.get},"optionalAccess",function(e){return e.call},"call",function(t){return t(e)}])},set:function(e){var t=this,r=Vae([o,"access",function(e){return e.set},"optionalAccess",function(e){return e.call},"call",function(r){return r(t,e)}]);if(null!==i&&-1!==i)try{n.adoptStyleSheets(e,i)}catch(Nue){}return r}}),Gae((function(){Object.defineProperty(t,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))):function(){}}function eoe(e){var t,r=e.doc.defaultView;if(!r)return function(){};e.recordDOM&&(t=qae(e,e.doc));var n=function(e){var t=e.mousemoveCb,r=e.sampling,n=e.doc,i=e.mirror;if(!1===r.mousemove)return function(){};var a,o="number"===typeof r.mousemove?r.mousemove:50,s="number"===typeof r.mousemoveCallback?r.mousemoveCallback:500,u=[],c=rae(Gae((function(e){var r=Date.now()-a;t(u.map((function(e){return e.timeOffset-=r,e})),e),u=[],a=null})),s),l=Gae(rae(Gae((function(e){var t=Wae(e),r=hae(e)?e.changedTouches[0]:e,n=r.clientX,o=r.clientY;a||(a=aae()),u.push({x:n,y:o,id:i.getId(t),timeOffset:aae()-a}),c("undefined"!==typeof DragEvent&&e instanceof DragEvent?_ae.Drag:e instanceof MouseEvent?_ae.MouseMove:_ae.TouchMove)})),o,{trailing:!1})),d=[$ie("mousemove",l,n),$ie("touchmove",l,n),$ie("drag",l,n)];return Gae((function(){d.forEach((function(e){return e()}))}))}(e),i=zae(e),a=Yae(e),o=function(e,t){var r=e.viewportResizeCb,n=t.win,i=-1,a=-1;return $ie("resize",Gae(rae(Gae((function(){var e=sae(),t=uae();i===e&&a===t||(r({width:Number(t),height:Number(e)}),i=e,a=t)})),200)),n)}(e,{win:r}),s=Jae(e),c=function(e){var t=e.mediaInteractionCb,r=e.blockClass,n=e.blockSelector,i=e.unblockSelector,a=e.mirror,o=e.sampling,s=e.doc,u=Gae((function(e){return rae(Gae((function(o){var s=Wae(o);if(s&&!lae(s,r,n,i,!0)){var u=s.currentTime,c=s.volume,l=s.muted,d=s.playbackRate;t({type:e,id:a.getId(s),currentTime:u,volume:c,muted:l,playbackRate:d})}})),o.media||500)})),c=[$ie("play",u(0),s),$ie("pause",u(1),s),$ie("seeked",u(2),s),$ie("volumechange",u(3),s),$ie("ratechange",u(4),s)];return Gae((function(){c.forEach((function(e){return e()}))}))}(e),l=function(){},d=function(){},f=function(){},h=function(){};e.recordDOM&&(l=function(e,t){var r=e.styleSheetRuleCb,n=e.mirror,i=e.stylesheetManager,a=t.win;if(!a.CSSStyleSheet||!a.CSSStyleSheet.prototype)return function(){};var o=a.CSSStyleSheet.prototype.insertRule;a.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:Gae((function(e,t,a){var o=k(a,2),s=o[0],u=o[1],c=Qae(t,n,i.styleMirror),l=c.id,d=c.styleId;return(l&&-1!==l||d&&-1!==d)&&r({id:l,styleId:d,adds:[{rule:s,index:u}]}),e.apply(t,a)}))});var s,c,l=a.CSSStyleSheet.prototype.deleteRule;a.CSSStyleSheet.prototype.deleteRule=new Proxy(l,{apply:Gae((function(e,t,a){var o=k(a,1)[0],s=Qae(t,n,i.styleMirror),u=s.id,c=s.styleId;return(u&&-1!==u||c&&-1!==c)&&r({id:u,styleId:c,removes:[{index:o}]}),e.apply(t,a)}))}),a.CSSStyleSheet.prototype.replace&&(s=a.CSSStyleSheet.prototype.replace,a.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:Gae((function(e,t,a){var o=k(a,1)[0],s=Qae(t,n,i.styleMirror),u=s.id,c=s.styleId;return(u&&-1!==u||c&&-1!==c)&&r({id:u,styleId:c,replace:o}),e.apply(t,a)}))})),a.CSSStyleSheet.prototype.replaceSync&&(c=a.CSSStyleSheet.prototype.replaceSync,a.CSSStyleSheet.prototype.replaceSync=new Proxy(c,{apply:Gae((function(e,t,a){var o=k(a,1)[0],s=Qae(t,n,i.styleMirror),u=s.id,c=s.styleId;return(u&&-1!==u||c&&-1!==c)&&r({id:u,styleId:c,replaceSync:o}),e.apply(t,a)}))}));var d={};roe("CSSGroupingRule")?d.CSSGroupingRule=a.CSSGroupingRule:(roe("CSSMediaRule")&&(d.CSSMediaRule=a.CSSMediaRule),roe("CSSConditionRule")&&(d.CSSConditionRule=a.CSSConditionRule),roe("CSSSupportsRule")&&(d.CSSSupportsRule=a.CSSSupportsRule));var f={};return Object.entries(d).forEach((function(e){var t=k(e,2),a=t[0],o=t[1];f[a]={insertRule:o.prototype.insertRule,deleteRule:o.prototype.deleteRule},o.prototype.insertRule=new Proxy(f[a].insertRule,{apply:Gae((function(e,t,a){var o=k(a,2),s=o[0],c=o[1],l=Qae(t.parentStyleSheet,n,i.styleMirror),d=l.id,f=l.styleId;return(d&&-1!==d||f&&-1!==f)&&r({id:d,styleId:f,adds:[{rule:s,index:[].concat(u(Zae(t)),[c||0])}]}),e.apply(t,a)}))}),o.prototype.deleteRule=new Proxy(f[a].deleteRule,{apply:Gae((function(e,t,a){var o=k(a,1)[0],s=Qae(t.parentStyleSheet,n,i.styleMirror),c=s.id,l=s.styleId;return(c&&-1!==c||l&&-1!==l)&&r({id:c,styleId:l,removes:[{index:[].concat(u(Zae(t)),[o])}]}),e.apply(t,a)}))})})),Gae((function(){a.CSSStyleSheet.prototype.insertRule=o,a.CSSStyleSheet.prototype.deleteRule=l,s&&(a.CSSStyleSheet.prototype.replace=s),c&&(a.CSSStyleSheet.prototype.replaceSync=c),Object.entries(d).forEach((function(e){var t=k(e,2),r=t[0],n=t[1];n.prototype.insertRule=f[r].insertRule,n.prototype.deleteRule=f[r].deleteRule}))}))}(e,{win:r}),d=$ae(e,e.doc),f=function(e,t){var r=e.styleDeclarationCb,n=e.mirror,i=e.ignoreCSSAttributes,a=e.stylesheetManager,o=t.win,s=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:Gae((function(e,t,o){var u=k(o,3),c=u[0],l=u[1],d=u[2];if(i.has(c))return s.apply(t,[c,l,d]);var f=Qae(Vae([t,"access",function(e){return e.parentRule},"optionalAccess",function(e){return e.parentStyleSheet}]),n,a.styleMirror),h=f.id,p=f.styleId;return(h&&-1!==h||p&&-1!==p)&&r({id:h,styleId:p,set:{property:c,value:l,priority:d},index:Zae(t.parentRule)}),e.apply(t,o)}))});var u=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(u,{apply:Gae((function(e,t,o){var s=k(o,1)[0];if(i.has(s))return u.apply(t,[s]);var c=Qae(Vae([t,"access",function(e){return e.parentRule},"optionalAccess",function(e){return e.parentStyleSheet}]),n,a.styleMirror),l=c.id,d=c.styleId;return(l&&-1!==l||d&&-1!==d)&&r({id:l,styleId:d,remove:{property:s},index:Zae(t.parentRule)}),e.apply(t,o)}))}),Gae((function(){o.CSSStyleDeclaration.prototype.setProperty=s,o.CSSStyleDeclaration.prototype.removeProperty=u}))}(e,{win:r}),e.collectFonts&&(h=function(e){var t=e.fontCb,r=e.doc,n=r.defaultView;if(!n)return function(){};var i=[],a=new WeakMap,o=n.FontFace;n.FontFace=function(e,t,r){var n=new o(e,t,r);return a.set(n,{family:e,buffer:"string"!==typeof t,descriptors:r,fontSource:"string"===typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),n};var s=iae(r.fonts,"add",(function(e){return function(r){return wae(Gae((function(){var e=a.get(r);e&&(t(e),a.delete(r))})),0),e.apply(this,[r])}}));return i.push((function(){n.FontFace=o})),i.push(s),Gae((function(){i.forEach((function(e){return e()}))}))}(e)));var p,v=function(e){var t=e.doc,r=e.mirror,n=e.blockClass,i=e.blockSelector,a=e.unblockSelector,o=e.selectionCb,s=!0,u=Gae((function(){var e=t.getSelection();if(!(!e||s&&Vae([e,"optionalAccess",function(e){return e.isCollapsed}]))){s=e.isCollapsed||!1;for(var u=[],c=e.rangeCount||0,l=0;l<c;l++){var d=e.getRangeAt(l),f=d.startContainer,h=d.startOffset,p=d.endContainer,v=d.endOffset;lae(f,n,i,a,!0)||lae(p,n,i,a,!0)||u.push({start:r.getId(f),startOffset:h,end:r.getId(p),endOffset:v})}o({ranges:u})}}));return u(),$ie("selectionchange",u)}(e),g=function(e){var t=e.doc,r=e.customElementCb,n=t.defaultView;return n&&n.customElements?iae(n.customElements,"define",(function(e){return function(t,n,i){try{r({define:{name:t}})}catch(Nue){}return e.apply(this,[t,n,i])}})):function(){}}(e),m=[],y=T(e.plugins);try{for(y.s();!(p=y.n()).done;){var b=p.value;m.push(b.observer(b.callback,r,b.options))}}catch(S){y.e(S)}finally{y.f()}return Gae((function(){Hae.forEach((function(e){return e.reset()})),Vae([t,"optionalAccess",function(e){return e.disconnect},"call",function(e){return e()}]),n(),i(),a(),o(),s(),c(),l(),d(),f(),h(),v(),g(),m.forEach((function(e){return e()}))}))}function toe(e){return"undefined"!==typeof window[e]}function roe(e){return Boolean("undefined"!==typeof window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var noe=function(){function e(t){c(this,e),this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}return h(e,[{key:"getId",value:function(e,t,r,n){var i=r||this.getIdToRemoteIdMap(e),a=n||this.getRemoteIdToIdMap(e),o=i.get(t);return o||(o=this.generateIdFn(),i.set(t,o),a.set(o,t)),o}},{key:"getIds",value:function(e,t){var r=this,n=this.getIdToRemoteIdMap(e),i=this.getRemoteIdToIdMap(e);return t.map((function(t){return r.getId(e,t,n,i)}))}},{key:"getRemoteId",value:function(e,t,r){var n=r||this.getRemoteIdToIdMap(e);if("number"!==typeof t)return t;var i=n.get(t);return i||-1}},{key:"getRemoteIds",value:function(e,t){var r=this,n=this.getRemoteIdToIdMap(e);return t.map((function(t){return r.getRemoteId(e,t,n)}))}},{key:"reset",value:function(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}},{key:"getIdToRemoteIdMap",value:function(e){var t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}},{key:"getRemoteIdToIdMap",value:function(e){var t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}]),e}();function ioe(e){for(var t=void 0,r=e[0],n=1;n<e.length;){var i=e[n],a=e[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(t=r,r=a(r)):"call"!==i&&"optionalCall"!==i||(r=a((function(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=r).call.apply(e,[t].concat(i))})),t=void 0)}return r}var aoe,ooe,soe=function(){function e(){c(this,e),this.crossOriginIframeMirror=new noe(Nie),this.crossOriginIframeRootIdMap=new WeakMap}return h(e,[{key:"addIframe",value:function(){}},{key:"addLoadListener",value:function(){}},{key:"attachIframe",value:function(){}}]),e}(),uoe=function(){function e(t){c(this,e),this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new noe(Nie),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new noe(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}return h(e,[{key:"addIframe",value:function(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}},{key:"addLoadListener",value:function(e){this.loadListener=e}},{key:"attachIframe",value:function(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),ioe([this,"access",function(e){return e.loadListener},"optionalCall",function(t){return t(e)}]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}},{key:"handleMessage",value:function(e){var t=e;if("rrweb"===t.data.type&&t.origin===t.data.origin&&e.source){var r=this.crossOriginIframeMap.get(e.source);if(r){var n=this.transformCrossOriginEvent(r,t.data.event);n&&this.wrappedEmit(n,t.data.isCheckout)}}}},{key:"transformCrossOriginEvent",value:function(e,t){var r=this;switch(t.type){case kae.FullSnapshot:this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);var n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:kae.IncrementalSnapshot,data:{source:_ae.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}};case kae.Meta:case kae.Load:case kae.DomContentLoaded:return!1;case kae.Plugin:return t;case kae.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case kae.IncrementalSnapshot:switch(t.data.source){case _ae.Mutation:return t.data.adds.forEach((function(t){r.replaceIds(t,e,["parentId","nextId","previousId"]),r.replaceIdOnNode(t.node,e);var n=r.crossOriginIframeRootIdMap.get(e);n&&r.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((function(t){r.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((function(t){r.replaceIds(t,e,["id"])})),t.data.texts.forEach((function(t){r.replaceIds(t,e,["id"])})),t;case _ae.Drag:case _ae.TouchMove:case _ae.MouseMove:return t.data.positions.forEach((function(t){r.replaceIds(t,e,["id"])})),t;case _ae.ViewportResize:return!1;case _ae.MediaInteraction:case _ae.MouseInteraction:case _ae.Scroll:case _ae.CanvasMutation:case _ae.Input:return this.replaceIds(t.data,e,["id"]),t;case _ae.StyleSheetRule:case _ae.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case _ae.Font:return t;case _ae.Selection:return t.data.ranges.forEach((function(t){r.replaceIds(t,e,["start","end"])})),t;case _ae.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),ioe([t,"access",function(e){return e.data},"access",function(e){return e.styles},"optionalAccess",function(e){return e.forEach},"call",function(t){return t((function(t){r.replaceStyleIds(t,e,["styleId"])}))}]),t}}return!1}},{key:"replace",value:function(e,t,r,n){var i,a=T(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;(Array.isArray(t[o])||"number"===typeof t[o])&&(Array.isArray(t[o])?t[o]=e.getIds(r,t[o]):t[o]=e.getId(r,t[o]))}}catch(s){a.e(s)}finally{a.f()}return t}},{key:"replaceIds",value:function(e,t,r){return this.replace(this.crossOriginIframeMirror,e,t,r)}},{key:"replaceStyleIds",value:function(e,t,r){return this.replace(this.crossOriginIframeStyleMirror,e,t,r)}},{key:"replaceIdOnNode",value:function(e,t){var r=this;this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((function(e){r.replaceIdOnNode(e,t)}))}},{key:"patchRootIdOnNode",value:function(e,t){var r=this;e.type===Qne.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((function(e){r.patchRootIdOnNode(e,t)}))}}]),e}(),coe=function(){function e(){c(this,e)}return h(e,[{key:"init",value:function(){}},{key:"addShadowRoot",value:function(){}},{key:"observeAttachShadow",value:function(){}},{key:"reset",value:function(){}}]),e}(),loe=function(){function e(t){c(this,e),this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}return h(e,[{key:"init",value:function(){this.reset(),this.patchAttachShadow(Element,document)}},{key:"addShadowRoot",value:function(e,t){var r=this;if(fie(e)&&!this.shadowDoms.has(e)){this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);var n=qae(ze(ze({},this.bypassOptions),{},{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push((function(){return n.disconnect()})),this.restoreHandlers.push(Yae(ze(ze({},this.bypassOptions),{},{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),wae((function(){e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&r.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,r.mirror.getId(e.host)),r.restoreHandlers.push($ae({mirror:r.mirror,stylesheetManager:r.bypassOptions.stylesheetManager},e))}),0)}}},{key:"observeAttachShadow",value:function(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}},{key:"patchAttachShadow",value:function(e,t){var r=this;this.restoreHandlers.push(iae(e.prototype,"attachShadow",(function(e){return function(n){var i=e.call(this,n);return this.shadowRoot&&Sae(this)&&r.addShadowRoot(this.shadowRoot,t),i}})))}},{key:"reset",value:function(){this.restoreHandlers.forEach((function(e){try{e()}catch(Nue){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}]),e}(),doe=function(){function e(){c(this,e)}return h(e,[{key:"reset",value:function(){}},{key:"freeze",value:function(){}},{key:"unfreeze",value:function(){}},{key:"lock",value:function(){}},{key:"unlock",value:function(){}},{key:"snapshot",value:function(){}},{key:"addWindow",value:function(){}},{key:"addShadowRoot",value:function(){}},{key:"resetShadowRoots",value:function(){}}]),e}(),foe=function(){function e(t){c(this,e),this.trackedLinkElements=new WeakSet,this.styleMirror=new mae,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}return h(e,[{key:"attachLinkElement",value:function(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}},{key:"trackLinkElement",value:function(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}},{key:"adoptStyleSheets",value:function(e,t){if(0!==e.length){var r,n={id:t,styleIds:[]},i=[],a=T(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=void 0;this.styleMirror.has(o)?s=this.styleMirror.getId(o):(s=this.styleMirror.add(o),i.push({styleId:s,rules:Array.from(o.rules||CSSRule,(function(e,t){return{rule:pie(e),index:t}}))})),n.styleIds.push(s)}}catch(u){a.e(u)}finally{a.f()}i.length>0&&(n.styles=i),this.adoptedStyleSheetCb(n)}}},{key:"reset",value:function(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}},{key:"trackStylesheetInLinkElement",value:function(e){}}]),e}(),hoe=function(){function e(){c(this,e),this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}return h(e,[{key:"periodicallyClear",value:function(){var e=this;!function(){xae("requestAnimationFrame").apply(void 0,arguments)}((function(){e.clear(),e.loop&&e.periodicallyClear()}))}},{key:"inOtherBuffer",value:function(e,t){var r=this.nodeMap.get(e);return r&&Array.from(r).some((function(e){return e!==t}))}},{key:"add",value:function(e,t){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}},{key:"clear",value:function(){this.nodeMap=new WeakMap}},{key:"destroy",value:function(){this.loop=!1}}]),e}();try{if(2!==Array.from([1],(function(e){return 2*e}))[0]){var poe=document.createElement("iframe");document.body.appendChild(poe),Array.from=lre([poe,"access",function(e){return e.contentWindow},"optionalAccess",function(e){return e.Array},"access",function(e){return e.from}])||Array.from,document.body.removeChild(poe)}}catch(jue){console.debug("Unable to override Array.from",jue)}var voe=new vie;function goe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.emit,r=e.checkoutEveryNms,n=e.checkoutEveryNth,i=e.blockClass,a=void 0===i?"rr-block":i,o=e.blockSelector,s=void 0===o?null:o,u=e.unblockSelector,c=void 0===u?null:u,l=e.ignoreClass,d=void 0===l?"rr-ignore":l,f=e.ignoreSelector,h=void 0===f?null:f,p=e.maskAllText,v=void 0!==p&&p,g=e.maskTextClass,m=void 0===g?"rr-mask":g,y=e.unmaskTextClass,b=void 0===y?null:y,S=e.maskTextSelector,E=void 0===S?null:S,x=e.unmaskTextSelector,w=void 0===x?null:x,k=e.inlineStylesheet,_=void 0===k||k,A=e.maskAllInputs,C=e.maskInputOptions,P=e.slimDOMOptions,I=e.maskAttributeFn,O=e.maskInputFn,R=e.maskTextFn,N=e.maxCanvasSize,L=void 0===N?null:N,j=e.packFn,M=e.sampling,D=void 0===M?{}:M,F=e.dataURLOptions,U=void 0===F?{}:F,B=e.mousemoveWait,G=e.recordDOM,V=void 0===G||G,H=e.recordCanvas,W=void 0!==H&&H,q=e.recordCrossOriginIframes,z=void 0!==q&&q,Y=e.recordAfter,X=void 0===Y?"DOMContentLoaded"===e.recordAfter?e.recordAfter:"load":Y,K=e.userTriggeredOnInput,J=void 0!==K&&K,Z=e.collectFonts,Q=void 0!==Z&&Z,$=e.inlineImages,ee=void 0!==$&&$,te=e.plugins,re=e.keepIframeSrcFn,ne=void 0===re?function(){return!1}:re,ie=e.ignoreCSSAttributes,ae=void 0===ie?new Set([]):ie,oe=e.errorHandler,se=e.onMutation,ue=e.getCanvasManager;Uae(oe);var ce=!z||window.parent===window,le=!1;if(!ce)try{window.parent.document&&(le=!1)}catch(Nue){le=!0}if(ce&&!t)throw new Error("emit function is required");void 0!==B&&void 0===D.mousemove&&(D.mousemove=B),voe.reset();var de,fe=!0===A?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==C?C:{},he=!0===P||"all"===P?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===P,headMetaDescKeywords:"all"===P}:P||{};!function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(!(0 in r))throw new TypeError("1 argument is required");do{if(e===i)return!0}while(i=i&&i.parentNode);return!1})}();var pe=0,ve=function(e){var t,r=T(te||[]);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.eventProcessor&&(e=n.eventProcessor(e))}}catch(jue){r.e(jue)}finally{r.f()}return j&&!le&&(e=j(e)),e};aoe=function(e,i){var a=e;if(a.timestamp=aae(),!lre([Hae,"access",function(e){return e[0]},"optionalAccess",function(e){return e.isFrozen},"call",function(e){return e()}])||a.type===kae.FullSnapshot||a.type===kae.IncrementalSnapshot&&a.data.source===_ae.Mutation||Hae.forEach((function(e){return e.unfreeze()})),ce)lre([t,"optionalCall",function(e){return e(ve(a),i)}]);else if(le){var o={type:"rrweb",event:ve(a),origin:window.location.origin,isCheckout:i};window.parent.postMessage(o,"*")}if(a.type===kae.FullSnapshot)de=a,pe=0;else if(a.type===kae.IncrementalSnapshot){if(a.data.source===_ae.Mutation&&a.data.isAttachIframe)return;pe++;var s=n&&pe>=n,u=r&&de&&a.timestamp-de.timestamp>r;(s||u)&&Ae(!0)}};var ge,me=function(e){aoe({type:kae.IncrementalSnapshot,data:ze({source:_ae.Mutation},e)})},ye=function(e){return aoe({type:kae.IncrementalSnapshot,data:ze({source:_ae.Scroll},e)})},be=function(e){return aoe({type:kae.IncrementalSnapshot,data:ze({source:_ae.CanvasMutation},e)})},Se=new foe({mutationCb:me,adoptedStyleSheetCb:function(e){return aoe({type:kae.IncrementalSnapshot,data:ze({source:_ae.AdoptedStyleSheet},e)})}}),Ee="boolean"===typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new soe:new uoe({mirror:voe,mutationCb:me,stylesheetManager:Se,recordCrossOriginIframes:z,wrappedEmit:aoe}),xe=T(te||[]);try{for(xe.s();!(ge=xe.n()).done;){var we=ge.value;we.getMirror&&we.getMirror({nodeMirror:voe,crossOriginIframeMirror:Ee.crossOriginIframeMirror,crossOriginIframeStyleMirror:Ee.crossOriginIframeStyleMirror})}}catch(jue){xe.e(jue)}finally{xe.f()}var ke=new hoe,_e=function(e,t){try{return e?e(t):new doe}catch(r){return console.warn("Unable to initialize CanvasManager"),new doe}}(ue,{mirror:voe,win:window,mutationCb:function(e){return aoe({type:kae.IncrementalSnapshot,data:ze({source:_ae.CanvasMutation},e)})},recordCanvas:W,blockClass:a,blockSelector:s,unblockSelector:c,maxCanvasSize:L,sampling:D.canvas,dataURLOptions:U,errorHandler:oe}),Te="boolean"===typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new coe:new loe({mutationCb:me,scrollCb:ye,bypassOptions:{onMutation:se,blockClass:a,blockSelector:s,unblockSelector:c,maskAllText:v,maskTextClass:m,unmaskTextClass:b,maskTextSelector:E,unmaskTextSelector:w,inlineStylesheet:_,maskInputOptions:fe,dataURLOptions:U,maskAttributeFn:I,maskTextFn:R,maskInputFn:O,recordCanvas:W,inlineImages:ee,sampling:D,slimDOMOptions:he,iframeManager:Ee,stylesheetManager:Se,canvasManager:_e,keepIframeSrcFn:ne,processedNodeManager:ke},mirror:voe}),Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(V){aoe({type:kae.Meta,data:{href:window.location.href,width:uae(),height:sae()}},e),Se.reset(),Te.init(),Hae.forEach((function(e){return e.lock()}));var t=function(e,t){var r=t||{},n=r.mirror,i=void 0===n?new vie:n,a=r.blockClass,o=void 0===a?"rr-block":a,s=r.blockSelector,u=void 0===s?null:s,c=r.unblockSelector,l=void 0===c?null:c,d=r.maskAllText,f=void 0!==d&&d,h=r.maskTextClass,p=void 0===h?"rr-mask":h,v=r.unmaskTextClass,g=void 0===v?null:v,m=r.maskTextSelector,y=void 0===m?null:m,b=r.unmaskTextSelector,S=void 0===b?null:b,E=r.inlineStylesheet,x=void 0===E||E,w=r.inlineImages,k=void 0!==w&&w,_=r.recordCanvas,T=void 0!==_&&_,A=r.maskAllInputs,C=void 0!==A&&A,P=r.maskAttributeFn,I=r.maskTextFn,O=r.maskInputFn,R=r.slimDOM,N=void 0!==R&&R,L=r.dataURLOptions,j=r.preserveWhiteSpace,M=r.onSerialize,D=r.onIframeLoad,F=r.iframeLoadTimeout,U=r.onStylesheetLoad,B=r.stylesheetLoadTimeout,G=r.keepIframeSrcFn;return Zie(e,{doc:e,mirror:i,blockClass:o,blockSelector:u,unblockSelector:l,maskAllText:f,maskTextClass:p,unmaskTextClass:g,maskTextSelector:y,unmaskTextSelector:S,skipChild:!1,inlineStylesheet:x,maskInputOptions:!0===C?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===C?{}:C,maskAttributeFn:P,maskTextFn:I,maskInputFn:O,slimDOMOptions:!0===N||"all"===N?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===N,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===N?{}:N,dataURLOptions:L,inlineImages:k,recordCanvas:T,preserveWhiteSpace:j,onSerialize:M,onIframeLoad:D,iframeLoadTimeout:F,onStylesheetLoad:U,stylesheetLoadTimeout:B,keepIframeSrcFn:void 0===G?function(){return!1}:G,newlyAddedElement:!1})}(document,{mirror:voe,blockClass:a,blockSelector:s,unblockSelector:c,maskAllText:v,maskTextClass:m,unmaskTextClass:b,maskTextSelector:E,unmaskTextSelector:w,inlineStylesheet:_,maskAllInputs:fe,maskAttributeFn:I,maskInputFn:O,maskTextFn:R,slimDOM:he,dataURLOptions:U,recordCanvas:W,inlineImages:ee,onSerialize:function(e){pae(e,voe)&&Ee.addIframe(e),vae(e,voe)&&Se.trackLinkElement(e),gae(e)&&Te.addShadowRoot(e.shadowRoot,document)},onIframeLoad:function(e,t){Ee.attachIframe(e,t),e.contentWindow&&_e.addWindow(e.contentWindow),Te.observeAttachShadow(e)},onStylesheetLoad:function(e,t){Se.attachLinkElement(e,t)},keepIframeSrcFn:ne});if(!t)return console.warn("Failed to snapshot the document");aoe({type:kae.FullSnapshot,data:{node:t,initialOffset:oae(window)}}),Hae.forEach((function(e){return e.unlock()})),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Se.adoptStyleSheets(document.adoptedStyleSheets,voe.getId(document))}};ooe=Ae;try{var Ce=[],Pe=function(e){return Gae(eoe)({onMutation:se,mutationCb:me,mousemoveCb:function(e,t){return aoe({type:kae.IncrementalSnapshot,data:{source:t,positions:e}})},mouseInteractionCb:function(e){return aoe({type:kae.IncrementalSnapshot,data:ze({source:_ae.MouseInteraction},e)})},scrollCb:ye,viewportResizeCb:function(e){return aoe({type:kae.IncrementalSnapshot,data:ze({source:_ae.ViewportResize},e)})},inputCb:function(e){return aoe({type:kae.IncrementalSnapshot,data:ze({source:_ae.Input},e)})},mediaInteractionCb:function(e){return aoe({type:kae.IncrementalSnapshot,data:ze({source:_ae.MediaInteraction},e)})},styleSheetRuleCb:function(e){return aoe({type:kae.IncrementalSnapshot,data:ze({source:_ae.StyleSheetRule},e)})},styleDeclarationCb:function(e){return aoe({type:kae.IncrementalSnapshot,data:ze({source:_ae.StyleDeclaration},e)})},canvasMutationCb:be,fontCb:function(e){return aoe({type:kae.IncrementalSnapshot,data:ze({source:_ae.Font},e)})},selectionCb:function(e){aoe({type:kae.IncrementalSnapshot,data:ze({source:_ae.Selection},e)})},customElementCb:function(e){aoe({type:kae.IncrementalSnapshot,data:ze({source:_ae.CustomElement},e)})},blockClass:a,ignoreClass:d,ignoreSelector:h,maskAllText:v,maskTextClass:m,unmaskTextClass:b,maskTextSelector:E,unmaskTextSelector:w,maskInputOptions:fe,inlineStylesheet:_,sampling:D,recordDOM:V,recordCanvas:W,inlineImages:ee,userTriggeredOnInput:J,collectFonts:Q,doc:e,maskAttributeFn:I,maskInputFn:O,maskTextFn:R,keepIframeSrcFn:ne,blockSelector:s,unblockSelector:c,slimDOMOptions:he,dataURLOptions:U,mirror:voe,iframeManager:Ee,stylesheetManager:Se,shadowDomManager:Te,processedNodeManager:ke,canvasManager:_e,ignoreCSSAttributes:ae,plugins:lre([te,"optionalAccess",function(e){return e.filter},"call",function(e){return e((function(e){return e.observer}))},"optionalAccess",function(e){return e.map},"call",function(e){return e((function(e){return{observer:e.observer,options:e.options,callback:function(t){return aoe({type:kae.Plugin,data:{plugin:e.name,payload:t}})}}}))}])||[]},{})};Ee.addLoadListener((function(e){try{Ce.push(Pe(e.contentDocument))}catch(t){console.warn(t)}}));var Ie=function(){Ae(),Ce.push(Pe(document))};return"interactive"===document.readyState||"complete"===document.readyState?Ie():(Ce.push($ie("DOMContentLoaded",(function(){aoe({type:kae.DomContentLoaded,data:{}}),"DOMContentLoaded"===X&&Ie()}))),Ce.push($ie("load",(function(){aoe({type:kae.Load,data:{}}),"load"===X&&Ie()}),window))),function(){Ce.forEach((function(e){return e()})),ke.destroy(),ooe=void 0,Bae()}}catch(Oe){console.warn(Oe)}}goe.mirror=voe,goe.takeFullSnapshot=function(e){if(!ooe)throw new Error("please take full snapshot after start recording");ooe(e)};var moe="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,yoe=["info","warn","error","log"],boe="[Replay] ";function Soe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";Vee({category:"console",data:{logger:"replay"},level:t,message:"".concat(boe).concat(e)},{level:t})}var Eoe=function(){var e=!1,t=!1,r={exception:function(){},infoTick:function(){},setConfig:function(r){e=r.captureExceptions,t=r.traceInternals}};return moe?(yoe.forEach((function(e){r[e]=function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];AL[e].apply(AL,[boe].concat(n)),t&&Soe(n[0])}})),r.exception=function(n){if(r.error){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];r.error.apply(r,a)}AL.error(boe,n),e?OM(n):t&&Soe(n)},r.infoTick=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];AL.info.apply(AL,[boe].concat(r)),t&&setTimeout((function(){return Soe(r[0])}),0)}):yoe.forEach((function(e){r[e]=function(){}})),r}(),xoe=3;function woe(e){return e>9999999999?e:1e3*e}function koe(e){return e>9999999999?e/1e3:e}function _oe(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate((function(){return e.throttledAddEvent({type:kae.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:Aj(t,10,1e3)}}),"console"===t.category})))}var Toe,Aoe="button,a";function Coe(e){return e.closest(Aoe)||e}function Poe(e){var t=Ioe(e);return t&&t instanceof Element?Coe(t):t}function Ioe(e){return function(e){return"object"===typeof e&&!!e&&"target"in e}(e)?e.target:e}function Ooe(e){return Toe||(Toe=[],RL($ne,"open",(function(e){return function(){if(Toe)try{Toe.forEach((function(e){return e()}))}catch(Nue){}for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply($ne,r)}}))),Toe.push(e),function(){var t=Toe?Toe.indexOf(e):-1;t>-1&&Toe.splice(t,1)}}var Roe=new Set([_ae.Mutation,_ae.StyleSheetRule,_ae.StyleDeclaration,_ae.AdoptedStyleSheet,_ae.CanvasMutation,_ae.Selection,_ae.MediaInteraction]);var Noe,Loe=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_oe;c(this,e),this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=r.timeout/1e3,this._threshold=r.threshold/1e3,this._scollTimeout=r.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=r.ignoreSelector,this._addBreadcrumbEvent=n}return h(e,[{key:"addListeners",value:function(){var e=this,t=Ooe((function(){e._lastMutation=Moe()}));this._teardown=function(){t(),e._clicks=[],e._lastMutation=0,e._lastScroll=0}}},{key:"removeListeners",value:function(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}},{key:"handleClick",value:function(e,t){if(!function(e,t){if(!joe.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)&&function(e){return!(!e.data||"number"!==typeof e.data.nodeId||!e.timestamp)}(e)){var r={timestamp:koe(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some((function(e){return e.node===r.node&&Math.abs(e.timestamp-r.timestamp)<1}))||(this._clicks.push(r),1===this._clicks.length&&this._scheduleCheckClicks())}}},{key:"registerMutation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastMutation=koe(e)}},{key:"registerScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastScroll=koe(e)}},{key:"registerClick",value:function(e){var t=Coe(e);this._handleMultiClick(t)}},{key:"_handleMultiClick",value:function(e){this._getClicks(e).forEach((function(e){e.clickCount++}))}},{key:"_getClicks",value:function(e){return this._clicks.filter((function(t){return t.node===e}))}},{key:"_checkClicks",value:function(){var e=this,t=[],r=Moe();this._clicks.forEach((function(n){!n.mutationAfter&&e._lastMutation&&(n.mutationAfter=n.timestamp<=e._lastMutation?e._lastMutation-n.timestamp:void 0),!n.scrollAfter&&e._lastScroll&&(n.scrollAfter=n.timestamp<=e._lastScroll?e._lastScroll-n.timestamp:void 0),n.timestamp+e._timeout<=r&&t.push(n)}));for(var n=0,i=t;n<i.length;n++){var a=i[n],o=this._clicks.indexOf(a);o>-1&&(this._generateBreadcrumbs(a),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}},{key:"_generateBreadcrumbs",value:function(e){var t=this._replay,r=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,n=e.mutationAfter&&e.mutationAfter<=this._threshold,i=!r&&!n,a=e.clickCount,o=e.clickBreadcrumb;if(i){var s=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),u=s<1e3*this._timeout?"mutation":"timeout",c={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.slowClickDetected",data:ze(ze({},o.data),{},{url:$ne.location.href,route:t.getCurrentRoute(),timeAfterClickMs:s,endReason:u,clickCount:a||1})};this._addBreadcrumbEvent(t,c)}else if(a>1){var l={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.multiClick",data:ze(ze({},o.data),{},{url:$ne.location.href,route:t.getCurrentRoute(),clickCount:a,metric:!0})};this._addBreadcrumbEvent(t,l)}}},{key:"_scheduleCheckClicks",value:function(){var e=this;this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Dte((function(){return e._checkClicks()}),1e3)}}]),e}(),joe=["A","BUTTON","INPUT"];function Moe(){return Date.now()/1e3}function Doe(e,t){try{if(!function(e){return e.type===xoe}(t))return;var r=t.data.source;if(Roe.has(r)&&e.registerMutation(t.timestamp),r===_ae.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===_ae.MouseInteraction}(t)){var n=t.data,i=n.type,a=n.id,o=goe.mirror.getNode(a);o instanceof HTMLElement&&i===Tae.Click&&e.registerClick(o)}}catch(Nue){}}function Foe(e){return ze({timestamp:Date.now()/1e3,type:"default"},e)}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(Noe||(Noe={}));var Uoe=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Boe(e){var t={};for(var r in!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]),e)if(Uoe.has(r)){var n=r;"data-testid"!==r&&"data-test-id"!==r||(n="testId"),t[n]=e[r]}return t}var Goe=function(e){return function(t){if(e.isEnabled()){var r=function(e){var t=function(e){var t,r="click"===e.name,n=null;try{t=bL(n=r?Poe(e.event):Ioe(e.event),{maxStringLength:200})||"<unknown>"}catch(Nue){t="<unknown>"}return{target:n,message:t}}(e),r=t.target,n=t.message;return Foe(ze({category:"ui.".concat(e.name)},Voe(r,n)))}(t);if(r){var n,i,a,o="click"===t.name,s=o?t.event:void 0;!(o&&e.clickDetector&&s&&s.target)||s.altKey||s.metaKey||s.ctrlKey||s.shiftKey||(n=e.clickDetector,i=r,a=Poe(t.event),n.handleClick(i,a)),_oe(e,r)}}}};function Voe(e,t){var r=goe.mirror.getId(e),n=r&&goe.mirror.getNode(r),i=n&&goe.mirror.getMeta(n),a=i&&function(e){return e.type===Noe.Element}(i)?i:null;return{message:t,data:a?{nodeId:r,node:{id:r,tagName:a.tagName,textContent:Array.from(a.childNodes).map((function(e){return e.type===Noe.Text&&e.textContent})).filter(Boolean).map((function(e){return e.trim()})).join(""),attributes:Boe(a.attributes)}}:{}}}function Hoe(e,t){if(e.isEnabled()){e.updateUserActivity();var r=function(e){var t=e.metaKey,r=e.shiftKey,n=e.ctrlKey,i=e.altKey,a=e.key,o=e.target;if(!o||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(o)||!a)return null;var s=t||n||i,u=1===a.length;if(!s&&u)return null;var c=bL(o,{maxStringLength:200})||"<unknown>",l=Voe(o,c);return Foe({category:"ui.keyDown",message:c,data:ze(ze({},l.data),{},{metaKey:t,shiftKey:r,ctrlKey:n,altKey:i,key:a})})}(t);r&&_oe(e,r)}}var Woe={resource:function(e){var t=e.entryType,r=e.initiatorType,n=e.name,i=e.responseEnd,a=e.startTime,o=e.decodedBodySize,s=e.encodedBodySize,u=e.responseStatus,c=e.transferSize;if(["fetch","xmlhttprequest"].includes(r))return null;return{type:"".concat(t,".").concat(r),start:Yoe(a),end:Yoe(i),name:n,data:{size:c,statusCode:u,decodedBodySize:o,encodedBodySize:s}}},paint:function(e){var t=e.duration,r=e.entryType,n=e.name,i=Yoe(e.startTime);return{type:r,name:n,start:i,end:i+t,data:void 0}},navigation:function(e){var t=e.entryType,r=e.name,n=e.decodedBodySize,i=e.duration,a=e.domComplete,o=e.encodedBodySize,s=e.domContentLoadedEventStart,u=e.domContentLoadedEventEnd,c=e.domInteractive,l=e.loadEventStart,d=e.loadEventEnd,f=e.redirectCount,h=e.startTime,p=e.transferSize,v=e.type;if(0===i)return null;return{type:"".concat(t,".").concat(v),start:Yoe(h),end:Yoe(a),name:r,data:{size:p,decodedBodySize:n,encodedBodySize:o,duration:i,domInteractive:c,domContentLoadedEventStart:s,domContentLoadedEventEnd:u,loadEventStart:l,loadEventEnd:d,domComplete:a,redirectCount:f}}}};function qoe(e,t){return function(r){var n=r.metric;t.replayPerformanceEntries.push(e(n))}}function zoe(e){var t=Woe[e.entryType];return t?t(e):null}function Yoe(e){return((QL||$ne.performance.timeOrigin)+e)/1e3}function Xoe(e){var t=e.entries[e.entries.length-1];return $oe(e,"largest-contentful-paint",t&&t.element?[t.element]:void 0)}function Koe(e){return void 0!==e.sources}function Joe(e){var t,r=[],n=[],i=T(e.entries);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(Koe(a)){var o,s=[],u=T(a.sources);try{for(u.s();!(o=u.n()).done;){var c=o.value;if(c.node){n.push(c.node);var l=goe.mirror.getId(c.node);l&&s.push(l)}}}catch(jue){u.e(jue)}finally{u.f()}r.push({value:a.value,nodeIds:s.length?s:void 0})}}}catch(jue){i.e(jue)}finally{i.f()}return $oe(e,"cumulative-layout-shift",n,r)}function Zoe(e){var t=e.entries[e.entries.length-1];return $oe(e,"first-input-delay",t&&t.target?[t.target]:void 0)}function Qoe(e){var t=e.entries[e.entries.length-1];return $oe(e,"interaction-to-next-paint",t&&t.target?[t.target]:void 0)}function $oe(e,t,r,n){var i=e.value,a=e.rating,o=Yoe(i);return{type:"web-vital",name:t,start:o,end:o,data:{value:i,size:i,rating:a,nodeIds:r?r.map((function(e){return goe.mirror.getId(e)})):void 0,attributions:n}}}var ese='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(J)return J.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';var tse=function(e){v(r,e);var t=b(r);function r(){return c(this,r),t.call(this,"Event buffer exceeded maximum size of ".concat(sie,"."))}return h(r)}(E(Error)),rse=function(){function e(){c(this,e),this.events=[],this._totalSize=0,this.hasCheckout=!1}return h(e,[{key:"hasEvents",get:function(){return this.events.length>0}},{key:"type",get:function(){return"sync"}},{key:"destroy",value:function(){this.events=[]}},{key:"addEvent",value:function(){var e=Ot(Pt().mark((function e(t){var r;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=JSON.stringify(t).length,this._totalSize+=r,!(this._totalSize>sie)){e.next=4;break}throw new tse;case 4:this.events.push(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"finish",value:function(){var e=this;return new Promise((function(t){var r=e.events;e.clear(),t(JSON.stringify(r))}))}},{key:"clear",value:function(){this.events=[],this._totalSize=0,this.hasCheckout=!1}},{key:"getEarliestTimestamp",value:function(){var e=this.events.map((function(e){return e.timestamp})).sort()[0];return e?woe(e):null}}]),e}(),nse=function(){function e(t){c(this,e),this._worker=t,this._id=0}return h(e,[{key:"ensureReady",value:function(){var e=this;return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((function(t,r){e._worker.addEventListener("message",(function(e){e.data.success?t():r()}),{once:!0}),e._worker.addEventListener("error",(function(e){r(e)}),{once:!0})}))),this._ensureReadyPromise}},{key:"destroy",value:function(){moe&&Eoe.info("Destroying compression worker"),this._worker.terminate()}},{key:"postMessage",value:function(e,t){var r=this,n=this._getAndIncrementId();return new Promise((function(i,a){r._worker.addEventListener("message",(function t(o){var s=o.data;if(s.method===e&&s.id===n){if(r._worker.removeEventListener("message",t),!s.success)return moe&&Eoe.error("Error in compression worker: ",s.response),void a(new Error("Error in compression worker"));i(s.response)}})),r._worker.postMessage({id:n,method:e,arg:t})}))}},{key:"_getAndIncrementId",value:function(){return this._id++}}]),e}(),ise=function(){function e(t){c(this,e),this._worker=new nse(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}return h(e,[{key:"hasEvents",get:function(){return!!this._earliestTimestamp}},{key:"type",get:function(){return"worker"}},{key:"ensureReady",value:function(){return this._worker.ensureReady()}},{key:"destroy",value:function(){this._worker.destroy()}},{key:"addEvent",value:function(e){var t=woe(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);var r=JSON.stringify(e);return this._totalSize+=r.length,this._totalSize>sie?Promise.reject(new tse):this._sendEventToWorker(r)}},{key:"finish",value:function(){return this._finishRequest()}},{key:"clear",value:function(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,(function(e){moe&&Eoe.exception(e,'Sending "clear" message to worker failed',e)}))}},{key:"getEarliestTimestamp",value:function(){return this._earliestTimestamp}},{key:"_sendEventToWorker",value:function(e){return this._worker.postMessage("addEvent",e)}},{key:"_finishRequest",value:function(){var e=Ot(Pt().mark((function e(){var t;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._worker.postMessage("finish");case 2:return t=e.sent,this._earliestTimestamp=null,this._totalSize=0,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ase=function(){function e(t){c(this,e),this._fallback=new rse,this._compression=new ise(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}return h(e,[{key:"type",get:function(){return this._used.type}},{key:"hasEvents",get:function(){return this._used.hasEvents}},{key:"hasCheckout",get:function(){return this._used.hasCheckout},set:function(e){this._used.hasCheckout=e}},{key:"destroy",value:function(){this._fallback.destroy(),this._compression.destroy()}},{key:"clear",value:function(){return this._used.clear()}},{key:"getEarliestTimestamp",value:function(){return this._used.getEarliestTimestamp()}},{key:"addEvent",value:function(e){return this._used.addEvent(e)}},{key:"finish",value:function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureWorkerIsLoaded();case 2:return e.abrupt("return",this._used.finish());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ensureWorkerIsLoaded",value:function(){return this._ensureWorkerIsLoadedPromise}},{key:"_ensureWorkerIsLoaded",value:function(){var e=Ot(Pt().mark((function e(){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._compression.ensureReady();case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),moe&&Eoe.exception(e.t0,"Failed to load the compression worker, falling back to simple buffer"),e.abrupt("return");case 9:return e.next=11,this._switchToCompressionWorker();case 11:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"_switchToCompressionWorker",value:function(){var e=Ot(Pt().mark((function e(){var t,r,n,i,a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this._fallback,r=t.events,n=t.hasCheckout,i=[],a=T(r);try{for(a.s();!(o=a.n()).done;)s=o.value,i.push(this._compression.addEvent(s))}catch(jue){a.e(jue)}finally{a.f()}return this._compression.hasCheckout=n,this._used=this._compression,e.prev=6,e.next=9,Promise.all(i);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),moe&&Eoe.exception(e.t0,"Failed to add events when switching buffers.");case 14:case"end":return e.stop()}}),e,this,[[6,11]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function ose(e){var t=e.useCompression,r=e.workerUrl;if(t&&window.Worker){var n=function(e){try{var t=e||function(){if("undefined"===typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){var e=new Blob([ese]);return URL.createObjectURL(e)}();return""}();if(!t)return;moe&&Eoe.info("Using compression worker".concat(e?" from ".concat(e):""));var r=new Worker(t);return new ase(r)}catch(n){moe&&Eoe.exception(n,"Failed to create compression worker")}}(r);if(n)return n}return moe&&Eoe.info("Using simple buffer"),new rse}function sse(){try{return"sessionStorage"in $ne&&!!$ne.sessionStorage}catch(Nue){return!1}}function use(e){!function(){if(!sse())return;try{$ne.sessionStorage.removeItem(eie)}catch(Nue){}}(),e.session=void 0}function cse(e){return void 0!==e&&Math.random()<e}function lse(e){var t=Date.now();return{id:e.id||GL(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function dse(e){if(sse())try{$ne.sessionStorage.setItem(eie,JSON.stringify(e))}catch(Nue){}}function fse(e){var t=e.sessionSampleRate,r=e.allowBuffering,n=e.stickySession,i=void 0!==n&&n,a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).previousSessionId,o=function(e,t){return cse(e)?"session":!!t&&"buffer"}(t,r),s=lse({sampled:o,previousSessionId:a});return i&&dse(s),s}function hse(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:+new Date;return null===e||void 0===t||t<0||0!==t&&e+t<=r}function pse(e,t){var r=t.maxReplayDuration,n=t.sessionIdleExpire,i=t.targetTime,a=void 0===i?Date.now():i;return hse(e.started,r,a)||hse(e.lastActivity,n,a)}function vse(e,t){return!!pse(e,{sessionIdleExpire:t.sessionIdleExpire,maxReplayDuration:t.maxReplayDuration})&&("buffer"!==e.sampled||0!==e.segmentId)}function gse(e,t){var r=e.sessionIdleExpire,n=e.maxReplayDuration,i=e.previousSessionId,a=t.stickySession&&function(){if(!sse())return null;try{var e=$ne.sessionStorage.getItem(eie);if(!e)return null;var t=JSON.parse(e);return moe&&Eoe.infoTick("Loading existing session"),lse(t)}catch(Nue){return null}}();return a?vse(a,{sessionIdleExpire:r,maxReplayDuration:n})?(moe&&Eoe.infoTick("Session in sessionStorage is expired, creating new one..."),fse(t,{previousSessionId:a.id})):a:(moe&&Eoe.infoTick("Creating new session"),fse(t,{previousSessionId:i}))}function mse(e,t,r){return!!Sse(e,t)&&(yse(e,t,r),!0)}function yse(e,t,r){return bse.apply(this,arguments)}function bse(){return bse=Ot(Pt().mark((function e(t,r,n){var i,a,o,s;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.eventBuffer){e.next=2;break}return e.abrupt("return",null);case 2:if(e.prev=2,n&&"buffer"===t.recordingMode&&t.eventBuffer.clear(),n&&(t.eventBuffer.hasCheckout=!0),i=t.getOptions(),a=Ese(r,i.beforeAddRecordingEvent)){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,t.eventBuffer.addEvent(a);case 11:return e.abrupt("return",e.sent);case 14:return e.prev=14,e.t0=e.catch(2),o=e.t0&&e.t0 instanceof tse?"addEventSizeExceeded":"addEvent",t.handleException(e.t0),e.next=20,t.stop({reason:o});case 20:(s=vj())&&s.recordDroppedEvent("internal_sdk_error","replay");case 22:case"end":return e.stop()}}),e,null,[[2,14]])}))),bse.apply(this,arguments)}function Sse(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;var r=woe(t.timestamp);return!(r+e.timeouts.sessionIdlePause<Date.now())&&(!(r>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(moe&&Eoe.infoTick("Skipping event with timestamp ".concat(r," because it is after maxReplayDuration")),!1))}function Ese(e,t){try{if("function"===typeof t&&function(e){return e.type===kae.Custom}(e))return t(e)}catch(r){return moe&&Eoe.exception(r,"An error occured in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function xse(e){return!e.type}function wse(e){return"transaction"===e.type}function kse(e){return"feedback"===e.type}function _se(e){return function(t,r){if(e.isEnabled()&&(xse(t)||wse(t))){var n=r&&r.statusCode;!n||n<200||n>=300||(wse(t)?function(e,t){var r=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&r.traceIds.size<100&&r.traceIds.add(t.contexts.trace.trace_id)}(e,t):function(e,t){var r=e.getContext();t.event_id&&r.errorIds.size<100&&r.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;var n=e.getOptions(),i=n.beforeErrorSampling;if("function"===typeof i&&!i(t))return;Dte((function(){e.sendBufferedReplayOrFlush()}))}(e,t))}}}function Tse(e){return function(t){e.isEnabled()&&xse(t)&&function(e,t){var r=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if("string"!==typeof r)return;if(r.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||r.match(/(does not match server-rendered HTML|Hydration failed because)/i)){_oe(e,Foe({category:"replay.hydrate-error",data:{url:EL()}}))}}(e,t)}}function Ase(e){var t=vj();t&&t.on("beforeAddBreadcrumb",(function(t){return function(e,t){if(!e.isEnabled()||!Cse(t))return;var r=function(e){if(!Cse(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))return null;if("console"===e.category)return function(e){var t=e.data&&e.data.arguments;if(!Array.isArray(t)||0===t.length)return Foe(e);var r=!1,n=t.map((function(e){if(!e)return e;if("string"===typeof e)return e.length>oie?(r=!0,"".concat(e.slice(0,oie),"\u2026")):e;if("object"===typeof e)try{var t=Aj(e,7);return JSON.stringify(t).length>oie?(r=!0,"".concat(JSON.stringify(t,null,2).slice(0,oie),"\u2026")):t}catch(Nue){}return e}));return Foe(ze(ze({},e),{},{data:ze(ze({},e.data),{},{arguments:n},r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}(e);return Foe(e)}(t);r&&_oe(e,r)}(e,t)}))}function Cse(e){return!!e.category}function Pse(e){return Object.assign((function(t,r){if(!e.isEnabled())return t;if(function(e){return"replay_event"===e.type}(t))return delete t.breadcrumbs,t;if(!xse(t)&&!wse(t)&&!kse(t))return t;if(!e.checkAndHandleExpiredSession())return t;if(kse(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate((function(){return!t.timestamp||(e.throttledAddEvent({type:kae.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)}))}(e,t),t;if(function(e,t){return!(e.type||!e.exception||!e.exception.values||!e.exception.values.length)&&!(!t.originalException||!t.originalException.__rrweb__)}(t,r)&&!e.getOptions()._experiments.captureExceptions)return moe&&Eoe.log("Ignoring error from rrweb internals",t),null;var n=function(e,t){return"buffer"===e.recordingMode&&t.message!==rie&&!(!t.exception||t.type)&&cse(e.getOptions().errorSampleRate)}(e,t);return(n||"session"===e.recordingMode)&&(t.tags=ze(ze({},t.tags),{},{replayId:e.getSessionId()})),t}),{id:"Replay"})}function Ise(e,t){return t.map((function(t){var r=t.type,n=t.start,i=t.end,a=t.name,o=t.data,s=e.throttledAddEvent({type:kae.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:r,description:a,startTimestamp:n,endTimestamp:i,data:o}}});return"string"===typeof s?Promise.resolve(null):s}))}function Ose(e){return function(t){if(e.isEnabled()){var r=function(e){var t=e.from,r=e.to,n=Date.now()/1e3;return{type:"navigation.push",start:n,end:n,name:r,data:{previous:t}}}(t);null!==r&&(e.getContext().urls.push(r.name),e.triggerUserActivity(),e.addUpdate((function(){return Ise(e,[r]),!1})))}}}function Rse(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!moe||!e.getOptions()._experiments.traceInternals)&&Xne(t,vj())}(e,t.name)||e.addUpdate((function(){return Ise(e,[t]),!0})))}function Nse(e){if(e){var t=new TextEncoder;try{if("string"===typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){var r=Gse(e);return t.encode(r).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(Nue){}}}function Lse(e){if(e){var t=parseInt(e,10);return isNaN(t)?void 0:t}}function jse(e){try{if("string"===typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Gse(e)];if(!e)return[void 0]}catch(t){return moe&&Eoe.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return moe&&Eoe.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Mse(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};var r=ze({},e._meta),n=r.warnings||[];return r.warnings=[].concat(u(n),[t]),e._meta=r,e}function Dse(e,t){return t?{type:e,start:t.startTimestamp/1e3,end:t.endTimestamp/1e3,name:t.url,data:UL({method:t.method,statusCode:t.statusCode,request:t.request,response:t.response})}:null}function Fse(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Use(e,t,r){if(t||0!==Object.keys(e).length){if(!t)return{headers:e};if(!r)return{headers:e,size:t};var n={headers:e,size:t},i=function(e){if(!e||"string"!==typeof e)return{body:e};var t=e.length>aie,r=function(e){var t=e[0],r=e[e.length-1];return"["===t&&"]"===r||"{"===t&&"}"===r}(e);if(t){var n=e.slice(0,aie);return r?{body:n,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:"".concat(n,"\u2026"),warnings:["TEXT_TRUNCATED"]}}if(r)try{return{body:JSON.parse(e)}}catch(i){}return{body:e}}(r),a=i.body,o=i.warnings;return n.body=a,o&&o.length>0&&(n._meta={warnings:o}),n}}function Bse(e,t){return Object.entries(e).reduce((function(r,n){var i=k(n,2),a=i[0],o=i[1],s=a.toLowerCase();return t.includes(s)&&e[a]&&(r[s]=o),r}),{})}function Gse(e){return new URLSearchParams(e).toString()}function Vse(e,t){var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$ne.document.baseURI;if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith($ne.location.origin))return e;var r=new URL(e,t);if(r.origin!==new URL(t).origin)return e;var n=r.href;if(!e.endsWith("/")&&n.endsWith("/"))return n.slice(0,-1);return n}(e);return OL(r,t)}function Hse(){return(Hse=Ot(Pt().mark((function e(t,r,n){var i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wse(t,r,n);case 3:i=e.sent,a=Dse("resource.fetch",i),Rse(n.replay,a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),moe&&Eoe.exception(e.t0,"Failed to capture fetch breadcrumb");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Wse(e,t,r){return qse.apply(this,arguments)}function qse(){return(qse=Ot(Pt().mark((function e(t,r,n){var i,a,o,s,u,c,l,d,f,h,p,v,g,m,y;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Date.now(),a=r.startTimestamp,o=void 0===a?i:a,s=r.endTimestamp,u=void 0===s?i:s,c=t.data,l=c.url,d=c.method,f=c.status_code,h=void 0===f?0:f,p=c.request_body_size,v=c.response_body_size,g=Vse(l,n.networkDetailAllowUrls)&&!Vse(l,n.networkDetailDenyUrls),m=g?zse(n,r.input,p):Fse(p),e.next=7,Yse(g,n,r.response,v);case 7:return y=e.sent,e.abrupt("return",{startTimestamp:o,endTimestamp:u,url:l,method:d,statusCode:h,request:m,response:y});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zse(e,t,r){var n=e.networkCaptureBodies,i=e.networkRequestHeaders,a=t?function(e,t){if(1===e.length&&"string"!==typeof e[0])return eue(e[0],t);if(2===e.length)return eue(e[1],t);return{}}(t,i):{};if(!n)return Use(a,r,void 0);var o=k(jse(Qse(t)),2),s=o[0],u=o[1],c=Use(a,r,s);return u?Mse(c,u):c}function Yse(e,t,r,n){return Xse.apply(this,arguments)}function Xse(){return Xse=Ot(Pt().mark((function e(t,r,n,i){var a,o,s,u,c,l,d,f;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.networkCaptureBodies,o=r.networkResponseHeaders,t||void 0===i){e.next=3;break}return e.abrupt("return",Fse(i));case 3:if(s=n?$se(n.headers,o):{},n&&(a||void 0===i)){e.next=6;break}return e.abrupt("return",Use(s,i,void 0));case 6:return e.next=8,Jse(n);case 8:if(u=e.sent,c=k(u,2),l=c[0],d=c[1],f=Kse(l,{networkCaptureBodies:a,responseBodySize:i,captureDetails:t,headers:s}),!d){e.next=15;break}return e.abrupt("return",Mse(f,d));case 15:return e.abrupt("return",f);case 16:case"end":return e.stop()}}),e)}))),Xse.apply(this,arguments)}function Kse(e,t){var r=t.networkCaptureBodies,n=t.responseBodySize,i=t.captureDetails,a=t.headers;try{var o=e&&e.length&&void 0===n?Nse(e):n;return i?Use(a,o,r?e:void 0):Fse(o)}catch(s){return moe&&Eoe.exception(s,"Failed to serialize response body"),Use(a,n,void 0)}}function Jse(e){return Zse.apply(this,arguments)}function Zse(){return(Zse=Ot(Pt().mark((function e(t){var r,n;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tue(t)){e.next=3;break}return e.abrupt("return",[void 0,"BODY_PARSE_ERROR"]);case 3:return e.prev=3,e.next=6,rue(r);case 6:return n=e.sent,e.abrupt("return",[n]);case 10:return e.prev=10,e.t0=e.catch(3),moe&&Eoe.exception(e.t0,"Failed to get text body from response"),e.abrupt("return",[void 0,"BODY_PARSE_ERROR"]);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function Qse(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(2===e.length&&"object"===typeof e[1])return e[1].body}function $se(e,t){var r={};return t.forEach((function(t){e.get(t)&&(r[t]=e.get(t))})),r}function eue(e,t){if(!e)return{};var r=e.headers;return r?r instanceof Headers?$se(r,t):Array.isArray(r)?{}:Bse(r,t):{}}function tue(e){try{return e.clone()}catch(t){moe&&Eoe.exception(t,"Failed to clone response body")}}function rue(e){return new Promise((function(t,r){var n=Dte((function(){return r(new Error("Timeout while trying to read response body"))}),500);(function(e){return nue.apply(this,arguments)})(e).then((function(e){return t(e)}),(function(e){return r(e)})).finally((function(){return clearTimeout(n)}))}))}function nue(){return(nue=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iue(){return(iue=Ot(Pt().mark((function e(t,r,n){var i,a;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{i=oue(t,r,n),a=Dse("resource.xhr",i),Rse(n.replay,a)}catch(o){moe&&Eoe.exception(o,"Failed to capture xhr breadcrumb")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aue(e,t){var r=t.xhr,n=t.input;if(r){var i=Nse(n),a=r.getResponseHeader("content-length")?Lse(r.getResponseHeader("content-length")):function(e,t){try{return Nse("json"===t&&e&&"object"===typeof e?JSON.stringify(e):e)}catch(r){return}}(r.response,r.responseType);void 0!==i&&(e.data.request_body_size=i),void 0!==a&&(e.data.response_body_size=a)}}function oue(e,t,r){var n=Date.now(),i=t.startTimestamp,a=void 0===i?n:i,o=t.endTimestamp,s=void 0===o?n:o,u=t.input,c=t.xhr,l=e.data,d=l.url,f=l.method,h=l.status_code,p=void 0===h?0:h,v=l.request_body_size,g=l.response_body_size;if(!d)return null;if(!c||!Vse(d,r.networkDetailAllowUrls)||Vse(d,r.networkDetailDenyUrls))return{startTimestamp:a,endTimestamp:s,url:d,method:f,statusCode:p,request:Fse(v),response:Fse(g)};var m=c[Fee],y=m?Bse(m.request_headers,r.networkRequestHeaders):{},b=Bse(function(e){var t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce((function(e,t){var r=k(t.split(": "),2),n=r[0],i=r[1];return i&&(e[n.toLowerCase()]=i),e}),{})}(c),r.networkResponseHeaders),S=k(r.networkCaptureBodies?jse(u):[void 0],2),E=S[0],x=S[1],w=r.networkCaptureBodies?function(e){var t=[];try{return[e.responseText]}catch(Nue){t.push(Nue)}try{return function(e,t){try{if("string"===typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"===typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(r){return moe&&Eoe.exception(r,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return moe&&Eoe.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(Nue){t.push(Nue)}return moe&&Eoe.warn.apply(Eoe,["Failed to get xhr response body"].concat(t)),[void 0]}(c):[void 0],_=k(w,2),T=_[0],A=_[1],C=Use(y,v,E),P=Use(b,g,T);return{startTimestamp:a,endTimestamp:s,url:d,method:f,statusCode:p,request:x?Mse(C,x):C,response:A?Mse(P,A):P}}function sue(e){var t=vj();try{var r=e.getOptions(),n={replay:e,networkDetailAllowUrls:r.networkDetailAllowUrls,networkDetailDenyUrls:r.networkDetailDenyUrls,networkCaptureBodies:r.networkCaptureBodies,networkRequestHeaders:r.networkRequestHeaders,networkResponseHeaders:r.networkResponseHeaders};t&&t.on("beforeAddBreadcrumb",(function(e,t){return function(e,t,r){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return e&&e.xhr}(r)&&(aue(t,r),function(e,t,r){iue.apply(this,arguments)}(t,r,e)),function(e){return"fetch"===e.category}(t)&&function(e){return e&&e.response}(r)&&(function(e,t){var r=t.input,n=t.response,i=Nse(r?Qse(r):void 0),a=n?Lse(n.headers.get("content-length")):void 0;void 0!==i&&(e.data.request_body_size=i),void 0!==a&&(e.data.response_body_size=a)}(t,r),function(e,t,r){Hse.apply(this,arguments)}(t,r,e))}catch(Nue){moe&&Eoe.exception(Nue,"Error when enriching network breadcrumb")}}(n,e,t)}))}catch(i){}}function uue(e){var t=vj();jee(Goe(e)),G9(Ose(e)),Ase(e),sue(e),function(e){hj().addEventProcessor(e)}(Pse(e)),t&&(t.on("beforeSendEvent",Tse(e)),t.on("afterSendEvent",_se(e)),t.on("createDsc",(function(t){var r=e.getSessionId();r&&e.isEnabled()&&"session"===e.recordingMode&&(e.checkAndHandleExpiredSession()&&(t.replay_id=r))})),t.on("spanStart",(function(t){e.lastActiveSpan=t})),t.on("spanEnd",(function(t){e.lastActiveSpan=t})),t.on("beforeSendFeedback",(function(t,r){var n=e.getSessionId();r&&r.includeReplay&&e.isEnabled()&&n&&t.contexts&&t.contexts.feedback&&(t.contexts.feedback.replay_id=n)})))}function cue(e){return lue.apply(this,arguments)}function lue(){return(lue=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",Promise.all(Ise(t,[due($ne.performance.memory)])));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",[]);case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function due(e){var t=e.jsHeapSizeLimit,r=e.totalJSHeapSize,n=e.usedJSHeapSize,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:r,usedJSHeapSize:n}}}}function fue(e){var t=!1;return function(r,n){if(e.checkAndHandleExpiredSession()){var i=n||!t;t=!0,e.clickDetector&&Doe(e.clickDetector,r),e.addUpdate((function(){if("buffer"===e.recordingMode&&i&&e.setInitialState(),!mse(e,r,i))return!0;if(!i)return!1;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;mse(e,function(e){var t=e.getOptions();return{type:kae.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,i),e.session&&e.session.previousSessionId)return!0;if("buffer"===e.recordingMode&&e.session&&e.eventBuffer){var t=e.eventBuffer.getEarliestTimestamp();t&&(moe&&Eoe.info("Updating session start time to earliest event in buffer to ".concat(new Date(t))),e.session.started=t,e.getOptions().stickySession&&dse(e.session))}return"session"===e.recordingMode&&e.flush(),!0}))}else moe&&Eoe.warn("Received replay event after session expired.")}}function hue(e,t,r,n){return X9(iee(e,nee(e),n,r),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"===typeof t?(new TextEncoder).encode(t).length:t.length},t]])}function pue(e){var t,r=e.recordingData,n=e.headers,i="".concat(JSON.stringify(n),"\n");if("string"===typeof r)t="".concat(i).concat(r);else{var a=(new TextEncoder).encode(i);(t=new Uint8Array(a.length+r.length)).set(a),t.set(r,a.length)}return t}function vue(e){return gue.apply(this,arguments)}function gue(){return gue=Ot(Pt().mark((function e(t){var r,n,i,a,o,s,u,c,l,d,f;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.client,n=t.scope,i=t.replayId,a=t.event,o="object"!==typeof r._integrations||null===r._integrations||Array.isArray(r._integrations)?void 0:Object.keys(r._integrations),s={event_id:i,integrations:o},r.emit("preprocessEvent",a,s),e.next=6,AM(r.getOptions(),a,s,n,r,hj());case 6:if(u=e.sent){e.next=9;break}return e.abrupt("return",null);case 9:return u.platform=u.platform||"javascript",c=r.getSdkMetadata(),l=c&&c.sdk||{},d=l.name,f=l.version,u.sdk=ze(ze({},u.sdk),{},{name:d||"sentry.javascript.unknown",version:f||"0.0.0"}),e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),gue.apply(this,arguments)}function mue(e){return yue.apply(this,arguments)}function yue(){return yue=Ot(Pt().mark((function e(t){var r,n,i,a,o,s,u,c,l,d,f,h,p,v,g,m,y,b,S,E,x;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.recordingData,n=t.replayId,i=t.segmentId,a=t.eventContext,o=t.timestamp,s=t.session,u=pue({recordingData:r,headers:{segment_id:i}}),c=a.urls,l=a.errorIds,d=a.traceIds,f=a.initialTimestamp,h=vj(),p=fj(),v=h&&h.getTransport(),g=h&&h.getDsn(),h&&v&&g&&s.sampled){e.next=9;break}return e.abrupt("return",Ij({}));case 9:return m={type:tie,replay_start_timestamp:f/1e3,timestamp:o/1e3,error_ids:l,trace_ids:d,urls:c,replay_id:n,segment_id:i,replay_type:s.sampled},e.next=12,vue({scope:p,client:h,replayId:n,event:m});case 12:if(y=e.sent){e.next=17;break}return h.recordDroppedEvent("event_processor","replay",m),moe&&Eoe.info("An event processor returned `null`, will not send event."),e.abrupt("return",Ij({}));case 17:return delete y.sdkProcessingMetadata,b=hue(y,u,g,h.getOptions().tunnel),e.prev=19,e.next=22,v.send(b);case 22:S=e.sent,e.next=30;break;case 25:e.prev=25,e.t0=e.catch(19),E=new Error(rie);try{E.cause=e.t0}catch(Nue){}throw E;case 30:if("number"!==typeof S.statusCode||!(S.statusCode<200||S.statusCode>=300)){e.next=32;break}throw new bue(S.statusCode);case 32:if(!Bte(x=Gte({},S),"replay")){e.next=35;break}throw new Sue(x);case 35:return e.abrupt("return",S);case 36:case"end":return e.stop()}}),e,null,[[19,25]])}))),yue.apply(this,arguments)}var bue=function(e){v(r,e);var t=b(r);function r(e){return c(this,r),t.call(this,"Transport returned status code ".concat(e))}return h(r)}(E(Error)),Sue=function(e){v(r,e);var t=b(r);function r(e){var n;return c(this,r),(n=t.call(this,"Rate limit hit")).rateLimits=e,n}return h(r)}(E(Error));function Eue(e){return xue.apply(this,arguments)}function xue(){return xue=Ot(Pt().mark((function e(t){var r,n,i,a,o=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{count:0,interval:nie},n=t.recordingData,i=t.options,n.length){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,mue(t);case 7:return e.abrupt("return",!0);case 10:if(e.prev=10,e.t0=e.catch(4),!(e.t0 instanceof bue||e.t0 instanceof Sue)){e.next=14;break}throw e.t0;case 14:if(NM("Replays",{_retryCount:r.count}),moe&&i._experiments&&i._experiments.captureExceptions&&OM(e.t0),!(r.count>=iie)){e.next=20;break}a=new Error("".concat(rie," - max retries exceeded"));try{a.cause=e.t0}catch(Nue){}throw a;case 20:return r.interval*=++r.count,e.abrupt("return",new Promise((function(e,n){Dte(Ot(Pt().mark((function i(){return Pt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Eue(t,r);case 3:e(!0),i.next=9;break;case 6:i.prev=6,i.t0=i.catch(0),n(i.t0);case 9:case"end":return i.stop()}}),i,null,[[0,6]])}))),r.interval)})));case 22:case"end":return e.stop()}}),e,null,[[4,10]])}))),xue.apply(this,arguments)}var wue="__THROTTLED";function kue(e,t,r){var n=new Map,i=!1;return function(){var a=Math.floor(Date.now()/1e3);if(function(e){var t=e-r;n.forEach((function(e,r){r<t&&n.delete(r)}))}(a),u(n.values()).reduce((function(e,t){return e+t}),0)>=t){var o=i;return i=!0,o?"__SKIPPED":wue}i=!1;var s=n.get(a)||0;return n.set(a,s+1),e.apply(void 0,arguments)}}var _ue=function(){function e(t){var r=this,n=t.options,i=t.recordingOptions;c(this,e),e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),e.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=i,this._options=n,this._debouncedFlush=function(e,t,r){var n,i,a,o=r&&r.maxWait?Math.max(r.maxWait,t):0;function s(){return u(),n=e()}function u(){void 0!==i&&clearTimeout(i),void 0!==a&&clearTimeout(a),i=a=void 0}function c(){return i&&clearTimeout(i),i=Dte(s,t),o&&void 0===a&&(a=Dte(s,o)),n}return c.cancel=u,c.flush=function(){return void 0!==i||void 0!==a?s():n},c}((function(){return r._flush()}),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=kue((function(e,t){return function(e,t,r){return Sse(e,t)?yse(e,t,r):Promise.resolve(null)}(r,e,t)}),300,5);var a=this.getOptions(),o=a.slowClickTimeout,s=a.slowClickIgnoreSelectors,u=o?{threshold:Math.min(3e3,o),timeout:o,scrollTimeout:300,ignoreSelector:s?s.join(","):""}:void 0;if(u&&(this.clickDetector=new Loe(this,u)),moe){var l=n._experiments;Eoe.setConfig({captureExceptions:!!l.captureExceptions,traceInternals:!!l.traceInternals})}}return h(e,[{key:"getContext",value:function(){return this._context}},{key:"isEnabled",value:function(){return this._isEnabled}},{key:"isPaused",value:function(){return this._isPaused}},{key:"isRecordingCanvas",value:function(){return Boolean(this._canvas)}},{key:"getOptions",value:function(){return this._options}},{key:"handleException",value:function(e){moe&&Eoe.exception(e)}},{key:"initializeSampling",value:function(e){var t=this._options,r=t.errorSampleRate,n=t.sessionSampleRate,i=r<=0&&n<=0;this._requiresManualStart=i,i||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",moe&&Eoe.infoTick("Starting replay in ".concat(this.recordingMode," mode")),this._initializeRecording()):moe&&Eoe.exception(new Error("Unable to initialize and create session")))}},{key:"start",value:function(){if(this._isEnabled&&"session"===this.recordingMode)moe&&Eoe.info("Recording is already in progress");else if(this._isEnabled&&"buffer"===this.recordingMode)moe&&Eoe.info("Buffering is in progress, call `flush()` to save the replay");else{moe&&Eoe.infoTick("Starting replay in session mode"),this._updateUserActivity();var e=gse({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}}},{key:"startBuffering",value:function(){if(this._isEnabled)moe&&Eoe.info("Buffering is in progress, call `flush()` to save the replay");else{moe&&Eoe.infoTick("Starting replay in buffer mode");var e=gse({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}}},{key:"startRecording",value:function(){try{var e=this._canvas;this._stopRecording=goe(ze(ze(ze({},this._recordingOptions),"buffer"===this.recordingMode&&{checkoutEveryNms:6e4}),{},{emit:fue(this),onMutation:this._onMutationHandler},e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}))}catch(jue){this.handleException(jue)}}},{key:"stopRecording",value:function(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(jue){return this.handleException(jue),!1}}},{key:"stop",value:function(){var e=Ot(Pt().mark((function e(){var t,r,n,i,a=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(t=a.length>0&&void 0!==a[0]?a[0]:{}).forceFlush,n=void 0!==r&&r,i=t.reason,this._isEnabled){e.next=3;break}return e.abrupt("return");case 3:if(this._isEnabled=!1,e.prev=4,moe&&Eoe.info("Stopping Replay".concat(i?" triggered by ".concat(i):"")),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),!n){e.next=12;break}return e.next=12,this._flush({force:!0});case 12:this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,use(this),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),this.handleException(e.t0);case 20:case"end":return e.stop()}}),e,this,[[4,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"pause",value:function(){this._isPaused||(this._isPaused=!0,this.stopRecording(),moe&&Eoe.info("Pausing replay"))}},{key:"resume",value:function(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),moe&&Eoe.info("Resuming replay"))}},{key:"sendBufferedReplayOrFlush",value:function(){var e=Ot(Pt().mark((function e(){var t,r,n,i,a=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(a.length>0&&void 0!==a[0]?a[0]:{}).continueRecording,r=void 0===t||t,"session"!==this.recordingMode){e.next=3;break}return e.abrupt("return",this.flushImmediate());case 3:return n=Date.now(),moe&&Eoe.info("Converting buffer to session"),e.next=7,this.flushImmediate();case 7:if(i=this.stopRecording(),r&&i){e.next=10;break}return e.abrupt("return");case 10:if("session"!==this.recordingMode){e.next=12;break}return e.abrupt("return");case 12:this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording();case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addUpdate",value:function(e){var t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}},{key:"triggerUserActivity",value:function(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}},{key:"updateUserActivity",value:function(){this._updateUserActivity(),this._updateSessionActivity()}},{key:"conditionalFlush",value:function(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}},{key:"flush",value:function(){return this._debouncedFlush()}},{key:"flushImmediate",value:function(){return this._debouncedFlush(),this._debouncedFlush.flush()}},{key:"cancelFlush",value:function(){this._debouncedFlush.cancel()}},{key:"getSessionId",value:function(){return this.session&&this.session.id}},{key:"checkAndHandleExpiredSession",value:function(){if(!(this._lastActivity&&hse(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}},{key:"setInitialState",value:function(){var e="".concat($ne.location.pathname).concat($ne.location.hash).concat($ne.location.search),t="".concat($ne.location.origin).concat(e);this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}},{key:"throttledAddEvent",value:function(e,t){var r=this,n=this._throttledAddEvent(e,t);if(n===wue){var i=Foe({category:"replay.throttled"});this.addUpdate((function(){return!mse(r,{type:5,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}})}))}return n}},{key:"getCurrentRoute",value:function(){var e=this.lastActiveSpan||bM(),t=e&&yM(e),r=(t&&dM(t).data||{})[Vj];if(t&&r&&["route","custom"].includes(r))return dM(t).description}},{key:"_initializeRecording",value:function(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=ose({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}},{key:"_initializeSessionForSampling",value:function(e){var t=this._options.errorSampleRate>0,r=gse({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=r}},{key:"_checkSession",value:function(){if(!this.session)return!1;var e=this.session;return!vse(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}},{key:"_refreshSession",value:function(){var e=Ot(Pt().mark((function e(t){return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isEnabled){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.stop({reason:"refresh session"});case 4:this.initializeSampling(t.id);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListeners",value:function(){try{$ne.document.addEventListener("visibilitychange",this._handleVisibilityChange),$ne.addEventListener("blur",this._handleWindowBlur),$ne.addEventListener("focus",this._handleWindowFocus),$ne.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(uue(this),this._hasInitializedCoreListeners=!0)}catch(jue){this.handleException(jue)}this._performanceCleanupCallback=function(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function r(e){e.entries.forEach(t)}var n=[];return["navigation","paint","resource"].forEach((function(e){n.push(tne(e,r))})),n.push(Qre(qoe(Xoe,e)),Zre(qoe(Joe,e)),$re(qoe(Zoe,e)),ene(qoe(Qoe,e))),function(){n.forEach((function(e){return e()}))}}(this)}},{key:"_removeListeners",value:function(){try{$ne.document.removeEventListener("visibilitychange",this._handleVisibilityChange),$ne.removeEventListener("blur",this._handleWindowBlur),$ne.removeEventListener("focus",this._handleWindowFocus),$ne.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(jue){this.handleException(jue)}}},{key:"__init",value:function(){var e=this;this._handleVisibilityChange=function(){"visible"===$ne.document.visibilityState?e._doChangeToForegroundTasks():e._doChangeToBackgroundTasks()}}},{key:"__init2",value:function(){var e=this;this._handleWindowBlur=function(){var t=Foe({category:"ui.blur"});e._doChangeToBackgroundTasks(t)}}},{key:"__init3",value:function(){var e=this;this._handleWindowFocus=function(){var t=Foe({category:"ui.focus"});e._doChangeToForegroundTasks(t)}}},{key:"__init4",value:function(){var e=this;this._handleKeyboardEvent=function(t){Hoe(e,t)}}},{key:"_doChangeToBackgroundTasks",value:function(e){this.session&&(pse(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush()))}},{key:"_doChangeToForegroundTasks",value:function(e){this.session&&(this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):moe&&Eoe.info("Document has become active, but session has expired"))}},{key:"_updateUserActivity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastActivity=e}},{key:"_updateSessionActivity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}},{key:"_createCustomBreadcrumb",value:function(e){var t=this;this.addUpdate((function(){t.throttledAddEvent({type:kae.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})}))}},{key:"_addPerformanceEntries",value:function(){var e,t=(e=this.performanceEntries,e.map(zoe).filter(Boolean)).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Ise(this,t))}},{key:"_clearContext",value:function(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}},{key:"_updateInitialTimestampFromEventBuffer",value:function(){var e=this.session,t=this.eventBuffer;if(e&&t&&!this._requiresManualStart&&!e.segmentId){var r=t.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}}},{key:"_popEventContext",value:function(){var e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}},{key:"_runFlush",value:function(){var e=Ot(Pt().mark((function e(){var t,r,n,i,a,o;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getSessionId(),this.session&&this.eventBuffer&&t){e.next=4;break}return moe&&Eoe.error("No session or eventBuffer found to flush."),e.abrupt("return");case 4:return e.next=6,this._addPerformanceEntries();case 6:if(this.eventBuffer&&this.eventBuffer.hasEvents){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,cue(this);case 10:if(this.eventBuffer){e.next=12;break}return e.abrupt("return");case 12:if(t===this.getSessionId()){e.next=14;break}return e.abrupt("return");case 14:if(e.prev=14,this._updateInitialTimestampFromEventBuffer(),!((r=Date.now())-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)){e.next=19;break}throw new Error("Session is too long, not sending replay");case 19:return n=this._popEventContext(),i=this.session.segmentId++,this._maybeSaveSession(),e.next=24,this.eventBuffer.finish();case 24:return a=e.sent,e.next=27,Eue({replayId:t,recordingData:a,segmentId:i,eventContext:n,session:this.session,options:this.getOptions(),timestamp:r});case 27:e.next=35;break;case 29:e.prev=29,e.t0=e.catch(14),this.handleException(e.t0),this.stop({reason:"sendReplay"}),(o=vj())&&o.recordDroppedEvent("send_error","replay");case 35:case"end":return e.stop()}}),e,this,[[14,29]])})));return function(){return e.apply(this,arguments)}}()},{key:"__init5",value:function(){var e=this;this._flush=Ot(Pt().mark((function t(){var r,n,i,a,o,s,u,c,l=arguments;return Pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(l.length>0&&void 0!==l[0]?l[0]:{}).force,n=void 0!==r&&r,e._isEnabled||n){t.next=3;break}return t.abrupt("return");case 3:if(e.checkAndHandleExpiredSession()){t.next=6;break}return moe&&Eoe.error("Attempting to finish replay event after session expired."),t.abrupt("return");case 6:if(e.session){t.next=8;break}return t.abrupt("return");case 8:if(i=e.session.started,a=Date.now(),o=a-i,e._debouncedFlush.cancel(),s=o<e._options.minReplayDuration,u=o>e._options.maxReplayDuration+5e3,!s&&!u){t.next=18;break}return moe&&Eoe.info("Session duration (".concat(Math.floor(o/1e3),"s) is too ").concat(s?"short":"long",", not sending replay.")),s&&e._debouncedFlush(),t.abrupt("return");case 18:if((c=e.eventBuffer)&&0===e.session.segmentId&&!c.hasCheckout&&moe&&Eoe.info("Flushing initial segment without checkout."),e._flushLock){t.next=26;break}return e._flushLock=e._runFlush(),t.next=24,e._flushLock;case 24:return e._flushLock=void 0,t.abrupt("return");case 26:return t.prev=26,t.next=29,e._flushLock;case 29:t.next=34;break;case 31:t.prev=31,t.t0=t.catch(26),moe&&Eoe.error(t.t0);case 34:return t.prev=34,e._debouncedFlush(),t.finish(34);case 37:case"end":return t.stop()}}),t,null,[[26,31,34,37]])})))}},{key:"_maybeSaveSession",value:function(){this.session&&this._options.stickySession&&dse(this.session)}},{key:"__init6",value:function(){var e=this;this._onMutationHandler=function(t){var r=t.length,n=e._options.mutationLimit,i=n&&r>n;if(r>e._options.mutationBreadcrumbLimit||i){var a=Foe({category:"replay.mutations",data:{count:r,limit:i}});e._createCustomBreadcrumb(a)}return!i||(e.stop({reason:"mutationLimit",forceFlush:"session"===e.recordingMode}),!1)}}}]),e}();function Tue(e,t){return[].concat(u(e),u(t)).join(",")}var Aue,Cue='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Pue=["content-length","content-type","accept"],Iue=!1,Oue=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.flushMinDelay,n=void 0===r?5e3:r,i=t.flushMaxDelay,a=void 0===i?5500:i,o=t.minReplayDuration,s=void 0===o?4999:o,u=t.maxReplayDuration,l=void 0===u?uie:u,d=t.stickySession,f=void 0===d||d,h=t.useCompression,p=void 0===h||h,v=t.workerUrl,g=t._experiments,m=void 0===g?{}:g,y=t.maskAllText,b=void 0===y||y,S=t.maskAllInputs,E=void 0===S||S,x=t.blockAllMedia,w=void 0===x||x,k=t.mutationBreadcrumbLimit,_=void 0===k?750:k,T=t.mutationLimit,A=void 0===T?1e4:T,C=t.slowClickTimeout,P=void 0===C?7e3:C,I=t.slowClickIgnoreSelectors,O=void 0===I?[]:I,R=t.networkDetailAllowUrls,N=void 0===R?[]:R,L=t.networkDetailDenyUrls,j=void 0===L?[]:L,M=t.networkCaptureBodies,D=void 0===M||M,F=t.networkRequestHeaders,U=void 0===F?[]:F,B=t.networkResponseHeaders,G=void 0===B?[]:B,V=t.mask,H=void 0===V?[]:V,W=t.maskAttributes,q=void 0===W?["title","placeholder"]:W,z=t.unmask,Y=void 0===z?[]:z,X=t.block,K=void 0===X?[]:X,J=t.unblock,Z=void 0===J?[]:J,Q=t.ignore,$=void 0===Q?[]:Q,ee=t.maskFn,te=t.beforeAddRecordingEvent,re=t.beforeErrorSampling;c(this,e),this.name=e.id;var ne=function(e){var t=e.mask,r=e.unmask,n=e.block,i=e.unblock,a=e.ignore;return{maskTextSelector:Tue(t,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:Tue(r,[]),blockSelector:Tue(n,[".sentry-block","[data-sentry-block]"].concat(['base[href="/"]'])),unblockSelector:Tue(i,[]),ignoreSelector:Tue(a,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:H,unmask:Y,block:K,unblock:Z,ignore:$});if(this._recordingOptions=ze(ze({maskAllInputs:E,maskAllText:b,maskInputOptions:{password:!0},maskTextFn:ee,maskInputFn:ee,maskAttributeFn:function(e,t,r){return function(e){var t=e.el,r=e.key,n=e.maskAttributes,i=e.maskAllText,a=e.privacyOptions,o=e.value;return i?a.unmaskTextSelector&&t.matches(a.unmaskTextSelector)?o:n.includes(r)||"value"===r&&"INPUT"===t.tagName&&["submit","button"].includes(t.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o:o}({maskAttributes:q,maskAllText:b,privacyOptions:ne,key:e,value:t,el:r})}},ne),{},{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:function(e){try{e.__rrweb__=!0}catch(t){}}}),this._initialOptions={flushMinDelay:n,flushMaxDelay:a,minReplayDuration:Math.min(s,15e3),maxReplayDuration:Math.min(l,uie),stickySession:f,useCompression:p,workerUrl:v,blockAllMedia:w,maskAllInputs:E,maskAllText:b,mutationBreadcrumbLimit:_,mutationLimit:A,slowClickTimeout:P,slowClickIgnoreSelectors:O,networkDetailAllowUrls:N,networkDetailDenyUrls:j,networkCaptureBodies:D,networkRequestHeaders:Rue(U),networkResponseHeaders:Rue(G),beforeAddRecordingEvent:te,beforeErrorSampling:re,_experiments:m},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?"".concat(this._recordingOptions.blockSelector,",").concat(Cue):Cue),this._isInitialized&&Zne())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}return h(e,[{key:"_isInitialized",get:function(){return Iue},set:function(e){Iue=e}},{key:"afterAllSetup",value:function(e){Zne()&&!this._replay&&(this._setup(e),this._initialize(e))}},{key:"start",value:function(){this._replay&&this._replay.start()}},{key:"startBuffering",value:function(){this._replay&&this._replay.startBuffering()}},{key:"stop",value:function(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}},{key:"flush",value:function(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}},{key:"getReplayId",value:function(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}},{key:"_initialize",value:function(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}},{key:"_setup",value:function(e){var t=function(e,t){var r=t.getOptions(),n=ze({sessionSampleRate:0,errorSampleRate:0},UL(e)),i=dee(r.replaysSessionSampleRate),a=dee(r.replaysOnErrorSampleRate);null==i&&null==a&&TL((function(){console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}));null!=i&&(n.sessionSampleRate=i);null!=a&&(n.errorSampleRate=a);return n}(this._initialOptions,e);this._replay=new _ue({options:t,recordingOptions:this._recordingOptions})}},{key:"_maybeLoadFromReplayCanvasIntegration",value:function(e){try{var t=e.getIntegrationByName("ReplayCanvas");if(!t)return;this._replay._canvas=t.getOptions()}catch(Nue){}}}],[{key:"__initStatic",value:function(){this.id="Replay"}}]),e}();function Rue(e){return[].concat(Pue,u(e.map((function(e){return e.toLowerCase()}))))}Oue.__initStatic(),function(e){var r=ze({},e);H9(r,"react"),NM("react",{version:t.version}),qte(r)}({dsn:"https://c32f2e9e19c5b8868964f508ad479d9e@o4507981923090432.ingest.us.sentry.io/4507981930889216",integrations:[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Mne||(Mne=!0,lte(Dne),hte(Dne));var t=ze(ze({},zne),e),r=t.enableInp,n=t.enableLongTask,i=t.enableLongAnimationFrame,a=t._experiments,o=a.enableInteractions,s=a.enableStandaloneClsSpans,u=t.beforeStartSpan,c=t.idleTimeout,l=t.finalTimeout,d=t.childSpanTimeout,f=t.markBackgroundSpan,h=t.traceFetch,p=t.traceXHR,v=t.shouldCreateSpanForRequest,g=t.enableHTTPTimings,m=t.instrumentPageLoad,y=t.instrumentNavigation,b=xne({recordClsStandaloneSpans:s||!1});r&&Cne(),i&&eL.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?new PerformanceObserver((function(e){if(bM()){var t,r=T(e.getEntries());try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.scripts[0]){var i=vne(QL+n.startTime),a=vne(n.duration),o=We({},qj,"auto.ui.browser.metrics"),s=n.scripts[0],u=s.invoker,c=s.invokerType,l=s.sourceURL,d=s.sourceFunctionName,f=s.sourceCharPosition;o["browser.script.invoker"]=u,o["browser.script.invoker_type"]=c,l&&(o["code.filepath"]=l),d&&(o["code.function"]=d),-1!==f&&(o["browser.script.source_char_position"]=f);var h=nre({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:i,attributes:o});h&&h.end(i+a)}}}catch(jue){r.e(jue)}finally{r.f()}}})).observe({type:"long-animation-frame",buffered:!0}):n&&tne("longtask",(function(e){var t=e.entries;if(bM()){var r,n=T(t);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=vne(QL+i.startTime),o=vne(i.duration),s=nre({name:"Main UI thread blocked",op:"ui.long-task",startTime:a,attributes:We({},qj,"auto.ui.browser.metrics")});s&&s.end(a+o)}}catch(jue){n.e(jue)}finally{n.f()}}})),o&&tne("event",(function(e){var t=e.entries;if(bM()){var r,n=T(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;if("click"===i.name){var a=vne(QL+i.startTime),o=vne(i.duration),s={name:bL(i.target),op:"ui.interaction.".concat(i.name),startTime:a,attributes:We({},qj,"auto.ui.browser.metrics")},u=xL(i.target);u&&(s.attributes["ui.component_name"]=u);var c=nre(s);c&&c.end(a+o)}}}catch(jue){n.e(jue)}finally{n.f()}}}));var S={name:void 0,source:void 0};function E(e,t){var r="pageload"===t.op,n=u?u(t):t,i=n.attributes||{};t.name!==n.name&&(i[Vj]="custom",n.attributes=i),S.name=n.name,S.source=i[Vj];var a=jne(n,{idleTimeout:c,finalTimeout:l,childSpanTimeout:d,disableAutoFinish:r,beforeSpanEnd:function(e){b(),wne(e,{recordClsOnPageloadSpan:!s})}});function o(){["interactive","complete"].includes(Tee.document.readyState)&&e.emit("idleSpanEnableAutoFinish",a)}return r&&Tee.document&&(Tee.document.addEventListener("readystatechange",(function(){o()})),o()),a}return{name:"BrowserTracing",afterAllSetup:function(e){var t,n=Tee.location&&Tee.location.href;if(e.on("startNavigationSpan",(function(r){vj()===e&&(t&&!dM(t).timestamp&&(gee&&AL.log("[Tracing] Finishing current root span with op: ".concat(dM(t).op)),t.end()),t=E(e,ze({op:"navigation"},r)))})),e.on("startPageLoadSpan",(function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(vj()===e){t&&!dM(t).timestamp&&(gee&&AL.log("[Tracing] Finishing current root span with op: ".concat(dM(t).op)),t.end());var i=Zj(n.sentryTrace||Yne("sentry-trace"),n.baggage||Yne("baggage"));fj().setPropagationContext(i),t=E(e,ze({op:"pageload"},r))}})),e.on("spanEnd",(function(e){var t=dM(e).op;if(e===yM(e)&&("navigation"===t||"pageload"===t)){var r=fj(),n=r.getPropagationContext();r.setPropagationContext(ze(ze({},n),{},{sampled:void 0!==n.sampled?n.sampled:fM(e),dsc:n.dsc||wM(e)}))}})),Tee.location){var i;if(m)!function(e,t,r){e.emit("startPageLoadSpan",t,r),fj().setTransactionName(t.name);var n=bM();n&&dM(n).op}(e,{name:Tee.location.pathname,startTime:QL?QL/1e3:void 0,attributes:(i={},We(i,Vj,"url"),We(i,qj,"auto.pageload.browser"),i)});y&&G9((function(t){var r,i=t.to,a=t.from;void 0===a&&n&&-1!==n.indexOf(i)?n=void 0:a!==i&&(n=void 0,function(e,t){hj().setPropagationContext(XL()),fj().setPropagationContext(XL()),e.emit("startNavigationSpan",t),fj().setTransactionName(t.name);var r=bM();r&&dM(r).op}(e,{name:Tee.location.pathname,attributes:(r={},We(r,Vj,"url"),We(r,qj,"auto.navigation.browser"),r)}))}))}f&&(Tee&&Tee.document?Tee.document.addEventListener("visibilitychange",(function(){var e=bM();if(e){var t=yM(e);if(Tee.document.hidden&&t){var r="cancelled",n=dM(t),i=n.op,a=n.status;gee&&AL.log("[Tracing] Transaction: ".concat(r," -> since tab moved to the background, op: ").concat(i)),a||t.setStatus({code:nM,message:r}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}})):gee&&AL.warn("[Tracing] Could not set up background tab detection due to lack of global document")),o&&function(e,t,r,n){var i,a=function(){var a="ui.action.click",o=bM(),s=o&&yM(o);if(s){var u=dM(s).op;if(["navigation","pageload"].includes(u))return void(gee&&AL.warn("[Tracing] Did not create ".concat(a," span because a pageload or navigation span is in progress.")))}i&&(i.setAttribute(zj,"interactionInterrupted"),i.end(),i=void 0),n.name?i=jne({name:n.name,op:a,attributes:We({},Vj,n.source||"url")},{idleTimeout:e,finalTimeout:t,childSpanTimeout:r}):gee&&AL.warn("[Tracing] Did not create ".concat(a," transaction because _latestRouteName is missing."))};Tee.document&&addEventListener("click",a,{once:!1,capture:!0})}(c,l,d,S),r&&function(e){var t=function(e){var t=e.entries,r=bM(),n=r&&yM(r);t.forEach((function(e){if(function(e){return"duration"in e}(e)&&n){var t=e.interactionId;if(null!=t&&!Ane.has(t)){if(Tne.length>10){var r=Tne.shift();Ane.delete(r)}Tne.push(t),Ane.set(t,n)}}}))};tne("event",t),tne("first-input",t)}(),Vne(e,{traceFetch:h,traceXHR:p,tracePropagationTargets:e.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:v,enableHTTPTimings:g})}}}(),new Oue(Aue)],tracesSampleRate:1,replaysSessionSampleRate:Ix===Sn.ConfigT.Environment.LOCAL?1:.001,replaysOnErrorSampleRate:1}),function(){if("function"===typeof Node&&Node.prototype){var e=Node.prototype.removeChild;Node.prototype.removeChild=function(t){return t.parentNode!==this?(console&&console.error("Cannot remove a child from a different parent",t,this),t):e.apply(this,arguments)};var t=Node.prototype.insertBefore;Node.prototype.insertBefore=function(e,r){return r&&r.parentNode!==this?(console&&console.error("Cannot insert before a reference node from a different parent",r,this),e):t.apply(this,arguments)}}}(),Sn.CaptionC.FONT_NAMES.forEach((function(e){if("Verdana"!==e)try{p9().load({google:{families:[e]}})}catch(jue){console.error(jue)}})),i.createRoot(document.getElementById("root")).render((0,uw.jsx)(t.StrictMode,{children:(0,uw.jsx)(HD,{children:(0,uw.jsx)(Ka,{store:DD,children:(0,uw.jsx)(f9,{children:(0,uw.jsx)(o9,{})})})})}))}()}();
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="4d2ed462-40b9-5e5c-85eb-1372084f1ed6")}catch(e){}}();
//# debugId=4d2ed462-40b9-5e5c-85eb-1372084f1ed6
